var OV=Object.defineProperty;var ZE=e=>{throw TypeError(e)};var PV=(e,t,r)=>t in e?OV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var da=(e,t,r)=>PV(e,typeof t!="symbol"?t+"":t,r),gk=(e,t,r)=>t.has(e)||ZE("Cannot "+r);var Oe=(e,t,r)=>(gk(e,t,"read from private field"),r?r.call(e):t.get(e)),sr=(e,t,r)=>t.has(e)?ZE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ot=(e,t,r,a)=>(gk(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),zr=(e,t,r)=>(gk(e,t,"access private method"),r);var _y=(e,t,r,a)=>({set _(n){Ot(e,t,n,r)},get _(){return Oe(e,t,a)}});function dM(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var VAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DV(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),r}var xk={exports:{}},kx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function LV(){if(eC)return kx;eC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,n,i){var s=null;if(i!==void 0&&(s=""+i),n.key!==void 0&&(s=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:a,key:s,ref:n!==void 0?n:null,props:i}}return kx.Fragment=t,kx.jsx=r,kx.jsxs=r,kx}var tC;function MV(){return tC||(tC=1,xk.exports=LV()),xk.exports}var u=MV(),vk={exports:{}},Or={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function RV(){if(rC)return Or;rC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function p(Z){return Z===null||typeof Z!="object"?null:(Z=x&&Z[x]||Z["@@iterator"],typeof Z=="function"?Z:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function k(Z,P,q){this.props=Z,this.context=P,this.refs=b,this.updater=q||y}k.prototype.isReactComponent={},k.prototype.setState=function(Z,P){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,P,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function N(){}N.prototype=k.prototype;function _(Z,P,q){this.props=Z,this.context=P,this.refs=b,this.updater=q||y}var T=_.prototype=new N;T.constructor=_,v(T,k.prototype),T.isPureReactComponent=!0;var L=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function F(Z,P,q){var V=q.ref;return{$$typeof:e,type:Z,key:P,ref:V!==void 0?V:null,props:q}}function W(Z,P){return F(Z.type,P,Z.props)}function O(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function M(Z){var P={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(q){return P[q]})}var H=/\/+/g;function Y(Z,P){return typeof Z=="object"&&Z!==null&&Z.key!=null?M(""+Z.key):P.toString(36)}function ne(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(D,D):(Z.status="pending",Z.then(function(P){Z.status==="pending"&&(Z.status="fulfilled",Z.value=P)},function(P){Z.status==="pending"&&(Z.status="rejected",Z.reason=P)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function X(Z,P,q,V,z){var Q=typeof Z;(Q==="undefined"||Q==="boolean")&&(Z=null);var de=!1;if(Z===null)de=!0;else switch(Q){case"bigint":case"string":case"number":de=!0;break;case"object":switch(Z.$$typeof){case e:case t:de=!0;break;case f:return de=Z._init,X(de(Z._payload),P,q,V,z)}}if(de)return z=z(Z),de=V===""?"."+Y(Z,0):V,L(z)?(q="",de!=null&&(q=de.replace(H,"$&/")+"/"),X(z,P,q,"",function(je){return je})):z!=null&&(O(z)&&(z=W(z,q+(z.key==null||Z&&Z.key===z.key?"":(""+z.key).replace(H,"$&/")+"/")+de)),P.push(z)),1;de=0;var Ee=V===""?".":V+":";if(L(Z))for(var ie=0;ie<Z.length;ie++)V=Z[ie],Q=Ee+Y(V,ie),de+=X(V,P,q,Q,z);else if(ie=p(Z),typeof ie=="function")for(Z=ie.call(Z),ie=0;!(V=Z.next()).done;)V=V.value,Q=Ee+Y(V,ie++),de+=X(V,P,q,Q,z);else if(Q==="object"){if(typeof Z.then=="function")return X(ne(Z),P,q,V,z);throw P=String(Z),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return de}function re(Z,P,q){if(Z==null)return Z;var V=[],z=0;return X(Z,V,"","",function(Q){return P.call(q,Q,z++)}),V}function fe(Z){if(Z._status===-1){var P=Z._result;P=P(),P.then(function(q){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=q)},function(q){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=q)}),Z._status===-1&&(Z._status=0,Z._result=P)}if(Z._status===1)return Z._result.default;throw Z._result}var ce=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},ke={map:re,forEach:function(Z,P,q){re(Z,function(){P.apply(this,arguments)},q)},count:function(Z){var P=0;return re(Z,function(){P++}),P},toArray:function(Z){return re(Z,function(P){return P})||[]},only:function(Z){if(!O(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Or.Activity=m,Or.Children=ke,Or.Component=k,Or.Fragment=r,Or.Profiler=n,Or.PureComponent=_,Or.StrictMode=a,Or.Suspense=c,Or.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Or.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return R.H.useMemoCache(Z)}},Or.cache=function(Z){return function(){return Z.apply(null,arguments)}},Or.cacheSignal=function(){return null},Or.cloneElement=function(Z,P,q){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var V=v({},Z.props),z=Z.key;if(P!=null)for(Q in P.key!==void 0&&(z=""+P.key),P)!U.call(P,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&P.ref===void 0||(V[Q]=P[Q]);var Q=arguments.length-2;if(Q===1)V.children=q;else if(1<Q){for(var de=Array(Q),Ee=0;Ee<Q;Ee++)de[Ee]=arguments[Ee+2];V.children=de}return F(Z.type,z,V)},Or.createContext=function(Z){return Z={$$typeof:s,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:i,_context:Z},Z},Or.createElement=function(Z,P,q){var V,z={},Q=null;if(P!=null)for(V in P.key!==void 0&&(Q=""+P.key),P)U.call(P,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(z[V]=P[V]);var de=arguments.length-2;if(de===1)z.children=q;else if(1<de){for(var Ee=Array(de),ie=0;ie<de;ie++)Ee[ie]=arguments[ie+2];z.children=Ee}if(Z&&Z.defaultProps)for(V in de=Z.defaultProps,de)z[V]===void 0&&(z[V]=de[V]);return F(Z,Q,z)},Or.createRef=function(){return{current:null}},Or.forwardRef=function(Z){return{$$typeof:o,render:Z}},Or.isValidElement=O,Or.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:fe}},Or.memo=function(Z,P){return{$$typeof:d,type:Z,compare:P===void 0?null:P}},Or.startTransition=function(Z){var P=R.T,q={};R.T=q;try{var V=Z(),z=R.S;z!==null&&z(q,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(D,ce)}catch(Q){ce(Q)}finally{P!==null&&q.types!==null&&(P.types=q.types),R.T=P}},Or.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Or.use=function(Z){return R.H.use(Z)},Or.useActionState=function(Z,P,q){return R.H.useActionState(Z,P,q)},Or.useCallback=function(Z,P){return R.H.useCallback(Z,P)},Or.useContext=function(Z){return R.H.useContext(Z)},Or.useDebugValue=function(){},Or.useDeferredValue=function(Z,P){return R.H.useDeferredValue(Z,P)},Or.useEffect=function(Z,P){return R.H.useEffect(Z,P)},Or.useEffectEvent=function(Z){return R.H.useEffectEvent(Z)},Or.useId=function(){return R.H.useId()},Or.useImperativeHandle=function(Z,P,q){return R.H.useImperativeHandle(Z,P,q)},Or.useInsertionEffect=function(Z,P){return R.H.useInsertionEffect(Z,P)},Or.useLayoutEffect=function(Z,P){return R.H.useLayoutEffect(Z,P)},Or.useMemo=function(Z,P){return R.H.useMemo(Z,P)},Or.useOptimistic=function(Z,P){return R.H.useOptimistic(Z,P)},Or.useReducer=function(Z,P,q){return R.H.useReducer(Z,P,q)},Or.useRef=function(Z){return R.H.useRef(Z)},Or.useState=function(Z){return R.H.useState(Z)},Or.useSyncExternalStore=function(Z,P,q){return R.H.useSyncExternalStore(Z,P,q)},Or.useTransition=function(){return R.H.useTransition()},Or.version="19.2.0",Or}var aC;function xg(){return aC||(aC=1,vk.exports=RV()),vk.exports}var j=xg();const ya=Uc(j),IV=dM({__proto__:null,default:ya},[j]);var yk={exports:{}},_x={},bk={exports:{}},wk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function FV(){return nC||(nC=1,(function(e){function t(X,re){var fe=X.length;X.push(re);e:for(;0<fe;){var ce=fe-1>>>1,ke=X[ce];if(0<n(ke,re))X[ce]=re,X[fe]=ke,fe=ce;else break e}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var re=X[0],fe=X.pop();if(fe!==re){X[0]=fe;e:for(var ce=0,ke=X.length,Z=ke>>>1;ce<Z;){var P=2*(ce+1)-1,q=X[P],V=P+1,z=X[V];if(0>n(q,fe))V<ke&&0>n(z,q)?(X[ce]=z,X[V]=fe,ce=V):(X[ce]=q,X[P]=fe,ce=P);else if(V<ke&&0>n(z,fe))X[ce]=z,X[V]=fe,ce=V;else break e}}return re}function n(X,re){var fe=X.sortIndex-re.sortIndex;return fe!==0?fe:X.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],d=[],f=1,m=null,x=3,p=!1,y=!1,v=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(X){for(var re=r(d);re!==null;){if(re.callback===null)a(d);else if(re.startTime<=X)a(d),re.sortIndex=re.expirationTime,t(c,re);else break;re=r(d)}}function L(X){if(v=!1,T(X),!y)if(r(c)!==null)y=!0,D||(D=!0,M());else{var re=r(d);re!==null&&ne(L,re.startTime-X)}}var D=!1,R=-1,U=5,F=-1;function W(){return b?!0:!(e.unstable_now()-F<U)}function O(){if(b=!1,D){var X=e.unstable_now();F=X;var re=!0;try{e:{y=!1,v&&(v=!1,N(R),R=-1),p=!0;var fe=x;try{t:{for(T(X),m=r(c);m!==null&&!(m.expirationTime>X&&W());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,x=m.priorityLevel;var ke=ce(m.expirationTime<=X);if(X=e.unstable_now(),typeof ke=="function"){m.callback=ke,T(X),re=!0;break t}m===r(c)&&a(c),T(X)}else a(c);m=r(c)}if(m!==null)re=!0;else{var Z=r(d);Z!==null&&ne(L,Z.startTime-X),re=!1}}break e}finally{m=null,x=fe,p=!1}re=void 0}}finally{re?M():D=!1}}}var M;if(typeof _=="function")M=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=O,M=function(){Y.postMessage(null)}}else M=function(){k(O,0)};function ne(X,re){R=k(function(){X(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(X){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var fe=x;x=re;try{return X()}finally{x=fe}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=x;x=X;try{return re()}finally{x=fe}},e.unstable_scheduleCallback=function(X,re,fe){var ce=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ce+fe:ce):fe=ce,X){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=fe+ke,X={id:f++,callback:re,priorityLevel:X,startTime:fe,expirationTime:ke,sortIndex:-1},fe>ce?(X.sortIndex=fe,t(d,X),r(c)===null&&X===r(d)&&(v?(N(R),R=-1):v=!0,ne(L,fe-ce))):(X.sortIndex=ke,t(c,X),y||p||(y=!0,D||(D=!0,M()))),X},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(X){var re=x;return function(){var fe=x;x=re;try{return X.apply(this,arguments)}finally{x=fe}}}})(wk)),wk}var iC;function BV(){return iC||(iC=1,bk.exports=FV()),bk.exports}var kk={exports:{}},Ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function UV(){if(sC)return Ss;sC=1;var e=xg();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:m==null?null:""+m,children:c,containerInfo:d,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ss.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,f)},Ss.flushSync=function(c){var d=s.T,f=a.p;try{if(s.T=null,a.p=2,c)return c()}finally{s.T=d,a.p=f,a.d.f()}},Ss.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(c,d))},Ss.prefetchDNS=function(c){typeof c=="string"&&a.d.D(c)},Ss.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,m=o(f,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?a.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:p}):f==="script"&&a.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ss.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=o(d.as,d.crossOrigin);a.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(c)},Ss.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=o(f,d.crossOrigin);a.d.L(c,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ss.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=o(d.as,d.crossOrigin);a.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(c)},Ss.requestFormReset=function(c){a.d.r(c)},Ss.unstable_batchedUpdates=function(c,d){return c(d)},Ss.useFormState=function(c,d,f){return s.H.useFormState(c,d,f)},Ss.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ss.version="19.2.0",Ss}var oC;function fM(){if(oC)return kk.exports;oC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kk.exports=UV(),kk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function zV(){if(lC)return _x;lC=1;var e=BV(),t=xg(),r=fM();function a(l){var h="https://react.dev/errors/"+l;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var h=l,g=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do h=l,(h.flags&4098)!==0&&(g=h.return),l=h.return;while(l)}return h.tag===3?g:null}function s(l){if(l.tag===13){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function o(l){if(l.tag===31){var h=l.memoizedState;if(h===null&&(l=l.alternate,l!==null&&(h=l.memoizedState)),h!==null)return h.dehydrated}return null}function c(l){if(i(l)!==l)throw Error(a(188))}function d(l){var h=l.alternate;if(!h){if(h=i(l),h===null)throw Error(a(188));return h!==l?null:l}for(var g=l,w=h;;){var A=g.return;if(A===null)break;var C=A.alternate;if(C===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===g)return c(A),l;if(C===w)return c(A),h;C=C.sibling}throw Error(a(188))}if(g.return!==w.return)g=A,w=C;else{for(var G=!1,ue=A.child;ue;){if(ue===g){G=!0,g=A,w=C;break}if(ue===w){G=!0,w=A,g=C;break}ue=ue.sibling}if(!G){for(ue=C.child;ue;){if(ue===g){G=!0,g=C,w=A;break}if(ue===w){G=!0,w=C,g=A;break}ue=ue.sibling}if(!G)throw Error(a(189))}}if(g.alternate!==w)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?l:h}function f(l){var h=l.tag;if(h===5||h===26||h===27||h===6)return l;for(l=l.child;l!==null;){if(h=f(l),h!==null)return h;l=l.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=O&&l[O]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function Y(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case k:return"Profiler";case b:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList";case F:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case _:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case T:var h=l.render;return l=l.displayName,l||(l=h.displayName||h.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return h=l.displayName||null,h!==null?h:Y(l.type)||"Memo";case U:h=l._payload,l=l._init;try{return Y(l(h))}catch{}}return null}var ne=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ce=[],ke=-1;function Z(l){return{current:l}}function P(l){0>ke||(l.current=ce[ke],ce[ke]=null,ke--)}function q(l,h){ke++,ce[ke]=l.current,l.current=h}var V=Z(null),z=Z(null),Q=Z(null),de=Z(null);function Ee(l,h){switch(q(Q,h),q(z,l),q(V,null),h.nodeType){case 9:case 11:l=(l=h.documentElement)&&(l=l.namespaceURI)?kE(l):0;break;default:if(l=h.tagName,h=h.namespaceURI)h=kE(h),l=_E(h,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}P(V),q(V,l)}function ie(){P(V),P(z),P(Q)}function je(l){l.memoizedState!==null&&q(de,l);var h=V.current,g=_E(h,l.type);h!==g&&(q(z,l),q(V,g))}function Me(l){z.current===l&&(P(V),P(z)),de.current===l&&(P(de),vx._currentValue=fe)}var J,ge;function be(l){if(J===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);J=h&&h[1]||"",ge=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+l+ge}var oe=!1;function Ue(l,h){if(!l||oe)return"";oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(tt){var et=tt}Reflect.construct(l,[],dt)}else{try{dt.call()}catch(tt){et=tt}l.call(dt.prototype)}}else{try{throw Error()}catch(tt){et=tt}(dt=l())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(tt){if(tt&&et&&typeof tt.stack=="string")return[tt.stack,et.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=w.DetermineComponentFrameRoot(),G=C[0],ue=C[1];if(G&&ue){var Ce=G.split(`
`),Qe=ue.split(`
`);for(A=w=0;w<Ce.length&&!Ce[w].includes("DetermineComponentFrameRoot");)w++;for(;A<Qe.length&&!Qe[A].includes("DetermineComponentFrameRoot");)A++;if(w===Ce.length||A===Qe.length)for(w=Ce.length-1,A=Qe.length-1;1<=w&&0<=A&&Ce[w]!==Qe[A];)A--;for(;1<=w&&0<=A;w--,A--)if(Ce[w]!==Qe[A]){if(w!==1||A!==1)do if(w--,A--,0>A||Ce[w]!==Qe[A]){var st=`
`+Ce[w].replace(" at new "," at ");return l.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",l.displayName)),st}while(1<=w&&0<=A);break}}}finally{oe=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?be(g):""}function ve(l,h){switch(l.tag){case 26:case 27:case 5:return be(l.type);case 16:return be("Lazy");case 13:return l.child!==h&&h!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return Ue(l.type,!1);case 11:return Ue(l.type.render,!1);case 1:return Ue(l.type,!0);case 31:return be("Activity");default:return""}}function Ge(l){try{var h="",g=null;do h+=ve(l,g),g=l,l=l.return;while(l);return h}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var $e=Object.prototype.hasOwnProperty,ft=e.unstable_scheduleCallback,Je=e.unstable_cancelCallback,kt=e.unstable_shouldYield,At=e.unstable_requestPaint,Rt=e.unstable_now,ar=e.unstable_getCurrentPriorityLevel,nr=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,It=e.unstable_NormalPriority,St=e.unstable_LowPriority,bt=e.unstable_IdlePriority,Et=e.log,Tr=e.unstable_setDisableYieldValue,Gt=null,Nt=null;function Yt(l){if(typeof Et=="function"&&Tr(l),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Gt,l)}catch{}}var Sr=Math.clz32?Math.clz32:hr,er=Math.log,Dr=Math.LN2;function hr(l){return l>>>=0,l===0?32:31-(er(l)/Dr|0)|0}var ma=256,ea=262144,Wr=4194304;function Mt(l){var h=l&42;if(h!==0)return h;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Mr(l,h,g){var w=l.pendingLanes;if(w===0)return 0;var A=0,C=l.suspendedLanes,G=l.pingedLanes;l=l.warmLanes;var ue=w&134217727;return ue!==0?(w=ue&~C,w!==0?A=Mt(w):(G&=ue,G!==0?A=Mt(G):g||(g=ue&~l,g!==0&&(A=Mt(g))))):(ue=w&~C,ue!==0?A=Mt(ue):G!==0?A=Mt(G):g||(g=w&~l,g!==0&&(A=Mt(g)))),A===0?0:h!==0&&h!==A&&(h&C)===0&&(C=A&-A,g=h&-h,C>=g||C===32&&(g&4194048)!==0)?h:A}function ci(l,h){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&h)===0}function en(l,h){switch(l){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(){var l=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),l}function ui(l){for(var h=[],g=0;31>g;g++)h.push(l);return h}function Xt(l,h){l.pendingLanes|=h,h!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Xn(l,h,g,w,A,C){var G=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ue=l.entanglements,Ce=l.expirationTimes,Qe=l.hiddenUpdates;for(g=G&~g;0<g;){var st=31-Sr(g),dt=1<<st;ue[st]=0,Ce[st]=-1;var et=Qe[st];if(et!==null)for(Qe[st]=null,st=0;st<et.length;st++){var tt=et[st];tt!==null&&(tt.lane&=-536870913)}g&=~dt}w!==0&&os(l,w,0),C!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=C&~(G&~h))}function os(l,h,g){l.pendingLanes|=h,l.suspendedLanes&=~h;var w=31-Sr(h);l.entangledLanes|=h,l.entanglements[w]=l.entanglements[w]|1073741824|g&261930}function Sn(l,h){var g=l.entangledLanes|=h;for(l=l.entanglements;g;){var w=31-Sr(g),A=1<<w;A&h|l[w]&h&&(l[w]|=h),g&=~A}}function Si(l,h){var g=h&-h;return g=(g&42)!==0?1:Sa(g),(g&(l.suspendedLanes|h))!==0?0:g}function Sa(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Wa(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ae(){var l=re.p;return l!==0?l:(l=window.event,l===void 0?32:VE(l.type))}function _e(l,h){var g=re.p;try{return re.p=l,h()}finally{re.p=g}}var me=Math.random().toString(36).slice(2),pe="__reactFiber$"+me,we="__reactProps$"+me,Ae="__reactContainer$"+me,Ie="__reactEvents$"+me,rt="__reactListeners$"+me,We="__reactHandles$"+me,Ve="__reactResources$"+me,ye="__reactMarker$"+me;function Ye(l){delete l[pe],delete l[we],delete l[Ie],delete l[rt],delete l[We]}function ot(l){var h=l[pe];if(h)return h;for(var g=l.parentNode;g;){if(h=g[Ae]||g[pe]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(l=CE(l);l!==null;){if(g=l[pe])return g;l=CE(l)}return h}l=g,g=l.parentNode}return null}function xt(l){if(l=l[pe]||l[Ae]){var h=l.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return l}return null}function mt(l){var h=l.tag;if(h===5||h===26||h===27||h===6)return l.stateNode;throw Error(a(33))}function wt(l){var h=l[Ve];return h||(h=l[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ct(l){l[ye]=!0}var Er=new Set,fr={};function oa(l,h){Ni(l,h),Ni(l+"Capture",h)}function Ni(l,h){for(fr[l]=h,l=0;l<h.length;l++)Er.add(h[l])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},$s={};function Kc(l){return $e.call($s,l)?!0:$e.call(Fo,l)?!1:Io.test(l)?$s[l]=!0:(Fo[l]=!0,!1)}function Qn(l,h,g){if(Kc(h))if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(h);return}}l.setAttribute(h,""+g)}}function l0(l,h,g){if(g===null)l.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttribute(h,""+g)}}function Na(l,h,g,w){if(w===null)l.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(h,g,""+w)}}function ls(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Cf(l){var h=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ec(l,h,g){var w=Object.getOwnPropertyDescriptor(l.constructor.prototype,h);if(!l.hasOwnProperty(h)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var A=w.get,C=w.set;return Object.defineProperty(l,h,{configurable:!0,get:function(){return A.call(this)},set:function(G){g=""+G,C.call(this,G)}}),Object.defineProperty(l,h,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(G){g=""+G},stopTracking:function(){l._valueTracker=null,delete l[h]}}}}function tc(l){if(!l._valueTracker){var h=Cf(l)?"checked":"value";l._valueTracker=ec(l,h,""+l[h])}}function uo(l){if(!l)return!1;var h=l._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return l&&(w=Cf(l)?l.checked?"true":"false":l.value),l=w,l!==g?(h.setValue(l),!0):!1}function pl(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Nn=/[\n"\\]/g;function Wi(l){return l.replace(Nn,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Of(l,h,g,w,A,C,G,ue){l.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?l.type=G:l.removeAttribute("type"),h!=null?G==="number"?(h===0&&l.value===""||l.value!=h)&&(l.value=""+ls(h)):l.value!==""+ls(h)&&(l.value=""+ls(h)):G!=="submit"&&G!=="reset"||l.removeAttribute("value"),h!=null?Pf(l,G,ls(h)):g!=null?Pf(l,G,ls(g)):w!=null&&l.removeAttribute("value"),A==null&&C!=null&&(l.defaultChecked=!!C),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?l.name=""+ls(ue):l.removeAttribute("name")}function km(l,h,g,w,A,C,G,ue){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),h!=null||g!=null){if(!(C!=="submit"&&C!=="reset"||h!=null)){tc(l);return}g=g!=null?""+ls(g):"",h=h!=null?""+ls(h):g,ue||h===l.value||(l.value=h),l.defaultValue=h}w=w??A,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=ue?l.checked:!!w,l.defaultChecked=!!w,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(l.name=G),tc(l)}function Pf(l,h,g){h==="number"&&pl(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function cs(l,h,g,w){if(l=l.options,h){h={};for(var A=0;A<g.length;A++)h["$"+g[A]]=!0;for(g=0;g<l.length;g++)A=h.hasOwnProperty("$"+l[g].value),l[g].selected!==A&&(l[g].selected=A),A&&w&&(l[g].defaultSelected=!0)}else{for(g=""+ls(g),h=null,A=0;A<l.length;A++){if(l[A].value===g){l[A].selected=!0,w&&(l[A].defaultSelected=!0);return}h!==null||l[A].disabled||(h=l[A])}h!==null&&(h.selected=!0)}}function Df(l,h,g){if(h!=null&&(h=""+ls(h),h!==l.value&&(l.value=h),g==null)){l.defaultValue!==h&&(l.defaultValue=h);return}l.defaultValue=g!=null?""+ls(g):""}function Lf(l,h,g,w){if(h==null){if(w!=null){if(g!=null)throw Error(a(92));if(ne(w)){if(1<w.length)throw Error(a(93));w=w[0]}g=w}g==null&&(g=""),h=g}g=ls(h),l.defaultValue=g,w=l.textContent,w===g&&w!==""&&w!==null&&(l.value=w),tc(l)}function Hs(l,h){if(h){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=h;return}}l.textContent=h}var Mf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _m(l,h,g){var w=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?l.setProperty(h,""):h==="float"?l.cssFloat="":l[h]="":w?l.setProperty(h,g):typeof g!="number"||g===0||Mf.has(h)?h==="float"?l.cssFloat=g:l[h]=(""+g).trim():l[h]=g+"px"}function Sm(l,h,g){if(h!=null&&typeof h!="object")throw Error(a(62));if(l=l.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var A in h)w=h[A],h.hasOwnProperty(A)&&g[A]!==w&&_m(l,A,w)}else for(var C in h)h.hasOwnProperty(C)&&_m(l,C,h[C])}function Rf(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(l){return Uu.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Uo(){}var rc=null;function zu(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var mr=null,Gc=null;function Nm(l){var h=xt(l);if(h&&(l=h.stateNode)){var g=l[we]||null;e:switch(l=h.stateNode,h.type){case"input":if(Of(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Wi(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==l&&w.form===l.form){var A=w[we]||null;if(!A)throw Error(a(90));Of(w,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(h=0;h<g.length;h++)w=g[h],w.form===l.form&&uo(w)}break e;case"textarea":Df(l,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&cs(l,!!g.multiple,h,!1)}}}var Ff=!1;function jm(l,h,g){if(Ff)return l(h,g);Ff=!0;try{var w=l(h);return w}finally{if(Ff=!1,(mr!==null||Gc!==null)&&(ty(),mr&&(h=mr,l=Gc,Gc=mr=null,Nm(h),l)))for(h=0;h<l.length;h++)Nm(l[h])}}function Ws(l,h){var g=l.stateNode;if(g===null)return null;var w=g[we]||null;if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(a(231,h,typeof g));return g}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bf=!1;if(ji)try{var qu={};Object.defineProperty(qu,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",qu,qu),window.removeEventListener("test",qu,qu)}catch{Bf=!1}var Vs=null,$u=null,gl=null;function Hu(){if(gl)return gl;var l,h=$u,g=h.length,w,A="value"in Vs?Vs.value:Vs.textContent,C=A.length;for(l=0;l<g&&h[l]===A[l];l++);var G=g-l;for(w=1;w<=G&&h[g-w]===A[C-w];w++);return gl=A.slice(l,1<w?1-w:void 0)}function ac(l){var h=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&h===13&&(l=13)):l=h,l===10&&(l=13),32<=l||l===13?l:0}function c0(){return!0}function u0(){return!1}function di(l){function h(g,w,A,C,G){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=C,this.target=G,this.currentTarget=null;for(var ue in l)l.hasOwnProperty(ue)&&(g=l[ue],this[ue]=g?g(C):C[ue]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?c0:u0,this.isPropagationStopped=u0,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=c0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=c0)},persist:function(){},isPersistent:c0}),h}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=di(Ks),nc=m({},Ks,{view:0,detail:0}),d0=di(nc),Wu,ic,Yc,Vu=m({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Yc&&(Yc&&l.type==="mousemove"?(Wu=l.screenX-Yc.screenX,ic=l.screenY-Yc.screenY):ic=Wu=0,Yc=l),Wu)},movementY:function(l){return"movementY"in l?l.movementY:ic}}),vl=di(Vu),sc=m({},Vu,{dataTransfer:0}),Am=di(sc),Tm=m({},nc,{relatedTarget:0}),oc=di(Tm),Em=m({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),I=di(Em),ee=m({},Ks,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Te=di(ee),Pe=m({},Ks,{data:0}),Fe=di(Pe),lt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qt(l){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(l):(l=Ut[l])?!!h[l]:!1}function vr(){return Qt}var Ar=m({},nc,{key:function(l){if(l.key){var h=lt[l.key]||l.key;if(h!=="Unidentified")return h}return l.type==="keypress"?(l=ac(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?pt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(l){return l.type==="keypress"?ac(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ac(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),la=di(Ar),tn=m({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jn=di(tn),Ma=m({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Jn=di(Ma),Rn=m({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ai=di(Rn),fo=m({},Vu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ws=di(fo),Cm=m({},Ks,{newState:0,oldState:0}),f0=di(Cm),Ku=[9,13,27,32],yl=ji&&"CompositionEvent"in window,zo=null;ji&&"documentMode"in document&&(zo=document.documentMode);var Gu=ji&&"TextEvent"in window&&!zo,Xc=ji&&(!yl||zo&&8<zo&&11>=zo),Ti=" ",Qc=!1;function Jc(l,h){switch(l){case"keyup":return Ku.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bl=!1;function hn(l,h){switch(l){case"compositionend":return h0(h);case"keypress":return h.which!==32?null:(Qc=!0,Ti);case"textInput":return l=h.data,l===Ti&&Qc?null:l;default:return null}}function lc(l,h){if(bl)return l==="compositionend"||!yl&&Jc(l,h)?(l=Hu(),gl=$u=Vs=null,bl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Xc&&h.locale!=="ko"?null:h.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h==="input"?!!m0[l.type]:h==="textarea"}function Gs(l,h,g,w){mr?Gc?Gc.push(w):Gc=[w]:mr=w,h=ly(h,"onChange"),0<h.length&&(g=new xl("onChange","change",null,g,w),l.push({event:g,listeners:h}))}var qo=null,cc=null;function zf(l){gE(l,0)}function $o(l){var h=mt(l);if(uo(h))return l}function Zc(l,h){if(l==="change")return h}var ks=!1;if(ji){var us;if(ji){var wl="oninput"in document;if(!wl){var kl=document.createElement("div");kl.setAttribute("oninput","return;"),wl=typeof kl.oninput=="function"}us=wl}else us=!1;ks=us&&(!document.documentMode||9<document.documentMode)}function uc(){qo&&(qo.detachEvent("onpropertychange",p0),cc=qo=null)}function p0(l){if(l.propertyName==="value"&&$o(cc)){var h=[];Gs(h,cc,l,zu(l)),jm(zf,h)}}function g0(l,h,g){l==="focusin"?(uc(),qo=h,cc=g,qo.attachEvent("onpropertychange",p0)):l==="focusout"&&uc()}function An(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return $o(cc)}function Om(l,h){if(l==="click")return $o(h)}function _l(l,h){if(l==="input"||l==="change")return $o(h)}function Sl(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var Ei=typeof Object.is=="function"?Object.is:Sl;function dc(l,h){if(Ei(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var g=Object.keys(l),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!$e.call(h,A)||!Ei(l[A],h[A]))return!1}return!0}function x0(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function v0(l,h){var g=x0(l);l=0;for(var w;g;){if(g.nodeType===3){if(w=l+g.textContent.length,l<=h&&w>=h)return{node:g,offset:h-l};l=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=x0(g)}}function fc(l,h){return l&&h?l===h?!0:l&&l.nodeType===3?!1:h&&h.nodeType===3?fc(l,h.parentNode):"contains"in l?l.contains(h):l.compareDocumentPosition?!!(l.compareDocumentPosition(h)&16):!1:!1}function hc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var h=pl(l.document);h instanceof l.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)l=h.contentWindow;else break;h=pl(l.document)}return h}function Nl(l){var h=l&&l.nodeName&&l.nodeName.toLowerCase();return h&&(h==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||h==="textarea"||l.contentEditable==="true")}var Yu=ji&&"documentMode"in document&&11>=document.documentMode,Ys=null,mc=null,Vi=null,ho=!1;function ca(l,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ho||Ys==null||Ys!==pl(w)||(w=Ys,"selectionStart"in w&&Nl(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Vi&&dc(Vi,w)||(Vi=w,w=ly(mc,"onSelect"),0<w.length&&(h=new xl("onSelect","select",null,h,g),l.push({event:h,listeners:w}),h.target=Ys)))}function ta(l,h){var g={};return g[l.toLowerCase()]=h.toLowerCase(),g["Webkit"+l]="webkit"+h,g["Moz"+l]="moz"+h,g}var Ra={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Tn={},jl={};ji&&(jl=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Ho(l){if(Tn[l])return Tn[l];if(!Ra[l])return l;var h=Ra[l],g;for(g in h)if(h.hasOwnProperty(g)&&g in jl)return Tn[l]=h[g];return l}var Xu=Ho("animationend"),qf=Ho("animationiteration"),zg=Ho("animationstart"),Ov=Ho("transitionrun"),Pv=Ho("transitionstart"),Dv=Ho("transitioncancel"),qg=Ho("transitionend"),$g=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function mo(l,h){$g.set(l,h),oa(h,[l])}var $f=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Xs=[],Ju=0,Pm=0;function Hf(){for(var l=Ju,h=Pm=Ju=0;h<l;){var g=Xs[h];Xs[h++]=null;var w=Xs[h];Xs[h++]=null;var A=Xs[h];Xs[h++]=null;var C=Xs[h];if(Xs[h++]=null,w!==null&&A!==null){var G=w.pending;G===null?A.next=A:(A.next=G.next,G.next=A),w.pending=A}C!==0&&Vf(g,A,C)}}function Wf(l,h,g,w){Xs[Ju++]=l,Xs[Ju++]=h,Xs[Ju++]=g,Xs[Ju++]=w,Pm|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function Dm(l,h,g,w){return Wf(l,h,g,w),Ki(l)}function pc(l,h){return Wf(l,null,null,h),Ki(l)}function Vf(l,h,g){l.lanes|=g;var w=l.alternate;w!==null&&(w.lanes|=g);for(var A=!1,C=l.return;C!==null;)C.childLanes|=g,w=C.alternate,w!==null&&(w.childLanes|=g),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(A=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,A&&h!==null&&(A=31-Sr(g),l=C.hiddenUpdates,w=l[A],w===null?l[A]=[h]:w.push(h),h.lane=g|536870912),C):null}function Ki(l){if(50<dx)throw dx=0,U5=null,Error(a(185));for(var h=l.return;h!==null;)l=h,h=l.return;return l.tag===3?l.stateNode:null}var Ci={};function Lm(l,h,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(l,h,g,w){return new Lm(l,h,g,w)}function Mm(l){return l=l.prototype,!(!l||!l.isReactComponent)}function po(l,h){var g=l.alternate;return g===null?(g=Gi(l.tag,h,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=h,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,h=l.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Kf(l,h){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=h,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,h=g.dependencies,l.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),l}function y0(l,h,g,w,A,C){var G=0;if(w=l,typeof l=="function")Mm(l)&&(G=1);else if(typeof l=="string")G=yV(l,g,V.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case F:return l=Gi(31,g,h,A),l.elementType=F,l.lanes=C,l;case v:return eu(g.children,A,C,h);case b:G=8,A|=24;break;case k:return l=Gi(12,g,h,A|2),l.elementType=k,l.lanes=C,l;case L:return l=Gi(13,g,h,A),l.elementType=L,l.lanes=C,l;case D:return l=Gi(19,g,h,A),l.elementType=D,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:G=10;break e;case N:G=9;break e;case T:G=11;break e;case R:G=14;break e;case U:G=16,w=null;break e}G=29,g=Error(a(130,l===null?"null":typeof l,"")),w=null}return h=Gi(G,g,h,A),h.elementType=l,h.type=w,h.lanes=C,h}function eu(l,h,g,w){return l=Gi(7,l,w,h),l.lanes=g,l}function Gf(l,h,g){return l=Gi(6,l,null,h),l.lanes=g,l}function Rm(l){var h=Gi(18,null,null,0);return h.stateNode=l,h}function b0(l,h,g){return h=Gi(4,l.children!==null?l.children:[],l.key,h),h.lanes=g,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}var Im=new WeakMap;function go(l,h){if(typeof l=="object"&&l!==null){var g=Im.get(l);return g!==void 0?g:(h={value:l,source:h,stack:Ge(h)},Im.set(l,h),h)}return{value:l,source:h,stack:Ge(h)}}var w0=[],Zu=0,Fm=null,Yf=0,xo=[],vo=0,tu=null,yo=1,bo="";function Qs(l,h){w0[Zu++]=Yf,w0[Zu++]=Fm,Fm=l,Yf=h}function Lv(l,h,g){xo[vo++]=yo,xo[vo++]=bo,xo[vo++]=tu,tu=l;var w=yo;l=bo;var A=32-Sr(w)-1;w&=~(1<<A),g+=1;var C=32-Sr(h)+A;if(30<C){var G=A-A%5;C=(w&(1<<G)-1).toString(32),w>>=G,A-=G,yo=1<<32-Sr(h)+A|g<<A|w,bo=C+l}else yo=1<<C|g<<A|w,bo=l}function Hg(l){l.return!==null&&(Qs(l,1),Lv(l,1,0))}function Bm(l){for(;l===Fm;)Fm=w0[--Zu],w0[Zu]=null,Yf=w0[--Zu],w0[Zu]=null;for(;l===tu;)tu=xo[--vo],xo[vo]=null,bo=xo[--vo],xo[vo]=null,yo=xo[--vo],xo[vo]=null}function Mv(l,h){xo[vo++]=yo,xo[vo++]=bo,xo[vo++]=tu,yo=h.id,bo=h.overflow,tu=l}var Oi=null,Va=null,Gr=!1,ds=null,mn=!1,Wo=Error(a(519));function ru(l){var h=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw k0(go(h,l)),Wo}function Wg(l){var h=l.stateNode,g=l.type,w=l.memoizedProps;switch(h[pe]=l,h[we]=w,g){case"dialog":Xr("cancel",h),Xr("close",h);break;case"iframe":case"object":case"embed":Xr("load",h);break;case"video":case"audio":for(g=0;g<hx.length;g++)Xr(hx[g],h);break;case"source":Xr("error",h);break;case"img":case"image":case"link":Xr("error",h),Xr("load",h);break;case"details":Xr("toggle",h);break;case"input":Xr("invalid",h),km(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":Xr("invalid",h);break;case"textarea":Xr("invalid",h),Lf(h,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||w.suppressHydrationWarning===!0||bE(h.textContent,g)?(w.popover!=null&&(Xr("beforetoggle",h),Xr("toggle",h)),w.onScroll!=null&&Xr("scroll",h),w.onScrollEnd!=null&&Xr("scrollend",h),w.onClick!=null&&(h.onclick=Uo),h=!0):h=!1,h||ru(l,!0)}function gc(l){for(Oi=l.return;Oi;)switch(Oi.tag){case 5:case 31:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:Oi=Oi.return}}function Pi(l){if(l!==Oi)return!1;if(!Gr)return gc(l),Gr=!0,!1;var h=l.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||tk(l.type,l.memoizedProps)),g=!g),g&&Va&&ru(l),gc(l),h===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));Va=EE(l)}else if(h===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));Va=EE(l)}else h===27?(h=Va,R0(l.type)?(l=sk,sk=null,Va=l):Va=h):Va=Oi?Cl(l.stateNode.nextSibling):null;return!0}function ed(){Va=Oi=null,Gr=!1}function Vg(){var l=ds;return l!==null&&(jo===null?jo=l:jo.push.apply(jo,l),ds=null),l}function k0(l){ds===null?ds=[l]:ds.push(l)}var Um=Z(null),au=null,Al=null;function nu(l,h,g){q(Um,h._currentValue),h._currentValue=g}function wo(l){l._currentValue=Um.current,P(Um)}function _0(l,h,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),l===g)break;l=l.return}}function td(l,h,g,w){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var C=A.dependencies;if(C!==null){var G=A.child;C=C.firstContext;e:for(;C!==null;){var ue=C;C=A;for(var Ce=0;Ce<h.length;Ce++)if(ue.context===h[Ce]){C.lanes|=g,ue=C.alternate,ue!==null&&(ue.lanes|=g),_0(C.return,g,l),w||(G=null);break e}C=ue.next}}else if(A.tag===18){if(G=A.return,G===null)throw Error(a(341));G.lanes|=g,C=G.alternate,C!==null&&(C.lanes|=g),_0(G,g,l),G=null}else G=A.child;if(G!==null)G.return=A;else for(G=A;G!==null;){if(G===l){G=null;break}if(A=G.sibling,A!==null){A.return=G.return,G=A;break}G=G.return}A=G}}function iu(l,h,g,w){l=null;for(var A=h,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var G=A.alternate;if(G===null)throw Error(a(387));if(G=G.memoizedProps,G!==null){var ue=A.type;Ei(A.pendingProps.value,G.value)||(l!==null?l.push(ue):l=[ue])}}else if(A===de.current){if(G=A.alternate,G===null)throw Error(a(387));G.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(vx):l=[vx])}A=A.return}l!==null&&td(h,l,g,w),h.flags|=262144}function zm(l){for(l=l.firstContext;l!==null;){if(!Ei(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function su(l){au=l,Al=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Di(l){return Rv(au,l)}function qm(l,h){return au===null&&su(l),Rv(l,h)}function Rv(l,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Al===null){if(l===null)throw Error(a(308));Al=h,l.dependencies={lanes:0,firstContext:h},l.flags|=524288}else Al=Al.next=h;return g}var i5=typeof AbortController<"u"?AbortController:function(){var l=[],h=this.signal={aborted:!1,addEventListener:function(g,w){l.push(w)}};this.abort=function(){h.aborted=!0,l.forEach(function(g){return g()})}},s5=e.unstable_scheduleCallback,o5=e.unstable_NormalPriority,En={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function S0(){return{controller:new i5,data:new Map,refCount:0}}function Xf(l){l.refCount--,l.refCount===0&&s5(o5,function(){l.controller.abort()})}var Qf=null,$m=0,S=0,E=null;function B(l,h){if(Qf===null){var g=Qf=[];$m=0,S=V5(),E={status:"pending",value:void 0,then:function(w){g.push(w)}}}return $m++,h.then(K,K),h}function K(){if(--$m===0&&Qf!==null){E!==null&&(E.status="fulfilled");var l=Qf;Qf=null,S=0,E=null;for(var h=0;h<l.length;h++)(0,l[h])()}}function te(l,h){var g=[],w={status:"pending",value:null,reason:null,then:function(A){g.push(A)}};return l.then(function(){w.status="fulfilled",w.value=h;for(var A=0;A<g.length;A++)(0,g[A])(h)},function(A){for(w.status="rejected",w.reason=A,A=0;A<g.length;A++)(0,g[A])(void 0)}),w}var se=X.S;X.S=function(l,h){HT=Rt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&B(l,h),se!==null&&se(l,h)};var le=Z(null);function he(){var l=le.current;return l!==null?l:Ga.pooledCache}function xe(l,h){h===null?q(le,le.current):q(le,h.pool)}function Ne(){var l=he();return l===null?null:{parent:En._currentValue,pool:l}}var De=Error(a(460)),Ke=Error(a(474)),Se=Error(a(542)),Re={then:function(){}};function ze(l){return l=l.status,l==="fulfilled"||l==="rejected"}function nt(l,h,g){switch(g=l[g],g===void 0?l.push(h):g!==h&&(h.then(Uo,Uo),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw l=h.reason,vt(l),l;default:if(typeof h.status=="string")h.then(Uo,Uo);else{if(l=Ga,l!==null&&100<l.shellSuspendCounter)throw Error(a(482));l=h,l.status="pending",l.then(function(w){if(h.status==="pending"){var A=h;A.status="fulfilled",A.value=w}},function(w){if(h.status==="pending"){var A=h;A.status="rejected",A.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw l=h.reason,vt(l),l}throw at=h,De}}function He(l){try{var h=l._init;return h(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(at=g,De):g}}var at=null;function ct(){if(at===null)throw Error(a(459));var l=at;return at=null,l}function vt(l){if(l===De||l===Se)throw Error(a(483))}var ht=null,qt=0;function Pt(l){var h=qt;return qt+=1,ht===null&&(ht=[]),nt(ht,l,h)}function Nr(l,h){h=h.props.ref,l.ref=h!==void 0?h:null}function Ft(l,h){throw h.$$typeof===x?Error(a(525)):(l=Object.prototype.toString.call(h),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l)))}function Vr(l){function h(Be,Le){if(l){var Xe=Be.deletions;Xe===null?(Be.deletions=[Le],Be.flags|=16):Xe.push(Le)}}function g(Be,Le){if(!l)return null;for(;Le!==null;)h(Be,Le),Le=Le.sibling;return null}function w(Be){for(var Le=new Map;Be!==null;)Be.key!==null?Le.set(Be.key,Be):Le.set(Be.index,Be),Be=Be.sibling;return Le}function A(Be,Le){return Be=po(Be,Le),Be.index=0,Be.sibling=null,Be}function C(Be,Le,Xe){return Be.index=Xe,l?(Xe=Be.alternate,Xe!==null?(Xe=Xe.index,Xe<Le?(Be.flags|=67108866,Le):Xe):(Be.flags|=67108866,Le)):(Be.flags|=1048576,Le)}function G(Be){return l&&Be.alternate===null&&(Be.flags|=67108866),Be}function ue(Be,Le,Xe,ut){return Le===null||Le.tag!==6?(Le=Gf(Xe,Be.mode,ut),Le.return=Be,Le):(Le=A(Le,Xe),Le.return=Be,Le)}function Ce(Be,Le,Xe,ut){var ur=Xe.type;return ur===v?st(Be,Le,Xe.props.children,ut,Xe.key):Le!==null&&(Le.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===U&&He(ur)===Le.type)?(Le=A(Le,Xe.props),Nr(Le,Xe),Le.return=Be,Le):(Le=y0(Xe.type,Xe.key,Xe.props,null,Be.mode,ut),Nr(Le,Xe),Le.return=Be,Le)}function Qe(Be,Le,Xe,ut){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==Xe.containerInfo||Le.stateNode.implementation!==Xe.implementation?(Le=b0(Xe,Be.mode,ut),Le.return=Be,Le):(Le=A(Le,Xe.children||[]),Le.return=Be,Le)}function st(Be,Le,Xe,ut,ur){return Le===null||Le.tag!==7?(Le=eu(Xe,Be.mode,ut,ur),Le.return=Be,Le):(Le=A(Le,Xe),Le.return=Be,Le)}function dt(Be,Le,Xe){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=Gf(""+Le,Be.mode,Xe),Le.return=Be,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case p:return Xe=y0(Le.type,Le.key,Le.props,null,Be.mode,Xe),Nr(Xe,Le),Xe.return=Be,Xe;case y:return Le=b0(Le,Be.mode,Xe),Le.return=Be,Le;case U:return Le=He(Le),dt(Be,Le,Xe)}if(ne(Le)||M(Le))return Le=eu(Le,Be.mode,Xe,null),Le.return=Be,Le;if(typeof Le.then=="function")return dt(Be,Pt(Le),Xe);if(Le.$$typeof===_)return dt(Be,qm(Be,Le),Xe);Ft(Be,Le)}return null}function et(Be,Le,Xe,ut){var ur=Le!==null?Le.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return ur!==null?null:ue(Be,Le,""+Xe,ut);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case p:return Xe.key===ur?Ce(Be,Le,Xe,ut):null;case y:return Xe.key===ur?Qe(Be,Le,Xe,ut):null;case U:return Xe=He(Xe),et(Be,Le,Xe,ut)}if(ne(Xe)||M(Xe))return ur!==null?null:st(Be,Le,Xe,ut,null);if(typeof Xe.then=="function")return et(Be,Le,Pt(Xe),ut);if(Xe.$$typeof===_)return et(Be,Le,qm(Be,Xe),ut);Ft(Be,Xe)}return null}function tt(Be,Le,Xe,ut,ur){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Be=Be.get(Xe)||null,ue(Le,Be,""+ut,ur);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case p:return Be=Be.get(ut.key===null?Xe:ut.key)||null,Ce(Le,Be,ut,ur);case y:return Be=Be.get(ut.key===null?Xe:ut.key)||null,Qe(Le,Be,ut,ur);case U:return ut=He(ut),tt(Be,Le,Xe,ut,ur)}if(ne(ut)||M(ut))return Be=Be.get(Xe)||null,st(Le,Be,ut,ur,null);if(typeof ut.then=="function")return tt(Be,Le,Xe,Pt(ut),ur);if(ut.$$typeof===_)return tt(Be,Le,Xe,qm(Le,ut),ur);Ft(Le,ut)}return null}function zt(Be,Le,Xe,ut){for(var ur=null,pa=null,Jt=Le,Ir=Le=0,Zr=null;Jt!==null&&Ir<Xe.length;Ir++){Jt.index>Ir?(Zr=Jt,Jt=null):Zr=Jt.sibling;var ga=et(Be,Jt,Xe[Ir],ut);if(ga===null){Jt===null&&(Jt=Zr);break}l&&Jt&&ga.alternate===null&&h(Be,Jt),Le=C(ga,Le,Ir),pa===null?ur=ga:pa.sibling=ga,pa=ga,Jt=Zr}if(Ir===Xe.length)return g(Be,Jt),Gr&&Qs(Be,Ir),ur;if(Jt===null){for(;Ir<Xe.length;Ir++)Jt=dt(Be,Xe[Ir],ut),Jt!==null&&(Le=C(Jt,Le,Ir),pa===null?ur=Jt:pa.sibling=Jt,pa=Jt);return Gr&&Qs(Be,Ir),ur}for(Jt=w(Jt);Ir<Xe.length;Ir++)Zr=tt(Jt,Be,Ir,Xe[Ir],ut),Zr!==null&&(l&&Zr.alternate!==null&&Jt.delete(Zr.key===null?Ir:Zr.key),Le=C(Zr,Le,Ir),pa===null?ur=Zr:pa.sibling=Zr,pa=Zr);return l&&Jt.forEach(function(z0){return h(Be,z0)}),Gr&&Qs(Be,Ir),ur}function gr(Be,Le,Xe,ut){if(Xe==null)throw Error(a(151));for(var ur=null,pa=null,Jt=Le,Ir=Le=0,Zr=null,ga=Xe.next();Jt!==null&&!ga.done;Ir++,ga=Xe.next()){Jt.index>Ir?(Zr=Jt,Jt=null):Zr=Jt.sibling;var z0=et(Be,Jt,ga.value,ut);if(z0===null){Jt===null&&(Jt=Zr);break}l&&Jt&&z0.alternate===null&&h(Be,Jt),Le=C(z0,Le,Ir),pa===null?ur=z0:pa.sibling=z0,pa=z0,Jt=Zr}if(ga.done)return g(Be,Jt),Gr&&Qs(Be,Ir),ur;if(Jt===null){for(;!ga.done;Ir++,ga=Xe.next())ga=dt(Be,ga.value,ut),ga!==null&&(Le=C(ga,Le,Ir),pa===null?ur=ga:pa.sibling=ga,pa=ga);return Gr&&Qs(Be,Ir),ur}for(Jt=w(Jt);!ga.done;Ir++,ga=Xe.next())ga=tt(Jt,Be,Ir,ga.value,ut),ga!==null&&(l&&ga.alternate!==null&&Jt.delete(ga.key===null?Ir:ga.key),Le=C(ga,Le,Ir),pa===null?ur=ga:pa.sibling=ga,pa=ga);return l&&Jt.forEach(function(CV){return h(Be,CV)}),Gr&&Qs(Be,Ir),ur}function Ua(Be,Le,Xe,ut){if(typeof Xe=="object"&&Xe!==null&&Xe.type===v&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case p:e:{for(var ur=Xe.key;Le!==null;){if(Le.key===ur){if(ur=Xe.type,ur===v){if(Le.tag===7){g(Be,Le.sibling),ut=A(Le,Xe.props.children),ut.return=Be,Be=ut;break e}}else if(Le.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===U&&He(ur)===Le.type){g(Be,Le.sibling),ut=A(Le,Xe.props),Nr(ut,Xe),ut.return=Be,Be=ut;break e}g(Be,Le);break}else h(Be,Le);Le=Le.sibling}Xe.type===v?(ut=eu(Xe.props.children,Be.mode,ut,Xe.key),ut.return=Be,Be=ut):(ut=y0(Xe.type,Xe.key,Xe.props,null,Be.mode,ut),Nr(ut,Xe),ut.return=Be,Be=ut)}return G(Be);case y:e:{for(ur=Xe.key;Le!==null;){if(Le.key===ur)if(Le.tag===4&&Le.stateNode.containerInfo===Xe.containerInfo&&Le.stateNode.implementation===Xe.implementation){g(Be,Le.sibling),ut=A(Le,Xe.children||[]),ut.return=Be,Be=ut;break e}else{g(Be,Le);break}else h(Be,Le);Le=Le.sibling}ut=b0(Xe,Be.mode,ut),ut.return=Be,Be=ut}return G(Be);case U:return Xe=He(Xe),Ua(Be,Le,Xe,ut)}if(ne(Xe))return zt(Be,Le,Xe,ut);if(M(Xe)){if(ur=M(Xe),typeof ur!="function")throw Error(a(150));return Xe=ur.call(Xe),gr(Be,Le,Xe,ut)}if(typeof Xe.then=="function")return Ua(Be,Le,Pt(Xe),ut);if(Xe.$$typeof===_)return Ua(Be,Le,qm(Be,Xe),ut);Ft(Be,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Le!==null&&Le.tag===6?(g(Be,Le.sibling),ut=A(Le,Xe),ut.return=Be,Be=ut):(g(Be,Le),ut=Gf(Xe,Be.mode,ut),ut.return=Be,Be=ut),G(Be)):g(Be,Le)}return function(Be,Le,Xe,ut){try{qt=0;var ur=Ua(Be,Le,Xe,ut);return ht=null,ur}catch(Jt){if(Jt===De||Jt===Se)throw Jt;var pa=Gi(29,Jt,null,Be.mode);return pa.lanes=ut,pa.return=Be,pa}finally{}}}var Ka=Vr(!0),Cr=Vr(!1),Dt=!1;function Tt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rn(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pr(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Lr(l,h,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(_a&2)!==0){var A=w.pending;return A===null?h.next=h:(h.next=A.next,A.next=h),w.pending=h,h=Ki(l),Vf(l,null,g),h}return Wf(l,w,h,g),Ki(l)}function wa(l,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var w=h.lanes;w&=l.pendingLanes,g|=w,h.lanes=g,Sn(l,g)}}function Zn(l,h){var g=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var G={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};C===null?A=C=G:C=C.next=G,g=g.next}while(g!==null);C===null?A=C=h:C=C.next=h}else A=C=h;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:w.shared,callbacks:w.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=h:l.next=h,g.lastBaseUpdate=h}var Li=!1;function Ia(){if(Li){var l=E;if(l!==null)throw l}}function In(l,h,g,w){Li=!1;var A=l.updateQueue;Dt=!1;var C=A.firstBaseUpdate,G=A.lastBaseUpdate,ue=A.shared.pending;if(ue!==null){A.shared.pending=null;var Ce=ue,Qe=Ce.next;Ce.next=null,G===null?C=Qe:G.next=Qe,G=Ce;var st=l.alternate;st!==null&&(st=st.updateQueue,ue=st.lastBaseUpdate,ue!==G&&(ue===null?st.firstBaseUpdate=Qe:ue.next=Qe,st.lastBaseUpdate=Ce))}if(C!==null){var dt=A.baseState;G=0,st=Qe=Ce=null,ue=C;do{var et=ue.lane&-536870913,tt=et!==ue.lane;if(tt?(Jr&et)===et:(w&et)===et){et!==0&&et===S&&(Li=!0),st!==null&&(st=st.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var zt=l,gr=ue;et=h;var Ua=g;switch(gr.tag){case 1:if(zt=gr.payload,typeof zt=="function"){dt=zt.call(Ua,dt,et);break e}dt=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=gr.payload,et=typeof zt=="function"?zt.call(Ua,dt,et):zt,et==null)break e;dt=m({},dt,et);break e;case 2:Dt=!0}}et=ue.callback,et!==null&&(l.flags|=64,tt&&(l.flags|=8192),tt=A.callbacks,tt===null?A.callbacks=[et]:tt.push(et))}else tt={lane:et,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},st===null?(Qe=st=tt,Ce=dt):st=st.next=tt,G|=et;if(ue=ue.next,ue===null){if(ue=A.shared.pending,ue===null)break;tt=ue,ue=tt.next,tt.next=null,A.lastBaseUpdate=tt,A.shared.pending=null}}while(!0);st===null&&(Ce=dt),A.baseState=Ce,A.firstBaseUpdate=Qe,A.lastBaseUpdate=st,C===null&&(A.shared.lanes=0),O0|=G,l.lanes=G,l.memoizedState=dt}}function Yi(l,h){if(typeof l!="function")throw Error(a(191,l));l.call(h)}function Fn(l,h){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Yi(g[l],h)}var Ur=Z(null),na=Z(0);function an(l,h){l=dd,q(na,l),q(Ur,h),dd=l|h.baseLanes}function ua(){q(na,dd),q(Ur,Ur.current)}function ei(){dd=na.current,P(Ur),P(na)}var nn=Z(null),ia=null;function Cn(l){var h=l.alternate;q(ra,ra.current&1),q(nn,l),ia===null&&(h===null||Ur.current!==null||h.memoizedState!==null)&&(ia=l)}function ka(l){q(ra,ra.current),q(nn,l),ia===null&&(ia=l)}function Bn(l){l.tag===22?(q(ra,ra.current),q(nn,l),ia===null&&(ia=l)):Un()}function Un(){q(ra,ra.current),q(nn,nn.current)}function Aa(l){P(nn),ia===l&&(ia=null),P(ra)}var ra=Z(0);function Xi(l){for(var h=l;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||nk(g)||ik(g)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var pn=0,ir=null,cr=null,sa=null,_s=!1,ko=!1,fs=!1,zn=0,ou=0,lu=null,Hm=0;function Fa(){throw Error(a(321))}function Kg(l,h){if(h===null)return!1;for(var g=0;g<h.length&&g<l.length;g++)if(!Ei(l[g],h[g]))return!1;return!0}function Gg(l,h,g,w,A,C){return pn=C,ir=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,X.H=l===null||l.memoizedState===null?tT:p5,fs=!1,C=g(w,A),fs=!1,ko&&(C=xc(h,g,w,A)),Wm(l),C}function Wm(l){X.H=rx;var h=cr!==null&&cr.next!==null;if(pn=0,sa=cr=ir=null,_s=!1,ou=0,lu=null,h)throw Error(a(300));l===null||hi||(l=l.dependencies,l!==null&&zm(l)&&(hi=!0))}function xc(l,h,g,w){ir=l;var A=0;do{if(ko&&(lu=null),ou=0,ko=!1,25<=A)throw Error(a(301));if(A+=1,sa=cr=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}X.H=rT,C=h(g,w)}while(ko);return C}function l5(){var l=X.H,h=l.useState()[0];return h=typeof h.then=="function"?cu(h):h,l=l.useState()[0],(cr!==null?cr.memoizedState:null)!==l&&(ir.flags|=1024),h}function Yg(){var l=zn!==0;return zn=0,l}function Xg(l,h,g){h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~g}function Vm(l){if(_s){for(l=l.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}_s=!1}pn=0,sa=cr=ir=null,ko=!1,ou=zn=0,lu=null}function fi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?ir.memoizedState=sa=l:sa=sa.next=l,sa}function gn(){if(cr===null){var l=ir.alternate;l=l!==null?l.memoizedState:null}else l=cr.next;var h=sa===null?ir.memoizedState:sa.next;if(h!==null)sa=h,cr=l;else{if(l===null)throw ir.alternate===null?Error(a(467)):Error(a(310));cr=l,l={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},sa===null?ir.memoizedState=sa=l:sa=sa.next=l}return sa}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(l){var h=ou;return ou+=1,lu===null&&(lu=[]),l=nt(lu,l,h),h=ir,(sa===null?h.memoizedState:sa.next)===null&&(h=h.alternate,X.H=h===null||h.memoizedState===null?tT:p5),l}function N0(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return cu(l);if(l.$$typeof===_)return Di(l)}throw Error(a(438,String(l)))}function rd(l){var h=null,g=ir.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var w=ir.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(A){return A.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=Jf(),ir.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(l),w=0;w<l;w++)g[w]=W;return h.index++,g}function Tl(l,h){return typeof h=="function"?h(l):h}function Km(l){var h=gn();return j0(h,cr,l)}function j0(l,h,g){var w=l.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=g;var A=l.baseQueue,C=w.pending;if(C!==null){if(A!==null){var G=A.next;A.next=C.next,C.next=G}h.baseQueue=A=C,w.pending=null}if(C=l.baseState,A===null)l.memoizedState=C;else{h=A.next;var ue=G=null,Ce=null,Qe=h,st=!1;do{var dt=Qe.lane&-536870913;if(dt!==Qe.lane?(Jr&dt)===dt:(pn&dt)===dt){var et=Qe.revertLane;if(et===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),dt===S&&(st=!0);else if((pn&et)===et){Qe=Qe.next,et===S&&(st=!0);continue}else dt={lane:0,revertLane:Qe.revertLane,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Ce===null?(ue=Ce=dt,G=C):Ce=Ce.next=dt,ir.lanes|=et,O0|=et;dt=Qe.action,fs&&g(C,dt),C=Qe.hasEagerState?Qe.eagerState:g(C,dt)}else et={lane:dt,revertLane:Qe.revertLane,gesture:Qe.gesture,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Ce===null?(ue=Ce=et,G=C):Ce=Ce.next=et,ir.lanes|=dt,O0|=dt;Qe=Qe.next}while(Qe!==null&&Qe!==h);if(Ce===null?G=C:Ce.next=ue,!Ei(C,l.memoizedState)&&(hi=!0,st&&(g=E,g!==null)))throw g;l.memoizedState=C,l.baseState=G,l.baseQueue=Ce,w.lastRenderedState=C}return A===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function Gm(l){var h=gn(),g=h.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var w=g.dispatch,A=g.pending,C=h.memoizedState;if(A!==null){g.pending=null;var G=A=A.next;do C=l(C,G.action),G=G.next;while(G!==A);Ei(C,h.memoizedState)||(hi=!0),h.memoizedState=C,h.baseQueue===null&&(h.baseState=C),g.lastRenderedState=C}return[C,w]}function Ym(l,h,g){var w=ir,A=gn(),C=Gr;if(C){if(g===void 0)throw Error(a(407));g=g()}else g=h();var G=!Ei((cr||A).memoizedState,g);if(G&&(A.memoizedState=g,hi=!0),A=A.queue,c5(Jg.bind(null,w,A,l),[l]),A.getSnapshot!==h||G||sa!==null&&sa.memoizedState.tag&1){if(w.flags|=2048,nd(9,{destroy:void 0},Qg.bind(null,w,A,g,h),null),Ga===null)throw Error(a(349));C||(pn&127)!==0||vc(w,h,g)}return g}function vc(l,h,g){l.flags|=16384,l={getSnapshot:h,value:g},h=ir.updateQueue,h===null?(h=Jf(),ir.updateQueue=h,h.stores=[l]):(g=h.stores,g===null?h.stores=[l]:g.push(l))}function Qg(l,h,g,w){h.value=g,h.getSnapshot=w,Iv(h)&&Zg(l)}function Jg(l,h,g){return g(function(){Iv(h)&&Zg(l)})}function Iv(l){var h=l.getSnapshot;l=l.value;try{var g=h();return!Ei(l,g)}catch{return!0}}function Zg(l){var h=pc(l,2);h!==null&&Ao(h,l,2)}function uu(l){var h=fi();if(typeof l=="function"){var g=l;if(l=g(),fs){Yt(!0);try{g()}finally{Yt(!1)}}}return h.memoizedState=h.baseState=l,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:l},h}function Fv(l,h,g,w){return l.baseState=g,j0(l,cr,typeof w=="function"?w:Tl)}function Bv(l,h,g,w,A){if($v(l))throw Error(a(485));if(l=h.action,l!==null){var C={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){C.listeners.push(G)}};X.T!==null?g(!0):C.isTransition=!1,w(C),g=h.pending,g===null?(C.next=h.pending=C,Uv(h,C)):(C.next=g.next,h.pending=g.next=C)}}function Uv(l,h){var g=h.action,w=h.payload,A=l.state;if(h.isTransition){var C=X.T,G={};X.T=G;try{var ue=g(A,w),Ce=X.S;Ce!==null&&Ce(G,ue),ex(l,h,ue)}catch(Qe){ad(l,h,Qe)}finally{C!==null&&G.types!==null&&(C.types=G.types),X.T=C}}else try{C=g(A,w),ex(l,h,C)}catch(Qe){ad(l,h,Qe)}}function ex(l,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){zv(l,h,w)},function(w){return ad(l,h,w)}):zv(l,h,g)}function zv(l,h,g){h.status="fulfilled",h.value=g,Xm(h),l.state=g,h=l.pending,h!==null&&(g=h.next,g===h?l.pending=null:(g=g.next,h.next=g,Uv(l,g)))}function ad(l,h,g){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=g,Xm(h),h=h.next;while(h!==w)}l.action=null}function Xm(l){l=l.listeners;for(var h=0;h<l.length;h++)(0,l[h])()}function Zf(l,h){return h}function El(l,h){if(Gr){var g=Ga.formState;if(g!==null){e:{var w=ir;if(Gr){if(Va){t:{for(var A=Va,C=mn;A.nodeType!==8;){if(!C){A=null;break t}if(A=Cl(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){Va=Cl(A.nextSibling),w=A.data==="F!";break e}}ru(w)}w=!1}w&&(h=g[0])}}return g=fi(),g.memoizedState=g.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:h},g.queue=w,g=JA.bind(null,ir,w),w.dispatch=g,w=uu(!1),C=m5.bind(null,ir,!1,w.queue),w=fi(),A={state:h,dispatch:null,action:l,pending:null},w.queue=A,g=Bv.bind(null,ir,A,C,g),A.dispatch=g,w.memoizedState=l,[h,g,!1]}function yc(l){var h=gn();return bc(h,cr,l)}function bc(l,h,g){if(h=j0(l,h,Zf)[0],l=Km(Tl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=cu(h)}catch(G){throw G===De?Se:G}else w=h;h=gn();var A=h.queue,C=A.dispatch;return g!==h.memoizedState&&(ir.flags|=2048,nd(9,{destroy:void 0},Qm.bind(null,A,g),null)),[w,C,l]}function Qm(l,h){l.action=h}function Jm(l){var h=gn(),g=cr;if(g!==null)return bc(h,g,l);gn(),h=h.memoizedState,g=gn();var w=g.queue.dispatch;return g.memoizedState=l,[h,w,!1]}function nd(l,h,g,w){return l={tag:l,create:g,deps:w,inst:h,next:null},h=ir.updateQueue,h===null&&(h=Jf(),ir.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,h.lastEffect=l),l}function qv(){return gn().memoizedState}function A0(l,h,g,w){var A=fi();ir.flags|=l,A.memoizedState=nd(1|h,{destroy:void 0},g,w===void 0?null:w)}function T0(l,h,g,w){var A=gn();w=w===void 0?null:w;var C=A.memoizedState.inst;cr!==null&&w!==null&&Kg(w,cr.memoizedState.deps)?A.memoizedState=nd(h,C,g,w):(ir.flags|=l,A.memoizedState=nd(1|h,C,g,w))}function FA(l,h){A0(8390656,8,l,h)}function c5(l,h){T0(2048,8,l,h)}function SW(l){ir.flags|=4;var h=ir.updateQueue;if(h===null)h=Jf(),ir.updateQueue=h,h.events=[l];else{var g=h.events;g===null?h.events=[l]:g.push(l)}}function BA(l){var h=gn().memoizedState;return SW({ref:h,nextImpl:l}),function(){if((_a&2)!==0)throw Error(a(440));return h.impl.apply(void 0,arguments)}}function UA(l,h){return T0(4,2,l,h)}function zA(l,h){return T0(4,4,l,h)}function qA(l,h){if(typeof h=="function"){l=l();var g=h(l);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return l=l(),h.current=l,function(){h.current=null}}function $A(l,h,g){g=g!=null?g.concat([l]):null,T0(4,4,qA.bind(null,h,l),g)}function u5(){}function HA(l,h){var g=gn();h=h===void 0?null:h;var w=g.memoizedState;return h!==null&&Kg(h,w[1])?w[0]:(g.memoizedState=[l,h],l)}function WA(l,h){var g=gn();h=h===void 0?null:h;var w=g.memoizedState;if(h!==null&&Kg(h,w[1]))return w[0];if(w=l(),fs){Yt(!0);try{l()}finally{Yt(!1)}}return g.memoizedState=[w,h],w}function d5(l,h,g){return g===void 0||(pn&1073741824)!==0&&(Jr&261930)===0?l.memoizedState=h:(l.memoizedState=g,l=VT(),ir.lanes|=l,O0|=l,g)}function VA(l,h,g,w){return Ei(g,h)?g:Ur.current!==null?(l=d5(l,g,w),Ei(l,h)||(hi=!0),l):(pn&42)===0||(pn&1073741824)!==0&&(Jr&261930)===0?(hi=!0,l.memoizedState=g):(l=VT(),ir.lanes|=l,O0|=l,h)}function KA(l,h,g,w,A){var C=re.p;re.p=C!==0&&8>C?C:8;var G=X.T,ue={};X.T=ue,m5(l,!1,h,g);try{var Ce=A(),Qe=X.S;if(Qe!==null&&Qe(ue,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var st=te(Ce,w);tx(l,h,st,Go(l))}else tx(l,h,w,Go(l))}catch(dt){tx(l,h,{then:function(){},status:"rejected",reason:dt},Go())}finally{re.p=C,G!==null&&ue.types!==null&&(G.types=ue.types),X.T=G}}function NW(){}function f5(l,h,g,w){if(l.tag!==5)throw Error(a(476));var A=GA(l).queue;KA(l,A,h,fe,g===null?NW:function(){return YA(l),g(w)})}function GA(l){var h=l.memoizedState;if(h!==null)return h;h={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:fe},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:g},next:null},l.memoizedState=h,l=l.alternate,l!==null&&(l.memoizedState=h),h}function YA(l){var h=GA(l);h.next===null&&(h=l.alternate.memoizedState),tx(l,h.next.queue,{},Go())}function h5(){return Di(vx)}function XA(){return gn().memoizedState}function QA(){return gn().memoizedState}function jW(l){for(var h=l.return;h!==null;){switch(h.tag){case 24:case 3:var g=Go();l=pr(g);var w=Lr(h,l,g);w!==null&&(Ao(w,h,g),wa(w,h,g)),h={cache:S0()},l.payload=h;return}h=h.return}}function AW(l,h,g){var w=Go();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},$v(l)?ZA(h,g):(g=Dm(l,h,g,w),g!==null&&(Ao(g,l,w),eT(g,h,w)))}function JA(l,h,g){var w=Go();tx(l,h,g,w)}function tx(l,h,g,w){var A={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if($v(l))ZA(h,A);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer,C!==null))try{var G=h.lastRenderedState,ue=C(G,g);if(A.hasEagerState=!0,A.eagerState=ue,Ei(ue,G))return Wf(l,h,A,0),Ga===null&&Hf(),!1}catch{}finally{}if(g=Dm(l,h,A,w),g!==null)return Ao(g,l,w),eT(g,h,w),!0}return!1}function m5(l,h,g,w){if(w={lane:2,revertLane:V5(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},$v(l)){if(h)throw Error(a(479))}else h=Dm(l,g,w,2),h!==null&&Ao(h,l,2)}function $v(l){var h=l.alternate;return l===ir||h!==null&&h===ir}function ZA(l,h){ko=_s=!0;var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}function eT(l,h,g){if((g&4194048)!==0){var w=h.lanes;w&=l.pendingLanes,g|=w,h.lanes=g,Sn(l,g)}}var rx={readContext:Di,use:N0,useCallback:Fa,useContext:Fa,useEffect:Fa,useImperativeHandle:Fa,useLayoutEffect:Fa,useInsertionEffect:Fa,useMemo:Fa,useReducer:Fa,useRef:Fa,useState:Fa,useDebugValue:Fa,useDeferredValue:Fa,useTransition:Fa,useSyncExternalStore:Fa,useId:Fa,useHostTransitionStatus:Fa,useFormState:Fa,useActionState:Fa,useOptimistic:Fa,useMemoCache:Fa,useCacheRefresh:Fa};rx.useEffectEvent=Fa;var tT={readContext:Di,use:N0,useCallback:function(l,h){return fi().memoizedState=[l,h===void 0?null:h],l},useContext:Di,useEffect:FA,useImperativeHandle:function(l,h,g){g=g!=null?g.concat([l]):null,A0(4194308,4,qA.bind(null,h,l),g)},useLayoutEffect:function(l,h){return A0(4194308,4,l,h)},useInsertionEffect:function(l,h){A0(4,2,l,h)},useMemo:function(l,h){var g=fi();h=h===void 0?null:h;var w=l();if(fs){Yt(!0);try{l()}finally{Yt(!1)}}return g.memoizedState=[w,h],w},useReducer:function(l,h,g){var w=fi();if(g!==void 0){var A=g(h);if(fs){Yt(!0);try{g(h)}finally{Yt(!1)}}}else A=h;return w.memoizedState=w.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},w.queue=l,l=l.dispatch=AW.bind(null,ir,l),[w.memoizedState,l]},useRef:function(l){var h=fi();return l={current:l},h.memoizedState=l},useState:function(l){l=uu(l);var h=l.queue,g=JA.bind(null,ir,h);return h.dispatch=g,[l.memoizedState,g]},useDebugValue:u5,useDeferredValue:function(l,h){var g=fi();return d5(g,l,h)},useTransition:function(){var l=uu(!1);return l=KA.bind(null,ir,l.queue,!0,!1),fi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,h,g){var w=ir,A=fi();if(Gr){if(g===void 0)throw Error(a(407));g=g()}else{if(g=h(),Ga===null)throw Error(a(349));(Jr&127)!==0||vc(w,h,g)}A.memoizedState=g;var C={value:g,getSnapshot:h};return A.queue=C,FA(Jg.bind(null,w,C,l),[l]),w.flags|=2048,nd(9,{destroy:void 0},Qg.bind(null,w,C,g,h),null),g},useId:function(){var l=fi(),h=Ga.identifierPrefix;if(Gr){var g=bo,w=yo;g=(w&~(1<<32-Sr(w)-1)).toString(32)+g,h="_"+h+"R_"+g,g=zn++,0<g&&(h+="H"+g.toString(32)),h+="_"}else g=Hm++,h="_"+h+"r_"+g.toString(32)+"_";return l.memoizedState=h},useHostTransitionStatus:h5,useFormState:El,useActionState:El,useOptimistic:function(l){var h=fi();h.memoizedState=h.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=m5.bind(null,ir,!0,g),g.dispatch=h,[l,h]},useMemoCache:rd,useCacheRefresh:function(){return fi().memoizedState=jW.bind(null,ir)},useEffectEvent:function(l){var h=fi(),g={impl:l};return h.memoizedState=g,function(){if((_a&2)!==0)throw Error(a(440));return g.impl.apply(void 0,arguments)}}},p5={readContext:Di,use:N0,useCallback:HA,useContext:Di,useEffect:c5,useImperativeHandle:$A,useInsertionEffect:UA,useLayoutEffect:zA,useMemo:WA,useReducer:Km,useRef:qv,useState:function(){return Km(Tl)},useDebugValue:u5,useDeferredValue:function(l,h){var g=gn();return VA(g,cr.memoizedState,l,h)},useTransition:function(){var l=Km(Tl)[0],h=gn().memoizedState;return[typeof l=="boolean"?l:cu(l),h]},useSyncExternalStore:Ym,useId:XA,useHostTransitionStatus:h5,useFormState:yc,useActionState:yc,useOptimistic:function(l,h){var g=gn();return Fv(g,cr,l,h)},useMemoCache:rd,useCacheRefresh:QA};p5.useEffectEvent=BA;var rT={readContext:Di,use:N0,useCallback:HA,useContext:Di,useEffect:c5,useImperativeHandle:$A,useInsertionEffect:UA,useLayoutEffect:zA,useMemo:WA,useReducer:Gm,useRef:qv,useState:function(){return Gm(Tl)},useDebugValue:u5,useDeferredValue:function(l,h){var g=gn();return cr===null?d5(g,l,h):VA(g,cr.memoizedState,l,h)},useTransition:function(){var l=Gm(Tl)[0],h=gn().memoizedState;return[typeof l=="boolean"?l:cu(l),h]},useSyncExternalStore:Ym,useId:XA,useHostTransitionStatus:h5,useFormState:Jm,useActionState:Jm,useOptimistic:function(l,h){var g=gn();return cr!==null?Fv(g,cr,l,h):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:rd,useCacheRefresh:QA};rT.useEffectEvent=BA;function g5(l,h,g,w){h=l.memoizedState,g=g(w,h),g=g==null?h:m({},h,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var x5={enqueueSetState:function(l,h,g){l=l._reactInternals;var w=Go(),A=pr(w);A.payload=h,g!=null&&(A.callback=g),h=Lr(l,A,w),h!==null&&(Ao(h,l,w),wa(h,l,w))},enqueueReplaceState:function(l,h,g){l=l._reactInternals;var w=Go(),A=pr(w);A.tag=1,A.payload=h,g!=null&&(A.callback=g),h=Lr(l,A,w),h!==null&&(Ao(h,l,w),wa(h,l,w))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var g=Go(),w=pr(g);w.tag=2,h!=null&&(w.callback=h),h=Lr(l,w,g),h!==null&&(Ao(h,l,g),wa(h,l,g))}};function aT(l,h,g,w,A,C,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,C,G):h.prototype&&h.prototype.isPureReactComponent?!dc(g,w)||!dc(A,C):!0}function nT(l,h,g,w){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==l&&x5.enqueueReplaceState(h,h.state,null)}function eh(l,h){var g=h;if("ref"in h){g={};for(var w in h)w!=="ref"&&(g[w]=h[w])}if(l=l.defaultProps){g===h&&(g=m({},g));for(var A in l)g[A]===void 0&&(g[A]=l[A])}return g}function iT(l){$f(l)}function sT(l){console.error(l)}function oT(l){$f(l)}function Hv(l,h){try{var g=l.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function lT(l,h,g){try{var w=l.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function v5(l,h,g){return g=pr(g),g.tag=3,g.payload={element:null},g.callback=function(){Hv(l,h)},g}function cT(l){return l=pr(l),l.tag=3,l}function uT(l,h,g,w){var A=g.type.getDerivedStateFromError;if(typeof A=="function"){var C=w.value;l.payload=function(){return A(C)},l.callback=function(){lT(h,g,w)}}var G=g.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(l.callback=function(){lT(h,g,w),typeof A!="function"&&(P0===null?P0=new Set([this]):P0.add(this));var ue=w.stack;this.componentDidCatch(w.value,{componentStack:ue!==null?ue:""})})}function TW(l,h,g,w,A){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=g.alternate,h!==null&&iu(h,g,A,!0),g=nn.current,g!==null){switch(g.tag){case 31:case 13:return ia===null?ry():g.alternate===null&&qn===0&&(qn=3),g.flags&=-257,g.flags|=65536,g.lanes=A,w===Re?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([w]):h.add(w),$5(l,w,A)),!1;case 22:return g.flags|=65536,w===Re?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([w]):g.add(w)),$5(l,w,A)),!1}throw Error(a(435,g.tag))}return $5(l,w,A),ry(),!1}if(Gr)return h=nn.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=A,w!==Wo&&(l=Error(a(422),{cause:w}),k0(go(l,g)))):(w!==Wo&&(h=Error(a(423),{cause:w}),k0(go(h,g))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,w=go(w,g),A=v5(l.stateNode,w,A),Zn(l,A),qn!==4&&(qn=2)),!1;var C=Error(a(520),{cause:w});if(C=go(C,g),ux===null?ux=[C]:ux.push(C),qn!==4&&(qn=2),h===null)return!0;w=go(w,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,l=A&-A,g.lanes|=l,l=v5(g.stateNode,w,l),Zn(g,l),!1;case 1:if(h=g.type,C=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(P0===null||!P0.has(C))))return g.flags|=65536,A&=-A,g.lanes|=A,A=cT(A),uT(A,l,g,w),Zn(g,A),!1}g=g.return}while(g!==null);return!1}var y5=Error(a(461)),hi=!1;function hs(l,h,g,w){h.child=l===null?Cr(h,null,g,w):Ka(h,l.child,g,w)}function dT(l,h,g,w,A){g=g.render;var C=h.ref;if("ref"in w){var G={};for(var ue in w)ue!=="ref"&&(G[ue]=w[ue])}else G=w;return su(h),w=Gg(l,h,g,G,C,A),ue=Yg(),l!==null&&!hi?(Xg(l,h,A),id(l,h,A)):(Gr&&ue&&Hg(h),h.flags|=1,hs(l,h,w,A),h.child)}function fT(l,h,g,w,A){if(l===null){var C=g.type;return typeof C=="function"&&!Mm(C)&&C.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=C,hT(l,h,C,w,A)):(l=y0(g.type,null,w,h,h.mode,A),l.ref=h.ref,l.return=h,h.child=l)}if(C=l.child,!A5(l,A)){var G=C.memoizedProps;if(g=g.compare,g=g!==null?g:dc,g(G,w)&&l.ref===h.ref)return id(l,h,A)}return h.flags|=1,l=po(C,w),l.ref=h.ref,l.return=h,h.child=l}function hT(l,h,g,w,A){if(l!==null){var C=l.memoizedProps;if(dc(C,w)&&l.ref===h.ref)if(hi=!1,h.pendingProps=w=C,A5(l,A))(l.flags&131072)!==0&&(hi=!0);else return h.lanes=l.lanes,id(l,h,A)}return b5(l,h,g,w,A)}function mT(l,h,g,w){var A=w.children,C=l!==null?l.memoizedState:null;if(l===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((h.flags&128)!==0){if(C=C!==null?C.baseLanes|g:g,l!==null){for(w=h.child=l.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;w=A&~C}else w=0,h.child=null;return pT(l,h,C,g,w)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},l!==null&&xe(h,C!==null?C.cachePool:null),C!==null?an(h,C):ua(),Bn(h);else return w=h.lanes=536870912,pT(l,h,C!==null?C.baseLanes|g:g,g,w)}else C!==null?(xe(h,C.cachePool),an(h,C),Un(),h.memoizedState=null):(l!==null&&xe(h,null),ua(),Un());return hs(l,h,A,g),h.child}function ax(l,h){return l!==null&&l.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function pT(l,h,g,w,A){var C=he();return C=C===null?null:{parent:En._currentValue,pool:C},h.memoizedState={baseLanes:g,cachePool:C},l!==null&&xe(h,null),ua(),Bn(h),l!==null&&iu(l,h,w,!0),h.childLanes=A,null}function Wv(l,h){return h=Kv({mode:h.mode,children:h.children},l.mode),h.ref=l.ref,l.child=h,h.return=l,h}function gT(l,h,g){return Ka(h,l.child,null,g),l=Wv(h,h.pendingProps),l.flags|=2,Aa(h),h.memoizedState=null,l}function EW(l,h,g){var w=h.pendingProps,A=(h.flags&128)!==0;if(h.flags&=-129,l===null){if(Gr){if(w.mode==="hidden")return l=Wv(h,w),h.lanes=536870912,ax(null,l);if(ka(h),(l=Va)?(l=TE(l,mn),l=l!==null&&l.data==="&"?l:null,l!==null&&(h.memoizedState={dehydrated:l,treeContext:tu!==null?{id:yo,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},g=Rm(l),g.return=h,h.child=g,Oi=h,Va=null)):l=null,l===null)throw ru(h);return h.lanes=536870912,null}return Wv(h,w)}var C=l.memoizedState;if(C!==null){var G=C.dehydrated;if(ka(h),A)if(h.flags&256)h.flags&=-257,h=gT(l,h,g);else if(h.memoizedState!==null)h.child=l.child,h.flags|=128,h=null;else throw Error(a(558));else if(hi||iu(l,h,g,!1),A=(g&l.childLanes)!==0,hi||A){if(w=Ga,w!==null&&(G=Si(w,g),G!==0&&G!==C.retryLane))throw C.retryLane=G,pc(l,G),Ao(w,l,G),y5;ry(),h=gT(l,h,g)}else l=C.treeContext,Va=Cl(G.nextSibling),Oi=h,Gr=!0,ds=null,mn=!1,l!==null&&Mv(h,l),h=Wv(h,w),h.flags|=4096;return h}return l=po(l.child,{mode:w.mode,children:w.children}),l.ref=h.ref,h.child=l,l.return=h,l}function Vv(l,h){var g=h.ref;if(g===null)l!==null&&l.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(a(284));(l===null||l.ref!==g)&&(h.flags|=4194816)}}function b5(l,h,g,w,A){return su(h),g=Gg(l,h,g,w,void 0,A),w=Yg(),l!==null&&!hi?(Xg(l,h,A),id(l,h,A)):(Gr&&w&&Hg(h),h.flags|=1,hs(l,h,g,A),h.child)}function xT(l,h,g,w,A,C){return su(h),h.updateQueue=null,g=xc(h,w,g,A),Wm(l),w=Yg(),l!==null&&!hi?(Xg(l,h,C),id(l,h,C)):(Gr&&w&&Hg(h),h.flags|=1,hs(l,h,g,C),h.child)}function vT(l,h,g,w,A){if(su(h),h.stateNode===null){var C=Ci,G=g.contextType;typeof G=="object"&&G!==null&&(C=Di(G)),C=new g(w,C),h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=x5,h.stateNode=C,C._reactInternals=h,C=h.stateNode,C.props=w,C.state=h.memoizedState,C.refs={},Tt(h),G=g.contextType,C.context=typeof G=="object"&&G!==null?Di(G):Ci,C.state=h.memoizedState,G=g.getDerivedStateFromProps,typeof G=="function"&&(g5(h,g,G,w),C.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(G=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),G!==C.state&&x5.enqueueReplaceState(C,C.state,null),In(h,w,C,A),Ia(),C.state=h.memoizedState),typeof C.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(l===null){C=h.stateNode;var ue=h.memoizedProps,Ce=eh(g,ue);C.props=Ce;var Qe=C.context,st=g.contextType;G=Ci,typeof st=="object"&&st!==null&&(G=Di(st));var dt=g.getDerivedStateFromProps;st=typeof dt=="function"||typeof C.getSnapshotBeforeUpdate=="function",ue=h.pendingProps!==ue,st||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ue||Qe!==G)&&nT(h,C,w,G),Dt=!1;var et=h.memoizedState;C.state=et,In(h,w,C,A),Ia(),Qe=h.memoizedState,ue||et!==Qe||Dt?(typeof dt=="function"&&(g5(h,g,dt,w),Qe=h.memoizedState),(Ce=Dt||aT(h,g,Ce,w,et,Qe,G))?(st||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(h.flags|=4194308)):(typeof C.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Qe),C.props=w,C.state=Qe,C.context=G,w=Ce):(typeof C.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{C=h.stateNode,rn(l,h),G=h.memoizedProps,st=eh(g,G),C.props=st,dt=h.pendingProps,et=C.context,Qe=g.contextType,Ce=Ci,typeof Qe=="object"&&Qe!==null&&(Ce=Di(Qe)),ue=g.getDerivedStateFromProps,(Qe=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(G!==dt||et!==Ce)&&nT(h,C,w,Ce),Dt=!1,et=h.memoizedState,C.state=et,In(h,w,C,A),Ia();var tt=h.memoizedState;G!==dt||et!==tt||Dt||l!==null&&l.dependencies!==null&&zm(l.dependencies)?(typeof ue=="function"&&(g5(h,g,ue,w),tt=h.memoizedState),(st=Dt||aT(h,g,st,w,et,tt,Ce)||l!==null&&l.dependencies!==null&&zm(l.dependencies))?(Qe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(w,tt,Ce),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(w,tt,Ce)),typeof C.componentDidUpdate=="function"&&(h.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof C.componentDidUpdate!="function"||G===l.memoizedProps&&et===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&et===l.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=tt),C.props=w,C.state=tt,C.context=Ce,w=st):(typeof C.componentDidUpdate!="function"||G===l.memoizedProps&&et===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&et===l.memoizedState||(h.flags|=1024),w=!1)}return C=w,Vv(l,h),w=(h.flags&128)!==0,C||w?(C=h.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:C.render(),h.flags|=1,l!==null&&w?(h.child=Ka(h,l.child,null,A),h.child=Ka(h,null,g,A)):hs(l,h,g,A),h.memoizedState=C.state,l=h.child):l=id(l,h,A),l}function yT(l,h,g,w){return ed(),h.flags|=256,hs(l,h,g,w),h.child}var w5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function k5(l){return{baseLanes:l,cachePool:Ne()}}function _5(l,h,g){return l=l!==null?l.childLanes&~g:0,h&&(l|=Ko),l}function bT(l,h,g){var w=h.pendingProps,A=!1,C=(h.flags&128)!==0,G;if((G=C)||(G=l!==null&&l.memoizedState===null?!1:(ra.current&2)!==0),G&&(A=!0,h.flags&=-129),G=(h.flags&32)!==0,h.flags&=-33,l===null){if(Gr){if(A?Cn(h):Un(),(l=Va)?(l=TE(l,mn),l=l!==null&&l.data!=="&"?l:null,l!==null&&(h.memoizedState={dehydrated:l,treeContext:tu!==null?{id:yo,overflow:bo}:null,retryLane:536870912,hydrationErrors:null},g=Rm(l),g.return=h,h.child=g,Oi=h,Va=null)):l=null,l===null)throw ru(h);return ik(l)?h.lanes=32:h.lanes=536870912,null}var ue=w.children;return w=w.fallback,A?(Un(),A=h.mode,ue=Kv({mode:"hidden",children:ue},A),w=eu(w,A,g,null),ue.return=h,w.return=h,ue.sibling=w,h.child=ue,w=h.child,w.memoizedState=k5(g),w.childLanes=_5(l,G,g),h.memoizedState=w5,ax(null,w)):(Cn(h),S5(h,ue))}var Ce=l.memoizedState;if(Ce!==null&&(ue=Ce.dehydrated,ue!==null)){if(C)h.flags&256?(Cn(h),h.flags&=-257,h=N5(l,h,g)):h.memoizedState!==null?(Un(),h.child=l.child,h.flags|=128,h=null):(Un(),ue=w.fallback,A=h.mode,w=Kv({mode:"visible",children:w.children},A),ue=eu(ue,A,g,null),ue.flags|=2,w.return=h,ue.return=h,w.sibling=ue,h.child=w,Ka(h,l.child,null,g),w=h.child,w.memoizedState=k5(g),w.childLanes=_5(l,G,g),h.memoizedState=w5,h=ax(null,w));else if(Cn(h),ik(ue)){if(G=ue.nextSibling&&ue.nextSibling.dataset,G)var Qe=G.dgst;G=Qe,w=Error(a(419)),w.stack="",w.digest=G,k0({value:w,source:null,stack:null}),h=N5(l,h,g)}else if(hi||iu(l,h,g,!1),G=(g&l.childLanes)!==0,hi||G){if(G=Ga,G!==null&&(w=Si(G,g),w!==0&&w!==Ce.retryLane))throw Ce.retryLane=w,pc(l,w),Ao(G,l,w),y5;nk(ue)||ry(),h=N5(l,h,g)}else nk(ue)?(h.flags|=192,h.child=l.child,h=null):(l=Ce.treeContext,Va=Cl(ue.nextSibling),Oi=h,Gr=!0,ds=null,mn=!1,l!==null&&Mv(h,l),h=S5(h,w.children),h.flags|=4096);return h}return A?(Un(),ue=w.fallback,A=h.mode,Ce=l.child,Qe=Ce.sibling,w=po(Ce,{mode:"hidden",children:w.children}),w.subtreeFlags=Ce.subtreeFlags&65011712,Qe!==null?ue=po(Qe,ue):(ue=eu(ue,A,g,null),ue.flags|=2),ue.return=h,w.return=h,w.sibling=ue,h.child=w,ax(null,w),w=h.child,ue=l.child.memoizedState,ue===null?ue=k5(g):(A=ue.cachePool,A!==null?(Ce=En._currentValue,A=A.parent!==Ce?{parent:Ce,pool:Ce}:A):A=Ne(),ue={baseLanes:ue.baseLanes|g,cachePool:A}),w.memoizedState=ue,w.childLanes=_5(l,G,g),h.memoizedState=w5,ax(l.child,w)):(Cn(h),g=l.child,l=g.sibling,g=po(g,{mode:"visible",children:w.children}),g.return=h,g.sibling=null,l!==null&&(G=h.deletions,G===null?(h.deletions=[l],h.flags|=16):G.push(l)),h.child=g,h.memoizedState=null,g)}function S5(l,h){return h=Kv({mode:"visible",children:h},l.mode),h.return=l,l.child=h}function Kv(l,h){return l=Gi(22,l,null,h),l.lanes=0,l}function N5(l,h,g){return Ka(h,l.child,null,g),l=S5(h,h.pendingProps.children),l.flags|=2,h.memoizedState=null,l}function wT(l,h,g){l.lanes|=h;var w=l.alternate;w!==null&&(w.lanes|=h),_0(l.return,h,g)}function j5(l,h,g,w,A,C){var G=l.memoizedState;G===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A,treeForkCount:C}:(G.isBackwards=h,G.rendering=null,G.renderingStartTime=0,G.last=w,G.tail=g,G.tailMode=A,G.treeForkCount=C)}function kT(l,h,g){var w=h.pendingProps,A=w.revealOrder,C=w.tail;w=w.children;var G=ra.current,ue=(G&2)!==0;if(ue?(G=G&1|2,h.flags|=128):G&=1,q(ra,G),hs(l,h,w,g),w=Gr?Yf:0,!ue&&l!==null&&(l.flags&128)!==0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&wT(l,g,h);else if(l.tag===19)wT(l,g,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(g=h.child,A=null;g!==null;)l=g.alternate,l!==null&&Xi(l)===null&&(A=g),g=g.sibling;g=A,g===null?(A=h.child,h.child=null):(A=g.sibling,g.sibling=null),j5(h,!1,A,g,C,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,A=h.child,h.child=null;A!==null;){if(l=A.alternate,l!==null&&Xi(l)===null){h.child=A;break}l=A.sibling,A.sibling=g,g=A,A=l}j5(h,!0,g,null,C,w);break;case"together":j5(h,!1,null,null,void 0,w);break;default:h.memoizedState=null}return h.child}function id(l,h,g){if(l!==null&&(h.dependencies=l.dependencies),O0|=h.lanes,(g&h.childLanes)===0)if(l!==null){if(iu(l,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(l!==null&&h.child!==l.child)throw Error(a(153));if(h.child!==null){for(l=h.child,g=po(l,l.pendingProps),h.child=g,g.return=h;l.sibling!==null;)l=l.sibling,g=g.sibling=po(l,l.pendingProps),g.return=h;g.sibling=null}return h.child}function A5(l,h){return(l.lanes&h)!==0?!0:(l=l.dependencies,!!(l!==null&&zm(l)))}function CW(l,h,g){switch(h.tag){case 3:Ee(h,h.stateNode.containerInfo),nu(h,En,l.memoizedState.cache),ed();break;case 27:case 5:je(h);break;case 4:Ee(h,h.stateNode.containerInfo);break;case 10:nu(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,ka(h),null;break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Cn(h),h.flags|=128,null):(g&h.child.childLanes)!==0?bT(l,h,g):(Cn(h),l=id(l,h,g),l!==null?l.sibling:null);Cn(h);break;case 19:var A=(l.flags&128)!==0;if(w=(g&h.childLanes)!==0,w||(iu(l,h,g,!1),w=(g&h.childLanes)!==0),A){if(w)return kT(l,h,g);h.flags|=128}if(A=h.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),q(ra,ra.current),w)break;return null;case 22:return h.lanes=0,mT(l,h,g,h.pendingProps);case 24:nu(h,En,l.memoizedState.cache)}return id(l,h,g)}function _T(l,h,g){if(l!==null)if(l.memoizedProps!==h.pendingProps)hi=!0;else{if(!A5(l,g)&&(h.flags&128)===0)return hi=!1,CW(l,h,g);hi=(l.flags&131072)!==0}else hi=!1,Gr&&(h.flags&1048576)!==0&&Lv(h,Yf,h.index);switch(h.lanes=0,h.tag){case 16:e:{var w=h.pendingProps;if(l=He(h.elementType),h.type=l,typeof l=="function")Mm(l)?(w=eh(l,w),h.tag=1,h=vT(null,h,l,w,g)):(h.tag=0,h=b5(null,h,l,w,g));else{if(l!=null){var A=l.$$typeof;if(A===T){h.tag=11,h=dT(null,h,l,w,g);break e}else if(A===R){h.tag=14,h=fT(null,h,l,w,g);break e}}throw h=Y(l)||l,Error(a(306,h,""))}}return h;case 0:return b5(l,h,h.type,h.pendingProps,g);case 1:return w=h.type,A=eh(w,h.pendingProps),vT(l,h,w,A,g);case 3:e:{if(Ee(h,h.stateNode.containerInfo),l===null)throw Error(a(387));w=h.pendingProps;var C=h.memoizedState;A=C.element,rn(l,h),In(h,w,null,g);var G=h.memoizedState;if(w=G.cache,nu(h,En,w),w!==C.cache&&td(h,[En],g,!0),Ia(),w=G.element,C.isDehydrated)if(C={element:w,isDehydrated:!1,cache:G.cache},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){h=yT(l,h,w,g);break e}else if(w!==A){A=go(Error(a(424)),h),k0(A),h=yT(l,h,w,g);break e}else{switch(l=h.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Va=Cl(l.firstChild),Oi=h,Gr=!0,ds=null,mn=!0,g=Cr(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(ed(),w===A){h=id(l,h,g);break e}hs(l,h,w,g)}h=h.child}return h;case 26:return Vv(l,h),l===null?(g=LE(h.type,null,h.pendingProps,null))?h.memoizedState=g:Gr||(g=h.type,l=h.pendingProps,w=cy(Q.current).createElement(g),w[pe]=h,w[we]=l,ms(w,g,l),Ct(w),h.stateNode=w):h.memoizedState=LE(h.type,l.memoizedProps,h.pendingProps,l.memoizedState),null;case 27:return je(h),l===null&&Gr&&(w=h.stateNode=OE(h.type,h.pendingProps,Q.current),Oi=h,mn=!0,A=Va,R0(h.type)?(sk=A,Va=Cl(w.firstChild)):Va=A),hs(l,h,h.pendingProps.children,g),Vv(l,h),l===null&&(h.flags|=4194304),h.child;case 5:return l===null&&Gr&&((A=w=Va)&&(w=sV(w,h.type,h.pendingProps,mn),w!==null?(h.stateNode=w,Oi=h,Va=Cl(w.firstChild),mn=!1,A=!0):A=!1),A||ru(h)),je(h),A=h.type,C=h.pendingProps,G=l!==null?l.memoizedProps:null,w=C.children,tk(A,C)?w=null:G!==null&&tk(A,G)&&(h.flags|=32),h.memoizedState!==null&&(A=Gg(l,h,l5,null,null,g),vx._currentValue=A),Vv(l,h),hs(l,h,w,g),h.child;case 6:return l===null&&Gr&&((l=g=Va)&&(g=oV(g,h.pendingProps,mn),g!==null?(h.stateNode=g,Oi=h,Va=null,l=!0):l=!1),l||ru(h)),null;case 13:return bT(l,h,g);case 4:return Ee(h,h.stateNode.containerInfo),w=h.pendingProps,l===null?h.child=Ka(h,null,w,g):hs(l,h,w,g),h.child;case 11:return dT(l,h,h.type,h.pendingProps,g);case 7:return hs(l,h,h.pendingProps,g),h.child;case 8:return hs(l,h,h.pendingProps.children,g),h.child;case 12:return hs(l,h,h.pendingProps.children,g),h.child;case 10:return w=h.pendingProps,nu(h,h.type,w.value),hs(l,h,w.children,g),h.child;case 9:return A=h.type._context,w=h.pendingProps.children,su(h),A=Di(A),w=w(A),h.flags|=1,hs(l,h,w,g),h.child;case 14:return fT(l,h,h.type,h.pendingProps,g);case 15:return hT(l,h,h.type,h.pendingProps,g);case 19:return kT(l,h,g);case 31:return EW(l,h,g);case 22:return mT(l,h,g,h.pendingProps);case 24:return su(h),w=Di(En),l===null?(A=he(),A===null&&(A=Ga,C=S0(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=g),A=C),h.memoizedState={parent:w,cache:A},Tt(h),nu(h,En,A)):((l.lanes&g)!==0&&(rn(l,h),In(h,null,null,g),Ia()),A=l.memoizedState,C=h.memoizedState,A.parent!==w?(A={parent:w,cache:w},h.memoizedState=A,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=A),nu(h,En,w)):(w=C.cache,nu(h,En,w),w!==A.cache&&td(h,[En],g,!0))),hs(l,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(a(156,h.tag))}function sd(l){l.flags|=4}function T5(l,h,g,w,A){if((h=(l.mode&32)!==0)&&(h=!1),h){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(XT())l.flags|=8192;else throw at=Re,Ke}else l.flags&=-16777217}function ST(l,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!BE(h))if(XT())l.flags|=8192;else throw at=Re,Ke}function Gv(l,h){h!==null&&(l.flags|=4),l.flags&16384&&(h=l.tag!==22?ss():536870912,l.lanes|=h,rp|=h)}function nx(l,h){if(!Gr)switch(l.tailMode){case"hidden":h=l.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function sn(l){var h=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(h)for(var A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&65011712,w|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=w,l.childLanes=g,h}function OW(l,h,g){var w=h.pendingProps;switch(Bm(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(h),null;case 1:return sn(h),null;case 3:return g=h.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),wo(En),ie(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Pi(h)?sd(h):l===null||l.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Vg())),sn(h),null;case 26:var A=h.type,C=h.memoizedState;return l===null?(sd(h),C!==null?(sn(h),ST(h,C)):(sn(h),T5(h,A,null,w,g))):C?C!==l.memoizedState?(sd(h),sn(h),ST(h,C)):(sn(h),h.flags&=-16777217):(l=l.memoizedProps,l!==w&&sd(h),sn(h),T5(h,A,l,w,g)),null;case 27:if(Me(h),g=Q.current,A=h.type,l!==null&&h.stateNode!=null)l.memoizedProps!==w&&sd(h);else{if(!w){if(h.stateNode===null)throw Error(a(166));return sn(h),null}l=V.current,Pi(h)?Wg(h):(l=OE(A,w,g),h.stateNode=l,sd(h))}return sn(h),null;case 5:if(Me(h),A=h.type,l!==null&&h.stateNode!=null)l.memoizedProps!==w&&sd(h);else{if(!w){if(h.stateNode===null)throw Error(a(166));return sn(h),null}if(C=V.current,Pi(h))Wg(h);else{var G=cy(Q.current);switch(C){case 1:C=G.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=G.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=G.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=G.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=G.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof w.is=="string"?G.createElement("select",{is:w.is}):G.createElement("select"),w.multiple?C.multiple=!0:w.size&&(C.size=w.size);break;default:C=typeof w.is=="string"?G.createElement(A,{is:w.is}):G.createElement(A)}}C[pe]=h,C[we]=w;e:for(G=h.child;G!==null;){if(G.tag===5||G.tag===6)C.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===h)break e;for(;G.sibling===null;){if(G.return===null||G.return===h)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}h.stateNode=C;e:switch(ms(C,A,w),A){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&sd(h)}}return sn(h),T5(h,h.type,l===null?null:l.memoizedProps,h.pendingProps,g),null;case 6:if(l&&h.stateNode!=null)l.memoizedProps!==w&&sd(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(a(166));if(l=Q.current,Pi(h)){if(l=h.stateNode,g=h.memoizedProps,w=null,A=Oi,A!==null)switch(A.tag){case 27:case 5:w=A.memoizedProps}l[pe]=h,l=!!(l.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||bE(l.nodeValue,g)),l||ru(h,!0)}else l=cy(l).createTextNode(w),l[pe]=h,h.stateNode=l}return sn(h),null;case 31:if(g=h.memoizedState,l===null||l.memoizedState!==null){if(w=Pi(h),g!==null){if(l===null){if(!w)throw Error(a(318));if(l=h.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(557));l[pe]=h}else ed(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;sn(h),l=!1}else g=Vg(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return h.flags&256?(Aa(h),h):(Aa(h),null);if((h.flags&128)!==0)throw Error(a(558))}return sn(h),null;case 13:if(w=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=Pi(h),w!==null&&w.dehydrated!==null){if(l===null){if(!A)throw Error(a(318));if(A=h.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(a(317));A[pe]=h}else ed(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;sn(h),A=!1}else A=Vg(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return h.flags&256?(Aa(h),h):(Aa(h),null)}return Aa(h),(h.flags&128)!==0?(h.lanes=g,h):(g=w!==null,l=l!==null&&l.memoizedState!==null,g&&(w=h.child,A=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(A=w.alternate.memoizedState.cachePool.pool),C=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(C=w.memoizedState.cachePool.pool),C!==A&&(w.flags|=2048)),g!==l&&g&&(h.child.flags|=8192),Gv(h,h.updateQueue),sn(h),null);case 4:return ie(),l===null&&X5(h.stateNode.containerInfo),sn(h),null;case 10:return wo(h.type),sn(h),null;case 19:if(P(ra),w=h.memoizedState,w===null)return sn(h),null;if(A=(h.flags&128)!==0,C=w.rendering,C===null)if(A)nx(w,!1);else{if(qn!==0||l!==null&&(l.flags&128)!==0)for(l=h.child;l!==null;){if(C=Xi(l),C!==null){for(h.flags|=128,nx(w,!1),l=C.updateQueue,h.updateQueue=l,Gv(h,l),h.subtreeFlags=0,l=g,g=h.child;g!==null;)Kf(g,l),g=g.sibling;return q(ra,ra.current&1|2),Gr&&Qs(h,w.treeForkCount),h.child}l=l.sibling}w.tail!==null&&Rt()>Zv&&(h.flags|=128,A=!0,nx(w,!1),h.lanes=4194304)}else{if(!A)if(l=Xi(C),l!==null){if(h.flags|=128,A=!0,l=l.updateQueue,h.updateQueue=l,Gv(h,l),nx(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Gr)return sn(h),null}else 2*Rt()-w.renderingStartTime>Zv&&g!==536870912&&(h.flags|=128,A=!0,nx(w,!1),h.lanes=4194304);w.isBackwards?(C.sibling=h.child,h.child=C):(l=w.last,l!==null?l.sibling=C:h.child=C,w.last=C)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Rt(),l.sibling=null,g=ra.current,q(ra,A?g&1|2:g&1),Gr&&Qs(h,w.treeForkCount),l):(sn(h),null);case 22:case 23:return Aa(h),ei(),w=h.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(g&536870912)!==0&&(h.flags&128)===0&&(sn(h),h.subtreeFlags&6&&(h.flags|=8192)):sn(h),g=h.updateQueue,g!==null&&Gv(h,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==g&&(h.flags|=2048),l!==null&&P(le),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),wo(En),sn(h),null;case 25:return null;case 30:return null}throw Error(a(156,h.tag))}function PW(l,h){switch(Bm(h),h.tag){case 1:return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 3:return wo(En),ie(),l=h.flags,(l&65536)!==0&&(l&128)===0?(h.flags=l&-65537|128,h):null;case 26:case 27:case 5:return Me(h),null;case 31:if(h.memoizedState!==null){if(Aa(h),h.alternate===null)throw Error(a(340));ed()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 13:if(Aa(h),l=h.memoizedState,l!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(a(340));ed()}return l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 19:return P(ra),null;case 4:return ie(),null;case 10:return wo(h.type),null;case 22:case 23:return Aa(h),ei(),l!==null&&P(le),l=h.flags,l&65536?(h.flags=l&-65537|128,h):null;case 24:return wo(En),null;case 25:return null;default:return null}}function NT(l,h){switch(Bm(h),h.tag){case 3:wo(En),ie();break;case 26:case 27:case 5:Me(h);break;case 4:ie();break;case 31:h.memoizedState!==null&&Aa(h);break;case 13:Aa(h);break;case 19:P(ra);break;case 10:wo(h.type);break;case 22:case 23:Aa(h),ei(),l!==null&&P(le);break;case 24:wo(En)}}function ix(l,h){try{var g=h.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var A=w.next;g=A;do{if((g.tag&l)===l){w=void 0;var C=g.create,G=g.inst;w=C(),G.destroy=w}g=g.next}while(g!==A)}}catch(ue){Ea(h,h.return,ue)}}function E0(l,h,g){try{var w=h.updateQueue,A=w!==null?w.lastEffect:null;if(A!==null){var C=A.next;w=C;do{if((w.tag&l)===l){var G=w.inst,ue=G.destroy;if(ue!==void 0){G.destroy=void 0,A=h;var Ce=g,Qe=ue;try{Qe()}catch(st){Ea(A,Ce,st)}}}w=w.next}while(w!==C)}}catch(st){Ea(h,h.return,st)}}function jT(l){var h=l.updateQueue;if(h!==null){var g=l.stateNode;try{Fn(h,g)}catch(w){Ea(l,l.return,w)}}}function AT(l,h,g){g.props=eh(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(w){Ea(l,h,w)}}function sx(l,h){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof g=="function"?l.refCleanup=g(w):g.current=w}}catch(A){Ea(l,h,A)}}function du(l,h){var g=l.ref,w=l.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(A){Ea(l,h,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(A){Ea(l,h,A)}else g.current=null}function TT(l){var h=l.type,g=l.memoizedProps,w=l.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(A){Ea(l,l.return,A)}}function E5(l,h,g){try{var w=l.stateNode;eV(w,l.type,g,h),w[we]=h}catch(A){Ea(l,l.return,A)}}function ET(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&R0(l.type)||l.tag===4}function C5(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||ET(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&R0(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function O5(l,h,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(l),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=Uo));else if(w!==4&&(w===27&&R0(l.type)&&(g=l.stateNode,h=null),l=l.child,l!==null))for(O5(l,h,g),l=l.sibling;l!==null;)O5(l,h,g),l=l.sibling}function Yv(l,h,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,h?g.insertBefore(l,h):g.appendChild(l);else if(w!==4&&(w===27&&R0(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(Yv(l,h,g),l=l.sibling;l!==null;)Yv(l,h,g),l=l.sibling}function CT(l){var h=l.stateNode,g=l.memoizedProps;try{for(var w=l.type,A=h.attributes;A.length;)h.removeAttributeNode(A[0]);ms(h,w,g),h[pe]=l,h[we]=g}catch(C){Ea(l,l.return,C)}}var od=!1,mi=!1,P5=!1,OT=typeof WeakSet=="function"?WeakSet:Set,Qi=null;function DW(l,h){if(l=l.containerInfo,Z5=gy,l=hc(l),Nl(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,C=w.focusNode;w=w.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var G=0,ue=-1,Ce=-1,Qe=0,st=0,dt=l,et=null;t:for(;;){for(var tt;dt!==g||A!==0&&dt.nodeType!==3||(ue=G+A),dt!==C||w!==0&&dt.nodeType!==3||(Ce=G+w),dt.nodeType===3&&(G+=dt.nodeValue.length),(tt=dt.firstChild)!==null;)et=dt,dt=tt;for(;;){if(dt===l)break t;if(et===g&&++Qe===A&&(ue=G),et===C&&++st===w&&(Ce=G),(tt=dt.nextSibling)!==null)break;dt=et,et=dt.parentNode}dt=tt}g=ue===-1||Ce===-1?null:{start:ue,end:Ce}}else g=null}g=g||{start:0,end:0}}else g=null;for(ek={focusedElem:l,selectionRange:g},gy=!1,Qi=h;Qi!==null;)if(h=Qi,l=h.child,(h.subtreeFlags&1028)!==0&&l!==null)l.return=h,Qi=l;else for(;Qi!==null;){switch(h=Qi,C=h.alternate,l=h.flags,h.tag){case 0:if((l&4)!==0&&(l=h.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)A=l[g],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,g=h,A=C.memoizedProps,C=C.memoizedState,w=g.stateNode;try{var zt=eh(g.type,A);l=w.getSnapshotBeforeUpdate(zt,C),w.__reactInternalSnapshotBeforeUpdate=l}catch(gr){Ea(g,g.return,gr)}}break;case 3:if((l&1024)!==0){if(l=h.stateNode.containerInfo,g=l.nodeType,g===9)ak(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":ak(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(a(163))}if(l=h.sibling,l!==null){l.return=h.return,Qi=l;break}Qi=h.return}}function PT(l,h,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:cd(l,g),w&4&&ix(5,g);break;case 1:if(cd(l,g),w&4)if(l=g.stateNode,h===null)try{l.componentDidMount()}catch(G){Ea(g,g.return,G)}else{var A=eh(g.type,h.memoizedProps);h=h.memoizedState;try{l.componentDidUpdate(A,h,l.__reactInternalSnapshotBeforeUpdate)}catch(G){Ea(g,g.return,G)}}w&64&&jT(g),w&512&&sx(g,g.return);break;case 3:if(cd(l,g),w&64&&(l=g.updateQueue,l!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{Fn(l,h)}catch(G){Ea(g,g.return,G)}}break;case 27:h===null&&w&4&&CT(g);case 26:case 5:cd(l,g),h===null&&w&4&&TT(g),w&512&&sx(g,g.return);break;case 12:cd(l,g);break;case 31:cd(l,g),w&4&&MT(l,g);break;case 13:cd(l,g),w&4&&RT(l,g),w&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=qW.bind(null,g),lV(l,g))));break;case 22:if(w=g.memoizedState!==null||od,!w){h=h!==null&&h.memoizedState!==null||mi,A=od;var C=mi;od=w,(mi=h)&&!C?ud(l,g,(g.subtreeFlags&8772)!==0):cd(l,g),od=A,mi=C}break;case 30:break;default:cd(l,g)}}function DT(l){var h=l.alternate;h!==null&&(l.alternate=null,DT(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode,h!==null&&Ye(h)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var xn=null,_o=!1;function ld(l,h,g){for(g=g.child;g!==null;)LT(l,h,g),g=g.sibling}function LT(l,h,g){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Gt,g)}catch{}switch(g.tag){case 26:mi||du(g,h),ld(l,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:mi||du(g,h);var w=xn,A=_o;R0(g.type)&&(xn=g.stateNode,_o=!1),ld(l,h,g),px(g.stateNode),xn=w,_o=A;break;case 5:mi||du(g,h);case 6:if(w=xn,A=_o,xn=null,ld(l,h,g),xn=w,_o=A,xn!==null)if(_o)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(g.stateNode)}catch(C){Ea(g,h,C)}else try{xn.removeChild(g.stateNode)}catch(C){Ea(g,h,C)}break;case 18:xn!==null&&(_o?(l=xn,jE(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),up(l)):jE(xn,g.stateNode));break;case 4:w=xn,A=_o,xn=g.stateNode.containerInfo,_o=!0,ld(l,h,g),xn=w,_o=A;break;case 0:case 11:case 14:case 15:E0(2,g,h),mi||E0(4,g,h),ld(l,h,g);break;case 1:mi||(du(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"&&AT(g,h,w)),ld(l,h,g);break;case 21:ld(l,h,g);break;case 22:mi=(w=mi)||g.memoizedState!==null,ld(l,h,g),mi=w;break;default:ld(l,h,g)}}function MT(l,h){if(h.memoizedState===null&&(l=h.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{up(l)}catch(g){Ea(h,h.return,g)}}}function RT(l,h){if(h.memoizedState===null&&(l=h.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{up(l)}catch(g){Ea(h,h.return,g)}}function LW(l){switch(l.tag){case 31:case 13:case 19:var h=l.stateNode;return h===null&&(h=l.stateNode=new OT),h;case 22:return l=l.stateNode,h=l._retryCache,h===null&&(h=l._retryCache=new OT),h;default:throw Error(a(435,l.tag))}}function Xv(l,h){var g=LW(l);h.forEach(function(w){if(!g.has(w)){g.add(w);var A=$W.bind(null,l,w);w.then(A,A)}})}function So(l,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w],C=l,G=h,ue=G;e:for(;ue!==null;){switch(ue.tag){case 27:if(R0(ue.type)){xn=ue.stateNode,_o=!1;break e}break;case 5:xn=ue.stateNode,_o=!1;break e;case 3:case 4:xn=ue.stateNode.containerInfo,_o=!0;break e}ue=ue.return}if(xn===null)throw Error(a(160));LT(C,G,A),xn=null,_o=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)IT(h,l),h=h.sibling}var wc=null;function IT(l,h){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:So(h,l),No(l),w&4&&(E0(3,l,l.return),ix(3,l),E0(5,l,l.return));break;case 1:So(h,l),No(l),w&512&&(mi||g===null||du(g,g.return)),w&64&&od&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var A=wc;if(So(h,l),No(l),w&512&&(mi||g===null||du(g,g.return)),w&4){var C=g!==null?g.memoizedState:null;if(w=l.memoizedState,g===null)if(w===null)if(l.stateNode===null){e:{w=l.type,g=l.memoizedProps,A=A.ownerDocument||A;t:switch(w){case"title":C=A.getElementsByTagName("title")[0],(!C||C[ye]||C[pe]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(w),A.head.insertBefore(C,A.querySelector("head > title"))),ms(C,w,g),C[pe]=l,Ct(C),w=C;break e;case"link":var G=IE("link","href",A).get(w+(g.href||""));if(G){for(var ue=0;ue<G.length;ue++)if(C=G[ue],C.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&C.getAttribute("rel")===(g.rel==null?null:g.rel)&&C.getAttribute("title")===(g.title==null?null:g.title)&&C.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){G.splice(ue,1);break t}}C=A.createElement(w),ms(C,w,g),A.head.appendChild(C);break;case"meta":if(G=IE("meta","content",A).get(w+(g.content||""))){for(ue=0;ue<G.length;ue++)if(C=G[ue],C.getAttribute("content")===(g.content==null?null:""+g.content)&&C.getAttribute("name")===(g.name==null?null:g.name)&&C.getAttribute("property")===(g.property==null?null:g.property)&&C.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&C.getAttribute("charset")===(g.charSet==null?null:g.charSet)){G.splice(ue,1);break t}}C=A.createElement(w),ms(C,w,g),A.head.appendChild(C);break;default:throw Error(a(468,w))}C[pe]=l,Ct(C),w=C}l.stateNode=w}else FE(A,l.type,l.stateNode);else l.stateNode=RE(A,w,l.memoizedProps);else C!==w?(C===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):C.count--,w===null?FE(A,l.type,l.stateNode):RE(A,w,l.memoizedProps)):w===null&&l.stateNode!==null&&E5(l,l.memoizedProps,g.memoizedProps)}break;case 27:So(h,l),No(l),w&512&&(mi||g===null||du(g,g.return)),g!==null&&w&4&&E5(l,l.memoizedProps,g.memoizedProps);break;case 5:if(So(h,l),No(l),w&512&&(mi||g===null||du(g,g.return)),l.flags&32){A=l.stateNode;try{Hs(A,"")}catch(zt){Ea(l,l.return,zt)}}w&4&&l.stateNode!=null&&(A=l.memoizedProps,E5(l,A,g!==null?g.memoizedProps:A)),w&1024&&(P5=!0);break;case 6:if(So(h,l),No(l),w&4){if(l.stateNode===null)throw Error(a(162));w=l.memoizedProps,g=l.stateNode;try{g.nodeValue=w}catch(zt){Ea(l,l.return,zt)}}break;case 3:if(fy=null,A=wc,wc=uy(h.containerInfo),So(h,l),wc=A,No(l),w&4&&g!==null&&g.memoizedState.isDehydrated)try{up(h.containerInfo)}catch(zt){Ea(l,l.return,zt)}P5&&(P5=!1,FT(l));break;case 4:w=wc,wc=uy(l.stateNode.containerInfo),So(h,l),No(l),wc=w;break;case 12:So(h,l),No(l);break;case 31:So(h,l),No(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Xv(l,w)));break;case 13:So(h,l),No(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Jv=Rt()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Xv(l,w)));break;case 22:A=l.memoizedState!==null;var Ce=g!==null&&g.memoizedState!==null,Qe=od,st=mi;if(od=Qe||A,mi=st||Ce,So(h,l),mi=st,od=Qe,No(l),w&8192)e:for(h=l.stateNode,h._visibility=A?h._visibility&-2:h._visibility|1,A&&(g===null||Ce||od||mi||th(l)),g=null,h=l;;){if(h.tag===5||h.tag===26){if(g===null){Ce=g=h;try{if(C=Ce.stateNode,A)G=C.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ue=Ce.stateNode;var dt=Ce.memoizedProps.style,et=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;ue.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(zt){Ea(Ce,Ce.return,zt)}}}else if(h.tag===6){if(g===null){Ce=h;try{Ce.stateNode.nodeValue=A?"":Ce.memoizedProps}catch(zt){Ea(Ce,Ce.return,zt)}}}else if(h.tag===18){if(g===null){Ce=h;try{var tt=Ce.stateNode;A?AE(tt,!0):AE(Ce.stateNode,!1)}catch(zt){Ea(Ce,Ce.return,zt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===l)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break e;for(;h.sibling===null;){if(h.return===null||h.return===l)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=l.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,Xv(l,g))));break;case 19:So(h,l),No(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Xv(l,w)));break;case 30:break;case 21:break;default:So(h,l),No(l)}}function No(l){var h=l.flags;if(h&2){try{for(var g,w=l.return;w!==null;){if(ET(w)){g=w;break}w=w.return}if(g==null)throw Error(a(160));switch(g.tag){case 27:var A=g.stateNode,C=C5(l);Yv(l,C,A);break;case 5:var G=g.stateNode;g.flags&32&&(Hs(G,""),g.flags&=-33);var ue=C5(l);Yv(l,ue,G);break;case 3:case 4:var Ce=g.stateNode.containerInfo,Qe=C5(l);O5(l,Qe,Ce);break;default:throw Error(a(161))}}catch(st){Ea(l,l.return,st)}l.flags&=-3}h&4096&&(l.flags&=-4097)}function FT(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var h=l;FT(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),l=l.sibling}}function cd(l,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)PT(l,h.alternate,h),h=h.sibling}function th(l){for(l=l.child;l!==null;){var h=l;switch(h.tag){case 0:case 11:case 14:case 15:E0(4,h,h.return),th(h);break;case 1:du(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&AT(h,h.return,g),th(h);break;case 27:px(h.stateNode);case 26:case 5:du(h,h.return),th(h);break;case 22:h.memoizedState===null&&th(h);break;case 30:th(h);break;default:th(h)}l=l.sibling}}function ud(l,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,A=l,C=h,G=C.flags;switch(C.tag){case 0:case 11:case 15:ud(A,C,g),ix(4,C);break;case 1:if(ud(A,C,g),w=C,A=w.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Qe){Ea(w,w.return,Qe)}if(w=C,A=w.updateQueue,A!==null){var ue=w.stateNode;try{var Ce=A.shared.hiddenCallbacks;if(Ce!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Ce.length;A++)Yi(Ce[A],ue)}catch(Qe){Ea(w,w.return,Qe)}}g&&G&64&&jT(C),sx(C,C.return);break;case 27:CT(C);case 26:case 5:ud(A,C,g),g&&w===null&&G&4&&TT(C),sx(C,C.return);break;case 12:ud(A,C,g);break;case 31:ud(A,C,g),g&&G&4&&MT(A,C);break;case 13:ud(A,C,g),g&&G&4&&RT(A,C);break;case 22:C.memoizedState===null&&ud(A,C,g),sx(C,C.return);break;case 30:break;default:ud(A,C,g)}h=h.sibling}}function D5(l,h){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(l=h.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Xf(g))}function L5(l,h){l=null,h.alternate!==null&&(l=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==l&&(h.refCount++,l!=null&&Xf(l))}function kc(l,h,g,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)BT(l,h,g,w),h=h.sibling}function BT(l,h,g,w){var A=h.flags;switch(h.tag){case 0:case 11:case 15:kc(l,h,g,w),A&2048&&ix(9,h);break;case 1:kc(l,h,g,w);break;case 3:kc(l,h,g,w),A&2048&&(l=null,h.alternate!==null&&(l=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==l&&(h.refCount++,l!=null&&Xf(l)));break;case 12:if(A&2048){kc(l,h,g,w),l=h.stateNode;try{var C=h.memoizedProps,G=C.id,ue=C.onPostCommit;typeof ue=="function"&&ue(G,h.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Ce){Ea(h,h.return,Ce)}}else kc(l,h,g,w);break;case 31:kc(l,h,g,w);break;case 13:kc(l,h,g,w);break;case 23:break;case 22:C=h.stateNode,G=h.alternate,h.memoizedState!==null?C._visibility&2?kc(l,h,g,w):ox(l,h):C._visibility&2?kc(l,h,g,w):(C._visibility|=2,Zm(l,h,g,w,(h.subtreeFlags&10256)!==0||!1)),A&2048&&D5(G,h);break;case 24:kc(l,h,g,w),A&2048&&L5(h.alternate,h);break;default:kc(l,h,g,w)}}function Zm(l,h,g,w,A){for(A=A&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var C=l,G=h,ue=g,Ce=w,Qe=G.flags;switch(G.tag){case 0:case 11:case 15:Zm(C,G,ue,Ce,A),ix(8,G);break;case 23:break;case 22:var st=G.stateNode;G.memoizedState!==null?st._visibility&2?Zm(C,G,ue,Ce,A):ox(C,G):(st._visibility|=2,Zm(C,G,ue,Ce,A)),A&&Qe&2048&&D5(G.alternate,G);break;case 24:Zm(C,G,ue,Ce,A),A&&Qe&2048&&L5(G.alternate,G);break;default:Zm(C,G,ue,Ce,A)}h=h.sibling}}function ox(l,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=l,w=h,A=w.flags;switch(w.tag){case 22:ox(g,w),A&2048&&D5(w.alternate,w);break;case 24:ox(g,w),A&2048&&L5(w.alternate,w);break;default:ox(g,w)}h=h.sibling}}var lx=8192;function ep(l,h,g){if(l.subtreeFlags&lx)for(l=l.child;l!==null;)UT(l,h,g),l=l.sibling}function UT(l,h,g){switch(l.tag){case 26:ep(l,h,g),l.flags&lx&&l.memoizedState!==null&&bV(g,wc,l.memoizedState,l.memoizedProps);break;case 5:ep(l,h,g);break;case 3:case 4:var w=wc;wc=uy(l.stateNode.containerInfo),ep(l,h,g),wc=w;break;case 22:l.memoizedState===null&&(w=l.alternate,w!==null&&w.memoizedState!==null?(w=lx,lx=16777216,ep(l,h,g),lx=w):ep(l,h,g));break;default:ep(l,h,g)}}function zT(l){var h=l.alternate;if(h!==null&&(l=h.child,l!==null)){h.child=null;do h=l.sibling,l.sibling=null,l=h;while(l!==null)}}function cx(l){var h=l.deletions;if((l.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];Qi=w,$T(w,l)}zT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)qT(l),l=l.sibling}function qT(l){switch(l.tag){case 0:case 11:case 15:cx(l),l.flags&2048&&E0(9,l,l.return);break;case 3:cx(l);break;case 12:cx(l);break;case 22:var h=l.stateNode;l.memoizedState!==null&&h._visibility&2&&(l.return===null||l.return.tag!==13)?(h._visibility&=-3,Qv(l)):cx(l);break;default:cx(l)}}function Qv(l){var h=l.deletions;if((l.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];Qi=w,$T(w,l)}zT(l)}for(l=l.child;l!==null;){switch(h=l,h.tag){case 0:case 11:case 15:E0(8,h,h.return),Qv(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,Qv(h));break;default:Qv(h)}l=l.sibling}}function $T(l,h){for(;Qi!==null;){var g=Qi;switch(g.tag){case 0:case 11:case 15:E0(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Xf(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,Qi=w;else e:for(g=l;Qi!==null;){w=Qi;var A=w.sibling,C=w.return;if(DT(w),w===g){Qi=null;break e}if(A!==null){A.return=C,Qi=A;break e}Qi=C}}}var MW={getCacheForType:function(l){var h=Di(En),g=h.data.get(l);return g===void 0&&(g=l(),h.data.set(l,g)),g},cacheSignal:function(){return Di(En).controller.signal}},RW=typeof WeakMap=="function"?WeakMap:Map,_a=0,Ga=null,Yr=null,Jr=0,Ta=0,Vo=null,C0=!1,tp=!1,M5=!1,dd=0,qn=0,O0=0,rh=0,R5=0,Ko=0,rp=0,ux=null,jo=null,I5=!1,Jv=0,HT=0,Zv=1/0,ey=null,P0=null,Mi=0,D0=null,ap=null,fd=0,F5=0,B5=null,WT=null,dx=0,U5=null;function Go(){return(_a&2)!==0&&Jr!==0?Jr&-Jr:X.T!==null?V5():ae()}function VT(){if(Ko===0)if((Jr&536870912)===0||Gr){var l=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),Ko=l}else Ko=536870912;return l=nn.current,l!==null&&(l.flags|=32),Ko}function Ao(l,h,g){(l===Ga&&(Ta===2||Ta===9)||l.cancelPendingCommit!==null)&&(np(l,0),L0(l,Jr,Ko,!1)),Xt(l,g),((_a&2)===0||l!==Ga)&&(l===Ga&&((_a&2)===0&&(rh|=g),qn===4&&L0(l,Jr,Ko,!1)),fu(l))}function KT(l,h,g){if((_a&6)!==0)throw Error(a(327));var w=!g&&(h&127)===0&&(h&l.expiredLanes)===0||ci(l,h),A=w?BW(l,h):q5(l,h,!0),C=w;do{if(A===0){tp&&!w&&L0(l,h,0,!1);break}else{if(g=l.current.alternate,C&&!IW(g)){A=q5(l,h,!1),C=!1;continue}if(A===2){if(C=h,l.errorRecoveryDisabledLanes&C)var G=0;else G=l.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){h=G;e:{var ue=l;A=ux;var Ce=ue.current.memoizedState.isDehydrated;if(Ce&&(np(ue,G).flags|=256),G=q5(ue,G,!1),G!==2){if(M5&&!Ce){ue.errorRecoveryDisabledLanes|=C,rh|=C,A=4;break e}C=jo,jo=A,C!==null&&(jo===null?jo=C:jo.push.apply(jo,C))}A=G}if(C=!1,A!==2)continue}}if(A===1){np(l,0),L0(l,h,0,!0);break}e:{switch(w=l,C=A,C){case 0:case 1:throw Error(a(345));case 4:if((h&4194048)!==h)break;case 6:L0(w,h,Ko,!C0);break e;case 2:jo=null;break;case 3:case 5:break;default:throw Error(a(329))}if((h&62914560)===h&&(A=Jv+300-Rt(),10<A)){if(L0(w,h,Ko,!C0),Mr(w,0,!0)!==0)break e;fd=h,w.timeoutHandle=SE(GT.bind(null,w,g,jo,ey,I5,h,Ko,rh,rp,C0,C,"Throttled",-0,0),A);break e}GT(w,g,jo,ey,I5,h,Ko,rh,rp,C0,C,null,-0,0)}}break}while(!0);fu(l)}function GT(l,h,g,w,A,C,G,ue,Ce,Qe,st,dt,et,tt){if(l.timeoutHandle=-1,dt=h.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Uo},UT(h,C,dt);var zt=(C&62914560)===C?Jv-Rt():(C&4194048)===C?HT-Rt():0;if(zt=wV(dt,zt),zt!==null){fd=C,l.cancelPendingCommit=zt(rE.bind(null,l,h,C,g,w,A,G,ue,Ce,st,dt,null,et,tt)),L0(l,C,G,!Qe);return}}rE(l,h,C,g,w,A,G,ue,Ce)}function IW(l){for(var h=l;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var A=g[w],C=A.getSnapshot;A=A.value;try{if(!Ei(C(),A))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function L0(l,h,g,w){h&=~R5,h&=~rh,l.suspendedLanes|=h,l.pingedLanes&=~h,w&&(l.warmLanes|=h),w=l.expirationTimes;for(var A=h;0<A;){var C=31-Sr(A),G=1<<C;w[C]=-1,A&=~G}g!==0&&os(l,g,h)}function ty(){return(_a&6)===0?(fx(0),!1):!0}function z5(){if(Yr!==null){if(Ta===0)var l=Yr.return;else l=Yr,Al=au=null,Vm(l),ht=null,qt=0,l=Yr;for(;l!==null;)NT(l.alternate,l),l=l.return;Yr=null}}function np(l,h){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,aV(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),fd=0,z5(),Ga=l,Yr=g=po(l.current,null),Jr=h,Ta=0,Vo=null,C0=!1,tp=ci(l,h),M5=!1,rp=Ko=R5=rh=O0=qn=0,jo=ux=null,I5=!1,(h&8)!==0&&(h|=h&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=h;0<w;){var A=31-Sr(w),C=1<<A;h|=l[A],w&=~C}return dd=h,Hf(),g}function YT(l,h){ir=null,X.H=rx,h===De||h===Se?(h=ct(),Ta=3):h===Ke?(h=ct(),Ta=4):Ta=h===y5?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Vo=h,Yr===null&&(qn=1,Hv(l,go(h,l.current)))}function XT(){var l=nn.current;return l===null?!0:(Jr&4194048)===Jr?ia===null:(Jr&62914560)===Jr||(Jr&536870912)!==0?l===ia:!1}function QT(){var l=X.H;return X.H=rx,l===null?rx:l}function JT(){var l=X.A;return X.A=MW,l}function ry(){qn=4,C0||(Jr&4194048)!==Jr&&nn.current!==null||(tp=!0),(O0&134217727)===0&&(rh&134217727)===0||Ga===null||L0(Ga,Jr,Ko,!1)}function q5(l,h,g){var w=_a;_a|=2;var A=QT(),C=JT();(Ga!==l||Jr!==h)&&(ey=null,np(l,h)),h=!1;var G=qn;e:do try{if(Ta!==0&&Yr!==null){var ue=Yr,Ce=Vo;switch(Ta){case 8:z5(),G=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(h=!0);var Qe=Ta;if(Ta=0,Vo=null,ip(l,ue,Ce,Qe),g&&tp){G=0;break e}break;default:Qe=Ta,Ta=0,Vo=null,ip(l,ue,Ce,Qe)}}FW(),G=qn;break}catch(st){YT(l,st)}while(!0);return h&&l.shellSuspendCounter++,Al=au=null,_a=w,X.H=A,X.A=C,Yr===null&&(Ga=null,Jr=0,Hf()),G}function FW(){for(;Yr!==null;)ZT(Yr)}function BW(l,h){var g=_a;_a|=2;var w=QT(),A=JT();Ga!==l||Jr!==h?(ey=null,Zv=Rt()+500,np(l,h)):tp=ci(l,h);e:do try{if(Ta!==0&&Yr!==null){h=Yr;var C=Vo;t:switch(Ta){case 1:Ta=0,Vo=null,ip(l,h,C,1);break;case 2:case 9:if(ze(C)){Ta=0,Vo=null,eE(h);break}h=function(){Ta!==2&&Ta!==9||Ga!==l||(Ta=7),fu(l)},C.then(h,h);break e;case 3:Ta=7;break e;case 4:Ta=5;break e;case 7:ze(C)?(Ta=0,Vo=null,eE(h)):(Ta=0,Vo=null,ip(l,h,C,7));break;case 5:var G=null;switch(Yr.tag){case 26:G=Yr.memoizedState;case 5:case 27:var ue=Yr;if(G?BE(G):ue.stateNode.complete){Ta=0,Vo=null;var Ce=ue.sibling;if(Ce!==null)Yr=Ce;else{var Qe=ue.return;Qe!==null?(Yr=Qe,ay(Qe)):Yr=null}break t}}Ta=0,Vo=null,ip(l,h,C,5);break;case 6:Ta=0,Vo=null,ip(l,h,C,6);break;case 8:z5(),qn=6;break e;default:throw Error(a(462))}}UW();break}catch(st){YT(l,st)}while(!0);return Al=au=null,X.H=w,X.A=A,_a=g,Yr!==null?0:(Ga=null,Jr=0,Hf(),qn)}function UW(){for(;Yr!==null&&!kt();)ZT(Yr)}function ZT(l){var h=_T(l.alternate,l,dd);l.memoizedProps=l.pendingProps,h===null?ay(l):Yr=h}function eE(l){var h=l,g=h.alternate;switch(h.tag){case 15:case 0:h=xT(g,h,h.pendingProps,h.type,void 0,Jr);break;case 11:h=xT(g,h,h.pendingProps,h.type.render,h.ref,Jr);break;case 5:Vm(h);default:NT(g,h),h=Yr=Kf(h,dd),h=_T(g,h,dd)}l.memoizedProps=l.pendingProps,h===null?ay(l):Yr=h}function ip(l,h,g,w){Al=au=null,Vm(h),ht=null,qt=0;var A=h.return;try{if(TW(l,A,h,g,Jr)){qn=1,Hv(l,go(g,l.current)),Yr=null;return}}catch(C){if(A!==null)throw Yr=A,C;qn=1,Hv(l,go(g,l.current)),Yr=null;return}h.flags&32768?(Gr||w===1?l=!0:tp||(Jr&536870912)!==0?l=!1:(C0=l=!0,(w===2||w===9||w===3||w===6)&&(w=nn.current,w!==null&&w.tag===13&&(w.flags|=16384))),tE(h,l)):ay(h)}function ay(l){var h=l;do{if((h.flags&32768)!==0){tE(h,C0);return}l=h.return;var g=OW(h.alternate,h,dd);if(g!==null){Yr=g;return}if(h=h.sibling,h!==null){Yr=h;return}Yr=h=l}while(h!==null);qn===0&&(qn=5)}function tE(l,h){do{var g=PW(l.alternate,l);if(g!==null){g.flags&=32767,Yr=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(l=l.sibling,l!==null)){Yr=l;return}Yr=l=g}while(l!==null);qn=6,Yr=null}function rE(l,h,g,w,A,C,G,ue,Ce){l.cancelPendingCommit=null;do ny();while(Mi!==0);if((_a&6)!==0)throw Error(a(327));if(h!==null){if(h===l.current)throw Error(a(177));if(C=h.lanes|h.childLanes,C|=Pm,Xn(l,g,C,G,ue,Ce),l===Ga&&(Yr=Ga=null,Jr=0),ap=h,D0=l,fd=g,F5=C,B5=A,WT=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,HW(It,function(){return oE(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=X.T,X.T=null,A=re.p,re.p=2,G=_a,_a|=4;try{DW(l,h,g)}finally{_a=G,re.p=A,X.T=w}}Mi=1,aE(),nE(),iE()}}function aE(){if(Mi===1){Mi=0;var l=D0,h=ap,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=X.T,X.T=null;var w=re.p;re.p=2;var A=_a;_a|=4;try{IT(h,l);var C=ek,G=hc(l.containerInfo),ue=C.focusedElem,Ce=C.selectionRange;if(G!==ue&&ue&&ue.ownerDocument&&fc(ue.ownerDocument.documentElement,ue)){if(Ce!==null&&Nl(ue)){var Qe=Ce.start,st=Ce.end;if(st===void 0&&(st=Qe),"selectionStart"in ue)ue.selectionStart=Qe,ue.selectionEnd=Math.min(st,ue.value.length);else{var dt=ue.ownerDocument||document,et=dt&&dt.defaultView||window;if(et.getSelection){var tt=et.getSelection(),zt=ue.textContent.length,gr=Math.min(Ce.start,zt),Ua=Ce.end===void 0?gr:Math.min(Ce.end,zt);!tt.extend&&gr>Ua&&(G=Ua,Ua=gr,gr=G);var Be=v0(ue,gr),Le=v0(ue,Ua);if(Be&&Le&&(tt.rangeCount!==1||tt.anchorNode!==Be.node||tt.anchorOffset!==Be.offset||tt.focusNode!==Le.node||tt.focusOffset!==Le.offset)){var Xe=dt.createRange();Xe.setStart(Be.node,Be.offset),tt.removeAllRanges(),gr>Ua?(tt.addRange(Xe),tt.extend(Le.node,Le.offset)):(Xe.setEnd(Le.node,Le.offset),tt.addRange(Xe))}}}}for(dt=[],tt=ue;tt=tt.parentNode;)tt.nodeType===1&&dt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<dt.length;ue++){var ut=dt[ue];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}gy=!!Z5,ek=Z5=null}finally{_a=A,re.p=w,X.T=g}}l.current=h,Mi=2}}function nE(){if(Mi===2){Mi=0;var l=D0,h=ap,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=X.T,X.T=null;var w=re.p;re.p=2;var A=_a;_a|=4;try{PT(l,h.alternate,h)}finally{_a=A,re.p=w,X.T=g}}Mi=3}}function iE(){if(Mi===4||Mi===3){Mi=0,At();var l=D0,h=ap,g=fd,w=WT;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Mi=5:(Mi=0,ap=D0=null,sE(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(P0=null),Wa(g),h=h.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Gt,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=X.T,A=re.p,re.p=2,X.T=null;try{for(var C=l.onRecoverableError,G=0;G<w.length;G++){var ue=w[G];C(ue.value,{componentStack:ue.stack})}}finally{X.T=h,re.p=A}}(fd&3)!==0&&ny(),fu(l),A=l.pendingLanes,(g&261930)!==0&&(A&42)!==0?l===U5?dx++:(dx=0,U5=l):dx=0,fx(0)}}function sE(l,h){(l.pooledCacheLanes&=h)===0&&(h=l.pooledCache,h!=null&&(l.pooledCache=null,Xf(h)))}function ny(){return aE(),nE(),iE(),oE()}function oE(){if(Mi!==5)return!1;var l=D0,h=F5;F5=0;var g=Wa(fd),w=X.T,A=re.p;try{re.p=32>g?32:g,X.T=null,g=B5,B5=null;var C=D0,G=fd;if(Mi=0,ap=D0=null,fd=0,(_a&6)!==0)throw Error(a(331));var ue=_a;if(_a|=4,qT(C.current),BT(C,C.current,G,g),_a=ue,fx(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Gt,C)}catch{}return!0}finally{re.p=A,X.T=w,sE(l,h)}}function lE(l,h,g){h=go(g,h),h=v5(l.stateNode,h,2),l=Lr(l,h,2),l!==null&&(Xt(l,2),fu(l))}function Ea(l,h,g){if(l.tag===3)lE(l,l,g);else for(;h!==null;){if(h.tag===3){lE(h,l,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(P0===null||!P0.has(w))){l=go(g,l),g=cT(2),w=Lr(h,g,2),w!==null&&(uT(g,w,h,l),Xt(w,2),fu(w));break}}h=h.return}}function $5(l,h,g){var w=l.pingCache;if(w===null){w=l.pingCache=new RW;var A=new Set;w.set(h,A)}else A=w.get(h),A===void 0&&(A=new Set,w.set(h,A));A.has(g)||(M5=!0,A.add(g),l=zW.bind(null,l,h,g),h.then(l,l))}function zW(l,h,g){var w=l.pingCache;w!==null&&w.delete(h),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Ga===l&&(Jr&g)===g&&(qn===4||qn===3&&(Jr&62914560)===Jr&&300>Rt()-Jv?(_a&2)===0&&np(l,0):R5|=g,rp===Jr&&(rp=0)),fu(l)}function cE(l,h){h===0&&(h=ss()),l=pc(l,h),l!==null&&(Xt(l,h),fu(l))}function qW(l){var h=l.memoizedState,g=0;h!==null&&(g=h.retryLane),cE(l,g)}function $W(l,h){var g=0;switch(l.tag){case 31:case 13:var w=l.stateNode,A=l.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(a(314))}w!==null&&w.delete(h),cE(l,g)}function HW(l,h){return ft(l,h)}var iy=null,sp=null,H5=!1,sy=!1,W5=!1,M0=0;function fu(l){l!==sp&&l.next===null&&(sp===null?iy=sp=l:sp=sp.next=l),sy=!0,H5||(H5=!0,VW())}function fx(l,h){if(!W5&&sy){W5=!0;do for(var g=!1,w=iy;w!==null;){if(l!==0){var A=w.pendingLanes;if(A===0)var C=0;else{var G=w.suspendedLanes,ue=w.pingedLanes;C=(1<<31-Sr(42|l)+1)-1,C&=A&~(G&~ue),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(g=!0,hE(w,C))}else C=Jr,C=Mr(w,w===Ga?C:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(C&3)===0||ci(w,C)||(g=!0,hE(w,C));w=w.next}while(g);W5=!1}}function WW(){uE()}function uE(){sy=H5=!1;var l=0;M0!==0&&rV()&&(l=M0);for(var h=Rt(),g=null,w=iy;w!==null;){var A=w.next,C=dE(w,h);C===0?(w.next=null,g===null?iy=A:g.next=A,A===null&&(sp=g)):(g=w,(l!==0||(C&3)!==0)&&(sy=!0)),w=A}Mi!==0&&Mi!==5||fx(l),M0!==0&&(M0=0)}function dE(l,h){for(var g=l.suspendedLanes,w=l.pingedLanes,A=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var G=31-Sr(C),ue=1<<G,Ce=A[G];Ce===-1?((ue&g)===0||(ue&w)!==0)&&(A[G]=en(ue,h)):Ce<=h&&(l.expiredLanes|=ue),C&=~ue}if(h=Ga,g=Jr,g=Mr(l,l===h?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,g===0||l===h&&(Ta===2||Ta===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&Je(w),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||ci(l,g)){if(h=g&-g,h===l.callbackPriority)return h;switch(w!==null&&Je(w),Wa(g)){case 2:case 8:g=$r;break;case 32:g=It;break;case 268435456:g=bt;break;default:g=It}return w=fE.bind(null,l),g=ft(g,w),l.callbackPriority=h,l.callbackNode=g,h}return w!==null&&w!==null&&Je(w),l.callbackPriority=2,l.callbackNode=null,2}function fE(l,h){if(Mi!==0&&Mi!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(ny()&&l.callbackNode!==g)return null;var w=Jr;return w=Mr(l,l===Ga?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(KT(l,w,h),dE(l,Rt()),l.callbackNode!=null&&l.callbackNode===g?fE.bind(null,l):null)}function hE(l,h){if(ny())return null;KT(l,h,!0)}function VW(){nV(function(){(_a&6)!==0?ft(nr,WW):uE()})}function V5(){if(M0===0){var l=S;l===0&&(l=ma,ma<<=1,(ma&261888)===0&&(ma=256)),M0=l}return M0}function mE(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Bo(""+l)}function pE(l,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,l.id&&g.setAttribute("form",l.id),h.parentNode.insertBefore(g,h),l=new FormData(l),g.parentNode.removeChild(g),l}function KW(l,h,g,w,A){if(h==="submit"&&g&&g.stateNode===A){var C=mE((A[we]||null).action),G=w.submitter;G&&(h=(h=G[we]||null)?mE(h.formAction):G.getAttribute("formAction"),h!==null&&(C=h,G=null));var ue=new xl("action","action",null,w,A);l.push({event:ue,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(M0!==0){var Ce=G?pE(A,G):new FormData(A);f5(g,{pending:!0,data:Ce,method:A.method,action:C},null,Ce)}}else typeof C=="function"&&(ue.preventDefault(),Ce=G?pE(A,G):new FormData(A),f5(g,{pending:!0,data:Ce,method:A.method,action:C},C,Ce))},currentTarget:A}]})}}for(var K5=0;K5<Qu.length;K5++){var G5=Qu[K5],GW=G5.toLowerCase(),YW=G5[0].toUpperCase()+G5.slice(1);mo(GW,"on"+YW)}mo(Xu,"onAnimationEnd"),mo(qf,"onAnimationIteration"),mo(zg,"onAnimationStart"),mo("dblclick","onDoubleClick"),mo("focusin","onFocus"),mo("focusout","onBlur"),mo(Ov,"onTransitionRun"),mo(Pv,"onTransitionStart"),mo(Dv,"onTransitionCancel"),mo(qg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hx));function gE(l,h){h=(h&4)!==0;for(var g=0;g<l.length;g++){var w=l[g],A=w.event;w=w.listeners;e:{var C=void 0;if(h)for(var G=w.length-1;0<=G;G--){var ue=w[G],Ce=ue.instance,Qe=ue.currentTarget;if(ue=ue.listener,Ce!==C&&A.isPropagationStopped())break e;C=ue,A.currentTarget=Qe;try{C(A)}catch(st){$f(st)}A.currentTarget=null,C=Ce}else for(G=0;G<w.length;G++){if(ue=w[G],Ce=ue.instance,Qe=ue.currentTarget,ue=ue.listener,Ce!==C&&A.isPropagationStopped())break e;C=ue,A.currentTarget=Qe;try{C(A)}catch(st){$f(st)}A.currentTarget=null,C=Ce}}}}function Xr(l,h){var g=h[Ie];g===void 0&&(g=h[Ie]=new Set);var w=l+"__bubble";g.has(w)||(xE(h,l,2,!1),g.add(w))}function Y5(l,h,g){var w=0;h&&(w|=4),xE(g,l,w,h)}var oy="_reactListening"+Math.random().toString(36).slice(2);function X5(l){if(!l[oy]){l[oy]=!0,Er.forEach(function(g){g!=="selectionchange"&&(XW.has(g)||Y5(g,!1,l),Y5(g,!0,l))});var h=l.nodeType===9?l:l.ownerDocument;h===null||h[oy]||(h[oy]=!0,Y5("selectionchange",!1,h))}}function xE(l,h,g,w){switch(VE(h)){case 2:var A=SV;break;case 8:A=NV;break;default:A=dk}g=A.bind(null,h,g,l),A=void 0,!Bf||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(A=!0),w?A!==void 0?l.addEventListener(h,g,{capture:!0,passive:A}):l.addEventListener(h,g,!0):A!==void 0?l.addEventListener(h,g,{passive:A}):l.addEventListener(h,g,!1)}function Q5(l,h,g,w,A){var C=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var ue=w.stateNode.containerInfo;if(ue===A)break;if(G===4)for(G=w.return;G!==null;){var Ce=G.tag;if((Ce===3||Ce===4)&&G.stateNode.containerInfo===A)return;G=G.return}for(;ue!==null;){if(G=ot(ue),G===null)return;if(Ce=G.tag,Ce===5||Ce===6||Ce===26||Ce===27){w=C=G;continue e}ue=ue.parentNode}}w=w.return}jm(function(){var Qe=C,st=zu(g),dt=[];e:{var et=$g.get(l);if(et!==void 0){var tt=xl,zt=l;switch(l){case"keypress":if(ac(g)===0)break e;case"keydown":case"keyup":tt=la;break;case"focusin":zt="focus",tt=oc;break;case"focusout":zt="blur",tt=oc;break;case"beforeblur":case"afterblur":tt=oc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=Jn;break;case Xu:case qf:case zg:tt=I;break;case qg:tt=Ai;break;case"scroll":case"scrollend":tt=d0;break;case"wheel":tt=ws;break;case"copy":case"cut":case"paste":tt=Te;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=jn;break;case"toggle":case"beforetoggle":tt=f0}var gr=(h&4)!==0,Ua=!gr&&(l==="scroll"||l==="scrollend"),Be=gr?et!==null?et+"Capture":null:et;gr=[];for(var Le=Qe,Xe;Le!==null;){var ut=Le;if(Xe=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||Xe===null||Be===null||(ut=Ws(Le,Be),ut!=null&&gr.push(mx(Le,ut,Xe))),Ua)break;Le=Le.return}0<gr.length&&(et=new tt(et,zt,null,g,st),dt.push({event:et,listeners:gr}))}}if((h&7)===0){e:{if(et=l==="mouseover"||l==="pointerover",tt=l==="mouseout"||l==="pointerout",et&&g!==rc&&(zt=g.relatedTarget||g.fromElement)&&(ot(zt)||zt[Ae]))break e;if((tt||et)&&(et=st.window===st?st:(et=st.ownerDocument)?et.defaultView||et.parentWindow:window,tt?(zt=g.relatedTarget||g.toElement,tt=Qe,zt=zt?ot(zt):null,zt!==null&&(Ua=i(zt),gr=zt.tag,zt!==Ua||gr!==5&&gr!==27&&gr!==6)&&(zt=null)):(tt=null,zt=Qe),tt!==zt)){if(gr=vl,ut="onMouseLeave",Be="onMouseEnter",Le="mouse",(l==="pointerout"||l==="pointerover")&&(gr=jn,ut="onPointerLeave",Be="onPointerEnter",Le="pointer"),Ua=tt==null?et:mt(tt),Xe=zt==null?et:mt(zt),et=new gr(ut,Le+"leave",tt,g,st),et.target=Ua,et.relatedTarget=Xe,ut=null,ot(st)===Qe&&(gr=new gr(Be,Le+"enter",zt,g,st),gr.target=Xe,gr.relatedTarget=Ua,ut=gr),Ua=ut,tt&&zt)t:{for(gr=QW,Be=tt,Le=zt,Xe=0,ut=Be;ut;ut=gr(ut))Xe++;ut=0;for(var ur=Le;ur;ur=gr(ur))ut++;for(;0<Xe-ut;)Be=gr(Be),Xe--;for(;0<ut-Xe;)Le=gr(Le),ut--;for(;Xe--;){if(Be===Le||Le!==null&&Be===Le.alternate){gr=Be;break t}Be=gr(Be),Le=gr(Le)}gr=null}else gr=null;tt!==null&&vE(dt,et,tt,gr,!1),zt!==null&&Ua!==null&&vE(dt,Ua,zt,gr,!0)}}e:{if(et=Qe?mt(Qe):window,tt=et.nodeName&&et.nodeName.toLowerCase(),tt==="select"||tt==="input"&&et.type==="file")var pa=Zc;else if(Uf(et))if(ks)pa=_l;else{pa=An;var Jt=g0}else tt=et.nodeName,!tt||tt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Qe&&Rf(Qe.elementType)&&(pa=Zc):pa=Om;if(pa&&(pa=pa(l,Qe))){Gs(dt,pa,g,st);break e}Jt&&Jt(l,et,Qe),l==="focusout"&&Qe&&et.type==="number"&&Qe.memoizedProps.value!=null&&Pf(et,"number",et.value)}switch(Jt=Qe?mt(Qe):window,l){case"focusin":(Uf(Jt)||Jt.contentEditable==="true")&&(Ys=Jt,mc=Qe,Vi=null);break;case"focusout":Vi=mc=Ys=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,ca(dt,g,st);break;case"selectionchange":if(Yu)break;case"keydown":case"keyup":ca(dt,g,st)}var Ir;if(yl)e:{switch(l){case"compositionstart":var Zr="onCompositionStart";break e;case"compositionend":Zr="onCompositionEnd";break e;case"compositionupdate":Zr="onCompositionUpdate";break e}Zr=void 0}else bl?Jc(l,g)&&(Zr="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(Zr="onCompositionStart");Zr&&(Xc&&g.locale!=="ko"&&(bl||Zr!=="onCompositionStart"?Zr==="onCompositionEnd"&&bl&&(Ir=Hu()):(Vs=st,$u="value"in Vs?Vs.value:Vs.textContent,bl=!0)),Jt=ly(Qe,Zr),0<Jt.length&&(Zr=new Fe(Zr,l,null,g,st),dt.push({event:Zr,listeners:Jt}),Ir?Zr.data=Ir:(Ir=h0(g),Ir!==null&&(Zr.data=Ir)))),(Ir=Gu?hn(l,g):lc(l,g))&&(Zr=ly(Qe,"onBeforeInput"),0<Zr.length&&(Jt=new Fe("onBeforeInput","beforeinput",null,g,st),dt.push({event:Jt,listeners:Zr}),Jt.data=Ir)),KW(dt,l,Qe,g,st)}gE(dt,h)})}function mx(l,h,g){return{instance:l,listener:h,currentTarget:g}}function ly(l,h){for(var g=h+"Capture",w=[];l!==null;){var A=l,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=Ws(l,g),A!=null&&w.unshift(mx(l,A,C)),A=Ws(l,h),A!=null&&w.push(mx(l,A,C))),l.tag===3)return w;l=l.return}return[]}function QW(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function vE(l,h,g,w,A){for(var C=h._reactName,G=[];g!==null&&g!==w;){var ue=g,Ce=ue.alternate,Qe=ue.stateNode;if(ue=ue.tag,Ce!==null&&Ce===w)break;ue!==5&&ue!==26&&ue!==27||Qe===null||(Ce=Qe,A?(Qe=Ws(g,C),Qe!=null&&G.unshift(mx(g,Qe,Ce))):A||(Qe=Ws(g,C),Qe!=null&&G.push(mx(g,Qe,Ce)))),g=g.return}G.length!==0&&l.push({event:h,listeners:G})}var JW=/\r\n?/g,ZW=/\u0000|\uFFFD/g;function yE(l){return(typeof l=="string"?l:""+l).replace(JW,`
`).replace(ZW,"")}function bE(l,h){return h=yE(h),yE(l)===h}function Ba(l,h,g,w,A,C){switch(g){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||Hs(l,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&Hs(l,""+w);break;case"className":l0(l,"class",w);break;case"tabIndex":l0(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":l0(l,g,w);break;case"style":Sm(l,w,C);break;case"data":if(h!=="object"){l0(l,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||g!=="href")){l.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(g);break}w=Bo(""+w),l.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(g==="formAction"?(h!=="input"&&Ba(l,h,"name",A.name,A,null),Ba(l,h,"formEncType",A.formEncType,A,null),Ba(l,h,"formMethod",A.formMethod,A,null),Ba(l,h,"formTarget",A.formTarget,A,null)):(Ba(l,h,"encType",A.encType,A,null),Ba(l,h,"method",A.method,A,null),Ba(l,h,"target",A.target,A,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(g);break}w=Bo(""+w),l.setAttribute(g,w);break;case"onClick":w!=null&&(l.onclick=Uo);break;case"onScroll":w!=null&&Xr("scroll",l);break;case"onScrollEnd":w!=null&&Xr("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(A.children!=null)throw Error(a(60));l.innerHTML=g}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}g=Bo(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(g,""+w):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":w===!0?l.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(g,w):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(g,w):l.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(g):l.setAttribute(g,w);break;case"popover":Xr("beforetoggle",l),Xr("toggle",l),Qn(l,"popover",w);break;case"xlinkActuate":Na(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Na(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Na(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Na(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Na(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Na(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Na(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Na(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Na(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Qn(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=If.get(g)||g,Qn(l,g,w))}}function J5(l,h,g,w,A,C){switch(g){case"style":Sm(l,w,C);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(A.children!=null)throw Error(a(60));l.innerHTML=g}}break;case"children":typeof w=="string"?Hs(l,w):(typeof w=="number"||typeof w=="bigint")&&Hs(l,""+w);break;case"onScroll":w!=null&&Xr("scroll",l);break;case"onScrollEnd":w!=null&&Xr("scrollend",l);break;case"onClick":w!=null&&(l.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(A=g.endsWith("Capture"),h=g.slice(2,A?g.length-7:void 0),C=l[we]||null,C=C!=null?C[g]:null,typeof C=="function"&&l.removeEventListener(h,C,A),typeof w=="function")){typeof C!="function"&&C!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(h,w,A);break e}g in l?l[g]=w:w===!0?l.setAttribute(g,""):Qn(l,g,w)}}}function ms(l,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xr("error",l),Xr("load",l);var w=!1,A=!1,C;for(C in g)if(g.hasOwnProperty(C)){var G=g[C];if(G!=null)switch(C){case"src":w=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,h));default:Ba(l,h,C,G,g,null)}}A&&Ba(l,h,"srcSet",g.srcSet,g,null),w&&Ba(l,h,"src",g.src,g,null);return;case"input":Xr("invalid",l);var ue=C=G=A=null,Ce=null,Qe=null;for(w in g)if(g.hasOwnProperty(w)){var st=g[w];if(st!=null)switch(w){case"name":A=st;break;case"type":G=st;break;case"checked":Ce=st;break;case"defaultChecked":Qe=st;break;case"value":C=st;break;case"defaultValue":ue=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,h));break;default:Ba(l,h,w,st,g,null)}}km(l,C,ue,Ce,Qe,G,A,!1);return;case"select":Xr("invalid",l),w=G=C=null;for(A in g)if(g.hasOwnProperty(A)&&(ue=g[A],ue!=null))switch(A){case"value":C=ue;break;case"defaultValue":G=ue;break;case"multiple":w=ue;default:Ba(l,h,A,ue,g,null)}h=C,g=G,l.multiple=!!w,h!=null?cs(l,!!w,h,!1):g!=null&&cs(l,!!w,g,!0);return;case"textarea":Xr("invalid",l),C=A=w=null;for(G in g)if(g.hasOwnProperty(G)&&(ue=g[G],ue!=null))switch(G){case"value":w=ue;break;case"defaultValue":A=ue;break;case"children":C=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(91));break;default:Ba(l,h,G,ue,g,null)}Lf(l,w,A,C);return;case"option":for(Ce in g)if(g.hasOwnProperty(Ce)&&(w=g[Ce],w!=null))switch(Ce){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ba(l,h,Ce,w,g,null)}return;case"dialog":Xr("beforetoggle",l),Xr("toggle",l),Xr("cancel",l),Xr("close",l);break;case"iframe":case"object":Xr("load",l);break;case"video":case"audio":for(w=0;w<hx.length;w++)Xr(hx[w],l);break;case"image":Xr("error",l),Xr("load",l);break;case"details":Xr("toggle",l);break;case"embed":case"source":case"link":Xr("error",l),Xr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in g)if(g.hasOwnProperty(Qe)&&(w=g[Qe],w!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,h));default:Ba(l,h,Qe,w,g,null)}return;default:if(Rf(h)){for(st in g)g.hasOwnProperty(st)&&(w=g[st],w!==void 0&&J5(l,h,st,w,g,void 0));return}}for(ue in g)g.hasOwnProperty(ue)&&(w=g[ue],w!=null&&Ba(l,h,ue,w,g,null))}function eV(l,h,g,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,G=null,ue=null,Ce=null,Qe=null,st=null;for(tt in g){var dt=g[tt];if(g.hasOwnProperty(tt)&&dt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":Ce=dt;default:w.hasOwnProperty(tt)||Ba(l,h,tt,null,w,dt)}}for(var et in w){var tt=w[et];if(dt=g[et],w.hasOwnProperty(et)&&(tt!=null||dt!=null))switch(et){case"type":C=tt;break;case"name":A=tt;break;case"checked":Qe=tt;break;case"defaultChecked":st=tt;break;case"value":G=tt;break;case"defaultValue":ue=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,h));break;default:tt!==dt&&Ba(l,h,et,tt,w,dt)}}Of(l,G,ue,Ce,Qe,st,C,A);return;case"select":tt=G=ue=et=null;for(C in g)if(Ce=g[C],g.hasOwnProperty(C)&&Ce!=null)switch(C){case"value":break;case"multiple":tt=Ce;default:w.hasOwnProperty(C)||Ba(l,h,C,null,w,Ce)}for(A in w)if(C=w[A],Ce=g[A],w.hasOwnProperty(A)&&(C!=null||Ce!=null))switch(A){case"value":et=C;break;case"defaultValue":ue=C;break;case"multiple":G=C;default:C!==Ce&&Ba(l,h,A,C,w,Ce)}h=ue,g=G,w=tt,et!=null?cs(l,!!g,et,!1):!!w!=!!g&&(h!=null?cs(l,!!g,h,!0):cs(l,!!g,g?[]:"",!1));return;case"textarea":tt=et=null;for(ue in g)if(A=g[ue],g.hasOwnProperty(ue)&&A!=null&&!w.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Ba(l,h,ue,null,w,A)}for(G in w)if(A=w[G],C=g[G],w.hasOwnProperty(G)&&(A!=null||C!=null))switch(G){case"value":et=A;break;case"defaultValue":tt=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:A!==C&&Ba(l,h,G,A,w,C)}Df(l,et,tt);return;case"option":for(var zt in g)if(et=g[zt],g.hasOwnProperty(zt)&&et!=null&&!w.hasOwnProperty(zt))switch(zt){case"selected":l.selected=!1;break;default:Ba(l,h,zt,null,w,et)}for(Ce in w)if(et=w[Ce],tt=g[Ce],w.hasOwnProperty(Ce)&&et!==tt&&(et!=null||tt!=null))switch(Ce){case"selected":l.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Ba(l,h,Ce,et,w,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gr in g)et=g[gr],g.hasOwnProperty(gr)&&et!=null&&!w.hasOwnProperty(gr)&&Ba(l,h,gr,null,w,et);for(Qe in w)if(et=w[Qe],tt=g[Qe],w.hasOwnProperty(Qe)&&et!==tt&&(et!=null||tt!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,h));break;default:Ba(l,h,Qe,et,w,tt)}return;default:if(Rf(h)){for(var Ua in g)et=g[Ua],g.hasOwnProperty(Ua)&&et!==void 0&&!w.hasOwnProperty(Ua)&&J5(l,h,Ua,void 0,w,et);for(st in w)et=w[st],tt=g[st],!w.hasOwnProperty(st)||et===tt||et===void 0&&tt===void 0||J5(l,h,st,et,w,tt);return}}for(var Be in g)et=g[Be],g.hasOwnProperty(Be)&&et!=null&&!w.hasOwnProperty(Be)&&Ba(l,h,Be,null,w,et);for(dt in w)et=w[dt],tt=g[dt],!w.hasOwnProperty(dt)||et===tt||et==null&&tt==null||Ba(l,h,dt,et,w,tt)}function wE(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tV(){if(typeof performance.getEntriesByType=="function"){for(var l=0,h=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var A=g[w],C=A.transferSize,G=A.initiatorType,ue=A.duration;if(C&&ue&&wE(G)){for(G=0,ue=A.responseEnd,w+=1;w<g.length;w++){var Ce=g[w],Qe=Ce.startTime;if(Qe>ue)break;var st=Ce.transferSize,dt=Ce.initiatorType;st&&wE(dt)&&(Ce=Ce.responseEnd,G+=st*(Ce<ue?1:(ue-Qe)/(Ce-Qe)))}if(--w,h+=8*(C+G)/(A.duration/1e3),l++,10<l)break}}if(0<l)return h/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Z5=null,ek=null;function cy(l){return l.nodeType===9?l:l.ownerDocument}function kE(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(l,h){if(l===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&h==="foreignObject"?0:l}function tk(l,h){return l==="textarea"||l==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var rk=null;function rV(){var l=window.event;return l&&l.type==="popstate"?l===rk?!1:(rk=l,!0):(rk=null,!1)}var SE=typeof setTimeout=="function"?setTimeout:void 0,aV=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,nV=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(l){return NE.resolve(null).then(l).catch(iV)}:SE;function iV(l){setTimeout(function(){throw l})}function R0(l){return l==="head"}function jE(l,h){var g=h,w=0;do{var A=g.nextSibling;if(l.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"||g==="/&"){if(w===0){l.removeChild(A),up(h);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")px(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,px(g);for(var C=g.firstChild;C;){var G=C.nextSibling,ue=C.nodeName;C[ye]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&C.rel.toLowerCase()==="stylesheet"||g.removeChild(C),C=G}}else g==="body"&&px(l.ownerDocument.body);g=A}while(g);up(h)}function AE(l,h){var g=l;l=0;do{var w=g.nextSibling;if(g.nodeType===1?h?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(h?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=w}while(g)}function ak(l){var h=l.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":ak(g),Ye(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function sV(l,h,g,w){for(;l.nodeType===1;){var A=g;if(l.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[ye])switch(h){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(h==="input"&&l.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=Cl(l.nextSibling),l===null)break}return null}function oV(l,h,g){if(h==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Cl(l.nextSibling),l===null))return null;return l}function TE(l,h){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=Cl(l.nextSibling),l===null))return null;return l}function nk(l){return l.data==="$?"||l.data==="$~"}function ik(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function lV(l,h){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=h;else if(l.data!=="$?"||g.readyState!=="loading")h();else{var w=function(){h(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function Cl(l){for(;l!=null;l=l.nextSibling){var h=l.nodeType;if(h===1||h===3)break;if(h===8){if(h=l.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return l}var sk=null;function EE(l){l=l.nextSibling;for(var h=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(h===0)return Cl(l.nextSibling);h--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||h++}l=l.nextSibling}return null}function CE(l){l=l.previousSibling;for(var h=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(h===0)return l;h--}else g!=="/$"&&g!=="/&"||h++}l=l.previousSibling}return null}function OE(l,h,g){switch(h=cy(g),l){case"html":if(l=h.documentElement,!l)throw Error(a(452));return l;case"head":if(l=h.head,!l)throw Error(a(453));return l;case"body":if(l=h.body,!l)throw Error(a(454));return l;default:throw Error(a(451))}}function px(l){for(var h=l.attributes;h.length;)l.removeAttributeNode(h[0]);Ye(l)}var Ol=new Map,PE=new Set;function uy(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var hd=re.d;re.d={f:cV,r:uV,D:dV,C:fV,L:hV,m:mV,X:gV,S:pV,M:xV};function cV(){var l=hd.f(),h=ty();return l||h}function uV(l){var h=xt(l);h!==null&&h.tag===5&&h.type==="form"?YA(h):hd.r(l)}var op=typeof document>"u"?null:document;function DE(l,h,g){var w=op;if(w&&typeof h=="string"&&h){var A=Wi(h);A='link[rel="'+l+'"][href="'+A+'"]',typeof g=="string"&&(A+='[crossorigin="'+g+'"]'),PE.has(A)||(PE.add(A),l={rel:l,crossOrigin:g,href:h},w.querySelector(A)===null&&(h=w.createElement("link"),ms(h,"link",l),Ct(h),w.head.appendChild(h)))}}function dV(l){hd.D(l),DE("dns-prefetch",l,null)}function fV(l,h){hd.C(l,h),DE("preconnect",l,h)}function hV(l,h,g){hd.L(l,h,g);var w=op;if(w&&l&&h){var A='link[rel="preload"][as="'+Wi(h)+'"]';h==="image"&&g&&g.imageSrcSet?(A+='[imagesrcset="'+Wi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(A+='[imagesizes="'+Wi(g.imageSizes)+'"]')):A+='[href="'+Wi(l)+'"]';var C=A;switch(h){case"style":C=lp(l);break;case"script":C=cp(l)}Ol.has(C)||(l=m({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:l,as:h},g),Ol.set(C,l),w.querySelector(A)!==null||h==="style"&&w.querySelector(gx(C))||h==="script"&&w.querySelector(xx(C))||(h=w.createElement("link"),ms(h,"link",l),Ct(h),w.head.appendChild(h)))}}function mV(l,h){hd.m(l,h);var g=op;if(g&&l){var w=h&&typeof h.as=="string"?h.as:"script",A='link[rel="modulepreload"][as="'+Wi(w)+'"][href="'+Wi(l)+'"]',C=A;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=cp(l)}if(!Ol.has(C)&&(l=m({rel:"modulepreload",href:l},h),Ol.set(C,l),g.querySelector(A)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(xx(C)))return}w=g.createElement("link"),ms(w,"link",l),Ct(w),g.head.appendChild(w)}}}function pV(l,h,g){hd.S(l,h,g);var w=op;if(w&&l){var A=wt(w).hoistableStyles,C=lp(l);h=h||"default";var G=A.get(C);if(!G){var ue={loading:0,preload:null};if(G=w.querySelector(gx(C)))ue.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":h},g),(g=Ol.get(C))&&ok(l,g);var Ce=G=w.createElement("link");Ct(Ce),ms(Ce,"link",l),Ce._p=new Promise(function(Qe,st){Ce.onload=Qe,Ce.onerror=st}),Ce.addEventListener("load",function(){ue.loading|=1}),Ce.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,dy(G,h,w)}G={type:"stylesheet",instance:G,count:1,state:ue},A.set(C,G)}}}function gV(l,h){hd.X(l,h);var g=op;if(g&&l){var w=wt(g).hoistableScripts,A=cp(l),C=w.get(A);C||(C=g.querySelector(xx(A)),C||(l=m({src:l,async:!0},h),(h=Ol.get(A))&&lk(l,h),C=g.createElement("script"),Ct(C),ms(C,"link",l),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},w.set(A,C))}}function xV(l,h){hd.M(l,h);var g=op;if(g&&l){var w=wt(g).hoistableScripts,A=cp(l),C=w.get(A);C||(C=g.querySelector(xx(A)),C||(l=m({src:l,async:!0,type:"module"},h),(h=Ol.get(A))&&lk(l,h),C=g.createElement("script"),Ct(C),ms(C,"link",l),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},w.set(A,C))}}function LE(l,h,g,w){var A=(A=Q.current)?uy(A):null;if(!A)throw Error(a(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=lp(g.href),g=wt(A).hoistableStyles,w=g.get(h),w||(w={type:"style",instance:null,count:0,state:null},g.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=lp(g.href);var C=wt(A).hoistableStyles,G=C.get(l);if(G||(A=A.ownerDocument||A,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,G),(C=A.querySelector(gx(l)))&&!C._p&&(G.instance=C,G.state.loading=5),Ol.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Ol.set(l,g),C||vV(A,l,g,G.state))),h&&w===null)throw Error(a(528,""));return G}if(h&&w!==null)throw Error(a(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=cp(g),g=wt(A).hoistableScripts,w=g.get(h),w||(w={type:"script",instance:null,count:0,state:null},g.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,l))}}function lp(l){return'href="'+Wi(l)+'"'}function gx(l){return'link[rel="stylesheet"]['+l+"]"}function ME(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function vV(l,h,g,w){l.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=l.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),ms(h,"link",g),Ct(h),l.head.appendChild(h))}function cp(l){return'[src="'+Wi(l)+'"]'}function xx(l){return"script[async]"+l}function RE(l,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var w=l.querySelector('style[data-href~="'+Wi(g.href)+'"]');if(w)return h.instance=w,Ct(w),w;var A=m({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),Ct(w),ms(w,"style",A),dy(w,g.precedence,l),h.instance=w;case"stylesheet":A=lp(g.href);var C=l.querySelector(gx(A));if(C)return h.state.loading|=4,h.instance=C,Ct(C),C;w=ME(g),(A=Ol.get(A))&&ok(w,A),C=(l.ownerDocument||l).createElement("link"),Ct(C);var G=C;return G._p=new Promise(function(ue,Ce){G.onload=ue,G.onerror=Ce}),ms(C,"link",w),h.state.loading|=4,dy(C,g.precedence,l),h.instance=C;case"script":return C=cp(g.src),(A=l.querySelector(xx(C)))?(h.instance=A,Ct(A),A):(w=g,(A=Ol.get(C))&&(w=m({},g),lk(w,A)),l=l.ownerDocument||l,A=l.createElement("script"),Ct(A),ms(A,"link",w),l.head.appendChild(A),h.instance=A);case"void":return null;default:throw Error(a(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,dy(w,g.precedence,l));return h.instance}function dy(l,h,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=w.length?w[w.length-1]:null,C=A,G=0;G<w.length;G++){var ue=w[G];if(ue.dataset.precedence===h)C=ue;else if(C!==A)break}C?C.parentNode.insertBefore(l,C.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(l,h.firstChild))}function ok(l,h){l.crossOrigin==null&&(l.crossOrigin=h.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=h.referrerPolicy),l.title==null&&(l.title=h.title)}function lk(l,h){l.crossOrigin==null&&(l.crossOrigin=h.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=h.referrerPolicy),l.integrity==null&&(l.integrity=h.integrity)}var fy=null;function IE(l,h,g){if(fy===null){var w=new Map,A=fy=new Map;A.set(g,w)}else A=fy,w=A.get(g),w||(w=new Map,A.set(g,w));if(w.has(l))return w;for(w.set(l,null),g=g.getElementsByTagName(l),A=0;A<g.length;A++){var C=g[A];if(!(C[ye]||C[pe]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var G=C.getAttribute(h)||"";G=l+G;var ue=w.get(G);ue?ue.push(C):w.set(G,[C])}}return w}function FE(l,h,g){l=l.ownerDocument||l,l.head.insertBefore(g,h==="title"?l.querySelector("head > title"):null)}function yV(l,h,g){if(g===1||h.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return l=h.disabled,typeof h.precedence=="string"&&l==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function BE(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function bV(l,h,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var A=lp(w.href),C=h.querySelector(gx(A));if(C){h=C._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(l.count++,l=hy.bind(l),h.then(l,l)),g.state.loading|=4,g.instance=C,Ct(C);return}C=h.ownerDocument||h,w=ME(w),(A=Ol.get(A))&&ok(w,A),C=C.createElement("link"),Ct(C);var G=C;G._p=new Promise(function(ue,Ce){G.onload=ue,G.onerror=Ce}),ms(C,"link",w),g.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=hy.bind(l),h.addEventListener("load",g),h.addEventListener("error",g))}}var ck=0;function wV(l,h){return l.stylesheets&&l.count===0&&py(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var w=setTimeout(function(){if(l.stylesheets&&py(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+h);0<l.imgBytes&&ck===0&&(ck=62500*tV());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&py(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>ck?50:800)+h);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(w),clearTimeout(A)}}:null}function hy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)py(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var my=null;function py(l,h){l.stylesheets=null,l.unsuspend!==null&&(l.count++,my=new Map,h.forEach(kV,l),my=null,hy.call(l))}function kV(l,h){if(!(h.state.loading&4)){var g=my.get(l);if(g)var w=g.get(null);else{g=new Map,my.set(l,g);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var G=A[C];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(g.set(G.dataset.precedence,G),w=G)}w&&g.set(null,w)}A=h.instance,G=A.getAttribute("data-precedence"),C=g.get(G)||w,C===w&&g.set(null,A),g.set(G,A),this.count++,w=hy.bind(this),A.addEventListener("load",w),A.addEventListener("error",w),C?C.parentNode.insertBefore(A,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),h.state.loading|=4}}var vx={$$typeof:_,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function _V(l,h,g,w,A,C,G,ue,Ce){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=w,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function UE(l,h,g,w,A,C,G,ue,Ce,Qe,st,dt){return l=new _V(l,h,g,G,Ce,Qe,st,dt,ue),h=1,C===!0&&(h|=24),C=Gi(3,null,null,h),l.current=C,C.stateNode=l,h=S0(),h.refCount++,l.pooledCache=h,h.refCount++,C.memoizedState={element:w,isDehydrated:g,cache:h},Tt(C),l}function zE(l){return l?(l=Ci,l):Ci}function qE(l,h,g,w,A,C){A=zE(A),w.context===null?w.context=A:w.pendingContext=A,w=pr(h),w.payload={element:g},C=C===void 0?null:C,C!==null&&(w.callback=C),g=Lr(l,w,h),g!==null&&(Ao(g,l,h),wa(g,l,h))}function $E(l,h){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<h?g:h}}function uk(l,h){$E(l,h),(l=l.alternate)&&$E(l,h)}function HE(l){if(l.tag===13||l.tag===31){var h=pc(l,67108864);h!==null&&Ao(h,l,67108864),uk(l,67108864)}}function WE(l){if(l.tag===13||l.tag===31){var h=Go();h=Sa(h);var g=pc(l,h);g!==null&&Ao(g,l,h),uk(l,h)}}var gy=!0;function SV(l,h,g,w){var A=X.T;X.T=null;var C=re.p;try{re.p=2,dk(l,h,g,w)}finally{re.p=C,X.T=A}}function NV(l,h,g,w){var A=X.T;X.T=null;var C=re.p;try{re.p=8,dk(l,h,g,w)}finally{re.p=C,X.T=A}}function dk(l,h,g,w){if(gy){var A=fk(w);if(A===null)Q5(l,h,w,xy,g),KE(l,w);else if(AV(A,l,h,g,w))w.stopPropagation();else if(KE(l,w),h&4&&-1<jV.indexOf(l)){for(;A!==null;){var C=xt(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var G=Mt(C.pendingLanes);if(G!==0){var ue=C;for(ue.pendingLanes|=2,ue.entangledLanes|=2;G;){var Ce=1<<31-Sr(G);ue.entanglements[1]|=Ce,G&=~Ce}fu(C),(_a&6)===0&&(Zv=Rt()+500,fx(0))}}break;case 31:case 13:ue=pc(C,2),ue!==null&&Ao(ue,C,2),ty(),uk(C,2)}if(C=fk(w),C===null&&Q5(l,h,w,xy,g),C===A)break;A=C}A!==null&&w.stopPropagation()}else Q5(l,h,w,null,g)}}function fk(l){return l=zu(l),hk(l)}var xy=null;function hk(l){if(xy=null,l=ot(l),l!==null){var h=i(l);if(h===null)l=null;else{var g=h.tag;if(g===13){if(l=s(h),l!==null)return l;l=null}else if(g===31){if(l=o(h),l!==null)return l;l=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;l=null}else h!==l&&(l=null)}}return xy=l,null}function VE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case nr:return 2;case $r:return 8;case It:case St:return 32;case bt:return 268435456;default:return 32}default:return 32}}var mk=!1,I0=null,F0=null,B0=null,yx=new Map,bx=new Map,U0=[],jV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(l,h){switch(l){case"focusin":case"focusout":I0=null;break;case"dragenter":case"dragleave":F0=null;break;case"mouseover":case"mouseout":B0=null;break;case"pointerover":case"pointerout":yx.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":bx.delete(h.pointerId)}}function wx(l,h,g,w,A,C){return l===null||l.nativeEvent!==C?(l={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:C,targetContainers:[A]},h!==null&&(h=xt(h),h!==null&&HE(h)),l):(l.eventSystemFlags|=w,h=l.targetContainers,A!==null&&h.indexOf(A)===-1&&h.push(A),l)}function AV(l,h,g,w,A){switch(h){case"focusin":return I0=wx(I0,l,h,g,w,A),!0;case"dragenter":return F0=wx(F0,l,h,g,w,A),!0;case"mouseover":return B0=wx(B0,l,h,g,w,A),!0;case"pointerover":var C=A.pointerId;return yx.set(C,wx(yx.get(C)||null,l,h,g,w,A)),!0;case"gotpointercapture":return C=A.pointerId,bx.set(C,wx(bx.get(C)||null,l,h,g,w,A)),!0}return!1}function GE(l){var h=ot(l.target);if(h!==null){var g=i(h);if(g!==null){if(h=g.tag,h===13){if(h=s(g),h!==null){l.blockedOn=h,_e(l.priority,function(){WE(g)});return}}else if(h===31){if(h=o(g),h!==null){l.blockedOn=h,_e(l.priority,function(){WE(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function vy(l){if(l.blockedOn!==null)return!1;for(var h=l.targetContainers;0<h.length;){var g=fk(l.nativeEvent);if(g===null){g=l.nativeEvent;var w=new g.constructor(g.type,g);rc=w,g.target.dispatchEvent(w),rc=null}else return h=xt(g),h!==null&&HE(h),l.blockedOn=g,!1;h.shift()}return!0}function YE(l,h,g){vy(l)&&g.delete(h)}function TV(){mk=!1,I0!==null&&vy(I0)&&(I0=null),F0!==null&&vy(F0)&&(F0=null),B0!==null&&vy(B0)&&(B0=null),yx.forEach(YE),bx.forEach(YE)}function yy(l,h){l.blockedOn===h&&(l.blockedOn=null,mk||(mk=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TV)))}var by=null;function XE(l){by!==l&&(by=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){by===l&&(by=null);for(var h=0;h<l.length;h+=3){var g=l[h],w=l[h+1],A=l[h+2];if(typeof w!="function"){if(hk(w||g)===null)continue;break}var C=xt(g);C!==null&&(l.splice(h,3),h-=3,f5(C,{pending:!0,data:A,method:g.method,action:w},w,A))}}))}function up(l){function h(Ce){return yy(Ce,l)}I0!==null&&yy(I0,l),F0!==null&&yy(F0,l),B0!==null&&yy(B0,l),yx.forEach(h),bx.forEach(h);for(var g=0;g<U0.length;g++){var w=U0[g];w.blockedOn===l&&(w.blockedOn=null)}for(;0<U0.length&&(g=U0[0],g.blockedOn===null);)GE(g),g.blockedOn===null&&U0.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var A=g[w],C=g[w+1],G=A[we]||null;if(typeof C=="function")G||XE(g);else if(G){var ue=null;if(C&&C.hasAttribute("formAction")){if(A=C,G=C[we]||null)ue=G.formAction;else if(hk(A)!==null)continue}else ue=G.action;typeof ue=="function"?g[w+1]=ue:(g.splice(w,3),w-=3),XE(g)}}}function QE(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(G){return A=G})},focusReset:"manual",scroll:"manual"})}function h(){A!==null&&(A(),A=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),A!==null&&(A(),A=null)}}}function pk(l){this._internalRoot=l}wy.prototype.render=pk.prototype.render=function(l){var h=this._internalRoot;if(h===null)throw Error(a(409));var g=h.current,w=Go();qE(g,w,l,h,null,null)},wy.prototype.unmount=pk.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var h=l.containerInfo;qE(l.current,2,null,l,null,null),ty(),h[Ae]=null}};function wy(l){this._internalRoot=l}wy.prototype.unstable_scheduleHydration=function(l){if(l){var h=ae();l={blockedOn:null,target:l,priority:h};for(var g=0;g<U0.length&&h!==0&&h<U0[g].priority;g++);U0.splice(g,0,l),g===0&&GE(l)}};var JE=t.version;if(JE!=="19.2.0")throw Error(a(527,JE,"19.2.0"));re.findDOMNode=function(l){var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=d(h),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var EV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{Gt=ky.inject(EV),Nt=ky}catch{}}return _x.createRoot=function(l,h){if(!n(l))throw Error(a(299));var g=!1,w="",A=iT,C=sT,G=oT;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(A=h.onUncaughtError),h.onCaughtError!==void 0&&(C=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError)),h=UE(l,1,!1,null,null,g,w,null,A,C,G,QE),l[Ae]=h.current,X5(l),new pk(h)},_x.hydrateRoot=function(l,h,g){if(!n(l))throw Error(a(299));var w=!1,A="",C=iT,G=sT,ue=oT,Ce=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(G=g.onCaughtError),g.onRecoverableError!==void 0&&(ue=g.onRecoverableError),g.formState!==void 0&&(Ce=g.formState)),h=UE(l,1,!0,h,g??null,w,A,Ce,C,G,ue,QE),h.context=zE(null),g=h.current,w=Go(),w=Sa(w),A=pr(w),A.callback=null,Lr(g,A,w),g=w,h.current.lanes=g,Xt(h,g),fu(h),l[Ae]=h.current,X5(l),new wy(h)},_x.version="19.2.0",_x}var cC;function qV(){if(cC)return yk.exports;cC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yk.exports=zV(),yk.exports}var $V=qV();const HV=Uc($V);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uC="popstate";function WV(e={}){function t(n,i){let{pathname:s="/",search:o="",hash:c=""}=um(n.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),t3("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){let s=n.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let c=n.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:l1(i))}function a(n,i){Kl(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return KV(t,r,a,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VV(){return Math.random().toString(36).substring(2,10)}function dC(e,t){return{usr:e.state,key:e.key,idx:t}}function t3(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?um(t):t,state:r,key:t&&t.key||a||VV()}}function l1({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function um(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function KV(e,t,r,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,s=n.history,o="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function m(){o="POP";let b=f(),k=b==null?null:b-d;d=b,c&&c({action:o,location:v.location,delta:k})}function x(b,k){o="PUSH";let N=t3(v.location,b,k);r&&r(N,b),d=f()+1;let _=dC(N,d),T=v.createHref(N);try{s.pushState(_,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;n.location.assign(T)}i&&c&&c({action:o,location:v.location,delta:1})}function p(b,k){o="REPLACE";let N=t3(v.location,b,k);r&&r(N,b),d=f();let _=dC(N,d),T=v.createHref(N);s.replaceState(_,"",T),i&&c&&c({action:o,location:v.location,delta:0})}function y(b){return GV(b)}let v={get action(){return o},get location(){return e(n,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(uC,m),c=b,()=>{n.removeEventListener(uC,m),c=null}},createHref(b){return t(n,b)},createURL:y,encodeLocation(b){let k=y(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:p,go(b){return s.go(b)}};return v}function GV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),wn(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:l1(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function hM(e,t,r="/"){return YV(e,t,r,!1)}function YV(e,t,r,a){let n=typeof t=="string"?um(t):t,i=zd(n.pathname||"/",r);if(i==null)return null;let s=mM(e);XV(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=oK(i);o=iK(s[c],d,a)}return o}function mM(e,t=[],r=[],a="",n=!1){let i=(s,o,c=n,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&c)return;wn(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let m=Cd([a,f.relativePath]),x=r.concat(f);s.children&&s.children.length>0&&(wn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),mM(s.children,t,x,m,c)),!(s.path==null&&!s.index)&&t.push({path:m,score:aK(m,s.index),routesMeta:x})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let d of pM(s.path))i(s,o,!0,d)}),t}function pM(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let s=pM(a.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function XV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nK(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var QV=/^:[\w-]+$/,JV=3,ZV=2,eK=1,tK=10,rK=-2,fC=e=>e==="*";function aK(e,t){let r=e.split("/"),a=r.length;return r.some(fC)&&(a+=rK),t&&(a+=ZV),r.filter(n=>!fC(n)).reduce((n,i)=>n+(QV.test(i)?JV:i===""?eK:tK),a)}function nK(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function iK(e,t,r=!1){let{routesMeta:a}=e,n={},i="/",s=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,f=i==="/"?t:t.slice(i.length)||"/",m=Cb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),x=c.route;if(!m&&d&&r&&!a[a.length-1].route.index&&(m=Cb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:Cd([i,m.pathname]),pathnameBase:dK(Cd([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=Cd([i,m.pathnameBase]))}return s}function Cb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=sK(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],s=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,{paramName:f,isOptional:m},x)=>{if(f==="*"){let y=o[x]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[x];return m&&!p?d[f]=void 0:d[f]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function sK(e,t=!1,r=!0){Kl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function oK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function zd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function lK(e,t="/"){let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?um(e):e;return{pathname:r?r.startsWith("/")?r:cK(r,t):t,search:fK(a),hash:hK(n)}}function cK(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function _k(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uK(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fN(e){let t=uK(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function hN(e,t,r,a=!1){let n;typeof e=="string"?n=um(e):(n={...e},wn(!n.pathname||!n.pathname.includes("?"),_k("?","pathname","search",n)),wn(!n.pathname||!n.pathname.includes("#"),_k("#","pathname","hash",n)),wn(!n.search||!n.search.includes("#"),_k("#","search","hash",n)));let i=e===""||n.pathname==="",s=i?"/":n.pathname,o;if(s==null)o=r;else{let m=t.length-1;if(!a&&s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}o=m>=0?t[m]:"/"}let c=lK(n,o),d=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Cd=e=>e.join("/").replace(/\/\/+/g,"/"),dK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gM=["POST","PUT","PATCH","DELETE"];new Set(gM);var pK=["GET",...gM];new Set(pK);var vg=j.createContext(null);vg.displayName="DataRouter";var G2=j.createContext(null);G2.displayName="DataRouterState";j.createContext(!1);var xM=j.createContext({isTransitioning:!1});xM.displayName="ViewTransition";var gK=j.createContext(new Map);gK.displayName="Fetchers";var xK=j.createContext(null);xK.displayName="Await";var zc=j.createContext(null);zc.displayName="Navigation";var G1=j.createContext(null);G1.displayName="Location";var Mu=j.createContext({outlet:null,matches:[],isDataRoute:!1});Mu.displayName="Route";var mN=j.createContext(null);mN.displayName="RouteError";function vK(e,{relative:t}={}){wn(yg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(zc),{hash:n,pathname:i,search:s}=Y1(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Cd([r,i])),a.createHref({pathname:o,search:s,hash:n})}function yg(){return j.useContext(G1)!=null}function Xd(){return wn(yg(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(G1).location}var vM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yM(e){j.useContext(zc).static||j.useLayoutEffect(e)}function pN(){let{isDataRoute:e}=j.useContext(Mu);return e?OK():yK()}function yK(){wn(yg(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(vg),{basename:t,navigator:r}=j.useContext(zc),{matches:a}=j.useContext(Mu),{pathname:n}=Xd(),i=JSON.stringify(fN(a)),s=j.useRef(!1);return yM(()=>{s.current=!0}),j.useCallback((c,d={})=>{if(Kl(s.current,vM),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=hN(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cd([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,n,e])}j.createContext(null);function Y1(e,{relative:t}={}){let{matches:r}=j.useContext(Mu),{pathname:a}=Xd(),n=JSON.stringify(fN(r));return j.useMemo(()=>hN(e,JSON.parse(n),a,t==="path"),[e,n,a,t])}function bK(e,t){return bM(e,t)}function bM(e,t,r,a,n){var N;wn(yg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(zc),{matches:s}=j.useContext(Mu),o=s[s.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let _=m&&m.path||"";wM(d,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=Xd(),p;if(t){let _=typeof t=="string"?um(t):t;wn(f==="/"||((N=_.pathname)==null?void 0:N.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=x;let y=p.pathname||"/",v=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=hM(e,{pathname:v});Kl(m||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Kl(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=NK(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:Cd([f,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Cd([f,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,r,a,n);return t&&k?j.createElement(G1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},k):k}function wK(){let e=CK(),t=mK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:n},r):null,s)}var kK=j.createElement(wK,null),_K=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Mu.Provider,{value:this.props.routeContext},j.createElement(mN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SK({routeContext:e,match:t,children:r}){let a=j.useContext(vg);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Mu.Provider,{value:e},r)}function NK(e,t=[],r=null,a=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);wn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:x}=r,p=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||p){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let x,p=!1,y=null,v=null;r&&(x=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||kK,o&&(c<0&&m===0?(wM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===m&&(p=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,m+1)),k=()=>{let N;return x?N=y:p?N=v:f.route.Component?N=j.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,j.createElement(SK,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(_K,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:a}):k()},null)}function gN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jK(e){let t=j.useContext(vg);return wn(t,gN(e)),t}function AK(e){let t=j.useContext(G2);return wn(t,gN(e)),t}function TK(e){let t=j.useContext(Mu);return wn(t,gN(e)),t}function xN(e){let t=TK(e),r=t.matches[t.matches.length-1];return wn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function EK(){return xN("useRouteId")}function CK(){var a;let e=j.useContext(mN),t=AK("useRouteError"),r=xN("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function OK(){let{router:e}=jK("useNavigate"),t=xN("useNavigate"),r=j.useRef(!1);return yM(()=>{r.current=!0}),j.useCallback(async(n,i={})=>{Kl(r.current,vM),r.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var hC={};function wM(e,t,r){!t&&!hC[e]&&(hC[e]=!0,Kl(!1,r))}j.memo(PK);function PK({routes:e,future:t,state:r,unstable_onError:a}){return bM(e,void 0,r,a,t)}function kM({to:e,replace:t,state:r,relative:a}){wn(yg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=j.useContext(zc);Kl(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Mu),{pathname:s}=Xd(),o=pN(),c=hN(e,fN(i),s,a==="path"),d=JSON.stringify(c);return j.useEffect(()=>{o(JSON.parse(d),{replace:t,state:r,relative:a})},[o,d,a,t,r]),null}function $n(e){wn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DK({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:n,static:i=!1}){wn(!yg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=j.useMemo(()=>({basename:s,navigator:n,static:i,future:{}}),[s,n,i]);typeof r=="string"&&(r=um(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:x="default"}=r,p=j.useMemo(()=>{let y=zd(c,s);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:x},navigationType:a}},[s,c,d,f,m,x,a]);return Kl(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:j.createElement(zc.Provider,{value:o},j.createElement(G1.Provider,{children:t,value:p}))}function mC({children:e,location:t}){return bK(r3(e),t)}function r3(e,t=[]){let r=[];return j.Children.forEach(e,(a,n)=>{if(!j.isValidElement(a))return;let i=[...t,n];if(a.type===j.Fragment){r.push.apply(r,r3(a.props.children,i));return}wn(a.type===$n,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=r3(a.props.children,i)),r.push(s)}),r}var xb="get",vb="application/x-www-form-urlencoded";function Y2(e){return e!=null&&typeof e.tagName=="string"}function LK(e){return Y2(e)&&e.tagName.toLowerCase()==="button"}function MK(e){return Y2(e)&&e.tagName.toLowerCase()==="form"}function RK(e){return Y2(e)&&e.tagName.toLowerCase()==="input"}function IK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FK(e,t){return e.button===0&&(!t||t==="_self")&&!IK(e)}var Sy=null;function BK(){if(Sy===null)try{new FormData(document.createElement("form"),0),Sy=!1}catch{Sy=!0}return Sy}var UK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sk(e){return e!=null&&!UK.has(e)?(Kl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vb}"`),null):e}function zK(e,t){let r,a,n,i,s;if(MK(e)){let o=e.getAttribute("action");a=o?zd(o,t):null,r=e.getAttribute("method")||xb,n=Sk(e.getAttribute("enctype"))||vb,i=new FormData(e)}else if(LK(e)||RK(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(a=c?zd(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||xb,n=Sk(e.getAttribute("formenctype"))||Sk(o.getAttribute("enctype"))||vb,i=new FormData(o,e),!BK()){let{name:d,type:f,value:m}=e;if(f==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,m)}}else{if(Y2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xb,a=null,n=vb,s=e}return i&&n==="text/plain"&&(s=i,i=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qK(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&zd(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function $K(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function WK(e,t,r){let a=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let s=await $K(i,r);return s.links?s.links():[]}return[]}));return YK(a.flat(1).filter(HK).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function pC(e,t,r,a,n,i){let s=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>s(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{var m;let f=a.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function VK(e,t,{includeHydrateFallback:r}={}){return KK(e.map(a=>{let n=t.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function KK(e){return[...new Set(e)]}function GK(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function YK(e,t){let r=new Set;return new Set(t),e.reduce((a,n)=>{let i=JSON.stringify(GK(n));return r.has(i)||(r.add(i),a.push({key:i,link:n})),a},[])}function _M(){let e=j.useContext(vg);return vN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XK(){let e=j.useContext(G2);return vN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yN=j.createContext(void 0);yN.displayName="FrameworkContext";function SM(){let e=j.useContext(yN);return vN(e,"You must render this element inside a <HydratedRouter> element"),e}function QK(e,t){let r=j.useContext(yN),[a,n]=j.useState(!1),[i,s]=j.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=k=>{k.forEach(N=>{s(N.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[e]),j.useEffect(()=>{if(a){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[a]);let p=()=>{n(!0)},y=()=>{n(!1),s(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:Sx(o,p),onBlur:Sx(c,y),onMouseEnter:Sx(d,p),onMouseLeave:Sx(f,y),onTouchStart:Sx(m,p)}]:[!1,x,{}]}function Sx(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function JK({page:e,...t}){let{router:r}=_M(),a=j.useMemo(()=>hM(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?j.createElement(eG,{page:e,matches:a,...t}):null}function ZK(e){let{manifest:t,routeModules:r}=SM(),[a,n]=j.useState([]);return j.useEffect(()=>{let i=!1;return WK(e,t,r).then(s=>{i||n(s)}),()=>{i=!0}},[e,t,r]),a}function eG({page:e,matches:t,...r}){let a=Xd(),{manifest:n,routeModules:i}=SM(),{basename:s}=_M(),{loaderData:o,matches:c}=XK(),d=j.useMemo(()=>pC(e,t,c,n,a,"data"),[e,t,c,n,a]),f=j.useMemo(()=>pC(e,t,c,n,a,"assets"),[e,t,c,n,a]),m=j.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,v=!1;if(t.forEach(k=>{var _;let N=n.routes[k.route.id];!N||!N.hasLoader||(!d.some(T=>T.route.id===k.route.id)&&k.route.id in o&&((_=i[k.route.id])!=null&&_.shouldRevalidate)||N.hasClientLoader?v=!0:y.add(k.route.id))}),y.size===0)return[];let b=qK(e,s,"data");return v&&y.size>0&&b.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[b.pathname+b.search]},[s,o,a,n,d,t,e,i]),x=j.useMemo(()=>VK(f,n),[f,n]),p=ZK(f);return j.createElement(j.Fragment,null,m.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),p.map(({key:y,link:v})=>j.createElement("link",{key:y,nonce:r.nonce,...v})))}function tG(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var NM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NM&&(window.__reactRouterVersion="7.9.5")}catch{}function rG({basename:e,children:t,window:r}){let a=j.useRef();a.current==null&&(a.current=WV({window:r,v5Compat:!0}));let n=a.current,[i,s]=j.useState({action:n.action,location:n.location}),o=j.useCallback(c=>{j.startTransition(()=>s(c))},[s]);return j.useLayoutEffect(()=>n.listen(o),[n,o]),j.createElement(DK,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var jM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:n,reloadDocument:i,replace:s,state:o,target:c,to:d,preventScrollReset:f,viewTransition:m,...x},p){let{basename:y}=j.useContext(zc),v=typeof d=="string"&&jM.test(d),b,k=!1;if(typeof d=="string"&&v&&(b=d,NM))try{let F=new URL(window.location.href),W=d.startsWith("//")?new URL(F.protocol+d):new URL(d),O=zd(W.pathname,y);W.origin===F.origin&&O!=null?d=O+W.search+W.hash:k=!0}catch{Kl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=vK(d,{relative:n}),[_,T,L]=QK(a,x),D=sG(d,{replace:s,state:o,target:c,preventScrollReset:f,relative:n,viewTransition:m});function R(F){t&&t(F),F.defaultPrevented||D(F)}let U=j.createElement("a",{...x,...L,href:b||N,onClick:k||i?t:R,ref:tG(p,T),target:c,"data-discover":!v&&r==="render"?"true":void 0});return _&&!v?j.createElement(j.Fragment,null,U,j.createElement(JK,{page:N})):U});X1.displayName="Link";var aG=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:n=!1,style:i,to:s,viewTransition:o,children:c,...d},f){let m=Y1(s,{relative:d.relative}),x=Xd(),p=j.useContext(G2),{navigator:y,basename:v}=j.useContext(zc),b=p!=null&&dG(m)&&o===!0,k=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,N=x.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(N=N.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&v&&(_=zd(_,v)||_);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=N===k||!n&&N.startsWith(k)&&N.charAt(T)==="/",D=_!=null&&(_===k||!n&&_.startsWith(k)&&_.charAt(k.length)==="/"),R={isActive:L,isPending:D,isTransitioning:b},U=L?t:void 0,F;typeof a=="function"?F=a(R):F=[a,L?"active":null,D?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let W=typeof i=="function"?i(R):i;return j.createElement(X1,{...d,"aria-current":U,className:F,ref:f,style:W,to:s,viewTransition:o},typeof c=="function"?c(R):c)});aG.displayName="NavLink";var nG=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:n,state:i,method:s=xb,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...x},p)=>{let y=cG(),v=uG(o,{relative:d}),b=s.toLowerCase()==="get"?"get":"post",k=typeof o=="string"&&jM.test(o),N=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,L=(T==null?void 0:T.getAttribute("formmethod"))||s;y(T||_.currentTarget,{fetcherKey:t,method:L,navigate:r,replace:n,state:i,relative:d,preventScrollReset:f,viewTransition:m})};return j.createElement("form",{ref:p,method:b,action:v,onSubmit:a?c:N,...x,"data-discover":!k&&e==="render"?"true":void 0})});nG.displayName="Form";function iG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AM(e){let t=j.useContext(vg);return wn(t,iG(e)),t}function sG(e,{target:t,replace:r,state:a,preventScrollReset:n,relative:i,viewTransition:s}={}){let o=pN(),c=Xd(),d=Y1(e,{relative:i});return j.useCallback(f=>{if(FK(f,t)){f.preventDefault();let m=r!==void 0?r:l1(c)===l1(d);o(e,{replace:m,state:a,preventScrollReset:n,relative:i,viewTransition:s})}},[c,o,d,r,a,t,e,n,i,s])}var oG=0,lG=()=>`__${String(++oG)}__`;function cG(){let{router:e}=AM("useSubmit"),{basename:t}=j.useContext(zc),r=EK();return j.useCallback(async(a,n={})=>{let{action:i,method:s,encType:o,formData:c,body:d}=zK(a,t);if(n.navigate===!1){let f=n.fetcherKey||lG();await e.fetch(f,r,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||s,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||s,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,r])}function uG(e,{relative:t}={}){let{basename:r}=j.useContext(zc),a=j.useContext(Mu);wn(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...Y1(e||".",{relative:t})},s=Xd();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let f=o.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Cd([r,i.pathname])),l1(i)}function dG(e,{relative:t}={}){let r=j.useContext(xM);wn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=AM("useViewTransitionState"),n=Y1(e,{relative:t});if(!r.isTransitioning)return!1;let i=zd(r.currentLocation.pathname,a)||r.currentLocation.pathname,s=zd(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Cb(n.pathname,s)!=null||Cb(n.pathname,i)!=null}var TM=fM(),bg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fG={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Q0,dN,eM,hG=(eM=class{constructor(){sr(this,Q0,fG);sr(this,dN,!1)}setTimeoutProvider(e){Ot(this,Q0,e)}setTimeout(e,t){return Oe(this,Q0).setTimeout(e,t)}clearTimeout(e){Oe(this,Q0).clearTimeout(e)}setInterval(e,t){return Oe(this,Q0).setInterval(e,t)}clearInterval(e){Oe(this,Q0).clearInterval(e)}},Q0=new WeakMap,dN=new WeakMap,eM),mh=new hG;function mG(e){setTimeout(e,0)}var Uh=typeof window>"u"||"Deno"in globalThis;function eo(){}function pG(e,t){return typeof e=="function"?e(t):e}function a3(e){return typeof e=="number"&&e>=0&&e!==1/0}function EM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function df(e,t){return typeof e=="function"?e(t):e}function $l(e,t){return typeof e=="function"?e(t):e}function gC(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:s,stale:o}=e;if(s){if(a){if(t.queryHash!==bN(s,t.options))return!1}else if(!c1(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function xC(e,t){const{exact:r,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(zh(t.options.mutationKey)!==zh(i))return!1}else if(!c1(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function bN(e,t){return((t==null?void 0:t.queryKeyHashFn)||zh)(e)}function zh(e){return JSON.stringify(e,(t,r)=>n3(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function c1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>c1(e[r],t[r])):!1}var gG=Object.prototype.hasOwnProperty;function wN(e,t){if(e===t)return e;const r=vC(e)&&vC(t);if(!r&&!(n3(e)&&n3(t)))return t;const n=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let c=0;for(let d=0;d<s;d++){const f=r?d:i[d],m=e[f],x=t[f];if(m===x){o[f]=m,(r?d<n:gG.call(e,f))&&c++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){o[f]=x;continue}const p=wN(m,x);o[f]=p,p===m&&c++}return n===s&&c===n?e:o}function Ob(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function vC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function n3(e){if(!yC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!yC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yC(e){return Object.prototype.toString.call(e)==="[object Object]"}function xG(e){return new Promise(t=>{mh.setTimeout(t,e)})}function i3(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?wN(e,t):t}function vG(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function yG(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var kN=Symbol();function CM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function OM(e,t){return typeof e=="function"?e(...t):!!e}var wh,J0,Gp,tM,bG=(tM=class extends bg{constructor(){super();sr(this,wh);sr(this,J0);sr(this,Gp);Ot(this,Gp,t=>{if(!Uh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Oe(this,J0)||this.setEventListener(Oe(this,Gp))}onUnsubscribe(){var t;this.hasListeners()||((t=Oe(this,J0))==null||t.call(this),Ot(this,J0,void 0))}setEventListener(t){var r;Ot(this,Gp,t),(r=Oe(this,J0))==null||r.call(this),Ot(this,J0,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Oe(this,wh)!==t&&(Ot(this,wh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Oe(this,wh)=="boolean"?Oe(this,wh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wh=new WeakMap,J0=new WeakMap,Gp=new WeakMap,tM),_N=new bG;function s3(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}var wG=mG;function kG(){let e=[],t=0,r=o=>{o()},a=o=>{o()},n=wG;const i=o=>{t?e.push(o):n(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&n(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{n=o}}}var ai=kG(),Yp,Z0,Xp,rM,_G=(rM=class extends bg{constructor(){super();sr(this,Yp,!0);sr(this,Z0);sr(this,Xp);Ot(this,Xp,t=>{if(!Uh&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Oe(this,Z0)||this.setEventListener(Oe(this,Xp))}onUnsubscribe(){var t;this.hasListeners()||((t=Oe(this,Z0))==null||t.call(this),Ot(this,Z0,void 0))}setEventListener(t){var r;Ot(this,Xp,t),(r=Oe(this,Z0))==null||r.call(this),Ot(this,Z0,t(this.setOnline.bind(this)))}setOnline(t){Oe(this,Yp)!==t&&(Ot(this,Yp,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Oe(this,Yp)}},Yp=new WeakMap,Z0=new WeakMap,Xp=new WeakMap,rM),Pb=new _G;function SG(e){return Math.min(1e3*2**e,3e4)}function PM(e){return(e??"online")==="online"?Pb.isOnline():!0}var o3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function DM(e){let t=!1,r=0,a;const n=s3(),i=()=>n.status!=="pending",s=v=>{var b;if(!i()){const k=new o3(v);x(k),(b=e.onCancel)==null||b.call(e,k)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>_N.isFocused()&&(e.networkMode==="always"||Pb.isOnline())&&e.canRun(),f=()=>PM(e.networkMode)&&e.canRun(),m=v=>{i()||(a==null||a(),n.resolve(v))},x=v=>{i()||(a==null||a(),n.reject(v))},p=()=>new Promise(v=>{var b;a=k=>{(i()||d())&&v(k)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;a=void 0,i()||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(i())return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(k){v=Promise.reject(k)}Promise.resolve(v).then(m).catch(k=>{var D;if(i())return;const N=e.retry??(Uh?0:3),_=e.retryDelay??SG,T=typeof _=="function"?_(r,k):_,L=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,k);if(t||!L){x(k);return}r++,(D=e.onFail)==null||D.call(e,r,k),xG(T).then(()=>d()?void 0:p()).then(()=>{t?x(k):y()})})};return{promise:n,status:()=>n.status,cancel:s,continue:()=>(a==null||a(),n),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?y():p().then(y),n)}}var kh,aM,LM=(aM=class{constructor(){sr(this,kh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),a3(this.gcTime)&&Ot(this,kh,mh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uh?1/0:300*1e3))}clearGcTimeout(){Oe(this,kh)&&(mh.clearTimeout(Oe(this,kh)),Ot(this,kh,void 0))}},kh=new WeakMap,aM),_h,Qp,zl,Sh,Ji,$1,Nh,Tc,gd,nM,NG=(nM=class extends LM{constructor(t){super();sr(this,Tc);sr(this,_h);sr(this,Qp);sr(this,zl);sr(this,Sh);sr(this,Ji);sr(this,$1);sr(this,Nh);Ot(this,Nh,!1),Ot(this,$1,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ot(this,Sh,t.client),Ot(this,zl,Oe(this,Sh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ot(this,_h,wC(this.options)),this.state=t.state??Oe(this,_h),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Oe(this,Ji))==null?void 0:t.promise}setOptions(t){if(this.options={...Oe(this,$1),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=wC(this.options);r.data!==void 0&&(this.setState(bC(r.data,r.dataUpdatedAt)),Ot(this,_h,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Oe(this,zl).remove(this)}setData(t,r){const a=i3(this.state.data,t,this.options);return zr(this,Tc,gd).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){zr(this,Tc,gd).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=Oe(this,Ji))==null?void 0:a.promise;return(n=Oe(this,Ji))==null||n.cancel(t),r?r.then(eo).catch(eo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Oe(this,_h))}isActive(){return this.observers.some(t=>$l(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>df(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!EM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Oe(this,Ji))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Oe(this,Ji))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Oe(this,zl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Oe(this,Ji)&&(Oe(this,Nh)?Oe(this,Ji).cancel({revert:!0}):Oe(this,Ji).cancelRetry()),this.scheduleGc()),Oe(this,zl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zr(this,Tc,gd).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,f,m,x,p,y,v,b,k,N,_;if(this.state.fetchStatus!=="idle"&&((c=Oe(this,Ji))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Oe(this,Ji))return Oe(this,Ji).continueRetry(),Oe(this,Ji).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(L=>L.options.queryFn);T&&this.setOptions(T.options)}const a=new AbortController,n=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Ot(this,Nh,!0),a.signal)})},i=()=>{const T=CM(this.options,r),D=(()=>{const R={client:Oe(this,Sh),queryKey:this.queryKey,meta:this.meta};return n(R),R})();return Ot(this,Nh,!1),this.options.persister?this.options.persister(T,D,this):T(D)},o=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Oe(this,Sh),state:this.state,fetchFn:i};return n(T),T})();(d=this.options.behavior)==null||d.onFetch(o,this),Ot(this,Qp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=o.fetchOptions)==null?void 0:f.meta))&&zr(this,Tc,gd).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta}),Ot(this,Ji,DM({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:T=>{T instanceof o3&&T.revert&&this.setState({...Oe(this,Qp),fetchStatus:"idle"}),a.abort()},onFail:(T,L)=>{zr(this,Tc,gd).call(this,{type:"failed",failureCount:T,error:L})},onPause:()=>{zr(this,Tc,gd).call(this,{type:"pause"})},onContinue:()=>{zr(this,Tc,gd).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const T=await Oe(this,Ji).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(p=(x=Oe(this,zl).config).onSuccess)==null||p.call(x,T,this),(v=(y=Oe(this,zl).config).onSettled)==null||v.call(y,T,this.state.error,this),T}catch(T){if(T instanceof o3){if(T.silent)return Oe(this,Ji).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw zr(this,Tc,gd).call(this,{type:"error",error:T}),(k=(b=Oe(this,zl).config).onError)==null||k.call(b,T,this),(_=(N=Oe(this,zl).config).onSettled)==null||_.call(N,this.state.data,T,this),T}finally{this.scheduleGc()}}},_h=new WeakMap,Qp=new WeakMap,zl=new WeakMap,Sh=new WeakMap,Ji=new WeakMap,$1=new WeakMap,Nh=new WeakMap,Tc=new WeakSet,gd=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...MM(a.data,this.options),fetchMeta:t.meta??null};case"success":const n={...a,...bC(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ot(this,Qp,t.manual?n:void 0),n;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),ai.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Oe(this,zl).notify({query:this,type:"updated",action:t})})},nM);function MM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function bC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function wC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var To,aa,H1,Js,jh,Jp,yd,ef,W1,Zp,eg,Ah,Th,tf,tg,ja,Fx,l3,c3,u3,d3,f3,h3,m3,RM,iM,jG=(iM=class extends bg{constructor(t,r){super();sr(this,ja);sr(this,To);sr(this,aa);sr(this,H1);sr(this,Js);sr(this,jh);sr(this,Jp);sr(this,yd);sr(this,ef);sr(this,W1);sr(this,Zp);sr(this,eg);sr(this,Ah);sr(this,Th);sr(this,tf);sr(this,tg,new Set);this.options=r,Ot(this,To,t),Ot(this,ef,null),Ot(this,yd,s3()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Oe(this,aa).addObserver(this),kC(Oe(this,aa),this.options)?zr(this,ja,Fx).call(this):this.updateResult(),zr(this,ja,d3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return p3(Oe(this,aa),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return p3(Oe(this,aa),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zr(this,ja,f3).call(this),zr(this,ja,h3).call(this),Oe(this,aa).removeObserver(this)}setOptions(t){const r=this.options,a=Oe(this,aa);if(this.options=Oe(this,To).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $l(this.options.enabled,Oe(this,aa))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zr(this,ja,m3).call(this),Oe(this,aa).setOptions(this.options),r._defaulted&&!Ob(this.options,r)&&Oe(this,To).getQueryCache().notify({type:"observerOptionsUpdated",query:Oe(this,aa),observer:this});const n=this.hasListeners();n&&_C(Oe(this,aa),a,this.options,r)&&zr(this,ja,Fx).call(this),this.updateResult(),n&&(Oe(this,aa)!==a||$l(this.options.enabled,Oe(this,aa))!==$l(r.enabled,Oe(this,aa))||df(this.options.staleTime,Oe(this,aa))!==df(r.staleTime,Oe(this,aa)))&&zr(this,ja,l3).call(this);const i=zr(this,ja,c3).call(this);n&&(Oe(this,aa)!==a||$l(this.options.enabled,Oe(this,aa))!==$l(r.enabled,Oe(this,aa))||i!==Oe(this,tf))&&zr(this,ja,u3).call(this,i)}getOptimisticResult(t){const r=Oe(this,To).getQueryCache().build(Oe(this,To),t),a=this.createResult(r,t);return TG(this,a)&&(Ot(this,Js,a),Ot(this,Jp,this.options),Ot(this,jh,Oe(this,aa).state)),a}getCurrentResult(){return Oe(this,Js)}trackResult(t,r){return new Proxy(t,{get:(a,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Oe(this,yd).status==="pending"&&Oe(this,yd).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(t){Oe(this,tg).add(t)}getCurrentQuery(){return Oe(this,aa)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Oe(this,To).defaultQueryOptions(t),a=Oe(this,To).getQueryCache().build(Oe(this,To),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return zr(this,ja,Fx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Oe(this,Js)))}createResult(t,r){var F;const a=Oe(this,aa),n=this.options,i=Oe(this,Js),s=Oe(this,jh),o=Oe(this,Jp),d=t!==a?t.state:Oe(this,H1),{state:f}=t;let m={...f},x=!1,p;if(r._optimisticResults){const W=this.hasListeners(),O=!W&&kC(t,r),M=W&&_C(t,a,r,n);(O||M)&&(m={...m,...MM(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:b}=m;p=m.data;let k=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let W;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(W=i.data,k=!0):W=typeof r.placeholderData=="function"?r.placeholderData((F=Oe(this,eg))==null?void 0:F.state.data,Oe(this,eg)):r.placeholderData,W!==void 0&&(b="success",p=i3(i==null?void 0:i.data,W,r),x=!0)}if(r.select&&p!==void 0&&!k)if(i&&p===(s==null?void 0:s.data)&&r.select===Oe(this,W1))p=Oe(this,Zp);else try{Ot(this,W1,r.select),p=r.select(p),p=i3(i==null?void 0:i.data,p,r),Ot(this,Zp,p),Ot(this,ef,null)}catch(W){Ot(this,ef,W)}Oe(this,ef)&&(y=Oe(this,ef),p=Oe(this,Zp),v=Date.now(),b="error");const N=m.fetchStatus==="fetching",_=b==="pending",T=b==="error",L=_&&N,D=p!==void 0,U={status:b,fetchStatus:m.fetchStatus,isPending:_,isSuccess:b==="success",isError:T,isInitialLoading:L,isLoading:L,data:p,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!_,isLoadingError:T&&!D,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:T&&D,isStale:SN(t,r),refetch:this.refetch,promise:Oe(this,yd),isEnabled:$l(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const W=H=>{U.status==="error"?H.reject(U.error):U.data!==void 0&&H.resolve(U.data)},O=()=>{const H=Ot(this,yd,U.promise=s3());W(H)},M=Oe(this,yd);switch(M.status){case"pending":t.queryHash===a.queryHash&&W(M);break;case"fulfilled":(U.status==="error"||U.data!==M.value)&&O();break;case"rejected":(U.status!=="error"||U.error!==M.reason)&&O();break}}return U}updateResult(){const t=Oe(this,Js),r=this.createResult(Oe(this,aa),this.options);if(Ot(this,jh,Oe(this,aa).state),Ot(this,Jp,this.options),Oe(this,jh).data!==void 0&&Ot(this,eg,Oe(this,aa)),Ob(r,t))return;Ot(this,Js,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!Oe(this,tg).size)return!0;const s=new Set(i??Oe(this,tg));return this.options.throwOnError&&s.add("error"),Object.keys(Oe(this,Js)).some(o=>{const c=o;return Oe(this,Js)[c]!==t[c]&&s.has(c)})};zr(this,ja,RM).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zr(this,ja,d3).call(this)}},To=new WeakMap,aa=new WeakMap,H1=new WeakMap,Js=new WeakMap,jh=new WeakMap,Jp=new WeakMap,yd=new WeakMap,ef=new WeakMap,W1=new WeakMap,Zp=new WeakMap,eg=new WeakMap,Ah=new WeakMap,Th=new WeakMap,tf=new WeakMap,tg=new WeakMap,ja=new WeakSet,Fx=function(t){zr(this,ja,m3).call(this);let r=Oe(this,aa).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(eo)),r},l3=function(){zr(this,ja,f3).call(this);const t=df(this.options.staleTime,Oe(this,aa));if(Uh||Oe(this,Js).isStale||!a3(t))return;const a=EM(Oe(this,Js).dataUpdatedAt,t)+1;Ot(this,Ah,mh.setTimeout(()=>{Oe(this,Js).isStale||this.updateResult()},a))},c3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Oe(this,aa)):this.options.refetchInterval)??!1},u3=function(t){zr(this,ja,h3).call(this),Ot(this,tf,t),!(Uh||$l(this.options.enabled,Oe(this,aa))===!1||!a3(Oe(this,tf))||Oe(this,tf)===0)&&Ot(this,Th,mh.setInterval(()=>{(this.options.refetchIntervalInBackground||_N.isFocused())&&zr(this,ja,Fx).call(this)},Oe(this,tf)))},d3=function(){zr(this,ja,l3).call(this),zr(this,ja,u3).call(this,zr(this,ja,c3).call(this))},f3=function(){Oe(this,Ah)&&(mh.clearTimeout(Oe(this,Ah)),Ot(this,Ah,void 0))},h3=function(){Oe(this,Th)&&(mh.clearInterval(Oe(this,Th)),Ot(this,Th,void 0))},m3=function(){const t=Oe(this,To).getQueryCache().build(Oe(this,To),this.options);if(t===Oe(this,aa))return;const r=Oe(this,aa);Ot(this,aa,t),Ot(this,H1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},RM=function(t){ai.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Oe(this,Js))}),Oe(this,To).getQueryCache().notify({query:Oe(this,aa),type:"observerResultsUpdated"})})},iM);function AG(e,t){return $l(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kC(e,t){return AG(e,t)||e.state.data!==void 0&&p3(e,t,t.refetchOnMount)}function p3(e,t,r){if($l(t.enabled,e)!==!1&&df(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&SN(e,t)}return!1}function _C(e,t,r,a){return(e!==t||$l(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&SN(e,r)}function SN(e,t){return $l(t.enabled,e)!==!1&&e.isStaleByTime(df(t.staleTime,e))}function TG(e,t){return!Ob(e.getCurrentResult(),t)}function SC(e){return{onFetch:(t,r)=>{var f,m,x,p,y;const a=t.options,n=(x=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},k=CM(t.options,t.fetchOptions),N=async(_,T,L)=>{if(v)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:T,direction:L?"backward":"forward",meta:t.options.meta};return b(O),O})(),U=await k(R),{maxPages:F}=t.options,W=L?yG:vG;return{pages:W(_.pages,U,F),pageParams:W(_.pageParams,T,F)}};if(n&&i.length){const _=n==="backward",T=_?EG:NC,L={pages:i,pageParams:s},D=T(a,L);o=await N(L,D,_)}else{const _=e??i.length;do{const T=c===0?s[0]??a.initialPageParam:NC(a,o);if(c>0&&T==null)break;o=await N(o,T),c++}while(c<_)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function NC(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function EG(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var V1,wu,Zs,Eh,ku,V0,sM,CG=(sM=class extends LM{constructor(t){super();sr(this,ku);sr(this,V1);sr(this,wu);sr(this,Zs);sr(this,Eh);Ot(this,V1,t.client),this.mutationId=t.mutationId,Ot(this,Zs,t.mutationCache),Ot(this,wu,[]),this.state=t.state||IM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Oe(this,wu).includes(t)||(Oe(this,wu).push(t),this.clearGcTimeout(),Oe(this,Zs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ot(this,wu,Oe(this,wu).filter(r=>r!==t)),this.scheduleGc(),Oe(this,Zs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Oe(this,wu).length||(this.state.status==="pending"?this.scheduleGc():Oe(this,Zs).remove(this))}continue(){var t;return((t=Oe(this,Eh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,c,d,f,m,x,p,y,v,b,k,N,_,T,L,D,R,U,F;const r=()=>{zr(this,ku,V0).call(this,{type:"continue"})},a={client:Oe(this,V1),meta:this.options.meta,mutationKey:this.options.mutationKey};Ot(this,Eh,DM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(W,O)=>{zr(this,ku,V0).call(this,{type:"failed",failureCount:W,error:O})},onPause:()=>{zr(this,ku,V0).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Oe(this,Zs).canRun(this)}));const n=this.state.status==="pending",i=!Oe(this,Eh).canStart();try{if(n)r();else{zr(this,ku,V0).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=Oe(this,Zs).config).onMutate)==null?void 0:o.call(s,t,this,a));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,a));O!==this.state.context&&zr(this,ku,V0).call(this,{type:"pending",context:O,variables:t,isPaused:i})}const W=await Oe(this,Eh).start();return await((m=(f=Oe(this,Zs).config).onSuccess)==null?void 0:m.call(f,W,t,this.state.context,this,a)),await((p=(x=this.options).onSuccess)==null?void 0:p.call(x,W,t,this.state.context,a)),await((v=(y=Oe(this,Zs).config).onSettled)==null?void 0:v.call(y,W,null,this.state.variables,this.state.context,this,a)),await((k=(b=this.options).onSettled)==null?void 0:k.call(b,W,null,t,this.state.context,a)),zr(this,ku,V0).call(this,{type:"success",data:W}),W}catch(W){try{throw await((_=(N=Oe(this,Zs).config).onError)==null?void 0:_.call(N,W,t,this.state.context,this,a)),await((L=(T=this.options).onError)==null?void 0:L.call(T,W,t,this.state.context,a)),await((R=(D=Oe(this,Zs).config).onSettled)==null?void 0:R.call(D,void 0,W,this.state.variables,this.state.context,this,a)),await((F=(U=this.options).onSettled)==null?void 0:F.call(U,void 0,W,t,this.state.context,a)),W}finally{zr(this,ku,V0).call(this,{type:"error",error:W})}}finally{Oe(this,Zs).runNext(this)}}},V1=new WeakMap,wu=new WeakMap,Zs=new WeakMap,Eh=new WeakMap,ku=new WeakSet,V0=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ai.batch(()=>{Oe(this,wu).forEach(a=>{a.onMutationUpdate(t)}),Oe(this,Zs).notify({mutation:this,type:"updated",action:t})})},sM);function IM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bd,Ec,K1,oM,OG=(oM=class extends bg{constructor(t={}){super();sr(this,bd);sr(this,Ec);sr(this,K1);this.config=t,Ot(this,bd,new Set),Ot(this,Ec,new Map),Ot(this,K1,0)}build(t,r,a){const n=new CG({client:t,mutationCache:this,mutationId:++_y(this,K1)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){Oe(this,bd).add(t);const r=Ny(t);if(typeof r=="string"){const a=Oe(this,Ec).get(r);a?a.push(t):Oe(this,Ec).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Oe(this,bd).delete(t)){const r=Ny(t);if(typeof r=="string"){const a=Oe(this,Ec).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&Oe(this,Ec).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ny(t);if(typeof r=="string"){const a=Oe(this,Ec).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const r=Ny(t);if(typeof r=="string"){const n=(a=Oe(this,Ec).get(r))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ai.batch(()=>{Oe(this,bd).forEach(t=>{this.notify({type:"removed",mutation:t})}),Oe(this,bd).clear(),Oe(this,Ec).clear()})}getAll(){return Array.from(Oe(this,bd))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>xC(r,a))}findAll(t={}){return this.getAll().filter(r=>xC(t,r))}notify(t){ai.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ai.batch(()=>Promise.all(t.map(r=>r.continue().catch(eo))))}},bd=new WeakMap,Ec=new WeakMap,K1=new WeakMap,oM);function Ny(e){var t;return(t=e.options.scope)==null?void 0:t.id}var wd,rf,Eo,kd,Ud,yb,g3,lM,PG=(lM=class extends bg{constructor(r,a){super();sr(this,Ud);sr(this,wd);sr(this,rf);sr(this,Eo);sr(this,kd);Ot(this,wd,r),this.setOptions(a),this.bindMethods(),zr(this,Ud,yb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=Oe(this,wd).defaultMutationOptions(r),Ob(this.options,a)||Oe(this,wd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Oe(this,Eo),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&zh(a.mutationKey)!==zh(this.options.mutationKey)?this.reset():((n=Oe(this,Eo))==null?void 0:n.state.status)==="pending"&&Oe(this,Eo).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Oe(this,Eo))==null||r.removeObserver(this)}onMutationUpdate(r){zr(this,Ud,yb).call(this),zr(this,Ud,g3).call(this,r)}getCurrentResult(){return Oe(this,rf)}reset(){var r;(r=Oe(this,Eo))==null||r.removeObserver(this),Ot(this,Eo,void 0),zr(this,Ud,yb).call(this),zr(this,Ud,g3).call(this)}mutate(r,a){var n;return Ot(this,kd,a),(n=Oe(this,Eo))==null||n.removeObserver(this),Ot(this,Eo,Oe(this,wd).getMutationCache().build(Oe(this,wd),this.options)),Oe(this,Eo).addObserver(this),Oe(this,Eo).execute(r)}},wd=new WeakMap,rf=new WeakMap,Eo=new WeakMap,kd=new WeakMap,Ud=new WeakSet,yb=function(){var a;const r=((a=Oe(this,Eo))==null?void 0:a.state)??IM();Ot(this,rf,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},g3=function(r){ai.batch(()=>{var a,n,i,s,o,c,d,f;if(Oe(this,kd)&&this.hasListeners()){const m=Oe(this,rf).variables,x=Oe(this,rf).context,p={client:Oe(this,wd),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(a=Oe(this,kd)).onSuccess)==null||n.call(a,r.data,m,x,p),(s=(i=Oe(this,kd)).onSettled)==null||s.call(i,r.data,null,m,x,p)):(r==null?void 0:r.type)==="error"&&((c=(o=Oe(this,kd)).onError)==null||c.call(o,r.error,m,x,p),(f=(d=Oe(this,kd)).onSettled)==null||f.call(d,void 0,r.error,m,x,p))}this.listeners.forEach(m=>{m(Oe(this,rf))})})},lM),_u,cM,DG=(cM=class extends bg{constructor(t={}){super();sr(this,_u);this.config=t,Ot(this,_u,new Map)}build(t,r,a){const n=r.queryKey,i=r.queryHash??bN(n,r);let s=this.get(i);return s||(s=new NG({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){Oe(this,_u).has(t.queryHash)||(Oe(this,_u).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Oe(this,_u).get(t.queryHash);r&&(t.destroy(),r===t&&Oe(this,_u).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ai.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Oe(this,_u).get(t)}getAll(){return[...Oe(this,_u).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>gC(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>gC(t,a)):r}notify(t){ai.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ai.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ai.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_u=new WeakMap,cM),Hn,af,nf,rg,ag,sf,ng,ig,uM,LG=(uM=class{constructor(e={}){sr(this,Hn);sr(this,af);sr(this,nf);sr(this,rg);sr(this,ag);sr(this,sf);sr(this,ng);sr(this,ig);Ot(this,Hn,e.queryCache||new DG),Ot(this,af,e.mutationCache||new OG),Ot(this,nf,e.defaultOptions||{}),Ot(this,rg,new Map),Ot(this,ag,new Map),Ot(this,sf,0)}mount(){_y(this,sf)._++,Oe(this,sf)===1&&(Ot(this,ng,_N.subscribe(async e=>{e&&(await this.resumePausedMutations(),Oe(this,Hn).onFocus())})),Ot(this,ig,Pb.subscribe(async e=>{e&&(await this.resumePausedMutations(),Oe(this,Hn).onOnline())})))}unmount(){var e,t;_y(this,sf)._--,Oe(this,sf)===0&&((e=Oe(this,ng))==null||e.call(this),Ot(this,ng,void 0),(t=Oe(this,ig))==null||t.call(this),Ot(this,ig,void 0))}isFetching(e){return Oe(this,Hn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Oe(this,af).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Oe(this,Hn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Oe(this,Hn).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(df(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Oe(this,Hn).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=Oe(this,Hn).get(a.queryHash),i=n==null?void 0:n.state.data,s=pG(t,i);if(s!==void 0)return Oe(this,Hn).build(this,a).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ai.batch(()=>Oe(this,Hn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Oe(this,Hn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Oe(this,Hn);ai.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Oe(this,Hn);return ai.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=ai.batch(()=>Oe(this,Hn).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(eo).catch(eo)}invalidateQueries(e,t={}){return ai.batch(()=>(Oe(this,Hn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=ai.batch(()=>Oe(this,Hn).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(eo)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(eo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Oe(this,Hn).build(this,t);return r.isStaleByTime(df(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(eo).catch(eo)}fetchInfiniteQuery(e){return e.behavior=SC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(eo).catch(eo)}ensureInfiniteQueryData(e){return e.behavior=SC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pb.isOnline()?Oe(this,af).resumePausedMutations():Promise.resolve()}getQueryCache(){return Oe(this,Hn)}getMutationCache(){return Oe(this,af)}getDefaultOptions(){return Oe(this,nf)}setDefaultOptions(e){Ot(this,nf,e)}setQueryDefaults(e,t){Oe(this,rg).set(zh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Oe(this,rg).values()],r={};return t.forEach(a=>{c1(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){Oe(this,ag).set(zh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Oe(this,ag).values()],r={};return t.forEach(a=>{c1(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Oe(this,nf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Oe(this,nf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Oe(this,Hn).clear(),Oe(this,af).clear()}},Hn=new WeakMap,af=new WeakMap,nf=new WeakMap,rg=new WeakMap,ag=new WeakMap,sf=new WeakMap,ng=new WeakMap,ig=new WeakMap,uM),FM=j.createContext(void 0),zs=e=>{const t=j.useContext(FM);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MG=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(FM.Provider,{value:e,children:t})),BM=j.createContext(!1),RG=()=>j.useContext(BM);BM.Provider;function IG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var FG=j.createContext(IG()),BG=()=>j.useContext(FG),UG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zG=e=>{j.useEffect(()=>{e.clearReset()},[e])},qG=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||OM(r,[e.error,a])),$G=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},HG=(e,t)=>e.isLoading&&e.isFetching&&!t,WG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,jC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function VG(e,t,r){var m,x,p,y,v;const a=RG(),n=BG(),i=zs(r),s=i.defaultQueryOptions(e);(x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,s),s._optimisticResults=a?"isRestoring":"optimistic",$G(s),UG(s,n),zG(n);const o=!i.getQueryCache().get(s.queryHash),[c]=j.useState(()=>new t(i,s)),d=c.getOptimisticResult(s),f=!a&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const k=f?c.subscribe(ai.batchCalls(b)):eo;return c.updateResult(),k},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(s)},[s,c]),WG(s,d))throw jC(s,c,n);if(qG({result:d,errorResetBoundary:n,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,s,d),s.experimental_prefetchInRender&&!Uh&&HG(d,a)){const b=o?jC(s,c,n):(v=i.getQueryCache().get(s.queryHash))==null?void 0:v.promise;b==null||b.catch(eo).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?d:c.trackResult(d)}function qc(e,t){return VG(e,jG,t)}function KG(e,t){const r=zs(t),a=r.getQueryCache();return j.useSyncExternalStore(j.useCallback(n=>a.subscribe(ai.batchCalls(n)),[a]),()=>r.isFetching(e),()=>r.isFetching(e))}function GG(e,t){const r=zs(t);return YG({filters:{...e,status:"pending"}},r).length}function AC(e,t){return e.findAll(t.filters).map(r=>t.select?t.select(r):r.state)}function YG(e={},t){const r=zs(t).getMutationCache(),a=j.useRef(e),n=j.useRef(null);return n.current===null&&(n.current=AC(r,e)),j.useEffect(()=>{a.current=e}),j.useSyncExternalStore(j.useCallback(i=>r.subscribe(()=>{const s=wN(n.current,AC(r,a.current));n.current!==s&&(n.current=s,ai.schedule(i))}),[r]),()=>n.current,()=>n.current)}function $c(e,t){const r=zs(t),[a]=j.useState(()=>new PG(r,e));j.useEffect(()=>{a.setOptions(e)},[a,e]);const n=j.useSyncExternalStore(j.useCallback(s=>a.subscribe(ai.batchCalls(s)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=j.useCallback((s,o)=>{a.mutate(s,o).catch(eo)},[a]);if(n.error&&OM(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function UM(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=UM(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Br(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=UM(e))&&(a&&(a+=" "),a+=t);return a}function XG(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}XG(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Q1=e=>typeof e=="number"&&!isNaN(e),qh=e=>typeof e=="string",qd=e=>typeof e=="function",QG=e=>qh(e)||Q1(e),x3=e=>qh(e)||qd(e)?e:null,JG=(e,t)=>e===!1||Q1(e)&&e>0?e:t,v3=e=>j.isValidElement(e)||qh(e)||qd(e)||Q1(e);function ZG(e,t,r=300){let{scrollHeight:a,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=a+"px",n.transition=`all ${r}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)})})}function eY({enter:e,exit:t,appendPosition:r=!1,collapse:a=!0,collapseDuration:n=300}){return function({children:i,position:s,preventExitTransition:o,done:c,nodeRef:d,isIn:f,playToast:m}){let x=r?`${e}--${s}`:e,p=r?`${t}--${s}`:t,y=j.useRef(0);return j.useLayoutEffect(()=>{let v=d.current,b=x.split(" "),k=N=>{N.target===d.current&&(m(),v.removeEventListener("animationend",k),v.removeEventListener("animationcancel",k),y.current===0&&N.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",k),v.addEventListener("animationcancel",k)},[]),j.useEffect(()=>{let v=d.current,b=()=>{v.removeEventListener("animationend",b),a?ZG(v,c,n):c()};f||(o?b():(y.current=1,v.className+=` ${p}`,v.addEventListener("animationend",b)))},[f]),ya.createElement(ya.Fragment,null,i)}}function TC(e,t){return{content:zM(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function zM(e,t,r=!1){return j.isValidElement(e)&&!qh(e.type)?j.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):qd(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function tY({closeToast:e,theme:t,ariaLabel:r="close"}){return ya.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":r},ya.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ya.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rY({delay:e,isRunning:t,closeToast:r,type:a="default",hide:n,className:i,controlledProgress:s,progress:o,rtl:c,isIn:d,theme:f}){let m=n||s&&o===0,x={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(x.transform=`scaleX(${o})`);let p=Br("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":c}),y=qd(i)?i({rtl:c,type:a,defaultClassName:p}):Br(p,i),v={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{d&&r()}};return ya.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},ya.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${a}`}),ya.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:x,...v}))}var aY=1,qM=()=>`${aY++}`;function nY(e,t,r){let a=1,n=0,i=[],s=[],o=t,c=new Map,d=new Set,f=N=>(d.add(N),()=>d.delete(N)),m=()=>{s=Array.from(c.values()),d.forEach(N=>N())},x=({containerId:N,toastId:_,updateId:T})=>{let L=N?N!==e:e!==1,D=c.has(_)&&T==null;return L||D},p=(N,_)=>{c.forEach(T=>{var L;(_==null||_===T.props.toastId)&&((L=T.toggle)==null||L.call(T,N))})},y=N=>{var _,T;(T=(_=N.props)==null?void 0:_.onClose)==null||T.call(_,N.removalReason),N.isActive=!1},v=N=>{if(N==null)c.forEach(y);else{let _=c.get(N);_&&y(_)}m()},b=()=>{n-=i.length,i=[]},k=N=>{var _,T;let{toastId:L,updateId:D}=N.props,R=D==null;N.staleId&&c.delete(N.staleId),N.isActive=!0,c.set(L,N),m(),r(TC(N,R?"added":"updated")),R&&((T=(_=N.props).onOpen)==null||T.call(_))};return{id:e,props:o,observe:f,toggle:p,removeToast:v,toasts:c,clearQueue:b,buildToast:(N,_)=>{if(x(_))return;let{toastId:T,updateId:L,data:D,staleId:R,delay:U}=_,F=L==null;F&&n++;let W={...o,style:o.toastStyle,key:a++,...Object.fromEntries(Object.entries(_).filter(([M,H])=>H!=null)),toastId:T,updateId:L,data:D,isIn:!1,className:x3(_.className||o.toastClassName),progressClassName:x3(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:JG(_.autoClose,o.autoClose),closeToast(M){c.get(T).removalReason=M,v(T)},deleteToast(){let M=c.get(T);if(M!=null){if(r(TC(M,"removed")),c.delete(T),n--,n<0&&(n=0),i.length>0){k(i.shift());return}m()}}};W.closeButton=o.closeButton,_.closeButton===!1||v3(_.closeButton)?W.closeButton=_.closeButton:_.closeButton===!0&&(W.closeButton=v3(o.closeButton)?o.closeButton:!0);let O={content:N,props:W,staleId:R};o.limit&&o.limit>0&&n>o.limit&&F?i.push(O):Q1(U)?setTimeout(()=>{k(O)},U):k(O)},setProps(N){o=N},setToggle:(N,_)=>{let T=c.get(N);T&&(T.toggle=_)},isToastActive:N=>{var _;return(_=c.get(N))==null?void 0:_.isActive},getSnapshot:()=>s}}var io=new Map,u1=[],y3=new Set,iY=e=>y3.forEach(t=>t(e)),$M=()=>io.size>0;function sY(){u1.forEach(e=>WM(e.content,e.options)),u1=[]}var oY=(e,{containerId:t})=>{var r;return(r=io.get(t||1))==null?void 0:r.toasts.get(e)};function HM(e,t){var r;if(t)return!!((r=io.get(t))!=null&&r.isToastActive(e));let a=!1;return io.forEach(n=>{n.isToastActive(e)&&(a=!0)}),a}function lY(e){if(!$M()){u1=u1.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||QG(e))io.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=io.get(e.containerId);t?t.removeToast(e.id):io.forEach(r=>{r.removeToast(e.id)})}}var cY=(e={})=>{io.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function WM(e,t){v3(e)&&($M()||u1.push({content:e,options:t}),io.forEach(r=>{r.buildToast(e,t)}))}function uY(e){var t;(t=io.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function VM(e,t){io.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function dY(e){let t=e.containerId||1;return{subscribe(r){let a=nY(t,e,iY);io.set(t,a);let n=a.observe(r);return sY(),()=>{n(),io.delete(t)}},setProps(r){var a;(a=io.get(t))==null||a.setProps(r)},getSnapshot(){var r;return(r=io.get(t))==null?void 0:r.getSnapshot()}}}function fY(e){return y3.add(e),()=>{y3.delete(e)}}function hY(e){return e&&(qh(e.toastId)||Q1(e.toastId))?e.toastId:qM()}function J1(e,t){return WM(e,t),t.toastId}function X2(e,t){return{...t,type:t&&t.type||e,toastId:hY(t)}}function Q2(e){return(t,r)=>J1(t,X2(e,r))}function va(e,t){return J1(e,X2("default",t))}va.loading=(e,t)=>J1(e,X2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function mY(e,{pending:t,error:r,success:a},n){let i;t&&(i=qh(t)?va.loading(t,n):va.loading(t.render,{...n,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(d,f,m)=>{if(f==null){va.dismiss(i);return}let x={type:d,...s,...n,data:m},p=qh(f)?{render:f}:f;return i?va.update(i,{...x,...p}):va(p.render,{...x,...p}),m},c=qd(e)?e():e;return c.then(d=>o("success",a,d)).catch(d=>o("error",r,d)),c}va.promise=mY;va.success=Q2("success");va.info=Q2("info");va.error=Q2("error");va.warning=Q2("warning");va.warn=va.warning;va.dark=(e,t)=>J1(e,X2("default",{theme:"dark",...t}));function pY(e){lY(e)}va.dismiss=pY;va.clearWaitingQueue=cY;va.isActive=HM;va.update=(e,t={})=>{let r=oY(e,t);if(r){let{props:a,content:n}=r,i={delay:100,...a,...t,toastId:t.toastId||e,updateId:qM()};i.toastId!==e&&(i.staleId=e);let s=i.render||n;delete i.render,J1(s,i)}};va.done=e=>{va.update(e,{progress:1})};va.onChange=fY;va.play=e=>VM(!0,e);va.pause=e=>VM(!1,e);function gY(e){var t;let{subscribe:r,getSnapshot:a,setProps:n}=j.useRef(dY(e)).current;n(e);let i=(t=j.useSyncExternalStore(r,a,a))==null?void 0:t.slice();function s(o){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(d=>{let{position:f}=d.props;c.has(f)||c.set(f,[]),c.get(f).push(d)}),Array.from(c,d=>o(d[0],d[1]))}return{getToastToRender:s,isToastActive:HM,count:i==null?void 0:i.length}}function xY(e){let[t,r]=j.useState(!1),[a,n]=j.useState(!1),i=j.useRef(null),s=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:d,onClick:f,closeOnClick:m}=e;uY({id:e.toastId,containerId:e.containerId,fn:r}),j.useEffect(()=>{if(e.pauseOnFocusLoss)return x(),()=>{p()}},[e.pauseOnFocusLoss]);function x(){document.hasFocus()||k(),window.addEventListener("focus",b),window.addEventListener("blur",k)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",k)}function y(R){if(e.draggable===!0||e.draggable===R.pointerType){N();let U=i.current;s.canCloseOnClick=!0,s.canDrag=!0,U.style.transition="none",e.draggableDirection==="x"?(s.start=R.clientX,s.removalDistance=U.offsetWidth*(e.draggablePercent/100)):(s.start=R.clientY,s.removalDistance=U.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function v(R){let{top:U,bottom:F,left:W,right:O}=i.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=W&&R.clientX<=O&&R.clientY>=U&&R.clientY<=F?k():b()}function b(){r(!0)}function k(){r(!1)}function N(){s.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",L)}function _(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",L)}function T(R){let U=i.current;if(s.canDrag&&U){s.didMove=!0,t&&k(),e.draggableDirection==="x"?s.delta=R.clientX-s.start:s.delta=R.clientY-s.start,s.start!==R.clientX&&(s.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;U.style.transform=`translate3d(${F},0)`,U.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function L(){_();let R=i.current;if(s.canDrag&&s.didMove&&R){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){n(!0),e.closeToast(!0),e.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let D={onPointerDown:y,onPointerUp:v};return o&&c&&(D.onMouseEnter=k,e.stacked||(D.onMouseLeave=b)),m&&(D.onClick=R=>{f&&f(R),s.canCloseOnClick&&d(!0)}),{playToast:b,pauseToast:k,isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:D}}var vY=typeof window<"u"?j.useLayoutEffect:j.useEffect,J2=({theme:e,type:t,isLoading:r,...a})=>ya.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function yY(e){return ya.createElement(J2,{...e},ya.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bY(e){return ya.createElement(J2,{...e},ya.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function wY(e){return ya.createElement(J2,{...e},ya.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function kY(e){return ya.createElement(J2,{...e},ya.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function _Y(){return ya.createElement("div",{className:"Toastify__spinner"})}var b3={info:bY,warning:yY,success:wY,error:kY,spinner:_Y},SY=e=>e in b3;function NY({theme:e,type:t,isLoading:r,icon:a}){let n=null,i={theme:e,type:t};return a===!1||(qd(a)?n=a({...i,isLoading:r}):j.isValidElement(a)?n=j.cloneElement(a,i):r?n=b3.spinner():SY(t)&&(n=b3[t](i))),n}var jY=e=>{let{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:n,playToast:i}=xY(e),{closeButton:s,children:o,autoClose:c,onClick:d,type:f,hideProgressBar:m,closeToast:x,transition:p,position:y,className:v,style:b,progressClassName:k,updateId:N,role:_,progress:T,rtl:L,toastId:D,deleteToast:R,isIn:U,isLoading:F,closeOnClick:W,theme:O,ariaLabel:M}=e,H=Br("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":W}),Y=qd(v)?v({rtl:L,position:y,type:f,defaultClassName:H}):Br(H,v),ne=NY(e),X=!!T||!c,re={closeToast:x,type:f,theme:O},fe=null;return s===!1||(qd(s)?fe=s(re):j.isValidElement(s)?fe=j.cloneElement(s,re):fe=tY(re)),ya.createElement(p,{isIn:U,done:R,position:y,preventExitTransition:r,nodeRef:a,playToast:i},ya.createElement("div",{id:D,tabIndex:0,onClick:d,"data-in":U,className:Y,...n,style:b,ref:a,...U&&{role:_,"aria-label":M}},ne!=null&&ya.createElement("div",{className:Br("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},ne),zM(o,e,!t),fe,!e.customProgressBar&&ya.createElement(rY,{...N&&!X?{key:`p-${N}`}:{},rtl:L,theme:O,delay:c,isRunning:t,isIn:U,closeToast:x,hide:m,type:f,className:k,controlledProgress:X,progress:T||0})))},AY=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),TY=eY(AY("bounce",!0)),EY={position:"top-right",transition:TY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function CY(e){let t={...EY,...e},r=e.stacked,[a,n]=j.useState(!0),i=j.useRef(null),{getToastToRender:s,isToastActive:o,count:c}=gY(t),{className:d,style:f,rtl:m,containerId:x,hotKeys:p}=t;function y(b){let k=Br("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":m});return qd(d)?d({position:b,rtl:m,defaultClassName:k}):Br(k,x3(d))}function v(){r&&(n(!0),va.play())}return vY(()=>{var b;if(r){let k=i.current.querySelectorAll('[data-in="true"]'),N=12,_=(b=t.position)==null?void 0:b.includes("top"),T=0,L=0;Array.from(k).reverse().forEach((D,R)=>{let U=D;U.classList.add("Toastify__toast--stacked"),R>0&&(U.dataset.collapsed=`${a}`),U.dataset.pos||(U.dataset.pos=_?"top":"bot");let F=T*(a?.2:1)+(a?0:N*R);U.style.setProperty("--y",`${_?F:F*-1}px`),U.style.setProperty("--g",`${N}`),U.style.setProperty("--s",`${1-(a?L:0)}`),T+=U.offsetHeight,L+=.025})}},[a,c,r]),j.useEffect(()=>{function b(k){var N;let _=i.current;p(k)&&((N=_.querySelector('[tabIndex="0"]'))==null||N.focus(),n(!1),va.pause()),k.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(n(!0),va.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),ya.createElement("section",{ref:i,className:"Toastify",id:x,onMouseEnter:()=>{r&&(n(!1),va.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((b,k)=>{let N=k.length?{...f}:{...f,pointerEvents:"none"};return ya.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":r,style:N,key:`c-${b}`},k.map(({content:_,props:T})=>ya.createElement(jY,{...T,stacked:r,collapseAll:v,isIn:o(T.toastId,T.containerId),key:`t-${T.key}`},_)))}))}const Nx={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},yt={success:(e,t)=>{va.success(e,{...Nx,...t})},error:(e,t)=>{va.error(e,{...Nx,...t})},warning:(e,t)=>{va.warning(e,{...Nx,...t})},info:(e,t)=>{va.info(e,{...Nx,...t})},promise:(e,t,r)=>va.promise(e,{pending:t.pending,success:t.success,error:t.error},{...Nx,...r})};class OY extends ya.Component{constructor(){super(...arguments);da(this,"state",{hasError:!1});da(this,"handleReload",()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Unhandled UI error:",r,a),yt.error(" xy ra li khng mong mun. Vui lng th li.")}render(){return this.state.hasError?this.props.fallback||u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-xl text-center max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"C li xy ra"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Vui lng ti li trang hoc quay li sau."}),u.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Ti li trang"})]})}):this.props.children}}const PY=()=>{const e=KG(),t=GG(),r=e+t>0,[a,n]=j.useState(!1);return j.useEffect(()=>{if(r)n(!0);else{const i=setTimeout(()=>n(!1),300);return()=>clearTimeout(i)}},[r]),u.jsxs("div",{"aria-hidden":!a,className:"fixed top-0 left-0 right-0 z-[60] pointer-events-none",style:{opacity:a?1:0,transition:"opacity 0.2s ease"},children:[u.jsx("div",{className:"h-1 bg-gradient-to-r from-emerald-500 via-blue-500 to-fuchsia-500 animate-[progress_1.2s_linear_infinite]"}),u.jsx("style",{children:`
        @keyframes progress {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-[progress_1.2s_linear_infinite] {
          background-size: 200% 100%;
        }
      `})]})},DY="modulepreload",LY=function(e){return"/"+e},EC={},Nk=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let s=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=s(r.map(d=>{if(d=LY(d),d in EC)return;EC[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":DY,f||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),f)return new Promise((p,y)=>{x.addEventListener("load",p),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return n.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var MY=function(){return null},w3=function(e,t){return w3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},w3(e,t)};function KM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");w3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Db=function(){return Db=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Db.apply(this,arguments)};function wg(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function GM(e,t,r,a){var n=arguments.length,i=n<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i}function YM(e,t){return function(r,a){t(r,a,e)}}function XM(e,t,r,a,n,i){function s(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var o=a.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?a.static?e:e.prototype:null,f=t||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),m,x=!1,p=r.length-1;p>=0;p--){var y={};for(var v in a)y[v]=v==="access"?{}:a[v];for(var v in a.access)y.access[v]=a.access[v];y.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(k||null))};var b=(0,r[p])(o==="accessor"?{get:f.get,set:f.set}:f[c],y);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=s(b.get))&&(f.get=m),(m=s(b.set))&&(f.set=m),(m=s(b.init))&&n.unshift(m)}else(m=s(b))&&(o==="field"?n.unshift(m):f[c]=m)}d&&Object.defineProperty(d,a.name,f),x=!0}function QM(e,t,r){for(var a=arguments.length>2,n=0;n<t.length;n++)r=a?t[n].call(e,r):t[n].call(e);return a?r:void 0}function JM(e){return typeof e=="symbol"?e:"".concat(e)}function ZM(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function eR(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rr(e,t,r,a){function n(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(f){try{d(a.next(f))}catch(m){s(m)}}function c(f){try{d(a.throw(f))}catch(m){s(m)}}function d(f){f.done?i(f.value):n(f.value).then(o,c)}d((a=a.apply(e,t||[])).next())})}function tR(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(d){return function(f){return c([d,f])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,n=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Z2=Object.create?(function(e,t,r,a){a===void 0&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}):(function(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]});function rR(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Z2(t,e,r)}function Lb(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function NN(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,i=[],s;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}return i}function aR(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(NN(arguments[t]));return e}function nR(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),n=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,n++)a[n]=i[s];return a}function iR(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function sg(e){return this instanceof sg?(this.v=e,this):new sg(e)}function sR(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(p){return function(y){return Promise.resolve(y).then(p,m)}}function o(p,y){a[p]&&(n[p]=function(v){return new Promise(function(b,k){i.push([p,v,b,k])>1||c(p,v)})},y&&(n[p]=y(n[p])))}function c(p,y){try{d(a[p](y))}catch(v){x(i[0][3],v)}}function d(p){p.value instanceof sg?Promise.resolve(p.value.v).then(f,m):x(i[0][2],p)}function f(p){c("next",p)}function m(p){c("throw",p)}function x(p,y){p(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function oR(e){var t,r;return t={},a("next"),a("throw",function(n){throw n}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(n,i){t[n]=e[n]?function(s){return(r=!r)?{value:sg(e[n](s)),done:!1}:i?i(s):s}:i}}function lR(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Lb=="function"?Lb(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(s){return new Promise(function(o,c){s=e[i](s),n(o,c,s.done,s.value)})}}function n(i,s,o,c){Promise.resolve(c).then(function(d){i({value:d,done:o})},s)}}function cR(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var RY=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},k3=function(e){return k3=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},k3(e)};function uR(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=k3(e),a=0;a<r.length;a++)r[a]!=="default"&&Z2(t,e,r[a]);return RY(t,e),t}function dR(e){return e&&e.__esModule?e:{default:e}}function fR(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function hR(e,t,r,a,n){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}function mR(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function pR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}var IY=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function gR(e){function t(i){e.error=e.hasError?new IY(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,a=0;function n(){for(;r=e.stack.pop();)try{if(!r.async&&a===1)return a=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(i).then(n,function(s){return t(s),n()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function xR(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,n,i,s){return a?t?".jsx":".js":n&&(!i||!s)?r:n+i+"."+s.toLowerCase()+"js"}):e}const FY={__extends:KM,__assign:Db,__rest:wg,__decorate:GM,__param:YM,__esDecorate:XM,__runInitializers:QM,__propKey:JM,__setFunctionName:ZM,__metadata:eR,__awaiter:rr,__generator:tR,__createBinding:Z2,__exportStar:rR,__values:Lb,__read:NN,__spread:aR,__spreadArrays:nR,__spreadArray:iR,__await:sg,__asyncGenerator:sR,__asyncDelegator:oR,__asyncValues:lR,__makeTemplateObject:cR,__importStar:uR,__importDefault:dR,__classPrivateFieldGet:fR,__classPrivateFieldSet:hR,__classPrivateFieldIn:mR,__addDisposableResource:pR,__disposeResources:gR,__rewriteRelativeImportExtension:xR},BY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pR,get __assign(){return Db},__asyncDelegator:oR,__asyncGenerator:sR,__asyncValues:lR,__await:sg,__awaiter:rr,__classPrivateFieldGet:fR,__classPrivateFieldIn:mR,__classPrivateFieldSet:hR,__createBinding:Z2,__decorate:GM,__disposeResources:gR,__esDecorate:XM,__exportStar:rR,__extends:KM,__generator:tR,__importDefault:dR,__importStar:uR,__makeTemplateObject:cR,__metadata:eR,__param:YM,__propKey:JM,__read:NN,__rest:wg,__rewriteRelativeImportExtension:xR,__runInitializers:QM,__setFunctionName:ZM,__spread:aR,__spreadArray:iR,__spreadArrays:nR,__values:Lb,default:FY},Symbol.toStringTag,{value:"Module"})),UY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class jN extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class CC extends jN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class OC extends jN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class PC extends jN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _3;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_3||(_3={}));class zY{constructor(t,{headers:r={},customFetch:a,region:n=_3.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=UY(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return rr(this,arguments,void 0,function*(r,a={}){var n;try{const{headers:i,method:s,body:o,signal:c}=a;let d={},{region:f}=a;f||(f=this.region);const m=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let x;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",x=o):typeof o=="string"?(d["Content-Type"]="text/plain",x=o):typeof FormData<"u"&&o instanceof FormData?x=o:(d["Content-Type"]="application/json",x=JSON.stringify(o)):x=o;const p=yield this.fetch(m.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:x,signal:c}).catch(k=>{throw k.name==="AbortError"?k:new CC(k)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new OC(p);if(!p.ok)throw new PC(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"||v==="application/pdf"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new CC(i)}:{data:null,error:i,response:i instanceof PC||i instanceof OC?i.context:void 0}}})}}var Ns={};const kg=DV(BY);var jy={},Ay={},Ty={},Ey={},Cy={},Oy={},DC;function vR(){if(DC)return Oy;DC=1,Object.defineProperty(Oy,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Oy.default=e,Oy}var LC;function yR(){if(LC)return Cy;LC=1,Object.defineProperty(Cy,"__esModule",{value:!0});const t=kg.__importDefault(vR());class r{constructor(n){var i,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,f,m,x;let p=null,y=null,v=null,b=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const L=await c.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=L:y=JSON.parse(L))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&T&&T.length>1&&(v=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,b=406,k="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await c.text();try{p=JSON.parse(_),Array.isArray(p)&&c.status===404&&(y=[],p=null,b=200,k="OK")}catch{c.status===404&&_===""?(b=204,k="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((x=p==null?void 0:p.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,b=200,k="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:v,status:b,statusText:k}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,f,m;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=c==null?void 0:c.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,i)}returns(){return this}overrideTypes(){return this}}return Cy.default=r,Cy}var MC;function bR(){if(MC)return Ey;MC=1,Object.defineProperty(Ey,"__esModule",{value:!0});const t=kg.__importDefault(yR());class r extends t.default{select(n){let i=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${n}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var f;const m=[n?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${x}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return Ey.default=r,Ey}var RC;function AN(){if(RC)return Ty;RC=1,Object.defineProperty(Ty,"__esModule",{value:!0});const t=kg.__importDefault(bR()),r=new RegExp("[,()]");class a extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${f}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Ty.default=a,Ty}var IC;function wR(){if(IC)return Ay;IC=1,Object.defineProperty(Ay,"__esModule",{value:!0});const t=kg.__importDefault(AN());class r{constructor(n,{headers:i={},schema:s,fetch:o}){this.url=n,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(n,i){const{head:s=!1,count:o}=i??{},c=s?"HEAD":"GET";let d=!1;const f=(n??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((x,p)=>x.concat(Object.keys(p)),[]);if(m.length>0){const x=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var i;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ay.default=r,Ay}var FC;function qY(){if(FC)return jy;FC=1,Object.defineProperty(jy,"__esModule",{value:!0});const e=kg,t=e.__importDefault(wR()),r=e.__importDefault(AN());class a{constructor(i,{headers:s={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:c=!1,count:d}={}){var f;let m;const x=new URL(`${this.url}/rpc/${i}`);let p;o||c?(m=o?"HEAD":"GET",Object.entries(s).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{x.searchParams.append(v,b)})):(m="POST",p=s);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new r.default({method:m,url:x,headers:y,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return jy.default=a,jy}var BC;function $Y(){if(BC)return Ns;BC=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.PostgrestError=Ns.PostgrestBuilder=Ns.PostgrestTransformBuilder=Ns.PostgrestFilterBuilder=Ns.PostgrestQueryBuilder=Ns.PostgrestClient=void 0;const e=kg,t=e.__importDefault(qY());Ns.PostgrestClient=t.default;const r=e.__importDefault(wR());Ns.PostgrestQueryBuilder=r.default;const a=e.__importDefault(AN());Ns.PostgrestFilterBuilder=a.default;const n=e.__importDefault(bR());Ns.PostgrestTransformBuilder=n.default;const i=e.__importDefault(yR());Ns.PostgrestBuilder=i.default;const s=e.__importDefault(vR());return Ns.PostgrestError=s.default,Ns.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:s.default},Ns}var kR=$Y();const _R=Uc(kR),HY=dM({__proto__:null,default:_R},[kR]),{PostgrestClient:WY,PostgrestQueryBuilder:GAe,PostgrestFilterBuilder:YAe,PostgrestTransformBuilder:XAe,PostgrestBuilder:QAe,PostgrestError:JAe}=_R||HY;class VY{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KY="2.80.0",GY=`realtime-js/${KY}`,YY="1.0.0",S3=1e4,XY=1e3,QY=100;var Wx;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wx||(Wx={}));var Ri;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ri||(Ri={}));var Cc;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cc||(Cc={}));var N3;(function(e){e.websocket="websocket"})(N3||(N3={}));var uh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(uh||(uh={}));class JY{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const n=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=a.decode(t.slice(s,s+n));s=s+n;const c=a.decode(t.slice(s,s+i));s=s+i;const d=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class SR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ja;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ja||(Ja={}));const UC=(e,t,r={})=>{var a;const n=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=ZY(s,e,t,n),i),{}):{}},ZY=(e,t,r,a)=>{const n=t.find(o=>o.name===e),i=n==null?void 0:n.type,s=r[e];return i&&!a.includes(i)?NR(i,s):j3(s)},NR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return aX(t,r)}switch(e){case Ja.bool:return eX(t);case Ja.float4:case Ja.float8:case Ja.int2:case Ja.int4:case Ja.int8:case Ja.numeric:case Ja.oid:return tX(t);case Ja.json:case Ja.jsonb:return rX(t);case Ja.timestamp:return nX(t);case Ja.abstime:case Ja.date:case Ja.daterange:case Ja.int4range:case Ja.int8range:case Ja.money:case Ja.reltime:case Ja.text:case Ja.time:case Ja.timestamptz:case Ja.timetz:case Ja.tsrange:case Ja.tstzrange:return j3(t);default:return j3(t)}},j3=e=>e,eX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>NR(t,o))}return e},nX=e=>typeof e=="string"?e.replace(" ","T"):e,jR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jk{constructor(t,r,a={},n=S3){this.channel=t,this.event=r,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zC||(zC={}));class Vx{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vx.syncState(this.state,n,i,s),this.pendingDiffs.forEach(c=>{this.state=Vx.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Vx.syncDiff(this.state,n,i,s),o())}),this.onJoin((n,i,s)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:s})}),this.onLeave((n,i,s)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,n){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(d,f)=>{s[d]||(c[d]=f)}),this.map(s,(d,f)=>{const m=i[d];if(m){const x=f.map(b=>b.presence_ref),p=m.map(b=>b.presence_ref),y=f.filter(b=>p.indexOf(b.presence_ref)<0),v=m.filter(b=>x.indexOf(b.presence_ref)<0);y.length>0&&(o[d]=y),v.length>0&&(c[d]=v)}else o[d]=f}),this.syncDiff(i,{joins:o,leaves:c},a,n)}static syncDiff(t,r,a,n){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(o,c)=>{var d;const f=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),f.length>0){const m=t[o].map(p=>p.presence_ref),x=f.filter(p=>m.indexOf(p.presence_ref)<0);t[o].unshift(...x)}a(o,f,c)}),this.map(s,(o,c)=>{let d=t[o];if(!d)return;const f=c.map(m=>m.presence_ref);d=d.filter(m=>f.indexOf(m.presence_ref)<0),t[o]=d,n(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const n=t[a];return"metas"in n?r[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qC||(qC={}));var Kx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kx||(Kx={}));var xd;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xd||(xd={}));class TN{constructor(t,r={config:{}},a){var n,i;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new jk(this,Cc.join,this.params,this.timeout),this.rejoinTimer=new SR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ri.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cc.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Vx(this),this.broadcastEndpointURL=jR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ri.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&n!==void 0?n:[],f=!!this.bindings[Kx.PRESENCE]&&this.bindings[Kx.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},x={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(xd.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(xd.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(xd.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,k=[];for(let N=0;N<b;N++){const _=v[N],{filter:{event:T,schema:L,table:D,filter:R}}=_,U=p&&p[N];if(U&&U.event===T&&U.schema===L&&U.table===D&&U.filter===R)k.push(Object.assign(Object.assign({},_),{id:U.id}));else{this.unsubscribe(),this.state=Ri.errored,t==null||t(xd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(xd.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ri.errored,t==null||t(xd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Ri.joined&&t===Kx.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ri.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cc.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new jk(this,Cc.leave,{},t),a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ri.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),s}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new jk(this,t,r,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QY){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var n,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:f}=Cc;if(a&&[o,c,d,f].indexOf(s)>=0&&a!==this._joinRef())return;let x=this._onMessage(s,r,a);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,v,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(p=>p.callback(x,a)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var y,v,b,k,N,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const T=p.id,L=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((v=r.ids)===null||v===void 0?void 0:v.includes(T))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(N=(k=p==null?void 0:p.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return T==="*"||T===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof x=="object"&&"ids"in x){const y=x.data,{schema:v,table:b,commit_timestamp:k,type:N,errors:_}=y;x=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:k,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(y))}p.callback(x,a)})}_isClosed(){return this.state===Ri.closed}_isJoined(){return this.state===Ri.joined}_isJoining(){return this.state===Ri.joining}_isLeaving(){return this.state===Ri.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&TN.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cc.close,{},t)}_onError(t){this._on(Cc.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ri.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=UC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=UC(t.columns,t.old_record)),r}}const Ak=()=>{},Py={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iX=[1e3,2e3,5e3,1e4],sX=1e4,oX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lX{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=S3,this.transport=null,this.heartbeatIntervalMs=Py.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ak,this.ref=0,this.reconnectTimer=null,this.logger=Ak,this.conn=null,this.sendBuffer=[],this.serializer=new JY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${N3.websocket}`,this.httpEndpoint=jR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VY.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YY}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Wx.connecting:return uh.Connecting;case Wx.open:return uh.Open;case Wx.closing:return uh.Closing;default:return uh.Closed}}isConnected(){return this.connectionState()===uh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new TN(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:n,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${a} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(XY,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Py.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${n} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(n,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cc.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${a}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([oX],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const n={access_token:r,version:GY};r&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(Cc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new SR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Py.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,n,i,s,o,c,d,f;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:S3,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:Py.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ak,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(m=>iX[m-1]||sX),this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((m,x)=>x(JSON.stringify(m))),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class EN extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function On(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cX extends EN{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class A3 extends EN{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const CN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uX=()=>Response,T3=e=>{if(Array.isArray(e))return e.map(r=>T3(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=T3(a)}),t},dX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tk=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fX=(e,t,r)=>rr(void 0,void 0,void 0,function*(){const a=yield uX();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,s=(n==null?void 0:n.statusCode)||i+"";t(new cX(Tk(n),i,s))}).catch(n=>{t(new A3(Tk(n),n))}):t(new A3(Tk(e),e))}),hX=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(dX(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),r))};function Z1(e,t,r,a,n,i){return rr(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,hX(t,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>fX(c,o,a))})})}function d1(e,t,r,a){return rr(this,void 0,void 0,function*(){return Z1(e,"GET",t,r,a)})}function Ac(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return Z1(e,"POST",t,a,n,r)})}function E3(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return Z1(e,"PUT",t,a,n,r)})}function mX(e,t,r,a){return rr(this,void 0,void 0,function*(){return Z1(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function ON(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return Z1(e,"DELETE",t,a,n,r)})}class pX{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return rr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(On(t))return{data:null,error:t};throw t}})}}var AR;class gX{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[AR]="BlobDownloadBuilder",this.promise=null}asStream(){return new pX(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return rr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(On(t))return{data:null,error:t};throw t}})}}AR=Symbol.toStringTag;const xX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$C={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vX{constructor(t,r={},a,n){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=CN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,n){return rr(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},$C),n);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=a,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),m=yield(t=="PUT"?E3:Ac)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(On(i))return{data:null,error:i};throw i}})}upload(t,r,a){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,n){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:$C.upsert},n),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const m=yield E3(this.fetch,o.toString(),c,{headers:f});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(On(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return rr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield Ac(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new EN("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}update(t,r,a){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return rr(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}copy(t,r,a){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ac(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,a){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield Ac(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,a){return rr(this,void 0,void 0,function*(){try{const n=yield Ac(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}download(t,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>d1(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new gX(c,this.shouldThrowOnError)}info(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield d1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:T3(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}exists(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mX(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a)&&a instanceof A3){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${a}${d}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield ON(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}list(t,r,a){return rr(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},xX),r),{prefix:t||""});return{data:yield Ac(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listV2(t,r){return rr(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Ac(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const TR="2.80.0",ER={"X-Client-Info":`storage-js/${TR}`};class yX{constructor(t,r={},a,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ER),r),this.fetch=CN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return rr(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield d1(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield d1(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}createBucket(t){return rr(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Ac(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return rr(this,void 0,void 0,function*(){try{return{data:yield E3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}emptyBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield ON(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class bX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ER),r),this.fetch=CN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}listBuckets(t){return rr(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const a=r.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield d1(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield ON(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}}const PN={"X-Client-Info":`storage-js/${TR}`,"Content-Type":"application/json"};class CR extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function al(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ek extends CR{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wX extends CR{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var HC;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(HC||(HC={}));const DN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},WC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_X=(e,t,r)=>rr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";t(new Ek(WC(s),n,o))}).catch(()=>{const s=n+"",o=i.statusText||`HTTP ${n} error`;t(new Ek(o,n,s))});else{const s=n+"",o=i.statusText||`HTTP ${n} error`;t(new Ek(o,n,s))}}else t(new wX(WC(e),e))}),SX=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(kX(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),r)):n};function NX(e,t,r,a,n,i){return rr(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,SX(t,a,n,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>_X(c,o,a))})})}function nl(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return NX(e,"POST",t,a,n,r)})}class jX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PN),r),this.fetch=DN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield nl(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}getIndex(t,r){return rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(al(a))return{data:null,error:a};throw a}})}listIndexes(t){return rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return rr(this,void 0,void 0,function*(){try{return{data:(yield nl(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(al(a))return{data:null,error:a};throw a}})}}class AX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PN),r),this.fetch=DN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield nl(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}getVectors(t){return rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}listVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield nl(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}queryVectors(t){return rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}deleteVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield nl(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}}class TX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PN),r),this.fetch=DN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield nl(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}listBuckets(){return rr(this,arguments,void 0,function*(t={}){try{return{data:yield nl(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield nl(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(al(r))return{data:null,error:r};throw r}})}}class EX extends TX{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new CX(this.url,this.headers,t,this.fetch)}}class CX extends jX{constructor(t,r,a,n){super(t,r,n),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return rr(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return rr(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return rr(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return rr(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new OX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class OX extends AX{constructor(t,r,a,n,i){super(t,r,i),this.vectorBucketName=a,this.indexName=n}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return rr(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return rr(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return rr(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return rr(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return rr(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class PX extends yX{constructor(t,r={},a,n){super(t,r,a,n)}from(t){return new vX(this.url,this.headers,t,this.fetch)}get vectors(){return new EX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bX(this.url+"/iceberg",this.headers,this.fetch)}}const DX="2.80.0";let Bx="";typeof Deno<"u"?Bx="deno":typeof document<"u"?Bx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bx="react-native":Bx="node";const LX={"X-Client-Info":`supabase-js-${Bx}/${DX}`},MX={headers:LX},RX={schema:"public"},IX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FX={},BX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UX=()=>Headers,zX=(e,t,r)=>{const a=BX(r),n=UX();return async(i,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let d=new n(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},s),{headers:d}))}};function qX(e){return e.endsWith("/")?e:e+"/"}function $X(e,t){var r,a;const{db:n,auth:i,realtime:s,global:o}=e,{db:c,auth:d,realtime:f,global:m}=t,x={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(a=o==null?void 0:o.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function HX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const OR="2.80.0",jp=30*1e3,C3=3,Ck=C3*jp,WX="http://localhost:9999",VX="supabase.auth.token",KX={"X-Client-Info":`gotrue-js/${OR}`},O3="X-Supabase-Api-Version",PR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YX=600*1e3;class f1 extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function lr(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XX extends f1{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function QX(e){return lr(e)&&e.name==="AuthApiError"}class dh extends f1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kf extends f1{constructor(t,r,a,n){super(t,a,n),this.name=r,this.status=a}}class Nc extends kf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JX(e){return lr(e)&&e.name==="AuthSessionMissingError"}class dp extends kf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dy extends kf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ly extends kf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZX(e){return lr(e)&&e.name==="AuthImplicitGrantRedirectError"}class VC extends kf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class P3 extends kf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ok(e){return lr(e)&&e.name==="AuthRetryableFetchError"}class KC extends kf{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class D3 extends kf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),GC=` 	
\r=`.split(""),eQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<GC.length;t+=1)e[GC[t].charCodeAt(0)]=-2;for(let t=0;t<Mb.length;t+=1)e[Mb[t].charCodeAt(0)]=t;return e})();function YC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Mb[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Mb[a]),t.queuedBits-=6}}function DR(e,t,r){const a=eQ[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function XC(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=s=>{aQ(s,a,r)};for(let s=0;s<e.length;s+=1)DR(e.charCodeAt(s),n,i);return t.join("")}function tQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rQ(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}tQ(a,t)}}function aQ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Lp(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)DR(e.charCodeAt(n),r,a);return new Uint8Array(t)}function nQ(e){const t=[];return rQ(e,r=>t.push(r)),new Uint8Array(t)}function ph(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>YC(n,r,a)),YC(null,r,a),t.join("")}function iQ(e){return Math.round(Date.now()/1e3)+e}function sQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Os=()=>typeof window<"u"&&typeof document<"u",ah={tested:!1,writable:!1},LR=()=>{if(!Os())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ah.tested)return ah.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ah.tested=!0,ah.writable=!0}catch{ah.tested=!0,ah.writable=!1}return ah.writable};function oQ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((a,n)=>{t[n]=a}),t}const MR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ap=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},nh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},q0=async(e,t)=>{await e.removeItem(t)};class ew{constructor(){this.promise=new ew.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ew.promiseConstructor=Promise;function Pk(e){const t=e.split(".");if(t.length!==3)throw new D3("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!GX.test(t[a]))throw new D3("JWT not in base64url format");return{header:JSON.parse(XC(t[0])),payload:JSON.parse(XC(t[1])),signature:Lp(t[2]),raw:{header:t[0],payload:t[1]}}}async function cQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uQ(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){a(s);return}}catch(s){if(!t(i,s)){n(s);return}}})()})}function dQ(e){return("0"+e.toString(16)).substr(-2)}function fQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,dQ).join("")}async function hQ(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function mQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hQ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fp(e,t,r=!1){const a=fQ();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await Ap(e,`${t}-code-verifier`,n);const i=await mQ(a);return[i,a===i?"plain":"s256"]}const pQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gQ(e){const t=e.headers.get(O3);if(!t||!t.match(pQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hp(e){if(!yQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dk(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bQ(e,t){return new Proxy(e,{get:(r,a,n)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,n)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,n)}})}function QC(e){return JSON.parse(JSON.stringify(e))}const ih=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wQ=[502,503,504];async function JC(e){var t;if(!lQ(e))throw new P3(ih(e),0);if(wQ.includes(e.status))throw new P3(ih(e),e.status);let r;try{r=await e.json()}catch(i){throw new dh(ih(i),i)}let a;const n=gQ(e);if(n&&n.getTime()>=PR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new KC(ih(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Nc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new KC(ih(r),e.status,r.weak_password.reasons);throw new XX(ih(r),e.status||500,a)}const kQ=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))};async function wr(e,t,r,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[O3]||(i[O3]=PR["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const s=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await _Q(e,t,r+o,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function _Q(e,t,r,a,n,i){const s=kQ(t,a,n,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new P3(ih(c),0)}if(o.ok||await JC(o),a!=null&&a.noResolveJson)return o;try{return await o.json()}catch(c){await JC(c)}}function jc(e){var t;let r=null;jQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iQ(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function ZC(e){const t=jc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Y0(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SQ(e){return{data:e,error:null}}function NQ(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i}=e,s=wg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function e8(e){return e}function jQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lk=["global","local","others"];class AQ{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=MR(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Lk[0]){if(Lk.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lk.join(", ")}`);try{return await wr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(lr(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await wr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Y0})}catch(a){if(lr(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=wg(t,["options"]),n=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await wr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:NQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(lr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Y0})}catch(r){if(lr(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,n,i,s,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await wr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:e8});if(f.error)throw f.error;const m=await f.json(),x=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(lr(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){hp(t);try{return await wr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Y0})}catch(r){if(lr(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hp(t);try{return await wr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Y0})}catch(a){if(lr(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){hp(t);try{return await wr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Y0})}catch(a){if(lr(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){hp(t.userId);try{const{data:r,error:a}=await wr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:a}}catch(r){if(lr(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hp(t.userId),hp(t.id);try{return{data:await wr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(lr(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,n,i,s,o,c;try{const d={nextPage:null,lastPage:0,total:0},f=await wr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:e8});if(f.error)throw f.error;const m=await f.json(),x=(s=f.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(lr(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lr(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await wr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lr(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await wr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(lr(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await wr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(lr(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(lr(r))return{data:null,error:r};throw r}}}function t8(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const mp={debug:!!(globalThis&&LR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TQ extends RR{}async function EQ(e,t,r){mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),mp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw mp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mp.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function CQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function IR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function OQ(e){return parseInt(e,16)}function PQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function DQ(e){var t;const{chainId:r,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:c,resources:d,scheme:f,uri:m,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=IR(e.address),y=f?`${f}://${a}`:a,v=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${p}

${v}`;let k=`URI: ${m}
Version: ${x}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(n&&(k+=`
Expiration Time: ${n.toISOString()}`),o&&(k+=`
Not Before: ${o.toISOString()}`),c&&(k+=`
Request ID: ${c}`),d){let N=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);N+=`
- ${_}`}k+=N}return`${b}
${k}`}class vi extends Error{constructor({message:t,code:r,cause:a,name:n}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Rb extends vi{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function LQ({error:e,options:t}){var r,a,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new vi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(FR(s)){if(i.rp.id!==s)return new vi({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new vi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MQ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(FR(a)){if(r.rpId!==a)return new vi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class RQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IQ=new RQ;function FQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,n=wg(e,["challenge","user","excludeCredentials"]),i=Lp(t).buffer,s=Object.assign(Object.assign({},r),{id:Lp(r.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:i,user:s});if(a&&a.length>0){o.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Lp(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function BQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=wg(e,["challenge","allowCredentials"]),n=Lp(t).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Lp(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function UQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ph(new Uint8Array(e.response.attestationObject)),clientDataJSON:ph(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ph(new Uint8Array(n.authenticatorData)),clientDataJSON:ph(new Uint8Array(n.clientDataJSON)),signature:ph(new Uint8Array(n.signature)),userHandle:n.userHandle?ph(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FR(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function r8(){var e,t;return!!(Os()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rb("Browser returned unexpected credential type",t)}:{data:null,error:new Rb("Empty credential response",t)}}catch(t){return{data:null,error:LQ({error:t,options:e})}}}async function $Q(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Rb("Browser returned unexpected credential type",t)}:{data:null,error:new Rb("Empty credential response",t)}}catch(t){return{data:null,error:MQ({error:t,options:e})}}}const HQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},WQ={userVerification:"preferred",hints:["security-key"]};function Ib(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of e)if(n)for(const i in n){const s=n[i];if(s!==void 0)if(Array.isArray(s))a[i]=s;else if(r(s))a[i]=s;else if(t(s)){const o=a[i];t(o)?a[i]=Ib(o,s):a[i]=Ib(s)}else a[i]=s}return a}function VQ(e,t){return Ib(HQ,e,t||{})}function KQ(e,t){return Ib(WQ,e,t||{})}class GQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:n},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=n??IQ.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=VQ(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:m}=await qQ({publicKey:d,signal:c});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=KQ(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:m}=await $Q(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(s){return lr(s)?{data:null,error:s}:{data:null,error:new dh("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!r)return{data:null,error:new f1("rpId is required for WebAuthn authentication")};try{if(!r8())return{data:null,error:new dh("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:n},{request:i});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:a,credential_response:c.credential_response}})}catch(s){return lr(s)?{data:null,error:s}:{data:null,error:new dh("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!r)return{data:null,error:new f1("rpId is required for WebAuthn registration")};try{if(!r8())return{data:null,error:new dh("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:n},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(s){return lr(s)?{data:null,error:s}:{data:null,error:new dh("Unexpected error in register",s)}}}}CQ();const YQ={url:WX,storageKey:VX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function a8(e,t,r){return await r()}const pp={};class h1{get jwks(){var t,r;return(r=(t=pp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pp[this.storageKey]=Object.assign(Object.assign({},pp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pp[this.storageKey]=Object.assign(Object.assign({},pp[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},YQ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=h1.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,h1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Os()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=MR(i.fetch),this.lock=i.lock||a8,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Os()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=EQ:this.lock=a8,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new GQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:LR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t8(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=t8(this.memoryStorage)),Os()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${OR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(Os()&&(r=oQ(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Os()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ZX(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return lr(r)?this._returnResult({error:r}):this._returnResult({error:new dh("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,n;try{const i=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:jc}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(lr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,a,n;try{let i;if("email"in t){const{email:f,password:m,options:x}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await fp(this.storage,this.storageKey)),i=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:f,password:m,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:p,code_challenge_method:y},xform:jc})}else if("phone"in t){const{phone:f,password:m,options:x}=t;i=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(n=x==null?void 0:x.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:jc})}else throw new Dy("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(lr(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await wr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ZC})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await wr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ZC})}else throw new Dy("You must provide either an email or phone number and a password");const{data:a,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!a||!a.session||!a.user){const i=new dp;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(r){if(lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,n,i,s,o,c,d,f,m,x;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:v,wallet:b,statement:k,options:N}=t;let _;if(Os())if(typeof b=="object")_=b;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")_=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),L=await _.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=IR(L[0]);let R=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!R){const F=await _.request({method:"eth_chainId"});R=OQ(F)}const U={domain:T.host,address:D,statement:k,uri:T.href,version:"1",chainId:R,nonce:(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(s=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=N==null?void 0:N.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=DQ(U),y=await _.request({method:"personal_sign",params:[PQ(p),D]})}try{const{data:v,error:b}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:jc});if(b)throw b;if(!v||!v.session||!v.user){const k=new dp;return this._returnResult({data:{user:null,session:null},error:k})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(lr(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,a,n,i,s,o,c,d,f,m,x,p;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:b,wallet:k,statement:N,options:_}=t;let T;if(Os())if(typeof k=="object")T=k;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))T=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=k}const L=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const D=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),N?{statement:N}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)y=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),v=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${L.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(n=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=D}}try{const{data:b,error:k}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ph(v)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:jc});if(k)throw k;if(!b||!b.session||!b.user){const N=new dp;return this._returnResult({data:{user:null,session:null},error:N})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(lr(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await nh(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(r??"").split("/");try{const{data:i,error:s}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:jc});if(await q0(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new dp;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:s})}catch(i){if(lr(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:n,access_token:i,nonce:s}=t,o=await wr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jc}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const f=new dp;return this._returnResult({data:{user:null,session:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,n,i,s;try{if("email"in t){const{email:o,options:c}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await fp(this.storage,this.storageKey));const{error:m}=await wr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:f}=await wr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Dy("You must provide either an email or phone number.")}catch(o){if(lr(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,a;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:o}=await wr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:jc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,d=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(n){if(lr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,a,n;try{let i=null,s=null;this.flowType==="pkce"&&([i,s]=await fp(this.storage,this.storageKey));const o=await wr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:SQ});return this._returnResult(o)}catch(i){if(lr(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Nc;const{error:n}=await wr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(lr(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:s}=await wr(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:s,error:o}=await wr(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Dy("You must provide either an email or phone number and a type")}catch(r){if(lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await nh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ck:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await nh(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Dk()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=bQ(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Y0}):await this._useSession(async r=>{var a,n,i;const{data:s,error:o}=r;if(o)throw o;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nc}:await wr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Y0})})}catch(r){if(lr(r))return JX(r)&&(await this._removeSession(),await q0(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Nc;const s=n.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await fp(this.storage,this.storageKey));const{data:d,error:f}=await wr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Y0});if(f)throw f;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(a){if(lr(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nc;const r=Date.now()/1e3;let a=r,n=!0,i=null;const{payload:s}=Pk(t.access_token);if(s.exp&&(a=s.exp,n=a<=r),n){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(lr(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Nc;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(lr(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Os())throw new Ly("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ly(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new VC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ly("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new VC("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!s||!d)throw new Ly("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(o);let x=f+m;c&&(x=parseInt(c));const p=x-f;p*1e3<=jp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const y=x-m;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,x,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,x,f);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const k={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:m,expires_at:x,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(a){if(lr(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await nh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const s=(a=n.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(QX(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await q0(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=sQ(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,n;try{const{data:{session:i},error:s}=r;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await fp(this.storage,this.storageKey,!0));try{return await wr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(lr(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:n}=await this._useSession(async i=>{var s,o,c,d,f;const{data:m,error:x}=i;if(x)throw x;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wr(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(n)throw n;return Os()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(lr(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:s,provider:o,token:c,access_token:d,nonce:f}=t,m=await wr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:o,id_token:c,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:jc}),{data:x,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new dp}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:p}))}catch(n){if(lr(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:s}=r;if(s)throw s;return await wr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await uQ(async n=>(n>0&&await cQ(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await wr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jc})),(n,i)=>{const s=200*Math.pow(2,n);return i&&Ok(i)&&Date.now()+s-a<jp})}catch(a){if(this._debug(r,"error",a),lr(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),Os()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await nh(this.storage,this.storageKey);if(n&&this.userStorage){let s=await nh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:n.user},await Ap(this.userStorage,this.storageKey+"-user",s)),n.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Dk()}else if(n&&!n.user&&!n.user){const s=await nh(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(n.user=s.user,await q0(this.storage,this.storageKey+"-user"),await Ap(this.storage,this.storageKey,n)):n.user=Dk()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ck;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Ck}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Ok(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(n.access_token);!o&&(s!=null&&s.user)?(n.user=s.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Nc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new ew;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Nc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),lr(i)){const s={data:null,error:i};return Ok(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ap(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=QC(n);await Ap(this.storage,this.storageKey,i)}else{const n=QC(r);await Ap(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await q0(this.storage,this.storageKey),await q0(this.storage,this.storageKey+"-code-verifier"),await q0(this.storage,this.storageKey+"-user"),this.userStorage&&await q0(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Os()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jp);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/jp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${jp}ms, refresh threshold is ${C3} ticks`),n<=C3&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Os()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const n=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,s]=await fp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});n.push(o.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await wr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await wr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UQ(t.webauthn.credential_response):zQ(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await wr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await wr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:FQ(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:BQ(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Pk(a.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;return n?this._returnResult({data:null,error:n}):a?await wr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Nc})})}catch(r){if(lr(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Nc});const s=await wr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Os()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(lr(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Nc});const s=await wr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Os()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(lr(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(o=>o.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(o=>o.kid===t),a&&this.jwks_cached_at+YX>n)return a;const{data:i,error:s}=await wr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(o=>o.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});a=p.session.access_token}const{header:n,payload:i,signature:s,raw:{header:o,payload:c}}=Pk(a);r!=null&&r.allowExpired||xQ(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:n,signature:s},error:null}}const f=vQ(n.alg),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,s,nQ(`${o}.${c}`)))throw new D3("Invalid JWT signature");return{data:{claims:i,header:n,signature:s},error:null}}catch(a){if(lr(a))return this._returnResult({data:null,error:a});throw a}}}h1.nextInstanceID={};const XQ=h1;class QQ extends XQ{constructor(t){super(t)}}class JQ{constructor(t,r,a){var n,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=HX(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:RX,realtime:FX,auth:Object.assign(Object.assign({},IX),{storageKey:c}),global:MX},f=$X(a??{},d);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=zX(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new WY(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new PX(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new zY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:s,flowType:o,lock:c,debug:d,throwOnError:f},m,x){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new QQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:f,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lX(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ZQ=(e,t,r)=>new JQ(e,t,r);function eJ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eJ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BR="https://uvaxkefgehiokxkvaqge.supabase.co",tJ="replace_with_real_anon_key_for_production",UR=BR.includes("placeholder");if(UR)throw new Error("PRODUCTION BUILD ERROR: Missing Supabase env. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const xr=ZQ(BR,tJ,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Ln=(e,t)=>({ok:!0,data:e,meta:t}),Lt=e=>{var t,r;try{typeof window<"u"&&((r=(t=import.meta)==null?void 0:t.env)!=null&&r.DEV)&&(window.__repoErrors=window.__repoErrors||[],window.__repoErrors.push(e),window.dispatchEvent(new CustomEvent("repo-error",{detail:e})))}catch{}return{ok:!1,error:e}};typeof window<"u"&&(window.__repoErrors=window.__repoErrors||[]);const rJ="audit_logs";let Gx=[],Mp=null,aJ=10,nJ=2e3,n8=!1;function iJ({userId:e,input:t}){return{user_id:e,action:t.action,table_name:t.tableName??null,record_id:t.recordId??null,old_data:t.oldData?JSON.stringify(t.oldData):null,new_data:t.newData?JSON.stringify(t.newData):null,ip_address:t.ipAddress??null,user_agent:t.userAgent||(typeof navigator<"u"?navigator.userAgent:null)}}async function LN(){var t,r;if(Gx.length===0)return;const e=Gx;Gx=[];try{const a=e.map(iJ);await xr.from(rJ).insert(a)}catch(a){(r=(t=import.meta)==null?void 0:t.env)!=null&&r.DEV&&console.warn("auditQueue flush failed",a)}}function sJ(){Mp||(Mp=setTimeout(async()=>{Mp=null,await LN()},nJ))}function oJ(){if(n8||typeof window>"u")return;n8=!0;const e=()=>{LN()};window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()}),window.addEventListener("beforeunload",e)}function lJ(e,t){if(oJ(),Gx.push({userId:e,input:t}),Gx.length>=aJ){LN(),Mp&&(clearTimeout(Mp),Mp=null);return}sJ()}const cJ="audit_logs";async function bi(e,t){var r,a;try{lJ(e,t)}catch(n){(a=(r=import.meta)==null?void 0:r.env)!=null&&a.DEV&&console.warn("Audit log exception",n)}}async function uJ(e){try{const t=(e==null?void 0:e.pageSize)||(e==null?void 0:e.limit)||50,r=e!=null&&e.page&&e.page>0?e.page:1,a=(r-1)*t,n=a+t-1,i=e!=null&&e.includeUser?"audit_logs_with_user":cJ;let s=xr.from(i).select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(a,n);e!=null&&e.action&&(s=s.eq("action",e.action)),e!=null&&e.startDate&&(s=s.gte("created_at",e.startDate)),e!=null&&e.endDate&&(s=s.lte("created_at",e.endDate));const{data:o,error:c,count:d}=await s;return c?Lt({code:"supabase",message:"Khng th ti audit logs",cause:c}):Ln(o||[],{total:d,page:r,pageSize:t})}catch(t){return Lt({code:"network",message:"Li mng khi ti audit logs",cause:t})}}const L3="cash_transactions";async function dJ(e){try{let t=xr.from(L3).select("*").order("date",{ascending:!1});e!=null&&e.branchId&&(t=t.eq("branchId",e.branchId)),e!=null&&e.startDate&&(t=t.gte("date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("date",e.endDate)),e!=null&&e.limit&&(t=t.limit(e.limit)),e!=null&&e.type&&(t=t.eq("type",e.type));const{data:r,error:a}=await t;return a?Lt({code:"supabase",message:"Khng th ti s qu",cause:a}):Ln(r||[])}catch(t){return Lt({code:"network",message:"Li kt ni khi ti s qu",cause:t})}}async function M3(e){var t;try{if(!e.amount||e.amount<=0)return Lt({code:"validation",message:"S tin phi > 0"});if(!e.branchId)return Lt({code:"validation",message:"Thiu chi nhnh"});if(!e.paymentSourceId)return Lt({code:"validation",message:"Thiu ngun tin"});if(!e.type)return Lt({code:"validation",message:"Thiu loi thu/chi"});const r={amount:e.amount,branchId:e.branchId,paymentSource:e.paymentSourceId,paymentSourceId:e.paymentSourceId,category:e.category||(e.type==="income"?"general_income":"general_expense"),date:e.date||new Date().toISOString(),notes:e.notes,description:e.notes,type:e.type,saleId:e.saleId,workOrderId:e.workOrderId,payrollRecordId:e.payrollRecordId,loanPaymentId:e.loanPaymentId,supplierId:e.supplierId,customerId:e.customerId,recipient:e.recipient},{data:a,error:n}=await xr.from(L3).insert([r]).select().single();if(n||!a)return Lt({code:"supabase",message:"Ghi s qu tht bi",cause:n});const i=a;try{if(!r.saleId&&!r.workOrderId&&!r.payrollRecordId&&!r.loanPaymentId){const{data:o}=await xr.auth.getUser(),c=((t=o==null?void 0:o.user)==null?void 0:t.id)||null;bi(c,{action:"cash.manual",tableName:L3,recordId:i.id,oldData:null,newData:i})}}catch{}return Ln(i)}catch(r){return Lt({code:"network",message:"Li kt ni khi ghi s qu",cause:r})}}const Mk="payment_sources";async function R3(e,t,r){var a;try{const{data:n,error:i}=await xr.from(Mk).select("*").eq("id",e).single();if(i||!n)return Lt({code:"supabase",message:"Khng tm thy ngun tin",cause:i});const s=n.balance||{},o={...s,[t]:(s[t]||0)+r},{data:c,error:d}=await xr.from(Mk).update({balance:o}).eq("id",e).select().single();if(d||!c)return Lt({code:"supabase",message:"Cp nht s d tht bi",cause:d});let f=null;try{const{data:m}=await xr.auth.getUser();f=((a=m==null?void 0:m.user)==null?void 0:a.id)||null}catch{}return await bi(f,{action:"payment_source.balance_adjust",tableName:Mk,recordId:e,oldData:{balance:s},newData:{balance:o,delta:r,branchId:t}}),Ln(c)}catch(n){return Lt({code:"network",message:"Li kt ni khi cp nht s d",cause:n})}}function Po(e){switch(e.code){case"network":return"Mt kt ni my ch. Vui lng kim tra mng.";case"validation":return e.message;case"not_found":return"Khng tm thy bn ghi.";case"supabase":return"C li d liu. Th li hoc lin h qun tr.";default:return"Li khng xc nh."}}const zR=j.createContext(void 0),fJ=({children:e})=>{const[t]=j.useState("CN1"),a=(()=>{try{const ge=localStorage.getItem("motocare-data");if(ge)return JSON.parse(ge)}catch(ge){console.error("Error loading from localStorage:",ge)}return{}})(),[n,i]=j.useState(()=>(a==null?void 0:a.parts)||[]),[s,o]=j.useState(()=>(a==null?void 0:a.customers)||[]),[c,d]=j.useState(()=>(a==null?void 0:a.suppliers)||[]),[f,m]=j.useState(()=>(a==null?void 0:a.sales)||[]),[x,p]=j.useState(()=>(a==null?void 0:a.workOrders)||[]),[y,v]=j.useState(()=>(a==null?void 0:a.cartItems)||[]),[b,k]=j.useState(()=>(a==null?void 0:a.paymentSources)||[{id:"cash",name:"Tin mt",balance:{CN1:0},isDefault:!0},{id:"bank",name:"Ti khon ngn hng",balance:{CN1:0}}]),[N,_]=j.useState(()=>(a==null?void 0:a.cashTransactions)||[]),[T,L]=j.useState(()=>(a==null?void 0:a.inventoryTransactions)||[]),[D,R]=j.useState(()=>(a==null?void 0:a.employees)||[]),[U,F]=j.useState(()=>(a==null?void 0:a.payrollRecords)||[]),[W,O]=j.useState(()=>(a==null?void 0:a.loans)||[]),[M,H]=j.useState(()=>(a==null?void 0:a.loanPayments)||[]),[Y,ne]=j.useState(()=>(a==null?void 0:a.customerDebts)||[]),[X,re]=j.useState(()=>(a==null?void 0:a.supplierDebts)||[]);j.useEffect(()=>{const ge={parts:n,customers:s,suppliers:c,sales:f,workOrders:x,cartItems:y,paymentSources:b,cashTransactions:N,inventoryTransactions:T,employees:D,payrollRecords:U,loans:W,loanPayments:M,customerDebts:Y,supplierDebts:X};localStorage.setItem("motocare-data",JSON.stringify(ge))},[n,s,c,f,x,y,b,N,T,D,U,W,M,Y,X]);const fe=j.useCallback(ge=>{i(be=>{if(ge.id)return be.map(ve=>ve.id===ge.id?{...ve,...ge}:ve);const oe=`PART-${Date.now()}-${Math.random().toString(16).slice(2)}`;return[{id:oe,name:ge.name||"Tn ph tng",sku:ge.sku||oe,stock:ge.stock||{[t]:0},retailPrice:ge.retailPrice||{[t]:0},wholesalePrice:ge.wholesalePrice||{[t]:0},category:ge.category,description:ge.description,warrantyPeriod:ge.warrantyPeriod,created_at:new Date().toISOString()},...be]})},[t]),ce=j.useCallback(ge=>{i(be=>be.filter(oe=>oe.id!==ge))},[]),ke=j.useCallback(ge=>{o(be=>ge.id?be.findIndex($e=>$e.id===ge.id)>=0?be.map($e=>$e.id===ge.id?{...$e,...ge}:$e):[{id:ge.id,name:ge.name||"Khch hng",phone:ge.phone,created_at:new Date().toISOString(),...ge},...be]:[{id:`CUS-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:ge.name||"Khch hng",phone:ge.phone,created_at:new Date().toISOString(),...ge},...be])},[]),Z=j.useCallback(ge=>{d(be=>ge.id?be.map(ve=>ve.id===ge.id?{...ve,...ge}:ve):[{id:`SUP-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:ge.name||"Nh cung cp",phone:ge.phone,email:ge.email,address:ge.address,created_at:new Date().toISOString()},...be])},[]),P=j.useCallback(ge=>{p(be=>be.find(Ue=>Ue.id===ge.id)?be.map(Ue=>Ue.id===ge.id?ge:Ue):[ge,...be])},[]),q=j.useCallback(()=>v([]),[]),V=j.useCallback(ge=>{if(!ge.items.length)return;const be=ge.items.reduce((Je,kt)=>Je+kt.sellingPrice*kt.quantity,0),oe=ge.items.reduce((Je,kt)=>Je+(kt.discount||0),0),Ue=be-oe-ge.discount,ve=`SALE-${Date.now()}`,Ge={id:ve,date:new Date().toISOString(),items:ge.items,subtotal:be,discount:ge.discount+oe,total:Ue,customer:ge.customer,paymentMethod:ge.paymentMethod,userId:"local-user",userName:"Local User",branchId:t,cashTransactionId:void 0};m(Je=>[Ge,...Je]),i(Je=>Je.map(kt=>{const At=ge.items.filter(Rt=>Rt.partId===kt.id).reduce((Rt,ar)=>Rt+ar.quantity,0);return At?{...kt,stock:{...kt.stock,[t]:(kt.stock[t]||0)-At}}:kt}));const ft={id:`CT-${Date.now()}`,type:"income",date:new Date().toISOString(),amount:Ue,notes:ge.note||"Thu tin bn hng",paymentSourceId:ge.paymentMethod,branchId:t,category:"sale_income",saleId:ve};_(Je=>[ft,...Je]),k(Je=>Je.map(kt=>kt.id===ge.paymentMethod?{...kt,balance:{...kt.balance,[t]:(kt.balance[t]||0)+Ue}}:kt)),q()},[q,t]),z=j.useCallback(ge=>{const be=f.find(oe=>oe.id===ge);be&&(m(oe=>oe.filter(Ue=>Ue.id!==ge)),i(oe=>oe.map(Ue=>{const ve=be.items.filter(Ge=>Ge.partId===Ue.id).reduce((Ge,$e)=>Ge+$e.quantity,0);return ve?{...Ue,stock:{...Ue.stock,[t]:(Ue.stock[t]||0)+ve}}:Ue})),_(oe=>oe.filter(Ue=>Ue.saleId!==ge)),k(oe=>oe.map(Ue=>Ue.id===be.paymentMethod?{...Ue,balance:{...Ue.balance,[t]:(Ue.balance[t]||0)-be.total}}:Ue)))},[f,t]),Q=j.useCallback(ge=>{const oe={id:`INV-${Date.now()}-${Math.random().toString(16).slice(2)}`,...ge};L(Ue=>[oe,...Ue])},[]),de=j.useCallback(ge=>{R(be=>ge.id?be.map(ve=>ve.id===ge.id?{...ve,...ge}:ve):[{id:`EMP-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:ge.name||"Nhn vin",phone:ge.phone,position:ge.position||"",baseSalary:ge.baseSalary||0,startDate:ge.startDate||new Date().toISOString(),status:ge.status||"active",created_at:new Date().toISOString()},...be])},[]),Ee=j.useCallback(ge=>{F(be=>be.find(Ue=>Ue.id===ge.id)?be.map(Ue=>Ue.id===ge.id?ge:Ue):[ge,...be])},[]),ie=j.useCallback(ge=>{O(be=>ge.id?be.map(ve=>ve.id===ge.id?{...ve,...ge}:ve):[{id:`LOAN-${Date.now()}-${Math.random().toString(16).slice(2)}`,lenderName:ge.lenderName||"",loanType:ge.loanType||"bank",principal:ge.principal||0,interestRate:ge.interestRate||0,term:ge.term||0,startDate:ge.startDate||new Date().toISOString(),endDate:ge.endDate||new Date().toISOString(),monthlyPayment:ge.monthlyPayment||0,remainingAmount:ge.remainingAmount||ge.principal||0,status:ge.status||"active",purpose:ge.purpose,collateral:ge.collateral,branchId:t,created_at:new Date().toISOString()},...be])},[t]),je=j.useCallback(ge=>{H(be=>be.find(Ue=>Ue.id===ge.id)?be.map(Ue=>Ue.id===ge.id?ge:Ue):[ge,...be])},[]),Me=j.useCallback((ge,be,oe)=>{let Ue=0;ne(ve=>ve.map(Ge=>{if(ge.includes(Ge.customerId)&&Ge.branchId===t){const $e=Ge.remainingAmount;return Ue+=$e,{...Ge,paidAmount:Ge.totalAmount,remainingAmount:0,status:"paid"}}return Ge}).filter(Ge=>Ge.remainingAmount>0)),Ue>0&&(async()=>{var Je;const{data:ve}=await xr.auth.getUser(),Ge=((Je=ve==null?void 0:ve.user)==null?void 0:Je.id)||null,$e=await M3({type:"income",amount:Ue,branchId:t,paymentSourceId:be,date:oe,category:"debt_collection",notes:`Thu ht n cho ${ge.length} khch hng`,recipient:`Thu n ${ge.length} khch hng`});if(!$e.ok){yt.error(Po($e.error));return}const ft=await R3(be,t,Ue);ft.ok||yt.error(Po(ft.error)),bi(Ge,{action:"debt.customer_pay",tableName:"customer_debts",oldData:null,newData:{customerIds:ge,totalPaid:Ue,paymentMethod:be,timestamp:oe}})})()},[t]),J=j.useCallback((ge,be,oe)=>{let Ue=0;re(ve=>ve.map(Ge=>{if(ge.includes(Ge.supplierId)&&Ge.branchId===t){const $e=Ge.remainingAmount;return Ue+=$e,{...Ge,paidAmount:Ge.totalAmount,remainingAmount:0,status:"paid"}}return Ge}).filter(Ge=>Ge.remainingAmount>0)),Ue>0&&(async()=>{var Je;const{data:ve}=await xr.auth.getUser(),Ge=((Je=ve==null?void 0:ve.user)==null?void 0:Je.id)||null,$e=await M3({type:"expense",amount:Ue,branchId:t,paymentSourceId:be,date:oe,category:"debt_payment",notes:`Tr ht n cho ${ge.length} nh cung cp`,recipient:`Tr n ${ge.length} nh cung cp`});if(!$e.ok){yt.error(Po($e.error));return}const ft=await R3(be,t,-Ue);ft.ok||yt.error(Po(ft.error)),bi(Ge,{action:"debt.supplier_pay",tableName:"supplier_debts",oldData:null,newData:{supplierIds:ge,totalPaid:Ue,paymentMethod:be,timestamp:oe}})})()},[t]);return u.jsx(zR.Provider,{value:{parts:n,customers:s,suppliers:c,sales:f,workOrders:x,cartItems:y,paymentSources:b,cashTransactions:N,inventoryTransactions:T,employees:D,payrollRecords:U,loans:W,loanPayments:M,customerDebts:Y,supplierDebts:X,currentBranchId:t,setParts:i,upsertPart:fe,deletePart:ce,setCustomers:o,upsertCustomer:ke,setSuppliers:d,upsertSupplier:Z,setWorkOrders:p,upsertWorkOrder:P,setCartItems:v,clearCart:q,deleteSale:z,finalizeSale:V,setPaymentSources:k,setCashTransactions:_,recordInventoryTransaction:Q,setEmployees:R,upsertEmployee:de,setPayrollRecords:F,upsertPayrollRecord:Ee,setLoans:O,upsertLoan:ie,setLoanPayments:H,upsertLoanPayment:je,setCustomerDebts:ne,setSupplierDebts:re,payCustomerDebts:Me,paySupplierDebts:J},children:e})},_i=()=>{const e=j.useContext(zR);if(!e)throw new Error("useAppContext phi dng bn trong AppProvider");return e},qR=j.createContext(void 0),hJ=({children:e})=>{const[t,r]=j.useState(()=>{const n=localStorage.getItem("theme");return n==="light"||n==="dark"?n:"light"});j.useEffect(()=>{localStorage.setItem("theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const a=()=>{r(n=>n==="light"?"dark":"light")};return u.jsx(qR.Provider,{value:{theme:t,toggleTheme:a},children:e})},mJ=()=>{const e=j.useContext(qR);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},$R=j.createContext(void 0),Qd=()=>{const e=j.useContext($R);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},pJ=({children:e})=>{const[t,r]=j.useState(null),[a,n]=j.useState(null),[i,s]=j.useState(null),[o,c]=j.useState(!0),[d,f]=j.useState(null);j.useEffect(()=>{xr.auth.getSession().then(({data:{session:k}})=>{s(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?m(k.user.id):c(!1)});const{data:{subscription:b}}=xr.auth.onAuthStateChange((k,N)=>{s(N),r((N==null?void 0:N.user)??null),N!=null&&N.user?m(N.user.id):(n(null),c(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{let{data:k,error:N}=await xr.from("profiles").select("*").eq("id",b).maybeSingle();if(N&&N.code!=="PGRST116")throw N;if(!k){const _=await xr.from("user_profiles").select("*").eq("id",b).maybeSingle();if(k=_.data,N=_.error,N&&N.code!=="PGRST116")throw N}if(N)throw N;n(k||null)}catch(k){console.error("Error loading user profile:",k),n(null),f("Khng th ti h s ngi dng")}finally{c(!1)}},v={user:t,profile:a,session:i,loading:o,error:d,signIn:async(b,k)=>{var L;const{error:N,data:_}=await xr.auth.signInWithPassword({email:b,password:k});if(N)throw N;f(null);const T=((L=_==null?void 0:_.user)==null?void 0:L.id)||null;bi(T,{action:"auth.login"})},signOut:async()=>{const b=(t==null?void 0:t.id)||null,{error:k}=await xr.auth.signOut();if(k)throw k;f(null),bi(b,{action:"auth.logout"})},hasRole:b=>a?b.includes(a.role):!1};return u.jsx($R.Provider,{value:v,children:e})};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HR=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:s,...o},c)=>j.createElement("svg",{ref:c,...xJ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:HR("lucide",n),...o},[...s.map(([d,f])=>j.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=(e,t)=>{const r=j.forwardRef(({className:a,...n},i)=>j.createElement(vJ,{ref:i,iconNode:t,className:HR(`lucide-${gJ(e)}`,a),...n}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=Kt("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=Kt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=Kt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=Kt("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Kt("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=Kt("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Kt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Kt("BriefcaseBusiness",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=Kt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Kt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=Kt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=Kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Kt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=Kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=Kt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=Kt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=Kt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Kt("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Kt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Kt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Kt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Kt("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=Kt("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=Kt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=Kt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=Kt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Kt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=Kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=Kt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=Kt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=Kt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=Kt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Kt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=Kt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Kt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=Kt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=Kt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=Kt("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=Kt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Kt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=Kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=Kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=Kt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=Kt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=Kt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=Kt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=Kt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=Kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=Kt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=Kt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=Kt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Kt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=Kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Kt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Kt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),XJ=()=>{const e=pN(),{signIn:t}=Qd(),[r,a]=j.useState(""),[n,i]=j.useState(""),[s,o]=j.useState(!1),[c,d]=j.useState(""),f=async m=>{m.preventDefault(),d(""),o(!0);try{await t(r,n),yt.success("ng nhp thnh cng!"),e("/dashboard")}catch(x){console.error("Login error:",x);const p=x.message||"ng nhp tht bi";d(p),yt.error(p)}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white dark:bg-slate-800 rounded-2xl mb-4 shadow-lg ring-1 ring-slate-200 dark:ring-slate-700 overflow-hidden",children:u.jsx("img",{src:"/logo-smartcare.png",alt:"Nhn-Lm SmartCare",className:"w-full h-full object-contain p-1.5",onError:m=>{const x=m.currentTarget;x.style.display="none";const p=x.parentElement;if(p){p.innerHTML="";const y=document.createElement("span");y.className="text-blue-600 dark:text-blue-400",p.appendChild(y)}}})}),u.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"MotoCare"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"H thng qun l ca hng xe my"})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"ng nhp"}),c&&u.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),u.jsxs("form",{onSubmit:f,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:r,onChange:m=>a(m.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mt khu"}),u.jsx("input",{type:"password",value:n,onChange:m=>i(m.target.value),placeholder:"",required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ghi nh ng nhp"})]}),u.jsx("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Qun mt khu?"})]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white font-semibold rounded-lg transition-colors shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:s?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ng nhp..."]}):"ng nhp"})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 flex items-center gap-1",children:[u.jsx(CJ,{className:"w-4 h-4"})," Ti khon demo:"]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[u.jsx(GR,{className:"w-4 h-4"})," Ch ca hng"]}),u.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"owner.motocare.test@gmail.com"})]}),u.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[u.jsx(eI,{className:"w-4 h-4"})," Qun l"]}),u.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"manager.motocare.test@gmail.com"})]}),u.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[u.jsx(BN,{className:"w-4 h-4"})," Nhn vin"]}),u.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"staff.motocare.test@gmail.com"})]}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center mt-2",children:["Mt khu: ",u.jsx("code",{className:"font-semibold",children:"123456"})]})]})]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" 2025 MotoCare. Phin bn 1.0.0"})})]})})},rI=({size:e="md",color:t="blue",text:r})=>{const a={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"},n={blue:"border-blue-200 dark:border-blue-900 border-t-blue-600 dark:border-t-blue-400",white:"border-white/30 border-t-white",slate:"border-slate-200 dark:border-slate-700 border-t-slate-600 dark:border-t-slate-400"};return u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[u.jsx("div",{className:`${a[e]} ${n[t]} rounded-full animate-spin`}),r&&u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 animate-pulse",children:r})]})},hu=({children:e,requiredRoles:t})=>{const{user:r,profile:a,loading:n,error:i}=Qd();return i&&yt.error(i),n||r&&!a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsx(rI,{})}):r?t&&a&&!t.includes(a.role)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[u.jsx(bJ,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),"Khng c quyn truy cp"]}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Bn khng c quyn truy cp trang ny."}),u.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:"Quay li"})]})}):u.jsx(u.Fragment,{children:e}):u.jsx(kM,{to:"/login",replace:!0})},QJ="inventory_summary_by_branch";async function JJ(e){try{let t=xr.from(QJ).select("*");e!=null&&e.branchId&&(t=t.eq("branch_id",e.branchId));const{data:r,error:a}=await t;return a?Lt({code:"supabase",message:"Khng th ti tng hp tn kho",cause:a}):Ln(r||[])}catch(t){return Lt({code:"network",message:"Li kt ni khi ti tng hp tn kho",cause:t})}}const ZJ=e=>qc({queryKey:["inventorySummary","all"],queryFn:async()=>{const t=await JJ({branchId:e});if(!t.ok)throw t.error;return t.data},staleTime:3e4}),qe=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),Qa=(e,t=!0)=>{const r=typeof e=="string"?new Date(e):e;if(Number.isNaN(r.getTime()))return"--";const a=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),i=r.getFullYear();if(t)return`${a}/${n}/${i}`;const s=String(r.getHours()).padStart(2,"0"),o=String(r.getMinutes()).padStart(2,"0");return`${a}/${n}/${i} ${s}:${o}`},_r=()=>Math.random().toString(36).substr(2,9),Oc=new Date,Wt=e=>{const t=new Date(Oc);return t.setDate(t.getDate()-e),t.toISOString()},tr=[{id:_r(),name:"Nguyn Vn An",phone:"0901234567",email:"annv@gmail.com",vehicleModel:"Honda SH 2023",licensePlate:"30A-12345",status:"active",segment:"VIP",loyaltyPoints:5800,totalSpent:29e6,visitCount:32,lastVisit:Wt(3),created_at:Wt(180)},{id:_r(),name:"Trn Th Bnh",phone:"0912345678",email:"binhtt@gmail.com",vehicleModel:"Yamaha Exciter 150",licensePlate:"30B-67890",status:"active",segment:"Loyal",loyaltyPoints:2500,totalSpent:125e5,visitCount:15,lastVisit:Wt(7),created_at:Wt(150)},{id:_r(),name:"L Minh Cng",phone:"0923456789",email:"cuonglm@gmail.com",vehicleModel:"Honda Vision 2022",licensePlate:"30C-11111",status:"active",segment:"Potential",loyaltyPoints:680,totalSpent:34e5,visitCount:5,lastVisit:Wt(15),created_at:Wt(90)},{id:_r(),name:"Phm Thu H",phone:"0934567890",email:"hapt@gmail.com",vehicleModel:"Suzuki Raider 150",licensePlate:"30D-22222",status:"active",segment:"New",loyaltyPoints:150,totalSpent:75e4,visitCount:2,lastVisit:Wt(5),created_at:Wt(30)},{id:_r(),name:"V Thanh Tng",phone:"0945678901",email:"tungvt@gmail.com",vehicleModel:"Honda Air Blade",licensePlate:"30E-33333",status:"active",segment:"VIP",loyaltyPoints:4200,totalSpent:21e6,visitCount:28,lastVisit:Wt(2),created_at:Wt(200)}],or=[{id:_r(),name:"Nht Motul 7100 10W40",sku:"MOTUL-7100",retailPrice:{CN1:18e4},wholesalePrice:{CN1:15e4},stock:{CN1:50},category:"Nht ng c",description:"Nht cao cp cho xe cn tay",created_at:Wt(365)},{id:_r(),name:"Lp Michelin Pilot Street",sku:"MICH-PS",retailPrice:{CN1:45e4},wholesalePrice:{CN1:38e4},stock:{CN1:30},category:"Lp xe",description:"Lp cht lng cao",created_at:Wt(300)},{id:_r(),name:"Phanh ABS Honda SH",sku:"PHANH-SH",retailPrice:{CN1:35e4},wholesalePrice:{CN1:28e4},stock:{CN1:8},category:"Ph tng phanh",description:"M phanh chnh hng",created_at:Wt(250)},{id:_r(),name:"c quy GS GTZ5S",sku:"ACQUY-GS",retailPrice:{CN1:38e4},wholesalePrice:{CN1:32e4},stock:{CN1:25},category:"c quy",description:"c quy kh, bo hnh 6 thng",created_at:Wt(200)},{id:_r(),name:"Nht Shell Advance AX7",sku:"SHELL-AX7",retailPrice:{CN1:12e4},wholesalePrice:{CN1:95e3},stock:{CN1:80},category:"Nht ng c",description:"Nht bn tng hp",created_at:Wt(180)},{id:_r(),name:"Lc gi K&N",sku:"KN-FILTER",retailPrice:{CN1:25e4},wholesalePrice:{CN1:2e5},stock:{CN1:15},category:"Lc",description:"Lc gi cao cp, c th ra",created_at:Wt(150)},{id:_r(),name:"Xch MTKRACING 428",sku:"XICH-MTK",retailPrice:{CN1:28e4},wholesalePrice:{CN1:23e4},stock:{CN1:5},category:"Xch nhng",description:"Xch cht lng cao",created_at:Wt(120)}],Jo=[{id:_r(),name:"Nguyn Vn c",phone:"0987654321",email:"duc.nv@motocare.vn",position:"K thut vin chnh",department:"K thut",baseSalary:12e6,allowances:5e5,startDate:Wt(730),status:"active",branchId:"CN1",created_at:Wt(730)},{id:_r(),name:"Trn Minh Hong",phone:"0976543210",email:"hoang.tm@motocare.vn",position:"Nhn vin bn hng",department:"Kinh doanh",baseSalary:8e6,allowances:3e5,startDate:Wt(365),status:"active",branchId:"CN1",created_at:Wt(365)},{id:_r(),name:"L Th Mai",phone:"0965432109",email:"mai.lt@motocare.vn",position:"K ton",department:"Ti chnh",baseSalary:1e7,allowances:4e5,startDate:Wt(500),status:"active",branchId:"CN1",created_at:Wt(500)},{id:_r(),name:"Phm Vn Sn",phone:"0954321098",email:"son.pv@motocare.vn",position:"K thut vin",department:"K thut",baseSalary:9e6,allowances:3e5,startDate:Wt(200),status:"active",branchId:"CN1",created_at:Wt(200)}],B3=[...Array.from({length:5},(e,t)=>{const r=[{partId:or[0].id,partName:or[0].name,sku:or[0].sku,quantity:2,sellingPrice:or[0].retailPrice.CN1,stockSnapshot:or[0].stock.CN1},{partId:or[1].id,partName:or[1].name,sku:or[1].sku,quantity:1,sellingPrice:or[1].retailPrice.CN1,stockSnapshot:or[1].stock.CN1}],a=r.reduce((n,i)=>n+i.sellingPrice*i.quantity,0);return{id:_r(),date:Wt(t),customer:{id:tr[t%tr.length].id,name:tr[t%tr.length].name,phone:tr[t%tr.length].phone},items:r,subtotal:a,discount:0,total:a,paymentMethod:"cash",userId:"demo-user",userName:"Demo User",branchId:"CN1"}}),...Array.from({length:10},(e,t)=>{const r=or[(t+1)%or.length],a=[{partId:r.id,partName:r.name,sku:r.sku,quantity:1,sellingPrice:r.retailPrice.CN1,stockSnapshot:r.stock.CN1}],n=a.reduce((i,s)=>i+s.sellingPrice*s.quantity,0);return{id:_r(),date:Wt(t+6),customer:{id:tr[(t+2)%tr.length].id,name:tr[(t+2)%tr.length].name,phone:tr[(t+2)%tr.length].phone},items:a,subtotal:n,discount:0,total:n,paymentMethod:Math.random()>.5?"cash":"bank",userId:"demo-user",userName:"Demo User",branchId:"CN1"}}),...Array.from({length:15},(e,t)=>{const r=or[t%or.length],a=Math.floor(Math.random()*3)+1,n=[{partId:r.id,partName:r.name,sku:r.sku,quantity:a,sellingPrice:r.retailPrice.CN1,stockSnapshot:r.stock.CN1}],i=n.reduce((s,o)=>s+o.sellingPrice*o.quantity,0);return{id:_r(),date:Wt(t+16),customer:{id:tr[(t+3)%tr.length].id,name:tr[(t+3)%tr.length].name,phone:tr[(t+3)%tr.length].phone},items:n,subtotal:i,discount:0,total:i,paymentMethod:Math.random()>.5?"cash":"bank",userId:"demo-user",userName:"Demo User",branchId:"CN1"}})],c8=Jo.flatMap(e=>[{id:_r(),employeeId:e.id,employeeName:e.name,month:Oc.toISOString().slice(0,7),baseSalary:e.baseSalary,allowances:e.allowances||0,bonus:1e6,deduction:0,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:e.baseSalary+(e.allowances||0)+1e6,paymentStatus:"pending",branchId:"CN1",created_at:Oc.toISOString()},{id:_r(),employeeId:e.id,employeeName:e.name,month:new Date(Oc.getFullYear(),Oc.getMonth()-1,1).toISOString().slice(0,7),baseSalary:e.baseSalary,allowances:e.allowances||0,bonus:8e5,deduction:0,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:e.baseSalary+(e.allowances||0)+8e5,paymentStatus:"paid",paymentDate:Wt(5),paymentMethod:"bank",branchId:"CN1",created_at:Wt(35)}]),u8=[{id:_r(),lenderName:"Ngn hng Vietcombank",loanType:"bank",principal:1e8,interestRate:12,term:12,startDate:Wt(180),endDate:new Date(Oc.getFullYear()+1,Oc.getMonth(),Oc.getDate()).toISOString(),purpose:"M rng ca hng",remainingAmount:75e6,monthlyPayment:1e7,status:"active",branchId:"CN1",created_at:Wt(180)},{id:_r(),lenderName:"Ngn hng Techcombank",loanType:"bank",principal:5e7,interestRate:10,term:6,startDate:Wt(90),endDate:new Date(Oc.getFullYear(),Oc.getMonth()+6,Oc.getDate()).toISOString(),purpose:"Nhp hng",remainingAmount:4e7,monthlyPayment:9e6,status:"active",branchId:"CN1",created_at:Wt(90)}],d8=[...B3.slice(0,10).map(e=>({id:_r(),type:"income",category:"sale_income",amount:e.total,date:e.date,notes:`Bn hng cho ${e.customer.name}`,paymentSourceId:e.paymentMethod==="cash"?"cash":"bank",recipient:e.customer.name,branchId:"CN1"})),{id:_r(),type:"expense",category:"salary",amount:125e5,date:Wt(5),notes:`Tr lng thng trc - ${Jo[0].name}`,paymentSourceId:"bank",recipient:Jo[0].name,branchId:"CN1"},{id:_r(),type:"expense",category:"loan_payment",amount:1e7,date:Wt(10),notes:"Tr n vay - Vietcombank (Gc: 8000000, Li: 2000000)",paymentSourceId:"bank",recipient:"Ngn hng Vietcombank",branchId:"CN1"},{id:_r(),type:"expense",category:"inventory_purchase",amount:15e6,date:Wt(15),notes:"Nhp ph tng",paymentSourceId:"cash",branchId:"CN1"},{id:_r(),type:"expense",category:"other_expense",amount:3e6,date:Wt(7),notes:"Tin in, nc, internet thng ny",paymentSourceId:"cash",branchId:"CN1"}],bu=[{id:_r(),name:"Cng ty TNHH Ph tng Minh Anh",phone:"0281234567",email:"minhanh@parts.vn",address:"123 Nguyn Vn Linh, Q.7, TP.HCM",created_at:Wt(365)},{id:_r(),name:"Nh phn phi Honda chnh hng",phone:"0282345678",email:"honda@distributor.vn",address:"456 Xa l H Ni, Q.9, TP.HCM",created_at:Wt(300)},{id:_r(),name:"Yamaha Parts Vietnam",phone:"0283456789",email:"yamaha@parts.vn",address:"789 L Vn Vit, Q.9, TP.HCM",created_at:Wt(250)}],f8=[{id:_r(),customerId:tr[0].id,customerName:tr[0].name,phone:tr[0].phone,licensePlate:tr[0].licensePlate,description:"Thay nht + lc gi + bugi (n hng #DH001)",totalAmount:85e4,paidAmount:5e5,remainingAmount:35e4,createdDate:Wt(10),branchId:"CN1"},{id:_r(),customerId:tr[1].id,customerName:tr[1].name,phone:tr[1].phone,licensePlate:tr[1].licensePlate,description:"Thay lp Michelin Pilot Street (n hng #DH002)",totalAmount:125e4,paidAmount:0,remainingAmount:125e4,createdDate:Wt(7),branchId:"CN1"},{id:_r(),customerId:tr[2].id,customerName:tr[2].name,phone:tr[2].phone,licensePlate:tr[2].licensePlate,description:"Thay m phanh trc/sau + du phanh (n hng #DH003)",totalAmount:98e4,paidAmount:3e5,remainingAmount:68e4,createdDate:Wt(5),branchId:"CN1"},{id:_r(),customerId:tr[3].id,customerName:tr[3].name,phone:tr[3].phone,licensePlate:tr[3].licensePlate,description:"Thay c quy GS 12V-7Ah (n hng #DH004)",totalAmount:55e4,paidAmount:0,remainingAmount:55e4,createdDate:Wt(3),branchId:"CN1"},{id:_r(),customerId:tr[4].id,customerName:tr[4].name,phone:tr[4].phone,licensePlate:tr[4].licensePlate,description:"Bo dng nh k 5000km (n hng #DH005)",totalAmount:185e4,paidAmount:1e6,remainingAmount:85e4,createdDate:Wt(2),branchId:"CN1"}],h8=[{id:_r(),supplierId:bu[0].id,supplierName:bu[0].name,description:"Nhp 50 chai du nht Shell 10W40 (n nhp #PN001)",totalAmount:6e6,paidAmount:3e6,remainingAmount:3e6,createdDate:Wt(15),branchId:"CN1"},{id:_r(),supplierId:bu[1].id,supplierName:bu[1].name,description:"Nhp l ph tng chnh hng Honda (n nhp #PN002)",totalAmount:25e6,paidAmount:15e6,remainingAmount:1e7,createdDate:Wt(12),branchId:"CN1"},{id:_r(),supplierId:bu[2].id,supplierName:bu[2].name,description:"Nhp 20 b m phanh Yamaha Exciter (n nhp #PN003)",totalAmount:45e5,paidAmount:0,remainingAmount:45e5,createdDate:Wt(8),branchId:"CN1"},{id:_r(),supplierId:bu[0].id,supplierName:bu[0].name,description:"Nhp 30 lc lc du + lc gi (n nhp #PN004)",totalAmount:32e5,paidAmount:32e5,remainingAmount:0,createdDate:Wt(5),branchId:"CN1"}],m8=[{id:_r(),creationDate:Wt(1),customerName:tr[0].name,customerPhone:tr[0].phone,vehicleModel:tr[0].vehicleModel,licensePlate:tr[0].licensePlate,issueDescription:"Thay nht nh k, kim tra phanh",technicianName:Jo[0].name,status:"ang sa",laborCost:15e4,partsUsed:[{partId:or[0].id,partName:or[0].name,sku:or[0].sku,quantity:1,price:or[0].retailPrice.CN1}],discount:0,total:15e4+or[0].retailPrice.CN1,branchId:"CN1",depositAmount:2e5,depositDate:Wt(1),paymentStatus:"partial",totalPaid:2e5,remainingAmount:15e4+or[0].retailPrice.CN1-2e5},{id:_r(),creationDate:Wt(0),customerName:tr[1].name,customerPhone:tr[1].phone,vehicleModel:tr[1].vehicleModel,licensePlate:tr[1].licensePlate,issueDescription:"Xe kh n, kim tra h thng in",technicianName:Jo[3].name,status:"Tip nhn",laborCost:3e5,partsUsed:[],discount:0,total:3e5,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Wt(3),customerName:tr[2].name,customerPhone:tr[2].phone,vehicleModel:tr[2].vehicleModel,licensePlate:tr[2].licensePlate,issueDescription:"Thay lp trc, cn chnh bnh xe",technicianName:Jo[0].name,status:" sa xong",laborCost:1e5,partsUsed:[{partId:or[1].id,partName:or[1].name,sku:or[1].sku,quantity:1,price:or[1].retailPrice.CN1}],discount:2e4,total:1e5+or[1].retailPrice.CN1-2e4,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Wt(5),customerName:tr[3].name,customerPhone:tr[3].phone,vehicleModel:tr[3].vehicleModel,licensePlate:tr[3].licensePlate,issueDescription:"Thay c quy, kim tra h thng sc",technicianName:Jo[3].name,status:"Tr my",laborCost:5e4,partsUsed:[{partId:or[3].id,partName:or[3].name,sku:or[3].sku,quantity:1,price:or[3].retailPrice.CN1}],discount:0,total:5e4+or[3].retailPrice.CN1,branchId:"CN1",depositAmount:1e5,depositDate:Wt(5),paymentStatus:"paid",paymentMethod:"cash",totalPaid:5e4+or[3].retailPrice.CN1,remainingAmount:0,paymentDate:Wt(5)},{id:_r(),creationDate:Wt(2),customerName:tr[4].name,customerPhone:tr[4].phone,vehicleModel:tr[4].vehicleModel,licensePlate:tr[4].licensePlate,issueDescription:"Thay dy xch, nhng, kim tra phanh sau",technicianName:Jo[0].name,status:"ang sa",laborCost:2e5,partsUsed:[{partId:or[6].id,partName:or[6].name,sku:or[6].sku,quantity:1,price:or[6].retailPrice.CN1},{partId:or[2].id,partName:or[2].name,sku:or[2].sku,quantity:2,price:or[2].retailPrice.CN1}],discount:3e4,total:2e5+or[6].retailPrice.CN1+or[2].retailPrice.CN1*2-3e4,branchId:"CN1",depositAmount:3e5,depositDate:Wt(2),paymentStatus:"partial",totalPaid:3e5,remainingAmount:2e5+or[6].retailPrice.CN1+or[2].retailPrice.CN1*2-3e4-3e5},{id:_r(),creationDate:Wt(0),customerName:"Phm Vn c",customerPhone:"0967890123",vehicleModel:"Honda Wave RSX",licensePlate:"30F-44444",issueDescription:"Bo dng nh k 5000km",technicianName:Jo[3].name,status:"Tip nhn",laborCost:1e5,partsUsed:[],discount:0,total:1e5,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Wt(4),customerName:"L Th Hng",customerPhone:"0978901234",vehicleModel:"Yamaha Sirius",licensePlate:"30G-55555",issueDescription:"Thay lc gi, kim tra bugi",technicianName:Jo[0].name,status:" sa xong",laborCost:8e4,partsUsed:[{partId:or[5].id,partName:or[5].name,sku:or[5].sku,quantity:1,price:or[5].retailPrice.CN1}],discount:1e4,total:8e4+or[5].retailPrice.CN1-1e4,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Wt(7),customerName:"Nguyn Thanh Tng",customerPhone:"0989012345",vehicleModel:"Honda Future",licensePlate:"30H-66666",issueDescription:"Sa h thng phanh a, thay du phanh",technicianName:Jo[3].name,status:"Tr my",laborCost:15e4,partsUsed:[{partId:or[2].id,partName:or[2].name,sku:or[2].sku,quantity:2,price:or[2].retailPrice.CN1}],discount:0,total:15e4+or[2].retailPrice.CN1*2,branchId:"CN1",paymentStatus:"paid",paymentMethod:"bank",totalPaid:15e4+or[2].retailPrice.CN1*2,remainingAmount:0,paymentDate:Wt(7)}],eZ=()=>{const e=localStorage.getItem("motocare-data");if(e){const t=JSON.parse(e);t.customers=[...t.customers||[],...tr],t.parts=[...t.parts||[],...or],t.sales=[...t.sales||[],...B3],t.employees=[...t.employees||[],...Jo],t.payrollRecords=[...t.payrollRecords||[],...c8],t.loans=[...t.loans||[],...u8],t.cashTransactions=[...t.cashTransactions||[],...d8],t.suppliers=[...t.suppliers||[],...bu],t.workOrders=[...t.workOrders||[],...m8],t.customerDebts=[...t.customerDebts||[],...f8],t.supplierDebts=[...t.supplierDebts||[],...h8],localStorage.setItem("motocare-data",JSON.stringify(t))}else{const t={customers:tr,parts:or,sales:B3,employees:Jo,payrollRecords:c8,loans:u8,cashTransactions:d8,suppliers:bu,workOrders:m8,customerDebts:f8,supplierDebts:h8,cartItems:[],loanPayments:[],inventoryTransactions:[],paymentSources:[{id:"cash",name:"Tin mt",balance:{CN1:5e7}},{id:"bank",name:"Ngn hng",balance:{CN1:15e7}}]};localStorage.setItem("motocare-data",JSON.stringify(t))}return console.log("Demo data loaded successfully."),!0},tZ=()=>{localStorage.removeItem("motocare-data"),console.log("Demo data cleared.")};var rZ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zN(e){if(typeof e!="string")return!1;var t=rZ;return t.includes(e)}var aZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aI(e){if(typeof e!="string")return!1;var t=aZ;return t.includes(e)}function nI(e){return typeof e=="string"&&e.startsWith("data-")}function lo(e){var t=Object.entries(e).filter(r=>{var[a]=r;return aI(a)||nI(a)});return Object.fromEntries(t)}function $h(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return lo(t)}return typeof e=="object"&&!Array.isArray(e)?lo(e):null}function co(e){var t=Object.entries(e).filter(r=>{var[a]=r;return aI(a)||nI(a)||zN(a)});return Object.fromEntries(t)}function iI(e){return e==null?null:j.isValidElement(e)?co(e.props):typeof e=="object"&&!Array.isArray(e)?co(e):null}var nZ=["children","width","height","viewBox","className","style","title","desc"];function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U3.apply(null,arguments)}function iZ(e,t){if(e==null)return{};var r,a,n=sZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var qN=j.forwardRef((e,t)=>{var{children:r,width:a,height:n,viewBox:i,className:s,style:o,title:c,desc:d}=e,f=iZ(e,nZ),m=i||{width:a,height:n,x:0,y:0},x=Br("recharts-surface",s);return j.createElement("svg",U3({},co(f),{className:x,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),j.createElement("title",null,c),j.createElement("desc",null,d),r)}),oZ=["children","className"];function z3(){return z3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z3.apply(null,arguments)}function lZ(e,t){if(e==null)return{};var r,a,n=cZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Gn=j.forwardRef((e,t)=>{var{children:r,className:a}=e,n=lZ(e,oZ),i=Br("recharts-layer",a);return j.createElement("g",z3({className:i},co(n),{ref:t}),r)}),sI=j.createContext(null),uZ=()=>j.useContext(sI);function Za(e){return function(){return e}}const oI=Math.cos,zb=Math.sin,Hc=Math.sqrt,qb=Math.PI,tw=2*qb,q3=Math.PI,$3=2*q3,sh=1e-6,dZ=$3-sh;function lI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fZ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return lI;const r=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class hZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lI:fZ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,i,s){this._append`C${+t},${+r},${+a},${+n},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,a,n,i){if(t=+t,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=a-t,d=n-r,f=s-t,m=o-r,x=f*f+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>sh)if(!(Math.abs(m*c-d*f)>sh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-s,y=n-o,v=c*c+d*d,b=p*p+y*y,k=Math.sqrt(v),N=Math.sqrt(x),_=i*Math.tan((q3-Math.acos((v+x-b)/(2*k*N)))/2),T=_/N,L=_/k;Math.abs(T-1)>sh&&this._append`L${t+T*f},${r+T*m}`,this._append`A${i},${i},0,0,${+(m*p>f*y)},${this._x1=t+L*c},${this._y1=r+L*d}`}}arc(t,r,a,n,i,s){if(t=+t,r=+r,a=+a,s=!!s,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),c=a*Math.sin(n),d=t+o,f=r+c,m=1^s,x=s?n-i:i-n;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>sh||Math.abs(this._y1-f)>sh)&&this._append`L${d},${f}`,a&&(x<0&&(x=x%$3+$3),x>dZ?this._append`A${a},${a},0,1,${m},${t-o},${r-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=f}`:x>sh&&this._append`A${a},${a},0,${+(x>=q3)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function $N(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new hZ(t)}function HN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cI(e){this._context=e}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rw(e){return new cI(e)}function uI(e){return e[0]}function dI(e){return e[1]}function fI(e,t){var r=Za(!0),a=null,n=rw,i=null,s=$N(o);e=typeof e=="function"?e:e===void 0?uI:Za(e),t=typeof t=="function"?t:t===void 0?dI:Za(t);function o(c){var d,f=(c=HN(c)).length,m,x=!1,p;for(a==null&&(i=n(p=s())),d=0;d<=f;++d)!(d<f&&r(m=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,d,c),+t(m,d,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Za(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Za(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Za(!!c),o):r},o.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),o):n},o.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),o):a},o}function My(e,t,r){var a=null,n=Za(!0),i=null,s=rw,o=null,c=$N(d);e=typeof e=="function"?e:e===void 0?uI:Za(+e),t=typeof t=="function"?t:Za(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dI:Za(+r);function d(m){var x,p,y,v=(m=HN(m)).length,b,k=!1,N,_=new Array(v),T=new Array(v);for(i==null&&(o=s(N=c())),x=0;x<=v;++x){if(!(x<v&&n(b=m[x],x,m))===k)if(k=!k)p=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=x-1;y>=p;--y)o.point(_[y],T[y]);o.lineEnd(),o.areaEnd()}k&&(_[x]=+e(b,x,m),T[x]=+t(b,x,m),o.point(a?+a(b,x,m):_[x],r?+r(b,x,m):T[x]))}if(N)return o=null,N+""||null}function f(){return fI().defined(n).curve(s).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Za(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Za(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Za(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Za(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Za(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Za(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(e).y(t)},d.lineY1=function(){return f().x(e).y(r)},d.lineX1=function(){return f().x(a).y(t)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Za(!!m),d):n},d.curve=function(m){return arguments.length?(s=m,i!=null&&(o=s(i)),d):s},d.context=function(m){return arguments.length?(m==null?i=o=null:o=s(i=m),d):i},d}class hI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mZ(e){return new hI(e,!0)}function pZ(e){return new hI(e,!1)}const WN={draw(e,t){const r=Hc(t/qb);e.moveTo(r,0),e.arc(0,0,r,0,tw)}},gZ={draw(e,t){const r=Hc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},mI=Hc(1/3),xZ=mI*2,vZ={draw(e,t){const r=Hc(t/xZ),a=r*mI;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},yZ={draw(e,t){const r=Hc(t),a=-r/2;e.rect(a,a,r,r)}},bZ=.8908130915292852,pI=zb(qb/10)/zb(7*qb/10),wZ=zb(tw/10)*pI,kZ=-oI(tw/10)*pI,_Z={draw(e,t){const r=Hc(t*bZ),a=wZ*r,n=kZ*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const s=tw*i/5,o=oI(s),c=zb(s);e.lineTo(c*r,-o*r),e.lineTo(o*a-c*n,c*a+o*n)}e.closePath()}},Rk=Hc(3),SZ={draw(e,t){const r=-Hc(t/(Rk*3));e.moveTo(0,r*2),e.lineTo(-Rk*r,-r),e.lineTo(Rk*r,-r),e.closePath()}},Pl=-.5,Dl=Hc(3)/2,H3=1/Hc(12),NZ=(H3/2+1)*3,jZ={draw(e,t){const r=Hc(t/NZ),a=r/2,n=r*H3,i=a,s=r*H3+r,o=-i,c=s;e.moveTo(a,n),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Pl*a-Dl*n,Dl*a+Pl*n),e.lineTo(Pl*i-Dl*s,Dl*i+Pl*s),e.lineTo(Pl*o-Dl*c,Dl*o+Pl*c),e.lineTo(Pl*a+Dl*n,Pl*n-Dl*a),e.lineTo(Pl*i+Dl*s,Pl*s-Dl*i),e.lineTo(Pl*o+Dl*c,Pl*c-Dl*o),e.closePath()}};function AZ(e,t){let r=null,a=$N(n);e=typeof e=="function"?e:Za(e||WN),t=typeof t=="function"?t:Za(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Za(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Za(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function $b(){}function Hb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function gI(e){this._context=e}gI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TZ(e){return new gI(e)}function xI(e){this._context=e}xI.prototype={areaStart:$b,areaEnd:$b,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EZ(e){return new xI(e)}function vI(e){this._context=e}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CZ(e){return new vI(e)}function yI(e){this._context=e}yI.prototype={areaStart:$b,areaEnd:$b,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OZ(e){return new yI(e)}function p8(e){return e<0?-1:1}function g8(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),s=(r-e._y1)/(n||a<0&&-0),o=(i*n+s*a)/(a+n);return(p8(i)+p8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function x8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ik(e,t,r){var a=e._x0,n=e._y0,i=e._x1,s=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*t,i-o,s-o*r,i,s)}function Wb(e){this._context=e}Wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ik(this,this._t0,x8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ik(this,x8(this,r=g8(this,e,t)),r);break;default:Ik(this,this._t0,r=g8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function bI(e){this._context=new wI(e)}(bI.prototype=Object.create(Wb.prototype)).point=function(e,t){Wb.prototype.point.call(this,t,e)};function wI(e){this._context=e}wI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}};function PZ(e){return new Wb(e)}function DZ(e){return new bI(e)}function kI(e){this._context=e}kI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=v8(e),n=v8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function v8(e){var t,r=e.length-1,a,n=new Array(r),i=new Array(r),s=new Array(r);for(n[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,s[t]-=a*s[t-1];for(n[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(s[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function LZ(e){return new kI(e)}function aw(e,t){this._context=e,this._t=t}aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function MZ(e){return new aw(e,.5)}function RZ(e){return new aw(e,0)}function IZ(e){return new aw(e,1)}function og(e,t){if((s=e.length)>1)for(var r=1,a,n,i=e[t[0]],s,o=i.length;r<s;++r)for(n=i,i=e[t[r]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function W3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function FZ(e,t){return e[t]}function BZ(e){const t=[];return t.key=e,t}function UZ(){var e=Za([]),t=W3,r=og,a=FZ;function n(i){var s=Array.from(e.apply(this,arguments),BZ),o,c=s.length,d=-1,f;for(const m of i)for(o=0,++d;o<c;++o)(s[o][d]=[0,+a(m,s[o].key,d,i)]).data=m;for(o=0,f=HN(t(s));o<c;++o)s[f[o]].index=o;return r(s,f),s}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Za(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Za(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?W3:typeof i=="function"?i:Za(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??og,n):r},n}function zZ(e,t){if((a=e.length)>0){for(var r,a,n=0,i=e[0].length,s;n<i;++n){for(s=r=0;r<a;++r)s+=e[r][n][1]||0;if(s)for(r=0;r<a;++r)e[r][n][1]/=s}og(e,t)}}function qZ(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}og(e,t)}}function $Z(e,t){if(!(!((s=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,i,s;a<i;++a){for(var o=0,c=0,d=0;o<s;++o){for(var f=e[t[o]],m=f[a][1]||0,x=f[a-1][1]||0,p=(m-x)/2,y=0;y<o;++y){var v=e[t[y]],b=v[a][1]||0,k=v[a-1][1]||0;p+=b-k}c+=m,d+=p*m}n[a-1][1]+=n[a-1][0]=r,c&&(r-=d/c)}n[a-1][1]+=n[a-1][0]=r,og(e,t)}}var Fk={},Bk={},y8;function HZ(){return y8||(y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Bk)),Bk}var Uk={},b8;function _I(){return b8||(b8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Uk)),Uk}var zk={},w8;function VN(){return w8||(w8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;return typeof r=="string"||typeof r=="symbol"?r:Object.is((a=r==null?void 0:r.valueOf)==null?void 0:a.call(r),-0)?"-0":String(r)}e.toKey=t})(zk)),zk}var qk={},$k={},k8;function WZ(){return k8||(k8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})($k)),$k}var _8;function KN(){return _8||(_8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WZ(),r=VN();function a(n){if(Array.isArray(n))return n.map(r.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],s=n.length;if(s===0)return i;let o=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const m=n[o];d?m==="\\"&&o+1<s?(o++,c+=n[o]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,i.push(c),c=""):c+=m:m==="["?(f=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,o++}return c&&i.push(c),i}e.toPath=a})(qk)),qk}var S8;function GN(){return S8||(S8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HZ(),r=_I(),a=VN(),n=KN();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?r.isDeepKey(c)?i(o,n.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const f=o[c];return f===void 0?d:f}default:{if(Array.isArray(c))return s(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?d:f}}}function s(o,c,d){if(c.length===0)return d;let f=o;for(let m=0;m<c.length;m++){if(f==null||t.isUnsafeProperty(c[m]))return d;f=f[c[m]]}return f===void 0?d:f}e.get=i})(Fk)),Fk}var Hk,N8;function VZ(){return N8||(N8=1,Hk=GN().get),Hk}var KZ=VZ();const Hh=Uc(KZ);var as=e=>e===0?0:e>0?1:-1,dl=e=>typeof e=="number"&&e!=+e,$d=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ht=e=>(typeof e=="number"||e instanceof Number)&&!dl(e),Ou=e=>Ht(e)||typeof e=="string",GZ=0,p1=e=>{var t=++GZ;return"".concat(e||"").concat(t)},Fs=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ht(t)&&typeof t!="string")return a;var i;if($d(t)){if(r==null)return a;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return dl(i)&&(i=a),n&&r!=null&&i>r&&(i=r),i},SI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function qa(e,t,r){return Ht(e)&&Ht(t)?e+r*(t-e):t}function NI(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Hh(a,t))===r)}var un=e=>e===null||typeof e>"u",tv=e=>un(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),YZ=["type","size","sizeType"];function V3(){return V3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V3.apply(null,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function A8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(a){XZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZZ(e,t){if(e==null)return{};var r,a,n=eee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eee(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var jI={symbolCircle:WN,symbolCross:gZ,symbolDiamond:vZ,symbolSquare:yZ,symbolStar:_Z,symbolTriangle:SZ,symbolWye:jZ},tee=Math.PI/180,ree=e=>{var t="symbol".concat(tv(e));return jI[t]||WN},aee=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*tee;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},nee=(e,t)=>{jI["symbol".concat(tv(e))]=t},YN=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=ZZ(e,YZ),i=A8(A8({},n),{},{type:t,size:r,sizeType:a}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var x=ree(s),p=AZ().type(x).size(aee(r,a,s)),y=p();if(y!==null)return y},{className:c,cx:d,cy:f}=i,m=co(i);return d===+d&&f===+f&&r===+r?j.createElement("path",V3({},m,{className:Br("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:o()})):null};YN.registerSymbol=nee;var XN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(n=>{zN(n)&&(a[n]=(i=>r[n](r,i)))}),a},iee=(e,t,r)=>a=>(e(t,r,a),null),rv=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];zN(n)&&typeof i=="function"&&(a||(a={}),a[n]=iee(i,t,r))}),a};function K3(){return K3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},K3.apply(null,arguments)}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function see(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(a){QN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QN(e,t,r){return(t=oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ll=32;class JN extends j.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,n=Ll/2,i=Ll/6,s=Ll/3,o=t.inactive?a:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:Ll,y2:n,className:"recharts-legend-icon"});if(c==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(n,`
            H`).concat(Ll,"M").concat(2*s,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return j.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ll/8,"h").concat(Ll,"v").concat(Ll*3/4,"h").concat(-Ll,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var d=see({},t);return delete d.legendIcon,j.cloneElement(t.legendIcon,d)}return j.createElement(YN,{fill:o,cx:n,cy:n,size:Ll,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:n,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:Ll,height:Ll},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,m)=>{var x=f.formatter||n,p=Br({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var y=f.inactive?i:f.color,v=x?x(f.value,f,m):f.value;return j.createElement("li",K3({className:p,style:c,key:"legend-item-".concat(m)},rv(this.props,f,m)),j.createElement(qN,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(f,s)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var n={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}QN(JN,"displayName","Legend");QN(JN,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Wk={},Vk={},E8;function cee(){return E8||(E8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const n=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=a(s);n.has(o)||n.set(o,s)}return Array.from(n.values())}e.uniqBy=t})(Vk)),Vk}var Kk={},C8;function AI(){return C8||(C8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Kk)),Kk}var Gk={},Yk={},Xk={},O8;function uee(){return O8||(O8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Xk)),Xk}var P8;function ZN(){return P8||(P8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uee();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(Yk)),Yk}var Qk={},D8;function dee(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Qk)),Qk}var L8;function fee(){return L8||(L8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZN(),r=dee();function a(n){return r.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})(Gk)),Gk}var Jk={},Zk={},M8;function hee(){return M8||(M8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GN();function r(a){return function(n){return t.get(n,a)}}e.property=r})(Zk)),Zk}var e4={},t4={},r4={},a4={},R8;function TI(){return R8||(R8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(a4)),a4}var n4={},I8;function EI(){return I8||(I8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(n4)),n4}var i4={},F8;function CI(){return F8||(F8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(i4)),i4}var B8;function mee(){return B8||(B8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI(),r=EI(),a=CI();function n(f,m,x){return typeof x!="function"?n(f,m,()=>{}):i(f,m,function p(y,v,b,k,N,_){const T=x(y,v,b,k,N,_);return T!==void 0?!!T:i(y,v,p,_)},new Map)}function i(f,m,x,p){if(m===f)return!0;switch(typeof m){case"object":return s(f,m,x,p);case"function":return Object.keys(m).length>0?i(f,{...m},x,p):a.eq(f,m);default:return t.isObject(f)?typeof m=="string"?m==="":!0:a.eq(f,m)}}function s(f,m,x,p){if(m==null)return!0;if(Array.isArray(m))return c(f,m,x,p);if(m instanceof Map)return o(f,m,x,p);if(m instanceof Set)return d(f,m,x,p);const y=Object.keys(m);if(f==null)return y.length===0;if(y.length===0)return!0;if(p!=null&&p.has(m))return p.get(m)===f;p==null||p.set(m,f);try{for(let v=0;v<y.length;v++){const b=y[v];if(!r.isPrimitive(f)&&!(b in f)||m[b]===void 0&&f[b]!==void 0||m[b]===null&&f[b]!==null||!x(f[b],m[b],b,f,m,p))return!1}return!0}finally{p==null||p.delete(m)}}function o(f,m,x,p){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,v]of m.entries()){const b=f.get(y);if(x(b,v,y,f,m,p)===!1)return!1}return!0}function c(f,m,x,p){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let v=0;v<m.length;v++){const b=m[v];let k=!1;for(let N=0;N<f.length;N++){if(y.has(N))continue;const _=f[N];let T=!1;if(x(_,b,v,f,m,p)&&(T=!0),T){y.add(N),k=!0;break}}if(!k)return!1}return!0}function d(f,m,x,p){return m.size===0?!0:f instanceof Set?c([...f],[...m],x,p):!1}e.isMatchWith=n,e.isSetMatch=d})(r4)),r4}var U8;function OI(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mee();function r(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=r})(t4)),t4}var s4={},o4={},l4={},z8;function pee(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(l4)),l4}var c4={},q8;function PI(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(c4)),c4}var u4={},$8;function DI(){return $8||($8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",x="[object ArrayBuffer]",p="[object Object]",y="[object Error]",v="[object DataView]",b="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",_="[object Uint32Array]",T="[object BigUint64Array]",L="[object Int8Array]",D="[object Int16Array]",R="[object Int32Array]",U="[object BigInt64Array]",F="[object Float32Array]",W="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=f,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=T,e.booleanTag=n,e.dataViewTag=v,e.dateTag=o,e.errorTag=y,e.float32ArrayTag=F,e.float64ArrayTag=W,e.functionTag=m,e.int16ArrayTag=D,e.int32ArrayTag=R,e.int8ArrayTag=L,e.mapTag=c,e.numberTag=a,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=N,e.uint32ArrayTag=_,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=k})(u4)),u4}var d4={},H8;function gee(){return H8||(H8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(d4)),d4}var W8;function LI(){return W8||(W8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pee(),r=PI(),a=DI(),n=EI(),i=gee();function s(f,m){return o(f,void 0,f,new Map,m)}function o(f,m,x,p=new Map,y=void 0){const v=y==null?void 0:y(f,m,x,p);if(v!==void 0)return v;if(n.isPrimitive(f))return f;if(p.has(f))return p.get(f);if(Array.isArray(f)){const b=new Array(f.length);p.set(f,b);for(let k=0;k<f.length;k++)b[k]=o(f[k],k,x,p,y);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;p.set(f,b);for(const[k,N]of f)b.set(k,o(N,k,x,p,y));return b}if(f instanceof Set){const b=new Set;p.set(f,b);for(const k of f)b.add(o(k,void 0,x,p,y));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);p.set(f,b);for(let k=0;k<f.length;k++)b[k]=o(f[k],k,x,p,y);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return p.set(f,b),c(b,f,x,p,y),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return p.set(f,b),c(b,f,x,p,y),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return p.set(f,b),c(b,f,x,p,y),b}if(f instanceof Error){const b=new f.constructor;return p.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,c(b,f,x,p,y),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return p.set(f,b),c(b,f,x,p,y),b}if(f instanceof Number){const b=new Number(f.valueOf());return p.set(f,b),c(b,f,x,p,y),b}if(f instanceof String){const b=new String(f.valueOf());return p.set(f,b),c(b,f,x,p,y),b}if(typeof f=="object"&&d(f)){const b=Object.create(Object.getPrototypeOf(f));return p.set(f,b),c(b,f,x,p,y),b}return f}function c(f,m,x=f,p,y){const v=[...Object.keys(m),...t.getSymbols(m)];for(let b=0;b<v.length;b++){const k=v[b],N=Object.getOwnPropertyDescriptor(f,k);(N==null||N.writable)&&(f[k]=o(m[k],k,x,p,y))}}function d(f){switch(r.getTag(f)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(o4)),o4}var V8;function xee(){return V8||(V8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(s4)),s4}var K8;function vee(){return K8||(K8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OI(),r=xee();function a(n){return n=r.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(e4)),e4}var f4={},h4={},m4={},G8;function yee(){return G8||(G8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI(),r=DI();function a(n,i){return t.cloneDeepWith(n,(s,o,c,d)=>{const f=i==null?void 0:i(s,o,c,d);if(f!==void 0)return f;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return t.copyProperties(m,n),m}case r.argumentsTag:{const m={};return t.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(m4)),m4}var Y8;function bee(){return Y8||(Y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yee();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(h4)),h4}var p4={},g4={},X8;function MI(){return X8||(X8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(g4)),g4}var x4={},Q8;function wee(){return Q8||(Q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PI();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(x4)),x4}var J8;function kee(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_I(),r=MI(),a=wee(),n=KN();function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=s;for(let f=0;f<c.length;f++){const m=c[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(p4)),p4}var Z8;function _ee(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OI(),r=VN(),a=bee(),n=GN(),i=kee();function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=a.cloneDeep(c),function(d){const f=n.get(d,o);return f===void 0?i.has(d,o):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=s})(f4)),f4}var eO;function See(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AI(),r=hee(),a=vee(),n=_ee();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?n.matchesProperty(s[0],s[1]):a.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(Jk)),Jk}var tO;function Nee(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cee(),r=AI(),a=fee(),n=See();function i(s,o=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.iteratee(o)):[]}e.uniqBy=i})(Wk)),Wk}var v4,rO;function jee(){return rO||(rO=1,v4=Nee().uniqBy),v4}var Aee=jee();const aO=Uc(Aee);function RI(e,t,r){return t===!0?aO(e,r):typeof t=="function"?aO(e,t):e}var y4={exports:{}},b4={},w4={exports:{}},k4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO;function Tee(){if(nO)return k4;nO=1;var e=xg();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(m,x){var p=x(),y=a({inst:{value:p,getSnapshot:x}}),v=y[0].inst,b=y[1];return i(function(){v.value=p,v.getSnapshot=x,c(v)&&b({inst:v})},[m,p,x]),n(function(){return c(v)&&b({inst:v}),m(function(){c(v)&&b({inst:v})})},[m]),s(p),p}function c(m){var x=m.getSnapshot;m=m.value;try{var p=x();return!r(m,p)}catch{return!0}}function d(m,x){return x()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return k4.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,k4}var iO;function Eee(){return iO||(iO=1,w4.exports=Tee()),w4.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function Cee(){if(sO)return b4;sO=1;var e=xg(),t=Eee();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var a=typeof Object.is=="function"?Object.is:r,n=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return b4.useSyncExternalStoreWithSelector=function(d,f,m,x,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function k(D){if(!N){if(N=!0,_=D,D=x(D),p!==void 0&&v.hasValue){var R=v.value;if(p(R,D))return T=R}return T=D}if(R=T,a(_,D))return R;var U=x(D);return p!==void 0&&p(R,U)?(_=D,R):(_=D,T=U)}var N=!1,_,T,L=m===void 0?null:m;return[function(){return k(f())},L===null?void 0:function(){return k(L())}]},[f,m,x,p]);var b=n(d,y[0],y[1]);return s(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},b4}var oO;function Oee(){return oO||(oO=1,y4.exports=Cee()),y4.exports}var Pee=Oee(),e6=j.createContext(null),Dee=e=>e,kn=()=>{var e=j.useContext(e6);return e?e.store.dispatch:Dee},wb=()=>{},Lee=()=>wb,Mee=(e,t)=>e===t;function Vt(e){var t=j.useContext(e6);return Pee.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Lee,t?t.store.getState:wb,t?t.store.getState:wb,t?e:wb,Mee)}function Ree(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Iee(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Fee(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var lO=e=>Array.isArray(e)?e:[e];function Bee(e){const t=Array.isArray(e[0])?e[0]:e;return Fee(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Uee(e,t){const r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}var zee=class{constructor(e){this.value=e}deref(){return this.value}},qee=typeof WeakRef<"u"?WeakRef:zee,$ee=0,cO=1;function Ry(){return{s:$ee,v:void 0,o:null,p:null}}function II(e,t={}){let r=Ry();const{resultEqualityCheck:a}=t;let n,i=0;function s(){var m;let o=r;const{length:c}=arguments;for(let x=0,p=c;x<p;x++){const y=arguments[x];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(y);b===void 0?(o=Ry(),v.set(y,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(y);b===void 0?(o=Ry(),v.set(y,o)):o=b}}const d=o;let f;if(o.s===cO)f=o.v;else if(f=e.apply(null,arguments),i++,a){const x=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;x!=null&&a(x,f)&&(f=x,i!==0&&i--),n=typeof f=="object"&&f!==null||typeof f=="function"?new qee(f):f}return d.s=cO,d.v=f,f}return s.clearCache=()=>{r=Ry(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Hee(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,s=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),Ree(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...c},{memoize:m,memoizeOptions:x=[],argsMemoize:p=II,argsMemoizeOptions:y=[]}=f,v=lO(x),b=lO(y),k=Bee(n),N=m(function(){return i++,d.apply(null,arguments)},...v),_=p(function(){s++;const L=Uee(k,arguments);return o=N.apply(null,L),o},...b);return Object.assign(_,{resultFunc:d,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:p})};return Object.assign(a,{withTypes:()=>a}),a}var Ze=Hee(II),Wee=Object.assign((e,t=Ze)=>{Iee(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>Wee}),_4={},S4={},N4={},uO;function Vee(){return uO||(uO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,n,i)=>{if(a!==n){const s=t(a),o=t(n);if(s===o&&s===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(N4)),N4}var j4={},A4={},dO;function FI(){return dO||(dO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(A4)),A4}var fO;function Kee(){return fO||(fO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=n})(j4)),j4}var hO;function Gee(){return hO||(hO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vee(),r=Kee(),a=KN();function n(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const d=(p,y)=>{let v=p;for(let b=0;b<y.length&&v!=null;++b)v=v[y[b]];return v},f=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:d(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?d(y,p):typeof y=="object"?y[p]:y,m=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:a.toPath(p)}));return i.map(p=>({original:p,criteria:m.map(y=>f(y,p))})).slice().sort((p,y)=>{for(let v=0;v<m.length;v++){const b=t.compareValues(p.criteria[v],y.criteria[v],o[v]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=n})(S4)),S4}var T4={},mO;function Yee(){return mO||(mO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const n=[],i=Math.floor(a),s=(o,c)=>{for(let d=0;d<o.length;d++){const f=o[d];Array.isArray(f)&&c<i?s(f,c+1):n.push(f)}};return s(r,0),n}e.flatten=t})(T4)),T4}var E4={},pO;function BI(){return pO||(pO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MI(),r=ZN(),a=TI(),n=CI();function i(s,o,c){return a.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],s):!1}e.isIterateeCall=i})(E4)),E4}var gO;function Xee(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gee(),r=Yee(),a=BI();function n(i,...s){const o=s.length;return o>1&&a.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&a.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=n})(_4)),_4}var C4,xO;function Qee(){return xO||(xO=1,C4=Xee().sortBy),C4}var Jee=Qee();const nw=Uc(Jee);var UI=e=>e.legend.settings,Zee=e=>e.legend.size,ete=e=>e.legend.payload,tte=Ze([ete,UI],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?nw(a,r):a});function rte(){return Vt(tte)}var Iy=1;function zI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),a=j.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Iy||Math.abs(s.left-t.left)>Iy||Math.abs(s.top-t.top)>Iy||Math.abs(s.width-t.width)>Iy)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function gs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ate=typeof Symbol=="function"&&Symbol.observable||"@@observable",vO=ate,O4=()=>Math.random().toString(36).substring(7).split("").join("."),nte={INIT:`@@redux/INIT${O4()}`,REPLACE:`@@redux/REPLACE${O4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O4()}`},Vb=nte;function t6(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function qI(e,t,r){if(typeof e!="function")throw new Error(gs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gs(1));return r(qI)(e,t)}let a=e,n=t,i=new Map,s=i,o=0,c=!1;function d(){s===i&&(s=new Map,i.forEach((b,k)=>{s.set(k,b)}))}function f(){if(c)throw new Error(gs(3));return n}function m(b){if(typeof b!="function")throw new Error(gs(4));if(c)throw new Error(gs(5));let k=!0;d();const N=o++;return s.set(N,b),function(){if(k){if(c)throw new Error(gs(6));k=!1,d(),s.delete(N),i=null}}}function x(b){if(!t6(b))throw new Error(gs(7));if(typeof b.type>"u")throw new Error(gs(8));if(typeof b.type!="string")throw new Error(gs(17));if(c)throw new Error(gs(9));try{c=!0,n=a(n,b)}finally{c=!1}return(i=s).forEach(N=>{N()}),b}function p(b){if(typeof b!="function")throw new Error(gs(10));a=b,x({type:Vb.REPLACE})}function y(){const b=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(gs(11));function N(){const T=k;T.next&&T.next(f())}return N(),{unsubscribe:b(N)}},[vO](){return this}}}return x({type:Vb.INIT}),{dispatch:x,subscribe:m,getState:f,replaceReducer:p,[vO]:y}}function ite(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vb.INIT})>"u")throw new Error(gs(12));if(typeof r(void 0,{type:Vb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gs(13))})}function $I(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const a=Object.keys(r);let n;try{ite(r)}catch(i){n=i}return function(s={},o){if(n)throw n;let c=!1;const d={};for(let f=0;f<a.length;f++){const m=a[f],x=r[m],p=s[m],y=x(p,o);if(typeof y>"u")throw o&&o.type,new Error(gs(14));d[m]=y,c=c||y!==p}return c=c||a.length!==Object.keys(s).length,c?d:s}}function Kb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function ste(...e){return t=>(r,a)=>{const n=t(r,a);let i=()=>{throw new Error(gs(15))};const s={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(s));return i=Kb(...o)(n.dispatch),{...n,dispatch:i}}}function HI(e){return t6(e)&&"type"in e&&typeof e.type=="string"}var WI=Symbol.for("immer-nothing"),yO=Symbol.for("immer-draftable"),fl=Symbol.for("immer-state");function Pc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var g1=Object.getPrototypeOf;function Wh(e){return!!e&&!!e[fl]}function Hd(e){var t;return e?VI(e)||Array.isArray(e)||!!e[yO]||!!((t=e.constructor)!=null&&t[yO])||av(e)||sw(e):!1}var ote=Object.prototype.constructor.toString(),bO=new WeakMap;function VI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=bO.get(r);return a===void 0&&(a=Function.toString.call(r),bO.set(r,a)),a===ote}function Gb(e,t,r=!0){iw(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function iw(e){const t=e[fl];return t?t.type_:Array.isArray(e)?1:av(e)?2:sw(e)?3:0}function G3(e,t){return iw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KI(e,t,r){const a=iw(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function lte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function av(e){return e instanceof Map}function sw(e){return e instanceof Set}function oh(e){return e.copy_||e.base_}function Y3(e,t){if(av(e))return new Map(e);if(sw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=VI(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[fl];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const s=n[i],o=a[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(g1(e),a)}else{const a=g1(e);if(a!==null&&r)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function r6(e,t=!1){return ow(e)||Wh(e)||!Hd(e)||(iw(e)>1&&Object.defineProperties(e,{set:Fy,add:Fy,clear:Fy,delete:Fy}),Object.freeze(e),t&&Object.values(e).forEach(r=>r6(r,!0))),e}function cte(){Pc(2)}var Fy={value:cte};function ow(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ute={};function Vh(e){const t=ute[e];return t||Pc(0,e),t}var x1;function GI(){return x1}function dte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wO(e,t){t&&(Vh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X3(e){Q3(e),e.drafts_.forEach(fte),e.drafts_=null}function Q3(e){e===x1&&(x1=e.parent_)}function kO(e){return x1=dte(x1,e)}function fte(e){const t=e[fl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _O(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fl].modified_&&(X3(t),Pc(4)),Hd(e)&&(e=Yb(t,e),t.parent_||Xb(t,e)),t.patches_&&Vh("Patches").generateReplacementPatches_(r[fl].base_,e,t.patches_,t.inversePatches_)):e=Yb(t,r,[]),X3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WI?e:void 0}function Yb(e,t,r){if(ow(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[fl];if(!n)return Gb(t,(i,s)=>SO(e,n,t,i,s,r),a),t;if(n.scope_!==e)return t;if(!n.modified_)return Xb(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),Gb(s,(c,d)=>SO(e,n,i,c,d,r,o),a),Xb(e,i,!1),r&&e.patches_&&Vh("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function SO(e,t,r,a,n,i,s){if(n==null||typeof n!="object"&&!s)return;const o=ow(n);if(!(o&&!s)){if(Wh(n)){const c=i&&t&&t.type_!==3&&!G3(t.assigned_,a)?i.concat(a):void 0,d=Yb(e,n,c);if(KI(r,a,d),Wh(d))e.canAutoFreeze_=!1;else return}else s&&r.add(n);if(Hd(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&o)return;Yb(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(av(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Xb(e,n)}}}function Xb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&r6(t,r)}function hte(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:GI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=a6;r&&(n=[a],i=v1);const{revoke:s,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=s,o}var a6={get(e,t){if(t===fl)return e;const r=oh(e);if(!G3(r,t))return mte(e,r,t);const a=r[t];return e.finalized_||!Hd(a)?a:a===P4(e.base_,t)?(D4(e),e.copy_[t]=Z3(a,e)):a},has(e,t){return t in oh(e)},ownKeys(e){return Reflect.ownKeys(oh(e))},set(e,t,r){const a=YI(oh(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const n=P4(oh(e),t),i=n==null?void 0:n[fl];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(lte(r,n)&&(r!==void 0||G3(e.base_,t)))return!0;D4(e),J3(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return P4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,D4(e),J3(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=oh(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Pc(11)},getPrototypeOf(e){return g1(e.base_)},setPrototypeOf(){Pc(12)}},v1={};Gb(a6,(e,t)=>{v1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});v1.deleteProperty=function(e,t){return v1.set.call(this,e,t,void 0)};v1.set=function(e,t,r){return a6.set.call(this,e[0],t,r,e[0])};function P4(e,t){const r=e[fl];return(r?oh(r):e)[t]}function mte(e,t,r){var n;const a=YI(t,r);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function YI(e,t){if(!(t in e))return;let r=g1(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=g1(r)}}function J3(e){e.modified_||(e.modified_=!0,e.parent_&&J3(e.parent_))}function D4(e){e.copy_||(e.copy_=Y3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...d){return s.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&Pc(6),a!==void 0&&typeof a!="function"&&Pc(7);let n;if(Hd(t)){const i=kO(this),s=Z3(t,void 0);let o=!0;try{n=r(s),o=!1}finally{o?X3(i):Q3(i)}return wO(i,a),_O(n,i)}else if(!t||typeof t!="object"){if(n=r(t),n===void 0&&(n=t),n===WI&&(n=void 0),this.autoFreeze_&&r6(n,!0),a){const i=[],s=[];Vh("Patches").generateReplacementPatches_(t,n,i,s),a(i,s)}return n}else Pc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let a,n;return[this.produce(t,r,(s,o)=>{a=s,n=o}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hd(e)||Pc(8),Wh(e)&&(e=Od(e));const t=kO(this),r=Z3(e,void 0);return r[fl].isManual_=!0,Q3(t),r}finishDraft(e,t){const r=e&&e[fl];(!r||!r.isManual_)&&Pc(9);const{scope_:a}=r;return wO(a,t),_O(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}r>-1&&(t=t.slice(r+1));const a=Vh("Patches").applyPatches_;return Wh(e)?a(e,t):this.produce(e,n=>a(n,t))}};function Z3(e,t){const r=av(e)?Vh("MapSet").proxyMap_(e,t):sw(e)?Vh("MapSet").proxySet_(e,t):hte(e,t);return(t?t.scope_:GI()).drafts_.push(r),r}function Od(e){return Wh(e)||Pc(10,e),XI(e)}function XI(e){if(!Hd(e)||ow(e))return e;const t=e[fl];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Y3(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Y3(e,!0);return Gb(r,(n,i)=>{KI(r,n,XI(i))},a),t&&(t.finalized_=!1),r}var eS=new pte,QI=eS.produce,gte=eS.setUseStrictIteration.bind(eS);function JI(e){return({dispatch:r,getState:a})=>n=>i=>typeof i=="function"?i(r,a,e):n(i)}var xte=JI(),vte=JI,yte=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kb:Kb.apply(null,arguments)};function Gl(e,t){function r(...a){if(t){let n=t(...a);if(!n)throw new Error(ul(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>HI(a)&&a.type===e,r}var ZI=class Ux extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ux.prototype)}static get[Symbol.species](){return Ux}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ux(...t[0].concat(this)):new Ux(...t.concat(this))}};function NO(e){return Hd(e)?QI(e,()=>{}):e}function By(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function bte(e){return typeof e=="boolean"}var wte=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let s=new ZI;return r&&(bte(r)?s.push(xte):s.push(vte(r.extraArgument))),s},eF="RTK_autoBatch",ao=()=>e=>({payload:e,meta:{[eF]:!0}}),jO=e=>t=>{setTimeout(t,e)},tF=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let n=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jO(10):e.type==="callback"?e.queueNotification:jO(e.timeout),d=()=>{s=!1,i&&(i=!1,o.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const m=()=>n&&f(),x=a.subscribe(m);return o.add(f),()=>{x(),o.delete(f)}},dispatch(f){var m;try{return n=!((m=f==null?void 0:f.meta)!=null&&m[eF]),i=!n,i&&(s||(s=!0,c(d))),a.dispatch(f)}finally{n=!0}}})},kte=e=>function(r){const{autoBatch:a=!0}=r??{};let n=new ZI(e);return a&&n.push(tF(typeof a=="object"?a:void 0)),n};function _te(e){const t=wte(),{reducer:r=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(t6(r))o=$I(r);else throw new Error(ul(1));let c;typeof a=="function"?c=a(t):c=t();let d=Kb;n&&(d=yte({trace:!1,...typeof n=="object"&&n}));const f=ste(...c),m=kte(f);let x=typeof s=="function"?s(m):m();const p=d(...x);return qI(o,i,p)}function rF(e){const t={},r=[];let a;const n={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ul(28));if(o in t)throw new Error(ul(29));return t[o]=s,n},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),n},addMatcher(i,s){return r.push({matcher:i,reducer:s}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,r,a]}gte(!1);function Ste(e){return typeof e=="function"}function Nte(e,t){let[r,a,n]=rF(t),i;if(Ste(e))i=()=>NO(e());else{const o=NO(e);i=()=>o}function s(o=i(),c){let d=[r[c.type],...a.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[n]),d.reduce((f,m)=>{if(m)if(Wh(f)){const p=m(f,c);return p===void 0?f:p}else{if(Hd(f))return QI(f,x=>m(x,c));{const x=m(f,c);if(x===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return f},o)}return s.getInitialState=i,s}var jte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ate=(e=21)=>{let t="",r=e;for(;r--;)t+=jte[Math.random()*64|0];return t},Tte=Symbol.for("rtk-slice-createasyncthunk");function Ete(e,t){return`${e}/${t}`}function Cte({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Tte];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(ul(11));const o=(typeof n.reducers=="function"?n.reducers(Pte()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(T,L){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(ul(12));if(D in d.sliceCaseReducersByType)throw new Error(ul(13));return d.sliceCaseReducersByType[D]=L,f},addMatcher(T,L){return d.sliceMatchers.push({matcher:T,reducer:L}),f},exposeAction(T,L){return d.actionCreators[T]=L,f},exposeCaseReducer(T,L){return d.sliceCaseReducersByName[T]=L,f}};c.forEach(T=>{const L=o[T],D={reducerName:T,type:Ete(i,T),createNotation:typeof n.reducers=="function"};Lte(L)?Rte(D,L,f,t):Dte(D,L,f)});function m(){const[T={},L=[],D=void 0]=typeof n.extraReducers=="function"?rF(n.extraReducers):[n.extraReducers],R={...T,...d.sliceCaseReducersByType};return Nte(n.initialState,U=>{for(let F in R)U.addCase(F,R[F]);for(let F of d.sliceMatchers)U.addMatcher(F.matcher,F.reducer);for(let F of L)U.addMatcher(F.matcher,F.reducer);D&&U.addDefaultCase(D)})}const x=T=>T,p=new Map,y=new WeakMap;let v;function b(T,L){return v||(v=m()),v(T,L)}function k(){return v||(v=m()),v.getInitialState()}function N(T,L=!1){function D(U){let F=U[T];return typeof F>"u"&&L&&(F=By(y,D,k)),F}function R(U=x){const F=By(p,L,()=>new WeakMap);return By(F,U,()=>{const W={};for(const[O,M]of Object.entries(n.selectors??{}))W[O]=Ote(M,U,()=>By(y,U,k),L);return W})}return{reducerPath:T,getSelectors:R,get selectors(){return R(D)},selectSlice:D}}const _={name:i,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:k,...N(s),injectInto(T,{reducerPath:L,...D}={}){const R=L??s;return T.inject({reducerPath:R,reducer:b},D),{..._,...N(R,!0)}}};return _}}function Ote(e,t,r,a){function n(i,...s){let o=t(i);return typeof o>"u"&&a&&(o=r()),e(o,...s)}return n.unwrapped=e,n}var ml=Cte();function Pte(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Dte({type:e,reducerName:t,createNotation:r},a,n){let i,s;if("reducer"in a){if(r&&!Mte(a))throw new Error(ul(17));i=a.reducer,s=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Gl(e,s):Gl(e))}function Lte(e){return e._reducerDefinitionType==="asyncThunk"}function Mte(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Rte({type:e,reducerName:t},r,a,n){if(!n)throw new Error(ul(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:d,options:f}=r,m=n(e,i,f);a.exposeAction(t,m),s&&a.addCase(m.fulfilled,s),o&&a.addCase(m.pending,o),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:s||Uy,pending:o||Uy,rejected:c||Uy,settled:d||Uy})}function Uy(){}var Ite="task",aF="listener",nF="completed",n6="cancelled",Fte=`task-${n6}`,Bte=`task-${nF}`,tS=`${aF}-${n6}`,Ute=`${aF}-${nF}`,lw=class{constructor(e){da(this,"name","TaskAbortError");da(this,"message");this.code=e,this.message=`${Ite} ${n6} (reason: ${e})`}},i6=(e,t)=>{if(typeof e!="function")throw new TypeError(ul(32))},Qb=()=>{},iF=(e,t=Qb)=>(e.catch(t),e),sF=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ch=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Oh=e=>{if(e.aborted){const{reason:t}=e;throw new lw(t)}};function oF(e,t){let r=Qb;return new Promise((a,n)=>{const i=()=>n(new lw(e.reason));if(e.aborted){i();return}r=sF(e,i),t.finally(()=>r()).then(a,n)}).finally(()=>{r=Qb})}var zte=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof lw?"cancelled":"rejected",error:r}}finally{t==null||t()}},Jb=e=>t=>iF(oF(e,t).then(r=>(Oh(e),r))),lF=e=>{const t=Jb(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Rp}=Object,AO={},cw="listenerMiddleware",qte=(e,t)=>{const r=a=>sF(e,()=>Ch(a,e.reason));return(a,n)=>{i6(a);const i=new AbortController;r(i);const s=zte(async()=>{Oh(e),Oh(i.signal);const o=await a({pause:Jb(i.signal),delay:lF(i.signal),signal:i.signal});return Oh(i.signal),o},()=>Ch(i,Bte));return n!=null&&n.autoJoin&&t.push(s.catch(Qb)),{result:Jb(e)(s),cancel(){Ch(i,Fte)}}}},$te=(e,t)=>{const r=async(a,n)=>{Oh(t);let i=()=>{};const o=[new Promise((c,d)=>{let f=e({predicate:a,effect:(m,x)=>{x.unsubscribe(),c([m,x.getState(),x.getOriginalState()])}});i=()=>{f(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await oF(t,Promise.race(o));return Oh(t),c}finally{i()}};return(a,n)=>iF(r(a,n))},cF=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:i}=e;if(t)n=Gl(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(!n)throw new Error(ul(21));return i6(i),{predicate:n,type:t,effect:i}},uF=Rp(e=>{const{type:t,predicate:r,effect:a}=cF(e);return{id:Ate(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ul(22))}}},{withTypes:()=>uF}),TO=(e,t)=>{const{type:r,effect:a,predicate:n}=cF(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===n)&&i.effect===a)},rS=e=>{e.pending.forEach(t=>{Ch(t,tS)})},Hte=(e,t)=>()=>{for(const r of t.keys())rS(r);e.clear()},EO=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},dF=Rp(Gl(`${cw}/add`),{withTypes:()=>dF}),Wte=Gl(`${cw}/removeAll`),fF=Rp(Gl(`${cw}/remove`),{withTypes:()=>fF}),Vte=(...e)=>{console.error(`${cw}/error`,...e)},nv=(e={})=>{const t=new Map,r=new Map,a=p=>{const y=r.get(p)??0;r.set(p,y+1)},n=p=>{const y=r.get(p)??1;y===1?r.delete(p):r.set(p,y-1)},{extra:i,onError:s=Vte}=e;i6(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),y=>{p.unsubscribe(),y!=null&&y.cancelActive&&rS(p)}),c=p=>{const y=TO(t,p)??uF(p);return o(y)};Rp(c,{withTypes:()=>c});const d=p=>{const y=TO(t,p);return y&&(y.unsubscribe(),p.cancelActive&&rS(y)),!!y};Rp(d,{withTypes:()=>d});const f=async(p,y,v,b)=>{const k=new AbortController,N=$te(c,k.signal),_=[];try{p.pending.add(k),a(p),await Promise.resolve(p.effect(y,Rp({},v,{getOriginalState:b,condition:(T,L)=>N(T,L).then(Boolean),take:N,delay:lF(k.signal),pause:Jb(k.signal),extra:i,signal:k.signal,fork:qte(k.signal,_),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((T,L,D)=>{T!==k&&(Ch(T,tS),D.delete(T))})},cancel:()=>{Ch(k,tS),p.pending.delete(k)},throwIfCancelled:()=>{Oh(k.signal)}})))}catch(T){T instanceof lw||EO(s,T,{raisedBy:"effect"})}finally{await Promise.all(_),Ch(k,Ute),n(p),p.pending.delete(k)}},m=Hte(t,r);return{middleware:p=>y=>v=>{if(!HI(v))return y(v);if(dF.match(v))return c(v.payload);if(Wte.match(v)){m();return}if(fF.match(v))return d(v.payload);let b=p.getState();const k=()=>{if(b===AO)throw new Error(ul(23));return b};let N;try{if(N=y(v),t.size>0){const _=p.getState(),T=Array.from(t.values());for(const L of T){let D=!1;try{D=L.predicate(v,_,b)}catch(R){D=!1,EO(s,R,{raisedBy:"predicate"})}D&&f(L,v,p,k)}}}finally{b=AO}return N},startListening:c,stopListening:d,clearListeners:m}};function ul(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hF=ml({name:"chartLayout",initialState:Kte,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,n,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Gte,setLayout:Yte,setChartSize:Xte,setScale:Qte}=hF.actions,Jte=hF.reducer;function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(a){Zte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zte(e,t,r){return(t=ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zb=Math.PI/180,rre=e=>e*180/Math.PI,yi=(e,t,r,a)=>({x:e+Math.cos(-Zb*a)*r,y:t+Math.sin(-Zb*a)*r}),mF=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},are=(e,t)=>{var{x:r,y:a}=e,{x:n,y:i}=t;return Math.sqrt((r-n)**2+(a-i)**2)},nre=(e,t)=>{var{x:r,y:a}=e,{cx:n,cy:i}=t,s=are({x:r,y:a},{x:n,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-n)/s,c=Math.acos(o);return a>i&&(c=2*Math.PI-c),{radius:s,angle:rre(c),angleInRadian:c}},ire=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),n=Math.floor(r/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:r-i*360}},sre=(e,t)=>{var{startAngle:r,endAngle:a}=t,n=Math.floor(r/360),i=Math.floor(a/360),s=Math.min(n,i);return e+s*360},ore=(e,t)=>{var{x:r,y:a}=e,{radius:n,angle:i}=nre({x:r,y:a},t),{innerRadius:s,outerRadius:o}=t;if(n<s||n>o||n===0)return null;var{startAngle:c,endAngle:d}=ire(t),f=i,m;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;m=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=c}return m?OO(OO({},t),{},{radius:n,angle:sre(f,t)}):null};function pF(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(a){lre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lre(e,t,r){return(t=cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=ure(e,"string");return typeof t=="symbol"?t:t+""}function ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $a(e,t,r){return un(e)||un(t)?r:Ou(t)?Hh(e,t,r):typeof t=="function"?t(e):r}var dre=(e,t,r,a,n)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,f=r[c].coordinate,m=c>=o-1?r[0].coordinate:r[c+1].coordinate,x=void 0;if(as(f-d)!==as(m-f)){var p=[];if(as(m-f)===as(n[1]-n[0])){x=m;var y=f+n[1]-n[0];p[0]=Math.min(y,(y+d)/2),p[1]=Math.max(y,(y+d)/2)}else{x=d;var v=m+n[1]-n[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:s}=r[c]);break}}else{var k=Math.min(d,m),N=Math.max(d,m);if(e>(k+f)/2&&e<=(N+f)/2){({index:s}=r[c]);break}}}else if(t){for(var _=0;_<o;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:s}=t[_]);break}}return s},fre=(e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Ht(e[i]))return Hl(Hl({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Ht(e[s]))return Hl(Hl({},e),{},{[s]:e[s]+(n||0)})}return e},Ru=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",gF=(e,t,r,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,s=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===r&&(i=!0),o.coordinate));return n||s.push(t),i||s.push(r),s},xF=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:m,niceTicks:x,axisType:p}=e;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=n==="category"&&s.bandwidth?s.bandwidth()/y:0;if(v=p==="angleAxis"&&i&&i.length>=2?as(i[0]-i[1])*2*v:v,m||x){var b=(m||x||[]).map((k,N)=>{var _=a?a.indexOf(k):k;return{coordinate:s(_)+v,value:k,offset:v,index:N}});return b.filter(k=>!dl(k.coordinate))}return c&&d?d.map((k,N)=>({coordinate:s(k)+v,value:k,index:N,offset:v})):s.ticks&&f!=null?s.ticks(f).map((k,N)=>({coordinate:s(k)+v,value:k,offset:v,index:N})):s.domain().map((k,N)=>({coordinate:s(k)+v,value:a?a[k]:k,index:N,offset:v}))},DO=1e-4,hre=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-DO,i=Math.max(a[0],a[1])+DO,s=e(t[0]),o=e(t[r-1]);(s<n||s>i||o<n||o>i)&&e.domain([t[0],t[r-1]])}},mre=(e,t)=>{if(!t||t.length!==2||!Ht(t[0])||!Ht(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Ht(e[0])||e[0]<r)&&(n[0]=r),(!Ht(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n},pre=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0,s=0;s<t;++s){var o=dl(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=n,e[s][r][1]=n+o,n=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},gre=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0;i<t;++i){var s=dl(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=n,e[i][r][1]=n+s,n=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},xre={sign:pre,expand:zZ,none:og,silhouette:qZ,wiggle:$Z,positive:gre},vre=(e,t,r)=>{var a=xre[r],n=UZ().keys(t).value((i,s)=>+$a(i,s,0)).order(W3).offset(a);return n(e)};function vF(e){return e==null?void 0:String(e)}function e2(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!un(n[t.dataKey])){var o=NI(r,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=$a(n,un(s)?t.dataKey:s);return un(c)?null:t.scale(c)}var LO=e=>{var{axis:t,ticks:r,offset:a,bandSize:n,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+a:null;var o=$a(i,t.dataKey,t.scale.domain()[s]);return un(o)?null:t.scale(o)-n/2+a},yre=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]},bre=e=>{var t=e.flat(2).filter(Ht);return[Math.min(...t),Math.max(...t)]},wre=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kre=(e,t,r)=>{if(e!=null)return wre(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:s}=i,o=s.reduce((c,d)=>{var f=pF(d,t,r),m=bre(f);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},MO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=nw(t,f=>f.coordinate),i=1/0,s=1,o=n.length;s<o;s++){var c=n[s],d=n[s-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function IO(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:i}=e;return Hl(Hl({},t),{},{dataKey:r,payload:a,value:n,name:i})}function _f(e,t){if(e)return String(e);if(typeof t=="string")return t}function _re(e,t,r,a,n){if(r==="horizontal"||r==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return a?ore({x:e,y:t},a):null}var Sre=(e,t,r,a)=>{var n=t.find(d=>d&&d.index===r);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:s}=a;return Hl(Hl(Hl({},a),yi(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var o=n.coordinate,{angle:c}=a;return Hl(Hl(Hl({},a),yi(a.cx,a.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},Nre=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Jd=e=>e.layout.width,Zd=e=>e.layout.height,jre=e=>e.layout.scale,yF=e=>e.layout.margin,uw=Ze(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),dw=Ze(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),bF="data-recharts-item-index",wF="data-recharts-item-data-key",iv=60;function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(a){Are(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Are(e,t,r){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cre=e=>e.brush.height;function Ore(e){var t=dw(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:iv;return r+n}return r},0)}function Pre(e){var t=dw(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:iv;return r+n}return r},0)}function Dre(e){var t=uw(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function Lre(e){var t=uw(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var Ui=Ze([Jd,Zd,yF,Cre,Ore,Pre,Dre,Lre,UI,Zee],(e,t,r,a,n,i,s,o,c,d)=>{var f={left:(r.left||0)+n,right:(r.right||0)+i},m={top:(r.top||0)+s,bottom:(r.bottom||0)+o},x=zy(zy({},m),f),p=x.bottom;x.bottom+=a,x=fre(x,c,d);var y=e-x.left-x.right,v=t-x.top-x.bottom;return zy(zy({brushBottom:p},x),{},{width:Math.max(y,0),height:Math.max(v,0)})}),Mre=Ze(Ui,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),s6=Ze(Jd,Zd,(e,t)=>({x:0,y:0,width:e,height:t})),Rre=j.createContext(null),bs=()=>j.useContext(Rre)!=null,fw=e=>e.brush,hw=Ze([fw,Ui,yF],(e,t,r)=>({height:e.height,x:Ht(e.x)?e.x:t.left,y:Ht(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ht(e.width)?e.width:t.width})),L4={},M4={},R4={},BO;function Ire(){return BO||(BO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:n,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),f=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},m=()=>{d&&f(),v()};let x=null;const p=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},a)},y=()=>{x!==null&&(clearTimeout(x),x=null)},v=()=>{y(),s=void 0,o=null},b=()=>{f()},k=function(...N){if(n!=null&&n.aborted)return;s=this,o=N;const _=x==null;p(),c&&_&&f()};return k.schedule=p,k.cancel=v,k.flush=b,n==null||n.addEventListener("abort",v,{once:!0}),k}e.debounce=t})(R4)),R4}var UO;function Fre(){return UO||(UO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ire();function r(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);s&&(d[0]="leading"),o&&(d[1]="trailing");let f,m=null;const x=t.debounce(function(...v){f=a.apply(this,v),m=null},n,{edges:d}),p=function(...v){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(f=a.apply(this,v),m=Date.now(),x.cancel(),x.schedule(),f):(x.apply(this,v),f)},y=()=>(x.flush(),f);return p.cancel=x.cancel,p.flush=y,p}e.debounce=r})(M4)),M4}var zO;function Bre(){return zO||(zO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fre();function r(a,n=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(a,n,{leading:s,maxWait:n,trailing:o})}e.throttle=r})(L4)),L4}var I4,qO;function Ure(){return qO||(qO=1,I4=Bre().throttle),I4}var zre=Ure();const qre=Uc(zre);var t2=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},kF=(e,t,r)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:s}=r,o=$d(a)?e:Number(a),c=$d(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),s&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},$re={width:0,height:0,overflow:"visible"},Hre={width:0,overflowX:"visible"},Wre={height:0,overflowY:"visible"},Vre={},Kre=e=>{var{width:t,height:r}=e,a=$d(t),n=$d(r);return a&&n?$re:a?Hre:n?Wre:Vre};function Gre(e){var{width:t,height:r,aspect:a}=e,n=t,i=r;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function ki(e){return Number.isFinite(e)}function lg(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aS.apply(null,arguments)}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(a){Yre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yre(e,t,r){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xre(e){var t=Qre(e,"string");return typeof t=="symbol"?t:t+""}function Qre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _F=j.createContext({width:-1,height:-1});function SF(e){var{children:t,width:r,height:a}=e,n=j.useMemo(()=>({width:r,height:a}),[r,a]);return r<=0||a<=0?null:j.createElement(_F.Provider,{value:n},t)}var o6=()=>j.useContext(_F),Jre=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:s=0,minHeight:o,maxHeight:c,children:d,debounce:f=0,id:m,className:x,onResize:p,style:y={}}=e,v=j.useRef(null),b=j.useRef();b.current=p,j.useImperativeHandle(t,()=>v.current);var[k,N]=j.useState({containerWidth:a.width,containerHeight:a.height}),_=j.useCallback((U,F)=>{N(W=>{var O=Math.round(U),M=Math.round(F);return W.containerWidth===O&&W.containerHeight===M?W:{containerWidth:O,containerHeight:M}})},[]);j.useEffect(()=>{var U=M=>{var H,{width:Y,height:ne}=M[0].contentRect;_(Y,ne),(H=b.current)===null||H===void 0||H.call(b,Y,ne)};f>0&&(U=qre(U,f,{trailing:!0,leading:!1}));var F=new ResizeObserver(U),{width:W,height:O}=v.current.getBoundingClientRect();return _(W,O),F.observe(v.current),()=>{F.disconnect()}},[_,f]);var{containerWidth:T,containerHeight:L}=k;t2(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:R}=kF(T,L,{width:n,height:i,aspect:r,maxHeight:c});return t2(D>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,R,n,i,s,o,r),j.createElement("div",{id:m?"".concat(m):void 0,className:Br("recharts-responsive-container",x),style:HO(HO({},y),{},{width:n,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:v},j.createElement("div",{style:Kre({width:n,height:i})},j.createElement(SF,{width:D,height:R},d)))}),Su=j.forwardRef((e,t)=>{var r=o6();if(lg(r.width)&&lg(r.height))return e.children;var{width:a,height:n}=Gre({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=kF(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Ht(i)&&Ht(s)?j.createElement(SF,{width:i,height:s},e.children):j.createElement(Jre,aS({},e,{width:a,height:n,ref:t}))}),mw=()=>{var e,t=bs(),r=Vt(Mre),a=Vt(hw),n=(e=Vt(fw))===null||e===void 0?void 0:e.padding;return!t||!a||!n?r:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},Zre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NF=()=>{var e;return(e=Vt(Ui))!==null&&e!==void 0?e:Zre},l6=()=>Vt(Jd),c6=()=>Vt(Zd),eae=()=>Vt(e=>e.layout.margin),Qr=e=>e.layout.layoutType,sv=()=>Vt(Qr),pw=e=>{var t=kn(),r=bs(),{width:a,height:n}=e,i=o6(),s=a,o=n;return i&&(s=i.width>0?i.width:a,o=i.height>0?i.height:n),j.useEffect(()=>{!r&&lg(s)&&lg(o)&&t(Xte({width:s,height:o}))},[t,r,s,o]),null},tae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jF=ml({name:"legend",initialState:tae,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ao()},removeLegendPayload:{reducer(e,t){var r=Od(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ao()}}}),{setLegendSize:WO,setLegendSettings:rae,addLegendPayload:AF,removeLegendPayload:TF}=jF.actions,aae=jF.reducer,nae=["contextPayload"];function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nS.apply(null,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(a){u6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function u6(e,t,r){return(t=iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oae(e,t){if(e==null)return{};var r,a,n=lae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function lae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function cae(e){return e.value}function uae(e){var{contextPayload:t}=e,r=oae(e,nae),a=RI(t,e.payloadUniqBy,cae),n=cg(cg({},r),{},{payload:a});return j.isValidElement(e.content)?j.cloneElement(e.content,n):typeof e.content=="function"?j.createElement(e.content,n):j.createElement(JN,n)}function dae(e,t,r,a,n,i){var{layout:s,align:o,verticalAlign:c}=t,d,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?d={left:((a||0)-i.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?f={top:((n||0)-i.height)/2}:f=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),cg(cg({},d),f)}function fae(e){var t=kn();return j.useEffect(()=>{t(rae(e))},[t,e]),null}function hae(e){var t=kn();return j.useEffect(()=>(t(WO(e)),()=>{t(WO({width:0,height:0}))}),[t,e]),null}function mae(e){var t=rte(),r=uZ(),a=eae(),{width:n,height:i,wrapperStyle:s,portal:o}=e,[c,d]=zI([t]),f=l6(),m=c6();if(f==null||m==null)return null;var x=f-(a.left||0)-(a.right||0),p=Gh.getWidthOrHeight(e.layout,i,n,x),y=o?s:cg(cg({position:"absolute",width:(p==null?void 0:p.width)||n||"auto",height:(p==null?void 0:p.height)||i||"auto"},dae(s,e,a,f,m,c)),s),v=o??r;if(v==null)return null;var b=j.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},j.createElement(fae,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(hae,{width:c.width,height:c.height}),j.createElement(uae,nS({},e,p,{margin:a,chartWidth:f,chartHeight:m,contextPayload:t})));return TM.createPortal(b,v)}class Gh extends j.PureComponent{static getWidthOrHeight(t,r,a,n){return t==="vertical"&&Ht(r)?{height:r}:t==="horizontal"?{width:a||n}:null}render(){return j.createElement(mae,this.props)}}u6(Gh,"displayName","Legend");u6(Gh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iS.apply(null,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(a){pae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pae(e,t,r){return(t=gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vae(e){return Array.isArray(e)&&Ou(e[0])&&Ou(e[1])?e.join(" ~ "):e}var yae=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:n={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:x=!1}=e,p=()=>{if(i&&i.length){var L={padding:0,margin:0},D=(o?nw(i,o):i).map((R,U)=>{if(R.type==="none")return null;var F=R.formatter||s||vae,{value:W,name:O}=R,M=W,H=O;if(F){var Y=F(W,O,R,U,i);if(Array.isArray(Y))[M,H]=Y;else if(Y!=null)M=Y;else return null}var ne=F4({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},a);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:ne},Ou(H)?j.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ou(H)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},M),j.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:L},D)}return null},y=F4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=F4({margin:0},n),b=!un(f),k=b?f:"",N=Br("recharts-default-tooltip",c),_=Br("recharts-tooltip-label",d);b&&m&&i!==void 0&&i!==null&&(k=m(f,i));var T=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",iS({className:N,style:y},T),j.createElement("p",{className:_,style:v},j.isValidElement(k)?k:"".concat(k)),p())},jx="recharts-tooltip-wrapper",bae={visibility:"hidden"};function wae(e){var{coordinate:t,translateX:r,translateY:a}=e;return Br(jx,{["".concat(jx,"-right")]:Ht(r)&&t&&Ht(t.x)&&r>=t.x,["".concat(jx,"-left")]:Ht(r)&&t&&Ht(t.x)&&r<t.x,["".concat(jx,"-bottom")]:Ht(a)&&t&&Ht(t.y)&&a>=t.y,["".concat(jx,"-top")]:Ht(a)&&t&&Ht(t.y)&&a<t.y})}function GO(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&Ht(i[a]))return i[a];var f=r[a]-o-(n>0?n:0),m=r[a]+n;if(t[a])return s[a]?f:m;var x=c[a];if(x==null)return 0;if(s[a]){var p=f,y=x;return p<y?Math.max(m,x):Math.max(f,x)}if(d==null)return 0;var v=m+o,b=x+d;return v>b?Math.max(f,x):Math.max(m,x)}function kae(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _ae(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,d,f,m;return s.height>0&&s.width>0&&r?(f=GO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=GO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=kae({translateX:f,translateY:m,useTranslate3d:o})):d=bae,{cssProperties:d,cssClasses:wae({translateX:f,translateY:m,coordinate:r})}}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(a){sS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sS(e,t,r){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=Nae(e,"string");return typeof t=="symbol"?t:t+""}function Nae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jae extends j.PureComponent{constructor(){super(...arguments),sS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),sS(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:n,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:d,position:f,reverseDirection:m,useTranslate3d:x,viewBox:p,wrapperStyle:y,lastBoundingBox:v,innerRef:b,hasPortalFromProps:k}=this.props,{cssClasses:N,cssProperties:_}=_ae({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:x,viewBox:p}),T=k?{}:qy(qy({transition:c&&t?"transform ".concat(a,"ms ").concat(n):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),L=qy(qy({},T),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},y);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:L,ref:b},i)}}var Aae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),e0={devToolsEnabled:!1,isSsr:Aae()},EF=()=>Vt(e=>e.rootProps.accessibilityLayer);function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oS.apply(null,arguments)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(a){Tae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tae(e,t,r){return(t=Eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eae(e){var t=Cae(e,"string");return typeof t=="symbol"?t:t+""}function Cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JO={curveBasisClosed:EZ,curveBasisOpen:CZ,curveBasis:TZ,curveBumpX:mZ,curveBumpY:pZ,curveLinearClosed:OZ,curveLinear:rw,curveMonotoneX:PZ,curveMonotoneY:DZ,curveNatural:LZ,curveStep:MZ,curveStepAfter:IZ,curveStepBefore:RZ},$y=e=>ki(e.x)&&ki(e.y),Ax=e=>e.x,Tx=e=>e.y,Oae=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(tv(e));return(r==="curveMonotone"||r==="curveBump")&&t?JO["".concat(r).concat(t==="vertical"?"Y":"X")]:JO[r]||rw},Pae=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:n,connectNulls:i=!1}=e,s=Oae(t,n),o=i?r.filter($y):r,c;if(Array.isArray(a)){var d=i?a.filter(m=>$y(m)):a,f=o.map((m,x)=>QO(QO({},m),{},{base:d[x]}));return n==="vertical"?c=My().y(Tx).x1(Ax).x0(m=>m.base.x):c=My().x(Ax).y1(Tx).y0(m=>m.base.y),c.defined($y).curve(s),c(f)}return n==="vertical"&&Ht(a)?c=My().y(Tx).x1(Ax).x0(a):Ht(a)?c=My().x(Ax).y1(Tx).y0(a):c=fI().x(Ax).y(Tx),c.defined($y).curve(s),c(o)},Ip=e=>{var{className:t,points:r,path:a,pathRef:n}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?Pae(e):a;return j.createElement("path",oS({},lo(e),XN(e),{className:Br("recharts-curve",t),d:i===null?void 0:i,ref:n}))},Dae=["x","y","top","left","width","height","className"];function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},lS.apply(null,arguments)}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Lae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(a){Mae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mae(e,t,r){return(t=Rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fae(e,t){if(e==null)return{};var r,a,n=Bae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Uae=(e,t,r,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),zae=e=>{var{x:t=0,y:r=0,top:a=0,left:n=0,width:i=0,height:s=0,className:o}=e,c=Fae(e,Dae),d=Lae({x:t,y:r,top:a,left:n,width:i,height:s},c);return!Ht(t)||!Ht(r)||!Ht(i)||!Ht(s)||!Ht(a)||!Ht(n)?null:j.createElement("path",lS({},co(d),{className:Br("recharts-cross",o),d:Uae(t,r,i,s,a,n)}))};function qae(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function $ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(a){Hae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hae(e,t,r){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wae(e){var t=Vae(e,"string");return typeof t=="symbol"?t:t+""}function Vae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(e,t){var r=$ae({},e),a=t,n=Object.keys(t),i=n.reduce((s,o)=>(s[o]===void 0&&a[o]!==void 0&&(s[o]=a[o]),s),r);return i}function Kae(){}function Gae(e){return e!=null}function t7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function r7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(r),!0).forEach(function(a){Yae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Yae(e,t,r){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CF=(e,t,r)=>e.map(a=>"".concat(Jae(a)," ").concat(t,"ms ").concat(r)).join(","),Zae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(n=>a.includes(n))),y1=(e,t)=>Object.keys(t).reduce((r,a)=>r7(r7({},r),{},{[a]:e(a,t[a])}),{});function a7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a7(Object(r),!0).forEach(function(a){ene(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ene(e,t,r){return(t=tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tne(e){var t=rne(e,"string");return typeof t=="symbol"?t:t+""}function rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2=(e,t,r)=>e+(t-e)*r,cS=e=>{var{from:t,to:r}=e;return t!==r},OF=(e,t,r)=>{var a=y1((n,i)=>{if(cS(i)){var[s,o]=e(i.from,i.to,i.velocity);return xs(xs({},i),{},{from:s,velocity:o})}return i},t);return r<1?y1((n,i)=>cS(i)?xs(xs({},i),{},{velocity:r2(i.velocity,a[n].velocity,r),from:r2(i.from,a[n].from,r)}):i,t):OF(e,a,r-1)};function ane(e,t,r,a,n,i){var s,o=a.reduce((x,p)=>xs(xs({},x),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>y1((x,p)=>p.from,o),d=()=>!Object.values(o).filter(cS).length,f=null,m=x=>{s||(s=x);var p=x-s,y=p/r.dt;o=OF(r,o,y),n(xs(xs(xs({},e),t),c())),s=x,d()||(f=i.setTimeout(m))};return()=>(f=i.setTimeout(m),()=>{f()})}function nne(e,t,r,a,n,i,s){var o=null,c=n.reduce((m,x)=>xs(xs({},m),{},{[x]:[e[x],t[x]]}),{}),d,f=m=>{d||(d=m);var x=(m-d)/a,p=y1((v,b)=>r2(...b,r(x)),c);if(i(xs(xs(xs({},e),t),p)),x<1)o=s.setTimeout(f);else{var y=y1((v,b)=>r2(...b,r(1)),c);i(xs(xs(xs({},e),t),y))}};return()=>(o=s.setTimeout(f),()=>{o()})}const ine=(e,t,r,a,n,i)=>{var s=Zae(e,t);return r.isStepper===!0?ane(e,t,r,s,n,i):nne(e,t,r,a,s,n,i)};var a2=1e-4,PF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DF=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),n7=(e,t)=>r=>{var a=PF(e,t);return DF(a,r)},sne=(e,t)=>r=>{var a=PF(e,t),n=[...a.map((i,s)=>i*s).slice(1),0];return DF(n,r)},i7=function(){for(var t,r,a,n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,a,r,n]=[0,0,1,1];break;case"ease":[t,a,r,n]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,n]=[.42,0,1,1];break;case"ease-out":[t,a,r,n]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,n]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,a,r,n]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([t,a,r,n]=s);var d=n7(t,r),f=n7(a,n),m=sne(t,r),x=y=>y>1?1:y<0?0:y,p=y=>{for(var v=y>1?1:y,b=v,k=0;k<8;++k){var N=d(b)-v,_=m(b);if(Math.abs(N-v)<a2||_<a2)return f(b);b=x(b-N/_)}return f(b)};return p.isStepper=!1,p},one=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:n=17}=t,i=(s,o,c)=>{var d=-(s-o)*r,f=c*a,m=c+(d-f)*n/1e3,x=c*n/1e3+s;return Math.abs(x-o)<a2&&Math.abs(m)<a2?[o,0]:[x,m]};return i.isStepper=!0,i.dt=n,i},lne=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i7(e);case"spring":return one();default:if(e.split("(")[0]==="cubic-bezier")return i7(e)}return typeof e=="function"?e:null};function cne(e){var t,r=()=>null,a=!1,n=null,i=s=>{if(!a){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{a=!0},start:s=>{a=!1,n&&(n(),n=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class une{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=s=>{s-a>=r?t(s):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function dne(){return cne(new une)}var fne=j.createContext(dne);function hne(e,t){var r=j.useContext(fne);return j.useMemo(()=>t??r(e),[e,t,r])}var mne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},s7={t:0},B4={t:1};function _g(e){var t=zi(e,mne),{isActive:r,canBegin:a,duration:n,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:d}=t,f=hne(t.animationId,t.animationManager),[m,x]=j.useState(r?s7:B4),p=j.useRef(null);return j.useEffect(()=>{r||x(B4)},[r]),j.useEffect(()=>{if(!r||!a)return Kae;var y=ine(s7,B4,lne(i),n,x,f.getTimeoutController()),v=()=>{p.current=y()};return f.start([c,s,v,n,o]),()=>{f.stop(),p.current&&p.current(),o()}},[r,a,n,i,s,c,o,f]),d(m.t)}function Sg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(p1(t)),a=j.useRef(e);return a.current!==e&&(r.current=p1(t),a.current=e),r.current}var pne=["radius"],gne=["radius"];function o7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function l7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o7(Object(r),!0).forEach(function(a){xne(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xne(e,t,r){return(t=vne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n2.apply(null,arguments)}function c7(e,t){if(e==null)return{};var r,a,n=bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bne(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var u7=(e,t,r,a,n)=>{var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),s=a>=0?1:-1,o=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,d;if(i>0&&n instanceof Array){for(var f=[0,0,0,0],m=0,x=4;m<x;m++)f[m]=n[m]>i?i:n[m];d="M".concat(e,",").concat(t+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+o*f[0],",").concat(t)),d+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*f[1])),d+="L ".concat(e+r,",").concat(t+a-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-o*f[2],",").concat(t+a)),d+="L ".concat(e+o*f[3],",").concat(t+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-s*f[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var p=Math.min(i,n);d="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+a-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+a,`
            L `).concat(e+o*p,",").concat(t+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+a-s*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},wne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LF=e=>{var t=zi(e,wne),r=j.useRef(null),[a,n]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var re=r.current.getTotalLength();re&&n(re)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:d,className:f}=t,{animationEasing:m,animationDuration:x,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:v}=t,b=j.useRef(o),k=j.useRef(c),N=j.useRef(i),_=j.useRef(s),T=j.useMemo(()=>({x:i,y:s,width:o,height:c,radius:d}),[i,s,o,c,d]),L=Sg(T,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var D=Br("recharts-rectangle",f);if(!v){var R=co(t),{radius:U}=R,F=c7(R,pne);return j.createElement("path",n2({},F,{radius:typeof d=="number"?d:void 0,className:D,d:u7(i,s,o,c,d)}))}var W=b.current,O=k.current,M=N.current,H=_.current,Y="0px ".concat(a===-1?1:a,"px"),ne="".concat(a,"px 0px"),X=CF(["strokeDasharray"],x,typeof m=="string"?m:void 0);return j.createElement(_g,{animationId:L,key:L,canBegin:a>0,duration:x,easing:m,isActive:v,begin:p},re=>{var fe=qa(W,o,re),ce=qa(O,c,re),ke=qa(M,i,re),Z=qa(H,s,re);r.current&&(b.current=fe,k.current=ce,N.current=ke,_.current=Z);var P;y?re>0?P={transition:X,strokeDasharray:ne}:P={strokeDasharray:Y}:P={strokeDasharray:ne};var q=co(t),{radius:V}=q,z=c7(q,gne);return j.createElement("path",n2({},z,{radius:typeof d=="number"?d:void 0,className:D,d:u7(ke,Z,fe,ce,d),ref:r,style:l7(l7({},P),t.style)}))})};function MF(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:i}=e,s=yi(t,r,a,n),o=yi(t,r,a,i);return{points:[s,o],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function uS(){return uS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},uS.apply(null,arguments)}var kne=(e,t)=>{var r=as(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Hy=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,d=o*(s?1:-1)+a,f=Math.asin(o/d)/Zb,m=c?n:n+i*f,x=yi(t,r,d,m),p=yi(t,r,a,m),y=c?n-i*f:n,v=yi(t,r,d*Math.cos(f*Zb),y);return{center:x,circleTangency:p,lineTangency:v,theta:f}},RF=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:i,endAngle:s}=e,o=kne(i,s),c=i+o,d=yi(t,r,n,i),f=yi(t,r,n,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var x=yi(t,r,a,i),p=yi(t,r,a,c);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},_ne=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:d}=e,f=as(d-c),{circleTangency:m,lineTangency:x,theta:p}=Hy({cx:t,cy:r,radius:n,angle:c,sign:f,cornerRadius:i,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:b}=Hy({cx:t,cy:r,radius:n,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:o}),k=o?Math.abs(c-d):Math.abs(c-d)-p-b;if(k<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):RF({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:c,endAngle:d});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:_,lineTangency:T,theta:L}=Hy({cx:t,cy:r,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:D,lineTangency:R,theta:U}=Hy({cx:t,cy:r,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),F=o?Math.abs(c-d):Math.abs(c-d)-L-U;if(F<0&&i===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},Sne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IF=e=>{var t=zi(e,Sne),{cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f,className:m}=t;if(i<n||d===f)return null;var x=Br("recharts-sector",m),p=i-n,y=Fs(s,p,0,!0),v;return y>0&&Math.abs(d-f)<360?v=_ne({cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(y,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}):v=RF({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:f}),j.createElement("path",uS({},co(t),{className:x,d:v}))};function Nne(e,t,r){var a,n,i,s;if(e==="horizontal")a=t.x,i=a,n=r.top,s=r.top+r.height;else if(e==="vertical")n=t.y,s=n,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:f,angle:m}=t,x=yi(o,c,d,m),p=yi(o,c,f,m);a=x.x,n=x.y,i=p.x,s=p.y}else return MF(t);return[{x:a,y:n},{x:i,y:s}]}var U4={},z4={},q4={},d7;function jne(){return d7||(d7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(q4)),q4}var f7;function Ane(){return f7||(f7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jne();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(z4)),z4}var h7;function Tne(){return h7||(h7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI(),r=Ane();function a(n,i,s){s&&typeof s!="number"&&t.isIterateeCall(n,i,s)&&(i=s=void 0),n=r.toFinite(n),i===void 0?(i=n,n=0):i=r.toFinite(i),s=s===void 0?n<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-n)/(s||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=s;return c}e.range=a})(U4)),U4}var $4,m7;function Ene(){return m7||(m7=1,$4=Tne().range),$4}var Cne=Ene();const FF=Uc(Cne);function ff(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function One(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function d6(e){let t,r,a;e.length!==2?(t=ff,r=(o,c)=>ff(e(o),c),a=(o,c)=>e(o)-c):(t=e===ff||e===One?e:Pne,r=e,a=e);function n(o,c,d=0,f=o.length){if(d<f){if(t(c,c)!==0)return f;do{const m=d+f>>>1;r(o[m],c)<0?d=m+1:f=m}while(d<f)}return d}function i(o,c,d=0,f=o.length){if(d<f){if(t(c,c)!==0)return f;do{const m=d+f>>>1;r(o[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function s(o,c,d=0,f=o.length){const m=n(o,c,d,f-1);return m>d&&a(o[m-1],c)>-a(o[m],c)?m-1:m}return{left:n,center:s,right:i}}function Pne(){return 0}function BF(e){return e===null?NaN:+e}function*Dne(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Lne=d6(ff),ov=Lne.right;d6(BF).center;class p7 extends Map{constructor(t,r=Ine){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(g7(this,t))}has(t){return super.has(g7(this,t))}set(t,r){return super.set(Mne(this,t),r)}delete(t){return super.delete(Rne(this,t))}}function g7({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Mne({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Rne({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Ine(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Fne(e=ff){if(e===ff)return UF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function UF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Bne=Math.sqrt(50),Une=Math.sqrt(10),zne=Math.sqrt(2);function i2(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),s=i>=Bne?10:i>=Une?5:i>=zne?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/s,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*s,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?i2(e,t,r*2):[o,c,d]}function dS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,i,s]=a?i2(t,e,r):i2(e,t,r);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(a)if(s<0)for(let d=0;d<o;++d)c[d]=(i-d)/-s;else for(let d=0;d<o;++d)c[d]=(i-d)*s;else if(s<0)for(let d=0;d<o;++d)c[d]=(n+d)/-s;else for(let d=0;d<o;++d)c[d]=(n+d)*s;return c}function fS(e,t,r){return t=+t,e=+e,r=+r,i2(e,t,r)[2]}function hS(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?fS(t,e,r):fS(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function x7(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function v7(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function zF(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?UF:Fne(n);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),x=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*m/c+x)),y=Math.min(a,Math.floor(t+(c-d)*m/c+x));zF(e,t,p,y,n)}const i=e[t];let s=r,o=a;for(Ex(e,r,t),n(e[a],i)>0&&Ex(e,r,a);s<o;){for(Ex(e,s,o),++s,--o;n(e[s],i)<0;)++s;for(;n(e[o],i)>0;)--o}n(e[r],i)===0?Ex(e,r,o):(++o,Ex(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function Ex(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function qne(e,t,r){if(e=Float64Array.from(Dne(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return v7(e);if(t>=1)return x7(e);var a,n=(a-1)*t,i=Math.floor(n),s=x7(zF(e,i).subarray(0,i+1)),o=v7(e.subarray(i+1));return s+(o-s)*(n-i)}}function $ne(e,t,r=BF){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(n-i)}}function Hne(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(n);++a<n;)i[a]=e+a*r;return i}function Jl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function t0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mS=Symbol("implicit");function f6(){var e=new p7,t=[],r=[],a=mS;function n(i){let s=e.get(i);if(s===void 0){if(a!==mS)return a;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new p7;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return f6(t,r).unknown(a)},Jl.apply(n,arguments),n}function h6(){var e=f6().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,i,s,o=!1,c=0,d=0,f=.5;delete e.unknown;function m(){var x=t().length,p=n<a,y=p?n:a,v=p?a:n;i=(v-y)/Math.max(1,x-c+d*2),o&&(i=Math.floor(i)),y+=(v-y-i*(x-c))*f,s=i*(1-c),o&&(y=Math.round(y),s=Math.round(s));var b=Hne(x).map(function(k){return y+i*k});return r(p?b.reverse():b)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,m()):o},e.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),m()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),m()):c},e.paddingOuter=function(x){return arguments.length?(d=+x,m()):d},e.align=function(x){return arguments.length?(f=Math.max(0,Math.min(1,x)),m()):f},e.copy=function(){return h6(t(),[a,n]).round(o).paddingInner(c).paddingOuter(d).align(f)},Jl.apply(m(),arguments)}function qF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qF(t())},e}function Wne(){return qF(h6.apply(null,arguments).paddingInner(1))}function m6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $F(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function lv(){}var b1=.7,s2=1/b1,Fp="\\s*([+-]?\\d+)\\s*",w1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vne=/^#([0-9a-f]{3,8})$/,Kne=new RegExp(`^rgb\\(${Fp},${Fp},${Fp}\\)$`),Gne=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),Yne=new RegExp(`^rgba\\(${Fp},${Fp},${Fp},${w1}\\)$`),Xne=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${w1}\\)$`),Qne=new RegExp(`^hsl\\(${w1},${Cu},${Cu}\\)$`),Jne=new RegExp(`^hsla\\(${w1},${Cu},${Cu},${w1}\\)$`),y7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m6(lv,k1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b7,formatHex:b7,formatHex8:Zne,formatHsl:eie,formatRgb:w7,toString:w7});function b7(){return this.rgb().formatHex()}function Zne(){return this.rgb().formatHex8()}function eie(){return HF(this).formatHsl()}function w7(){return this.rgb().formatRgb()}function k1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Vne.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?k7(t):r===3?new Do(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Wy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Wy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kne.exec(e))?new Do(t[1],t[2],t[3],1):(t=Gne.exec(e))?new Do(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yne.exec(e))?Wy(t[1],t[2],t[3],t[4]):(t=Xne.exec(e))?Wy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Qne.exec(e))?N7(t[1],t[2]/100,t[3]/100,1):(t=Jne.exec(e))?N7(t[1],t[2]/100,t[3]/100,t[4]):y7.hasOwnProperty(e)?k7(y7[e]):e==="transparent"?new Do(NaN,NaN,NaN,0):null}function k7(e){return new Do(e>>16&255,e>>8&255,e&255,1)}function Wy(e,t,r,a){return a<=0&&(e=t=r=NaN),new Do(e,t,r,a)}function tie(e){return e instanceof lv||(e=k1(e)),e?(e=e.rgb(),new Do(e.r,e.g,e.b,e.opacity)):new Do}function pS(e,t,r,a){return arguments.length===1?tie(e):new Do(e,t,r,a??1)}function Do(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}m6(Do,pS,$F(lv,{brighter(e){return e=e==null?s2:Math.pow(s2,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?b1:Math.pow(b1,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Do(Ph(this.r),Ph(this.g),Ph(this.b),o2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_7,formatHex:_7,formatHex8:rie,formatRgb:S7,toString:S7}));function _7(){return`#${xh(this.r)}${xh(this.g)}${xh(this.b)}`}function rie(){return`#${xh(this.r)}${xh(this.g)}${xh(this.b)}${xh((isNaN(this.opacity)?1:this.opacity)*255)}`}function S7(){const e=o2(this.opacity);return`${e===1?"rgb(":"rgba("}${Ph(this.r)}, ${Ph(this.g)}, ${Ph(this.b)}${e===1?")":`, ${e})`}`}function o2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ph(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xh(e){return e=Ph(e),(e<16?"0":"")+e.toString(16)}function N7(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Dc(e,t,r,a)}function HF(e){if(e instanceof Dc)return new Dc(e.h,e.s,e.l,e.opacity);if(e instanceof lv||(e=k1(e)),!e)return new Dc;if(e instanceof Dc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),s=NaN,o=i-n,c=(i+n)/2;return o?(t===i?s=(r-a)/o+(r<a)*6:r===i?s=(a-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+n:2-i-n,s*=60):o=c>0&&c<1?0:s,new Dc(s,o,c,e.opacity)}function aie(e,t,r,a){return arguments.length===1?HF(e):new Dc(e,t,r,a??1)}function Dc(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}m6(Dc,aie,$F(lv,{brighter(e){return e=e==null?s2:Math.pow(s2,e),new Dc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?b1:Math.pow(b1,e),new Dc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Do(H4(e>=240?e-240:e+120,n,a),H4(e,n,a),H4(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Dc(j7(this.h),Vy(this.s),Vy(this.l),o2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=o2(this.opacity);return`${e===1?"hsl(":"hsla("}${j7(this.h)}, ${Vy(this.s)*100}%, ${Vy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j7(e){return e=(e||0)%360,e<0?e+360:e}function Vy(e){return Math.max(0,Math.min(1,e||0))}function H4(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const p6=e=>()=>e;function nie(e,t){return function(r){return e+r*t}}function iie(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function sie(e){return(e=+e)==1?WF:function(t,r){return r-t?iie(t,r,e):p6(isNaN(t)?r:t)}}function WF(e,t){var r=t-e;return r?nie(e,r):p6(isNaN(e)?t:e)}const A7=(function e(t){var r=sie(t);function a(n,i){var s=r((n=pS(n)).r,(i=pS(i)).r),o=r(n.g,i.g),c=r(n.b,i.b),d=WF(n.opacity,i.opacity);return function(f){return n.r=s(f),n.g=o(f),n.b=c(f),n.opacity=d(f),n+""}}return a.gamma=e,a})(1);function oie(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function lie(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cie(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),i=new Array(r),s;for(s=0;s<a;++s)n[s]=Ng(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<a;++s)i[s]=n[s](o);return i}}function uie(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function l2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function die(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=Ng(e[n],t[n]):a[n]=t[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var gS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W4=new RegExp(gS.source,"g");function fie(e){return function(){return e}}function hie(e){return function(t){return e(t)+""}}function mie(e,t){var r=gS.lastIndex=W4.lastIndex=0,a,n,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(a=gS.exec(e))&&(n=W4.exec(t));)(i=n.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(a=a[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,c.push({i:s,x:l2(a,n)})),r=W4.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?hie(c[0].x):fie(t):(t=c.length,function(d){for(var f=0,m;f<t;++f)o[(m=c[f]).i]=m.x(d);return o.join("")})}function Ng(e,t){var r=typeof t,a;return t==null||r==="boolean"?p6(t):(r==="number"?l2:r==="string"?(a=k1(t))?(t=a,A7):mie:t instanceof k1?A7:t instanceof Date?uie:lie(t)?oie:Array.isArray(t)?cie:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?die:l2)(e,t)}function g6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pie(e,t){t===void 0&&(t=e,e=Ng);for(var r=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(s){var o=Math.max(0,Math.min(a-1,Math.floor(s*=a)));return i[o](s-o)}}function gie(e){return function(){return e}}function c2(e){return+e}var T7=[0,1];function so(e){return e}function xS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gie(isNaN(t)?NaN:.5)}function xie(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function vie(e,t,r){var a=e[0],n=e[1],i=t[0],s=t[1];return n<a?(a=xS(n,a),i=r(s,i)):(a=xS(a,n),i=r(i,s)),function(o){return i(a(o))}}function yie(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)n[s]=xS(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=ov(e,o,1,a)-1;return i[c](n[c](o))}}function cv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gw(){var e=T7,t=T7,r=Ng,a,n,i,s=so,o,c,d;function f(){var x=Math.min(e.length,t.length);return s!==so&&(s=xie(e[0],e[x-1])),o=x>2?yie:vie,c=d=null,m}function m(x){return x==null||isNaN(x=+x)?i:(c||(c=o(e.map(a),t,r)))(a(s(x)))}return m.invert=function(x){return s(n((d||(d=o(t,e.map(a),l2)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,c2),f()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),f()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=g6,f()},m.clamp=function(x){return arguments.length?(s=x?!0:so,f()):s!==so},m.interpolate=function(x){return arguments.length?(r=x,f()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,p){return a=x,n=p,f()}}function x6(){return gw()(so,so)}function bie(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function u2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function ug(e){return e=u2(Math.abs(e)),e?e[1]:NaN}function wie(e,t){return function(r,a){for(var n=r.length,i=[],s=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(r.substring(n-=o,n+o)),!((c+=o+1)>a));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function kie(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _ie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _1(e){if(!(t=_ie.exec(e)))throw new Error("invalid format: "+e);var t;return new v6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_1.prototype=v6.prototype;function v6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}v6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sie(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var VF;function Nie(e,t){var r=u2(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(VF=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=a.length;return i===s?a:i>s?a+new Array(i-s+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+u2(e,Math.max(0,t+i-1))[0]}function E7(e,t){var r=u2(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const C7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bie,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>E7(e*100,t),r:E7,s:Nie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function O7(e){return e}var P7=Array.prototype.map,D7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jie(e){var t=e.grouping===void 0||e.thousands===void 0?O7:wie(P7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?O7:kie(P7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=_1(m);var x=m.fill,p=m.align,y=m.sign,v=m.symbol,b=m.zero,k=m.width,N=m.comma,_=m.precision,T=m.trim,L=m.type;L==="n"?(N=!0,L="g"):C7[L]||(_===void 0&&(_=12),T=!0,L="g"),(b||x==="0"&&p==="=")&&(b=!0,x="0",p="=");var D=v==="$"?r:v==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",R=v==="$"?a:/[%p]/.test(L)?s:"",U=C7[L],F=/[defgprs%]/.test(L);_=_===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function W(O){var M=D,H=R,Y,ne,X;if(L==="c")H=U(O)+H,O="";else{O=+O;var re=O<0||1/O<0;if(O=isNaN(O)?c:U(Math.abs(O),_),T&&(O=Sie(O)),re&&+O==0&&y!=="+"&&(re=!1),M=(re?y==="("?y:o:y==="-"||y==="("?"":y)+M,H=(L==="s"?D7[8+VF/3]:"")+H+(re&&y==="("?")":""),F){for(Y=-1,ne=O.length;++Y<ne;)if(X=O.charCodeAt(Y),48>X||X>57){H=(X===46?n+O.slice(Y+1):O.slice(Y))+H,O=O.slice(0,Y);break}}}N&&!b&&(O=t(O,1/0));var fe=M.length+O.length+H.length,ce=fe<k?new Array(k-fe+1).join(x):"";switch(N&&b&&(O=t(ce+O,ce.length?k-H.length:1/0),ce=""),p){case"<":O=M+O+H+ce;break;case"=":O=M+ce+O+H;break;case"^":O=ce.slice(0,fe=ce.length>>1)+M+O+H+ce.slice(fe);break;default:O=ce+M+O+H;break}return i(O)}return W.toString=function(){return m+""},W}function f(m,x){var p=d((m=_1(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(ug(x)/3)))*3,v=Math.pow(10,-y),b=D7[8+y/3];return function(k){return p(v*k)+b}}return{format:d,formatPrefix:f}}var Ky,y6,KF;Aie({thousands:",",grouping:[3],currency:["$",""]});function Aie(e){return Ky=jie(e),y6=Ky.format,KF=Ky.formatPrefix,Ky}function Tie(e){return Math.max(0,-ug(Math.abs(e)))}function Eie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ug(t)/3)))*3-ug(Math.abs(e)))}function Cie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ug(t)-ug(e))+1}function GF(e,t,r,a){var n=hS(e,t,r),i;switch(a=_1(a??",f"),a.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=Eie(n,s))&&(a.precision=i),KF(a,s)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Cie(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Tie(n))&&(a.precision=i-(a.type==="%")*2);break}}return y6(a)}function Sf(e){var t=e.domain;return e.ticks=function(r){var a=t();return dS(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return GF(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,i=a.length-1,s=a[n],o=a[i],c,d,f=10;for(o<s&&(d=s,s=o,o=d,d=n,n=i,i=d);f-- >0;){if(d=fS(s,o,r),d===c)return a[n]=s,a[i]=o,t(a);if(d>0)s=Math.floor(s/d)*d,o=Math.ceil(o/d)*d;else if(d<0)s=Math.ceil(s*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function YF(){var e=x6();return e.copy=function(){return cv(e,YF())},Jl.apply(e,arguments),Sf(e)}function XF(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,c2),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return XF(e).unknown(t)},e=arguments.length?Array.from(e,c2):[0,1],Sf(r)}function QF(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],i=e[a],s;return i<n&&(s=r,r=a,a=s,s=n,n=i,i=s),e[r]=t.floor(n),e[a]=t.ceil(i),e}function L7(e){return Math.log(e)}function M7(e){return Math.exp(e)}function Oie(e){return-Math.log(-e)}function Pie(e){return-Math.exp(-e)}function Die(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lie(e){return e===10?Die:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Mie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function R7(e){return(t,r)=>-e(-t,r)}function b6(e){const t=e(L7,M7),r=t.domain;let a=10,n,i;function s(){return n=Mie(a),i=Lie(a),r()[0]<0?(n=R7(n),i=R7(i),e(Oie,Pie)):e(L7,M7),t}return t.base=function(o){return arguments.length?(a=+o,s()):a},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let x=n(d),p=n(f),y,v;const b=o==null?10:+o;let k=[];if(!(a%1)&&p-x<b){if(x=Math.floor(x),p=Math.ceil(p),d>0){for(;x<=p;++x)for(y=1;y<a;++y)if(v=x<0?y/i(-x):y*i(x),!(v<d)){if(v>f)break;k.push(v)}}else for(;x<=p;++x)for(y=a-1;y>=1;--y)if(v=x>0?y/i(-x):y*i(x),!(v<d)){if(v>f)break;k.push(v)}k.length*2<b&&(k=dS(d,f,b))}else k=dS(x,p,Math.min(p-x,b)).map(i);return m?k.reverse():k},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=_1(c)).precision==null&&(c.trim=!0),c=y6(c)),o===1/0)return c;const d=Math.max(1,a*o/t.ticks().length);return f=>{let m=f/i(Math.round(n(f)));return m*a<a-.5&&(m*=a),m<=d?c(f):""}},t.nice=()=>r(QF(r(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function JF(){const e=b6(gw()).domain([1,10]);return e.copy=()=>cv(e,JF()).base(e.base()),Jl.apply(e,arguments),e}function I7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function w6(e){var t=1,r=e(I7(t),F7(t));return r.constant=function(a){return arguments.length?e(I7(t=+a),F7(t)):t},Sf(r)}function ZF(){var e=w6(gw());return e.copy=function(){return cv(e,ZF()).constant(e.constant())},Jl.apply(e,arguments)}function B7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Iie(e){return e<0?-e*e:e*e}function k6(e){var t=e(so,so),r=1;function a(){return r===1?e(so,so):r===.5?e(Rie,Iie):e(B7(r),B7(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},Sf(t)}function _6(){var e=k6(gw());return e.copy=function(){return cv(e,_6()).exponent(e.exponent())},Jl.apply(e,arguments),e}function Fie(){return _6.apply(null,arguments).exponent(.5)}function U7(e){return Math.sign(e)*e*e}function Bie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eB(){var e=x6(),t=[0,1],r=!1,a;function n(i){var s=Bie(e(i));return isNaN(s)?a:r?Math.round(s):s}return n.invert=function(i){return e.invert(U7(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,c2)).map(U7)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return eB(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Jl.apply(n,arguments),Sf(n)}function tB(){var e=[],t=[],r=[],a;function n(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=$ne(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?a:t[ov(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ff),n()},i.range=function(s){return arguments.length?(t=Array.from(s),n()):t.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return tB().domain(e).range(t).unknown(a)},Jl.apply(i,arguments)}function rB(){var e=0,t=1,r=1,a=[.5],n=[0,1],i;function s(c){return c!=null&&c<=c?n[ov(a,c,0,r)]:i}function o(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(n=Array.from(c)).length-1,o()):n.slice()},s.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return a.slice()},s.copy=function(){return rB().domain([e,t]).range(n).unknown(i)},Jl.apply(Sf(s),arguments)}function aB(){var e=[.5],t=[0,1],r,a=1;function n(i){return i!=null&&i<=i?t[ov(e,i,0,a)]:r}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return aB().domain(e).range(t).unknown(r)},Jl.apply(n,arguments)}const V4=new Date,K4=new Date;function qi(e,t,r,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const s=n(i),o=n.ceil(i);return i-s<o-i?s:o},n.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),n.range=(i,s,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<s);return c},n.filter=i=>qi(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(n.count=(i,s)=>(V4.setTime(+i),K4.setTime(+s),e(V4),e(K4),Math.floor(r(V4,K4))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?s=>a(s)%i===0:s=>n.count(0,s)%i===0):n)),n}const d2=qi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);d2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):d2);d2.range;const Nd=1e3,Wl=Nd*60,jd=Wl*60,Wd=jd*24,S6=Wd*7,z7=Wd*30,G4=Wd*365,vh=qi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nd)},(e,t)=>(t-e)/Nd,e=>e.getUTCSeconds());vh.range;const N6=qi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nd)},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getMinutes());N6.range;const j6=qi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCMinutes());j6.range;const A6=qi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nd-e.getMinutes()*Wl)},(e,t)=>{e.setTime(+e+t*jd)},(e,t)=>(t-e)/jd,e=>e.getHours());A6.range;const T6=qi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jd)},(e,t)=>(t-e)/jd,e=>e.getUTCHours());T6.range;const uv=qi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wl)/Wd,e=>e.getDate()-1);uv.range;const xw=qi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wd,e=>e.getUTCDate()-1);xw.range;const nB=qi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wd,e=>Math.floor(e/Wd));nB.range;function dm(e){return qi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wl)/S6)}const vw=dm(0),f2=dm(1),Uie=dm(2),zie=dm(3),dg=dm(4),qie=dm(5),$ie=dm(6);vw.range;f2.range;Uie.range;zie.range;dg.range;qie.range;$ie.range;function fm(e){return qi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/S6)}const yw=fm(0),h2=fm(1),Hie=fm(2),Wie=fm(3),fg=fm(4),Vie=fm(5),Kie=fm(6);yw.range;h2.range;Hie.range;Wie.range;fg.range;Vie.range;Kie.range;const E6=qi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E6.range;const C6=qi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C6.range;const Vd=qi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vd.range;const Kd=qi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kd.range;function iB(e,t,r,a,n,i){const s=[[vh,1,Nd],[vh,5,5*Nd],[vh,15,15*Nd],[vh,30,30*Nd],[i,1,Wl],[i,5,5*Wl],[i,15,15*Wl],[i,30,30*Wl],[n,1,jd],[n,3,3*jd],[n,6,6*jd],[n,12,12*jd],[a,1,Wd],[a,2,2*Wd],[r,1,S6],[t,1,z7],[t,3,3*z7],[e,1,G4]];function o(d,f,m){const x=f<d;x&&([d,f]=[f,d]);const p=m&&typeof m.range=="function"?m:c(d,f,m),y=p?p.range(d,+f+1):[];return x?y.reverse():y}function c(d,f,m){const x=Math.abs(f-d)/m,p=d6(([,,b])=>b).right(s,x);if(p===s.length)return e.every(hS(d/G4,f/G4,m));if(p===0)return d2.every(Math.max(hS(d,f,m),1));const[y,v]=s[x/s[p-1][2]<s[p][2]/x?p-1:p];return y.every(v)}return[o,c]}const[Gie,Yie]=iB(Kd,C6,yw,nB,T6,j6),[Xie,Qie]=iB(Vd,E6,vw,uv,A6,N6);function Y4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function X4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Jie(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,d=Ox(n),f=Px(n),m=Ox(i),x=Px(i),p=Ox(s),y=Px(s),v=Ox(o),b=Px(o),k=Ox(c),N=Px(c),_={a:re,A:fe,b:ce,B:ke,c:null,d:K7,e:K7,f:wse,g:Ose,G:Dse,H:vse,I:yse,j:bse,L:sB,m:kse,M:_se,p:Z,q:P,Q:X7,s:Q7,S:Sse,u:Nse,U:jse,V:Ase,w:Tse,W:Ese,x:null,X:null,y:Cse,Y:Pse,Z:Lse,"%":Y7},T={a:q,A:V,b:z,B:Q,c:null,d:G7,e:G7,f:Fse,g:Gse,G:Xse,H:Mse,I:Rse,j:Ise,L:lB,m:Bse,M:Use,p:de,q:Ee,Q:X7,s:Q7,S:zse,u:qse,U:$se,V:Hse,w:Wse,W:Vse,x:null,X:null,y:Kse,Y:Yse,Z:Qse,"%":Y7},L={a:W,A:O,b:M,B:H,c:Y,d:W7,e:W7,f:mse,g:H7,G:$7,H:V7,I:V7,j:use,L:hse,m:cse,M:dse,p:F,q:lse,Q:gse,s:xse,S:fse,u:ase,U:nse,V:ise,w:rse,W:sse,x:ne,X,y:H7,Y:$7,Z:ose,"%":pse};_.x=D(r,_),_.X=D(a,_),_.c=D(t,_),T.x=D(r,T),T.X=D(a,T),T.c=D(t,T);function D(ie,je){return function(Me){var J=[],ge=-1,be=0,oe=ie.length,Ue,ve,Ge;for(Me instanceof Date||(Me=new Date(+Me));++ge<oe;)ie.charCodeAt(ge)===37&&(J.push(ie.slice(be,ge)),(ve=q7[Ue=ie.charAt(++ge)])!=null?Ue=ie.charAt(++ge):ve=Ue==="e"?" ":"0",(Ge=je[Ue])&&(Ue=Ge(Me,ve)),J.push(Ue),be=ge+1);return J.push(ie.slice(be,ge)),J.join("")}}function R(ie,je){return function(Me){var J=Cx(1900,void 0,1),ge=U(J,ie,Me+="",0),be,oe;if(ge!=Me.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(je&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(be=X4(Cx(J.y,0,1)),oe=be.getUTCDay(),be=oe>4||oe===0?h2.ceil(be):h2(be),be=xw.offset(be,(J.V-1)*7),J.y=be.getUTCFullYear(),J.m=be.getUTCMonth(),J.d=be.getUTCDate()+(J.w+6)%7):(be=Y4(Cx(J.y,0,1)),oe=be.getDay(),be=oe>4||oe===0?f2.ceil(be):f2(be),be=uv.offset(be,(J.V-1)*7),J.y=be.getFullYear(),J.m=be.getMonth(),J.d=be.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),oe="Z"in J?X4(Cx(J.y,0,1)).getUTCDay():Y4(Cx(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(oe+5)%7:J.w+J.U*7-(oe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,X4(J)):Y4(J)}}function U(ie,je,Me,J){for(var ge=0,be=je.length,oe=Me.length,Ue,ve;ge<be;){if(J>=oe)return-1;if(Ue=je.charCodeAt(ge++),Ue===37){if(Ue=je.charAt(ge++),ve=L[Ue in q7?je.charAt(ge++):Ue],!ve||(J=ve(ie,Me,J))<0)return-1}else if(Ue!=Me.charCodeAt(J++))return-1}return J}function F(ie,je,Me){var J=d.exec(je.slice(Me));return J?(ie.p=f.get(J[0].toLowerCase()),Me+J[0].length):-1}function W(ie,je,Me){var J=p.exec(je.slice(Me));return J?(ie.w=y.get(J[0].toLowerCase()),Me+J[0].length):-1}function O(ie,je,Me){var J=m.exec(je.slice(Me));return J?(ie.w=x.get(J[0].toLowerCase()),Me+J[0].length):-1}function M(ie,je,Me){var J=k.exec(je.slice(Me));return J?(ie.m=N.get(J[0].toLowerCase()),Me+J[0].length):-1}function H(ie,je,Me){var J=v.exec(je.slice(Me));return J?(ie.m=b.get(J[0].toLowerCase()),Me+J[0].length):-1}function Y(ie,je,Me){return U(ie,t,je,Me)}function ne(ie,je,Me){return U(ie,r,je,Me)}function X(ie,je,Me){return U(ie,a,je,Me)}function re(ie){return s[ie.getDay()]}function fe(ie){return i[ie.getDay()]}function ce(ie){return c[ie.getMonth()]}function ke(ie){return o[ie.getMonth()]}function Z(ie){return n[+(ie.getHours()>=12)]}function P(ie){return 1+~~(ie.getMonth()/3)}function q(ie){return s[ie.getUTCDay()]}function V(ie){return i[ie.getUTCDay()]}function z(ie){return c[ie.getUTCMonth()]}function Q(ie){return o[ie.getUTCMonth()]}function de(ie){return n[+(ie.getUTCHours()>=12)]}function Ee(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var je=D(ie+="",_);return je.toString=function(){return ie},je},parse:function(ie){var je=R(ie+="",!1);return je.toString=function(){return ie},je},utcFormat:function(ie){var je=D(ie+="",T);return je.toString=function(){return ie},je},utcParse:function(ie){var je=R(ie+="",!0);return je.toString=function(){return ie},je}}}var q7={"-":"",_:" ",0:"0"},is=/^\s*\d+/,Zie=/^%/,ese=/[\\^$*+?|[\]().{}]/g;function ba(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function tse(e){return e.replace(ese,"\\$&")}function Ox(e){return new RegExp("^(?:"+e.map(tse).join("|")+")","i")}function Px(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rse(e,t,r){var a=is.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function ase(e,t,r){var a=is.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function nse(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function ise(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function sse(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function $7(e,t,r){var a=is.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function H7(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function ose(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function lse(e,t,r){var a=is.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function cse(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function W7(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function use(e,t,r){var a=is.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function V7(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function dse(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function fse(e,t,r){var a=is.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function hse(e,t,r){var a=is.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function mse(e,t,r){var a=is.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function pse(e,t,r){var a=Zie.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function gse(e,t,r){var a=is.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function xse(e,t,r){var a=is.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function K7(e,t){return ba(e.getDate(),t,2)}function vse(e,t){return ba(e.getHours(),t,2)}function yse(e,t){return ba(e.getHours()%12||12,t,2)}function bse(e,t){return ba(1+uv.count(Vd(e),e),t,3)}function sB(e,t){return ba(e.getMilliseconds(),t,3)}function wse(e,t){return sB(e,t)+"000"}function kse(e,t){return ba(e.getMonth()+1,t,2)}function _se(e,t){return ba(e.getMinutes(),t,2)}function Sse(e,t){return ba(e.getSeconds(),t,2)}function Nse(e){var t=e.getDay();return t===0?7:t}function jse(e,t){return ba(vw.count(Vd(e)-1,e),t,2)}function oB(e){var t=e.getDay();return t>=4||t===0?dg(e):dg.ceil(e)}function Ase(e,t){return e=oB(e),ba(dg.count(Vd(e),e)+(Vd(e).getDay()===4),t,2)}function Tse(e){return e.getDay()}function Ese(e,t){return ba(f2.count(Vd(e)-1,e),t,2)}function Cse(e,t){return ba(e.getFullYear()%100,t,2)}function Ose(e,t){return e=oB(e),ba(e.getFullYear()%100,t,2)}function Pse(e,t){return ba(e.getFullYear()%1e4,t,4)}function Dse(e,t){var r=e.getDay();return e=r>=4||r===0?dg(e):dg.ceil(e),ba(e.getFullYear()%1e4,t,4)}function Lse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ba(t/60|0,"0",2)+ba(t%60,"0",2)}function G7(e,t){return ba(e.getUTCDate(),t,2)}function Mse(e,t){return ba(e.getUTCHours(),t,2)}function Rse(e,t){return ba(e.getUTCHours()%12||12,t,2)}function Ise(e,t){return ba(1+xw.count(Kd(e),e),t,3)}function lB(e,t){return ba(e.getUTCMilliseconds(),t,3)}function Fse(e,t){return lB(e,t)+"000"}function Bse(e,t){return ba(e.getUTCMonth()+1,t,2)}function Use(e,t){return ba(e.getUTCMinutes(),t,2)}function zse(e,t){return ba(e.getUTCSeconds(),t,2)}function qse(e){var t=e.getUTCDay();return t===0?7:t}function $se(e,t){return ba(yw.count(Kd(e)-1,e),t,2)}function cB(e){var t=e.getUTCDay();return t>=4||t===0?fg(e):fg.ceil(e)}function Hse(e,t){return e=cB(e),ba(fg.count(Kd(e),e)+(Kd(e).getUTCDay()===4),t,2)}function Wse(e){return e.getUTCDay()}function Vse(e,t){return ba(h2.count(Kd(e)-1,e),t,2)}function Kse(e,t){return ba(e.getUTCFullYear()%100,t,2)}function Gse(e,t){return e=cB(e),ba(e.getUTCFullYear()%100,t,2)}function Yse(e,t){return ba(e.getUTCFullYear()%1e4,t,4)}function Xse(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fg(e):fg.ceil(e),ba(e.getUTCFullYear()%1e4,t,4)}function Qse(){return"+0000"}function Y7(){return"%"}function X7(e){return+e}function Q7(e){return Math.floor(+e/1e3)}var gp,uB,dB;Jse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jse(e){return gp=Jie(e),uB=gp.format,gp.parse,dB=gp.utcFormat,gp.utcParse,gp}function Zse(e){return new Date(e)}function eoe(e){return e instanceof Date?+e:+new Date(+e)}function O6(e,t,r,a,n,i,s,o,c,d){var f=x6(),m=f.invert,x=f.domain,p=d(".%L"),y=d(":%S"),v=d("%I:%M"),b=d("%I %p"),k=d("%a %d"),N=d("%b %d"),_=d("%B"),T=d("%Y");function L(D){return(c(D)<D?p:o(D)<D?y:s(D)<D?v:i(D)<D?b:a(D)<D?n(D)<D?k:N:r(D)<D?_:T)(D)}return f.invert=function(D){return new Date(m(D))},f.domain=function(D){return arguments.length?x(Array.from(D,eoe)):x().map(Zse)},f.ticks=function(D){var R=x();return e(R[0],R[R.length-1],D??10)},f.tickFormat=function(D,R){return R==null?L:d(R)},f.nice=function(D){var R=x();return(!D||typeof D.range!="function")&&(D=t(R[0],R[R.length-1],D??10)),D?x(QF(R,D)):f},f.copy=function(){return cv(f,O6(e,t,r,a,n,i,s,o,c,d))},f}function toe(){return Jl.apply(O6(Xie,Qie,Vd,E6,vw,uv,A6,N6,vh,uB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function roe(){return Jl.apply(O6(Gie,Yie,Kd,C6,yw,xw,T6,j6,vh,dB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bw(){var e=0,t=1,r,a,n,i,s=so,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(n===0?.5:(m=(i(m)-r)*n,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),n=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(s=m,d):s};function f(m){return function(x){var p,y;return arguments.length?([p,y]=x,s=m(p,y),d):[s(0),s(1)]}}return d.range=f(Ng),d.rangeRound=f(g6),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),a=m(t),n=r===a?0:1/(a-r),d}}function Nf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fB(){var e=Sf(bw()(so));return e.copy=function(){return Nf(e,fB())},t0.apply(e,arguments)}function hB(){var e=b6(bw()).domain([1,10]);return e.copy=function(){return Nf(e,hB()).base(e.base())},t0.apply(e,arguments)}function mB(){var e=w6(bw());return e.copy=function(){return Nf(e,mB()).constant(e.constant())},t0.apply(e,arguments)}function P6(){var e=k6(bw());return e.copy=function(){return Nf(e,P6()).exponent(e.exponent())},t0.apply(e,arguments)}function aoe(){return P6.apply(null,arguments).exponent(.5)}function pB(){var e=[],t=so;function r(a){if(a!=null&&!isNaN(a=+a))return t((ov(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(ff),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>qne(e,i/a))},r.copy=function(){return pB(t).domain(e)},t0.apply(r,arguments)}function ww(){var e=0,t=.5,r=1,a=1,n,i,s,o,c,d=so,f,m=!1,x;function p(v){return isNaN(v=+v)?x:(v=.5+((v=+f(v))-i)*(a*v<a*i?o:c),d(m?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,n=f(e=+e),i=f(t=+t),s=f(r=+r),o=n===i?0:.5/(i-n),c=i===s?0:.5/(s-i),a=i<n?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(m=!!v,p):m},p.interpolator=function(v){return arguments.length?(d=v,p):d};function y(v){return function(b){var k,N,_;return arguments.length?([k,N,_]=b,d=pie(v,[k,N,_]),p):[d(0),d(.5),d(1)]}}return p.range=y(Ng),p.rangeRound=y(g6),p.unknown=function(v){return arguments.length?(x=v,p):x},function(v){return f=v,n=v(e),i=v(t),s=v(r),o=n===i?0:.5/(i-n),c=i===s?0:.5/(s-i),a=i<n?-1:1,p}}function gB(){var e=Sf(ww()(so));return e.copy=function(){return Nf(e,gB())},t0.apply(e,arguments)}function xB(){var e=b6(ww()).domain([.1,1,10]);return e.copy=function(){return Nf(e,xB()).base(e.base())},t0.apply(e,arguments)}function vB(){var e=w6(ww());return e.copy=function(){return Nf(e,vB()).constant(e.constant())},t0.apply(e,arguments)}function D6(){var e=k6(ww());return e.copy=function(){return Nf(e,D6()).exponent(e.exponent())},t0.apply(e,arguments)}function noe(){return D6.apply(null,arguments).exponent(.5)}const zx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h6,scaleDiverging:gB,scaleDivergingLog:xB,scaleDivergingPow:D6,scaleDivergingSqrt:noe,scaleDivergingSymlog:vB,scaleIdentity:XF,scaleImplicit:mS,scaleLinear:YF,scaleLog:JF,scaleOrdinal:f6,scalePoint:Wne,scalePow:_6,scaleQuantile:tB,scaleQuantize:rB,scaleRadial:eB,scaleSequential:fB,scaleSequentialLog:hB,scaleSequentialPow:P6,scaleSequentialQuantile:pB,scaleSequentialSqrt:aoe,scaleSequentialSymlog:mB,scaleSqrt:Fie,scaleSymlog:ZF,scaleThreshold:aB,scaleTime:toe,scaleUtc:roe,tickFormat:GF},Symbol.toStringTag,{value:"Module"}));var jf=e=>e.chartData,L6=Ze([jf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),dv=(e,t,r,a)=>a?L6(e):jf(e);function Yh(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ki(t)&&ki(r))return!0}return!1}function J7(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,n,i;if(ki(r))n=r;else if(typeof r=="function")return;if(ki(a))i=a;else if(typeof a=="function")return;var s=[n,i];if(Yh(s))return s}}function ioe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Yh(a))return J7(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,s,o;if(n==="auto")t!=null&&(s=Math.min(...t));else if(Ht(n))s=n;else if(typeof n=="function")try{t!=null&&(s=n(t==null?void 0:t[0]))}catch{}else if(typeof n=="string"&&MO.test(n)){var c=MO.exec(n);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[0]-d}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Ht(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&RO.test(i)){var f=RO.exec(i);if(f==null||t==null)o=void 0;else{var m=+f[1];o=t[1]+m}}else o=t==null?void 0:t[1];var x=[s,o];if(Yh(x))return t==null?x:J7(x,t,r)}}}var jg=1e9,soe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R6,bn=!0,Yl="[DecimalError] ",Dh=Yl+"Invalid argument: ",M6=Yl+"Exponent out of range: ",Ag=Math.floor,lh=Math.pow,ooe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,il,Zi=1e7,on=7,bB=9007199254740991,m2=Ag(bB/on),Bt={};Bt.absoluteValue=Bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Bt.comparedTo=Bt.cmp=function(e){var t,r,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};Bt.decimalPlaces=Bt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*on;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Bt.dividedBy=Bt.div=function(e){return Pd(this,new this.constructor(e))};Bt.dividedToIntegerBy=Bt.idiv=function(e){var t=this,r=t.constructor;return Xa(Pd(t,new r(e),0,1),r.precision)};Bt.equals=Bt.eq=function(e){return!this.cmp(e)};Bt.exponent=function(){return wi(this)};Bt.greaterThan=Bt.gt=function(e){return this.cmp(e)>0};Bt.greaterThanOrEqualTo=Bt.gte=function(e){return this.cmp(e)>=0};Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2};Bt.isNegative=Bt.isneg=function(){return this.s<0};Bt.isPositive=Bt.ispos=function(){return this.s>0};Bt.isZero=function(){return this.s===0};Bt.lessThan=Bt.lt=function(e){return this.cmp(e)<0};Bt.lessThanOrEqualTo=Bt.lte=function(e){return this.cmp(e)<1};Bt.logarithm=Bt.log=function(e){var t,r=this,a=r.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(il))throw Error(Yl+"NaN");if(r.s<1)throw Error(Yl+(r.s?"NaN":"-Infinity"));return r.eq(il)?new a(0):(bn=!1,t=Pd(S1(r,i),S1(e,i),i),bn=!0,Xa(t,n))};Bt.minus=Bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_B(t,e):wB(t,(e.s=-e.s,e))};Bt.modulo=Bt.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Yl+"NaN");return r.s?(bn=!1,t=Pd(r,e,0,1).times(e),bn=!0,r.minus(t)):Xa(new a(r),n)};Bt.naturalExponential=Bt.exp=function(){return kB(this)};Bt.naturalLogarithm=Bt.ln=function(){return S1(this)};Bt.negated=Bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Bt.plus=Bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wB(t,e):_B(t,(e.s=-e.s,e))};Bt.precision=Bt.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dh+e);if(t=wi(n)+1,a=n.d.length-1,r=a*on+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Bt.squareRoot=Bt.sqrt=function(){var e,t,r,a,n,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Yl+"NaN")}for(e=wi(o),bn=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=Nu(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=Ag((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),r=c.precision,n=s=r+3;;)if(i=a,a=i.plus(Pd(o,i,s+2)).times(.5),Nu(i.d).slice(0,s)===(t=Nu(a.d)).slice(0,s)){if(t=t.slice(s-3,s+1),n==s&&t=="4999"){if(Xa(i,r+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;s+=4}return bn=!0,Xa(a,r)};Bt.times=Bt.mul=function(e){var t,r,a,n,i,s,o,c,d,f=this,m=f.constructor,x=f.d,p=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,r=f.e+e.e,c=x.length,d=p.length,c<d&&(i=x,x=p,p=i,s=c,c=d,d=s),i=[],s=c+d,a=s;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)o=i[n]+p[a]*x[n-a-1]+t,i[n--]=o%Zi|0,t=o/Zi|0;i[n]=(i[n]+t)%Zi|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,bn?Xa(e,m.precision):e};Bt.toDecimalPlaces=Bt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Pu(e,0,jg),t===void 0?t=a.rounding:Pu(t,0,8),Xa(r,e+wi(r)+1,t))};Bt.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=Xh(a,!0):(Pu(e,0,jg),t===void 0?t=n.rounding:Pu(t,0,8),a=Xa(new n(a),e+1,t),r=Xh(a,!0,e+1)),r};Bt.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?Xh(n):(Pu(e,0,jg),t===void 0?t=i.rounding:Pu(t,0,8),a=Xa(new i(n),e+wi(n)+1,t),r=Xh(a.abs(),!1,e+wi(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};Bt.toInteger=Bt.toint=function(){var e=this,t=e.constructor;return Xa(new t(e),wi(e)+1,t.rounding)};Bt.toNumber=function(){return+this};Bt.toPower=Bt.pow=function(e){var t,r,a,n,i,s,o=this,c=o.constructor,d=12,f=+(e=new c(e));if(!e.s)return new c(il);if(o=new c(o),!o.s){if(e.s<1)throw Error(Yl+"Infinity");return o}if(o.eq(il))return o;if(a=c.precision,e.eq(il))return Xa(o,a);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=bB){for(n=new c(il),t=Math.ceil(a/on+4),bn=!1;r%2&&(n=n.times(o),eP(n.d,t)),r=Ag(r/2),r!==0;)o=o.times(o),eP(o.d,t);return bn=!0,e.s<0?new c(il).div(n):Xa(n,a)}}else if(i<0)throw Error(Yl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,bn=!1,n=e.times(S1(o,a+d)),bn=!0,n=kB(n),n.s=i,n};Bt.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?(r=wi(n),a=Xh(n,r<=i.toExpNeg||r>=i.toExpPos)):(Pu(e,1,jg),t===void 0?t=i.rounding:Pu(t,0,8),n=Xa(new i(n),e,t),r=wi(n),a=Xh(n,e<=r||r<=i.toExpNeg,e)),a};Bt.toSignificantDigits=Bt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Pu(e,1,jg),t===void 0?t=a.rounding:Pu(t,0,8)),Xa(new a(r),e,t)};Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=wi(e),r=e.constructor;return Xh(e,t<=r.toExpNeg||t>=r.toExpPos)};function wB(e,t){var r,a,n,i,s,o,c,d,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),bn?Xa(t,m):t;if(c=e.d,d=t.d,s=e.e,n=t.e,c=c.slice(),i=s-n,i){for(i<0?(a=c,i=-i,o=d.length):(a=d,n=s,o=c.length),s=Math.ceil(m/on),o=s>o?s+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Zi|0,c[i]%=Zi;for(r&&(c.unshift(r),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,bn?Xa(t,m):t}function Pu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Dh+e)}function Nu(e){var t,r,a,n=e.length-1,i="",s=e[0];if(n>0){for(i+=s,t=1;t<n;t++)a=e[t]+"",r=on-a.length,r&&(i+=K0(r)),i+=a;s=e[t],a=s+"",r=on-a.length,r&&(i+=K0(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Pd=(function(){function e(a,n){var i,s=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+s,a[o]=i%Zi|0,s=i/Zi|0;return s&&a.unshift(s),a}function t(a,n,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=n[o]){c=a[o]>n[o]?1:-1;break}return c}function r(a,n,i){for(var s=0;i--;)a[i]-=s,s=a[i]<n[i]?1:0,a[i]=s*Zi+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,s){var o,c,d,f,m,x,p,y,v,b,k,N,_,T,L,D,R,U,F=a.constructor,W=a.s==n.s?1:-1,O=a.d,M=n.d;if(!a.s)return new F(a);if(!n.s)throw Error(Yl+"Division by zero");for(c=a.e-n.e,R=M.length,L=O.length,p=new F(W),y=p.d=[],d=0;M[d]==(O[d]||0);)++d;if(M[d]>(O[d]||0)&&--c,i==null?N=i=F.precision:s?N=i+(wi(a)-wi(n))+1:N=i,N<0)return new F(0);if(N=N/on+2|0,d=0,R==1)for(f=0,M=M[0],N++;(d<L||f)&&N--;d++)_=f*Zi+(O[d]||0),y[d]=_/M|0,f=_%M|0;else{for(f=Zi/(M[0]+1)|0,f>1&&(M=e(M,f),O=e(O,f),R=M.length,L=O.length),T=R,v=O.slice(0,R),b=v.length;b<R;)v[b++]=0;U=M.slice(),U.unshift(0),D=M[0],M[1]>=Zi/2&&++D;do f=0,o=t(M,v,R,b),o<0?(k=v[0],R!=b&&(k=k*Zi+(v[1]||0)),f=k/D|0,f>1?(f>=Zi&&(f=Zi-1),m=e(M,f),x=m.length,b=v.length,o=t(m,v,x,b),o==1&&(f--,r(m,R<x?U:M,x))):(f==0&&(o=f=1),m=M.slice()),x=m.length,x<b&&m.unshift(0),r(v,m,b),o==-1&&(b=v.length,o=t(M,v,R,b),o<1&&(f++,r(v,R<b?U:M,b))),b=v.length):o===0&&(f++,v=[0]),y[d++]=f,o&&v[0]?v[b++]=O[T]||0:(v=[O[T]],b=1);while((T++<L||v[0]!==void 0)&&N--)}return y[0]||y.shift(),p.e=c,Xa(p,s?i+wi(p)+1:i)}})();function kB(e,t){var r,a,n,i,s,o,c=0,d=0,f=e.constructor,m=f.precision;if(wi(e)>16)throw Error(M6+wi(e));if(!e.s)return new f(il);for(bn=!1,o=m,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(a=Math.log(lh(2,d))/Math.LN10*2+5|0,o+=a,r=n=i=new f(il),f.precision=o;;){if(n=Xa(n.times(e),o),r=r.times(++c),s=i.plus(Pd(n,r,o)),Nu(s.d).slice(0,o)===Nu(i.d).slice(0,o)){for(;d--;)i=Xa(i.times(i),o);return f.precision=m,t==null?(bn=!0,Xa(i,m)):i}i=s}}function wi(e){for(var t=e.e*on,r=e.d[0];r>=10;r/=10)t++;return t}function Q4(e,t,r){if(t>e.LN10.sd())throw bn=!0,r&&(e.precision=r),Error(Yl+"LN10 precision limit exceeded");return Xa(new e(e.LN10),t)}function K0(e){for(var t="";e--;)t+="0";return t}function S1(e,t){var r,a,n,i,s,o,c,d,f,m=1,x=10,p=e,y=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(Yl+(p.s?"NaN":"-Infinity"));if(p.eq(il))return new v(0);if(t==null?(bn=!1,d=b):d=t,p.eq(10))return t==null&&(bn=!0),Q4(v,d);if(d+=x,v.precision=d,r=Nu(y),a=r.charAt(0),i=wi(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=Nu(p.d),a=r.charAt(0),m++;i=wi(p),a>1?(p=new v("0."+r),i++):p=new v(a+"."+r.slice(1))}else return c=Q4(v,d+2,b).times(i+""),p=S1(new v(a+"."+r.slice(1)),d-x).plus(c),v.precision=b,t==null?(bn=!0,Xa(p,b)):p;for(o=s=p=Pd(p.minus(il),p.plus(il),d),f=Xa(p.times(p),d),n=3;;){if(s=Xa(s.times(f),d),c=o.plus(Pd(s,new v(n),d)),Nu(c.d).slice(0,d)===Nu(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(Q4(v,d+2,b).times(i+""))),o=Pd(o,new v(m),d),v.precision=b,t==null?(bn=!0,Xa(o,b)):o;o=c,n+=2}}function Z7(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=Ag(r/on),e.d=[],a=(r+1)%on,r<0&&(a+=on),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=on;a<n;)e.d.push(+t.slice(a,a+=on));t=t.slice(a),a=on-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),bn&&(e.e>m2||e.e<-m2))throw Error(M6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xa(e,t,r){var a,n,i,s,o,c,d,f,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(a=t-s,a<0)a+=on,n=t,d=m[f=0];else{if(f=Math.ceil((a+1)/on),i=m.length,f>=i)return e;for(d=i=m[f],s=1;i>=10;i/=10)s++;a%=on,n=a-on+s}if(r!==void 0&&(i=lh(10,s-n-1),o=d/i%10|0,c=t<0||m[f+1]!==void 0||d%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(a>0?n>0?d/lh(10,s-n):0:m[f-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=wi(e),m.length=1,t=t-i-1,m[0]=lh(10,(on-t%on)%on),e.e=Ag(-t/on)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=f,i=1,f--):(m.length=f+1,i=lh(10,on-a),m[f]=n>0?(d/lh(10,s-n)%lh(10,n)|0)*i:0),c)for(;;)if(f==0){(m[0]+=i)==Zi&&(m[0]=1,++e.e);break}else{if(m[f]+=i,m[f]!=Zi)break;m[f--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(bn&&(e.e>m2||e.e<-m2))throw Error(M6+wi(e));return e}function _B(e,t){var r,a,n,i,s,o,c,d,f,m,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),bn?Xa(t,p):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),s=d-a,s){for(f=s<0,f?(r=c,s=-s,o=m.length):(r=m,a=d,o=c.length),n=Math.max(Math.ceil(p/on),o)+2,s>n&&(s=n,r.length=1),r.reverse(),n=s;n--;)r.push(0);r.reverse()}else{for(n=c.length,o=m.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(c[n]!=m[n]){f=c[n]<m[n];break}s=0}for(f&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,n=m.length-o;n>0;--n)c[o++]=0;for(n=m.length;n>s;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=Zi-1;--c[i],c[n]+=Zi}c[n]-=m[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,bn?Xa(t,p):t):new x(0)}function Xh(e,t,r){var a,n=wi(e),i=Nu(e.d),s=i.length;return t?(r&&(a=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+K0(a):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+K0(-n-1)+i,r&&(a=r-s)>0&&(i+=K0(a))):n>=s?(i+=K0(n+1-s),r&&(a=r-n-1)>0&&(i=i+"."+K0(a))):((a=n+1)<s&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-s)>0&&(n+1===s&&(i+="."),i+=K0(a))),e.s<0?"-"+i:i}function eP(e,t){if(e.length>t)return e.length=t,!0}function SB(e){var t,r,a;function n(i){var s=this;if(!(s instanceof n))return new n(i);if(s.constructor=n,i instanceof n){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Dh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return Z7(s,i.toString())}else if(typeof i!="string")throw Error(Dh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,ooe.test(i))Z7(s,i);else throw Error(Dh+i)}if(n.prototype=Bt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=SB,n.config=n.set=loe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function loe(e){if(!e||typeof e!="object")throw Error(Yl+"Object expected");var t,r,a,n=["precision",1,jg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(Ag(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(Dh+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Dh+r+": "+a);return this}var R6=SB(soe);il=new R6(1);const Pa=R6;var coe=e=>e,NB={},jB=e=>e===NB,tP=e=>function t(){return arguments.length===0||arguments.length===1&&jB(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},AB=(e,t)=>e===1?t:tP(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var i=a.filter(s=>s!==NB).length;return i>=e?t(...a):AB(e-i,tP(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var d=a.map(f=>jB(f)?o.shift():f);return t(...d,...o)}))}),kw=e=>AB(e.length,e),vS=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},uoe=kw((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),doe=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return coe;var n=r.reverse(),i=n[0],s=n.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},yS=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),TB=e=>{var t=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t&&n.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,r=e(...n)),r}};function EB(e){var t;return e===0?t=1:t=Math.floor(new Pa(e).abs().log(10).toNumber())+1,t}function CB(e,t,r){for(var a=new Pa(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}kw((e,t,r)=>{var a=+e,n=+t;return a+r*(n-a)});kw((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});kw((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var OB=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},PB=(e,t,r)=>{if(e.lte(0))return new Pa(0);var a=EB(e.toNumber()),n=new Pa(10).pow(a),i=e.div(n),s=a!==1?.05:.1,o=new Pa(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(n);return t?new Pa(c.toNumber()):new Pa(Math.ceil(c.toNumber()))},foe=(e,t,r)=>{var a=new Pa(1),n=new Pa(e);if(!n.isint()&&r){var i=Math.abs(e);i<1?(a=new Pa(10).pow(EB(e)-1),n=new Pa(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new Pa(Math.floor(e)))}else e===0?n=new Pa(Math.floor((t-1)/2)):r||(n=new Pa(Math.floor(e)));var s=Math.floor((t-1)/2),o=doe(uoe(c=>n.add(new Pa(c-s).mul(a)).toNumber()),vS);return o(0,t)},DB=function(t,r,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Pa(0),tickMin:new Pa(0),tickMax:new Pa(0)};var s=PB(new Pa(r).sub(t).div(a-1),n,i),o;t<=0&&r>=0?o=new Pa(0):(o=new Pa(t).add(r).div(2),o=o.sub(new Pa(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new Pa(r).sub(o).div(s).toNumber()),f=c+d+1;return f>a?DB(t,r,a,n,i+1):(f<a&&(d=r>0?d+(a-f):d,c=r>0?c:c+(a-f)),{step:s,tickMin:o.sub(new Pa(c).mul(s)),tickMax:o.add(new Pa(d).mul(s))})};function hoe(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[s,o]=OB([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...vS(0,a-1).map(()=>1/0)]:[...vS(0,a-1).map(()=>-1/0),o];return t>r?yS(c):c}if(s===o)return foe(s,a,n);var{step:d,tickMin:f,tickMax:m}=DB(s,o,i,n,0),x=CB(f,m.add(new Pa(.1).mul(d)),d);return t>r?yS(x):x}function moe(e,t){var[r,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=OB([r,a]);if(i===-1/0||s===1/0)return[r,a];if(i===s)return[i];var o=Math.max(t,2),c=PB(new Pa(s).sub(i).div(o-1),n,0),d=[...CB(new Pa(i),new Pa(s),c),s];return n===!1&&(d=d.map(f=>Math.round(f))),r>a?yS(d):d}var poe=TB(hoe),goe=TB(moe),LB=e=>e.rootProps.maxBarSize,xoe=e=>e.rootProps.barGap,MB=e=>e.rootProps.barCategoryGap,voe=e=>e.rootProps.barSize,fv=e=>e.rootProps.stackOffset,I6=e=>e.options.chartName,F6=e=>e.rootProps.syncId,RB=e=>e.rootProps.syncMethod,B6=e=>e.options.eventEmitter,_d={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Zo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_w=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yoe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_d.angleAxisId,includeHidden:!1,name:void 0,reversed:_d.reversed,scale:_d.scale,tick:_d.tick,tickCount:void 0,ticks:void 0,type:_d.type,unit:void 0},boe={allowDataOverflow:Zo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zo.scale,tick:Zo.tick,tickCount:Zo.tickCount,ticks:void 0,type:Zo.type,unit:void 0},woe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_d.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_d.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_d.scale,tick:_d.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},koe={allowDataOverflow:Zo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zo.scale,tick:Zo.tick,tickCount:Zo.tickCount,ticks:void 0,type:"category",unit:void 0},U6=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?woe:yoe,z6=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?koe:boe,Sw=e=>e.polarOptions,q6=Ze([Jd,Zd,Ui],mF),IB=Ze([Sw,q6],(e,t)=>{if(e!=null)return Fs(e.innerRadius,t,0)}),FB=Ze([Sw,q6],(e,t)=>{if(e!=null)return Fs(e.outerRadius,t,t*.8)}),_oe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},BB=Ze([Sw],_oe);Ze([U6,BB],_w);var UB=Ze([q6,IB,FB],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ze([z6,UB],_w);var zB=Ze([Qr,Sw,IB,FB,Jd,Zd],(e,t,r,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:s,cy:o,startAngle:c,endAngle:d}=t;return{cx:Fs(s,n,n/2),cy:Fs(o,i,i/2),innerRadius:r,outerRadius:a,startAngle:c,endAngle:d,clockWise:!1}}}),_n=(e,t)=>t,hv=(e,t,r)=>r;function Nw(e){return e==null?void 0:e.id}var $i=e=>{var t=Qr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Tg=e=>e.tooltip.settings.axisId,Hi=e=>{var t=$i(e),r=Tg(e);return mv(e,t,r)},qB=Ze([Hi],e=>e==null?void 0:e.dataKey);function $B(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:a;if(!(d==null||d.length===0)){var f=Nw(o);d.forEach((m,x)=>{var p=i==null||n?x:String($a(m,i,null)),y=$a(m,o.dataKey,0),v;s.has(p)?v=s.get(p):v={},Object.assign(v,{[f]:y}),s.set(p,v)})}}),Array.from(s.values())}function jw(e){return e.stackId!=null&&e.dataKey!=null}var Aw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Tw(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(a){Soe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Soe(e,t,r){return(t=Noe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Noe(e){var t=joe(e,"string");return typeof t=="symbol"?t:t+""}function joe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bS=[0,"auto"],Xo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},HB=(e,t)=>e.cartesianAxis.xAxis[t],r0=(e,t)=>{var r=HB(e,t);return r??Xo},Qo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:iv},WB=(e,t)=>e.cartesianAxis.yAxis[t],a0=(e,t)=>{var r=WB(e,t);return r??Qo},Aoe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$6=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Aoe},Mn=(e,t,r)=>{switch(t){case"xAxis":return r0(e,r);case"yAxis":return a0(e,r);case"zAxis":return $6(e,r);case"angleAxis":return U6(e,r);case"radiusAxis":return z6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Toe=(e,t,r)=>{switch(t){case"xAxis":return r0(e,r);case"yAxis":return a0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mv=(e,t,r)=>{switch(t){case"xAxis":return r0(e,r);case"yAxis":return a0(e,r);case"angleAxis":return U6(e,r);case"radiusAxis":return z6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VB=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function H6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var pv=e=>e.graphicalItems.cartesianItems,Eoe=Ze([_n,hv],H6),W6=(e,t,r)=>e.filter(r).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),gv=Ze([pv,Mn,Eoe],W6,{memoizeOptions:{resultEqualityCheck:Tw}}),KB=Ze([gv],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jw)),GB=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Coe=Ze([gv],GB),V6=e=>e.map(t=>t.data).filter(Boolean).flat(1),Ooe=Ze([gv],V6,{memoizeOptions:{resultEqualityCheck:Tw}}),K6=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},G6=Ze([Ooe,dv],K6),Y6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:$a(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:$a(n,a)}))):e.map(a=>({value:a})),Ew=Ze([G6,Mn,gv],Y6);function YB(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function kb(e){if(Ou(e)||e instanceof Date){var t=Number(e);if(ki(t))return t}}function aP(e){if(Array.isArray(e)){var t=[kb(e[0]),kb(e[1])];return Yh(t)?t:void 0}var r=kb(e);if(r!=null)return[r,r]}function Eg(e){return e.map(kb).filter(Gae)}function Poe(e,t,r){return!r||typeof t!="number"||dl(t)?[]:r.length?Eg(r.flatMap(a=>{var n=$a(e,a.dataKey),i,s;if(Array.isArray(n)?[i,s]=n:i=s=n,!(!ki(i)||!ki(s)))return[t-i,t+s]})):[]}var Doe=Ze([KB,dv,Hi],$B),XB=(e,t,r)=>{var a={},n=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[s,o]=i,c=o.map(Nw);return[s,{stackedData:vre(e,c,r),graphicalItems:o}]}))},N1=Ze([Doe,KB,fv],XB),QB=(e,t,r,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(a==null&&r!=="zAxis"){var s=kre(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Loe=Ze([Mn],e=>e.allowDataOverflow),X6=e=>{var t;if(e==null||!("domain"in e))return bS;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Eg(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:bS},Q6=Ze([Mn],X6),J6=Ze([Q6,Loe],yB),Moe=Ze([N1,jf,_n,J6],QB,{memoizeOptions:{resultEqualityCheck:Aw}}),Cw=e=>e.errorBars,Roe=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>YB(r,a)),g2=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r.filter(Boolean);if(n.length!==0){var i=n.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},Z6=(e,t,r,a,n)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var d,f,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(k=>YB(n,k)),x=$a(o,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey),p=Poe(o,x,m);if(p.length>=2){var y=Math.min(...p),v=Math.max(...p);(i==null||y<i)&&(i=y),(s==null||v>s)&&(s=v)}var b=aP(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=aP($a(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),ki(i)&&ki(s))return[i,s]},Ioe=Ze([G6,Mn,Coe,Cw,_n],Z6,{memoizeOptions:{resultEqualityCheck:Aw}});function Foe(e){var{value:t}=e;if(Ou(t)||t instanceof Date)return t}var Boe=(e,t,r)=>{var a=e.map(Foe).filter(n=>n!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&SI(a))?FF(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},JB=e=>e.referenceElements.dots,Cg=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),Uoe=Ze([JB,_n,hv],Cg),ZB=e=>e.referenceElements.areas,zoe=Ze([ZB,_n,hv],Cg),eU=e=>e.referenceElements.lines,qoe=Ze([eU,_n,hv],Cg),tU=(e,t)=>{var r=Eg(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$oe=Ze(Uoe,_n,tU),rU=(e,t)=>{var r=Eg(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hoe=Ze([zoe,_n],rU),aU=(e,t)=>{var r=Eg(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Woe=Ze(qoe,_n,aU),Voe=Ze($oe,Woe,Hoe,(e,t,r)=>g2(e,r,t)),ej=(e,t,r,a,n,i,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",d=c?g2(a,i,n):g2(i,n);return ioe(t,d,e.allowDataOverflow)},Koe=Ze([Mn,Q6,J6,Moe,Ioe,Voe,Qr,_n],ej,{memoizeOptions:{resultEqualityCheck:Aw}}),Goe=[0,1],tj=(e,t,r,a,n,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,d=Ru(t,i);return d&&o==null?FF(0,r.length):c==="category"?Boe(a,e,d):n==="expand"?Goe:s}},rj=Ze([Mn,Qr,G6,Ew,fv,_n,Koe],tj),nU=(e,t,r,a,n)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":s==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(tv(i));return o in zx?o:"point"}}},Og=Ze([Mn,Qr,VB,I6,_n],nU);function Yoe(e){if(e!=null){if(e in zx)return zx[e]();var t="scale".concat(tv(e));if(t in zx)return zx[t]()}}function aj(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var n=Yoe(t);if(n!=null){var i=n.domain(r).range(a);return hre(i),i}}}var nj=(e,t,r)=>{var a=X6(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Yh(e))return poe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Yh(e))return goe(e,t.tickCount,t.allowDecimals)}},ij=Ze([rj,mv,Og],nj),sj=(e,t,r,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Yh(t)&&Array.isArray(r)&&r.length>0){var n=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(n,i),Math.max(s,o)]}return t},Xoe=Ze([Mn,rj,ij,_n],sj),Qoe=Ze(Ew,Mn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Eg(e.map(o=>o.value))).sort((o,c)=>o-c);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var s=a[i+1]-a[i];r=Math.min(r,s)}return r/n}}),iU=Ze(Qoe,Qr,MB,Ui,(e,t,r,a)=>a,(e,t,r,a,n)=>{if(!ki(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var s=Fs(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),Joe=(e,t)=>{var r=r0(e,t);return r==null||typeof r.padding!="string"?0:iU(e,"xAxis",t,r.padding)},Zoe=(e,t)=>{var r=a0(e,t);return r==null||typeof r.padding!="string"?0:iU(e,"yAxis",t,r.padding)},ele=Ze(r0,Joe,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((r=n.left)!==null&&r!==void 0?r:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),tle=Ze(a0,Zoe,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((r=n.top)!==null&&r!==void 0?r:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),rle=Ze([Ui,ele,hw,fw,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:i}=a;return n?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),ale=Ze([Ui,Qr,tle,hw,fw,(e,t,r)=>r],(e,t,r,a,n,i)=>{var{padding:s}=n;return i?[a.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),xv=(e,t,r,a)=>{var n;switch(t){case"xAxis":return rle(e,r,a);case"yAxis":return ale(e,r,a);case"zAxis":return(n=$6(e,r))===null||n===void 0?void 0:n.range;case"angleAxis":return BB(e);case"radiusAxis":return UB(e,r);default:return}},sU=Ze([Mn,xv],_w),Pg=Ze([Mn,Og,Xoe,sU],aj);Ze([gv,Cw,_n],Roe);function oU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ow=(e,t)=>t,Pw=(e,t,r)=>r,nle=Ze(uw,Ow,Pw,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(oU)),ile=Ze(dw,Ow,Pw,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(oU)),lU=(e,t)=>({width:e.width,height:t.height}),sle=(e,t)=>{var r=typeof t.width=="number"?t.width:iv;return{width:r,height:e.height}},cU=Ze(Ui,r0,lU),ole=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},lle=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},cle=Ze(Zd,Ui,nle,Ow,Pw,(e,t,r,a,n)=>{var i={},s;return r.forEach(o=>{var c=lU(t,o);s==null&&(s=ole(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[o.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),i}),ule=Ze(Jd,Ui,ile,Ow,Pw,(e,t,r,a,n)=>{var i={},s;return r.forEach(o=>{var c=sle(t,o);s==null&&(s=lle(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[o.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),i}),dle=(e,t)=>{var r=r0(e,t);if(r!=null)return cle(e,r.orientation,r.mirror)},fle=Ze([Ui,r0,dle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var n=r==null?void 0:r[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),hle=(e,t)=>{var r=a0(e,t);if(r!=null)return ule(e,r.orientation,r.mirror)},mle=Ze([Ui,a0,hle,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var n=r==null?void 0:r[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),uU=Ze(Ui,a0,(e,t)=>{var r=typeof t.width=="number"?t.width:iv;return{width:r,height:e.height}}),nP=(e,t,r)=>{switch(t){case"xAxis":return cU(e,r).width;case"yAxis":return uU(e,r).height;default:return}},dU=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:n,type:i,dataKey:s}=r,o=Ru(e,a),c=t.map(d=>d.value);if(s&&o&&i==="category"&&n&&SI(c))return c}},oj=Ze([Qr,Ew,Mn,_n],dU),fU=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:n,scale:i}=r,s=Ru(e,a);if(s&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},lj=Ze([Qr,Ew,mv,_n],fU),iP=Ze([Qr,Toe,Og,Pg,oj,lj,xv,ij,_n],(e,t,r,a,n,i,s,o,c)=>{if(t==null)return null;var d=Ru(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:s,realScaleType:r,scale:a}}),ple=(e,t,r,a,n,i,s,o,c)=>{if(!(t==null||a==null)){var d=Ru(e,c),{type:f,ticks:m,tickCount:x}=t,p=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=f==="category"&&a.bandwidth?a.bandwidth()/p:0;y=c==="angleAxis"&&i!=null&&i.length>=2?as(i[0]-i[1])*2*y:y;var v=m||n;if(v){var b=v.map((k,N)=>{var _=s?s.indexOf(k):k;return{index:N,coordinate:a(_)+y,value:k,offset:y}});return b.filter(k=>!dl(k.coordinate))}return d&&o?o.map((k,N)=>({coordinate:a(k)+y,value:k,index:N,offset:y})):a.ticks?a.ticks(x).map(k=>({coordinate:a(k)+y,value:k,offset:y})):a.domain().map((k,N)=>({coordinate:a(k)+y,value:s?s[k]:k,index:N,offset:y}))}},hU=Ze([Qr,mv,Og,Pg,ij,xv,oj,lj,_n],ple),gle=(e,t,r,a,n,i,s)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var o=Ru(e,s),{tickCount:c}=t,d=0;return d=s==="angleAxis"&&(a==null?void 0:a.length)>=2?as(a[0]-a[1])*2*d:d,o&&i?i.map((f,m)=>({coordinate:r(f)+d,value:f,index:m,offset:d})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+d,value:f,offset:d})):r.domain().map((f,m)=>({coordinate:r(f)+d,value:n?n[f]:f,index:m,offset:d}))}},Du=Ze([Qr,mv,Pg,xv,oj,lj,_n],gle),Lu=Ze(Mn,Pg,(e,t)=>{if(!(e==null||t==null))return p2(p2({},e),{},{scale:t})}),xle=Ze([Mn,Og,rj,sU],aj);Ze((e,t,r)=>$6(e,r),xle,(e,t)=>{if(!(e==null||t==null))return p2(p2({},e),{},{scale:t})});var vle=Ze([Qr,uw,dw],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mU=e=>e.options.defaultTooltipEventType,pU=e=>e.options.validateTooltipEventTypes;function gU(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function cj(e,t){var r=mU(e),a=pU(e);return gU(t,r,a)}function yle(e){return Vt(t=>cj(t,e))}var xU=(e,t)=>{var r,a=Number(t);if(!(dl(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},ble=e=>e.tooltip.settings,X0={active:!1,index:null,dataKey:void 0,coordinate:void 0},wle={itemInteraction:{click:X0,hover:X0},axisInteraction:{click:X0,hover:X0},keyboardInteraction:X0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},vU=ml({name:"tooltip",initialState:wle,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ao()},removeTooltipEntrySettings:{reducer(e,t){var r=Od(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ao()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kle,removeTooltipEntrySettings:_le,setTooltipSettingsState:Sle,setActiveMouseOverItemIndex:yU,mouseLeaveItem:Nle,mouseLeaveChart:bU,setActiveClickItemIndex:jle,setMouseOverAxisIndex:wU,setMouseClickAxisIndex:Ale,setSyncInteraction:wS,setKeyboardInteraction:kS}=vU.actions,Tle=vU.reducer;function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(a){Ele(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ele(e,t,r){return(t=Cle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=Ole(e,"string");return typeof t=="symbol"?t:t+""}function Ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ple(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Dle(e){return e.index!=null}var kU=(e,t,r,a)=>{if(t==null)return X0;var n=Ple(e,t,r);if(n==null)return X0;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Dle(n)){if(i)return Gy(Gy({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Gy(Gy({},X0),{},{coordinate:n.coordinate})},uj=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var a=Number(r);if(!ki(a))return r;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(a,i)))},_U=(e,t,r,a,n,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var f=n==null?void 0:n[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:f.coordinate}}}},SU=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return r==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===n})},vv=e=>e.options.tooltipPayloadSearcher,Dg=e=>e.tooltip;function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(a){Lle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lle(e,t,r){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mle(e){var t=Rle(e,"string");return typeof t=="symbol"?t:t+""}function Rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ile(e,t){return e??t}var NU=(e,t,r,a,n,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:f}=r,m=[];return e.reduce((x,p)=>{var y,{dataDefinedOnItem:v,settings:b}=p,k=Ile(v,o),N=Array.isArray(k)?pF(k,d,f):k,_=(y=b==null?void 0:b.dataKey)!==null&&y!==void 0?y:a,T=b==null?void 0:b.nameKey,L;if(a&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?L=NI(N,a,n):L=i(N,t,c,T),Array.isArray(L))L.forEach(R=>{var U=lP(lP({},b),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});x.push(IO({tooltipEntrySettings:U,dataKey:R.dataKey,payload:R.payload,value:$a(R.payload,R.dataKey),name:R.name}))});else{var D;x.push(IO({tooltipEntrySettings:b,dataKey:_,payload:L,value:$a(L,_),name:(D=$a(L,T))!==null&&D!==void 0?D:b==null?void 0:b.name}))}return x},m)}},dj=Ze([Hi,Qr,VB,I6,$i],nU),Fle=Ze([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ble=Ze([$i,Tg],H6),yv=Ze([Fle,Hi,Ble],W6,{memoizeOptions:{resultEqualityCheck:Tw}}),Ule=Ze([yv],e=>e.filter(jw)),zle=Ze([yv],V6,{memoizeOptions:{resultEqualityCheck:Tw}}),Lg=Ze([zle,jf],K6),qle=Ze([Ule,jf,Hi],$B),fj=Ze([Lg,Hi,yv],Y6),jU=Ze([Hi],X6),$le=Ze([Hi],e=>e.allowDataOverflow),AU=Ze([jU,$le],yB),Hle=Ze([yv],e=>e.filter(jw)),Wle=Ze([qle,Hle,fv],XB),Vle=Ze([Wle,jf,$i,AU],QB),Kle=Ze([yv],GB),Gle=Ze([Lg,Hi,Kle,Cw,$i],Z6,{memoizeOptions:{resultEqualityCheck:Aw}}),Yle=Ze([JB,$i,Tg],Cg),Xle=Ze([Yle,$i],tU),Qle=Ze([ZB,$i,Tg],Cg),Jle=Ze([Qle,$i],rU),Zle=Ze([eU,$i,Tg],Cg),ece=Ze([Zle,$i],aU),tce=Ze([Xle,ece,Jle],g2),rce=Ze([Hi,jU,AU,Vle,Gle,tce,Qr,$i],ej),TU=Ze([Hi,Qr,Lg,fj,fv,$i,rce],tj),ace=Ze([TU,Hi,dj],nj),nce=Ze([Hi,TU,ace,$i],sj),EU=e=>{var t=$i(e),r=Tg(e),a=!1;return xv(e,t,r,a)},CU=Ze([Hi,EU],_w),OU=Ze([Hi,dj,nce,CU],aj),ice=Ze([Qr,fj,Hi,$i],dU),sce=Ze([Qr,fj,Hi,$i],fU),oce=(e,t,r,a,n,i,s,o)=>{if(t){var{type:c}=t,d=Ru(e,o);if(a){var f=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=c==="category"&&a.bandwidth?a.bandwidth()/f:0;return m=o==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?as(n[0]-n[1])*2*m:m,d&&s?s.map((x,p)=>({coordinate:a(x)+m,value:x,index:p,offset:m})):a.domain().map((x,p)=>({coordinate:a(x)+m,value:i?i[x]:x,index:p,offset:m}))}}},n0=Ze([Qr,Hi,dj,OU,EU,ice,sce,$i],oce),hj=Ze([mU,pU,ble],(e,t,r)=>gU(r.shared,e,t)),PU=e=>e.tooltip.settings.trigger,mj=e=>e.tooltip.settings.defaultIndex,Dw=Ze([Dg,hj,PU,mj],kU),mf=Ze([Dw,Lg],uj),DU=Ze([n0,mf],xU),LU=Ze([Dw],e=>{if(e)return e.dataKey}),MU=Ze([Dg,hj,PU,mj],SU),lce=Ze([Jd,Zd,Qr,Ui,n0,mj,MU,vv],_U),cce=Ze([Dw,lce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),uce=Ze([Dw],e=>e.active),dce=Ze([MU,mf,jf,qB,DU,vv,hj],NU),fce=Ze([dce],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(a){hce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hce(e,t,r){return(t=mce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mce(e){var t=pce(e,"string");return typeof t=="symbol"?t:t+""}function pce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gce=()=>Vt(Hi),xce=()=>{var e=gce(),t=Vt(n0),r=Vt(OU);return Kh(uP(uP({},e),{},{scale:r}),t)},RU=()=>Vt(I6),pj=(e,t)=>t,IU=(e,t,r)=>r,gj=(e,t,r,a)=>a,vce=Ze(n0,e=>nw(e,t=>t.coordinate)),xj=Ze([Dg,pj,IU,gj],kU),FU=Ze([xj,Lg],uj),yce=(e,t,r)=>{if(t!=null){var a=Dg(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},BU=Ze([Dg,pj,IU,gj],SU),x2=Ze([Jd,Zd,Qr,Ui,n0,gj,BU,vv],_U),bce=Ze([xj,x2],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),UU=Ze(n0,FU,xU),wce=Ze([BU,FU,jf,qB,UU,vv,pj],NU),kce=Ze([xj],e=>({isActive:e.active,activeIndex:e.index})),_ce=(e,t,r,a,n,i,s,o)=>{if(!(!e||!t||!a||!n||!i)){var c=_re(e.chartX,e.chartY,t,r,o);if(c){var d=Nre(c,t),f=dre(d,s,i,a,n),m=Sre(t,i,f,c);return{activeIndex:String(f),activeCoordinate:m}}}};function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_S.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(a){Sce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Sce(e,t,r){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=jce(e,"string");return typeof t=="symbol"?t:t+""}function jce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ace(e){var{coordinate:t,payload:r,index:a,offset:n,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:c,chartName:d}=e,f=t,m=r,x=a;if(!o||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,y;if(d==="ScatterChart")p=f,y=zae;else if(d==="BarChart")p=qae(s,f,n,i),y=LF;else if(s==="radial"){var{cx:v,cy:b,radius:k,startAngle:N,endAngle:_}=MF(f);p={cx:v,cy:b,startAngle:N,endAngle:_,innerRadius:k,outerRadius:k},y=IF}else p={points:Nne(s,f,n)},y=Ip;var T=typeof o=="object"&&"className"in o?o.className:void 0,L=Yy(Yy(Yy(Yy({stroke:"#ccc",pointerEvents:"none"},n),p),$h(o)),{},{payload:m,payloadIndex:x,className:Br("recharts-tooltip-cursor",T)});return j.isValidElement(o)?j.cloneElement(o,L):j.createElement(y,L)}function Tce(e){var t=xce(),r=NF(),a=sv(),n=RU();return j.createElement(Ace,_S({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:n}))}var zU=j.createContext(null),Ece=()=>j.useContext(zU),J4={exports:{}},fP;function Cce(){return fP||(fP=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function i(c,d,f,m,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new n(f,m||c,x),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)t.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,p=m.length,y=new Array(p);x<p;x++)y[x]=m[x].fn;return y},o.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,f,m,x,p,y){var v=r?r+d:d;if(!this._events[v])return!1;var b=this._events[v],k=arguments.length,N,_;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,x),!0;case 5:return b.fn.call(b.context,f,m,x,p),!0;case 6:return b.fn.call(b.context,f,m,x,p,y),!0}for(_=1,N=new Array(k-1);_<k;_++)N[_-1]=arguments[_];b.fn.apply(b.context,N)}else{var T=b.length,L;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(d,b[_].fn,void 0,!0),k){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,f);break;case 3:b[_].fn.call(b[_].context,f,m);break;case 4:b[_].fn.call(b[_].context,f,m,x);break;default:if(!N)for(L=1,N=new Array(k-1);L<k;L++)N[L-1]=arguments[L];b[_].fn.apply(b[_].context,N)}}return!0},o.prototype.on=function(d,f,m){return i(this,d,f,m,!1)},o.prototype.once=function(d,f,m){return i(this,d,f,m,!0)},o.prototype.removeListener=function(d,f,m,x){var p=r?r+d:d;if(!this._events[p])return this;if(!f)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===f&&(!x||y.once)&&(!m||y.context===m)&&s(this,p);else{for(var v=0,b=[],k=y.length;v<k;v++)(y[v].fn!==f||x&&!y[v].once||m&&y[v].context!==m)&&b.push(y[v]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&s(this,f)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(J4)),J4.exports}var Oce=Cce();const Pce=Uc(Oce);var j1=new Pce,SS="recharts.syncEvent.tooltip",hP="recharts.syncEvent.brush";function bv(e,t){if(t){var r=Number.parseInt(t,10);if(!dl(r))return e==null?void 0:e[r]}}var Dce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},qU=ml({name:"options",initialState:Dce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lce=qU.reducer,{createEventEmitter:Mce}=qU.actions;function Rce(e){return e.tooltip.syncInteraction}var Ice={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$U=ml({name:"chartData",initialState:Ice,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:mP,setDataStartEndIndexes:Fce,setComputedData:ZAe}=$U.actions,Bce=$U.reducer,Uce=["x","y"];function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(a){zce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function zce(e,t,r){return(t=qce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qce(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hce(e,t){if(e==null)return{};var r,a,n=Wce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var HU=()=>{};function Vce(){var e=Vt(F6),t=Vt(B6),r=kn(),a=Vt(RB),n=Vt(n0),i=sv(),s=mw(),o=Vt(c=>c.rootProps.className);j.useEffect(()=>{if(e==null)return HU;var c=(d,f,m)=>{if(t!==m&&e===d){if(a==="index"){var x;if(s&&f!==null&&f!==void 0&&(x=f.payload)!==null&&x!==void 0&&x.coordinate&&f.payload.sourceViewBox){var p=f.payload.coordinate,{x:y,y:v}=p,b=Hce(p,Uce),{x:k,y:N,width:_,height:T}=f.payload.sourceViewBox,L=xp(xp({},b),{},{x:s.x+(_?(y-k)/_:0)*s.width,y:s.y+(T?(v-N)/T:0)*s.height});r(xp(xp({},f),{},{payload:xp(xp({},f.payload),{},{coordinate:L})}))}else r(f);return}if(n!=null){var D;if(typeof a=="function"){var R={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},U=a(n,R);D=n[U]}else a==="value"&&(D=n.find(X=>String(X.value)===f.payload.label));var{coordinate:F}=f.payload;if(D==null||f.payload.active===!1||F==null||s==null){r(wS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:W,y:O}=F,M=Math.min(W,s.x+s.width),H=Math.min(O,s.y+s.height),Y={x:i==="horizontal"?D.coordinate:M,y:i==="horizontal"?H:D.coordinate},ne=wS({active:f.payload.active,coordinate:Y,dataKey:f.payload.dataKey,index:String(D.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});r(ne)}}};return j1.on(SS,c),()=>{j1.off(SS,c)}},[o,r,t,e,a,n,i,s])}function Kce(){var e=Vt(F6),t=Vt(B6),r=kn();j.useEffect(()=>{if(e==null)return HU;var a=(n,i,s)=>{t!==s&&e===n&&r(Fce(i))};return j1.on(hP,a),()=>{j1.off(hP,a)}},[r,t,e])}function Gce(){var e=kn();j.useEffect(()=>{e(Mce())},[e]),Vce(),Kce()}function Yce(e,t,r,a,n,i){var s=Vt(p=>yce(p,e,t)),o=Vt(B6),c=Vt(F6),d=Vt(RB),f=Vt(Rce),m=f==null?void 0:f.active,x=mw();j.useEffect(()=>{if(!m&&c!=null&&o!=null){var p=wS({active:i,coordinate:r,dataKey:s,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:x});j1.emit(SS,c,p,o)}},[m,r,s,n,a,o,c,d,i,x])}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(a){Xce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xce(e,t,r){return(t=Qce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qce(e){var t=Jce(e,"string");return typeof t=="symbol"?t:t+""}function Jce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zce(e){return e.dataKey}function eue(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(yae,t)}var vP=[],tue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!e0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ju(e){var t=zi(e,tue),{active:r,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:s,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:f,position:m,reverseDirection:x,useTranslate3d:p,wrapperStyle:y,cursor:v,shared:b,trigger:k,defaultIndex:N,portal:_,axisId:T}=t,L=kn(),D=typeof N=="number"?String(N):N;j.useEffect(()=>{L(Sle({shared:b,trigger:k,axisId:T,active:r,defaultIndex:D}))},[L,b,k,T,r,D]);var R=mw(),U=EF(),F=yle(b),{activeIndex:W,isActive:O}=Vt(z=>kce(z,F,k,D)),M=Vt(z=>wce(z,F,k,D)),H=Vt(z=>UU(z,F,k,D)),Y=Vt(z=>bce(z,F,k,D)),ne=M,X=Ece(),re=r??O,[fe,ce]=zI([ne,re]),ke=F==="axis"?H:void 0;Yce(F,k,Y,ke,W,re);var Z=_??X;if(Z==null)return null;var P=ne??vP;re||(P=vP),o&&P.length&&(P=RI(ne.filter(z=>z.value!=null&&(z.hide!==!0||t.includeHidden)),f,Zce));var q=P.length>0,V=j.createElement(jae,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:c,active:re,coordinate:Y,hasPayload:q,offset:d,position:m,reverseDirection:x,useTranslate3d:p,viewBox:R,wrapperStyle:y,lastBoundingBox:fe,innerRef:ce,hasPortalFromProps:!!_},eue(s,xP(xP({},t),{},{payload:P,label:ke,active:re,coordinate:Y,accessibilityLayer:U})));return j.createElement(j.Fragment,null,TM.createPortal(V,Z),re&&j.createElement(Tce,{cursor:v,tooltipEventType:F,coordinate:Y,payload:ne,index:W}))}var Mg=e=>null;Mg.displayName="Cell";function rue(e,t,r){return(t=aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iue{constructor(t){rue(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function sue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(a){oue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function oue(e,t,r){return(t=lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uue={cacheSize:2e3,enableCache:!0},WU=sue({},uue),bP=new iue(WU.cacheSize),due={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wP="recharts_measurement_span";function fue(e,t){var r=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(o)}var kP=(e,t)=>{try{var r=document.getElementById(wP);r||(r=document.createElement("span"),r.setAttribute("id",wP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,due,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Xx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||e0.isSsr)return{width:0,height:0};if(!WU.enableCache)return kP(t,r);var a=fue(t,r),n=bP.get(a);if(n)return n;var i=kP(t,r);return bP.set(a,i),i},_P=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pue=Object.keys(VU),Op="NaN";function gue(e,t){return e*VU[t]}class Co{static parse(t){var r,[,a,n]=(r=mue.exec(t))!==null&&r!==void 0?r:[];return new Co(parseFloat(a),n??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,dl(t)&&(this.unit=""),r!==""&&!hue.test(r)&&(this.num=NaN,this.unit=""),pue.includes(r)&&(this.num=gue(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Co(NaN,""):new Co(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Co(NaN,""):new Co(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Co(NaN,""):new Co(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Co(NaN,""):new Co(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return dl(this.num)}}function KU(e){if(e.includes(Op))return Op;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,i]=(r=_P.exec(t))!==null&&r!==void 0?r:[],s=Co.parse(a??""),o=Co.parse(i??""),c=n==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Op;t=t.replace(_P,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,f,m,x]=(d=SP.exec(t))!==null&&d!==void 0?d:[],p=Co.parse(f??""),y=Co.parse(x??""),v=m==="+"?p.add(y):p.subtract(y);if(v.isNaN())return Op;t=t.replace(SP,v.toString())}return t}var NP=/\(([^()]*)\)/;function xue(e){for(var t=e,r;(r=NP.exec(t))!=null;){var[,a]=r;t=t.replace(NP,KU(a))}return t}function vue(e){var t=e.replace(/\s+/g,"");return t=xue(t),t=KU(t),t}function yue(e){try{return vue(e)}catch{return Op}}function Z4(e){var t=yue(e.slice(5,-1));return t===Op?"":t}var bue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wue=["dx","dy","angle","className","breakAll"];function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},NS.apply(null,arguments)}function jP(e,t){if(e==null)return{};var r,a,n=kue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var GU=/[ \f\n\r\t\v\u2028\u2029]+/,YU=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];un(t)||(r?n=t.toString().split(""):n=t.toString().split(GU));var i=n.map(o=>({word:o,width:Xx(o,a).width})),s=r?0:Xx("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},_ue=(e,t,r,a,n)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,d=Ht(i),f=s,m=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((M,H)=>{var{word:Y,width:ne}=H,X=M[M.length-1];if(X&&(a==null||n||X.width+ne+r<Number(a)))X.words.push(Y),X.width+=ne+r;else{var re={words:[Y],width:ne};M.push(re)}return M},[])},x=m(t),p=W=>W.reduce((O,M)=>O.width>M.width?O:M);if(!d||n)return x;var y=x.length>i||p(x).width>Number(a);if(!y)return x;for(var v="",b=W=>{var O=f.slice(0,W),M=YU({breakAll:c,style:o,children:O+v}).wordsWithComputedWidth,H=m(M),Y=H.length>i||p(H).width>Number(a);return[Y,H]},k=0,N=f.length-1,_=0,T;k<=N&&_<=f.length-1;){var L=Math.floor((k+N)/2),D=L-1,[R,U]=b(D),[F]=b(L);if(!R&&!F&&(k=L+1),R&&F&&(N=L-1),!R&&F){T=U;break}_++}return T||x},AP=e=>{var t=un(e)?[]:e.toString().split(GU);return[{words:t}]},Sue=e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:i,maxLines:s}=e;if((t||r)&&!e0.isSsr){var o,c,d=YU({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;o=f,c=m}else return AP(a);return _ue({breakAll:i,children:a,maxLines:s,style:n},o,c,t,r)}return AP(a)},TP="#808080",Lw=j.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=TP}=e,f=jP(e,bue),m=j.useMemo(()=>Sue({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:x,dy:p,angle:y,className:v,breakAll:b}=f,k=jP(f,wue);if(!Ou(r)||!Ou(a)||m.length===0)return null;var N=r+(Ht(x)?x:0),_=a+(Ht(p)?p:0),T;switch(c){case"start":T=Z4("calc(".concat(i,")"));break;case"middle":T=Z4("calc(".concat((m.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:T=Z4("calc(".concat(m.length-1," * -").concat(n,")"));break}var L=[];if(s){var D=m[0].width,{width:R}=f;L.push("scale(".concat(Ht(R)?R/D:1,")"))}return y&&L.push("rotate(".concat(y,", ").concat(N,", ").concat(_,")")),L.length&&(k.transform=L.join(" ")),j.createElement("text",NS({},co(k),{ref:t,x:N,y:_,className:Br("recharts-text",v),textAnchor:o,fill:d.includes("url")?TP:d}),m.map((U,F)=>{var W=U.words.join(b?"":" ");return j.createElement("tspan",{x:N,dy:F===0?T:n,key:"".concat(W,"-").concat(F)},W)}))});Lw.displayName="Text";var Nue=["labelRef"];function jue(e,t){if(e==null)return{};var r,a,n=Aue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Aue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(a){Tue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Tue(e,t,r){return(t=Eue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eue(e){var t=Cue(e,"string");return typeof t=="symbol"?t:t+""}function Cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sd.apply(null,arguments)}var XU=j.createContext(null),Oue=e=>{var{x:t,y:r,width:a,height:n,children:i}=e,s=j.useMemo(()=>({x:t,y:r,width:a,height:n}),[t,r,a,n]);return j.createElement(XU.Provider,{value:s},i)},QU=()=>{var e=j.useContext(XU),t=mw();return e||t},Pue=j.createContext(null),Due=()=>{var e=j.useContext(Pue),t=Vt(zB);return e||t},Lue=e=>{var{value:t,formatter:r}=e,a=un(e.children)?t:e.children;return typeof r=="function"?r(a):a},vj=e=>e!=null&&typeof e=="function",Mue=(e,t)=>{var r=as(t-e),a=Math.min(Math.abs(t-e),360);return r*a},Rue=(e,t,r,a,n)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:d,outerRadius:f,startAngle:m,endAngle:x,clockWise:p}=n,y=(d+f)/2,v=Mue(m,x),b=v>=0?1:-1,k,N;switch(t){case"insideStart":k=m+b*i,N=p;break;case"insideEnd":k=x-b*i,N=!p;break;case"end":k=x+b*i,N=p;break;default:throw new Error("Unsupported position ".concat(t))}N=v<=0?N:!N;var _=yi(o,c,y,k),T=yi(o,c,y,k+(N?1:-1)*359),L="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(T.x,",").concat(T.y),D=un(e.id)?p1("recharts-radial-line-"):e.id;return j.createElement("text",Sd({},a,{dominantBaseline:"central",className:Br("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:D,d:L})),j.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Iue=(e,t,r)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(r==="outside"){var{x:f,y:m}=yi(a,n,s+t,d);return{x:f,y:m,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+s)/2,{x:p,y}=yi(a,n,x,d);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},JU=e=>"cx"in e&&Ht(e.cx),Fue=(e,t)=>{var{parentViewBox:r,offset:a,position:n}=e,i;r!=null&&!JU(r)&&(i=r);var{x:s,y:o,width:c,height:d}=t,f=d>=0?1:-1,m=f*a,x=f>0?"end":"start",p=f>0?"start":"end",y=c>=0?1:-1,v=y*a,b=y>0?"end":"start",k=y>0?"start":"end";if(n==="top"){var N={x:s+c/2,y:o-f*a,textAnchor:"middle",verticalAnchor:x};return ri(ri({},N),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var _={x:s+c/2,y:o+d+m,textAnchor:"middle",verticalAnchor:p};return ri(ri({},_),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(n==="left"){var T={x:s-v,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return ri(ri({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(n==="right"){var L={x:s+c+v,y:o+d/2,textAnchor:k,verticalAnchor:"middle"};return ri(ri({},L),i?{width:Math.max(i.x+i.width-L.x,0),height:d}:{})}var D=i?{width:c,height:d}:{};return n==="insideLeft"?ri({x:s+v,y:o+d/2,textAnchor:k,verticalAnchor:"middle"},D):n==="insideRight"?ri({x:s+c-v,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},D):n==="insideTop"?ri({x:s+c/2,y:o+m,textAnchor:"middle",verticalAnchor:p},D):n==="insideBottom"?ri({x:s+c/2,y:o+d-m,textAnchor:"middle",verticalAnchor:x},D):n==="insideTopLeft"?ri({x:s+v,y:o+m,textAnchor:k,verticalAnchor:p},D):n==="insideTopRight"?ri({x:s+c-v,y:o+m,textAnchor:b,verticalAnchor:p},D):n==="insideBottomLeft"?ri({x:s+v,y:o+d-m,textAnchor:k,verticalAnchor:x},D):n==="insideBottomRight"?ri({x:s+c-v,y:o+d-m,textAnchor:b,verticalAnchor:x},D):n&&typeof n=="object"&&(Ht(n.x)||$d(n.x))&&(Ht(n.y)||$d(n.y))?ri({x:s+Fs(n.x,c),y:o+Fs(n.y,d),textAnchor:"end",verticalAnchor:"end"},D):ri({x:s+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Bue={offset:5};function G0(e){var t=zi(e,Bue),{viewBox:r,position:a,value:n,children:i,content:s,className:o="",textBreakAll:c,labelRef:d}=t,f=Due(),m=QU(),x=a==="center"?m:f??m,p=r||x;if(!p||un(n)&&un(i)&&!j.isValidElement(s)&&typeof s!="function")return null;var y=ri(ri({},t),{},{viewBox:p});if(j.isValidElement(s)){var{labelRef:v}=y,b=jue(y,Nue);return j.cloneElement(s,b)}var k;if(typeof s=="function"){if(k=j.createElement(s,y),j.isValidElement(k))return k}else k=Lue(t);var N=JU(p),_=co(t);if(N&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Rue(t,a,k,_,p);var T=N?Iue(p,t.offset,t.position):Fue(t,p);return j.createElement(Lw,Sd({ref:d,className:Br("recharts-label",o)},_,T,{breakAll:c}),k)}G0.displayName="Label";var Uue=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?j.createElement(G0,Sd({key:"label-implicit"},a)):Ou(e)?j.createElement(G0,Sd({key:"label-implicit",value:e},a)):j.isValidElement(e)?e.type===G0?j.cloneElement(e,ri({key:"label-implicit"},a)):j.createElement(G0,Sd({key:"label-implicit",content:e},a)):vj(e)?j.createElement(G0,Sd({key:"label-implicit",content:e},a)):e&&typeof e=="object"?j.createElement(G0,Sd({},e,{key:"label-implicit"},a)):null};function zue(e){var{label:t,labelRef:r}=e,a=QU();return Uue(t,a,r)||null}var e_={},t_={},CP;function que(){return CP||(CP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(t_)),t_}var r_={},OP;function $ue(){return OP||(OP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(r_)),r_}var PP;function Hue(){return PP||(PP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=que(),r=$ue(),a=ZN();function n(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=n})(e_)),e_}var a_,DP;function Wue(){return DP||(DP=1,a_=Hue().last),a_}var Vue=Wue();const Kue=Uc(Vue);var Gue=["valueAccessor"],Yue=["dataKey","clockWise","id","textBreakAll"];function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v2.apply(null,arguments)}function LP(e,t){if(e==null)return{};var r,a,n=Xue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Que=e=>Array.isArray(e.value)?Kue(e.value):e.value,ZU=j.createContext(void 0),yj=ZU.Provider,ez=j.createContext(void 0),Jue=ez.Provider;function Zue(){return j.useContext(ZU)}function ede(){return j.useContext(ez)}function _b(e){var{valueAccessor:t=Que}=e,r=LP(e,Gue),{dataKey:a,clockWise:n,id:i,textBreakAll:s}=r,o=LP(r,Yue),c=Zue(),d=ede(),f=c||d;return!f||!f.length?null:j.createElement(Gn,{className:"recharts-label-list"},f.map((m,x)=>{var p,y=un(a)?t(m,x):$a(m&&m.payload,a),v=un(i)?{}:{id:"".concat(i,"-").concat(x)};return j.createElement(G0,v2({key:"label-".concat(x)},co(m),o,v,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:s,viewBox:m.viewBox,index:x}))}))}_b.displayName="LabelList";function Mw(e){var{label:t}=e;return t?t===!0?j.createElement(_b,{key:"labelList-implicit"}):j.isValidElement(t)||vj(t)?j.createElement(_b,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(_b,v2({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jS.apply(null,arguments)}var bj=e=>{var{cx:t,cy:r,r:a,className:n}=e,i=Br("recharts-dot",n);return t===+t&&r===+r&&a===+a?j.createElement("circle",jS({},lo(e),XN(e),{className:i,cx:t,cy:r,r:a})):null},tz=e=>e.graphicalItems.polarItems,tde=Ze([_n,hv],H6),Rw=Ze([tz,Mn,tde],W6),rde=Ze([Rw],V6),Iw=Ze([rde,L6],K6),ade=Ze([Iw,Mn,Rw],Y6);Ze([Iw,Mn,Rw],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(n=>{var i,s=$a(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:$a(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var MP=()=>{},nde=Ze([Iw,Mn,Rw,Cw,_n],Z6),ide=Ze([Mn,Q6,J6,MP,nde,MP,Qr,_n],ej),rz=Ze([Mn,Qr,Iw,ade,fv,_n,ide],tj),sde=Ze([rz,Mn,Og],nj);Ze([Mn,rz,sde,_n],sj);var ode={radiusAxis:{},angleAxis:{}},az=ml({name:"polarAxis",initialState:ode,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eTe,removeRadiusAxis:tTe,addAngleAxis:rTe,removeAngleAxis:aTe}=az.actions,lde=az.reducer;function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(a){cde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cde(e,t,r){return(t=ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fde=(e,t)=>t,wj=Ze([tz,fde],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),hde=[],kj=(e,t,r)=>(r==null?void 0:r.length)===0?hde:r,nz=Ze([L6,wj,kj],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&r!=null&&(n=r.map(i=>IP(IP({},t.presentationProps),i.props))),n!=null)return n}}),mde=Ze([nz,wj,kj],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,s=$a(a,t.nameKey,t.name),o;return r!=null&&(i=r[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=t.fill,{value:_f(s,t.dataKey),color:o,payload:a,type:t.legendType}})}),pde=Ze([nz,wj,kj,Ui],(e,t,r,a)=>{if(!(t==null||e==null))return p0e({offset:a,pieSettings:t,displayedData:e,cells:r})}),n_={exports:{}},za={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function gde(){if(FP)return za;FP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case e:switch(v=v.type,v){case r:case n:case a:case c:case d:case x:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case m:case f:return v;case i:return v;default:return b}}case t:return b}}}return za.ContextConsumer=i,za.ContextProvider=s,za.Element=e,za.ForwardRef=o,za.Fragment=r,za.Lazy=m,za.Memo=f,za.Portal=t,za.Profiler=n,za.StrictMode=a,za.Suspense=c,za.SuspenseList=d,za.isContextConsumer=function(v){return y(v)===i},za.isContextProvider=function(v){return y(v)===s},za.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},za.isForwardRef=function(v){return y(v)===o},za.isFragment=function(v){return y(v)===r},za.isLazy=function(v){return y(v)===m},za.isMemo=function(v){return y(v)===f},za.isPortal=function(v){return y(v)===t},za.isProfiler=function(v){return y(v)===n},za.isStrictMode=function(v){return y(v)===a},za.isSuspense=function(v){return y(v)===c},za.isSuspenseList=function(v){return y(v)===d},za.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===n||v===a||v===c||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===s||v.$$typeof===i||v.$$typeof===o||v.$$typeof===p||v.getModuleId!==void 0)},za.typeOf=y,za}var BP;function xde(){return BP||(BP=1,n_.exports=gde()),n_.exports}var vde=xde(),UP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zP=null,i_=null,iz=e=>{if(e===zP&&Array.isArray(i_))return i_;var t=[];return j.Children.forEach(e,r=>{un(r)||(vde.isFragment(r)?t=t.concat(iz(r.props.children)):t.push(r))}),i_=t,zP=e,t};function _j(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(n=>UP(n)):a=[UP(t)],iz(e).forEach(n=>{var i=Hh(n,"type.displayName")||Hh(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}var Fw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,s_={},qP;function yde(){return qP||(qP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&n.writable)?!1:r.toString()===`[object ${i}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(s_)),s_}var o_,$P;function bde(){return $P||($P=1,o_=yde().isPlainObject),o_}var wde=bde();const kde=Uc(wde);function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(a){_de(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _de(e,t,r){return(t=Sde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sde(e){var t=Nde(e,"string");return typeof t=="symbol"?t:t+""}function Nde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},y2.apply(null,arguments)}var VP=(e,t,r,a,n)=>{var i=r-a,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+n),s+="L ".concat(e+r-i/2-a,",").concat(t+n),s+="L ".concat(e,",").concat(t," Z"),s},jde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ade=e=>{var t=zi(e,jde),{x:r,y:a,upperWidth:n,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=t,x=j.useRef(null),[p,y]=j.useState(-1),v=j.useRef(n),b=j.useRef(i),k=j.useRef(s),N=j.useRef(r),_=j.useRef(a),T=Sg(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var Y=x.current.getTotalLength();Y&&y(Y)}catch{}},[]),r!==+r||a!==+a||n!==+n||i!==+i||s!==+s||n===0&&i===0||s===0)return null;var L=Br("recharts-trapezoid",o);if(!m)return j.createElement("g",null,j.createElement("path",y2({},co(t),{className:L,d:VP(r,a,n,i,s)})));var D=v.current,R=b.current,U=k.current,F=N.current,W=_.current,O="0px ".concat(p===-1?1:p,"px"),M="".concat(p,"px 0px"),H=CF(["strokeDasharray"],d,c);return j.createElement(_g,{animationId:T,key:T,canBegin:p>0,duration:d,easing:c,isActive:m,begin:f},Y=>{var ne=qa(D,n,Y),X=qa(R,i,Y),re=qa(U,s,Y),fe=qa(F,r,Y),ce=qa(W,a,Y);x.current&&(v.current=ne,b.current=X,k.current=re,N.current=fe,_.current=ce);var ke=Y>0?{transition:H,strokeDasharray:M}:{strokeDasharray:O};return j.createElement("path",y2({},co(t),{className:L,d:VP(fe,ce,ne,X,re),ref:x,style:WP(WP({},ke),t.style)}))})},Tde=["option","shapeType","propTransformer","activeClassName","isActive"];function Ede(e,t){if(e==null)return{};var r,a,n=Cde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function b2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(a){Ode(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ode(e,t,r){return(t=Pde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pde(e){var t=Dde(e,"string");return typeof t=="symbol"?t:t+""}function Dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lde(e,t){return b2(b2({},t),e)}function Mde(e,t){return e==="symbols"}function GP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(LF,r);case"trapezoid":return j.createElement(Ade,r);case"sector":return j.createElement(IF,r);case"symbols":if(Mde(t))return j.createElement(YN,r);break;default:return null}}function Rde(e){return j.isValidElement(e)?e.props:e}function sz(e){var{option:t,shapeType:r,propTransformer:a=Lde,activeClassName:n="recharts-active-shape",isActive:i}=e,s=Ede(e,Tde),o;if(j.isValidElement(t))o=j.cloneElement(t,b2(b2({},s),Rde(t)));else if(typeof t=="function")o=t(s);else if(kde(t)&&typeof t!="boolean"){var c=a(t,s);o=j.createElement(GP,{shapeType:r,elementProps:c})}else{var d=s;o=j.createElement(GP,{shapeType:r,elementProps:d})}return i?j.createElement(Gn,{className:n},o):o}var Sj=(e,t)=>{var r=kn();return(a,n)=>i=>{e==null||e(a,n,i),r(yU({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},Nj=e=>{var t=kn();return(r,a)=>n=>{e==null||e(r,a,n),t(Nle())}},jj=(e,t)=>{var r=kn();return(a,n)=>i=>{e==null||e(a,n,i),r(jle({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function Bw(e){var{fn:t,args:r}=e,a=kn(),n=bs();return j.useLayoutEffect(()=>{if(!n){var i=t(r);return a(kle(i)),()=>{a(_le(i))}}},[t,r,a,n]),null}var oz=()=>{};function Aj(e){var{legendPayload:t}=e,r=kn(),a=bs();return j.useLayoutEffect(()=>a?oz:(r(AF(t)),()=>{r(TF(t))}),[r,a,t]),null}function Ide(e){var{legendPayload:t}=e,r=kn(),a=Vt(Qr);return j.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?oz:(r(AF(t)),()=>{r(TF(t))}),[r,a,t]),null}var l_,Fde=()=>{var[e]=j.useState(()=>p1("uid-"));return e},Bde=(l_=IV.useId)!==null&&l_!==void 0?l_:Fde;function Ude(e,t){var r=Bde();return t||(e?"".concat(e,"-").concat(r):r)}var zde=j.createContext(void 0),Uw=e=>{var{id:t,type:r,children:a}=e,n=Ude("recharts-".concat(r),t);return j.createElement(zde.Provider,{value:n},a(n))},qde={cartesianItems:[],polarItems:[]},lz=ml({name:"graphicalItems",initialState:qde,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ao()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,n=Od(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},prepare:ao()},removeCartesianGraphicalItem:{reducer(e,t){var r=Od(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ao()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ao()},removePolarGraphicalItem:{reducer(e,t){var r=Od(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ao()}}}),{addCartesianGraphicalItem:$de,replaceCartesianGraphicalItem:Hde,removeCartesianGraphicalItem:Wde,addPolarGraphicalItem:Vde,removePolarGraphicalItem:Kde}=lz.actions,Gde=lz.reducer;function Tj(e){var t=kn(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t($de(e)):r.current!==e&&t(Hde({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(Wde(r.current)),r.current=null)},[t]),null}function Yde(e){var t=kn();return j.useLayoutEffect(()=>(t(Vde(e)),()=>{t(Kde(e))}),[t,e]),null}var Xde=["onMouseEnter","onClick","onMouseLeave"],Qde=["id"],Jde=["id"];function Ej(e,t){if(e==null)return{};var r,a,n=Zde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(a){e0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e0e(e,t,r){return(t=t0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0e(e){var t=r0e(e,"string");return typeof t=="symbol"?t:t+""}function r0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pf.apply(null,arguments)}function a0e(e){var t=j.useMemo(()=>_j(e.children,Mg),[e.children]),r=Vt(a=>mde(a,e.id,t));return r==null?null:j.createElement(Ide,{legendPayload:r})}function n0e(e){var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:i,fill:s,name:o,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:a.map(f=>f.tooltipPayload),positions:a.map(f=>f.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:_f(o,t),hide:c,type:d,color:s,unit:""}}}var i0e=(e,t)=>e>t?"start":e<t?"end":"middle",s0e=(e,t,r)=>Fs(typeof t=="function"?t(e):t,r,r*.8),o0e=(e,t,r)=>{var{top:a,left:n,width:i,height:s}=t,o=mF(i,s),c=n+Fs(e.cx,i,i/2),d=a+Fs(e.cy,s,s/2),f=Fs(e.innerRadius,o,0),m=s0e(r,e.outerRadius,o),x=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:m,maxRadius:x}},l0e=(e,t)=>{var r=as(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function c0e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var u0e=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Br("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(Ip,pf({},t,{type:"linear",className:r}))},d0e=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),j.isValidElement(a)))return a;var n=Br("recharts-pie-label-text",c0e(e));return j.createElement(Lw,pf({},t,{alignmentBaseline:"middle",className:n}),a)};function f0e(e){var{sectors:t,props:r,showLabels:a}=e,{label:n,labelLine:i,dataKey:s}=r;if(!a||!n||!t)return null;var o=lo(r),c=$h(n),d=$h(i),f=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=t.map((x,p)=>{var y=(x.startAngle+x.endAngle)/2,v=yi(x.cx,x.cy,x.outerRadius+f,y),b=yn(yn(yn(yn({},o),x),{},{stroke:"none"},c),{},{index:p,textAnchor:i0e(v.x,x.cx)},v),k=yn(yn(yn(yn({},o),x),{},{fill:"none",stroke:x.fill},d),{},{index:p,points:[yi(x.cx,x.cy,x.outerRadius,y),v],key:"line"});return j.createElement(Gn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(p)},i&&u0e(i,k),d0e(n,b,$a(x,s)))});return j.createElement(Gn,{className:"recharts-pie-labels"},m)}function h0e(e){var{sectors:t,props:r,showLabels:a}=e,{label:n}=r;return typeof n=="object"&&n!=null&&"position"in n?j.createElement(Mw,{label:n}):j.createElement(f0e,{sectors:t,props:r,showLabels:a})}function m0e(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:n}=e,i=Vt(mf),{onMouseEnter:s,onClick:o,onMouseLeave:c}=n,d=Ej(n,Xde),f=Sj(s,n.dataKey),m=Nj(c),x=jj(o,n.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var v=r&&String(y)===i,b=i?a:null,k=v?r:b,N=yn(yn({},p),{},{stroke:p.stroke,tabIndex:-1,[bF]:y,[wF]:n.dataKey});return j.createElement(Gn,pf({key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},rv(d,p,y),{onMouseEnter:f(p,y),onMouseLeave:m(p,y),onClick:x(p,y)}),j.createElement(sz,pf({option:k,isActive:v,shapeType:"sector"},N)))}))}function p0e(e){var t,{pieSettings:r,displayedData:a,cells:n,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:d,nameKey:f,tooltipType:m}=r,x=Math.abs(r.minAngle),p=l0e(o,c),y=Math.abs(p),v=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(D=>$a(D,d,0)!==0).length,k=(y>=360?b:b-1)*v,N=y-b*x-k,_=a.reduce((D,R)=>{var U=$a(R,d,0);return D+(Ht(U)?U:0)},0),T;if(_>0){var L;T=a.map((D,R)=>{var U=$a(D,d,0),F=$a(D,f,R),W=o0e(r,i,D),O=(Ht(U)?U:0)/_,M,H=yn(yn({},D),n&&n[R]&&n[R].props);R?M=L.endAngle+as(p)*v*(U!==0?1:0):M=o;var Y=M+as(p)*((U!==0?x:0)+O*N),ne=(M+Y)/2,X=(W.innerRadius+W.outerRadius)/2,re=[{name:F,value:U,payload:H,dataKey:d,type:m}],fe=yi(W.cx,W.cy,X,ne);return L=yn(yn(yn(yn({},r.presentationProps),{},{percent:O,cornerRadius:s,name:F,tooltipPayload:re,midAngle:ne,middleRadius:X,tooltipPosition:fe},H),W),{},{value:U,startAngle:M,endAngle:Y,payload:H,paddingAngle:as(p)*v}),L})}return T}function g0e(e){var{showLabels:t,sectors:r,children:a}=e,n=j.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return j.createElement(Jue,{value:t?n:void 0},a)}function x0e(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:m}=t,x=Sg(t,"recharts-pie-"),p=r.current,[y,v]=j.useState(!1),b=j.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),k=j.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return j.createElement(g0e,{showLabels:!y,sectors:a},j.createElement(_g,{animationId:x,begin:i,duration:s,isActive:n,easing:o,onAnimationStart:k,onAnimationEnd:b,key:x},N=>{var _=[],T=a&&a[0],L=T==null?void 0:T.startAngle;return a==null||a.forEach((D,R)=>{var U=p&&p[R],F=R>0?Hh(D,"paddingAngle",0):0;if(U){var W=qa(U.endAngle-U.startAngle,D.endAngle-D.startAngle,N),O=yn(yn({},D),{},{startAngle:L+F,endAngle:L+W+F});_.push(O),L=O.endAngle}else{var{endAngle:M,startAngle:H}=D,Y=qa(0,M-H,N),ne=yn(yn({},D),{},{startAngle:L+F,endAngle:L+Y+F});_.push(ne),L=ne.endAngle}}),r.current=_,j.createElement(Gn,null,j.createElement(m0e,{sectors:_,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),j.createElement(h0e,{showLabels:!y,sectors:a,props:t}),t.children)}var v0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!e0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function y0e(e){var{id:t}=e,r=Ej(e,Qde),{hide:a,className:n,rootTabIndex:i}=e,s=j.useMemo(()=>_j(e.children,Mg),[e.children]),o=Vt(f=>pde(f,t,s)),c=j.useRef(null),d=Br("recharts-pie",n);return a||o==null?(c.current=null,j.createElement(Gn,{tabIndex:i,className:d})):j.createElement(j.Fragment,null,j.createElement(Bw,{fn:n0e,args:yn(yn({},e),{},{sectors:o})}),j.createElement(Gn,{tabIndex:i,className:d},j.createElement(x0e,{props:yn(yn({},r),{},{sectors:o}),previousSectorsRef:c})))}function Cj(e){var t=zi(e,v0e),{id:r}=t,a=Ej(t,Jde),n=lo(a);return j.createElement(Uw,{id:r,type:"pie"},i=>j.createElement(j.Fragment,null,j.createElement(Yde,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),j.createElement(a0e,pf({},a,{id:i})),j.createElement(y0e,pf({},a,{id:i}))))}Cj.displayName="Pie";function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(a){b0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function b0e(e,t,r){return(t=w0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0e(e){var t=k0e(e,"string");return typeof t=="symbol"?t:t+""}function k0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0e={xAxis:{},yAxis:{},zAxis:{}},cz=ml({name:"cartesianAxis",initialState:_0e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ao()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ao()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ao()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ao()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ao()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ao()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,n=e.yAxis[r];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var s=[...i,a].slice(-3);e.yAxis[r]=QP(QP({},e.yAxis[r]),{},{width:a,widthHistory:s})}}}}),{addXAxis:S0e,removeXAxis:N0e,addYAxis:j0e,removeYAxis:A0e,addZAxis:nTe,removeZAxis:iTe,updateYAxisWidth:T0e}=cz.actions,E0e=cz.reducer,C0e=Ze([Ui],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),O0e=Ze([C0e,Jd,Zd],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),zw=()=>Vt(O0e),P0e=()=>Vt(fce);function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(a){D0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function D0e(e,t,r){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=M0e(e,"string");return typeof t=="symbol"?t:t+""}function M0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R0e=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var s=ZP(ZP({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},$h(n)),XN(n)),o;return j.isValidElement(n)?o=j.cloneElement(n,s):typeof n=="function"?o=n(s):o=j.createElement(bj,s),j.createElement(Gn,{className:"recharts-active-dot"},o)};function AS(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n}=e,i=Vt(mf),s=P0e();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return un(o)?null:R0e({point:o,childIndex:Number(i),mainColor:r,dataKey:n,activeDot:a})}var I0e="Invariant failed";function F0e(e,t){throw new Error(I0e)}var B0e=["x","y"];function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},TS.apply(null,arguments)}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(a){U0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function U0e(e,t,r){return(t=z0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z0e(e){var t=q0e(e,"string");return typeof t=="symbol"?t:t+""}function q0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t){if(e==null)return{};var r,a,n=H0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function W0e(e,t){var{x:r,y:a}=e,n=$0e(e,B0e),i="".concat(r),s=parseInt(i,10),o="".concat(a),c=parseInt(o,10),d="".concat(t.height||n.height),f=parseInt(d,10),m="".concat(t.width||n.width),x=parseInt(m,10);return Dx(Dx(Dx(Dx(Dx({},t),n),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:x,name:t.name,radius:t.radius})}function Oj(e){return j.createElement(sz,TS({shapeType:"rectangle",propTransformer:W0e,activeClassName:"recharts-active-bar"},e))}var V0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Ht(t))return t;var i=Ht(a)||un(a);return i?t(a,n):(i||F0e(),r)}},K0e={},uz=ml({name:"errorBars",initialState:K0e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:n}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:sTe,replaceErrorBar:oTe,removeErrorBar:lTe}=uz.actions,G0e=uz.reducer,Y0e=["children"];function X0e(e,t){if(e==null)return{};var r,a,n=Q0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Q0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var J0e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Z0e=j.createContext(J0e);function dz(e){var{children:t}=e,r=X0e(e,Y0e);return j.createElement(Z0e.Provider,{value:r},t)}function qw(e,t){var r,a,n=Vt(d=>r0(d,e)),i=Vt(d=>a0(d,t)),s=(r=n==null?void 0:n.allowDataOverflow)!==null&&r!==void 0?r:Xo.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:Qo.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function Pj(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,n=zw(),{needClipX:i,needClipY:s,needClip:o}=qw(t,r);if(!o)return null;var{x:c,y:d,width:f,height:m}=n;return j.createElement("clipPath",{id:"clipPath-".concat(a)},j.createElement("rect",{x:i?c:c-f/2,y:s?d:d-m/2,width:i?f:f*2,height:s?m:m*2}))}var efe=["onMouseEnter","onMouseLeave","onClick"],tfe=["value","background","tooltipPosition"],rfe=["id"],afe=["onMouseEnter","onClick","onMouseLeave"];function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gf.apply(null,arguments)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(a){nfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nfe(e,t,r){return(t=ife(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ife(e){var t=sfe(e,"string");return typeof t=="symbol"?t:t+""}function sfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w2(e,t){if(e==null)return{};var r,a,n=ofe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ofe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var lfe=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:_f(r,t),payload:e}]};function cfe(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:_f(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function ufe(e){var t=Vt(mf),{data:r,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=i,d=w2(i,efe),f=Sj(s,a),m=Nj(o),x=jj(c,a);if(!n||r==null)return null;var p=$h(n);return j.createElement(j.Fragment,null,r.map((y,v)=>{var{value:b,background:k,tooltipPosition:N}=y,_=w2(y,tfe);if(!k)return null;var T=f(y,v),L=m(y,v),D=x(y,v),R=no(no(no(no(no({option:n,isActive:String(v)===t},_),{},{fill:"#eee"},k),p),rv(d,y,v)),{},{onMouseEnter:T,onMouseLeave:L,onClick:D,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return j.createElement(Oj,gf({key:"background-bar-".concat(v)},R))}))}function dfe(e){var{showLabels:t,children:r,rects:a}=e,n=a==null?void 0:a.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return no(no({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return j.createElement(yj,{value:t?n:void 0},r)}function ffe(e){var{shape:t,activeBar:r,baseProps:a,entry:n,index:i,dataKey:s}=e,o=Vt(mf),c=Vt(LU),d=r&&String(i)===o&&(c==null||s===c),f=d?r:t;return j.createElement(Oj,gf({},a,{name:String(a.name)},n,{isActive:d,option:f,index:i,dataKey:s}))}function hfe(e){var{shape:t,baseProps:r,entry:a,index:n,dataKey:i}=e;return j.createElement(Oj,gf({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function mfe(e){var{data:t,props:r}=e,a=lo(r),{id:n}=a,i=w2(a,rfe),{shape:s,dataKey:o,activeBar:c}=r,{onMouseEnter:d,onClick:f,onMouseLeave:m}=r,x=w2(r,afe),p=Sj(d,o),y=Nj(m),v=jj(f,o);return t?j.createElement(j.Fragment,null,t.map((b,k)=>j.createElement(Gn,gf({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(k),className:"recharts-bar-rectangle"},rv(x,b,k),{onMouseEnter:p(b,k),onMouseLeave:y(b,k),onClick:v(b,k)}),c?j.createElement(ffe,{shape:s,activeBar:c,baseProps:i,entry:b,index:k,dataKey:o}):j.createElement(hfe,{shape:s,baseProps:i,entry:b,index:k,dataKey:o})))):null}function pfe(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,m=r.current,x=Sg(t,"recharts-bar-"),[p,y]=j.useState(!1),v=!p,b=j.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),k=j.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return j.createElement(dfe,{showLabels:v,rects:a},j.createElement(_g,{animationId:x,begin:s,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:k,key:x},N=>{var _=N===1?a:a==null?void 0:a.map((T,L)=>{var D=m&&m[L];if(D)return no(no({},T),{},{x:qa(D.x,T.x,N),y:qa(D.y,T.y,N),width:qa(D.width,T.width,N),height:qa(D.height,T.height,N)});if(n==="horizontal"){var R=qa(0,T.height,N);return no(no({},T),{},{y:T.y+T.height-R,height:R})}var U=qa(0,T.width,N);return no(no({},T),{},{width:U})});return N>0&&(r.current=_??null),_==null?null:j.createElement(Gn,null,j.createElement(mfe,{props:t,data:_}))}),j.createElement(Mw,{label:t.label}),t.children)}function gfe(e){var t=j.useRef(null);return j.createElement(pfe,{previousRectanglesRef:t,props:e})}var fz=0,xfe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$a(e,t)}};class vfe extends j.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:n,xAxisId:i,yAxisId:s,needClip:o,background:c,id:d}=this.props;if(t||r==null)return null;var f=Br("recharts-bar",n),m=d;return j.createElement(Gn,{className:f,id:d},o&&j.createElement("defs",null,j.createElement(Pj,{clipPathId:m,xAxisId:i,yAxisId:s})),j.createElement(Gn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},j.createElement(ufe,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),j.createElement(gfe,this.props)))}}var yfe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!e0.isSsr,legendType:"rect",minPointSize:fz,xAxisId:0,yAxisId:0};function bfe(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:f}=e,{needClip:m}=qw(t,r),x=sv(),p=bs(),y=_j(e.children,Mg),v=Vt(N=>Gfe(N,t,r,p,e.id,y));if(x!=="vertical"&&x!=="horizontal")return null;var b,k=v==null?void 0:v[0];return k==null||k.height==null||k.width==null?b=0:b=x==="vertical"?k.height/2:k.width/2,j.createElement(dz,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:xfe,errorBarOffset:b},j.createElement(vfe,gf({},e,{layout:x,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:f})))}function wfe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:f,displayedData:m,offset:x,cells:p,parentViewBox:y}=e,v=t==="horizontal"?o:s,b=f?v.scale.domain():null,k=yre({numericAxis:v});return m.map((N,_)=>{var T,L,D,R,U,F;f?T=mre(f[_],b):(T=$a(N,r),Array.isArray(T)||(T=[k,T]));var W=V0e(a,fz)(T[1],_);if(t==="horizontal"){var O,[M,H]=[o.scale(T[0]),o.scale(T[1])];L=LO({axis:s,ticks:c,bandSize:i,offset:n.offset,entry:N,index:_}),D=(O=H??M)!==null&&O!==void 0?O:void 0,R=n.size;var Y=M-H;if(U=dl(Y)?0:Y,F={x:L,y:x.top,width:R,height:x.height},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var ne=as(U||W)*(Math.abs(W)-Math.abs(U));D-=ne,U+=ne}}else{var[X,re]=[s.scale(T[0]),s.scale(T[1])];if(L=X,D=LO({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:_}),R=re-X,U=n.size,F={x:x.left,y:D,width:x.width,height:U},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var fe=as(R||W)*(Math.abs(W)-Math.abs(R));R+=fe}}if(L==null||D==null||R==null||U==null)return null;var ce=no(no({},N),{},{x:L,y:D,width:R,height:U,value:f?T:T[1],payload:N,background:F,tooltipPosition:{x:L+R/2,y:D+U/2},parentViewBox:y},p&&p[_]&&p[_].props);return ce}).filter(Boolean)}function kfe(e){var t=zi(e,yfe),r=bs();return j.createElement(Uw,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(Aj,{legendPayload:lfe(t)}),j.createElement(Bw,{fn:cfe,args:t}),j.createElement(Tj,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vF(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),j.createElement(bfe,gf({},t,{id:a}))))}var Lh=j.memo(kfe);Lh.displayName="Bar";function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(a){_fe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _fe(e,t,r){return(t=Sfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sfe(e){var t=Nfe(e,"string");return typeof t=="symbol"?t:t+""}function Nfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jfe=(e,t)=>t,Afe=(e,t,r)=>r,Tfe=(e,t,r,a)=>a,Efe=(e,t,r,a,n)=>n,wv=Ze([pv,Efe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Cfe=Ze([wv],e=>e==null?void 0:e.maxBarSize),Ofe=(e,t,r,a,n,i)=>i,aD=(e,t,r)=>{var a=r??e;if(!un(a))return Fs(a,t,0)},Pfe=Ze([Qr,pv,jfe,Afe,Tfe],(e,t,r,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Dfe=(e,t,r,a)=>{var n=Qr(e);return n==="horizontal"?N1(e,"yAxis",r,a):N1(e,"xAxis",t,a)},Lfe=(e,t,r)=>{var a=Qr(e);return a==="horizontal"?nP(e,"xAxis",t):nP(e,"yAxis",r)},Mfe=(e,t,r)=>{var a={},n=e.filter(jw),i=e.filter(d=>d.stackId==null),s=n.reduce((d,f)=>(d[f.stackId]||(d[f.stackId]=[]),d[f.stackId].push(f),d),a),o=Object.entries(s).map(d=>{var[f,m]=d,x=m.map(y=>y.dataKey),p=aD(t,r,m[0].barSize);return{stackId:f,dataKeys:x,barSize:p}}),c=i.map(d=>{var f=[d.dataKey].filter(x=>x!=null),m=aD(t,r,d.barSize);return{stackId:void 0,dataKeys:f,barSize:m}});return[...o,...c]},Rfe=Ze([Pfe,voe,Lfe],Mfe),Ife=(e,t,r,a,n)=>{var i,s,o=wv(e,t,r,a,n);if(o!=null){var c=Qr(e),d=LB(e),{maxBarSize:f}=o,m=un(f)?d:f,x,p;return c==="horizontal"?(x=Lu(e,"xAxis",t,a),p=Du(e,"xAxis",t,a)):(x=Lu(e,"yAxis",r,a),p=Du(e,"yAxis",r,a)),(i=(s=Kh(x,p,!0))!==null&&s!==void 0?s:m)!==null&&i!==void 0?i:0}},hz=(e,t,r,a)=>{var n=Qr(e),i,s;return n==="horizontal"?(i=Lu(e,"xAxis",t,a),s=Du(e,"xAxis",t,a)):(i=Lu(e,"yAxis",r,a),s=Du(e,"yAxis",r,a)),Kh(i,s)};function Ffe(e,t,r,a,n){var i=a.length;if(!(i<1)){var s=Fs(e,r,0,!0),o,c=[];if(ki(a[0].barSize)){var d=!1,f=r/i,m=a.reduce((k,N)=>k+(N.barSize||0),0);m+=(i-1)*s,m>=r&&(m-=(i-1)*s,s=0),m>=r&&f>0&&(d=!0,f*=.9,m=i*f);var x=(r-m)/2>>0,p={offset:x-s,size:0};o=a.reduce((k,N)=>{var _,T={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:p.offset+p.size+s,size:d?f:(_=N.barSize)!==null&&_!==void 0?_:0}},L=[...k,T];return p=L[L.length-1].position,L},c)}else{var y=Fs(t,r,0,!0);r-2*y-(i-1)*s<=0&&(s=0);var v=(r-2*y-(i-1)*s)/i;v>1&&(v>>=0);var b=ki(n)?Math.min(v,n):v;o=a.reduce((k,N,_)=>[...k,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:y+(v+s)*_+(v-b)/2,size:b}}],c)}return o}}var Bfe=(e,t,r,a,n,i,s)=>{var o=un(s)?t:s,c=Ffe(r,a,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>Xy(Xy({},d),{},{position:Xy(Xy({},d.position),{},{offset:d.position.offset-n/2})}))),c},Ufe=Ze([Rfe,LB,xoe,MB,Ife,hz,Cfe],Bfe),zfe=(e,t,r,a)=>Lu(e,"xAxis",t,a),qfe=(e,t,r,a)=>Lu(e,"yAxis",r,a),$fe=(e,t,r,a)=>Du(e,"xAxis",t,a),Hfe=(e,t,r,a)=>Du(e,"yAxis",r,a),Wfe=Ze([Ufe,wv],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Vfe=(e,t)=>{var r=Nw(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(s=>s.key===r)}}}},Kfe=Ze([Dfe,wv],Vfe),Gfe=Ze([Ui,s6,zfe,qfe,$fe,Hfe,Wfe,Qr,dv,hz,Kfe,wv,Ofe],(e,t,r,a,n,i,s,o,c,d,f,m,x)=>{var{chartData:p,dataStartIndex:y,dataEndIndex:v}=c;if(!(m==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||a==null||n==null||i==null||d==null)){var{data:b}=m,k;if(b!=null&&b.length>0?k=b:k=p==null?void 0:p.slice(y,v+1),k!=null)return wfe({layout:o,barSettings:m,pos:s,parentViewBox:t,bandSize:d,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:f,displayedData:k,offset:e,cells:x})}}),mz=e=>{var{chartData:t}=e,r=kn(),a=bs();return j.useEffect(()=>a?()=>{}:(r(mP(t)),()=>{r(mP(void 0))}),[t,r,a]),null},nD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pz=ml({name:"brush",initialState:nD,reducers:{setBrushSettings(e,t){return t.payload==null?nD:t.payload}}}),{setBrushSettings:cTe}=pz.actions,Yfe=pz.reducer;function Xfe(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=Jfe(e,"string");return typeof t=="symbol"?t:t+""}function Jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dj{static create(t){return new Dj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],n=r[r.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}Xfe(Dj,"EPS",1e-4);function Zfe(e){return(e%180+180)%180}var ehe=function(t){var{width:r,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Zfe(n),s=i*Math.PI/180,o=Math.atan(a/r),c=s>o&&s<Math.PI-o?a/Math.sin(s):r/Math.cos(s);return Math.abs(c)},the={dots:[],areas:[],lines:[]},gz=ml({name:"referenceElements",initialState:the,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Od(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Od(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Od(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:uTe,removeDot:dTe,addArea:fTe,removeArea:hTe,addLine:mTe,removeLine:pTe}=gz.actions,rhe=gz.reducer,ahe=j.createContext(void 0),nhe=e=>{var{children:t}=e,[r]=j.useState("".concat(p1("recharts"),"-clip")),a=zw();if(a==null)return null;var{x:n,y:i,width:s,height:o}=a;return j.createElement(ahe.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:n,y:i,height:o,width:s}))),t)};function hg(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function xz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function ihe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return ehe(a,r)}function she(e,t,r){var a=r==="width",{x:n,y:i,width:s,height:o}=e;return t===1?{start:a?n:i,end:a?n+s:i+o}:{start:a?n+s:i+o,end:a?n:i}}function k2(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function ohe(e,t){return xz(e,t+1)}function lhe(e,t,r,a,n){for(var i=(a||[]).slice(),{start:s,end:o}=t,c=0,d=1,f=s,m=function(){var y=a==null?void 0:a[c];if(y===void 0)return{v:xz(a,d)};var v=c,b,k=()=>(b===void 0&&(b=r(y,v)),b),N=y.coordinate,_=c===0||k2(e,N,k,f,o);_||(c=0,f=s,d+=1),_&&(f=N+e*(k()/2+n),c+=d)},x;d<=i.length;)if(x=m(),x)return x.v;return[]}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(a){che(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function che(e,t,r){return(t=uhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uhe(e){var t=dhe(e,"string");return typeof t=="symbol"?t:t+""}function dhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fhe(e,t,r,a,n){for(var i=(a||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,d=function(x){var p=i[x],y,v=()=>(y===void 0&&(y=r(p,x)),y);if(x===s-1){var b=e*(p.coordinate+e*v()/2-c);i[x]=p=Ps(Ps({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[x]=p=Ps(Ps({},p),{},{tickCoord:p.coordinate});var k=k2(e,p.tickCoord,v,o,c);k&&(c=p.tickCoord-e*(v()/2+n),i[x]=Ps(Ps({},p),{},{isShow:!0}))},f=s-1;f>=0;f--)d(f);return i}function hhe(e,t,r,a,n,i){var s=(a||[]).slice(),o=s.length,{start:c,end:d}=t;if(i){var f=a[o-1],m=r(f,o-1),x=e*(f.coordinate+e*m/2-d);s[o-1]=f=Ps(Ps({},f),{},{tickCoord:x>0?f.coordinate-x*e:f.coordinate});var p=k2(e,f.tickCoord,()=>m,c,d);p&&(d=f.tickCoord-e*(m/2+n),s[o-1]=Ps(Ps({},f),{},{isShow:!0}))}for(var y=i?o-1:o,v=function(N){var _=s[N],T,L=()=>(T===void 0&&(T=r(_,N)),T);if(N===0){var D=e*(_.coordinate-e*L()/2-c);s[N]=_=Ps(Ps({},_),{},{tickCoord:D<0?_.coordinate-D*e:_.coordinate})}else s[N]=_=Ps(Ps({},_),{},{tickCoord:_.coordinate});var R=k2(e,_.tickCoord,L,c,d);R&&(c=_.tickCoord+e*(L()/2+n),s[N]=Ps(Ps({},_),{},{isShow:!0}))},b=0;b<y;b++)v(b);return s}function Lj(e,t,r){var{tick:a,ticks:n,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:d,unit:f,angle:m}=e;if(!n||!n.length||!a)return[];if(Ht(c)||e0.isSsr){var x;return(x=ohe(n,Ht(c)?c:0))!==null&&x!==void 0?x:[]}var p=[],y=o==="top"||o==="bottom"?"width":"height",v=f&&y==="width"?Xx(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(_,T)=>{var L=typeof d=="function"?d(_.value,T):_.value;return y==="width"?ihe(Xx(L,{fontSize:t,letterSpacing:r}),v,m):Xx(L,{fontSize:t,letterSpacing:r})[y]},k=n.length>=2?as(n[1].coordinate-n[0].coordinate):1,N=she(i,k,y);return c==="equidistantPreserveStart"?lhe(k,N,b,n,s):(c==="preserveStart"||c==="preserveStartEnd"?p=hhe(k,N,b,n,s,c==="preserveStartEnd"):p=fhe(k,N,b,n,s),p.filter(_=>_.isShow))}var mhe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>s&&(s=m.width)}});var o=r?r.getBoundingClientRect().width:0,c=n+i,d=s+c+o+(r?a:0);return Math.round(d)}return 0},phe=["axisLine","width","height","className","hide","ticks"],ghe=["viewBox"],xhe=["viewBox"];function ES(e,t){if(e==null)return{};var r,a,n=vhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qh.apply(null,arguments)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(a){yhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yhe(e,t,r){return(t=bhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=whe(e,"string");return typeof t=="symbol"?t:t+""}function whe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function khe(e){var{x:t,y:r,width:a,height:n,orientation:i,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=Ii(Ii(Ii({},c),lo(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!s||i==="bottom"&&s);d=Ii(Ii({},d),{},{x1:t,y1:r+f*n,x2:t+a,y2:r+f*n})}else{var m=+(i==="left"&&!s||i==="right"&&s);d=Ii(Ii({},d),{},{x1:t+m*a,y1:r,x2:t+m*a,y2:r+n})}return j.createElement("line",Qh({},d,{className:Br("recharts-cartesian-axis-line",Hh(o,"className"))}))}function _he(e,t,r,a,n,i,s,o,c){var d,f,m,x,p,y,v=o?-1:1,b=e.tickSize||s,k=Ht(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=f=e.coordinate,x=r+ +!o*n,m=x-v*b,y=m-v*c,p=k;break;case"left":m=x=e.coordinate,f=t+ +!o*a,d=f-v*b,p=d-v*c,y=k;break;case"right":m=x=e.coordinate,f=t+ +o*a,d=f+v*b,p=d+v*c,y=k;break;default:d=f=e.coordinate,x=r+ +o*n,m=x+v*b,y=m+v*c,p=k;break}return{line:{x1:d,y1:m,x2:f,y2:x},tick:{x:p,y}}}function She(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nhe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function jhe(e){var{option:t,tickProps:r,value:a}=e,n,i=Br(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))n=j.cloneElement(t,Ii(Ii({},r),{},{className:i}));else if(typeof t=="function")n=t(Ii(Ii({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Br(s,t==null?void 0:t.className)),n=j.createElement(Lw,Qh({},r,{className:s}),a)}return n}function Ahe(e){var{ticks:t=[],tick:r,tickLine:a,stroke:n,tickFormatter:i,unit:s,padding:o,tickTextProps:c,orientation:d,mirror:f,x:m,y:x,width:p,height:y,tickSize:v,tickMargin:b,fontSize:k,letterSpacing:N,getTicksConfig:_,events:T}=e,L=Lj(Ii(Ii({},_),{},{ticks:t}),k,N),D=She(d,f),R=Nhe(d,f),U=lo(_),F=$h(r),W={};typeof a=="object"&&(W=a);var O=Ii(Ii({},U),{},{fill:"none"},W),M=L.map((H,Y)=>{var{line:ne,tick:X}=_he(H,m,x,p,y,d,v,f,b),re=Ii(Ii(Ii(Ii({textAnchor:D,verticalAnchor:R},U),{},{stroke:"none",fill:n},F),X),{},{index:Y,payload:H,visibleTicksCount:L.length,tickFormatter:i,padding:o},c);return j.createElement(Gn,Qh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},rv(T,H,Y)),a&&j.createElement("line",Qh({},O,ne,{className:Br("recharts-cartesian-axis-tick-line",Hh(a,"className"))})),r&&j.createElement(jhe,{option:r,tickProps:re,value:"".concat(typeof i=="function"?i(H.value,Y):H.value).concat(s||"")}))});return M.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},M):null}var The=j.forwardRef((e,t)=>{var{axisLine:r,width:a,height:n,className:i,hide:s,ticks:o}=e,c=ES(e,phe),[d,f]=j.useState(""),[m,x]=j.useState(""),p=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return mhe({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=j.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var k=b[0];if(k){var N=window.getComputedStyle(k),_=N.fontSize,T=N.letterSpacing;(_!==d||T!==m)&&(f(_),x(T))}}},[d,m]);return s||a!=null&&a<=0||n!=null&&n<=0?null:j.createElement(Gn,{className:Br("recharts-cartesian-axis",i),ref:y},j.createElement(khe,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:lo(e)}),j.createElement(Ahe,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:c}),j.createElement(Oue,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(zue,{label:e.label,labelRef:e.labelRef}),e.children))}),Ehe=j.memo(The,(e,t)=>{var{viewBox:r}=e,a=ES(e,ghe),{viewBox:n}=t,i=ES(t,xhe);return hg(r,n)&&hg(a,i)}),Rj=j.forwardRef((e,t)=>{var r=zi(e,Mj);return j.createElement(Ehe,Qh({},r,{ref:t}))});Rj.displayName="CartesianAxis";var Che=["x1","y1","x2","y2","key"],Ohe=["offset"],Phe=["xAxisId","yAxisId"],Dhe=["xAxisId","yAxisId"];function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(a){Lhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lhe(e,t,r){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=Rhe(e,"string");return typeof t=="symbol"?t:t+""}function Rhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yh.apply(null,arguments)}function _2(e,t){if(e==null)return{};var r,a,n=Ihe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ihe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Fhe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:n,width:i,height:s,ry:o}=e;return j.createElement("rect",{x:a,y:n,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vz(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:n,x2:i,y2:s,key:o}=t,c=_2(t,Che),d=lo(c),{offset:f}=d,m=_2(d,Ohe);r=j.createElement("line",yh({},m,{x1:a,y1:n,x2:i,y2:s,fill:"none",key:o}))}return r}function Bhe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=_2(e,Phe),c=n.map((d,f)=>{var m=Ms(Ms({},o),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(f),index:f});return vz(a,m)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Uhe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=_2(e,Dhe),c=n.map((d,f)=>{var m=Ms(Ms({},o),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(f),index:f});return vz(a,m)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function zhe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var f=d.map((m,x)=>{var p=!d[x+1],y=p?n+s-m:d[x+1]-m;if(y<=0)return null;var v=x%t.length;return j.createElement("rect",{key:"react-".concat(x),y:m,x:a,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qhe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var f=d.map((m,x)=>{var p=!d[x+1],y=p?n+s-m:d[x+1]-m;if(y<=0)return null;var v=x%r.length;return j.createElement("rect",{key:"react-".concat(x),x:m,y:i,width:y,height:o,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var $he=(e,t)=>{var{xAxis:r,width:a,height:n,offset:i}=e;return gF(Lj(Ms(Ms(Ms({},Mj),r),{},{ticks:xF(r),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},Hhe=(e,t)=>{var{yAxis:r,width:a,height:n,offset:i}=e;return gF(Lj(Ms(Ms(Ms({},Mj),r),{},{ticks:xF(r),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},Whe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Dd(e){var t=l6(),r=c6(),a=NF(),n=Ms(Ms({},zi(e,Whe)),{},{x:Ht(e.x)?e.x:a.left,y:Ht(e.y)?e.y:a.top,width:Ht(e.width)?e.width:a.width,height:Ht(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:d,height:f,syncWithTicks:m,horizontalValues:x,verticalValues:p}=n,y=bs(),v=Vt(F=>iP(F,"xAxis",i,y)),b=Vt(F=>iP(F,"yAxis",s,y));if(!Ht(d)||d<=0||!Ht(f)||f<=0||!Ht(o)||o!==+o||!Ht(c)||c!==+c)return null;var k=n.verticalCoordinatesGenerator||$he,N=n.horizontalCoordinatesGenerator||Hhe,{horizontalPoints:_,verticalPoints:T}=n;if((!_||!_.length)&&typeof N=="function"){var L=x&&x.length,D=N({yAxis:b?Ms(Ms({},b),{},{ticks:L?x:b.ticks}):void 0,width:t,height:r,offset:a},L?!0:m);t2(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(_=D)}if((!T||!T.length)&&typeof k=="function"){var R=p&&p.length,U=k({xAxis:v?Ms(Ms({},v),{},{ticks:R?p:v.ticks}):void 0,width:t,height:r,offset:a},R?!0:m);t2(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(T=U)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Fhe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),j.createElement(zhe,yh({},n,{horizontalPoints:_})),j.createElement(qhe,yh({},n,{verticalPoints:T})),j.createElement(Bhe,yh({},n,{offset:a,horizontalPoints:_,xAxis:v,yAxis:b})),j.createElement(Uhe,yh({},n,{offset:a,verticalPoints:T,xAxis:v,yAxis:b})))}Dd.displayName="CartesianGrid";var yz=(e,t,r,a)=>Lu(e,"xAxis",t,a),bz=(e,t,r,a)=>Du(e,"xAxis",t,a),wz=(e,t,r,a)=>Lu(e,"yAxis",r,a),kz=(e,t,r,a)=>Du(e,"yAxis",r,a),Vhe=Ze([Qr,yz,wz,bz,kz],(e,t,r,a,n)=>Ru(e,"xAxis")?Kh(t,a,!1):Kh(r,n,!1)),Khe=(e,t,r,a,n)=>n;function Ghe(e){return e.type==="line"}var Yhe=Ze([pv,Khe],(e,t)=>e.filter(Ghe).find(r=>r.id===t)),Xhe=Ze([Qr,yz,wz,bz,kz,Yhe,Vhe,dv],(e,t,r,a,n,i,s,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=o;if(!(i==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||s==null)){var{dataKey:m,data:x}=i,p;if(x!=null&&x.length>0?p=x:p=c==null?void 0:c.slice(d,f+1),p!=null)return vme({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:s,displayedData:p})}});function _z(e){var t=$h(e),r=3,a=2;if(t!=null){var{r:n,strokeWidth:i}=t,s=Number(n),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=a),{r:s,strokeWidth:o}}return{r,strokeWidth:a}}var Qhe=["id"],Jhe=["type","layout","connectNulls","needClip"],Zhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(a){eme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eme(e,t,r){return(t=tme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tme(e){var t=rme(e,"string");return typeof t=="symbol"?t:t+""}function rme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ij(e,t){if(e==null)return{};var r,a,n=ame(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ame(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Jh(){return Jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jh.apply(null,arguments)}var nme=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:_f(r,t),payload:e}]};function ime(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:_f(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var Sz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function sme(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var ome=(e,t,r)=>{var a=r.reduce((m,x)=>m+x);if(!a)return Sz(t,e);for(var n=Math.floor(e/a),i=e%a,s=t-e,o=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){o=[...r.slice(0,c),i-d];break}var f=o.length%2===0?[0,s]:[s];return[...sme(r,n),...o,...f].map(m=>"".concat(m,"px")).join(", ")};function lme(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Br("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(bj,Jh({},t,{className:a}))}return r}function cme(e,t){return e==null?!1:t?!0:e.length===1}function ume(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:i,needClip:s}=a;if(!cme(r,n))return null;var{id:o}=a,c=Ij(a,Qhe),d=Fw(n),f=lo(c),m=iI(n),x=r.map((y,v)=>{var b=el(el(el({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:y.x,cy:y.y,dataKey:i,value:y.value,payload:y.payload,points:r});return lme(n,b)}),p={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return j.createElement(Gn,Jh({className:"recharts-line-dots",key:"dots"},p),x)}function dme(e){var{showLabels:t,children:r,points:a}=e,n=j.useMemo(()=>a==null?void 0:a.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return el(el({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[a]);return j.createElement(yj,{value:t?n:null},r)}function cD(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:d}=i,f=Ij(i,Jhe),m=el(el({},co(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:a,type:s,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return j.createElement(j.Fragment,null,(a==null?void 0:a.length)>1&&j.createElement(Ip,Jh({},m,{pathRef:r})),j.createElement(ume,{points:a,clipPathId:t,props:i}))}function fme(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function hme(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:x,width:p,height:y,onAnimationEnd:v,onAnimationStart:b}=r,k=n.current,N=Sg(r,"recharts-line-"),[_,T]=j.useState(!1),L=!_,D=j.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),R=j.useCallback(()=>{typeof b=="function"&&b(),T(!0)},[b]),U=fme(a.current),F=i.current;return j.createElement(dme,{points:s,showLabels:L},r.children,j.createElement(_g,{animationId:N,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:D,onAnimationStart:R,key:N},W=>{var O=qa(F,U+F,W),M=Math.min(O,U),H;if(c)if(o){var Y="".concat(o).split(/[,\s]+/gim).map(re=>parseFloat(re));H=ome(M,U,Y)}else H=Sz(U,M);else H=o==null?void 0:String(o);if(k){var ne=k.length/s.length,X=W===1?s:s.map((re,fe)=>{var ce=Math.floor(fe*ne);if(k[ce]){var ke=k[ce];return el(el({},re),{},{x:qa(ke.x,re.x,W),y:qa(ke.y,re.y,W)})}return x?el(el({},re),{},{x:qa(p*2,re.x,W),y:qa(y/2,re.y,W)}):el(el({},re),{},{x:re.x,y:re.y})});return n.current=X,j.createElement(cD,{props:r,points:X,clipPathId:t,pathRef:a,strokeDasharray:H})}return W>0&&U>0&&(n.current=s,i.current=M),j.createElement(cD,{props:r,points:s,clipPathId:t,pathRef:a,strokeDasharray:H})}),j.createElement(Mw,{label:r.label}))}function mme(e){var{clipPathId:t,props:r}=e,a=j.useRef(null),n=j.useRef(0),i=j.useRef(null);return j.createElement(hme,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var pme=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$a(e.payload,t)});class gme extends j.Component{render(){var{hide:t,dot:r,points:a,className:n,xAxisId:i,yAxisId:s,top:o,left:c,width:d,height:f,id:m,needClip:x}=this.props;if(t)return null;var p=Br("recharts-line",n),y=m,{r:v,strokeWidth:b}=_z(r),k=Fw(r),N=v*2+b;return j.createElement(j.Fragment,null,j.createElement(Gn,{className:p},x&&j.createElement("defs",null,j.createElement(Pj,{clipPathId:y,xAxisId:i,yAxisId:s}),!k&&j.createElement("clipPath",{id:"clipPath-dots-".concat(y)},j.createElement("rect",{x:c-N/2,y:o-N/2,width:d+N,height:f+N}))),j.createElement(dz,{xAxisId:i,yAxisId:s,data:a,dataPointFormatter:pme,errorBarOffset:0},j.createElement(mme,{props:this.props,clipPathId:y}))),j.createElement(AS,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Nz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!e0.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function xme(e){var t=zi(e,Nz),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:d,isAnimationActive:f,label:m,legendType:x,xAxisId:p,yAxisId:y,id:v}=t,b=Ij(t,Zhe),{needClip:k}=qw(p,y),N=zw(),_=sv(),T=bs(),L=Vt(W=>Xhe(W,p,y,T,v));if(_!=="horizontal"&&_!=="vertical"||L==null||N==null)return null;var{height:D,width:R,x:U,y:F}=N;return j.createElement(gme,Jh({},b,{id:v,connectNulls:o,dot:c,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,isAnimationActive:f,hide:d,label:m,legendType:x,xAxisId:p,yAxisId:y,points:L,layout:_,height:D,width:R,left:U,top:F,needClip:k}))}function vme(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((d,f)=>{var m=$a(d,s);if(t==="horizontal"){var x=e2({axis:r,ticks:n,bandSize:o,entry:d,index:f}),p=un(m)?null:a.scale(m);return{x,y:p,value:m,payload:d}}var y=un(m)?null:r.scale(m),v=e2({axis:a,ticks:i,bandSize:o,entry:d,index:f});return y==null||v==null?null:{x:y,y:v,value:m,payload:d}}).filter(Boolean)}function yme(e){var t=zi(e,Nz),r=bs();return j.createElement(Uw,{id:t.id,type:"line"},a=>j.createElement(j.Fragment,null,j.createElement(Aj,{legendPayload:nme(t)}),j.createElement(Bw,{fn:ime,args:t}),j.createElement(Tj,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(xme,Jh({},t,{id:a}))))}var hf=j.memo(yme);hf.displayName="Line";var jz=(e,t,r,a)=>Lu(e,"xAxis",t,a),Az=(e,t,r,a)=>Du(e,"xAxis",t,a),Tz=(e,t,r,a)=>Lu(e,"yAxis",r,a),Ez=(e,t,r,a)=>Du(e,"yAxis",r,a),bme=Ze([Qr,jz,Tz,Az,Ez],(e,t,r,a,n)=>Ru(e,"xAxis")?Kh(t,a,!1):Kh(r,n,!1)),wme=(e,t,r,a,n)=>n,Cz=Ze([pv,wme],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),kme=(e,t,r,a,n)=>{var i,s=Cz(e,t,r,a,n);if(s!=null){var o=Qr(e),c=Ru(o,"xAxis"),d;if(c?d=N1(e,"yAxis",r,a):d=N1(e,"xAxis",t,a),d!=null){var{stackId:f}=s,m=Nw(s);if(!(f==null||m==null)){var x=(i=d[f])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(p=>p.key===m)}}}},_me=Ze([Qr,jz,Tz,Az,Ez,kme,dv,bme,Cz],(e,t,r,a,n,i,s,o,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:x}=c,p;if(x&&x.length>0?p=x:p=d==null?void 0:d.slice(f,m+1),p!=null){var y=void 0;return Hme({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:f,areaSettings:c,stackedData:i,displayedData:p,chartBaseValue:y,bandSize:o})}}}),Sme=["id"],Nme=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Oz(e,t){if(e==null)return{};var r,a,n=jme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(a){Ame(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ame(e,t,r){return(t=Tme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tme(e){var t=Eme(e,"string");return typeof t=="symbol"?t:t+""}function Eme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ld.apply(null,arguments)}function S2(e,t){return e&&e!=="none"?e:t}var Cme=e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:S2(a,n),value:_f(r,t),payload:e}]};function Ome(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:_f(s,t),hide:o,type:e.tooltipType,color:S2(a,i),unit:c}}}var Pme=(e,t)=>{var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Br("recharts-area-dot",typeof e!="boolean"?e.className:"");r=j.createElement(bj,Ld({},t,{className:a}))}return r};function Dme(e,t){return e==null?!1:t?!0:e.length===1}function Lme(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:i,dataKey:s}=a;if(!Dme(r,i))return null;var o=Fw(i),c=lo(a),d=iI(i),f=r.map((x,p)=>{var y=Ad(Ad(Ad({key:"dot-".concat(p),r:3},c),d),{},{index:p,cx:x.x,cy:x.y,dataKey:s,value:x.value,payload:x.payload,points:r});return Pme(i,y)}),m={clipPath:n?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return j.createElement(Gn,Ld({className:"recharts-area-dots"},m),f)}function Mme(e){var{showLabels:t,children:r,points:a}=e,n=a.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Ad(Ad({},s),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return j.createElement(yj,{value:t?n:null},r)}function dD(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:i}=e,{layout:s,type:o,stroke:c,connectNulls:d,isRange:f}=i,{id:m}=i,x=Oz(i,Sme),p=lo(x);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(Gn,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},j.createElement(Ip,Ld({},p,{id:m,points:t,connectNulls:d,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&j.createElement(Ip,Ld({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:t})),c!=="none"&&f&&j.createElement(Ip,Ld({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:r}))),j.createElement(Lme,{points:t,props:x,clipPathId:n}))}function Rme(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].y,s=a[a.length-1].y;if(!ki(i)||!ki(s))return null;var o=t*Math.abs(i-s),c=Math.max(...a.map(d=>d.x||0));return Ht(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),Ht(c)?j.createElement("rect",{x:0,y:i<s?i:i-o,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function Ime(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].x,s=a[a.length-1].x;if(!ki(i)||!ki(s))return null;var o=t*Math.abs(i-s),c=Math.max(...a.map(d=>d.y||0));return Ht(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),Ht(c)?j.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}function Fme(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:i}=e;return r==="vertical"?j.createElement(Rme,{alpha:t,points:a,baseLine:n,strokeWidth:i}):j.createElement(Ime,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function Bme(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:x,onAnimationEnd:p}=a,y=Sg(a,"recharts-area-"),[v,b]=j.useState(!1),k=!v,N=j.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),_=j.useCallback(()=>{typeof x=="function"&&x(),b(!0)},[x]),T=n.current,L=i.current;return j.createElement(Mme,{showLabels:k,points:s},a.children,j.createElement(_g,{animationId:y,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:_,key:y},D=>{if(T){var R=T.length/s.length,U=D===1?s:s.map((W,O)=>{var M=Math.floor(O*R);if(T[M]){var H=T[M];return Ad(Ad({},W),{},{x:qa(H.x,W.x,D),y:qa(H.y,W.y,D)})}return W}),F;return Ht(o)?F=qa(L,o,D):un(o)||dl(o)?F=qa(L,0,D):F=o.map((W,O)=>{var M=Math.floor(O*R);if(Array.isArray(L)&&L[M]){var H=L[M];return Ad(Ad({},W),{},{x:qa(H.x,W.x,D),y:qa(H.y,W.y,D)})}return W}),D>0&&(n.current=U,i.current=F),j.createElement(dD,{points:U,baseLine:F,needClip:t,clipPathId:r,props:a})}return D>0&&(n.current=s,i.current=o),j.createElement(Gn,null,c&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(r)},j.createElement(Fme,{alpha:D,points:s,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),j.createElement(Gn,{clipPath:"url(#animationClipPath-".concat(r,")")},j.createElement(dD,{points:s,baseLine:o,needClip:t,clipPathId:r,props:a})))}),j.createElement(Mw,{label:a.label}))}function Ume(e){var{needClip:t,clipPathId:r,props:a}=e,n=j.useRef(null),i=j.useRef();return j.createElement(Bme,{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i})}class zme extends j.PureComponent{render(){var{hide:t,dot:r,points:a,className:n,top:i,left:s,needClip:o,xAxisId:c,yAxisId:d,width:f,height:m,id:x,baseLine:p}=this.props;if(t)return null;var y=Br("recharts-area",n),v=x,{r:b,strokeWidth:k}=_z(r),N=Fw(r),_=b*2+k;return j.createElement(j.Fragment,null,j.createElement(Gn,{className:y},o&&j.createElement("defs",null,j.createElement(Pj,{clipPathId:v,xAxisId:c,yAxisId:d}),!N&&j.createElement("clipPath",{id:"clipPath-dots-".concat(v)},j.createElement("rect",{x:s-_/2,y:i-_/2,width:f+_,height:m+_}))),j.createElement(Ume,{needClip:o,clipPathId:v,props:this.props})),j.createElement(AS,{points:a,mainColor:S2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&j.createElement(AS,{points:p,mainColor:S2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Pz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!e0.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function qme(e){var t,r=zi(e,Pz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,fill:d,fillOpacity:f,hide:m,isAnimationActive:x,legendType:p,stroke:y,xAxisId:v,yAxisId:b}=r,k=Oz(r,Nme),N=sv(),_=RU(),{needClip:T}=qw(v,b),L=bs(),{points:D,isRange:R,baseLine:U}=(t=Vt(Y=>_me(Y,v,b,L,e.id)))!==null&&t!==void 0?t:{},F=zw();if(N!=="horizontal"&&N!=="vertical"||F==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:W,width:O,x:M,y:H}=F;return!D||!D.length?null:j.createElement(zme,Ld({},k,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:s,baseLine:U,connectNulls:o,dot:c,fill:d,fillOpacity:f,height:W,hide:m,layout:N,isAnimationActive:x,isRange:R,legendType:p,needClip:T,points:D,stroke:y,width:O,left:M,top:H,xAxisId:v,yAxisId:b}))}var $me=(e,t,r,a,n)=>{var i=r??t;if(Ht(i))return i;var s=e==="horizontal"?n:a,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function Hme(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:n,layout:i,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:x,bandSize:p}=e,y=n&&n.length,v=$me(i,s,r,o,c),b=i==="horizontal",k=!1,N=d.map((T,L)=>{var D;y?D=n[f+L]:(D=$a(T,a),Array.isArray(D)?k=!0:D=[v,D]);var R=D[1]==null||y&&!t&&$a(T,a)==null;return b?{x:e2({axis:o,ticks:m,bandSize:p,entry:T,index:L}),y:R?null:c.scale(D[1]),value:D,payload:T}:{x:R?null:o.scale(D[1]),y:e2({axis:c,ticks:x,bandSize:p,entry:T,index:L}),value:D,payload:T}}),_;return y||k?_=N.map(T=>{var L=Array.isArray(T.value)?T.value[0]:null;return b?{x:T.x,y:L!=null&&T.y!=null?c.scale(L):null,payload:T.payload}:{x:L!=null?o.scale(L):null,y:T.y,payload:T.payload}}):_=b?c.scale(v):o.scale(v),{points:N,baseLine:_,isRange:k}}function Wme(e){var t=zi(e,Pz),r=bs();return j.createElement(Uw,{id:t.id,type:"area"},a=>j.createElement(j.Fragment,null,j.createElement(Aj,{legendPayload:Cme(t)}),j.createElement(Bw,{fn:Ome,args:t}),j.createElement(Tj,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:vF(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),j.createElement(qme,Ld({},t,{id:a}))))}var Dz=j.memo(Wme);Dz.displayName="Area";var Vme=["dangerouslySetInnerHTML","ticks"],Kme=["id"],Gme=["domain"],Yme=["domain"];function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},CS.apply(null,arguments)}function N2(e,t){if(e==null)return{};var r,a,n=Xme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xme(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Qme(e){var t=kn();return j.useLayoutEffect(()=>(t(S0e(e)),()=>{t(N0e(e))}),[e,t]),null}var Jme=e=>{var{xAxisId:t,className:r}=e,a=Vt(s6),n=bs(),i="xAxis",s=Vt(b=>Pg(b,i,t,n)),o=Vt(b=>hU(b,i,t,n)),c=Vt(b=>cU(b,t)),d=Vt(b=>fle(b,t)),f=Vt(b=>HB(b,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,p=N2(e,Vme),{id:y}=f,v=N2(f,Kme);return j.createElement(Rj,CS({},p,v,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:Br("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:o}))},Zme={allowDataOverflow:Xo.allowDataOverflow,allowDecimals:Xo.allowDecimals,allowDuplicatedCategory:Xo.allowDuplicatedCategory,height:Xo.height,hide:!1,mirror:Xo.mirror,orientation:Xo.orientation,padding:Xo.padding,reversed:Xo.reversed,scale:Xo.scale,tickCount:Xo.tickCount,type:Xo.type,xAxisId:0},epe=e=>{var t,r,a,n,i,s=zi(e,Zme);return j.createElement(j.Fragment,null,j.createElement(Qme,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(a=s.angle)!==null&&a!==void 0?a:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(Jme,s))},tpe=(e,t)=>{var{domain:r}=e,a=N2(e,Gme),{domain:n}=t,i=N2(t,Yme);return hg(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(n)&&n.length===2?r[0]===n[0]&&r[1]===n[1]:hg({domain:r},{domain:n}):!1},Md=j.memo(epe,tpe);Md.displayName="XAxis";var rpe=["dangerouslySetInnerHTML","ticks"],ape=["id"],npe=["domain"],ipe=["domain"];function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},OS.apply(null,arguments)}function j2(e,t){if(e==null)return{};var r,a,n=spe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function spe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function ope(e){var t=kn();return j.useLayoutEffect(()=>(t(j0e(e)),()=>{t(A0e(e))}),[e,t]),null}var lpe=e=>{var{yAxisId:t,className:r,width:a,label:n}=e,i=j.useRef(null),s=j.useRef(null),o=Vt(s6),c=bs(),d=kn(),f="yAxis",m=Vt(L=>Pg(L,f,t,c)),x=Vt(L=>uU(L,t)),p=Vt(L=>mle(L,t)),y=Vt(L=>hU(L,f,t,c)),v=Vt(L=>WB(L,t));if(j.useLayoutEffect(()=>{if(!(a!=="auto"||!x||vj(n)||j.isValidElement(n)||v==null)){var L=i.current;if(L){var D=L.getCalculatedWidth();Math.round(x.width)!==Math.round(D)&&d(T0e({id:t,width:D}))}}},[y,x,d,n,t,a,v]),x==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:k}=e,N=j2(e,rpe),{id:_}=v,T=j2(v,ape);return j.createElement(Rj,OS({},N,T,{ref:i,labelRef:s,scale:m,x:p.x,y:p.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:Br("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:y}))},cpe={allowDataOverflow:Qo.allowDataOverflow,allowDecimals:Qo.allowDecimals,allowDuplicatedCategory:Qo.allowDuplicatedCategory,hide:!1,mirror:Qo.mirror,orientation:Qo.orientation,padding:Qo.padding,reversed:Qo.reversed,scale:Qo.scale,tickCount:Qo.tickCount,type:Qo.type,width:Qo.width,yAxisId:0},upe=e=>{var t,r,a,n,i,s=zi(e,cpe);return j.createElement(j.Fragment,null,j.createElement(ope,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(a=s.angle)!==null&&a!==void 0?a:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(lpe,s))},dpe=(e,t)=>{var{domain:r}=e,a=j2(e,npe),{domain:n}=t,i=j2(t,ipe);return hg(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(n)&&n.length===2?r[0]===n[0]&&r[1]===n[1]:hg({domain:r},{domain:n}):!1},Au=j.memo(upe,dpe);Au.displayName="YAxis";var c_={exports:{}},u_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD;function fpe(){if(fD)return u_;fD=1;var e=xg();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,s=e.useMemo,o=e.useDebugValue;return u_.useSyncExternalStoreWithSelector=function(c,d,f,m,x){var p=n(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=s(function(){function b(L){if(!k){if(k=!0,N=L,L=m(L),x!==void 0&&y.hasValue){var D=y.value;if(x(D,L))return _=D}return _=L}if(D=_,r(N,L))return D;var R=m(L);return x!==void 0&&x(D,R)?(N=L,D):(N=L,_=R)}var k=!1,N,_,T=f===void 0?null:f;return[function(){return b(d())},T===null?void 0:function(){return b(T())}]},[d,f,m,x]);var v=a(c,p[0],p[1]);return i(function(){y.hasValue=!0,y.value=v},[v]),o(v),v},u_}var hD;function hpe(){return hD||(hD=1,c_.exports=fpe()),c_.exports}hpe();function mpe(e){e()}function ppe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mpe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var mD={notify(){},get:()=>[]};function gpe(e,t){let r,a=mD,n=0,i=!1;function s(v){f();const b=a.subscribe(v);let k=!1;return()=>{k||(k=!0,b(),m())}}function o(){a.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return i}function f(){n++,r||(r=e.subscribe(c),a=ppe())}function m(){n--,r&&n===0&&(r(),r=void 0,a.clear(),a=mD)}function x(){i||(i=!0,f())}function p(){i&&(i=!1,m())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:x,tryUnsubscribe:p,getListeners:()=>a};return y}var xpe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vpe=xpe(),ype=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bpe=ype(),wpe=()=>vpe||bpe?j.useLayoutEffect:j.useEffect,kpe=wpe(),d_=Symbol.for("react-redux-context"),f_=typeof globalThis<"u"?globalThis:{};function _pe(){if(!j.createContext)return{};const e=f_[d_]??(f_[d_]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Spe=_pe();function Npe(e){const{children:t,context:r,serverState:a,store:n}=e,i=j.useMemo(()=>{const c=gpe(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),s=j.useMemo(()=>n.getState(),[n]);kpe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||Spe;return j.createElement(o.Provider,{value:i},t)}var jpe=Npe,Ape=(e,t)=>t,Fj=Ze([Ape,Qr,zB,$i,CU,n0,vce,Ui],_ce),Bj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},Lz=Gl("mouseClick"),Mz=nv();Mz.startListening({actionCreator:Lz,effect:(e,t)=>{var r=e.payload,a=Fj(t.getState(),Bj(r));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Ale({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var PS=Gl("mouseMove"),Rz=nv();Rz.startListening({actionCreator:PS,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=cj(a,a.tooltip.settings.shared),i=Fj(a,Bj(r));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(wU({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(bU()))}});var pD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Iz=ml({name:"rootProps",initialState:pD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:pD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Tpe=Iz.reducer,{updateOptions:Epe}=Iz.actions,Fz=ml({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Cpe}=Fz.actions,Ope=Fz.reducer,Bz=Gl("keyDown"),Uz=Gl("focus"),Uj=nv();Uj.startListening({actionCreator:Bz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(uj(n,Lg(r))),o=n0(r);if(i==="Enter"){var c=x2(r,"axis","hover",String(n.index));t.dispatch(kS({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=vle(r),f=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,x=s+m*f;if(!(o==null||x>=o.length||x<0)){var p=x2(r,"axis","hover",String(x));t.dispatch(kS({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Uj.startListening({actionCreator:Uz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&n.index==null){var i="0",s=x2(r,"axis","hover",String(i));t.dispatch(kS({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Rl=Gl("externalEvent"),zz=nv();zz.startListening({actionCreator:Rl,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:cce(r),activeDataKey:LU(r),activeIndex:mf(r),activeLabel:DU(r),activeTooltipIndex:mf(r),isTooltipActive:uce(r)};e.payload.handler(a,e.payload.reactEvent)}}});var Ppe=Ze([Dg],e=>e.tooltipItemPayloads),Dpe=Ze([Ppe,vv,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(o=>o.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var s=t(i,r);return s}}}),qz=Gl("touchMove"),$z=nv();$z.startListening({actionCreator:qz,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=cj(a,a.tooltip.settings.shared);if(n==="axis"){var i=Fj(a,Bj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(wU({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(bF),f=(s=c.getAttribute(wF))!==null&&s!==void 0?s:void 0,m=Dpe(t.getState(),d,f);t.dispatch(yU({activeDataKey:f,activeIndex:d,activeCoordinate:m}))}}});var Lpe=$I({brush:Yfe,cartesianAxis:E0e,chartData:Bce,errorBars:G0e,graphicalItems:Gde,layout:Jte,legend:aae,options:Lce,polarAxis:lde,polarOptions:Ope,referenceElements:rhe,rootProps:Tpe,tooltip:Tle}),Mpe=function(t){return _te({reducer:Lpe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Mz.middleware,Rz.middleware,Uj.middleware,zz.middleware,$z.middleware]),enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(tF({type:"raf"}))},devTools:e0.devToolsEnabled})};function Hz(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,n=bs(),i=j.useRef(null);if(n)return r;i.current==null&&(i.current=Mpe(t));var s=e6;return j.createElement(jpe,{context:s,store:i.current},r)}function Wz(e){var{layout:t,margin:r}=e,a=kn(),n=bs();return j.useEffect(()=>{n||(a(Yte(t)),a(Gte(r)))},[a,n,t,r]),null}function Vz(e){var t=kn();return j.useEffect(()=>{t(Epe(e))},[t,e]),null}var Rpe=["children"];function Ipe(e,t){if(e==null)return{};var r,a,n=Fpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},A2.apply(null,arguments)}var Bpe={width:"100%",height:"100%",display:"block"},Upe=j.forwardRef((e,t)=>{var r=l6(),a=c6(),n=EF();if(!lg(r)||!lg(a))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,d,f;return typeof s.tabIndex=="number"?d=s.tabIndex:d=n?0:void 0,typeof s.role=="string"?f=s.role:f=n?"application":void 0,j.createElement(qN,A2({},s,{title:o,desc:c,role:f,tabIndex:d,width:r,height:a,style:Bpe,ref:t}),i)}),zpe=e=>{var{children:t}=e,r=Vt(hw);if(!r)return null;var{width:a,height:n,y:i,x:s}=r;return j.createElement(qN,{width:a,height:n,x:s,y:i},t)},gD=j.forwardRef((e,t)=>{var{children:r}=e,a=Ipe(e,Rpe),n=bs();return n?j.createElement(zpe,null,r):j.createElement(Upe,A2({ref:t},a),r)});function qpe(){var e=kn(),[t,r]=j.useState(null),a=Vt(jre);return j.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;ki(i)&&i!==a&&e(Qte(i))}},[t,e,a]),r}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function $pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(a){Hpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hpe(e,t,r){return(t=Wpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wpe(e){var t=Vpe(e,"string");return typeof t=="symbol"?t:t+""}function Vpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zh.apply(null,arguments)}var Kpe=()=>(Gce(),null);function T2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Gpe=j.forwardRef((e,t)=>{var r,a,n=j.useRef(null),[i,s]=j.useState({containerWidth:T2((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:T2((a=e.style)===null||a===void 0?void 0:a.height)}),o=j.useCallback((d,f)=>{s(m=>{var x=Math.round(d),p=Math.round(f);return m.containerWidth===x&&m.containerHeight===p?m:{containerWidth:x,containerHeight:p}})},[]),c=j.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();o(f,m);var x=y=>{var{width:v,height:b}=y[0].contentRect;o(v,b)},p=new ResizeObserver(x);p.observe(d),n.current=p}},[t,o]);return j.useEffect(()=>()=>{var d=n.current;d!=null&&d.disconnect()},[o]),j.createElement(j.Fragment,null,j.createElement(pw,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Zh({ref:c},e)))}),Ype=j.forwardRef((e,t)=>{var{width:r,height:a}=e,[n,i]=j.useState({containerWidth:T2(r),containerHeight:T2(a)}),s=j.useCallback((c,d)=>{i(f=>{var m=Math.round(c),x=Math.round(d);return f.containerWidth===m&&f.containerHeight===x?f:{containerWidth:m,containerHeight:x}})},[]),o=j.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();s(d,f)}},[t,s]);return j.createElement(j.Fragment,null,j.createElement(pw,{width:n.containerWidth,height:n.containerHeight}),j.createElement("div",Zh({ref:o},e)))}),Xpe=j.forwardRef((e,t)=>{var{width:r,height:a}=e;return j.createElement(j.Fragment,null,j.createElement(pw,{width:r,height:a}),j.createElement("div",Zh({ref:t},e)))}),Qpe=j.forwardRef((e,t)=>{var{width:r,height:a}=e;return $d(r)||$d(a)?j.createElement(Ype,Zh({},e,{ref:t})):j.createElement(Xpe,Zh({},e,{ref:t}))});function Jpe(e){return e===!0?Gpe:Qpe}var Zpe=j.forwardRef((e,t)=>{var{children:r,className:a,height:n,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:x,onTouchEnd:p,onTouchMove:y,onTouchStart:v,style:b,width:k,responsive:N,dispatchTouchEvents:_=!0}=e,T=j.useRef(null),L=kn(),[D,R]=j.useState(null),[U,F]=j.useState(null),W=qpe(),O=o6(),M=(O==null?void 0:O.width)>0?O.width:k,H=(O==null?void 0:O.height)>0?O.height:n,Y=j.useCallback(ie=>{W(ie),typeof t=="function"&&t(ie),R(ie),F(ie),ie!=null&&(T.current=ie)},[W,t,R,F]),ne=j.useCallback(ie=>{L(Lz(ie)),L(Rl({handler:i,reactEvent:ie}))},[L,i]),X=j.useCallback(ie=>{L(PS(ie)),L(Rl({handler:d,reactEvent:ie}))},[L,d]),re=j.useCallback(ie=>{L(bU()),L(Rl({handler:f,reactEvent:ie}))},[L,f]),fe=j.useCallback(ie=>{L(PS(ie)),L(Rl({handler:m,reactEvent:ie}))},[L,m]),ce=j.useCallback(()=>{L(Uz())},[L]),ke=j.useCallback(ie=>{L(Bz(ie.key))},[L]),Z=j.useCallback(ie=>{L(Rl({handler:s,reactEvent:ie}))},[L,s]),P=j.useCallback(ie=>{L(Rl({handler:o,reactEvent:ie}))},[L,o]),q=j.useCallback(ie=>{L(Rl({handler:c,reactEvent:ie}))},[L,c]),V=j.useCallback(ie=>{L(Rl({handler:x,reactEvent:ie}))},[L,x]),z=j.useCallback(ie=>{L(Rl({handler:v,reactEvent:ie}))},[L,v]),Q=j.useCallback(ie=>{_&&L(qz(ie)),L(Rl({handler:y,reactEvent:ie}))},[L,_,y]),de=j.useCallback(ie=>{L(Rl({handler:p,reactEvent:ie}))},[L,p]),Ee=Jpe(N);return j.createElement(zU.Provider,{value:D},j.createElement(sI.Provider,{value:U},j.createElement(Ee,{width:M??(b==null?void 0:b.width),height:H??(b==null?void 0:b.height),className:Br("recharts-wrapper",a),style:$pe({position:"relative",cursor:"default",width:M,height:H},b),onClick:ne,onContextMenu:Z,onDoubleClick:P,onFocus:ce,onKeyDown:ke,onMouseDown:q,onMouseEnter:X,onMouseLeave:re,onMouseMove:fe,onMouseUp:V,onTouchEnd:de,onTouchMove:Q,onTouchStart:z,ref:Y},j.createElement(Kpe,null),r)))}),ege=["width","height","responsive","children","className","style","compact","title","desc"];function tge(e,t){if(e==null)return{};var r,a,n=rge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Kz=j.forwardRef((e,t)=>{var{width:r,height:a,responsive:n,children:i,className:s,style:o,compact:c,title:d,desc:f}=e,m=tge(e,ege),x=lo(m);return c?j.createElement(j.Fragment,null,j.createElement(pw,{width:r,height:a}),j.createElement(gD,{otherAttributes:x,title:d,desc:f},i)):j.createElement(Zpe,{className:s,style:o,width:r,height:a,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(gD,{otherAttributes:x,title:d,desc:f,ref:t},j.createElement(nhe,null,i)))});function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DS.apply(null,arguments)}var age={top:5,right:5,bottom:5,left:5},nge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:age,reverseStackOrder:!1,syncMethod:"index",responsive:!1},$w=j.forwardRef(function(t,r){var a,n=zi(t.categoricalChartProps,nge),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,f={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return j.createElement(Hz,{preloadedState:{options:f},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},j.createElement(mz,{chartData:d.data}),j.createElement(Wz,{layout:n.layout,margin:n.margin}),j.createElement(Vz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),j.createElement(Kz,DS({},n,{ref:r})))}),ige=["axis"],zj=j.forwardRef((e,t)=>j.createElement($w,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ige,tooltipPayloadSearcher:bv,categoricalChartProps:e,ref:t})),sge=["axis","item"],LS=j.forwardRef((e,t)=>j.createElement($w,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sge,tooltipPayloadSearcher:bv,categoricalChartProps:e,ref:t}));function oge(e){var t=kn();return j.useEffect(()=>{t(Cpe(e))},[t,e]),null}var lge=["layout"];function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},MS.apply(null,arguments)}function cge(e,t){if(e==null)return{};var r,a,n=uge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uge(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var dge={top:5,right:5,bottom:5,left:5},fge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},hge=j.forwardRef(function(t,r){var a,n=zi(t.categoricalChartProps,fge),{layout:i}=n,s=cge(n,lge),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=t,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(Hz,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},j.createElement(mz,{chartData:n.data}),j.createElement(Wz,{layout:i,margin:n.margin}),j.createElement(Vz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),j.createElement(oge,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),j.createElement(Kz,MS({},s,{ref:r})))}),mge=["item"],pge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Gz=j.forwardRef((e,t)=>{var r=zi(e,pge);return j.createElement(hge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mge,tooltipPayloadSearcher:bv,categoricalChartProps:r,ref:t})}),gge=["axis"],xge=j.forwardRef((e,t)=>j.createElement($w,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gge,tooltipPayloadSearcher:bv,categoricalChartProps:e,ref:t})),vge=["axis"],yge=j.forwardRef((e,t)=>j.createElement($w,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vge,tooltipPayloadSearcher:bv,categoricalChartProps:e,ref:t}));const bge=()=>{var U,F;const{sales:e,parts:t,cashTransactions:r,customers:a,paymentSources:n,employees:i,loans:s,currentBranchId:o}=_i(),[c,d]=j.useState(e.length===0),f=j.useMemo(()=>new Date().toISOString().slice(0,10),[]),{data:m,isLoading:x}=ZJ(),p=j.useMemo(()=>(m||[]).reduce((W,O)=>W+O.total_quantity,0),[m]),y=j.useMemo(()=>(m||[]).reduce((W,O)=>W+O.total_value,0),[m]),v=()=>{eZ(),window.location.reload()},b=()=>{confirm("Bn c chc mun xa ton b d liu demo khng?")&&(tZ(),window.location.reload())},k=j.useMemo(()=>{const W=e.filter(Y=>Y.date.slice(0,10)===f),O=W.reduce((Y,ne)=>Y+ne.total,0),M=W.reduce((Y,ne)=>{const X=ne.items.reduce((re,fe)=>re+(fe.costPrice||0)*fe.quantity,0);return Y+(ne.total-X)},0),H=new Set(W.map(Y=>Y.customer.phone||Y.customer.name)).size;return{revenue:O,profit:M,customerCount:H,orderCount:W.length}},[e,f]),N=j.useMemo(()=>{const W=[];for(let O=6;O>=0;O--){const M=new Date;M.setDate(M.getDate()-O);const H=M.toISOString().slice(0,10),ne=e.filter(re=>re.date.slice(0,10)===H).reduce((re,fe)=>re+fe.total,0),X=r.filter(re=>re.type==="expense"&&re.date.slice(0,10)===H).reduce((re,fe)=>re+fe.amount,0);W.push({date:M.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),revenue:ne,expense:X,profit:ne-X})}return W},[e,r]),_=j.useMemo(()=>{const W=r.filter(M=>M.type==="income").reduce((M,H)=>M+H.amount,0),O=r.filter(M=>M.type==="expense").reduce((M,H)=>M+H.amount,0);return[{name:"Thu",value:W,color:"#10b981"},{name:"Chi",value:O,color:"#ef4444"}]},[r]),T=j.useMemo(()=>{const W={};return e.forEach(O=>{O.items.forEach(M=>{W[M.partId]||(W[M.partId]={name:M.partName,quantity:0}),W[M.partId].quantity+=M.quantity})}),Object.values(W).sort((O,M)=>M.quantity-O.quantity).slice(0,5)},[e]),L=((U=n.find(W=>W.id==="cash"))==null?void 0:U.balance[o])||0,D=((F=n.find(W=>W.id==="bank"))==null?void 0:F.balance[o])||0,R=j.useMemo(()=>{const W=[],O=t.filter(H=>(H.stock[o]||0)<10);O.length>0&&W.push({type:"Tn kho thp",message:`${O.length} sn phm sp ht hng`,color:"text-orange-600 dark:text-orange-400"});const M=s.filter(H=>{const Y=Math.ceil((new Date(H.endDate).getTime()-Date.now())/864e5);return Y<=30&&Y>0&&H.status==="active"});return M.length>0&&W.push({type:"N n hn",message:`${M.length} khon vay sp n hn`,color:"text-red-600 dark:text-red-400"}),L+D<1e7&&W.push({type:"S d thp",message:"S d ti khon di 10 triu",color:"text-amber-600 dark:text-amber-400"}),W},[t,s,L,D,o]);return u.jsxs("div",{className:"space-y-6",children:[c&&u.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:" Cha c d liu"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"H thng cha c d liu. Bn c th ti d liu mu  khm ph cc tnh nng hoc bt u nhp d liu thc t."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:v,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",children:[u.jsx(I3,{className:"w-5 h-5"})," Ti d liu mu"]}),u.jsx("button",{onClick:()=>d(!1),className:"px-6 py-3 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-2 border-slate-300 dark:border-slate-600 rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-600 transition-all duration-200",children:"B qua"})]})]}),u.jsx("div",{className:"hidden md:block text-6xl",children:u.jsx(Bb,{className:"w-16 h-16 text-blue-600 dark:text-blue-400"})})]})}),e.length>0&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:b,className:"px-4 py-2 text-sm bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors inline-flex items-center gap-2",children:[u.jsx(JR,{className:"w-4 h-4"})," Xa tt c d liu"]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(vp,{title:"Doanh thu hm nay",value:qe(k.revenue),subtitle:`${k.orderCount} n hng`,colorKey:"blue",icon:u.jsx(gh,{className:"w-5 h-5"})}),u.jsx(vp,{title:"Li nhun hm nay",value:qe(k.profit),subtitle:`${k.customerCount} khch hng`,colorKey:"emerald",icon:u.jsx(Ub,{className:"w-5 h-5"})}),u.jsx(vp,{title:"Tin mt",value:qe(L),subtitle:"Qu tin mt",colorKey:"amber",icon:u.jsx(Yx,{className:"w-5 h-5"})}),u.jsx(vp,{title:"Ngn hng",value:qe(D),subtitle:"Ti khon ngn hng",colorKey:"violet",icon:u.jsx(IN,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(vp,{title:"Tng SL tn kho",value:x?"...":`${p}`,subtitle:"Gp tt c chi nhnh",colorKey:"blue",icon:u.jsx(cl,{className:"w-5 h-5"})}),u.jsx(vp,{title:"Tng gi tr tn kho",value:x?"...":qe(y),subtitle:"Theo gi bn l hin ti",colorKey:"violet",icon:u.jsx(I3,{className:"w-5 h-5"})})]}),R.length>0&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[u.jsx(ZR,{className:"w-5 h-5 text-amber-500"})," Cnh bo"]}),u.jsx("div",{className:"space-y-2",children:R.map((W,O)=>u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[W.type,":"]})," ",u.jsx("span",{className:W.color,children:W.message})]}),u.jsx("button",{className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 text-sm font-medium",children:"Xem chi tit "})]},O))})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Doanh thu & Chi ph 7 ngy gn y"}),u.jsx(Su,{width:"100%",height:250,children:u.jsxs(zj,{data:N,children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:W=>qe(W)}),u.jsx(Gh,{}),u.jsx(hf,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Doanh thu"}),u.jsx(hf,{type:"monotone",dataKey:"expense",stroke:"#ef4444",strokeWidth:2,name:"Chi ph"}),u.jsx(hf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Li nhun"})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"T l Thu/Chi"}),u.jsx(Su,{width:"100%",height:250,children:u.jsxs(Gz,{children:[u.jsx(Cj,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:({name:W,percent:O})=>`${W}: ${(O*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:_.map((W,O)=>u.jsx(Mg,{fill:W.color},`cell-${O}`))}),u.jsx(ju,{formatter:W=>qe(W)})]})}),u.jsxs("div",{className:"mt-4 flex justify-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),u.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Thu: ",qe(_[0].value)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),u.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Chi: ",qe(_[1].value)]})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Top 5 sn phm bn chy"}),u.jsx(Su,{width:"100%",height:250,children:u.jsxs(LS,{data:T,children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"name",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),u.jsx(Lh,{dataKey:"quantity",fill:"#3b82f6",name:"S lng bn"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(GJ,{className:"w-5 h-5 text-yellow-500"}),"Top 10 Khch hng VIP"]}),u.jsx("div",{className:"space-y-3",children:j.useMemo(()=>{const W={};return e.forEach(O=>{const M=O.customer.phone||O.customer.name;W[M]||(W[M]={name:O.customer.name,phone:O.customer.phone,total:0}),W[M].total+=O.total}),Object.values(W).sort((O,M)=>M.total-O.total).slice(0,10).map((O,M)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white font-bold text-sm",children:M+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),O.phone&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:O.phone})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:qe(O.total)}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tng chi tiu"})]})]},M))},[e])})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(Bb,{className:"w-5 h-5 text-blue-500"}),"So snh 3 thng gn y"]}),u.jsx(Su,{width:"100%",height:300,children:u.jsxs(LS,{data:j.useMemo(()=>{const W=[],O=new Date;for(let M=2;M>=0;M--){const H=new Date(O.getFullYear(),O.getMonth()-M,1),Y=H.toISOString().slice(0,7),ne=H.toLocaleDateString("vi-VN",{month:"short",year:"numeric"}),X=e.filter(ce=>ce.date.startsWith(Y)),re=X.reduce((ce,ke)=>ce+ke.total,0),fe=X.length;W.push({month:ne,revenue:re,orders:fe})}return W},[e]),children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"month",stroke:"#94a3b8"}),u.jsx(Au,{yAxisId:"left",stroke:"#3b82f6"}),u.jsx(Au,{yAxisId:"right",orientation:"right",stroke:"#10b981"}),u.jsx(ju,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:(W,O)=>O==="revenue"?qe(W):W}),u.jsx(Gh,{}),u.jsx(Lh,{yAxisId:"left",dataKey:"revenue",fill:"#3b82f6",name:"Doanh thu"}),u.jsx(Lh,{yAxisId:"right",dataKey:"orders",fill:"#10b981",name:"S n"})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng khch hng"}),u.jsx(m1,{className:"w-5 h-5 text-slate-500"})]}),u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:a.length}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[a.filter(W=>W.segment==="VIP").length," VIP"]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng nhn vin"}),u.jsx(Fb,{className:"w-5 h-5 text-slate-500"})]}),u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i.filter(W=>W.status==="active").length}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"ang lm vic"})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng sn phm"}),u.jsx(cl,{className:"w-5 h-5 text-slate-500"})]}),u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:t.reduce((W,O)=>W+(O.stock[o]||0),0)}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[t.length," loi sn phm"]})]})]})]})},wge={blue:{card:"bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/40",icon:"bg-blue-500/15 text-blue-600 dark:text-blue-400",accent:"text-blue-600 dark:text-blue-400"},emerald:{card:"bg-white dark:bg-slate-800 border border-emerald-100 dark:border-emerald-900/40",icon:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-400",accent:"text-emerald-600 dark:text-emerald-400"},amber:{card:"bg-white dark:bg-slate-800 border border-amber-100 dark:border-amber-900/40",icon:"bg-amber-500/15 text-amber-600 dark:text-amber-400",accent:"text-amber-600 dark:text-amber-400"},violet:{card:"bg-white dark:bg-slate-800 border border-violet-100 dark:border-violet-900/40",icon:"bg-violet-500/15 text-violet-600 dark:text-violet-400",accent:"text-violet-600 dark:text-violet-400"}},vp=({title:e,value:t,subtitle:r,colorKey:a,icon:n})=>{const i=wge[a];return u.jsxs("div",{className:`${i.card} rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:e}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t})]}),u.jsx("div",{className:`w-10 h-10 rounded-lg ${i.icon} flex items-center justify-center`,children:n})]}),u.jsx("p",{className:`text-sm ${i.accent}`,children:r})]})},kge={"sale.delete":["owner","manager"],"part.update_price":["owner","manager"],"settings.update":["owner","manager"],"finance.view":["owner","manager"],"payroll.view":["owner","manager"],"analytics.view":["owner","manager"],"reports.view":["owner","manager","staff"],"employees.view":["owner","manager"],"debt.view":["owner","manager"]};function Yz(e,t){return e?kge[t].includes(e):!1}const Rc="parts";async function _ge(){try{const{data:e,error:t}=await xr.from(Rc).select("*").order("name");return t?Lt({code:"supabase",message:"Khng th ti danh sch ph tng",cause:t}):Ln(e||[])}catch(e){return Lt({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function Sge(e){try{const t=e!=null&&e.pageSize&&e.pageSize>0?e.pageSize:50,r=e!=null&&e.page&&e.page>0?e.page:1,a=(r-1)*t,n=a+t-1;let i=xr.from(Rc).select("*",{count:"exact"}).order("name").range(a,n);if(e!=null&&e.category&&e.category!=="all"&&(i=i.eq("category",e.category)),e!=null&&e.search&&e.search.trim()){const d=e.search.trim();i=i.or(`name.ilike.%${d}%,sku.ilike.%${d}%`)}const{data:s,error:o,count:c}=await i;return o?Lt({code:"supabase",message:"Khng th ti danh sch ph tng (phn trang)",cause:o}):Ln(s||[],{total:c,page:r,pageSize:t})}catch(t){return Lt({code:"network",message:"Li kt ni ti my ch khi ti ph tng (phn trang)",cause:t})}}async function Nge(e){var t;try{if(!e.name)return Lt({code:"validation",message:"Thiu tn ph tng"});const r={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,name:e.name,sku:e.sku||`SKU-${Date.now()}`,stock:e.stock||{CN1:0},retailPrice:e.retailPrice||{CN1:0},wholesalePrice:e.wholesalePrice||{CN1:0},category:e.category,description:e.description,warrantyPeriod:e.warrantyPeriod},{data:a,error:n}=await xr.from(Rc).insert([r]).select().single();if(n||!a){const s=(n==null?void 0:n.message)||(n==null?void 0:n.details)||"To ph tng tht bi";return Lt({code:"supabase",message:s,cause:n})}let i=null;try{const{data:s}=await xr.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await bi(i,{action:"part.create",tableName:Rc,recordId:a.id,oldData:null,newData:a}),Ln(a)}catch(r){return Lt({code:"network",message:"Li kt ni khi to ph tng",cause:r})}}async function jge(e,t){var r;try{const{data:a,error:n}=await xr.from(Rc).select("*").eq("id",e).single();if(n||!a)return Lt({code:"supabase",message:"Khng tm thy ph tng  cp nht",cause:n});const{data:i,error:s}=await xr.from(Rc).update(t).eq("id",e).select().single();if(s||!i)return Lt({code:"supabase",message:"Cp nht ph tng tht bi",cause:s});let o=null;try{const{data:c}=await xr.auth.getUser();o=((r=c==null?void 0:c.user)==null?void 0:r.id)||null}catch{}return await bi(o,{action:"part.update",tableName:Rc,recordId:e,oldData:a,newData:i}),Ln(i)}catch(a){return Lt({code:"network",message:"Li kt ni khi cp nht ph tng",cause:a})}}async function Age(e){var t;try{const{data:r,error:a}=await xr.from(Rc).select("*").eq("id",e).single();if(a||!r)return Lt({code:"supabase",message:"Khng tm thy ph tng  xa",cause:a});const{error:n}=await xr.from(Rc).delete().eq("id",e);if(n)return Lt({code:"supabase",message:"Xa ph tng tht bi",cause:n});let i=null;try{const{data:s}=await xr.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await bi(i,{action:"part.delete",tableName:Rc,recordId:e,oldData:r,newData:null}),Ln({id:e})}catch(r){return Lt({code:"network",message:"Li kt ni khi xa ph tng",cause:r})}}async function vD(e){try{const{data:t,error:r}=await xr.from(Rc).select("*").eq("sku",e).maybeSingle();return r?Lt({code:"supabase",message:"Khng th tm ph tng theo SKU",cause:r}):Ln(t||null)}catch(t){return Lt({code:"network",message:"Li kt ni khi tm ph tng theo SKU",cause:t})}}const Xz=()=>qc({queryKey:["partsRepo"],queryFn:async()=>{const e=await _ge();if(!e.ok)throw e.error;return e.data}}),Tge=e=>qc({queryKey:["partsRepoPaged",e.page,e.pageSize,e.search||"",e.category||"all"],queryFn:async()=>{const t=await Sge(e);if(!t.ok)throw t.error;return t},staleTime:3e4}),Qz=()=>{const e=zs();return $c({mutationFn:Nge,onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),e.invalidateQueries({queryKey:["partsRepoPaged"]}),yt.success(" to ph tng")},onError:t=>yt.error(Po(t))})},Jz=()=>{const e=zs();return $c({mutationFn:({id:t,updates:r})=>jge(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),e.invalidateQueries({queryKey:["partsRepoPaged"]}),yt.success(" cp nht ph tng")},onError:t=>yt.error(Po(t))})},Ege=()=>{const e=zs();return $c({mutationFn:({id:t})=>Age(t),onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),yt.success(" xa ph tng")},onError:t=>yt.error(Po(t))})},RS="inventory_transactions";async function Cge(e){try{let t=xr.from(RS).select("id,type,partId,partName,quantity,date,unitPrice,totalPrice,branchId,notes,saleId,workOrderId,created_at").order("created_at",{ascending:!1});e!=null&&e.branchId&&(t=t.eq("branchId",e.branchId)),e!=null&&e.startDate&&(t=t.gte("date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("date",e.endDate)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:a}=await t;return a?Lt({code:"supabase",message:(a==null?void 0:a.message)||(a==null?void 0:a.details)||"Khng th ti lch s kho",cause:a}):Ln(r||[])}catch(t){return Lt({code:"network",message:"Li kt ni khi ti lch s kho",cause:t})}}async function Oge(e){var t;try{if(!e.partId||!e.partName)return Lt({code:"validation",message:"Thiu thng tin ph tng"});if(!e.quantity||e.quantity<=0)return Lt({code:"validation",message:"S lng phi > 0"});if(!e.branchId)return Lt({code:"validation",message:"Thiu chi nhnh"});if(!e.type)return Lt({code:"validation",message:"Thiu loi giao dch kho"});const r=e.unitPrice??0,a=e.totalPrice??r*e.quantity,n={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,type:e.type,partId:e.partId,partName:e.partName,quantity:e.quantity,date:e.date||new Date().toISOString(),unitPrice:r||null,totalPrice:a,branchId:e.branchId,notes:e.notes,saleId:e.saleId,workOrderId:e.workOrderId},{data:i,error:s}=await xr.from(RS).insert([n]).select().single();if(s||!i)return Lt({code:"supabase",message:(s==null?void 0:s.message)||(s==null?void 0:s.details)||"Ghi lch s kho tht bi",cause:s});let o=null;try{const{data:c}=await xr.auth.getUser();o=((t=c==null?void 0:c.user)==null?void 0:t.id)||null}catch{}return await bi(o,{action:e.type==="Nhp kho"?"inventory.receipt":"inventory.adjust",tableName:RS,recordId:i.id,oldData:null,newData:i}),Ln(i)}catch(r){return Lt({code:"network",message:"Li kt ni khi ghi lch s kho",cause:r})}}const qj="sales";async function Pge(){try{const{data:e,error:t}=await xr.from(qj).select("*").order("date",{ascending:!1});return t?Lt({code:"supabase",message:"Khng th ti danh sch ha n",cause:t}):Ln(e||[])}catch(e){return Lt({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function Dge(e){const{branchId:t,fromDate:r,toDate:a,page:n=1,pageSize:i=20,search:s,status:o,paymentMethod:c,mode:d="offset",afterDate:f,afterId:m}=e||{};try{let x=xr.from(qj).select("*",{count:"exact"}).order("date",{ascending:!1});if(t&&(x=x.eq("branchId",t)),r&&(x=x.gte("date",r)),a&&(x=x.lte("date",a)),s){const y=s.replace(/[%_]/g,"");x=x.or(`id.ilike.%${y}%,customer->>name.ilike.%${y}%`)}c&&(x=x.eq("paymentMethod",c)),o&&(o==="cancelled"||o==="refunded"?x=x.eq("refunded",!0):o==="completed"&&(x=x.or("refunded.is.null,refunded.eq.false")));let p={};if(d==="keyset"){f&&(m?x=x.or(`date.lt.${f},and(date.eq.${f},id.lt.${m})`):x=x.lt("date",f)),x=x.limit(i);const{data:y,error:v}=await x;if(v)return Lt({code:"supabase",message:"Khng th ti danh sch ha n (keyset)",cause:v});const b=y||[];return p={mode:"keyset",pageSize:i,hasMore:b.length===i,nextAfterDate:b.length?b[b.length-1].date:void 0,nextAfterId:b.length?b[b.length-1].id:void 0},Ln(b,p)}else{const y=(n-1)*i,v=y+i-1;x=x.range(y,v);const{data:b,error:k,count:N}=await x;if(k)return Lt({code:"supabase",message:"Khng th ti danh sch ha n (phn trang)",cause:k});const _=N||0,T=Math.max(1,Math.ceil(_/i));return p={mode:"offset",page:n,pageSize:i,total:_,totalPages:T,hasMore:n<T},Ln(b||[],p)}}catch(x){return Lt({code:"network",message:"Li kt ni khi ti ha n (phn trang)",cause:x})}}async function Lge(e){var t;try{if(!e.items||!e.items.length)return Lt({code:"validation",message:"Thiu danh sch hng ha"});if(!e.paymentMethod)return Lt({code:"validation",message:"Thiu phng thc thanh ton"});if(!e.id)return Lt({code:"validation",message:"Thiu ID ha n"});const r={p_sale_id:e.id,p_items:e.items,p_discount:e.discount??0,p_customer:e.customer??{name:"Khch l"},p_payment_method:e.paymentMethod,p_user_id:e.userId||"unknown",p_user_name:e.userName||"Unknown",p_branch_id:e.branchId||"CN1"},{data:a,error:n}=await xr.rpc("sale_create_atomic",r);if(n||!a){const d=(n==null?void 0:n.details)||(n==null?void 0:n.message)||"",f=d.toUpperCase();if(f.includes("INSUFFICIENT_STOCK")){let m=[];const x=d.indexOf(":");if(x!==-1){const y=d.slice(x+1).trim();try{m=JSON.parse(y)}catch{}}const p=Array.isArray(m)?m.map(y=>`${y.partName||y.partId||"?"} (cn ${y.available}, cn ${y.requested})`).join(", "):"";return Lt({code:"validation",message:p?`Thiu tn kho: ${p}`:"Tn kho khng  cho mt hoc nhiu sn phm",cause:n})}return f.includes("PART_NOT_FOUND")?Lt({code:"validation",message:"Khng tm thy ph tng trong kho",cause:n}):f.includes("INVALID_ITEM")?Lt({code:"validation",message:"D liu sn phm khng hp l",cause:n}):f.includes("EMPTY_ITEMS")?Lt({code:"validation",message:"Danh sch hng ha trng",cause:n}):f.includes("INVALID_PAYMENT_METHOD")?Lt({code:"validation",message:"Phng thc thanh ton khng hp l",cause:n}):f.includes("UNAUTHORIZED")?Lt({code:"supabase",message:"Bn khng c quyn to ha n",cause:n}):f.includes("BRANCH_MISMATCH")?Lt({code:"validation",message:"Chi nhnh khng khp vi quyn hin ti",cause:n}):Lt({code:"supabase",message:"To ha n (atomic) tht bi",cause:n})}const i=a.sale,s=a.cashTransactionId,o=a.inventoryTxCount;if(!i)return Lt({code:"unknown",message:"Kt qu RPC khng hp l"});let c=null;try{const{data:d}=await xr.auth.getUser();c=((t=d==null?void 0:d.user)==null?void 0:t.id)||null}catch{}return await bi(c,{action:"sale.create",tableName:qj,recordId:i.id,oldData:null,newData:i}),Ln({...i,cashTransactionId:s,inventoryTxCount:o})}catch(r){return Lt({code:"network",message:"Li kt ni khi to ha n (atomic)",cause:r})}}const Mge=()=>qc({queryKey:["salesRepo"],queryFn:async()=>{const e=await Pge();if(!e.ok)throw e.error;return e.data}}),Rge=e=>qc({queryKey:["salesRepoPaged",e],queryFn:async()=>{const{status:t,...r}=e||{},a={...r,status:t==="all"?void 0:t},n=await Dge(a);if(!n.ok)throw n.error;return{data:n.data,meta:n.meta}},placeholderData:t=>t}),Ige=()=>{const e=zs();return $c({mutationFn:t=>Lge(t),onSuccess:t=>{var r;e.invalidateQueries({queryKey:["salesRepo"]}),yt.success(" to ha n (atomic)"),(r=t==null?void 0:t.data)!=null&&r.inventoryTxCount&&yt.info(`Xut kho: ${t.data.inventoryTxCount} dng`)},onError:t=>yt.error(Po(t))})};function Fge(e,t,r=5){return j.useMemo(()=>{const a=Array.isArray(e)?e:[],n=t||"",i=a.filter(o=>{var c;return(((c=o.stock)==null?void 0:c[n])??0)<=0}),s=a.filter(o=>{var d;const c=((d=o.stock)==null?void 0:d[n])??0;return c>0&&c<=r});return{lowStock:s,outOfStock:i,lowStockCount:s.length,outOfStockCount:i.length}},[e,t,r])}const Bge=e=>qc({queryKey:["inventoryTxRepo",e],queryFn:async()=>{const t=await Cge(e);if(!t.ok)throw t.error;return t.data}}),Zz=()=>{const e=zs();return $c({mutationFn:async t=>{console.log(" ang gi createInventoryTransaction vi input:",t);const r=await Oge(t);if(console.log(" Kt qu createInventoryTransaction:",r),!r.ok)throw r.error||new Error("Li khng xc nh");return r.data},onSuccess:()=>{console.log(" Lu lch s thnh cng!"),e.invalidateQueries({queryKey:["inventoryTxRepo"]}),yt.success(" ghi lch s kho")},onError:t=>{console.error(" Li lu lch s:",t),yt.error(Po(t))}})};function yD(e){const t=document.getElementById(e);if(!t)return;const r=window.open("","_blank","width=800,height=600");r&&(r.document.write(`<!doctype html><html><head><title>Print</title>
  <style>
    body{font-family: Arial, Helvetica, sans-serif;}
    @media print{ .no-print{ display:none } }
  </style>
  </head><body>${t.outerHTML}</body></html>`),r.document.close(),r.focus(),r.print(),r.close())}const Uge=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0z"})}),em=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),zge=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),eq=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),qge=e=>qc({queryKey:["cashTxRepo",e],queryFn:async()=>{const t=await dJ(e);if(!t.ok)throw t.error;return t.data}}),$j=()=>{const e=zs();return $c({mutationFn:t=>M3(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cashTxRepo"]}),yt.success(" ghi thu/chi")},onError:t=>yt.error(Po(t))})},Hj=()=>{const e=zs();return $c({mutationFn:({id:t,branchId:r,delta:a})=>R3(t,r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["paymentSourcesRepo"]})},onError:t=>yt.error(Po(t))})},$ge=({isOpen:e,onClose:t,sales:r,currentBranchId:a,onPrintReceipt:n,onEditSale:i,onDeleteSale:s,page:o,totalPages:c,total:d,hasMore:f,pageSize:m,onPrevPage:x,onNextPage:p,onPageSizeChange:y,search:v,onSearchChange:b,fromDate:k,toDate:N,onDateRangeChange:_,status:T="all",onStatusChange:L,paymentMethodFilter:D="all",onPaymentMethodFilterChange:R,keysetMode:U=!1,onToggleKeyset:F})=>{const[W,O]=j.useState("today"),[M,H]=j.useState(T),[Y,ne]=j.useState("newest"),[X,re]=j.useState(Qa(new Date,!0)),[fe,ce]=j.useState(Qa(new Date,!0));j.useEffect(()=>{const P=new Date,q=new Date(P.getFullYear(),P.getMonth(),P.getDate()),V=new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59,999);let z,Q;switch(W){case"today":z=q,Q=V;break;case"yesterday":{const de=new Date(P);de.setDate(de.getDate()-1),z=new Date(de.getFullYear(),de.getMonth(),de.getDate()),Q=new Date(de.getFullYear(),de.getMonth(),de.getDate(),23,59,59,999);break}case"7days":{const de=new Date(P);de.setDate(de.getDate()-6),z=new Date(de.getFullYear(),de.getMonth(),de.getDate()),Q=V;break}case"30days":{const de=new Date(P);de.setDate(de.getDate()-29),z=new Date(de.getFullYear(),de.getMonth(),de.getDate()),Q=V;break}case"mtd":{z=new Date(P.getFullYear(),P.getMonth(),1),Q=V;break}case"qtd":{const de=Math.floor(P.getMonth()/3)*3;z=new Date(P.getFullYear(),de,1),Q=V;break}case"custom":{const de=new Date(X),Ee=new Date(fe+"T23:59:59");z=de,Q=Ee;break}}_(z?z.toISOString():void 0,Q?Q.toISOString():void 0)},[W,X,fe,_]);const ke=j.useMemo(()=>{let P=r.filter(Q=>Q.branchId===a);const q=new Date,V=new Date(q.getFullYear(),q.getMonth(),q.getDate()),z=new Date(q.getFullYear(),q.getMonth(),q.getDate(),23,59,59);switch(W){case"today":P=P.filter(ge=>{const be=new Date(ge.date);return be>=V&&be<=z});break;case"yesterday":const Q=new Date(q);Q.setDate(Q.getDate()-1);const de=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()),Ee=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),23,59,59);P=P.filter(ge=>{const be=new Date(ge.date);return be>=de&&be<=Ee});break;case"7days":const ie=new Date(q);ie.setDate(ie.getDate()-7),P=P.filter(ge=>new Date(ge.date)>=ie);break;case"30days":const je=new Date(q);je.setDate(je.getDate()-30),P=P.filter(ge=>new Date(ge.date)>=je);break;case"custom":const Me=new Date(X),J=new Date(fe+"T23:59:59");P=P.filter(ge=>{const be=new Date(ge.date);return be>=Me&&be<=J});break}return M&&M!=="all"&&(M==="refunded"?P=P.filter(Q=>Q.refunded===!0):M==="completed"?P=P.filter(Q=>!Q.refunded):M==="cancelled"&&(P=P.filter(Q=>Q.refunded===!0))),D&&D!=="all"&&(P=P.filter(Q=>Q.paymentMethod===D)),v&&(P=P.filter(Q=>Q.id.toLowerCase().includes(v.toLowerCase())||Q.customer.name.toLowerCase().includes(v.toLowerCase()))),P.sort((Q,de)=>{switch(Y){case"newest":return new Date(de.date).getTime()-new Date(Q.date).getTime();case"oldest":return new Date(Q.date).getTime()-new Date(de.date).getTime();default:return 0}}),P},[r,a,W,v,M,Y,X,fe]),Z=j.useMemo(()=>{const P=ke.reduce((Q,de)=>Q+de.total,0),q=ke.reduce((Q,de)=>Q+(de.total-de.discount),0),V=P>0?q/P*100:0,z=ke.length;return{revenue:P,profit:q,profitMargin:V,orderCount:z}},[ke]);return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Lch s ha n"}),u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"today",label:"Hm nay"},{key:"yesterday",label:"Hm qua"},{key:"7days",label:"7 ngy"},{key:"30days",label:"30 ngy"},{key:"mtd",label:"Thng ny"},{key:"qtd",label:"Qu ny"},{key:"custom",label:"Ty chnh"}].map(P=>u.jsx("button",{onClick:()=>O(P.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${W===P.key?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:P.label},P.key))}),W==="custom"&&u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("input",{type:"date",value:X,onChange:P=>re(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u.jsx("span",{className:"text-slate-500",children:"n"}),u.jsx("input",{type:"date",value:fe,onChange:P=>ce(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-64 relative",children:[u.jsx("input",{type:"text",placeholder:"Tm m ha n hoc tn khch hng",value:v,onChange:P=>{b(P.target.value)},className:"w-full pr-10 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),v!=null&&v.length?u.jsx("button",{type:"button",onClick:()=>b(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200","aria-label":"Xo tm kim",title:"Xo tm kim",children:""}):null]}),u.jsxs("select",{value:M,onChange:P=>{const q=P.target.value;H(q),L==null||L(q)},className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"all",children:"Tt c"}),u.jsx("option",{value:"completed",children:"Hon thnh"}),u.jsx("option",{value:"refunded",children:"Hon tin"}),u.jsx("option",{value:"cancelled",children:" hy"})]}),u.jsxs("select",{value:D,onChange:P=>R==null?void 0:R(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"all",children:"Mi PTTT"}),u.jsx("option",{value:"cash",children:"Tin mt"}),u.jsx("option",{value:"bank",children:"Chuyn khon"})]}),u.jsxs("select",{value:Y,onChange:P=>ne(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"newest",children:"Mi nht"}),u.jsx("option",{value:"oldest",children:"C nht"})]})]})]}),u.jsxs("div",{className:"p-6 grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:"Doanh thu"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:qe(Z.revenue)})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Li nhun gp"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:qe(Z.profit)})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium",children:"GM%"}),u.jsxs("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:[Z.profitMargin.toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium",children:"S ha n"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:Z.orderCount})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:ke.length===0?u.jsx("div",{className:"text-center py-12 text-slate-400",children:"Khng c ha n no ph hp vi b lc hin ti."}):u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"M"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"THI GIAN"}),u.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"TNG"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"SL HNG"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"KHCH HNG"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"THANH TON"}),u.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"THAO TC"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:ke.map(P=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:P.id})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:Qa(new Date(P.date),!1)}),u.jsx("div",{className:"text-xs text-slate-500",children:new Date(P.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:qe(P.total)}),P.discount>0&&u.jsxs("div",{className:"text-xs text-slate-500",children:["Gim: ",qe(P.discount)]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:P.items.reduce((q,V)=>q+V.quantity,0)})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:P.customer.name}),P.customer.phone&&u.jsx("div",{className:"text-xs text-slate-500",children:P.customer.phone})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.paymentMethod==="cash"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}`,children:P.paymentMethod==="cash"?"Tin mt":"Chuyn khon"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{onClick:()=>n(P),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"In li ha n",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})}),u.jsx("button",{onClick:()=>i(P),className:"p-2 text-amber-600 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/20 rounded-lg transition-colors",title:"Chnh sa ha n",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>s(P.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Xa ha n",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},P.id))})]})}),u.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"px-3 py-1 rounded bg-slate-100 dark:bg-slate-700 disabled:opacity-40",disabled:U?!0:o<=1,onClick:x,children:" Trc"}),!U&&u.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Trang ",o," / ",c]}),u.jsx("button",{className:"px-3 py-1 rounded bg-slate-100 dark:bg-slate-700 disabled:opacity-40",disabled:!f,onClick:p,children:U?"Ti thm":"Sau "}),u.jsx("select",{value:m,onChange:P=>{y(Number(P.target.value))},className:"px-2 py-1 rounded border border-slate-300 dark:border-slate-600 text-sm",children:[10,20,50].map(P=>u.jsxs("option",{value:P,children:[P,"/trang"]},P))})]}),u.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500",children:[!U&&u.jsxs("span",{children:["Tng: ",d," ha n"]}),U&&u.jsxs("span",{children:["Keyset mode  pageSize ",m,f?" (cn na)":" (ht)"]}),u.jsxs("label",{className:"inline-flex items-center gap-1 text-xs font-medium",children:[u.jsx("input",{type:"checkbox",className:"accent-indigo-600",checked:!!U,onChange:P=>F&&F(P.target.checked)}),"Keyset"]})]})]})]})}):null},Hge=()=>{const{customers:e,upsertCustomer:t,cartItems:r,setCartItems:a,clearCart:n,deleteSale:i,currentBranchId:s,finalizeSale:o,setCashTransactions:c,setPaymentSources:d}=_i(),{data:f=[],isLoading:m,error:x}=Xz(),[p,y]=j.useState(1),[v,b]=j.useState(20),[k,N]=j.useState(""),[_,T]=j.useState(""),[L,D]=j.useState(),[R,U]=j.useState(),[F,W]=j.useState("all"),[O,M]=j.useState("all"),[H,Y]=j.useState(!1),[ne,X]=j.useState(null),re={branchId:s,page:H?void 0:p,pageSize:v,search:_||void 0,fromDate:L,toDate:R,mode:H?"keyset":"offset",afterDate:H?ne==null?void 0:ne.afterDate:void 0,afterId:H?ne==null?void 0:ne.afterId:void 0,status:F==="all"?void 0:F==="cancelled"?"refunded":F==="completed"?"completed":F,paymentMethod:O==="all"?void 0:O},{data:fe,isLoading:ce,error:ke}=Rge(re),Z=(fe==null?void 0:fe.data)||[],P=(fe==null?void 0:fe.meta)||{page:1,totalPages:1,total:Z.length,hasMore:!1};j.useEffect(()=>{var ye;H&&((ye=fe==null?void 0:fe.meta)==null?void 0:ye.mode)==="keyset"&&X({afterDate:fe.meta.nextAfterDate,afterId:fe.meta.nextAfterId})},[H,fe]);const{mutateAsync:q}=Ige(),{mutateAsync:V}=Jz(),{mutateAsync:z}=Zz(),{mutateAsync:Q}=$j(),{mutateAsync:de}=Hj(),Ee=j.useCallback(()=>y(ye=>Math.max(1,ye-1)),[]),ie=j.useCallback(()=>y(ye=>ye+1),[]),je=j.useCallback(ye=>{b(ye),y(1),H&&X(null)},[]);j.useEffect(()=>{const ye=setTimeout(()=>{T(k),y(1)},300);return()=>clearTimeout(ye)},[k]);const[Me,J]=j.useState(""),[ge,be]=j.useState(""),[oe,Ue]=j.useState(null),[ve,Ge]=j.useState(!1),[$e,ft]=j.useState(0),[Je,kt]=j.useState("amount"),[At,Rt]=j.useState(0),[ar,nr]=j.useState(!1),[$r,It]=j.useState(!1),[St,bt]=j.useState({name:"",phone:"",vehicleModel:"",licensePlate:""}),[Et,Tr]=j.useState(""),[Gt,Nt]=j.useState(""),[Yt,Sr]=j.useState(""),[er,Dr]=j.useState([]),[hr,ma]=j.useState(0),[ea,Wr]=j.useState(null),[Mt,Mr]=j.useState(null),[ci,en]=j.useState(0),ss=j.useCallback(ye=>{var mt,wt;const Ye=((mt=ye.retailPrice)==null?void 0:mt[s])??0,ot=((wt=ye.stock)==null?void 0:wt[s])??0,xt=r.find(Ct=>Ct.partId===ye.id);if(xt){const Ct=xt.quantity+1;if(Ct>ot){yt.error(`Khng  hng! Tn kho: ${ot}`);return}a(Er=>Er.map(fr=>fr.partId===ye.id?{...fr,quantity:Ct}:fr))}else{if(ot<1){yt.error("Sn phm  ht hng!");return}const Ct={partId:ye.id,partName:ye.name,sku:ye.sku,quantity:1,sellingPrice:Ye,stockSnapshot:ot,discount:0};a(Er=>[...Er,Ct])}},[r,a,s]),ui=j.useCallback(ye=>{a(Ye=>Ye.filter(ot=>ot.partId!==ye))},[a]),Xt=j.useCallback((ye,Ye)=>{if(Ye<=0){ui(ye);return}const ot=r.find(xt=>xt.partId===ye);if(ot&&Ye>ot.stockSnapshot){yt.error(`Khng  hng! Tn kho: ${ot.stockSnapshot}`);return}a(xt=>xt.map(mt=>mt.partId===ye?{...mt,quantity:Ye}:mt))},[r,a,ui]),Xn=j.useMemo(()=>r.reduce((ye,Ye)=>ye+Ye.sellingPrice*Ye.quantity,0),[r]),os=j.useMemo(()=>Math.max(0,Xn-$e),[Xn,$e]),Sn=j.useMemo(()=>er.reduce((ye,Ye)=>ye+Ye.sellingPrice*Ye.quantity,0),[er]),Si=j.useMemo(()=>Math.max(0,Sn-hr),[Sn,hr]),Sa=j.useMemo(()=>er.reduce((ye,Ye)=>ye+Ye.quantity,0),[er]),Wa=j.useMemo(()=>m||x?[]:Me?f.filter(ye=>ye.name.toLowerCase().includes(Me.toLowerCase())||ye.sku.toLowerCase().includes(Me.toLowerCase())):f,[f,Me,m,x]),{lowStockCount:ae,outOfStockCount:_e}=Fge(f,s,5),me=j.useRef(!1);j.useEffect(()=>{if(!me.current&&(ae>0||_e>0)){const ye=[];_e>0&&ye.push(`Ht hng: ${_e}`),ae>0&&ye.push(`Tn thp: ${ae}`),yt.info(ye.join("  ")),me.current=!0}},[ae,_e]);const pe=j.useMemo(()=>ge?e.filter(ye=>{var Ye;return ye.name.toLowerCase().includes(ge.toLowerCase())||((Ye=ye.phone)==null?void 0:Ye.includes(ge))||!1}).slice(0,10):e.slice(0,10),[e,ge]),we=()=>{if(!St.name||!St.phone){alert("Vui lng nhp tn v s in thoi");return}if(e.find(ot=>ot.phone===St.phone)){alert("S in thoi ny  tn ti!");return}const Ye={id:`CUST-${Date.now()}`,name:St.name,phone:St.phone,vehicleModel:St.vehicleModel,licensePlate:St.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()};t(Ye),Ue(Ye),be(Ye.name),bt({name:"",phone:"",vehicleModel:"",licensePlate:""}),It(!1)},Ae=ye=>{Tr(ye.id),Nt(ye.customer.name),Sr(ye.customer.phone||""),Dr(ye.items),ma(ye.discount||0),setTimeout(()=>{yD("last-receipt")},100)},{profile:Ie}=Qd(),rt=ye=>{if(!Yz(Ie==null?void 0:Ie.role,"sale.delete")){yt.error("Bn khng c quyn xa ha n");return}if(!confirm("Xc nhn xa ha n ny? Hnh ng ny khng th hon tc."))return;const Ye=Z.find(ot=>ot.id===ye)||null;i(ye),yt.success(" xa ha n thnh cng!"),bi((Ie==null?void 0:Ie.id)||null,{action:"sale.delete",tableName:"sales",recordId:ye,oldData:Ye,newData:null})},We=ye=>{if(confirm("M li ha n ny  chnh sa? Gi hng hin ti s b xa.")){if(n(),ye.items.forEach(Ye=>{const ot=f.find(xt=>xt.id===Ye.partId);if(ot)for(let xt=0;xt<Ye.quantity;xt++)ss(ot)}),ye.customer.id){const Ye=e.find(ot=>ot.id===ye.customer.id);Ye&&(Ue(Ye),be(Ye.name))}else Nt(ye.customer.name),Sr(ye.customer.phone||"");ft(ye.discount||0),nr(!1),alert("Ha n  c ti vo gi hng  chnh sa")}},Ve=async()=>{var ye;if(r.length===0){alert("Vui lng thm sn phm vo gi hng");return}if(!ea){alert("Vui lng chn phng thc thanh ton");return}if(!Mt){alert("Vui lng chn hnh thc thanh ton");return}if(Mt==="partial"&&ci<=0){alert("Vui lng nhp s tin khch tr");return}try{for(const Er of r){const fr=f.find(Ni=>Ni.id===Er.partId);if(!fr){yt.error(`Khng tm thy sn phm: ${Er.partName}`);return}const oa=((ye=fr.stock)==null?void 0:ye[s])??0;if(Er.quantity>oa){yt.error(`Khng  hng cho ${fr.name}. Tn kho: ${oa}`);return}}const Ye=`SALE-${Date.now()}`,ot=r.reduce((Er,fr)=>Er+fr.sellingPrice*fr.quantity,0),xt=r.reduce((Er,fr)=>Er+(fr.discount||0),0),mt=Math.max(0,ot-xt-$e),wt={id:oe==null?void 0:oe.id,name:(oe==null?void 0:oe.name)||Gt||"Khch l",phone:(oe==null?void 0:oe.phone)||Yt};Tr(Ye),Nt(wt.name),Sr(wt.phone||""),Dr([...r]),ma($e+xt),!oe&&Yt&&Gt&&(e.find(fr=>fr.phone===Yt)||t({id:`CUST-${Date.now()}`,name:Gt,phone:Yt,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}));const Ct=await q({id:Ye,items:r,discount:$e+xt,customer:wt,paymentMethod:ea,userId:(Ie==null?void 0:Ie.id)||"local-user",userName:(Ie==null?void 0:Ie.full_name)||(Ie==null?void 0:Ie.email)||"Local User",branchId:s});if(Ct!=null&&Ct.error)throw Ct.error;Ue(null),be(""),ft(0),Rt(0),kt("amount"),Wr(null),Mr(null),en(0),n(),setTimeout(()=>{yD("last-receipt")},100)}catch(Ye){console.error("Error finalizing sale (atomic):",Ye),yt.error((Ye==null?void 0:Ye.message)||"C li khi to ha n (atomic)")}};return j.useEffect(()=>{const ye=Ye=>{Ye.target.closest(".customer-dropdown-container")||Ge(!1)};return document.addEventListener("mousedown",ye),()=>document.removeEventListener("mousedown",ye)},[]),u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[u.jsxs("div",{className:"flex h-screen",children:[u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"text",placeholder:"Tm theo tn sn phm hoc SKU...",value:Me,onChange:ye=>J(ye.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500"})}),u.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs",children:[u.jsxs("span",{className:"px-2 py-1 rounded-full bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",children:["Tn thp: ",ae]}),u.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",children:["Ht hng: ",_e]})]}),u.jsxs("button",{onClick:()=>nr(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg whitespace-nowrap transition-colors inline-flex items-center gap-2",children:[u.jsx(Bb,{className:"w-4 h-4"}),"Lch s bn hng"]})]})}),u.jsx("div",{className:"flex-1 p-6 overflow-y-auto bg-slate-50 dark:bg-slate-900",children:Wa.length===0?u.jsxs("div",{className:"text-center text-slate-400 mt-20",children:[u.jsx("div",{className:"mb-4 flex items-center justify-center",children:u.jsx(cl,{className:"w-16 h-16 text-slate-300"})}),u.jsx("div",{className:"text-xl font-medium mb-2",children:Me?"Khng tm thy sn phm no":"Cha c sn phm"}),u.jsx("div",{className:"text-sm",children:Me?"Hy th mt t kha tm kim khc":"Vui lng thm sn phm vo h thng"})]}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:Wa.map(ye=>{var mt,wt;const Ye=((mt=ye.retailPrice)==null?void 0:mt[s])??0,ot=((wt=ye.stock)==null?void 0:wt[s])??0,xt=ot<=0;return u.jsx("button",{onClick:()=>!xt&&ss(ye),disabled:xt,className:`group relative p-4 rounded-xl border transition-all duration-200 ${xt?"bg-primary-bg/50 border-primary-border opacity-50 cursor-not-allowed":"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-700 dark:to-slate-800 border-blue-200 dark:border-slate-600 hover:shadow-xl hover:scale-105"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"w-20 h-20 bg-orange-100 dark:bg-orange-600/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:u.jsx(cl,{className:"w-10 h-10 text-orange-500 dark:text-orange-300"})})}),u.jsxs("div",{className:"text-left mb-2 flex-1",children:[u.jsx("h3",{className:"font-semibold text-base text-primary-text line-clamp-2 mb-1",title:ye.name,children:ye.name}),u.jsxs("div",{className:"text-xs text-tertiary-text",children:["SKU: ",ye.sku]})]}),u.jsxs("div",{className:"flex justify-between items-end mt-auto",children:[u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:qe(Ye)})}),u.jsx("div",{className:"text-right",children:u.jsx("span",{className:`inline-flex items-center justify-center min-w-[2.5rem] px-2 py-1 text-xs font-bold rounded-md ${xt?"bg-red-600 text-white":ot<=5?"bg-orange-600 text-white":"bg-green-600 text-white"}`,children:xt?"Ht":ot})})]})]})},ye.id)})})})]}),u.jsxs("div",{className:"w-96 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"customer-dropdown-container",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Chn khch hng"}),u.jsxs("div",{className:"relative flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Tm theo tn hoc s in thoi...",value:ge,onChange:ye=>be(ye.target.value),onFocus:()=>Ge(!0),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:()=>It(!0),className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center transition-colors",title:"Thm khch hng mi",children:u.jsx(em,{className:"w-5 h-5"})}),ve&&pe.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 max-h-40 overflow-y-auto bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg shadow-lg",children:pe.map(ye=>u.jsxs("button",{onClick:()=>{Ue(ye),be(ye.name),Ge(!1)},className:"w-full text-left px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-600 border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:ye.name}),ye.phone&&u.jsx("div",{className:"text-sm text-slate-500",children:ye.phone})]},ye.id))})]}),oe&&u.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[u.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:oe.name}),oe.phone&&u.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:oe.phone}),u.jsx("button",{onClick:()=>{Ue(null),be("")},className:"text-xs text-blue-600 hover:text-blue-800 mt-1",children:"Xa khch hng"})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Gi hng"}),u.jsxs("span",{className:"text-sm text-slate-500",children:["(",r.length," sn phm)"]})]}),r.length===0?u.jsxs("div",{className:"text-center text-slate-400 py-12",children:[u.jsx("div",{className:"mb-2 flex items-center justify-center",children:u.jsx(QR,{className:"w-10 h-10 text-slate-300"})}),u.jsx("div",{className:"text-sm",children:"Gi hng trng"}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Chn sn phm  thm vo gi"})]}):u.jsx("div",{className:"space-y-3",children:r.map(ye=>u.jsxs("div",{className:"flex items-center gap-3 p-3 border border-slate-200 dark:border-slate-600 rounded-lg",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:u.jsx(cl,{className:"w-6 h-6 text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:ye.partName}),u.jsxs("div",{className:"text-xs text-slate-500",children:["SKU: ",ye.sku]}),u.jsx("div",{className:"text-sm text-blue-600 font-semibold",children:qe(ye.sellingPrice)})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>Xt(ye.partId,Math.max(1,ye.quantity-1)),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"-"}),u.jsx("span",{className:"w-8 text-center font-medium text-sm",children:ye.quantity}),u.jsx("button",{onClick:()=>Xt(ye.partId,ye.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"+"}),u.jsx("button",{onClick:()=>ui(ye.partId),className:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 rounded-full text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 ml-1",children:""})]})]},ye.partId))})]}),r.length>0&&u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[u.jsxs("div",{className:"p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[u.jsx("span",{children:"Tng tin hng"}),u.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:qe(Xn)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:Je==="amount"?$e:At,onChange:ye=>{const Ye=Number(ye.target.value)||0;if(Je==="amount")ft(Math.min(Ye,Xn));else{const ot=Math.min(Ye,100);Rt(ot),ft(Math.round(Xn*ot/100))}},className:"w-20 px-2 py-1 text-right text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"0",min:"0",max:Je==="amount"?Xn:100}),u.jsxs("select",{value:Je,onChange:ye=>{const Ye=ye.target.value;kt(Ye),ft(0),Rt(0)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{value:"amount",children:""}),u.jsx("option",{value:"percent",children:"%"})]})]})]}),Je==="percent"&&u.jsx("div",{className:"flex gap-1 justify-end",children:[5,10,15,20].map(ye=>u.jsxs("button",{onClick:()=>{Rt(ye),ft(Math.round(Xn*ye/100))},className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-700 dark:text-slate-300 rounded transition-colors",children:[ye,"%"]},ye))}),Je==="percent"&&At>0&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-right",children:["= ",qe($e)]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"Khch phi tr"}),u.jsxs("span",{className:"font-bold text-xl text-slate-900 dark:text-slate-100",children:[qe(Math.max(0,os-$e))," "]})]})]}),u.jsxs("div",{className:"px-4 pb-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:["Phng thc thanh ton ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("button",{onClick:()=>Wr("cash"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border-2 transition-all ${ea==="cash"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:[u.jsx(WR,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Tin mt"})]}),u.jsxs("button",{onClick:()=>Wr("bank"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border-2 transition-all ${ea==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:[u.jsx(jJ,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Chuyn khon"})]})]})]}),ea&&u.jsxs("div",{className:"px-4 pb-3",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Hnh thc"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>{Mr("full"),en(0)},className:`px-3 py-2 text-sm rounded-lg border transition-all ${Mt==="full"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Thanh ton "}),u.jsx("button",{onClick:()=>Mr("partial"),className:`px-3 py-2 text-sm rounded-lg border transition-all ${Mt==="partial"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Thanh ton 1 phn"}),u.jsx("button",{onClick:()=>{Mr("note"),en(0)},className:`px-3 py-2 text-sm rounded-lg border transition-all ${Mt==="note"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Ghi n"})]})]}),Mt==="partial"&&u.jsxs("div",{className:"px-4 pb-3",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"S tin khch tr"}),u.jsx("input",{type:"number",value:ci,onChange:ye=>en(Number(ye.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700",placeholder:"0"}),u.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Cn li:"," ",qe(Math.max(0,os-$e-ci))," ",""]})]}),u.jsxs("div",{className:"px-4 pb-3 space-y-2",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Thi gian bn hng"}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"salesTime",defaultChecked:!0,className:"w-4 h-4 text-pink-600 focus:ring-pink-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Thi gian hin ti"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"salesTime",className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ty chnh"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ghi ch ring cho n hng"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"ng thi in ho n"})]})]}),u.jsxs("div",{className:"p-4 pt-0 flex gap-3",children:[u.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-lg transition-colors",children:"LU NHP"}),u.jsx("button",{onClick:Ve,disabled:!ea||!Mt,className:`flex-1 px-4 py-3 font-bold rounded-lg transition-all ${ea&&Mt?"bg-orange-500 hover:bg-orange-600 text-white shadow-lg hover:shadow-xl":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`,children:"XUT BN"})]})]})]})]}),u.jsx($ge,{isOpen:ar,onClose:()=>nr(!1),sales:Z,currentBranchId:s,onPrintReceipt:Ae,onEditSale:We,onDeleteSale:rt,page:P.page,totalPages:P.totalPages,total:P.total,hasMore:P.hasMore,pageSize:v,onPrevPage:Ee,onNextPage:()=>{var ye,Ye;if(H){const ot=(ye=fe==null?void 0:fe.meta)==null?void 0:ye.nextAfterDate,xt=(Ye=fe==null?void 0:fe.meta)==null?void 0:Ye.nextAfterId;(ot||xt)&&X({afterDate:ot,afterId:xt})}else ie()},onPageSizeChange:je,search:k,onSearchChange:ye=>{N(ye),ye||y(1)},fromDate:L,toDate:R,onDateRangeChange:(ye,Ye)=>{D(ye),U(Ye),y(1),H&&X(null)},status:F,onStatusChange:ye=>{W(ye),y(1),H&&X(null)},paymentMethodFilter:O,onPaymentMethodFilterChange:ye=>{M(ye),y(1),H&&X(null)},keysetMode:H,onToggleKeyset:ye=>{Y(ye),y(1),X(null)}}),Et&&u.jsx("div",{id:"last-receipt",className:"hidden print:block",children:u.jsxs("div",{style:{width:"148mm",minHeight:"210mm",margin:"0 auto",padding:"15mm",fontFamily:"Arial, sans-serif",fontSize:"12px",backgroundColor:"white",color:"#000",boxSizing:"border-box"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",borderBottom:"2px solid #333",paddingBottom:"15px"},children:[u.jsx("img",{src:"https://raw.githubusercontent.com/Nhan-Lam-SmartCare/Motocare/main/public/logo.png",alt:"Nhn-Lm SmartCare",style:{width:"120px",height:"120px",margin:"0 auto 10px",display:"block"},onError:ye=>{ye.currentTarget.style.display="none"}}),u.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 8px 0",color:"#c92a2a"},children:"Nhn-Lm SmartCare"}),u.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.6"},children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(IJ,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{children:"a ch: 4p Ph Li B, Ph Thun B, Hng Ng, ng Thp"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),u.jsx("span",{children:"in thoi: 0947747907"})]})]})]}),u.jsxs("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"6px",padding:"10px 12px",marginBottom:"20px",fontSize:"11px"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"6px"},children:" Thng tin chuyn khon:"}),u.jsxs("div",{style:{lineHeight:"1.6"},children:[u.jsxs("div",{children:[" Ngn hng: ",u.jsx("strong",{children:"NH Lin Vit (LPBank)"})]}),u.jsxs("div",{children:[" S ti khon: ",u.jsx("strong",{children:"LAMVOT"})]}),u.jsxs("div",{children:[" Ch ti khon: ",u.jsx("strong",{children:"VO THANH LAM"})]})]})]}),u.jsxs("div",{style:{textAlign:"center",marginBottom:"15px"},children:[u.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"1px"},children:"HA N BN HNG"}),u.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["S: ",u.jsx("strong",{style:{color:"#000"},children:Et})," - Ngy:"," ",u.jsx("strong",{style:{color:"#000"},children:Qa(new Date,!0)})]})]}),u.jsx("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:u.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.8"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Khch hng:"})," ",Gt||"Khch l"]}),Yt&&u.jsxs("div",{children:[u.jsx("strong",{children:"in thoi:"})," ",Yt]})]})}),u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"11px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"#f1f3f5",borderTop:"2px solid #333",borderBottom:"2px solid #333"},children:[u.jsx("th",{style:{textAlign:"center",padding:"8px 4px",width:"8%",fontWeight:"bold"},children:"STT"}),u.jsx("th",{style:{textAlign:"left",padding:"8px 6px",width:"37%",fontWeight:"bold"},children:"Tn sn phm"}),u.jsx("th",{style:{textAlign:"center",padding:"8px 4px",width:"10%",fontWeight:"bold"},children:"SL"}),u.jsx("th",{style:{textAlign:"right",padding:"8px 6px",width:"20%",fontWeight:"bold"},children:"n gi"}),u.jsx("th",{style:{textAlign:"right",padding:"8px 6px",width:"25%",fontWeight:"bold"},children:"Thnh tin"})]})}),u.jsx("tbody",{children:er.map((ye,Ye)=>u.jsx(ya.Fragment,{children:u.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef"},children:[u.jsx("td",{style:{textAlign:"center",padding:"10px 4px",verticalAlign:"top"},children:Ye+1}),u.jsxs("td",{style:{padding:"10px 6px",verticalAlign:"top"},children:[u.jsx("div",{style:{fontWeight:"600",marginBottom:"3px"},children:ye.partName}),u.jsxs("div",{style:{fontSize:"9px",color:"#868e96"},children:["SKU: ",ye.sku]})]}),u.jsx("td",{style:{textAlign:"center",padding:"10px 4px",verticalAlign:"top",fontWeight:"600"},children:ye.quantity}),u.jsx("td",{style:{textAlign:"right",padding:"10px 6px",verticalAlign:"top"},children:qe(ye.sellingPrice)}),u.jsx("td",{style:{textAlign:"right",padding:"10px 6px",verticalAlign:"top",fontWeight:"600"},children:qe(ye.sellingPrice*ye.quantity)})]})},ye.partId))})]}),u.jsx("div",{style:{borderTop:"2px solid #333",paddingTop:"12px",marginBottom:"15px"},children:u.jsx("table",{style:{width:"100%",fontSize:"12px"},children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{style:{padding:"6px 0",textAlign:"right"},children:["Tng cng (",Sa," sn phm):"]}),u.jsx("td",{style:{padding:"6px 0 6px 20px",textAlign:"right",width:"30%",fontWeight:"600"},children:qe(Sn)})]}),hr>0&&u.jsxs("tr",{children:[u.jsx("td",{style:{padding:"6px 0",textAlign:"right",color:"#c92a2a"},children:"Gim gi:"}),u.jsxs("td",{style:{padding:"6px 0 6px 20px",textAlign:"right",fontWeight:"600",color:"#c92a2a"},children:["-",qe(hr)]})]}),u.jsxs("tr",{style:{borderTop:"1px solid #dee2e6",fontSize:"14px"},children:[u.jsx("td",{style:{padding:"10px 0",textAlign:"right",fontWeight:"bold"},children:"TNG THANH TON:"}),u.jsx("td",{style:{padding:"10px 0 10px 20px",textAlign:"right",fontWeight:"bold",fontSize:"16px",color:"#2f9e44"},children:qe(Si)})]})]})})}),u.jsxs("div",{style:{marginBottom:"20px",padding:"10px 12px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"11px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("strong",{children:"Hnh thc thanh ton:"})," ",ea==="cash"?"Tin mt":"Chuyn khon"]}),u.jsx("div",{style:{fontStyle:"italic",color:"#495057"},children:Mt==="full"?"  thanh ton ":Mt==="partial"?`Thanh ton mt phn: ${qe(ci)}`:"Ghi n"})]}),u.jsx("div",{style:{marginTop:"30px",borderTop:"1px solid #dee2e6",paddingTop:"20px"},children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px"},children:[u.jsxs("div",{style:{textAlign:"center",width:"40%"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"50px",fontSize:"12px"},children:"Khch hng"}),u.jsx("div",{style:{fontStyle:"italic",color:"#868e96"},children:"(K v ghi r h tn)"})]}),u.jsxs("div",{style:{textAlign:"center",width:"40%"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"50px",fontSize:"12px"},children:"Ngi bn hng"}),u.jsx("div",{style:{fontStyle:"italic",color:"#868e96"},children:"(K v ghi r h tn)"})]})]})}),u.jsxs("div",{style:{textAlign:"center",marginTop:"25px",paddingTop:"15px",borderTop:"1px dashed #adb5bd",fontSize:"11px",fontStyle:"italic",color:"#495057"},children:[u.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[u.jsx("span",{style:{display:"inline-flex"},children:"*"}),"Cm n qu khch  s dng dch v",u.jsx("span",{style:{display:"inline-flex"},children:"*"})]}),u.jsx("div",{children:"Hn gp li qu khch!"})]})]})}),$r&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thm khch hng mi"}),u.jsx("button",{onClick:()=>{It(!1),bt({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx(eq,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn khch hng ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:St.name,onChange:ye=>bt({...St,name:ye.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"Nhp tn khch hng"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["S in thoi ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",value:St.phone,onChange:ye=>bt({...St,phone:ye.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"Nhp s in thoi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dng xe"}),u.jsx("input",{type:"text",value:St.vehicleModel,onChange:ye=>bt({...St,vehicleModel:ye.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"VD: Honda SH 2023"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bin s xe"}),u.jsx("input",{type:"text",value:St.licensePlate,onChange:ye=>bt({...St,licensePlate:ye.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"VD: 30A-12345"})]})]}),u.jsxs("div",{className:"flex gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>{It(!1),bt({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:"Hy"}),u.jsx("button",{onClick:we,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Lu"})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var E2={};E2.version="0.18.5";var tq=1252,Wge=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Wj={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Vj=function(e){Wge.indexOf(e)!=-1&&(tq=Wj[0]=e)};function Vge(){Vj(1252)}var Lc=function(e){Vj(e)};function Kj(){Lc(1200),Vge()}function bD(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function Kge(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function rq(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var qx=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Kge(e.slice(2)):t==254&&r==255?rq(e.slice(2)):t==65279?e.slice(1):e},Qy=function(t){return String.fromCharCode(t)},wD=function(t){return String.fromCharCode(t)},A1,of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T1(e){for(var t="",r=0,a=0,n=0,i=0,s=0,o=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,a=e.charCodeAt(d++),s=(r&3)<<4|a>>4,n=e.charCodeAt(d++),o=(a&15)<<2|n>>6,c=n&63,isNaN(a)?o=c=64:isNaN(n)&&(c=64),t+=of.charAt(i)+of.charAt(s)+of.charAt(o)+of.charAt(c);return t}function hl(e){var t="",r=0,a=0,n=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=of.indexOf(e.charAt(d++)),s=of.indexOf(e.charAt(d++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=of.indexOf(e.charAt(d++)),a=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(a)),c=of.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var Hr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),i0=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function xf(e){return Hr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function kD(e){return Hr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var sl=function(t){return Hr?i0(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Hw(e){if(typeof ArrayBuffer>"u")return sl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function Af(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Gge(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Gj(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Gj(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var rs=Hr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:i0(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Yge(e){for(var t=[],r=0,a=e.length+250,n=xf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)n[r++]=s;else if(s<2048)n[r++]=192|s>>6&31,n[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;n[r++]=240|s>>8&7,n[r++]=128|s>>2&63,n[r++]=128|o>>6&15|(s&3)<<4,n[r++]=128|o&63}else n[r++]=224|s>>12&15,n[r++]=128|s>>6&63,n[r++]=128|s&63;r>a&&(t.push(n.slice(0,r)),r=0,n=xf(65535),a=65530)}return t.push(n.slice(0,r)),rs(t)}var oo=/\u0000/g,$x=/[\u0001-\u0006]/g;function Bp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Mc(e,t){var r=""+e;return r.length>=t?r:Vn("0",t-r.length)+r}function Yj(e,t){var r=""+e;return r.length>=t?r:Vn(" ",t-r.length)+r}function C2(e,t){var r=""+e;return r.length>=t?r:r+Vn(" ",t-r.length)}function Xge(e,t){var r=""+Math.round(e);return r.length>=t?r:Vn("0",t-r.length)+r}function Qge(e,t){var r=""+e;return r.length>=t?r:Vn("0",t-r.length)+r}var _D=Math.pow(2,32);function yp(e,t){if(e>_D||e<-_D)return Xge(e,t);var r=Math.round(e);return Qge(r,t)}function O2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var SD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],h_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Jge(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var yr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ND={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Zge={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function P2(e,t,r){for(var a=e<0?-1:1,n=e*a,i=0,s=1,o=0,c=1,d=0,f=0,m=Math.floor(n);d<t&&(m=Math.floor(n),o=m*s+i,f=m*d+c,!(n-m<5e-8));)n=1/(n-m),i=s,s=o,c=d,d=f;if(f>t&&(d>t?(f=c,o=i):(f=d,o=s)),!r)return[0,a*o,f];var x=Math.floor(a*o/f);return[x,a*o-x*f,f]}function bh(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,s=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=ixe(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var aq=new Date(1899,11,31,0,0,0),exe=aq.getTime(),txe=new Date(1900,2,1,0,0,0);function nq(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=txe&&(r+=1440*60*1e3),(r-(exe+(e.getTimezoneOffset()-aq.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Xj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rxe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function axe(e){var t=e<0?12:11,r=Xj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function nxe(e){var t=Xj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function E1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=axe(e):t===10?r=e.toFixed(10).substr(0,12):r=nxe(e),Xj(rxe(r.toUpperCase()))}function tm(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):E1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Xl(14,nq(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ixe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function sxe(e,t,r,a){var n="",i=0,s=0,o=r.y,c,d=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return h_[r.m-1][1];case 5:return h_[r.m-1][0];default:return h_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return SD[r.q][0];default:return SD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Mc(r.S,t.length):(a>=2?s=a===3?1e3:100:s=a===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(n=Mc(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var f=d>0?Mc(c,d):"";return f}function lf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var iq=/%/g;function oxe(e,t,r){var a=t.replace(iq,""),n=t.length-a.length;return Rd(e,a,r*Math.pow(10,2*n))+Vn("%",n)}function lxe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Rd(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function sq(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+sq(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,f){return c+d+f.substr(0,(n+i)%n)+"."+f.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var oq=/# (\?+)( ?)\/( ?)(\d+)/;function cxe(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),s=n-i*a,o=a;return r+(i===0?"":""+i)+" "+(s===0?Vn(" ",e[1].length+1+e[4].length):Yj(s,e[1].length)+e[2]+"/"+e[3]+Mc(o,e[4].length))}function uxe(e,t,r){return r+(t===0?"":""+t)+Vn(" ",e[1].length+2+e[4].length)}var lq=/^#*0*\.([0#]+)/,cq=/\).*[0#]/,uq=/\(###\) ###\\?-####/;function to(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function jD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function AD(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function dxe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function fxe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Il(e,t,r){if(e.charCodeAt(0)===40&&!t.match(cq)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Il("n",a,r):"("+Il("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lxe(e,t,r);if(t.indexOf("%")!==-1)return oxe(e,t,r);if(t.indexOf("E")!==-1)return sq(t,r);if(t.charCodeAt(0)===36)return"$"+Il(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,s,o,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+yp(c,t.length);if(t.match(/^[#?]+$/))return n=yp(r,0),n==="0"&&(n=""),n.length>t.length?n:to(t.substr(0,t.length-n.length))+n;if(i=t.match(oq))return cxe(i,c,d);if(t.match(/^#+0+$/))return d+yp(c,t.length-t.indexOf("0"));if(i=t.match(lq))return n=jD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+to(i[1])).replace(/\.$/,"."+to(i[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Vn("0",to(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+jD(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+lf(yp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Il(e,t,-r):lf(""+(Math.floor(r)+dxe(r,i[1].length)))+"."+Mc(AD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Il(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Bp(Il(e,t.replace(/[\\-]/g,""),r)),s=0,Bp(Bp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<n.length?n.charAt(s++):y==="0"?"0":""}));if(t.match(uq))return n=Il(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=P2(c,Math.pow(10,s)-1,!1),n=""+d,f=Rd("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),n+=f+i[2]+"/"+i[3],f=C2(o[2],s),f.length<i[4].length&&(f=to(i[4].substr(i[4].length-f.length))+f),n+=f,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=P2(c,Math.pow(10,s)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Yj(o[1],s)+i[2]+"/"+i[3]+C2(o[2],s):Vn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=yp(r,0),t.length<=n.length?n:to(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var m=t.indexOf(".")-s,x=t.length-n.length-m;return to(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=AD(r,i[1].length),r<0?"-"+Il(e,t,-r):lf(fxe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Mc(0,3-y.length):"")+y})+"."+Mc(s,i[1].length);switch(t){case"###,##0.00":return Il(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=lf(yp(c,0));return p!=="0"?d+p:"";case"###,###.00":return Il(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Il(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function hxe(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return Rd(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function mxe(e,t,r){var a=t.replace(iq,""),n=t.length-a.length;return Rd(e,a,r*Math.pow(10,2*n))+Vn("%",n)}function dq(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+dq(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,f){return c+d+f.substr(0,(n+i)%n)+"."+f.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function xu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(cq)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xu("n",a,r):"("+xu("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hxe(e,t,r);if(t.indexOf("%")!==-1)return mxe(e,t,r);if(t.indexOf("E")!==-1)return dq(t,r);if(t.charCodeAt(0)===36)return"$"+xu(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,s,o,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Mc(c,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:to(t.substr(0,t.length-n.length))+n;if(i=t.match(oq))return uxe(i,c,d);if(t.match(/^#+0+$/))return d+Mc(c,t.length-t.indexOf("0"));if(i=t.match(lq))return n=(""+r).replace(/^([^\.]+)$/,"$1."+to(i[1])).replace(/\.$/,"."+to(i[1])),n=n.replace(/\.(\d*)$/,function(y,v){return"."+v+Vn("0",to(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+lf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xu(e,t,-r):lf(""+r)+"."+Vn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return xu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Bp(xu(e,t.replace(/[\\-]/g,""),r)),s=0,Bp(Bp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<n.length?n.charAt(s++):y==="0"?"0":""}));if(t.match(uq))return n=xu(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=P2(c,Math.pow(10,s)-1,!1),n=""+d,f=Rd("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),n+=f+i[2]+"/"+i[3],f=C2(o[2],s),f.length<i[4].length&&(f=to(i[4].substr(i[4].length-f.length))+f),n+=f,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=P2(c,Math.pow(10,s)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Yj(o[1],s)+i[2]+"/"+i[3]+C2(o[2],s):Vn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:to(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var m=t.indexOf(".")-s,x=t.length-n.length-m;return to(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+xu(e,t,-r):lf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Mc(0,3-y.length):"")+y})+"."+Mc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=lf(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return xu(e,t.slice(0,t.lastIndexOf(".")),r)+to(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Rd(e,t,r){return(r|0)===r?xu(e,t,r):Il(e,t,r)}function pxe(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var fq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rg(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":O2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(fq))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function gxe(e,t,r,a){for(var n=[],i="",s=0,o="",c="t",d,f,m,x="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!O2(e,s))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(m=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),y=p==="("||p===")"?p:"t";n[n.length]={t:y,v:p},++s;break;case"_":n[n.length]={t:"t",v:" "},s+=2;break;case"@":n[n.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(d==null&&(d=bh(t,r,e.charAt(s+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=bh(t,r),d==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var v={t:o,v:o};if(d==null&&(d=bh(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",x="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",s+=5,x="h"):e.substr(s,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",s+=5,x="h"):(v.t="t",++s),d==null&&v.t==="T")return"";n[n.length]=v,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(fq)){if(d==null&&(d=bh(t,r),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rg(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++s;break;case"$":n[n.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++s;break}var b=0,k=0,N;for(s=n.length-1,c="t";s>=0;--s)switch(n[s].t){case"h":case"H":n[s].t=x,c="h",b<1&&(b=1);break;case"s":(N=n[s].v.match(/\.0+$/))&&(k=Math.max(k,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[s].t;break;case"m":c==="s"&&(n[s].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[s].v.match(/[Hh]/)&&(b=1),b<2&&n[s].v.match(/[Mm]/)&&(b=2),b<3&&n[s].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",T;for(s=0;s<n.length;++s)switch(n[s].t){case"t":case"T":case" ":case"D":break;case"X":n[s].v="",n[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[s].v=sxe(n[s].t.charCodeAt(0),n[s].v,d,k),n[s].t="t";break;case"n":case"?":for(T=s+1;n[T]!=null&&((o=n[T].t)==="?"||o==="D"||(o===" "||o==="t")&&n[T+1]!=null&&(n[T+1].t==="?"||n[T+1].t==="t"&&n[T+1].v==="/")||n[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[T].v==="/"||n[T].v===" "&&n[T+1]!=null&&n[T+1].t=="?"));)n[s].v+=n[T].v,n[T]={v:"",t:";"},++T;_+=n[s].v,s=T-1;break;case"G":n[s].t="t",n[s].v=tm(t,r);break}var L="",D,R;if(_.length>0){_.charCodeAt(0)==40?(D=t<0&&_.charCodeAt(0)===45?-t:t,R=Rd("n",_,D)):(D=t<0&&a>1?-t:t,R=Rd("n",_,D),D<0&&n[0]&&n[0].t=="t"&&(R=R.substr(1),n[0].v="-"+n[0].v)),T=R.length-1;var U=n.length;for(s=0;s<n.length;++s)if(n[s]!=null&&n[s].t!="t"&&n[s].v.indexOf(".")>-1){U=s;break}var F=n.length;if(U===n.length&&R.indexOf("E")===-1){for(s=n.length-1;s>=0;--s)n[s]==null||"n?".indexOf(n[s].t)===-1||(T>=n[s].v.length-1?(T-=n[s].v.length,n[s].v=R.substr(T+1,n[s].v.length)):T<0?n[s].v="":(n[s].v=R.substr(0,T+1),T=-1),n[s].t="t",F=s);T>=0&&F<n.length&&(n[F].v=R.substr(0,T+1)+n[F].v)}else if(U!==n.length&&R.indexOf("E")===-1){for(T=R.indexOf(".")-1,s=U;s>=0;--s)if(!(n[s]==null||"n?".indexOf(n[s].t)===-1)){for(f=n[s].v.indexOf(".")>-1&&s===U?n[s].v.indexOf(".")-1:n[s].v.length-1,L=n[s].v.substr(f+1);f>=0;--f)T>=0&&(n[s].v.charAt(f)==="0"||n[s].v.charAt(f)==="#")&&(L=R.charAt(T--)+L);n[s].v=L,n[s].t="t",F=s}for(T>=0&&F<n.length&&(n[F].v=R.substr(0,T+1)+n[F].v),T=R.indexOf(".")+1,s=U;s<n.length;++s)if(!(n[s]==null||"n?(".indexOf(n[s].t)===-1&&s!==U)){for(f=n[s].v.indexOf(".")>-1&&s===U?n[s].v.indexOf(".")+1:0,L=n[s].v.substr(0,f);f<n[s].v.length;++f)T<R.length&&(L+=R.charAt(T++));n[s].v=L,n[s].t="t",F=s}}}for(s=0;s<n.length;++s)n[s]!=null&&"n?".indexOf(n[s].t)>-1&&(D=a>1&&t<0&&s>0&&n[s-1].v==="-"?-t:t,n[s].v=Rd(n[s].t,n[s].v,D),n[s].t="t");var W="";for(s=0;s!==n.length;++s)n[s]!=null&&(W+=n[s].v);return W}var TD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ED(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xxe(e,t){var r=pxe(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(TD),o=r[1].match(TD);return ED(t,s)?[a,r[0]]:ED(t,o)?[a,r[1]]:[a,r[s!=null&&o!=null?2:1]]}return[a,i]}function Xl(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:yr)[e],a==null&&(a=r.table&&r.table[ND[e]]||yr[ND[e]]),a==null&&(a=Zge[e]||"General");break}if(O2(a,0))return tm(t,r);t instanceof Date&&(t=nq(t,r.date1904));var n=xxe(a,t);if(O2(n[1]))return tm(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return gxe(n[1],t,r,n[0])}function Id(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(yr[r]==null){t<0&&(t=r);continue}if(yr[r]==e){t=r;break}}t<0&&(t=391)}return yr[t]=e,t}function Ww(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Id(e[t],t)}function Ig(){yr=Jge()}var vxe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function yxe(e){var t=typeof e=="number"?yr[e]:e;return t=t.replace(hq,"(\\d+)"),new RegExp("^"+t+"$")}function bxe(e,t,r){var a=-1,n=-1,i=-1,s=-1,o=-1,c=-1;(t.match(hq)||[]).forEach(function(m,x){var p=parseInt(r[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:n=p;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?d:a==-1&&n==-1&&i==-1?f:d+"T"+f}var wxe=(function(){var e={};e.version="1.2.0";function t(){for(var R=0,U=new Array(256),F=0;F!=256;++F)R=F,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,U[F]=R;return typeof Int32Array<"u"?new Int32Array(U):U}var r=t();function a(R){var U=0,F=0,W=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)O[W]=R[W];for(W=0;W!=256;++W)for(F=R[W],U=256+W;U<4096;U+=256)F=O[U]=F>>>8^R[F&255];var M=[];for(W=1;W!=16;++W)M[W-1]=typeof Int32Array<"u"?O.subarray(W*256,W*256+256):O.slice(W*256,W*256+256);return M}var n=a(r),i=n[0],s=n[1],o=n[2],c=n[3],d=n[4],f=n[5],m=n[6],x=n[7],p=n[8],y=n[9],v=n[10],b=n[11],k=n[12],N=n[13],_=n[14];function T(R,U){for(var F=U^-1,W=0,O=R.length;W<O;)F=F>>>8^r[(F^R.charCodeAt(W++))&255];return~F}function L(R,U){for(var F=U^-1,W=R.length-15,O=0;O<W;)F=_[R[O++]^F&255]^N[R[O++]^F>>8&255]^k[R[O++]^F>>16&255]^b[R[O++]^F>>>24]^v[R[O++]]^y[R[O++]]^p[R[O++]]^x[R[O++]]^m[R[O++]]^f[R[O++]]^d[R[O++]]^c[R[O++]]^o[R[O++]]^s[R[O++]]^i[R[O++]]^r[R[O++]];for(W+=15;O<W;)F=F>>>8^r[(F^R[O++])&255];return~F}function D(R,U){for(var F=U^-1,W=0,O=R.length,M=0,H=0;W<O;)M=R.charCodeAt(W++),M<128?F=F>>>8^r[(F^M)&255]:M<2048?(F=F>>>8^r[(F^(192|M>>6&31))&255],F=F>>>8^r[(F^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,H=R.charCodeAt(W++)&1023,F=F>>>8^r[(F^(240|M>>8&7))&255],F=F>>>8^r[(F^(128|M>>2&63))&255],F=F>>>8^r[(F^(128|H>>6&15|(M&3)<<4))&255],F=F>>>8^r[(F^(128|H&63))&255]):(F=F>>>8^r[(F^(224|M>>12&15))&255],F=F>>>8^r[(F^(128|M>>6&63))&255],F=F>>>8^r[(F^(128|M&63))&255]);return~F}return e.table=r,e.bstr=T,e.buf=L,e.str=D,e})(),dr=(function(){var t={};t.version="1.2.1";function r(ae,_e){for(var me=ae.split("/"),pe=_e.split("/"),we=0,Ae=0,Ie=Math.min(me.length,pe.length);we<Ie;++we){if(Ae=me[we].length-pe[we].length)return Ae;if(me[we]!=pe[we])return me[we]<pe[we]?-1:1}return me.length-pe.length}function a(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:a(ae.slice(0,-1));var _e=ae.lastIndexOf("/");return _e===-1?ae:ae.slice(0,_e+1)}function n(ae){if(ae.charAt(ae.length-1)=="/")return n(ae.slice(0,-1));var _e=ae.lastIndexOf("/");return _e===-1?ae:ae.slice(_e+1)}function i(ae,_e){typeof _e=="string"&&(_e=new Date(_e));var me=_e.getHours();me=me<<6|_e.getMinutes(),me=me<<5|_e.getSeconds()>>>1,ae.write_shift(2,me);var pe=_e.getFullYear()-1980;pe=pe<<4|_e.getMonth()+1,pe=pe<<5|_e.getDate(),ae.write_shift(2,pe)}function s(ae){var _e=ae.read_shift(2)&65535,me=ae.read_shift(2)&65535,pe=new Date,we=me&31;me>>>=5;var Ae=me&15;me>>>=4,pe.setMilliseconds(0),pe.setFullYear(me+1980),pe.setMonth(Ae-1),pe.setDate(we);var Ie=_e&31;_e>>>=5;var rt=_e&63;return _e>>>=6,pe.setHours(_e),pe.setMinutes(rt),pe.setSeconds(Ie<<1),pe}function o(ae){vs(ae,0);for(var _e={},me=0;ae.l<=ae.length-4;){var pe=ae.read_shift(2),we=ae.read_shift(2),Ae=ae.l+we,Ie={};switch(pe){case 21589:me=ae.read_shift(1),me&1&&(Ie.mtime=ae.read_shift(4)),we>5&&(me&2&&(Ie.atime=ae.read_shift(4)),me&4&&(Ie.ctime=ae.read_shift(4))),Ie.mtime&&(Ie.mt=new Date(Ie.mtime*1e3));break}ae.l=Ae,_e[pe]=Ie}return _e}var c;function d(){return c||(c={})}function f(ae,_e){if(ae[0]==80&&ae[1]==75)return ma(ae,_e);if((ae[0]|32)==109&&(ae[1]|32)==105)return Xt(ae,_e);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var me=3,pe=512,we=0,Ae=0,Ie=0,rt=0,We=0,Ve=[],ye=ae.slice(0,512);vs(ye,0);var Ye=m(ye);switch(me=Ye[0],me){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(Ye[1]==0)return ma(ae,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}pe!==512&&(ye=ae.slice(0,pe),vs(ye,28));var ot=ae.slice(0,pe);x(ye,me);var xt=ye.read_shift(4,"i");if(me===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);ye.l+=4,Ie=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),rt=ye.read_shift(4,"i"),we=ye.read_shift(4,"i"),We=ye.read_shift(4,"i"),Ae=ye.read_shift(4,"i");for(var mt=-1,wt=0;wt<109&&(mt=ye.read_shift(4,"i"),!(mt<0));++wt)Ve[wt]=mt;var Ct=p(ae,pe);b(We,Ae,Ct,pe,Ve);var Er=N(Ct,Ie,Ve,pe);Er[Ie].name="!Directory",we>0&&rt!==H&&(Er[rt].name="!MiniFAT"),Er[Ve[0]].name="!FAT",Er.fat_addrs=Ve,Er.ssz=pe;var fr={},oa=[],Ni=[],Io=[];_(Ie,Er,Ct,oa,we,fr,Ni,rt),y(Ni,Io,oa),oa.shift();var Fo={FileIndex:Ni,FullPaths:Io};return _e&&_e.raw&&(Fo.raw={header:ot,sectors:Ct}),Fo}function m(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(Y,"Header Signature: "),ae.l+=16;var _e=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),_e]}function x(ae,_e){var me=9;switch(ae.l+=2,me=ae.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function p(ae,_e){for(var me=Math.ceil(ae.length/_e)-1,pe=[],we=1;we<me;++we)pe[we-1]=ae.slice(we*_e,(we+1)*_e);return pe[me-1]=ae.slice(me*_e),pe}function y(ae,_e,me){for(var pe=0,we=0,Ae=0,Ie=0,rt=0,We=me.length,Ve=[],ye=[];pe<We;++pe)Ve[pe]=ye[pe]=pe,_e[pe]=me[pe];for(;rt<ye.length;++rt)pe=ye[rt],we=ae[pe].L,Ae=ae[pe].R,Ie=ae[pe].C,Ve[pe]===pe&&(we!==-1&&Ve[we]!==we&&(Ve[pe]=Ve[we]),Ae!==-1&&Ve[Ae]!==Ae&&(Ve[pe]=Ve[Ae])),Ie!==-1&&(Ve[Ie]=pe),we!==-1&&pe!=Ve[pe]&&(Ve[we]=Ve[pe],ye.lastIndexOf(we)<rt&&ye.push(we)),Ae!==-1&&pe!=Ve[pe]&&(Ve[Ae]=Ve[pe],ye.lastIndexOf(Ae)<rt&&ye.push(Ae));for(pe=1;pe<We;++pe)Ve[pe]===pe&&(Ae!==-1&&Ve[Ae]!==Ae?Ve[pe]=Ve[Ae]:we!==-1&&Ve[we]!==we&&(Ve[pe]=Ve[we]));for(pe=1;pe<We;++pe)if(ae[pe].type!==0){if(rt=pe,rt!=Ve[rt])do rt=Ve[rt],_e[pe]=_e[rt]+"/"+_e[pe];while(rt!==0&&Ve[rt]!==-1&&rt!=Ve[rt]);Ve[pe]=-1}for(_e[0]+="/",pe=1;pe<We;++pe)ae[pe].type!==2&&(_e[pe]+="/")}function v(ae,_e,me){for(var pe=ae.start,we=ae.size,Ae=[],Ie=pe;me&&we>0&&Ie>=0;)Ae.push(_e.slice(Ie*M,Ie*M+M)),we-=M,Ie=fh(me,Ie*4);return Ae.length===0?it(0):rs(Ae).slice(0,ae.size)}function b(ae,_e,me,pe,we){var Ae=H;if(ae===H){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Ie=me[ae],rt=(pe>>>2)-1;if(!Ie)return;for(var We=0;We<rt&&(Ae=fh(Ie,We*4))!==H;++We)we.push(Ae);b(fh(Ie,pe-4),_e-1,me,pe,we)}}function k(ae,_e,me,pe,we){var Ae=[],Ie=[];we||(we=[]);var rt=pe-1,We=0,Ve=0;for(We=_e;We>=0;){we[We]=!0,Ae[Ae.length]=We,Ie.push(ae[We]);var ye=me[Math.floor(We*4/pe)];if(Ve=We*4&rt,pe<4+Ve)throw new Error("FAT boundary crossed: "+We+" 4 "+pe);if(!ae[ye])break;We=fh(ae[ye],Ve)}return{nodes:Ae,data:zD([Ie])}}function N(ae,_e,me,pe){var we=ae.length,Ae=[],Ie=[],rt=[],We=[],Ve=pe-1,ye=0,Ye=0,ot=0,xt=0;for(ye=0;ye<we;++ye)if(rt=[],ot=ye+_e,ot>=we&&(ot-=we),!Ie[ot]){We=[];var mt=[];for(Ye=ot;Ye>=0;){mt[Ye]=!0,Ie[Ye]=!0,rt[rt.length]=Ye,We.push(ae[Ye]);var wt=me[Math.floor(Ye*4/pe)];if(xt=Ye*4&Ve,pe<4+xt)throw new Error("FAT boundary crossed: "+Ye+" 4 "+pe);if(!ae[wt]||(Ye=fh(ae[wt],xt),mt[Ye]))break}Ae[ot]={nodes:rt,data:zD([We])}}return Ae}function _(ae,_e,me,pe,we,Ae,Ie,rt){for(var We=0,Ve=pe.length?2:0,ye=_e[ae].data,Ye=0,ot=0,xt;Ye<ye.length;Ye+=128){var mt=ye.slice(Ye,Ye+128);vs(mt,64),ot=mt.read_shift(2),xt=aA(mt,0,ot-Ve),pe.push(xt);var wt={name:xt,type:mt.read_shift(1),color:mt.read_shift(1),L:mt.read_shift(4,"i"),R:mt.read_shift(4,"i"),C:mt.read_shift(4,"i"),clsid:mt.read_shift(16),state:mt.read_shift(4,"i"),start:0,size:0},Ct=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Ct!==0&&(wt.ct=T(mt,mt.l-8));var Er=mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2)+mt.read_shift(2);Er!==0&&(wt.mt=T(mt,mt.l-8)),wt.start=mt.read_shift(4,"i"),wt.size=mt.read_shift(4,"i"),wt.size<0&&wt.start<0&&(wt.size=wt.type=0,wt.start=H,wt.name=""),wt.type===5?(We=wt.start,we>0&&We!==H&&(_e[We].name="!StreamData")):wt.size>=4096?(wt.storage="fat",_e[wt.start]===void 0&&(_e[wt.start]=k(me,wt.start,_e.fat_addrs,_e.ssz)),_e[wt.start].name=wt.name,wt.content=_e[wt.start].data.slice(0,wt.size)):(wt.storage="minifat",wt.size<0?wt.size=0:We!==H&&wt.start!==H&&_e[We]&&(wt.content=v(wt,_e[We].data,(_e[rt]||{}).data))),wt.content&&vs(wt.content,0),Ae[xt]=wt,Ie.push(wt)}}function T(ae,_e){return new Date((rl(ae,_e+4)/1e7*Math.pow(2,32)+rl(ae,_e)/1e7-11644473600)*1e3)}function L(ae,_e){return d(),f(c.readFileSync(ae),_e)}function D(ae,_e){var me=_e&&_e.type;switch(me||Hr&&Buffer.isBuffer(ae)&&(me="buffer"),me||"base64"){case"file":return L(ae,_e);case"base64":return f(sl(hl(ae)),_e);case"binary":return f(sl(ae),_e)}return f(ae,_e)}function R(ae,_e){var me=_e||{},pe=me.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=pe+"/",ae.FileIndex[0]={name:pe,type:5}),me.CLSID&&(ae.FileIndex[0].clsid=me.CLSID),U(ae)}function U(ae){var _e="Sh33tJ5";if(!dr.find(ae,"/"+_e)){var me=it(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ae.FileIndex.push({name:_e,type:2,content:me,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+_e),F(ae)}}function F(ae,_e){R(ae);for(var me=!1,pe=!1,we=ae.FullPaths.length-1;we>=0;--we){var Ae=ae.FileIndex[we];switch(Ae.type){case 0:pe?me=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(Ae.R*Ae.L*Ae.C)&&(me=!0),Ae.R>-1&&Ae.L>-1&&Ae.R==Ae.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!_e)){var Ie=new Date(1987,1,19),rt=0,We=Object.create?Object.create(null):{},Ve=[];for(we=0;we<ae.FullPaths.length;++we)We[ae.FullPaths[we]]=!0,ae.FileIndex[we].type!==0&&Ve.push([ae.FullPaths[we],ae.FileIndex[we]]);for(we=0;we<Ve.length;++we){var ye=a(Ve[we][0]);pe=We[ye],pe||(Ve.push([ye,{name:n(ye).replace("/",""),type:1,clsid:X,ct:Ie,mt:Ie,content:null}]),We[ye]=!0)}for(Ve.sort(function(xt,mt){return r(xt[0],mt[0])}),ae.FullPaths=[],ae.FileIndex=[],we=0;we<Ve.length;++we)ae.FullPaths[we]=Ve[we][0],ae.FileIndex[we]=Ve[we][1];for(we=0;we<Ve.length;++we){var Ye=ae.FileIndex[we],ot=ae.FullPaths[we];if(Ye.name=n(ot).replace("/",""),Ye.L=Ye.R=Ye.C=-(Ye.color=1),Ye.size=Ye.content?Ye.content.length:0,Ye.start=0,Ye.clsid=Ye.clsid||X,we===0)Ye.C=Ve.length>1?1:-1,Ye.size=0,Ye.type=5;else if(ot.slice(-1)=="/"){for(rt=we+1;rt<Ve.length&&a(ae.FullPaths[rt])!=ot;++rt);for(Ye.C=rt>=Ve.length?-1:rt,rt=we+1;rt<Ve.length&&a(ae.FullPaths[rt])!=a(ot);++rt);Ye.R=rt>=Ve.length?-1:rt,Ye.type=1}else a(ae.FullPaths[we+1]||"")==a(ot)&&(Ye.R=we+1),Ye.type=2}}}function W(ae,_e){var me=_e||{};if(me.fileType=="mad")return Xn(ae,me);switch(F(ae),me.fileType){case"zip":return Wr(ae,me)}var pe=(function(xt){for(var mt=0,wt=0,Ct=0;Ct<xt.FileIndex.length;++Ct){var Er=xt.FileIndex[Ct];if(Er.content){var fr=Er.content.length;fr>0&&(fr<4096?mt+=fr+63>>6:wt+=fr+511>>9)}}for(var oa=xt.FullPaths.length+3>>2,Ni=mt+7>>3,Io=mt+127>>7,Fo=Ni+wt+oa+Io,$s=Fo+127>>7,Kc=$s<=109?0:Math.ceil(($s-109)/127);Fo+$s+Kc+127>>7>$s;)Kc=++$s<=109?0:Math.ceil(($s-109)/127);var Qn=[1,Kc,$s,Io,oa,wt,mt,0];return xt.FileIndex[0].size=mt<<6,Qn[7]=(xt.FileIndex[0].start=Qn[0]+Qn[1]+Qn[2]+Qn[3]+Qn[4]+Qn[5])+(Qn[6]+7>>3),Qn})(ae),we=it(pe[7]<<9),Ae=0,Ie=0;{for(Ae=0;Ae<8;++Ae)we.write_shift(1,ne[Ae]);for(Ae=0;Ae<8;++Ae)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),Ae=0;Ae<3;++Ae)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,pe[2]),we.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:H),we.write_shift(4,pe[3]),we.write_shift(-4,pe[1]?pe[0]-1:H),we.write_shift(4,pe[1]),Ae=0;Ae<109;++Ae)we.write_shift(-4,Ae<pe[2]?pe[1]+Ae:-1)}if(pe[1])for(Ie=0;Ie<pe[1];++Ie){for(;Ae<236+Ie*127;++Ae)we.write_shift(-4,Ae<pe[2]?pe[1]+Ae:-1);we.write_shift(-4,Ie===pe[1]-1?H:Ie+1)}var rt=function(xt){for(Ie+=xt;Ae<Ie-1;++Ae)we.write_shift(-4,Ae+1);xt&&(++Ae,we.write_shift(-4,H))};for(Ie=Ae=0,Ie+=pe[1];Ae<Ie;++Ae)we.write_shift(-4,re.DIFSECT);for(Ie+=pe[2];Ae<Ie;++Ae)we.write_shift(-4,re.FATSECT);rt(pe[3]),rt(pe[4]);for(var We=0,Ve=0,ye=ae.FileIndex[0];We<ae.FileIndex.length;++We)ye=ae.FileIndex[We],ye.content&&(Ve=ye.content.length,!(Ve<4096)&&(ye.start=Ie,rt(Ve+511>>9)));for(rt(pe[6]+7>>3);we.l&511;)we.write_shift(-4,re.ENDOFCHAIN);for(Ie=Ae=0,We=0;We<ae.FileIndex.length;++We)ye=ae.FileIndex[We],ye.content&&(Ve=ye.content.length,!(!Ve||Ve>=4096)&&(ye.start=Ie,rt(Ve+63>>6)));for(;we.l&511;)we.write_shift(-4,re.ENDOFCHAIN);for(Ae=0;Ae<pe[4]<<2;++Ae){var Ye=ae.FullPaths[Ae];if(!Ye||Ye.length===0){for(We=0;We<17;++We)we.write_shift(4,0);for(We=0;We<3;++We)we.write_shift(4,-1);for(We=0;We<12;++We)we.write_shift(4,0);continue}ye=ae.FileIndex[Ae],Ae===0&&(ye.start=ye.size?ye.start-1:H);var ot=Ae===0&&me.root||ye.name;if(Ve=2*(ot.length+1),we.write_shift(64,ot,"utf16le"),we.write_shift(2,Ve),we.write_shift(1,ye.type),we.write_shift(1,ye.color),we.write_shift(-4,ye.L),we.write_shift(-4,ye.R),we.write_shift(-4,ye.C),ye.clsid)we.write_shift(16,ye.clsid,"hex");else for(We=0;We<4;++We)we.write_shift(4,0);we.write_shift(4,ye.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,ye.start),we.write_shift(4,ye.size),we.write_shift(4,0)}for(Ae=1;Ae<ae.FileIndex.length;++Ae)if(ye=ae.FileIndex[Ae],ye.size>=4096)if(we.l=ye.start+1<<9,Hr&&Buffer.isBuffer(ye.content))ye.content.copy(we,we.l,0,ye.size),we.l+=ye.size+511&-512;else{for(We=0;We<ye.size;++We)we.write_shift(1,ye.content[We]);for(;We&511;++We)we.write_shift(1,0)}for(Ae=1;Ae<ae.FileIndex.length;++Ae)if(ye=ae.FileIndex[Ae],ye.size>0&&ye.size<4096)if(Hr&&Buffer.isBuffer(ye.content))ye.content.copy(we,we.l,0,ye.size),we.l+=ye.size+63&-64;else{for(We=0;We<ye.size;++We)we.write_shift(1,ye.content[We]);for(;We&63;++We)we.write_shift(1,0)}if(Hr)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function O(ae,_e){var me=ae.FullPaths.map(function(We){return We.toUpperCase()}),pe=me.map(function(We){var Ve=We.split("/");return Ve[Ve.length-(We.slice(-1)=="/"?2:1)]}),we=!1;_e.charCodeAt(0)===47?(we=!0,_e=me[0].slice(0,-1)+_e):we=_e.indexOf("/")!==-1;var Ae=_e.toUpperCase(),Ie=we===!0?me.indexOf(Ae):pe.indexOf(Ae);if(Ie!==-1)return ae.FileIndex[Ie];var rt=!Ae.match($x);for(Ae=Ae.replace(oo,""),rt&&(Ae=Ae.replace($x,"!")),Ie=0;Ie<me.length;++Ie)if((rt?me[Ie].replace($x,"!"):me[Ie]).replace(oo,"")==Ae||(rt?pe[Ie].replace($x,"!"):pe[Ie]).replace(oo,"")==Ae)return ae.FileIndex[Ie];return null}var M=64,H=-2,Y="d0cf11e0a1b11ae1",ne=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function fe(ae,_e,me){d();var pe=W(ae,me);c.writeFileSync(_e,pe)}function ce(ae){for(var _e=new Array(ae.length),me=0;me<ae.length;++me)_e[me]=String.fromCharCode(ae[me]);return _e.join("")}function ke(ae,_e){var me=W(ae,_e);switch(_e&&_e.type||"buffer"){case"file":return d(),c.writeFileSync(_e.filename,me),me;case"binary":return typeof me=="string"?me:ce(me);case"base64":return T1(typeof me=="string"?me:ce(me));case"buffer":if(Hr)return Buffer.isBuffer(me)?me:i0(me);case"array":return typeof me=="string"?sl(me):me}return me}var Z;function P(ae){try{var _e=ae.InflateRaw,me=new _e;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)Z=ae;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function q(ae,_e){if(!Z)return Dr(ae,_e);var me=Z.InflateRaw,pe=new me,we=pe._processChunk(ae.slice(ae.l),pe._finishFlushFlag);return ae.l+=pe.bytesRead,we}function V(ae){return Z?Z.deflateRawSync(ae):bt(ae)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(ae){var _e=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var ie=typeof Uint8Array<"u",je=ie?new Uint8Array(256):[],Me=0;Me<256;++Me)je[Me]=Ee(Me);function J(ae,_e){var me=je[ae&255];return _e<=8?me>>>8-_e:(me=me<<8|je[ae>>8&255],_e<=16?me>>>16-_e:(me=me<<8|je[ae>>16&255],me>>>24-_e))}function ge(ae,_e){var me=_e&7,pe=_e>>>3;return(ae[pe]|(me<=6?0:ae[pe+1]<<8))>>>me&3}function be(ae,_e){var me=_e&7,pe=_e>>>3;return(ae[pe]|(me<=5?0:ae[pe+1]<<8))>>>me&7}function oe(ae,_e){var me=_e&7,pe=_e>>>3;return(ae[pe]|(me<=4?0:ae[pe+1]<<8))>>>me&15}function Ue(ae,_e){var me=_e&7,pe=_e>>>3;return(ae[pe]|(me<=3?0:ae[pe+1]<<8))>>>me&31}function ve(ae,_e){var me=_e&7,pe=_e>>>3;return(ae[pe]|(me<=1?0:ae[pe+1]<<8))>>>me&127}function Ge(ae,_e,me){var pe=_e&7,we=_e>>>3,Ae=(1<<me)-1,Ie=ae[we]>>>pe;return me<8-pe||(Ie|=ae[we+1]<<8-pe,me<16-pe)||(Ie|=ae[we+2]<<16-pe,me<24-pe)||(Ie|=ae[we+3]<<24-pe),Ie&Ae}function $e(ae,_e,me){var pe=_e&7,we=_e>>>3;return pe<=5?ae[we]|=(me&7)<<pe:(ae[we]|=me<<pe&255,ae[we+1]=(me&7)>>8-pe),_e+3}function ft(ae,_e,me){var pe=_e&7,we=_e>>>3;return me=(me&1)<<pe,ae[we]|=me,_e+1}function Je(ae,_e,me){var pe=_e&7,we=_e>>>3;return me<<=pe,ae[we]|=me&255,me>>>=8,ae[we+1]=me,_e+8}function kt(ae,_e,me){var pe=_e&7,we=_e>>>3;return me<<=pe,ae[we]|=me&255,me>>>=8,ae[we+1]=me&255,ae[we+2]=me>>>8,_e+16}function At(ae,_e){var me=ae.length,pe=2*me>_e?2*me:_e+5,we=0;if(me>=_e)return ae;if(Hr){var Ae=kD(pe);if(ae.copy)ae.copy(Ae);else for(;we<ae.length;++we)Ae[we]=ae[we];return Ae}else if(ie){var Ie=new Uint8Array(pe);if(Ie.set)Ie.set(ae);else for(;we<me;++we)Ie[we]=ae[we];return Ie}return ae.length=pe,ae}function Rt(ae){for(var _e=new Array(ae),me=0;me<ae;++me)_e[me]=0;return _e}function ar(ae,_e,me){var pe=1,we=0,Ae=0,Ie=0,rt=0,We=ae.length,Ve=ie?new Uint16Array(32):Rt(32);for(Ae=0;Ae<32;++Ae)Ve[Ae]=0;for(Ae=We;Ae<me;++Ae)ae[Ae]=0;We=ae.length;var ye=ie?new Uint16Array(We):Rt(We);for(Ae=0;Ae<We;++Ae)Ve[we=ae[Ae]]++,pe<we&&(pe=we),ye[Ae]=0;for(Ve[0]=0,Ae=1;Ae<=pe;++Ae)Ve[Ae+16]=rt=rt+Ve[Ae-1]<<1;for(Ae=0;Ae<We;++Ae)rt=ae[Ae],rt!=0&&(ye[Ae]=Ve[rt+16]++);var Ye=0;for(Ae=0;Ae<We;++Ae)if(Ye=ae[Ae],Ye!=0)for(rt=J(ye[Ae],pe)>>pe-Ye,Ie=(1<<pe+4-Ye)-1;Ie>=0;--Ie)_e[rt|Ie<<Ye]=Ye&15|Ae<<4;return pe}var nr=ie?new Uint16Array(512):Rt(512),$r=ie?new Uint16Array(32):Rt(32);if(!ie){for(var It=0;It<512;++It)nr[It]=0;for(It=0;It<32;++It)$r[It]=0}(function(){for(var ae=[],_e=0;_e<32;_e++)ae.push(5);ar(ae,$r,32);var me=[];for(_e=0;_e<=143;_e++)me.push(8);for(;_e<=255;_e++)me.push(9);for(;_e<=279;_e++)me.push(7);for(;_e<=287;_e++)me.push(8);ar(me,nr,288)})();var St=(function(){for(var _e=ie?new Uint8Array(32768):[],me=0,pe=0;me<de.length-1;++me)for(;pe<de[me+1];++pe)_e[pe]=me;for(;pe<32768;++pe)_e[pe]=29;var we=ie?new Uint8Array(259):[];for(me=0,pe=0;me<Q.length-1;++me)for(;pe<Q[me+1];++pe)we[pe]=me;function Ae(rt,We){for(var Ve=0;Ve<rt.length;){var ye=Math.min(65535,rt.length-Ve),Ye=Ve+ye==rt.length;for(We.write_shift(1,+Ye),We.write_shift(2,ye),We.write_shift(2,~ye&65535);ye-- >0;)We[We.l++]=rt[Ve++]}return We.l}function Ie(rt,We){for(var Ve=0,ye=0,Ye=ie?new Uint16Array(32768):[];ye<rt.length;){var ot=Math.min(65535,rt.length-ye);if(ot<10){for(Ve=$e(We,Ve,+(ye+ot==rt.length)),Ve&7&&(Ve+=8-(Ve&7)),We.l=Ve/8|0,We.write_shift(2,ot),We.write_shift(2,~ot&65535);ot-- >0;)We[We.l++]=rt[ye++];Ve=We.l*8;continue}Ve=$e(We,Ve,+(ye+ot==rt.length)+2);for(var xt=0;ot-- >0;){var mt=rt[ye];xt=(xt<<5^mt)&32767;var wt=-1,Ct=0;if((wt=Ye[xt])&&(wt|=ye&-32768,wt>ye&&(wt-=32768),wt<ye))for(;rt[wt+Ct]==rt[ye+Ct]&&Ct<250;)++Ct;if(Ct>2){mt=we[Ct],mt<=22?Ve=Je(We,Ve,je[mt+1]>>1)-1:(Je(We,Ve,3),Ve+=5,Je(We,Ve,je[mt-23]>>5),Ve+=3);var Er=mt<8?0:mt-4>>2;Er>0&&(kt(We,Ve,Ct-Q[mt]),Ve+=Er),mt=_e[ye-wt],Ve=Je(We,Ve,je[mt]>>3),Ve-=3;var fr=mt<4?0:mt-2>>1;fr>0&&(kt(We,Ve,ye-wt-de[mt]),Ve+=fr);for(var oa=0;oa<Ct;++oa)Ye[xt]=ye&32767,xt=(xt<<5^rt[ye])&32767,++ye;ot-=Ct-1}else mt<=143?mt=mt+48:Ve=ft(We,Ve,1),Ve=Je(We,Ve,je[mt]),Ye[xt]=ye&32767,++ye}Ve=Je(We,Ve,0)-1}return We.l=(Ve+7)/8|0,We.l}return function(We,Ve){return We.length<8?Ae(We,Ve):Ie(We,Ve)}})();function bt(ae){var _e=it(50+Math.floor(ae.length*1.1)),me=St(ae,_e);return _e.slice(0,me)}var Et=ie?new Uint16Array(32768):Rt(32768),Tr=ie?new Uint16Array(32768):Rt(32768),Gt=ie?new Uint16Array(128):Rt(128),Nt=1,Yt=1;function Sr(ae,_e){var me=Ue(ae,_e)+257;_e+=5;var pe=Ue(ae,_e)+1;_e+=5;var we=oe(ae,_e)+4;_e+=4;for(var Ae=0,Ie=ie?new Uint8Array(19):Rt(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,Ve=ie?new Uint8Array(8):Rt(8),ye=ie?new Uint8Array(8):Rt(8),Ye=Ie.length,ot=0;ot<we;++ot)Ie[z[ot]]=Ae=be(ae,_e),We<Ae&&(We=Ae),Ve[Ae]++,_e+=3;var xt=0;for(Ve[0]=0,ot=1;ot<=We;++ot)ye[ot]=xt=xt+Ve[ot-1]<<1;for(ot=0;ot<Ye;++ot)(xt=Ie[ot])!=0&&(rt[ot]=ye[xt]++);var mt=0;for(ot=0;ot<Ye;++ot)if(mt=Ie[ot],mt!=0){xt=je[rt[ot]]>>8-mt;for(var wt=(1<<7-mt)-1;wt>=0;--wt)Gt[xt|wt<<mt]=mt&7|ot<<3}var Ct=[];for(We=1;Ct.length<me+pe;)switch(xt=Gt[ve(ae,_e)],_e+=xt&7,xt>>>=3){case 16:for(Ae=3+ge(ae,_e),_e+=2,xt=Ct[Ct.length-1];Ae-- >0;)Ct.push(xt);break;case 17:for(Ae=3+be(ae,_e),_e+=3;Ae-- >0;)Ct.push(0);break;case 18:for(Ae=11+ve(ae,_e),_e+=7;Ae-- >0;)Ct.push(0);break;default:Ct.push(xt),We<xt&&(We=xt);break}var Er=Ct.slice(0,me),fr=Ct.slice(me);for(ot=me;ot<286;++ot)Er[ot]=0;for(ot=pe;ot<30;++ot)fr[ot]=0;return Nt=ar(Er,Et,286),Yt=ar(fr,Tr,30),_e}function er(ae,_e){if(ae[0]==3&&!(ae[1]&3))return[xf(_e),2];for(var me=0,pe=0,we=kD(_e||1<<18),Ae=0,Ie=we.length>>>0,rt=0,We=0;(pe&1)==0;){if(pe=be(ae,me),me+=3,pe>>>1)pe>>1==1?(rt=9,We=5):(me=Sr(ae,me),rt=Nt,We=Yt);else{me&7&&(me+=8-(me&7));var Ve=ae[me>>>3]|ae[(me>>>3)+1]<<8;if(me+=32,Ve>0)for(!_e&&Ie<Ae+Ve&&(we=At(we,Ae+Ve),Ie=we.length);Ve-- >0;)we[Ae++]=ae[me>>>3],me+=8;continue}for(;;){!_e&&Ie<Ae+32767&&(we=At(we,Ae+32767),Ie=we.length);var ye=Ge(ae,me,rt),Ye=pe>>>1==1?nr[ye]:Et[ye];if(me+=Ye&15,Ye>>>=4,(Ye>>>8&255)===0)we[Ae++]=Ye;else{if(Ye==256)break;Ye-=257;var ot=Ye<8?0:Ye-4>>2;ot>5&&(ot=0);var xt=Ae+Q[Ye];ot>0&&(xt+=Ge(ae,me,ot),me+=ot),ye=Ge(ae,me,We),Ye=pe>>>1==1?$r[ye]:Tr[ye],me+=Ye&15,Ye>>>=4;var mt=Ye<4?0:Ye-2>>1,wt=de[Ye];for(mt>0&&(wt+=Ge(ae,me,mt),me+=mt),!_e&&Ie<xt&&(we=At(we,xt+100),Ie=we.length);Ae<xt;)we[Ae]=we[Ae-wt],++Ae}}}return _e?[we,me+7>>>3]:[we.slice(0,Ae),me+7>>>3]}function Dr(ae,_e){var me=ae.slice(ae.l||0),pe=er(me,_e);return ae.l+=pe[1],pe[0]}function hr(ae,_e){if(ae)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function ma(ae,_e){var me=ae;vs(me,0);var pe=[],we=[],Ae={FileIndex:pe,FullPaths:we};R(Ae,{root:_e.root});for(var Ie=me.length-4;(me[Ie]!=80||me[Ie+1]!=75||me[Ie+2]!=5||me[Ie+3]!=6)&&Ie>=0;)--Ie;me.l=Ie+4,me.l+=4;var rt=me.read_shift(2);me.l+=6;var We=me.read_shift(4);for(me.l=We,Ie=0;Ie<rt;++Ie){me.l+=20;var Ve=me.read_shift(4),ye=me.read_shift(4),Ye=me.read_shift(2),ot=me.read_shift(2),xt=me.read_shift(2);me.l+=8;var mt=me.read_shift(4),wt=o(me.slice(me.l+Ye,me.l+Ye+ot));me.l+=Ye+ot+xt;var Ct=me.l;me.l=mt+4,ea(me,Ve,ye,Ae,wt),me.l=Ct}return Ae}function ea(ae,_e,me,pe,we){ae.l+=2;var Ae=ae.read_shift(2),Ie=ae.read_shift(2),rt=s(ae);if(Ae&8257)throw new Error("Unsupported ZIP encryption");for(var We=ae.read_shift(4),Ve=ae.read_shift(4),ye=ae.read_shift(4),Ye=ae.read_shift(2),ot=ae.read_shift(2),xt="",mt=0;mt<Ye;++mt)xt+=String.fromCharCode(ae[ae.l++]);if(ot){var wt=o(ae.slice(ae.l,ae.l+ot));(wt[21589]||{}).mt&&(rt=wt[21589].mt),((we||{})[21589]||{}).mt&&(rt=we[21589].mt)}ae.l+=ot;var Ct=ae.slice(ae.l,ae.l+Ve);switch(Ie){case 8:Ct=q(ae,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ie)}var Er=!1;Ae&8&&(We=ae.read_shift(4),We==134695760&&(We=ae.read_shift(4),Er=!0),Ve=ae.read_shift(4),ye=ae.read_shift(4)),Ve!=_e&&hr(Er,"Bad compressed size: "+_e+" != "+Ve),ye!=me&&hr(Er,"Bad uncompressed size: "+me+" != "+ye),Sn(pe,xt,Ct,{unsafe:!0,mt:rt})}function Wr(ae,_e){var me=_e||{},pe=[],we=[],Ae=it(1),Ie=me.compression?8:0,rt=0,We=0,Ve=0,ye=0,Ye=0,ot=ae.FullPaths[0],xt=ot,mt=ae.FileIndex[0],wt=[],Ct=0;for(We=1;We<ae.FullPaths.length;++We)if(xt=ae.FullPaths[We].slice(ot.length),mt=ae.FileIndex[We],!(!mt.size||!mt.content||xt=="Sh33tJ5")){var Er=ye,fr=it(xt.length);for(Ve=0;Ve<xt.length;++Ve)fr.write_shift(1,xt.charCodeAt(Ve)&127);fr=fr.slice(0,fr.l),wt[Ye]=wxe.buf(mt.content,0);var oa=mt.content;Ie==8&&(oa=V(oa)),Ae=it(30),Ae.write_shift(4,67324752),Ae.write_shift(2,20),Ae.write_shift(2,rt),Ae.write_shift(2,Ie),mt.mt?i(Ae,mt.mt):Ae.write_shift(4,0),Ae.write_shift(-4,wt[Ye]),Ae.write_shift(4,oa.length),Ae.write_shift(4,mt.content.length),Ae.write_shift(2,fr.length),Ae.write_shift(2,0),ye+=Ae.length,pe.push(Ae),ye+=fr.length,pe.push(fr),ye+=oa.length,pe.push(oa),Ae=it(46),Ae.write_shift(4,33639248),Ae.write_shift(2,0),Ae.write_shift(2,20),Ae.write_shift(2,rt),Ae.write_shift(2,Ie),Ae.write_shift(4,0),Ae.write_shift(-4,wt[Ye]),Ae.write_shift(4,oa.length),Ae.write_shift(4,mt.content.length),Ae.write_shift(2,fr.length),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(4,0),Ae.write_shift(4,Er),Ct+=Ae.l,we.push(Ae),Ct+=fr.length,we.push(fr),++Ye}return Ae=it(22),Ae.write_shift(4,101010256),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,Ye),Ae.write_shift(2,Ye),Ae.write_shift(4,Ct),Ae.write_shift(4,ye),Ae.write_shift(2,0),rs([rs(pe),rs(we),Ae])}var Mt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Mr(ae,_e){if(ae.ctype)return ae.ctype;var me=ae.name||"",pe=me.match(/\.([^\.]+)$/);return pe&&Mt[pe[1]]||_e&&(pe=(me=_e).match(/[\.\\]([^\.\\])+$/),pe&&Mt[pe[1]])?Mt[pe[1]]:"application/octet-stream"}function ci(ae){for(var _e=T1(ae),me=[],pe=0;pe<_e.length;pe+=76)me.push(_e.slice(pe,pe+76));return me.join(`\r
`)+`\r
`}function en(ae){var _e=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var ye=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],pe=_e.split(`\r
`),we=0;we<pe.length;++we){var Ae=pe[we];if(Ae.length==0){me.push("");continue}for(var Ie=0;Ie<Ae.length;){var rt=76,We=Ae.slice(Ie,Ie+rt);We.charAt(rt-1)=="="?rt--:We.charAt(rt-2)=="="?rt-=2:We.charAt(rt-3)=="="&&(rt-=3),We=Ae.slice(Ie,Ie+rt),Ie+=rt,Ie<Ae.length&&(We+="="),me.push(We)}}return me.join(`\r
`)}function ss(ae){for(var _e=[],me=0;me<ae.length;++me){for(var pe=ae[me];me<=ae.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+ae[++me];_e.push(pe)}for(var we=0;we<_e.length;++we)_e[we]=_e[we].replace(/[=][0-9A-Fa-f]{2}/g,function(Ae){return String.fromCharCode(parseInt(Ae.slice(1),16))});return sl(_e.join(`\r
`))}function ui(ae,_e,me){for(var pe="",we="",Ae="",Ie,rt=0;rt<10;++rt){var We=_e[rt];if(!We||We.match(/^\s*$/))break;var Ve=We.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":pe=Ve[2].trim();break;case"content-type":Ae=Ve[2].trim();break;case"content-transfer-encoding":we=Ve[2].trim();break}}switch(++rt,we.toLowerCase()){case"base64":Ie=sl(hl(_e.slice(rt).join("")));break;case"quoted-printable":Ie=ss(_e.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var ye=Sn(ae,pe.slice(me.length),Ie,{unsafe:!0});Ae&&(ye.ctype=Ae)}function Xt(ae,_e){if(ce(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=_e&&_e.root||"",pe=(Hr&&Buffer.isBuffer(ae)?ae.toString("binary"):ce(ae)).split(`\r
`),we=0,Ae="";for(we=0;we<pe.length;++we)if(Ae=pe[we],!!/^Content-Location:/i.test(Ae)&&(Ae=Ae.slice(Ae.indexOf("file")),me||(me=Ae.slice(0,Ae.lastIndexOf("/")+1)),Ae.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Ae.slice(0,me.length)!=me););var Ie=(pe[1]||"").match(/boundary="(.*?)"/);if(!Ie)throw new Error("MAD cannot find boundary");var rt="--"+(Ie[1]||""),We=[],Ve=[],ye={FileIndex:We,FullPaths:Ve};R(ye);var Ye,ot=0;for(we=0;we<pe.length;++we){var xt=pe[we];xt!==rt&&xt!==rt+"--"||(ot++&&ui(ye,pe.slice(Ye,we),me),Ye=we)}return ye}function Xn(ae,_e){var me=_e||{},pe=me.boundary||"SheetJS";pe="------="+pe;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],Ae=ae.FullPaths[0],Ie=Ae,rt=ae.FileIndex[0],We=1;We<ae.FullPaths.length;++We)if(Ie=ae.FullPaths[We].slice(Ae.length),rt=ae.FileIndex[We],!(!rt.size||!rt.content||Ie=="Sh33tJ5")){Ie=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ct){return"_x"+Ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ct){return"_u"+Ct.charCodeAt(0).toString(16)+"_"});for(var Ve=rt.content,ye=Hr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):ce(Ve),Ye=0,ot=Math.min(1024,ye.length),xt=0,mt=0;mt<=ot;++mt)(xt=ye.charCodeAt(mt))>=32&&xt<128&&++Ye;var wt=Ye>=ot*4/5;we.push(pe),we.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ie),we.push("Content-Transfer-Encoding: "+(wt?"quoted-printable":"base64")),we.push("Content-Type: "+Mr(rt,Ie)),we.push(""),we.push(wt?en(ye):ci(ye))}return we.push(pe+`--\r
`),we.join(`\r
`)}function os(ae){var _e={};return R(_e,ae),_e}function Sn(ae,_e,me,pe){var we=pe&&pe.unsafe;we||R(ae);var Ae=!we&&dr.find(ae,_e);if(!Ae){var Ie=ae.FullPaths[0];_e.slice(0,Ie.length)==Ie?Ie=_e:(Ie.slice(-1)!="/"&&(Ie+="/"),Ie=(Ie+_e).replace("//","/")),Ae={name:n(_e),type:2},ae.FileIndex.push(Ae),ae.FullPaths.push(Ie),we||dr.utils.cfb_gc(ae)}return Ae.content=me,Ae.size=me?me.length:0,pe&&(pe.CLSID&&(Ae.clsid=pe.CLSID),pe.mt&&(Ae.mt=pe.mt),pe.ct&&(Ae.ct=pe.ct)),Ae}function Si(ae,_e){R(ae);var me=dr.find(ae,_e);if(me){for(var pe=0;pe<ae.FileIndex.length;++pe)if(ae.FileIndex[pe]==me)return ae.FileIndex.splice(pe,1),ae.FullPaths.splice(pe,1),!0}return!1}function Sa(ae,_e,me){R(ae);var pe=dr.find(ae,_e);if(pe){for(var we=0;we<ae.FileIndex.length;++we)if(ae.FileIndex[we]==pe)return ae.FileIndex[we].name=n(me),ae.FullPaths[we]=me,!0}return!1}function Wa(ae){F(ae,!0)}return t.find=O,t.read=D,t.parse=f,t.write=ke,t.writeFile=fe,t.utils={cfb_new:os,cfb_add:Sn,cfb_del:Si,cfb_mov:Sa,cfb_gc:Wa,ReadShift:Qx,CheckField:Mq,prep_blob:vs,bconcat:rs,use_zlib:P,_deflateRaw:bt,_inflateRaw:Dr,consts:re},t})();function kxe(e){return typeof e=="string"?Hw(e):Array.isArray(e)?Gge(e):e}function kv(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Hw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Tu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([kxe(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Af(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function _xe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Yn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function CD(e,t){for(var r=[],a=Yn(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function Vw(e){for(var t=[],r=Yn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function Kw(e){for(var t=[],r=Yn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function Sxe(e){for(var t=[],r=Yn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var D2=new Date(1899,11,30,0,0,0);function Bi(e,t){var r=e.getTime(),a=D2.getTime()+(e.getTimezoneOffset()-D2.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var mq=new Date,Nxe=D2.getTime()+(mq.getTimezoneOffset()-D2.getTimezoneOffset())*6e4,OD=mq.getTimezoneOffset();function Gw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Nxe),t.getTimezoneOffset()!==OD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-OD)*6e4),t}function jxe(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[i],10)}return t}var PD=new Date("2017-02-19T19:06:09.000Z"),pq=isNaN(PD.getFullYear())?new Date("2/19/17"):PD,Axe=pq.getFullYear()==2017;function dn(e,t){var r=new Date(e);if(Axe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(pq.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function rm(e,t){if(Hr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Tu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Tu(rq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Tu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Tu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function fn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=fn(e[r]));return t}function Vn(e,t){for(var r="";r.length<t;)r+=e;return r}function Ic(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var Txe=["january","february","march","april","may","june","july","august","september","october","november","december"];function mg(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Txe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Exe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),s=[i[0]],o=1;o<i.length;++o)s.push(n),s.push(i[o]);return s}})();function gq(e){return e?e.content&&e.type?rm(e.content,!0):e.data?qx(e.data):e.asNodeBuffer&&Hr?qx(e.asNodeBuffer().toString("binary")):e.asBinary?qx(e.asBinary()):e._data&&e._data.getContent?qx(rm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function xq(e){if(!e)return null;if(e.data)return bD(e.data);if(e.asNodeBuffer&&Hr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?bD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Cxe(e){return e&&e.name.slice(-4)===".bin"?xq(e):gq(e)}function Ul(e,t){for(var r=e.FullPaths||Yn(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==s||n==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Qj(e,t){var r=Ul(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function gi(e,t,r){if(!r)return Cxe(Qj(e,t));if(!t)return null;try{return gi(e,t)}catch{return null}}function ol(e,t,r){if(!r)return gq(Qj(e,t));if(!t)return null;try{return ol(e,t)}catch{return null}}function Oxe(e,t,r){return xq(Qj(e,t))}function DD(e){for(var t=e.FullPaths||Yn(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function Fr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Hr?a=i0(r):a=Yge(r),dr.utils.cfb_add(e,t,a)}dr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Jj(){return dr.utils.cfb_new()}function vq(e,t){switch(t.type){case"base64":return dr.read(e,{type:"base64"});case"binary":return dr.read(e,{type:"binary"});case"buffer":case"array":return dr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Hx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var li=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Pxe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,LD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Dxe=/<[^>]*>/g,qs=li.match(LD)?LD:Dxe,Lxe=/<\w*:/,Mxe=/<(\/?)\w+:/;function kr(e,t,r){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var s=e.match(Pxe),o=0,c="",d=0,f="",m="",x=1;if(s)for(d=0;d!=s.length;++d){for(m=s[d],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(f=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(x=(n=m.charCodeAt(i+1))==34||n==39?1:0,c=m.slice(i+1+x,m.length-x),o=0;o!=f.length&&f.charCodeAt(o)!==58;++o);if(o===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),a[f]=c,a[f.toLowerCase()]=c;else{var p=(o===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(o+1);if(a[p]&&f.slice(o-3,o)=="ext")continue;a[p]=c,a[p.toLowerCase()]=c}}return a}function Iu(e){return e.replace(Mxe,"<$1")}var yq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Zj=Vw(yq),fa=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return yq[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=n.indexOf("]]>");return r(n.slice(0,i))+n.slice(i+9,s)+r(n.slice(s+3))}})(),eA=/[&<>'"]/g,Rxe=/[\u0000-\u0008\u000b-\u001f]/g;function La(e){var t=e+"";return t.replace(eA,function(r){return Zj[r]}).replace(Rxe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function MD(e){return La(e).replace(/ /g,"_x0020_")}var bq=/[\u0000-\u001f]/g;function tA(e){var t=e+"";return t.replace(eA,function(r){return Zj[r]}).replace(/\n/g,"<br/>").replace(bq,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Ixe(e){var t=e+"";return t.replace(eA,function(r){return Zj[r]}).replace(bq,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var RD=(function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}})();function Fxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ln(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function m_(e){for(var t="",r=0,a=0,n=0,i=0,s=0,o=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){s=(a&31)<<6,s|=n&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function ID(e){var t=xf(2*e.length),r,a,n=1,i=0,s=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(r=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function FD(e){return i0(e,"binary").toString("utf8")}var Jy="foo bar baz",Ha=Hr&&(FD(Jy)==m_(Jy)&&FD||ID(Jy)==m_(Jy)&&ID)||m_,Tu=Hr?function(e){return i0(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},C1=(function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}})(),wq=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}})(),Bxe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Uxe=/<\/?(?:vt:)?variant>/g,zxe=/<(?:vt:)([^>]*)>([\s\S]*)</;function BD(e,t){var r=kr(e),a=e.match(Bxe(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(i){var s=i.replace(Uxe,"").match(zxe);s&&n.push({v:Ha(s[2]),t:s[1]})}),n}var kq=/(^\s|\s$|\n)/;function ys(e,t){return"<"+e+(t.match(kq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function O1(e){return Yn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function _t(e,t,r){return"<"+e+(r!=null?O1(r):"")+(t!=null?(t.match(kq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function IS(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function qxe(e,t){switch(typeof e){case"string":var r=_t("vt:lpwstr",La(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return _t((e|0)==e?"vt:i4":"vt:r8",La(String(e)));case"boolean":return _t("vt:bool",e?"true":"false")}if(e instanceof Date)return _t("vt:filetime",IS(e));throw new Error("Unable to serialize "+e)}function rA(e){if(Hr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ha(Af(Gj(e)));throw new Error("Bad input format: expected Buffer or string")}var P1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Fi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},hm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $xe(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function Hxe(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,s=a?-t:t;isFinite(s)?s==0?n=i=0:(n=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(n&15)<<4|i&15,e[r+7]=n>>4|a}var UD=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},zD=Hr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:i0(t)})):UD(e)}:UD,qD=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(Td(e,n)));return a.join("").replace(oo,"")},aA=Hr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(oo,""):qD(e,t,r)}:qD,$D=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},_q=Hr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):$D(e,t,r)}:$D,HD=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(Tp(e,n)));return a.join("")},_v=Hr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):HD(t,r,a)}:HD,Sq=function(e,t){var r=rl(e,t);return r>0?_v(e,t+4,t+4+r-1):""},Nq=Sq,jq=function(e,t){var r=rl(e,t);return r>0?_v(e,t+4,t+4+r-1):""},Aq=jq,Tq=function(e,t){var r=2*rl(e,t);return r>0?_v(e,t+4,t+4+r-1):""},Eq=Tq,Cq=function(t,r){var a=rl(t,r);return a>0?aA(t,r+4,r+4+a):""},Oq=Cq,Pq=function(e,t){var r=rl(e,t);return r>0?_v(e,t+4,t+4+r):""},Dq=Pq,Lq=function(e,t){return $xe(e,t)},L2=Lq,nA=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Hr&&(Nq=function(t,r){if(!Buffer.isBuffer(t))return Sq(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},Aq=function(t,r){if(!Buffer.isBuffer(t))return jq(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},Eq=function(t,r){if(!Buffer.isBuffer(t))return Tq(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},Oq=function(t,r){if(!Buffer.isBuffer(t))return Cq(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},Dq=function(t,r){if(!Buffer.isBuffer(t))return Pq(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},L2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Lq(t,r)},nA=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Tp=function(e,t){return e[t]},Td=function(e,t){return e[t+1]*256+e[t]},Wxe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},rl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},fh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Vxe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Qx(e,t){var r="",a,n,i=[],s,o,c,d;switch(t){case"dbcs":if(d=this.l,Hr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Td(this,d)),d+=2;e*=2;break;case"utf8":r=_v(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aA(this,this.l,this.l+e);break;case"wstr":return Qx.call(this,e,"dbcs");case"lpstr-ansi":r=Nq(this,this.l),e=4+rl(this,this.l);break;case"lpstr-cp":r=Aq(this,this.l),e=4+rl(this,this.l);break;case"lpwstr":r=Eq(this,this.l),e=4+2*rl(this,this.l);break;case"lpp4":e=4+rl(this,this.l),r=Oq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+rl(this,this.l),r=Dq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Tp(this,this.l+e++))!==0;)i.push(Qy(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Td(this,this.l+e))!==0;)i.push(Qy(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return s=Tp(this,d),this.l=d+1,o=Qx.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Qy(Td(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return s=Tp(this,d),this.l=d+1,o=Qx.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Qy(Tp(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return a=Tp(this,this.l),this.l++,a;case 2:return a=(t==="i"?Wxe:Td)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?fh:Vxe)(this,this.l),this.l+=4,a):(n=rl(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=L2(this,this.l):n=L2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=_q(this,this.l,e);break}}return this.l+=e,r}var Kxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Gxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Yxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Xxe(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)Yxe(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var s=t.charCodeAt(n);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,Kxe(this,t,this.l);break;case 8:if(a=8,r==="f"){Hxe(this,t,this.l);break}case 16:break;case-4:a=4,Gxe(this,t,this.l);break}return this.l+=a,this}function Mq(e,t){var r=_q(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function vs(e,t){e.l=t,e.read_shift=Qx,e.chk=Mq,e.write_shift=Xxe}function Us(e,t){e.l+=t}function it(e){var t=xf(e);return vs(t,0),t}function s0(e,t,r){if(e){var a,n,i;vs(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=F1[o]||F1[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;c=e.l+i;var f=d.f&&d.f(e,i,r);if(e.l=c,t(f,d,o))return}}}function Lo(){var e=[],t=Hr?256:2048,r=function(d){var f=it(d);return vs(f,0),f},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=r(Math.max(d+1,t)))},s=function(){return n(),rs(e)},o=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function gt(e,t,r,a){var n=+t,i;if(!isNaN(n)){a||(a=F1[n].p||(r||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var s=e.next(i);n<=127?s.write_shift(1,n):(s.write_shift(1,(n&127)+128),s.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)s.write_shift(1,(a&127)+128),a>>=7;else{s.write_shift(1,a);break}a>0&&nA(r)&&e.push(r)}}function Jx(e,t,r){var a=fn(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function WD(e,t,r){var a=fn(e);return a.s=Jx(a.s,t.s,r),a.e=Jx(a.e,t.s,r),a}function Zx(e,t){if(e.cRel&&e.c<0)for(e=fn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=br(e);return!e.cRel&&e.cRel!=null&&(r=Zxe(r)),!e.rRel&&e.rRel!=null&&(r=Qxe(r)),r}function p_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Pn(e.s.c)+":"+(e.e.cRel?"":"$")+Pn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+oi(e.s.r)+":"+(e.e.rRel?"":"$")+oi(e.e.r):Zx(e.s,t.biff)+":"+Zx(e.e,t.biff)}function iA(e){return parseInt(Jxe(e),10)-1}function oi(e){return""+(e+1)}function Qxe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Jxe(e){return e.replace(/\$(\d+)$/,"$1")}function sA(e){for(var t=e1e(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Pn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Zxe(e){return e.replace(/^([A-Z])/,"$$$1")}function e1e(e){return e.replace(/^\$([A-Z])/,"$1")}function t1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Dn(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function br(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mo(e){var t=e.indexOf(":");return t==-1?{s:Dn(e),e:Dn(e)}:{s:Dn(e.slice(0,t)),e:Dn(e.slice(t+1))}}function Rr(e,t){return typeof t>"u"||typeof t=="number"?Rr(e.s,e.e):(typeof e!="string"&&(e=br(e)),typeof t!="string"&&(t=br(t)),e==t?e:e+":"+t)}function ha(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=e.length;for(r=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function VD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Xl(e.z,r?Bi(t):t)}catch{}try{return e.w=Xl((e.XF||{}).numFmtId||(r?14:0),r?Bi(t):t)}catch{return""+t}}function Gd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?o0[e.v]||e.v:t==null?VD(e,e.v):VD(e,t))}function Tf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function Rq(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),s=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")s=a.origin;else{var c=typeof a.origin=="string"?Dn(a.origin):a.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=ha(i["!ref"]);d.s.c=f.s.c,d.s.r=f.s.r,d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(d.e.r=s=f.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[m].length;++x)if(!(typeof t[m][x]>"u")){var p={v:t[m][x]},y=s+m,v=o+x;if(d.s.r>y&&(d.s.r=y),d.s.c>v&&(d.s.c=v),d.e.r<y&&(d.e.r=y),d.e.c<v&&(d.e.c=v),t[m][x]&&typeof t[m][x]=="object"&&!Array.isArray(t[m][x])&&!(t[m][x]instanceof Date))p=t[m][x];else if(Array.isArray(p.v)&&(p.f=t[m][x][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||yr[14],a.cellDates?(p.t="d",p.w=Xl(p.z,Bi(p.v))):(p.t="n",p.v=Bi(p.v),p.w=Xl(p.z,p.v))):p.t="s";if(n)i[y]||(i[y]=[]),i[y][v]&&i[y][v].z&&(p.z=i[y][v].z),i[y][v]=p;else{var b=br({c:v,r:y});i[b]&&i[b].z&&(p.z=i[b].z),i[b]=p}}}return d.s.c<1e7&&(i["!ref"]=Rr(d)),i}function Fg(e,t){return Rq(null,e,t)}function r1e(e){return e.read_shift(4,"i")}function Fc(e,t){return t||(t=it(4)),t.write_shift(4,e),t}function Bs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ns(e,t){var r=!1;return t==null&&(r=!0,t=it(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function a1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function n1e(e,t){return t||(t=it(4)),t.write_shift(2,0),t.write_shift(2,0),t}function oA(e,t){var r=e.l,a=e.read_shift(1),n=Bs(e),i=[],s={t:n,h:n};if((a&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(a1e(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function i1e(e,t){var r=!1;return t==null&&(r=!0,t=it(15+4*e.t.length)),t.write_shift(1,0),ns(e.t,t),r?t.slice(0,t.l):t}var s1e=oA;function o1e(e,t){var r=!1;return t==null&&(r=!0,t=it(23+4*e.t.length)),t.write_shift(1,1),ns(e.t,t),t.write_shift(4,1),n1e({},t),r?t.slice(0,t.l):t}function Zl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function mm(e,t){return t==null&&(t=it(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function pm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function gm(e,t){return t==null&&(t=it(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var l1e=Bs,Iq=ns;function lA(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function M2(e,t){var r=!1;return t==null&&(r=!0,t=it(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var c1e=Bs,FS=lA,cA=M2;function uA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?L2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):fh(t,0)>>2;return r?n/100:n}function Fq(e,t){t==null&&(t=it(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Bq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function u1e(e,t){return t||(t=it(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var xm=Bq,Bg=u1e;function Is(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function am(e,t){return(t||it(8)).write_shift(8,e,"f")}function d1e(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Mh[n];d&&(t.rgb=L1(d));break;case 2:t.rgb=L1([s,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function R2(e,t){if(t||(t=it(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function f1e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function h1e(e,t){t||(t=it(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Uq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function m1e(e){return Uq(e,1)}function p1e(e){return Uq(e,2)}var dA=2,Oo=3,Zy=11,KD=12,I2=19,eb=64,g1e=65,x1e=71,v1e=4108,y1e=4126,es=80,zq=81,b1e=[es,zq],BS={1:{n:"CodePage",t:dA},2:{n:"Category",t:es},3:{n:"PresentationFormat",t:es},4:{n:"ByteCount",t:Oo},5:{n:"LineCount",t:Oo},6:{n:"ParagraphCount",t:Oo},7:{n:"SlideCount",t:Oo},8:{n:"NoteCount",t:Oo},9:{n:"HiddenCount",t:Oo},10:{n:"MultimediaClipCount",t:Oo},11:{n:"ScaleCrop",t:Zy},12:{n:"HeadingPairs",t:v1e},13:{n:"TitlesOfParts",t:y1e},14:{n:"Manager",t:es},15:{n:"Company",t:es},16:{n:"LinksUpToDate",t:Zy},17:{n:"CharacterCount",t:Oo},19:{n:"SharedDoc",t:Zy},22:{n:"HyperlinksChanged",t:Zy},23:{n:"AppVersion",t:Oo,p:"version"},24:{n:"DigSig",t:g1e},26:{n:"ContentType",t:es},27:{n:"ContentStatus",t:es},28:{n:"Language",t:es},29:{n:"Version",t:es},255:{},2147483648:{n:"Locale",t:I2},2147483651:{n:"Behavior",t:I2},1919054434:{}},US={1:{n:"CodePage",t:dA},2:{n:"Title",t:es},3:{n:"Subject",t:es},4:{n:"Author",t:es},5:{n:"Keywords",t:es},6:{n:"Comments",t:es},7:{n:"Template",t:es},8:{n:"LastAuthor",t:es},9:{n:"RevNumber",t:es},10:{n:"EditTime",t:eb},11:{n:"LastPrinted",t:eb},12:{n:"CreatedDate",t:eb},13:{n:"ModifiedDate",t:eb},14:{n:"PageCount",t:Oo},15:{n:"WordCount",t:Oo},16:{n:"CharCount",t:Oo},17:{n:"Thumbnail",t:x1e},18:{n:"Application",t:es},19:{n:"DocSecurity",t:Oo},255:{},2147483648:{n:"Locale",t:I2},2147483651:{n:"Behavior",t:I2},1919054434:{}},GD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},w1e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function k1e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var _1e=k1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Mh=fn(_1e),o0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},zS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},tb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function fA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function S1e(e){var t=fA();if(!e||!e.match)return t;var r={};if((e.match(qs)||[]).forEach(function(a){var n=kr(a);switch(n[0].replace(Lxe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[zS[n.ContentType]]!==void 0&&t[zS[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Fi.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function $q(e,t){var r=Sxe(zS),a=[],n;a[a.length]=li,a[a.length]=_t("Types",null,{xmlns:Fi.CT,"xmlns:xsd":Fi.xsd,"xmlns:xsi":Fi.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return _t("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=_t("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:tb[c][t.bookType]||tb[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(d){a[a.length]=_t("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:tb[c][t.bookType]||tb[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=_t("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Kr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function D1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function e1(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(qs)||[]).forEach(function(n){var i=kr(n);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Hx(i.Target,t);r[o]=s,a[i.Id]=s}}),r["!id"]=a,r}function Up(e){var t=[li,_t("Relationships",null,{xmlns:Fi.RELS})];return Yn(e["!id"]).forEach(function(r){t[t.length]=_t("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Oa(e,t,r,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[Kr.HLINK,Kr.XPATH,Kr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var N1e="application/vnd.oasis.opendocument.spreadsheet";function j1e(e,t){for(var r=rA(e),a,n;a=P1.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=kr(a[0],!1),n.path=="/"&&n.type!==N1e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function A1e(e){var t=[li];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function YD(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function T1e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function E1e(e){var t=[li];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(YD(e[r][0],e[r][1])),t.push(T1e("",e[r][0]));return t.push(YD("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Hq(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+E2.version+"</meta:generator></office:meta></office:document-meta>"}var Vl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],C1e=(function(){for(var e=new Array(Vl.length),t=0;t<Vl.length;++t){var r=Vl[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e})();function Wq(e){var t={};e=Ha(e);for(var r=0;r<Vl.length;++r){var a=Vl[r],n=e.match(C1e[r]);n!=null&&n.length>0&&(t[a[1]]=fa(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=dn(t[a[1]]))}return t}function g_(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=La(t),a[a.length]=r?_t(e,t,r):ys(e,t))}function Vq(e,t){var r=t||{},a=[li,_t("cp:coreProperties",null,{"xmlns:cp":Fi.CORE_PROPS,"xmlns:dc":Fi.dc,"xmlns:dcterms":Fi.dcterms,"xmlns:dcmitype":Fi.dcmitype,"xmlns:xsi":Fi.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&g_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:IS(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&g_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:IS(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=Vl.length;++i){var s=Vl[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&g_(s[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Rh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Kq=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Gq(e,t,r,a){var n=[];if(typeof e=="string")n=BD(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(f){return{v:f}}));var s=typeof t=="string"?BD(t,a).map(function(f){return f.v}):t,o=0,c=0;if(s.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function O1e(e,t,r){var a={};return t||(t={}),e=Ha(e),Rh.forEach(function(n){var i=(e.match(C1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=fa(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(a[n[1]]=s[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&Gq(a.HeadingPairs,a.TitlesOfParts,t,r),t}function Yq(e){var t=[],r=_t;return e||(e={}),e.Application="SheetJS",t[t.length]=li,t[t.length]=_t("Properties",null,{xmlns:Fi.EXT_PROPS,"xmlns:vt":Fi.vt}),Rh.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=La(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+La(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var P1e=/<[^>]+>[^<]*/g;function D1e(e,t){var r={},a="",n=e.match(P1e);if(n)for(var i=0;i!=n.length;++i){var s=n[i],o=kr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":a=fa(o.name);break;case"</property>":a=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),d=c[0].slice(4),f=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=fa(f);break;case"bool":r[a]=ln(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(f);break;case"filetime":case"date":r[a]=dn(f);break;case"cy":case"error":r[a]=fa(f);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,d,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function Xq(e){var t=[li,_t("Properties",null,{xmlns:Fi.CUST_PROPS,"xmlns:vt":Fi.vt})];if(!e)return t.join("");var r=1;return Yn(e).forEach(function(n){++r,t[t.length]=_t("property",qxe(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:La(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var qS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},x_;function L1e(e,t,r){x_||(x_=Vw(qS)),t=x_[t]||t,e[t]=r}function M1e(e,t){var r=[];return Yn(qS).map(function(a){for(var n=0;n<Vl.length;++n)if(Vl[n][1]==a)return Vl[n];for(n=0;n<Rh.length;++n)if(Rh[n][1]==a)return Rh[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(ys(qS[a[1]]||a[1],n))}}),_t("DocumentProperties",r.join(""),{xmlns:tl.o})}function R1e(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&Yn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Vl.length;++s)if(i==Vl[s][1])return;for(s=0;s<Rh.length;++s)if(i==Rh[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(_t(MD(i),o,{"dt:dt":c}))}}),t&&Yn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),n.push(_t(MD(i),s,{"dt:dt":o}))}}),"<"+a+' xmlns="'+tl.o+'">'+n.join("")+"</"+a+">"}function hA(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function I1e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var s=it(8);return s.write_shift(4,a),s.write_shift(4,n),s}function Qq(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function Jq(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function Zq(e,t,r){return t===31?Jq(e):Qq(e,t,r)}function $S(e,t,r){return Zq(e,t,r===!1?0:4)}function F1e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Zq(e,t,0)}function B1e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(oo,""),e.l-n&2&&(e.l+=2)}return r}function U1e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(oo,"");return r}function z1e(e){var t=e.l,r=F2(e,zq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=F2(e,Oo);return[r,a]}function q1e(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(z1e(e));return r}function XD(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var i=e.read_shift(4),s=e.read_shift(4);a[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(oo,"").replace($x,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function e$(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function $1e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function F2(e,t,r){var a=e.read_shift(2),n,i=r||{};if(e.l+=2,t!==KD&&a!==t&&b1e.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===KD?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return Qq(e,a,4).replace(oo,"");case 31:return Jq(e);case 64:return hA(e);case 65:return e$(e);case 71:return $1e(e);case 80:return $S(e,a,!i.raw).replace(oo,"");case 81:return F1e(e,a).replace(oo,"");case 4108:return q1e(e);case 4126:case 4127:return a==4127?B1e(e):U1e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function QD(e,t){var r=it(4),a=it(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=it(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=I1e(t);break;case 31:case 80:for(a=it(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return rs([r,a])}function JD(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0,o=0,c=-1,d={};for(s=0;s!=n;++s){var f=e.read_shift(4),m=e.read_shift(4);i[s]=[f,m+r]}i.sort(function(N,_){return N[1]-_[1]});var x={};for(s=0;s!=n;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var y=t[i[s][0]];if(x[y.n]=F2(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Lc(o=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(i[s][0]===1){if(o=x.CodePage=F2(e,dA),Lc(o),c!==-1){var v=e.l;e.l=i[c][1],d=XD(e,o),e.l=v}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}d=XD(e,o)}else{var b=d[i[s][0]],k;switch(e[e.l]){case 65:e.l+=4,k=e$(e);break;case 30:e.l+=4,k=$S(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,k=$S(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,k=e.read_shift(4,"i");break;case 19:e.l+=4,k=e.read_shift(4);break;case 5:e.l+=4,k=e.read_shift(8,"f");break;case 11:e.l+=4,k=ti(e,4);break;case 64:e.l+=4,k=dn(hA(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[b]=k}}return e.l=r+a,x}var t$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function H1e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function ZD(e,t,r){var a=it(8),n=[],i=[],s=8,o=0,c=it(8),d=it(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),s+=8+c.length,!t){d=it(8),d.write_shift(4,0),n.unshift(d);var f=[it(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(c=it(8+2*(m.length+1)+(m.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,m.length+1),c.write_shift(0,m,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=rs(f),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(t$.indexOf(e[o][0])>-1||Kq.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],p=0;if(t){p=+t[e[o][0]];var y=r[p];if(y.p=="version"&&typeof x=="string"){var v=x.split(".");x=(+v[0]<<16)+(+v[1]||0)}c=QD(y.t,x)}else{var b=H1e(x);b==-1&&(b=31,x=String(x)),c=QD(b,x)}i.push(c),d=it(8),d.write_shift(4,t?p:2+o),n.push(d),s+=8+c.length}var k=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,k),k+=i[o].length;return a.write_shift(4,s),a.write_shift(4,i.length),rs([a].concat(n).concat(i))}function eL(e,t,r){var a=e.content;if(!a)return{};vs(a,0);var n,i,s,o,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),f=a.read_shift(16);if(f!==dr.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),o=a.read_shift(4),n===1&&o!==a.l)throw new Error("Length mismatch: "+o+" !== "+a.l);n===2&&(s=a.read_shift(16),c=a.read_shift(4));var m=JD(a,t),x={SystemIdentifier:d};for(var p in m)x[p]=m[p];if(x.FMTID=i,n===1)return x;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var y;try{y=JD(a,null)}catch{}for(p in y)x[p]=y[p];return x.FMTID=[i,s],x}function tL(e,t,r,a,n,i){var s=it(n?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,dr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,n?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,n?68:48);var c=ZD(e,r,a);if(o.push(c),n){var d=ZD(n,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(d)}return rs(o)}function $0(e,t){return e.read_shift(t),null}function W1e(e,t){t||(t=it(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function V1e(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function ti(e,t){return e.read_shift(t)===1}function ro(e,t){return t||(t=it(2)),t.write_shift(2,+!!e),t}function xi(e){return e.read_shift(2,"u")}function ql(e,t){return t||(t=it(2)),t.write_shift(2,e),t}function r$(e,t){return V1e(e,t,xi)}function K1e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function a$(e,t,r){return r||(r=it(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Sv(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var s=a?e.read_shift(a,n):"";return s}function G1e(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,n=r&8,i=1+(r&1),s=0,o,c={};n&&(s=e.read_shift(2)),a&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",f=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*s),a&&(e.l+=o),c.t=f,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Y1e(e){var t=e.t||"",r=it(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=it(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return rs(n)}function nm(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function Nv(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):nm(e,a,r)}function vm(e,t,r){if(r.biff>5)return Nv(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function n$(e,t,r){return r||(r=it(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function X1e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Q1e(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(oo,"");return a&&(e.l+=24),n}function J1e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(oo,"");return r+s}function Z1e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Q1e(e);case"0303000000000000c000000000000046":return J1e(e);default:throw new Error("Unsupported Moniker "+r)}}function rb(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(oo,""):"";return r}function rL(e,t){t||(t=it(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function eve(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,s,o,c,d="",f,m;n&16&&(i=rb(e,r-e.l)),n&128&&(s=rb(e,r-e.l)),(n&257)===257&&(o=rb(e,r-e.l)),(n&257)===1&&(c=Z1e(e,r-e.l)),n&8&&(d=rb(e,r-e.l)),n&32&&(f=e.read_shift(16)),n&64&&(m=hA(e)),e.l=r;var x=s||o||c||"";x&&d&&(x+="#"+d),x||(x="#"+d),n&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var p={Target:x};return f&&(p.guid=f),m&&(p.time=m),i&&(p.Tooltip=i),p}function tve(e){var t=it(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)a=a.slice(1),rL(a,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&rL(n>-1?a.slice(n+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function i$(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function s$(e,t){var r=i$(e);return r[3]=0,r}function Fu(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function im(e,t,r,a){return a||(a=it(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function rve(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function ave(e,t,r){return t===0?"":vm(e,t,r)}function nve(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),s=e.read_shift(a,"i");return[n,i,s]}function o$(e){var t=e.read_shift(2),r=uA(e);return[t,r]}function ive(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=Sv(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function Yw(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function l$(e,t){return t||(t=it(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function c$(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var sve=c$;function u$(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function ove(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function lve(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function js(e){e.l+=2,e.l+=e.read_shift(2)}var cve={0:js,4:js,5:js,6:js,7:lve,8:js,9:js,10:js,11:js,12:js,13:ove,14:js,15:js,16:js,17:js,18:js,19:js,20:js,21:u$};function uve(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(cve[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function ab(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function mA(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=it(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function dve(e,t){return t===0||e.read_shift(2),1200}function fve(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=vm(e,0,r);return e.read_shift(t+a-e.l),n}function hve(e,t){var r=!t||t.biff==8,a=it(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function mve(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function pve(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Sv(e,0,r);return s.length===0&&(s="Sheet1"),{pos:a,hs:n,dt:i,name:s}}function gve(e,t){var r=!t||t.biff>=8?2:1,a=it(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function xve(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0;s!=n&&e.l<r;++s)i.push(G1e(e));return i.Count=a,i.Unique=n,i}function vve(e,t){var r=it(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=Y1e(e[n]);var i=rs([r].concat(a));return i.parts=[r.length].concat(a.map(function(s){return s.length})),i}function yve(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function bve(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function wve(e){var t=rve(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function kve(e){return e.read_shift(2),e.read_shift(4)}function aL(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function _ve(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:d}}function Sve(){var e=it(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Nve(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function jve(e){var t=it(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Ave(){}function Tve(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=Sv(e,0,r),a}function Eve(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,i=it(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function Cve(e){var t=Fu(e);return t.isst=e.read_shift(4),t}function Ove(e,t,r,a){var n=it(10);return im(e,t,a,n),n.write_shift(4,r),n}function Pve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=Fu(e);r.biff==2&&e.l++;var i=Nv(e,a-e.l,r);return n.val=i,n}function Dve(e,t,r,a,n){var i=!n||n.biff==8,s=it(8+ +i+(1+i)*r.length);return im(e,t,a,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function Lve(e,t,r){var a=e.read_shift(2),n=vm(e,0,r);return[a,n]}function Mve(e,t,r,a){var n=r&&r.biff==5;a||(a=it(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var Rve=vm;function nL(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:o},e:{r:s,c}}}function Ive(e,t){var r=t.biff==8||!t.biff?4:2,a=it(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function Fve(e){var t=e.read_shift(2),r=e.read_shift(2),a=o$(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function Bve(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(o$(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:s,rkrec:i}}function Uve(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:s,ixfe:i}}function zve(e,t,r,a){var n={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=w1e[o>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=s&15,n.dgRight=s>>4&15,n.dgTop=s>>8&15,n.dgBottom=s>>12&15,n.icvLeft=s>>16&127,n.icvRight=s>>23&127,n.grbitDiag=s>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function qve(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=zve(e,t,a.fStyle,r),a}function iL(e,t,r,a){var n=r&&r.biff==5;a||(a=it(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function $ve(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Hve(e){var t=it(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function sL(e,t,r){var a=Fu(e);(r.biff==2||t==9)&&++e.l;var n=K1e(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function Wve(e,t,r,a,n,i){var s=it(8);return im(e,t,a,s),a$(r,i,s),s}function Vve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=Fu(e),n=Is(e);return a.val=n,a}function Kve(e,t,r,a){var n=it(14);return im(e,t,a,n),am(r,n),n}var oL=ave;function Gve(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=nm(e,i),o=[];a>e.l;)o.push(Nv(e));return[i,n,s,o]}function lL(e,t,r){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=ive(e,t-2,r)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var Yve=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function cL(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=nm(e,s,r);n&32&&(d=Yve[d.charCodeAt(0)]);var f=a-e.l;r&&r.biff==2&&--f;var m=a==e.l||o===0||!(f>0)?[]:u5e(e,f,r,o);return{chKey:i,Name:d,itab:c,rgce:m}}function d$(e,t,r){if(r.biff<8)return Xve(e,t,r);for(var a=[],n=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(nve(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function Xve(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=Sv(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function Qve(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=nm(e,a,r),s=nm(e,n,r);return[i,s]}function Jve(e,t,r){var a=c$(e);e.l++;var n=e.read_shift(1);return t-=8,[d5e(e,t,r),n,a]}function uL(e,t,r){var a=sve(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,l5e(e,t,r)]}function Zve(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function eye(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=vm(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},o,s,i]}}function tye(e,t,r){return eye(e,t,r)}function rye(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Yw(e));return r}function aye(e){var t=it(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)l$(e[r],t);return t}function nye(e,t,r){if(r&&r.biff<8)return sye(e,t,r);var a=u$(e),n=uve(e,t-22,a[1]);return{cmo:a,ft:n}}var iye={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function sye(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((iye[a]||Us)(e,t,r)),{cmo:[n,a,i],ft:s}}function oye(e,t,r){var a=e.l,n="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=X1e(e,6,r);var o=e.read_shift(2);e.read_shift(2),xi(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var f=e[e.l],m=nm(e,e.lens[d+1]-e.lens[d]-1);if(n+=m,n.length>=(f?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function lye(e,t){var r=Yw(e);e.l+=16;var a=eve(e,t-24);return[r,a]}function cye(e){var t=it(24),r=Dn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return rs([t,tve(e[1])])}function uye(e,t){e.read_shift(2);var r=Yw(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(oo,""),[r,a]}function dye(e){var t=e[1].Tooltip,r=it(10+2*(t.length+1));r.write_shift(2,2048);var a=Dn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function fye(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=GD[r]||r,r=e.read_shift(2),t[1]=GD[r]||r,t}function hye(e){return e||(e=it(4)),e.write_shift(2,1),e.write_shift(2,1),e}function mye(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(s$(e));return r}function pye(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(s$(e));return r}function gye(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function f$(e,t,r){if(!r.cellStyles)return Us(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function xye(e,t){var r=it(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function vye(e,t){var r={};return t<32||(e.l+=16,r.header=Is(e),r.footer=Is(e),e.l+=2),r}function yye(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function bye(e){for(var t=it(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var wye=Fu,kye=r$,_ye=Nv;function Sye(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function Nye(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=Fu(e);++e.l;var n=vm(e,t-7,r);return a.t="str",a.val=n,a}function jye(e){var t=Fu(e);++e.l;var r=Is(e);return t.t="n",t.val=r,t}function Aye(e,t,r){var a=it(15);return Ev(a,e,t),a.write_shift(8,r,"f"),a}function Tye(e){var t=Fu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Eye(e,t,r){var a=it(9);return Ev(a,e,t),a.write_shift(2,r),a}function Cye(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Oye(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Pye(e,t,r){var a=e.l+t,n=Fu(e),i=e.read_shift(2),s=nm(e,i,r);return e.l=a,n.t="str",n.val=s,n}var Dye=[2,3,48,49,131,139,140,245],HS=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Vw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var d=[],f=xf(1);switch(c.type){case"base64":f=sl(hl(o));break;case"binary":f=sl(o);break;case"buffer":case"array":f=o;break}vs(f,0);var m=f.read_shift(1),x=!!(m&136),p=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:p=!0,x=!0;break;case 49:p=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,b=521;m==2&&(v=f.read_shift(2)),f.l+=3,m!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(b=f.read_shift(2));var k=f.read_shift(2),N=c.codepage||1252;m!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(N=e[f[f.l]]),f.l+=1,f.l+=2),y&&(f.l+=36);for(var _=[],T={},L=Math.min(f.length,m==2?521:b-10-(p?264:0)),D=y?32:11;f.l<L&&f[f.l]!=13;)switch(T={},T.name=A1.utils.decode(N,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,T.type=String.fromCharCode(f.read_shift(1)),m!=2&&!y&&(T.offset=f.read_shift(4)),T.len=f.read_shift(1),m==2&&(T.offset=f.read_shift(2)),T.dec=f.read_shift(1),T.name.length&&_.push(T),m!=2&&(f.l+=y?13:14),T.type){case"B":(!p||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(f[f.l]!==13&&(f.l=b-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=b;var R=0,U=0;for(d[0]=[],U=0;U!=_.length;++U)d[0][U]=_[U].name;for(;v-- >0;){if(f[f.l]===42){f.l+=k;continue}for(++f.l,d[++R]=[],U=0,U=0;U!=_.length;++U){var F=f.slice(f.l,f.l+_[U].len);f.l+=_[U].len,vs(F,0);var W=A1.utils.decode(N,F);switch(_[U].type){case"C":W.trim().length&&(d[R][U]=W.replace(/\s+$/,""));break;case"D":W.length===8?d[R][U]=new Date(+W.slice(0,4),+W.slice(4,6)-1,+W.slice(6,8)):d[R][U]=W;break;case"F":d[R][U]=parseFloat(W.trim());break;case"+":case"I":d[R][U]=y?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(W.trim().toUpperCase()){case"Y":case"T":d[R][U]=!0;break;case"N":case"F":d[R][U]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+W+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[R][U]="##MEMO##"+(y?parseInt(W.trim(),10):F.read_shift(4));break;case"N":W=W.replace(/\u0000/g,"").trim(),W&&W!="."&&(d[R][U]=+W||0);break;case"@":d[R][U]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":d[R][U]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":d[R][U]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[R][U]=-F.read_shift(-8,"f");break;case"B":if(p&&_[U].len==8){d[R][U]=F.read_shift(8,"f");break}case"G":case"P":F.l+=_[U].len;break;case"0":if(_[U].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[U].type)}}}if(m!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=_,d}function a(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var f=Fg(r(o,d),d);return f["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,f}function n(o,c){try{return Tf(a(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var d=c||{};if(+d.codepage>=0&&Lc(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var f=Lo(),m=z2(o,{header:1,raw:!0,cellDates:!0}),x=m[0],p=m.slice(1),y=o["!cols"]||[],v=0,b=0,k=0,N=1;for(v=0;v<x.length;++v){if(((y[v]||{}).DBF||{}).name){x[v]=y[v].DBF.name,++k;continue}if(x[v]!=null){if(++k,typeof x[v]=="number"&&(x[v]=x[v].toString(10)),typeof x[v]!="string")throw new Error("DBF Invalid column name "+x[v]+" |"+typeof x[v]+"|");if(x.indexOf(x[v])!==v){for(b=0;b<1024;++b)if(x.indexOf(x[v]+"_"+b)==-1){x[v]+="_"+b;break}}}}var _=ha(o["!ref"]),T=[],L=[],D=[];for(v=0;v<=_.e.c-_.s.c;++v){var R="",U="",F=0,W=[];for(b=0;b<p.length;++b)p[b][v]!=null&&W.push(p[b][v]);if(W.length==0||x[v]==null){T[v]="?";continue}for(b=0;b<W.length;++b){switch(typeof W[b]){case"number":U="B";break;case"string":U="C";break;case"boolean":U="L";break;case"object":U=W[b]instanceof Date?"D":"C";break;default:U="C"}F=Math.max(F,String(W[b]).length),R=R&&R!=U?"C":U}F>250&&(F=250),U=((y[v]||{}).DBF||{}).type,U=="C"&&y[v].DBF.len>F&&(F=y[v].DBF.len),R=="B"&&U=="N"&&(R="N",D[v]=y[v].DBF.dec,F=y[v].DBF.len),L[v]=R=="C"||U=="N"?F:i[R]||0,N+=L[v],T[v]=R}var O=f.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*k),O.write_shift(2,N),v=0;v<4;++v)O.write_shift(4,0);for(O.write_shift(4,0|(+t[tq]||3)<<8),v=0,b=0;v<x.length;++v)if(x[v]!=null){var M=f.next(32),H=(x[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,H,"sbcs"),M.write_shift(1,T[v]=="?"?"C":T[v],"sbcs"),M.write_shift(4,b),M.write_shift(1,L[v]||i[T[v]]||0),M.write_shift(1,D[v]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),b+=L[v]||i[T[v]]||0}var Y=f.next(264);for(Y.write_shift(4,13),v=0;v<65;++v)Y.write_shift(4,0);for(v=0;v<p.length;++v){var ne=f.next(N);for(ne.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(T[b]){case"L":ne.write_shift(1,p[v][b]==null?63:p[v][b]?84:70);break;case"B":ne.write_shift(8,p[v][b]||0,"f");break;case"N":var X="0";for(typeof p[v][b]=="number"&&(X=p[v][b].toFixed(D[b]||0)),k=0;k<L[b]-X.length;++k)ne.write_shift(1,32);ne.write_shift(1,X,"sbcs");break;case"D":p[v][b]?(ne.write_shift(4,("0000"+p[v][b].getFullYear()).slice(-4),"sbcs"),ne.write_shift(2,("00"+(p[v][b].getMonth()+1)).slice(-2),"sbcs"),ne.write_shift(2,("00"+p[v][b].getDate()).slice(-2),"sbcs")):ne.write_shift(8,"00000000","sbcs");break;case"C":var re=String(p[v][b]!=null?p[v][b]:"").slice(0,L[b]);for(ne.write_shift(1,re,"sbcs"),k=0;k<L[b]-re.length;++k)ne.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:n,to_sheet:a,from_sheet:s}})(),h$=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Yn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,p){var y=e[p];return typeof y=="number"?wD(y):y},a=function(x,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?x:wD(v)};e["|"]=254;function n(x,p){switch(p.type){case"base64":return i(hl(x),p);case"binary":return i(x,p);case"buffer":return i(Hr&&Buffer.isBuffer(x)?x.toString("binary"):Af(x),p);case"array":return i(rm(x),p)}throw new Error("Unrecognized type "+p.type)}function i(x,p){var y=x.split(/[\n\r]+/),v=-1,b=-1,k=0,N=0,_=[],T=[],L=null,D={},R=[],U=[],F=[],W=0,O;for(+p.codepage>=0&&Lc(+p.codepage);k!==y.length;++k){W=0;var M=y[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),H=M.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),Y=H[0],ne;if(M.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&T.push(M.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,re=!1,fe=!1,ce=!1,ke=-1,Z=-1;for(N=1;N<H.length;++N)switch(H[N].charAt(0)){case"A":break;case"X":b=parseInt(H[N].slice(1))-1,re=!0;break;case"Y":for(v=parseInt(H[N].slice(1))-1,re||(b=0),O=_.length;O<=v;++O)_[O]=[];break;case"K":ne=H[N].slice(1),ne.charAt(0)==='"'?ne=ne.slice(1,ne.length-1):ne==="TRUE"?ne=!0:ne==="FALSE"?ne=!1:isNaN(Ic(ne))?isNaN(mg(ne).getDate())||(ne=dn(ne)):(ne=Ic(ne),L!==null&&Rg(L)&&(ne=Gw(ne))),X=!0;break;case"E":ce=!0;var P=zp(H[N].slice(1),{r:v,c:b});_[v][b]=[_[v][b],P];break;case"S":fe=!0,_[v][b]=[_[v][b],"S5S"];break;case"G":break;case"R":ke=parseInt(H[N].slice(1))-1;break;case"C":Z=parseInt(H[N].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}if(X&&(_[v][b]&&_[v][b].length==2?_[v][b][0]=ne:_[v][b]=ne,L=null),fe){if(ce)throw new Error("SYLK shared formula cannot have own formula");var q=ke>-1&&_[ke][Z];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");_[v][b][1]=O$(q[1],{r:v-ke,c:b-Z})}break;case"F":var V=0;for(N=1;N<H.length;++N)switch(H[N].charAt(0)){case"X":b=parseInt(H[N].slice(1))-1,++V;break;case"Y":for(v=parseInt(H[N].slice(1))-1,O=_.length;O<=v;++O)_[O]=[];break;case"M":W=parseInt(H[N].slice(1))/20;break;case"F":break;case"G":break;case"P":L=T[parseInt(H[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=H[N].slice(1).split(" "),O=parseInt(F[0],10);O<=parseInt(F[1],10);++O)W=parseInt(F[2],10),U[O-1]=W===0?{hidden:!0}:{wch:W},vf(U[O-1]);break;case"C":b=parseInt(H[N].slice(1))-1,U[b]||(U[b]={});break;case"R":v=parseInt(H[N].slice(1))-1,R[v]||(R[v]={}),W>0?(R[v].hpt=W,R[v].hpx=gg(W)):W===0&&(R[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}V<1&&(L=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+M)}}return R.length>0&&(D["!rows"]=R),U.length>0&&(D["!cols"]=U),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,D]}function s(x,p){var y=n(x,p),v=y[0],b=y[1],k=Fg(v,p);return Yn(b).forEach(function(N){k[N]=b[N]}),k}function o(x,p){return Tf(s(x,p),p)}function c(x,p,y,v){var b="C;Y"+(y+1)+";X"+(v+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+bA(x.f,{r:y,c:v}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(x,p){p.forEach(function(y,v){var b="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=M1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=R1(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function f(x,p){p.forEach(function(y,v){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*I1(y.hpx)+";"),b.length>2&&x.push(b+"R"+(v+1))})}function m(x,p){var y=["ID;PWXL;N;E"],v=[],b=ha(x["!ref"]),k,N=Array.isArray(x),_=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&d(y,x["!cols"]),x["!rows"]&&f(y,x["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var T=b.s.r;T<=b.e.r;++T)for(var L=b.s.c;L<=b.e.c;++L){var D=br({r:T,c:L});k=N?(x[T]||[])[L]:x[D],!(!k||k.v==null&&(!k.f||k.F))&&v.push(c(k,x,T,L))}return y.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:m}})(),m$=(function(){function e(i,s){switch(s.type){case"base64":return t(hl(i),s);case"binary":return t(i,s);case"buffer":return t(Hr&&Buffer.isBuffer(i)?i.toString("binary"):Af(i),s);case"array":return t(rm(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,d=-1,f=0,m=[];f!==o.length;++f){if(o[f].trim()==="BOT"){m[++c]=[],d=0;continue}if(!(c<0)){var x=o[f].trim().split(","),p=x[0],y=x[1];++f;for(var v=o[f]||"";(v.match(/["]/g)||[]).length&1&&f<o.length-1;)v+=`
`+o[++f];switch(v=v.trim(),+p){case-1:if(v==="BOT"){m[++c]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[c][d]=!0:v==="FALSE"?m[c][d]=!1:isNaN(Ic(y))?isNaN(mg(y).getDate())?m[c][d]=y:m[c][d]=dn(y):m[c][d]=Ic(y),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[c][d++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(m=m.slice(0,s.sheetRows)),m}function r(i,s){return Fg(e(i,s),s)}function a(i,s){return Tf(r(i,s),s)}var n=(function(){var i=function(c,d,f,m,x){c.push(d),c.push(f+","+m),c.push('"'+x.replace(/"/g,'""')+'"')},s=function(c,d,f,m){c.push(d+","+f),c.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var d=[],f=ha(c["!ref"]),m,x=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,f.e.r-f.s.r+1,""),i(d,"TUPLES",0,f.e.c-f.s.c+1,""),i(d,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){s(d,-1,0,"BOT");for(var y=f.s.c;y<=f.e.c;++y){var v=br({r:p,c:y});if(m=x?(c[p]||[])[y]:c[v],!m){s(d,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?s(d,1,0,"="+m.f):s(d,1,0,""):s(d,0,b,"V");break;case"b":s(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":s(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Xl(m.z||yr[14],Bi(dn(m.v)))),s(d,0,m.w,"V");break;default:s(d,1,0,"")}}}s(d,-1,0,"EOD");var k=`\r
`,N=d.join(k);return N}})();return{to_workbook:a,to_sheet:r,from_sheet:n}})(),p$=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,x){for(var p=m.split(`
`),y=-1,v=-1,b=0,k=[];b!==p.length;++b){var N=p[b].trim().split(":");if(N[0]==="cell"){var _=Dn(N[1]);if(k.length<=_.r)for(y=k.length;y<=_.r;++y)k[y]||(k[y]=[]);switch(y=_.r,v=_.c,N[2]){case"t":k[y][v]=e(N[3]);break;case"v":k[y][v]=+N[3];break;case"vtf":var T=N[N.length-1];case"vtc":switch(N[3]){case"nl":k[y][v]=!!+N[4];break;default:k[y][v]=+N[4];break}N[2]=="vtf"&&(k[y][v]=[k[y][v],T])}}}return x&&x.sheetRows&&(k=k.slice(0,x.sheetRows)),k}function a(m,x){return Fg(r(m,x),x)}function n(m,x){return Tf(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var x=[],p=[],y,v="",b=Mo(m["!ref"]),k=Array.isArray(m),N=b.s.r;N<=b.e.r;++N)for(var _=b.s.c;_<=b.e.c;++_)if(v=br({r:N,c:_}),y=k?(m[N]||[])[_]:m[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var T=Bi(dn(y.v));p[2]="vtc",p[3]="nd",p[4]=""+T,p[5]=y.w||Xl(y.z||yr[14],T);break;case"e":continue}x.push(p.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function f(m){return[i,s,o,s,d(m),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:f}})(),pg=(function(){function e(f,m,x,p,y){y.raw?m[x][p]=f:f===""||(f==="TRUE"?m[x][p]=!0:f==="FALSE"?m[x][p]=!1:isNaN(Ic(f))?isNaN(mg(f).getDate())?m[x][p]=f:m[x][p]=dn(f):m[x][p]=Ic(f))}function t(f,m){var x=m||{},p=[];if(!f||f.length===0)return p;for(var y=f.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var b=10,k=0,N=0;N<=v;++N)k=y[N].indexOf(" "),k==-1?k=y[N].length:k++,b=Math.max(b,k);for(N=0;N<=v;++N){p[N]=[];var _=0;for(e(y[N].slice(0,b).trim(),p,N,_,x),_=1;_<=(y[N].length-b)/10+1;++_)e(y[N].slice(b+(_-1)*10,b+_*10).trim(),p,N,_,x)}return x.sheetRows&&(p=p.slice(0,x.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(f){for(var m={},x=!1,p=0,y=0;p<f.length;++p)(y=f.charCodeAt(p))==34?x=!x:!x&&y in r&&(m[y]=(m[y]||0)+1);y=[];for(p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.push([m[p],p]);if(!y.length){m=a;for(p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.push([m[p],p])}return y.sort(function(v,b){return v[0]-b[0]||a[v[1]]-a[b[1]]}),r[y.pop()[1]]||44}function i(f,m){var x=m||{},p="",y=x.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=n(f.slice(0,1024)):x&&x.FS?p=x.FS:p=n(f.slice(0,1024));var b=0,k=0,N=0,_=0,T=0,L=p.charCodeAt(0),D=!1,R=0,U=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var F=x.dateNF!=null?yxe(x.dateNF):null;function W(){var O=f.slice(_,T),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(x.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):G2e(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(N=Ic(O)))M.t="n",x.cellText!==!1&&(M.w=O),M.v=N;else if(!isNaN(mg(O).getDate())||F&&O.match(F)){M.z=x.dateNF||yr[14];var H=0;F&&O.match(F)&&(O=bxe(O,x.dateNF,O.match(F)||[]),H=1),x.cellDates?(M.t="d",M.v=dn(O,H)):(M.t="n",M.v=Bi(dn(O,H))),x.cellText!==!1&&(M.w=Xl(M.z,M.v instanceof Date?Bi(M.v):M.v)),x.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(x.dense?(y[b]||(y[b]=[]),y[b][k]=M):y[br({c:k,r:b})]=M),_=T+1,U=f.charCodeAt(_),v.e.c<k&&(v.e.c=k),v.e.r<b&&(v.e.r=b),R==L)++k;else if(k=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;T<f.length;++T)switch(R=f.charCodeAt(T)){case 34:U===34&&(D=!D);break;case L:case 10:case 13:if(!D&&W())break e;break}return T-_>0&&W(),y["!ref"]=Rr(v),y}function s(f,m){return!(m&&m.PRN)||m.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,m):Fg(t(f,m),m)}function o(f,m){var x="",p=m.type=="string"?[0,0,0,0]:TA(f,m);switch(m.type){case"base64":x=hl(f);break;case"binary":x=f;break;case"buffer":m.codepage==65001?x=f.toString("utf8"):m.codepage&&typeof A1<"u"||(x=Hr&&Buffer.isBuffer(f)?f.toString("binary"):Af(f));break;case"array":x=rm(f);break;case"string":x=f;break;default:throw new Error("Unrecognized type "+m.type)}return p[0]==239&&p[1]==187&&p[2]==191?x=Ha(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Ha(x):m.type=="binary"&&typeof A1<"u",x.slice(0,19)=="socialcalc:version:"?p$.to_sheet(m.type=="string"?x:Ha(x),m):s(x,m)}function c(f,m){return Tf(o(f,m),m)}function d(f){for(var m=[],x=ha(f["!ref"]),p,y=Array.isArray(f),v=x.s.r;v<=x.e.r;++v){for(var b=[],k=x.s.c;k<=x.e.c;++k){var N=br({r:v,c:k});if(p=y?(f[v]||[])[k]:f[N],!p||p.v==null){b.push("          ");continue}for(var _=(p.w||(Gd(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";b.push(_+(k===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function Lye(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=h$.to_workbook(e,r);return r.WTF=a,n}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return pg.to_workbook(e,t)}}var Ih=(function(){function e(P,q,V){if(P){vs(P,P.l||0);for(var z=V.Enum||ke;P.l<P.length;){var Q=P.read_shift(2),de=z[Q]||z[65535],Ee=P.read_shift(2),ie=P.l+Ee,je=de.f&&de.f(P,Ee,V);if(P.l=ie,q(je,de,Q))return}}}function t(P,q){switch(q.type){case"base64":return r(sl(hl(P)),q);case"binary":return r(sl(P),q);case"buffer":case"array":return r(P,q)}throw"Unsupported type "+q.type}function r(P,q){if(!P)return P;var V=q||{},z=V.dense?[]:{},Q="Sheet1",de="",Ee=0,ie={},je=[],Me=[],J={s:{r:0,c:0},e:{r:0,c:0}},ge=V.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)V.Enum=ke,e(P,function(ve,Ge,$e){switch($e){case 0:V.vers=ve,ve>=4096&&(V.qpro=!0);break;case 6:J=ve;break;case 204:ve&&(de=ve);break;case 222:de=ve;break;case 15:case 51:V.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:$e==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=V.dateNF||yr[14],V.cellDates&&(ve[1].t="d",ve[1].v=Gw(ve[1].v))),V.qpro&&ve[3]>Ee&&(z["!ref"]=Rr(J),ie[Q]=z,je.push(Q),z=V.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},Ee=ve[3],Q=de||"Sheet"+(Ee+1),de="");var ft=V.dense?(z[ve[0].r]||[])[ve[0].c]:z[br(ve[0])];if(ft){ft.t=ve[1].t,ft.v=ve[1].v,ve[1].z!=null&&(ft.z=ve[1].z),ve[1].f!=null&&(ft.f=ve[1].f);break}V.dense?(z[ve[0].r]||(z[ve[0].r]=[]),z[ve[0].r][ve[0].c]=ve[1]):z[br(ve[0])]=ve[1];break}},V);else if(P[2]==26||P[2]==14)V.Enum=Z,P[2]==14&&(V.qpro=!0,P.l=0),e(P,function(ve,Ge,$e){switch($e){case 204:Q=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>Ee&&(z["!ref"]=Rr(J),ie[Q]=z,je.push(Q),z=V.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},Ee=ve[3],Q="Sheet"+(Ee+1)),ge>0&&ve[0].r>=ge)break;V.dense?(z[ve[0].r]||(z[ve[0].r]=[]),z[ve[0].r][ve[0].c]=ve[1]):z[br(ve[0])]=ve[1],J.e.c<ve[0].c&&(J.e.c=ve[0].c),J.e.r<ve[0].r&&(J.e.r=ve[0].r);break;case 27:ve[14e3]&&(Me[ve[14e3][0]]=ve[14e3][1]);break;case 1537:Me[ve[0]]=ve[1],ve[0]==Ee&&(Q=ve[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(z["!ref"]=Rr(J),ie[de||Q]=z,je.push(de||Q),!Me.length)return{SheetNames:je,Sheets:ie};for(var be={},oe=[],Ue=0;Ue<Me.length;++Ue)ie[je[Ue]]?(oe.push(Me[Ue]||je[Ue]),be[Me[Ue]]=ie[Me[Ue]]||ie[je[Ue]]):(oe.push(Me[Ue]),be[Me[Ue]]={"!ref":"A1"});return{SheetNames:oe,Sheets:be}}function a(P,q){var V=q||{};if(+V.codepage>=0&&Lc(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Lo(),Q=ha(P["!ref"]),de=Array.isArray(P),Ee=[];jt(z,0,i(1030)),jt(z,6,c(Q));for(var ie=Math.min(Q.e.r,8191),je=Q.s.r;je<=ie;++je)for(var Me=oi(je),J=Q.s.c;J<=Q.e.c;++J){je===Q.s.r&&(Ee[J]=Pn(J));var ge=Ee[J]+Me,be=de?(P[je]||[])[J]:P[ge];if(!(!be||be.t=="z"))if(be.t=="n")(be.v|0)==be.v&&be.v>=-32768&&be.v<=32767?jt(z,13,p(je,J,be.v)):jt(z,14,v(je,J,be.v));else{var oe=Gd(be);jt(z,15,m(je,J,oe.slice(0,239)))}}return jt(z,1),z.end()}function n(P,q){var V=q||{};if(+V.codepage>=0&&Lc(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Lo();jt(z,0,s(P));for(var Q=0,de=0;Q<P.SheetNames.length;++Q)(P.Sheets[P.SheetNames[Q]]||{})["!ref"]&&jt(z,27,ce(P.SheetNames[Q],de++));var Ee=0;for(Q=0;Q<P.SheetNames.length;++Q){var ie=P.Sheets[P.SheetNames[Q]];if(!(!ie||!ie["!ref"])){for(var je=ha(ie["!ref"]),Me=Array.isArray(ie),J=[],ge=Math.min(je.e.r,8191),be=je.s.r;be<=ge;++be)for(var oe=oi(be),Ue=je.s.c;Ue<=je.e.c;++Ue){be===je.s.r&&(J[Ue]=Pn(Ue));var ve=J[Ue]+oe,Ge=Me?(ie[be]||[])[Ue]:ie[ve];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")jt(z,23,W(be,Ue,Ee,Ge.v));else{var $e=Gd(Ge);jt(z,22,R(be,Ue,Ee,$e.slice(0,239)))}}++Ee}}return jt(z,1),z.end()}function i(P){var q=it(2);return q.write_shift(2,P),q}function s(P){var q=it(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var V=0,z=0,Q=0,de=0;de<P.SheetNames.length;++de){var Ee=P.SheetNames[de],ie=P.Sheets[Ee];if(!(!ie||!ie["!ref"])){++Q;var je=Mo(ie["!ref"]);V<je.e.r&&(V=je.e.r),z<je.e.c&&(z=je.e.c)}}return V>8191&&(V=8191),q.write_shift(2,V),q.write_shift(1,Q),q.write_shift(1,z),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(P,q,V){var z={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&V.qpro?(z.s.c=P.read_shift(1),P.l++,z.s.r=P.read_shift(2),z.e.c=P.read_shift(1),P.l++,z.e.r=P.read_shift(2),z):(z.s.c=P.read_shift(2),z.s.r=P.read_shift(2),q==12&&V.qpro&&(P.l+=2),z.e.c=P.read_shift(2),z.e.r=P.read_shift(2),q==12&&V.qpro&&(P.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(P){var q=it(8);return q.write_shift(2,P.s.c),q.write_shift(2,P.s.r),q.write_shift(2,P.e.c),q.write_shift(2,P.e.r),q}function d(P,q,V){var z=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(z[0].c=P.read_shift(1),z[3]=P.read_shift(1),z[0].r=P.read_shift(2),P.l+=2):(z[2]=P.read_shift(1),z[0].c=P.read_shift(2),z[0].r=P.read_shift(2)),z}function f(P,q,V){var z=P.l+q,Q=d(P,q,V);if(Q[1].t="s",V.vers==20768){P.l++;var de=P.read_shift(1);return Q[1].v=P.read_shift(de,"utf8"),Q}return V.qpro&&P.l++,Q[1].v=P.read_shift(z-P.l,"cstr"),Q}function m(P,q,V){var z=it(7+V.length);z.write_shift(1,255),z.write_shift(2,q),z.write_shift(2,P),z.write_shift(1,39);for(var Q=0;Q<z.length;++Q){var de=V.charCodeAt(Q);z.write_shift(1,de>=128?95:de)}return z.write_shift(1,0),z}function x(P,q,V){var z=d(P,q,V);return z[1].v=P.read_shift(2,"i"),z}function p(P,q,V){var z=it(7);return z.write_shift(1,255),z.write_shift(2,q),z.write_shift(2,P),z.write_shift(2,V,"i"),z}function y(P,q,V){var z=d(P,q,V);return z[1].v=P.read_shift(8,"f"),z}function v(P,q,V){var z=it(13);return z.write_shift(1,255),z.write_shift(2,q),z.write_shift(2,P),z.write_shift(8,V,"f"),z}function b(P,q,V){var z=P.l+q,Q=d(P,q,V);if(Q[1].v=P.read_shift(8,"f"),V.qpro)P.l=z;else{var de=P.read_shift(2);T(P.slice(P.l,P.l+de),Q),P.l+=de}return Q}function k(P,q,V){var z=q&32768;return q&=-32769,q=(z?P:0)+(q>=8192?q-16384:q),(z?"":"$")+(V?Pn(q):oi(q))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(P,q){vs(P,0);for(var V=[],z=0,Q="",de="",Ee="",ie="";P.l<P.length;){var je=P[P.l++];switch(je){case 0:V.push(P.read_shift(8,"f"));break;case 1:de=k(q[0].c,P.read_shift(2),!0),Q=k(q[0].r,P.read_shift(2),!1),V.push(de+Q);break;case 2:{var Me=k(q[0].c,P.read_shift(2),!0),J=k(q[0].r,P.read_shift(2),!1);de=k(q[0].c,P.read_shift(2),!0),Q=k(q[0].r,P.read_shift(2),!1),V.push(Me+J+":"+de+Q)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(P.read_shift(2));break;case 6:{for(var ge="";je=P[P.l++];)ge+=String.fromCharCode(je);V.push('"'+ge.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ie=V.pop(),Ee=V.pop(),V.push(["AND","OR"][je-20]+"("+Ee+","+ie+")");break;default:if(je<32&&_[je])ie=V.pop(),Ee=V.pop(),V.push(Ee+_[je]+ie);else if(N[je]){if(z=N[je][1],z==69&&(z=P[P.l++]),z>V.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+V.join("|")+"|");return}var be=V.slice(-z);V.length-=z,V.push(N[je][0]+"("+be.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}V.length==1?q[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function L(P){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=P.read_shift(2),q[3]=P[P.l++],q[0].c=P[P.l++],q}function D(P,q){var V=L(P);return V[1].t="s",V[1].v=P.read_shift(q-4,"cstr"),V}function R(P,q,V,z){var Q=it(6+z.length);Q.write_shift(2,P),Q.write_shift(1,V),Q.write_shift(1,q),Q.write_shift(1,39);for(var de=0;de<z.length;++de){var Ee=z.charCodeAt(de);Q.write_shift(1,Ee>=128?95:Ee)}return Q.write_shift(1,0),Q}function U(P,q){var V=L(P);V[1].v=P.read_shift(2);var z=V[1].v>>1;if(V[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return V[1].v=z,V}function F(P,q){var V=L(P),z=P.read_shift(4),Q=P.read_shift(4),de=P.read_shift(2);if(de==65535)return z===0&&Q===3221225472?(V[1].t="e",V[1].v=15):z===0&&Q===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Ee=de&32768;return de=(de&32767)-16446,V[1].v=(1-Ee*2)*(Q*Math.pow(2,de+32)+z*Math.pow(2,de)),V}function W(P,q,V,z){var Q=it(14);if(Q.write_shift(2,P),Q.write_shift(1,V),Q.write_shift(1,q),z==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var de=0,Ee=0,ie=0,je=0;return z<0&&(de=1,z=-z),Ee=Math.log2(z)|0,z/=Math.pow(2,Ee-31),je=z>>>0,(je&2147483648)==0&&(z/=2,++Ee,je=z>>>0),z-=je,je|=2147483648,je>>>=0,z*=Math.pow(2,32),ie=z>>>0,Q.write_shift(4,ie),Q.write_shift(4,je),Ee+=16383+(de?32768:0),Q.write_shift(2,Ee),Q}function O(P,q){var V=F(P);return P.l+=q-14,V}function M(P,q){var V=L(P),z=P.read_shift(4);return V[1].v=z>>6,V}function H(P,q){var V=L(P),z=P.read_shift(8,"f");return V[1].v=z,V}function Y(P,q){var V=H(P);return P.l+=q-10,V}function ne(P,q){return P[P.l+q-1]==0?P.read_shift(q,"cstr"):""}function X(P,q){var V=P[P.l++];V>q-1&&(V=q-1);for(var z="";z.length<V;)z+=String.fromCharCode(P[P.l++]);return z}function re(P,q,V){if(!(!V.qpro||q<21)){var z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var Q=P.read_shift(q-21,"cstr");return[z,Q]}}function fe(P,q){for(var V={},z=P.l+q;P.l<z;){var Q=P.read_shift(2);if(Q==14e3){for(V[Q]=[0,""],V[Q][0]=P.read_shift(2);P[P.l];)V[Q][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return V}function ce(P,q){var V=it(5+P.length);V.write_shift(2,14e3),V.write_shift(2,q);for(var z=0;z<P.length;++z){var Q=P.charCodeAt(z);V[V.l++]=Q>127?95:Q}return V[V.l++]=0,V}var ke={0:{n:"BOF",f:xi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ne},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:U},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ne},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}})();function Mye(e){var t={},r=e.match(qs),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=kr(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Wj[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var Rye=(function(){var e=C1("t"),t=C1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:fa(s[1])},c=i.match(t);return c&&(o.s=Mye(c[1])),o}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(s){return s.replace(a,"").split(n).map(r).filter(function(o){return o.v})}})(),Iye=(function(){var t=/(\r\n|\n)/g;function r(n,i,s){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),s.push("</b>")),n.i&&(i.push("<i>"),s.push("</i>")),n.strike&&(i.push("<s>"),s.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&r(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}})(),Fye=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Bye=/<(?:\w+:)?r>/,Uye=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function pA(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=fa(Ha(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Ha(e),r&&(a.h=tA(a.t))):e.match(Bye)&&(a.r=Ha(e),a.t=fa(Ha((e.replace(Uye,"").match(Fye)||[]).join("").replace(qs,""))),r&&(a.h=Iye(Rye(a.r)))),a):{t:""}}var zye=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,qye=/<(?:\w+:)?(?:si|sstItem)>/g,$ye=/<\/(?:\w+:)?(?:si|sstItem)>/;function Hye(e,t){var r=[],a="";if(!e)return r;var n=e.match(zye);if(n){a=n[2].replace(qye,"").split($ye);for(var i=0;i!=a.length;++i){var s=pA(a[i].trim(),t);s!=null&&(r[r.length]=s)}n=kr(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var Wye=/^\s|\s$|[\t\n\r]/;function g$(e,t){if(!t.bookSST)return"";var r=[li];r[r.length]=_t("sst",null,{xmlns:hm[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(Wye)&&(i+=' xml:space="preserve"'),i+=">"+La(n.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Vye(e){return[e.read_shift(4),e.read_shift(4)]}function Kye(e,t){var r=[],a=!1;return s0(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(s.T,!a||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Gye(e,t){return t||(t=it(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Yye=i1e;function Xye(e){var t=Lo();gt(t,159,Gye(e));for(var r=0;r<e.length;++r)gt(t,19,Yye(e[r]));return gt(t,160),t.end()}function x$(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function Fd(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Qye(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Fd(e,4),t.U=Fd(e,4),t.W=Fd(e,4),t}function Jye(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function Zye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Jye(e));return t}function ebe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function tbe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Fd(e,4),t.U=Fd(e,4),t.W=Fd(e,4),t}function rbe(e){var t=tbe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function v$(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function y$(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function abe(e){var t=Fd(e);switch(t.Minor){case 2:return[t.Minor,nbe(e)];case 3:return[t.Minor,ibe()];case 4:return[t.Minor,sbe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function nbe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=v$(e,r),n=y$(e,e.length-e.l);return{t:"Std",h:a,v:n}}function ibe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function sbe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(qs,function(i){var s=kr(i);switch(Iu(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){a[o]=s[o]});break;case"<dataIntegrity":a.encryptedHmacKey=s.encryptedHmacKey,a.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(s);break;default:throw s[0]}}),a}function obe(e,t){var r={},a=r.EncryptionVersionInfo=Fd(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=v$(e,n),t-=n,r.EncryptionVerifier=y$(e,t),r}function lbe(e){var t={},r=t.EncryptionVersionInfo=Fd(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function gA(e){var t=0,r,a=x$(e),n=a.length+1,i,s,o,c,d;for(r=xf(n),r[0]=a.length,i=1;i!=n;++i)r[i]=a[i-1];for(i=n-1;i>=0;--i)s=r[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^s;return t^52811}var b$=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(s){return(s/2|s*128)&255},n=function(s,o){return a(s^o)},i=function(s){for(var o=t[s.length-1],c=104,d=s.length-1;d>=0;--d)for(var f=s[d],m=0;m!=7;++m)f&64&&(o^=r[c]),f*=2,--c;return o};return function(s){for(var o=x$(s),c=i(o),d=o.length,f=xf(16),m=0;m!=16;++m)f[m]=0;var x,p,y;for((d&1)===1&&(x=c>>8,f[d]=n(e[0],x),--d,x=c&255,p=o[o.length-1],f[d]=n(p,x));d>0;)--d,x=c>>8,f[d]=n(o[d],x),--d,x=c&255,f[d]=n(o[d],x);for(d=15,y=15-o.length;y>0;)x=c>>8,f[d]=n(e[y],x),--d,--y,x=c&255,f[d]=n(o[d],x),--d,--y;return f}})(),cbe=function(e,t,r,a,n){n||(n=t),a||(a=b$(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=a[r],s=(s>>5|s<<3)&255,n[i]=s,++r;return[n,r,a]},ube=function(e){var t=0,r=b$(e);return function(a){var n=cbe("",a,t,r);return t=n[1],n[0]}};function dbe(e,t,r,a){var n={key:xi(e),verificationBytes:xi(e)};return r.password&&(n.verifier=gA(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=ube(r.password)),n}function fbe(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=lbe(e):a.Data=obe(e,t),a}function hbe(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?fbe(e,t-2,a):dbe(e,r.biff>=8?t:t-2,r,a),a}var w$=(function(){function e(n,i){switch(i.type){case"base64":return t(hl(n),i);case"binary":return t(n,i);case"buffer":return t(Hr&&Buffer.isBuffer(n)?n.toString("binary"):Af(n),i);case"array":return t(rm(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var s=i||{},o=s.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,p=0,y,v=-1;y=x.exec(f);){switch(y[0]){case"\\cell":var b=f.slice(p,x.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++v,b.length){var k={v:b,t:"s"};Array.isArray(o)?o[m][v]=k:o[br({r:m,c:v})]=k}break}p=x.lastIndex}v>d.e.c&&(d.e.c=v)}),o["!ref"]=Rr(d),o}function r(n,i){return Tf(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],s=ha(n["!ref"]),o,c=Array.isArray(n),d=s.s.r;d<=s.e.r;++d){i.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var m=br({r:d,c:f});o=c?(n[d]||[])[f]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Gd(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function mbe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function L1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function pbe(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),i=Math.min(t,r,a),s=n-i;if(s===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=s/(d>1?2-d:d),n){case t:o=((r-a)/s+6)%6;break;case r:o=(a-t)/s+2;break;case a:o=(t-r)/s+4;break}return[o/6,c,d/2]}function gbe(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),i=a-n/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=n*o,s[0]+=n,s[1]+=c;break;case 1:c=n*(2-o),s[0]+=c,s[1]+=n;break;case 2:c=n*(o-2),s[1]+=n,s[2]+=c;break;case 3:c=n*(4-o),s[1]+=c,s[2]+=n;break;case 4:c=n*(o-4),s[2]+=n,s[0]+=c;break;case 5:c=n*(6-o),s[2]+=c,s[0]+=n;break}for(var d=0;d!=3;++d)s[d]=Math.round(s[d]*255);return s}function B2(e,t){if(t===0)return e;var r=pbe(mbe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),L1(gbe(r))}var k$=6,xbe=15,vbe=1,Rs=k$;function M1(e){return Math.floor((e+Math.round(128/Rs)/256)*Rs)}function R1(e){return Math.floor((e-5)/Rs*100+.5)/100}function U2(e){return Math.round((e*Rs+5)/Rs*256)/256}function v_(e){return U2(R1(M1(e)))}function xA(e){var t=Math.abs(e-v_(e)),r=Rs;if(t>.005)for(Rs=vbe;Rs<xbe;++Rs)Math.abs(e-v_(e))<=t&&(t=Math.abs(e-v_(e)),r=Rs);Rs=r}function vf(e){e.width?(e.wpx=M1(e.width),e.wch=R1(e.wpx),e.MDW=Rs):e.wpx?(e.wch=R1(e.wpx),e.width=U2(e.wch),e.MDW=Rs):typeof e.wch=="number"&&(e.width=U2(e.wch),e.wpx=M1(e.width),e.MDW=Rs),e.customWidth&&delete e.customWidth}var ybe=96,_$=ybe;function I1(e){return e*96/_$}function gg(e){return e*_$/96}var bbe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function wbe(e,t,r,a){t.Borders=[];var n={},i=!1;(e[0].match(qs)||[]).forEach(function(s){var o=kr(s);switch(Iu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=ln(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=ln(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function kbe(e,t,r,a){t.Fills=[];var n={},i=!1;(e[0].match(qs)||[]).forEach(function(s){var o=kr(s);switch(Iu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function _be(e,t,r,a){t.Fonts=[];var n={},i=!1;(e[0].match(qs)||[]).forEach(function(s){var o=kr(s);switch(Iu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=Ha(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?ln(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?ln(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?ln(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?ln(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?ln(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?ln(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?ln(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Wj[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=ln(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=Mh[n.color.index];n.color.index==81&&(c=Mh[1]),c||(c=Mh[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=B2(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Sbe(e,t,r){t.NumberFmt=[];for(var a=Yn(yr),n=0;n<a.length;++n)t.NumberFmt[a[n]]=yr[a[n]];var i=e[0].match(qs);if(i)for(n=0;n<i.length;++n){var s=kr(i[n]);switch(Iu(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=fa(Ha(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}Id(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Nbe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=_t("numFmt",null,{numFmtId:a,formatCode:La(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=_t("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var nb=["numFmtId","fillId","fontId","borderId","xfId"],ib=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jbe(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(qs)||[]).forEach(function(i){var s=kr(i),o=0;switch(Iu(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=s,delete a[0],o=0;o<nb.length;++o)a[nb[o]]&&(a[nb[o]]=parseInt(a[nb[o]],10));for(o=0;o<ib.length;++o)a[ib[o]]&&(a[ib[o]]=ln(a[ib[o]]));if(t.NumberFmt&&a.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[o]){a.numFmtId=o;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=ln(s.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Abe(e){var t=[];return t[t.length]=_t("cellXfs",null),e.forEach(function(r){t[t.length]=_t("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=_t("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Tbe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var f={};if(!o)return f;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&Sbe(m,f,d),(m=o.match(n))&&_be(m,f,c,d),(m=o.match(a))&&kbe(m,f,c,d),(m=o.match(i))&&wbe(m,f,c,d),(m=o.match(r))&&jbe(m,f,d),f}})();function S$(e,t){var r=[li,_t("styleSheet",null,{xmlns:hm[0],"xmlns:vt":Fi.vt})],a;return e.SSF&&(a=Nbe(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Abe(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Ebe(e,t){var r=e.read_shift(2),a=Bs(e);return[r,a]}function Cbe(e,t,r){r||(r=it(6+4*t.length)),r.write_shift(2,e),ns(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function Obe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=f1e(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(a.underline=s);var o=e.read_shift(1);o>0&&(a.family=o);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=d1e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Bs(e),a}function Pbe(e,t){t||(t=it(153)),t.write_shift(2,e.sz*20),h1e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),R2(e.color,t);var a=0;return a=2,t.write_shift(1,a),ns(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Dbe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],y_,Lbe=Us;function dL(e,t){t||(t=it(84)),y_||(y_=Vw(Dbe));var r=y_[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(R2({auto:1},t),R2({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Mbe(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function N$(e,t,r){r||(r=it(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Lx(e,t){return t||(t=it(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Rbe=Us;function Ibe(e,t){return t||(t=it(51)),t.write_shift(1,0),Lx(null,t),Lx(null,t),Lx(null,t),Lx(null,t),Lx(null,t),t.length>t.l?t.slice(0,t.l):t}function Fbe(e,t){return t||(t=it(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),M2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Bbe(e,t,r){var a=it(2052);return a.write_shift(4,e),M2(t,a),M2(r,a),a.length>a.l?a.slice(0,a.l):a}function Ube(e,t,r){var a={};a.NumberFmt=[];for(var n in yr)a.NumberFmt[n]=yr[n];a.CellXf=[],a.Fonts=[];var i=[],s=!1;return s0(e,function(c,d,f){switch(f){case 44:a.NumberFmt[c[0]]=c[1],Id(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=B2(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(f),s=!0;break;case 38:i.pop(),s=!1;break;default:if(d.T>0)i.push(f);else if(d.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),a}function zbe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(gt(e,615,Fc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&gt(e,44,Cbe(n,t[n]))}),gt(e,616))}}function qbe(e){var t=1;gt(e,611,Fc(t)),gt(e,43,Pbe({sz:12,color:{theme:1},name:"Calibri",family:2})),gt(e,612)}function $be(e){var t=2;gt(e,603,Fc(t)),gt(e,45,dL({patternType:"none"})),gt(e,45,dL({patternType:"gray125"})),gt(e,604)}function Hbe(e){var t=1;gt(e,613,Fc(t)),gt(e,46,Ibe()),gt(e,614)}function Wbe(e){var t=1;gt(e,626,Fc(t)),gt(e,47,N$({numFmtId:0},65535)),gt(e,627)}function Vbe(e,t){gt(e,617,Fc(t.length)),t.forEach(function(r){gt(e,47,N$(r,0))}),gt(e,618)}function Kbe(e){var t=1;gt(e,619,Fc(t)),gt(e,48,Fbe({xfId:0,name:"Normal"})),gt(e,620)}function Gbe(e){var t=0;gt(e,505,Fc(t)),gt(e,506)}function Ybe(e){var t=0;gt(e,508,Bbe(t,"TableStyleMedium9","PivotStyleMedium4")),gt(e,509)}function Xbe(e,t){var r=Lo();return gt(r,278),zbe(r,e.SSF),qbe(r),$be(r),Hbe(r),Wbe(r),Vbe(r,t.cellXfs),Kbe(r),Gbe(r),Ybe(r),gt(r,279),r.end()}var Qbe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Jbe(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(qs)||[]).forEach(function(n){var i=kr(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Qbe.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Zbe(){}function e2e(){}var t2e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,r2e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,a2e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function n2e(e,t,r){t.themeElements={};var a;[["clrScheme",t2e,Jbe],["fontScheme",r2e,Zbe],["fmtScheme",a2e,e2e]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var i2e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function j$(e,t){(!e||e.length===0)&&(e=vA());var r,a={};if(!(r=e.match(i2e)))throw new Error("themeElements not found in theme");return n2e(r[0],a,t),a.raw=e,a}function vA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[li];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function s2e(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var s;try{s=vq(i,{type:"array"})}catch{return}var o=ol(s,"theme/theme/theme1.xml",!0);if(o)return j$(o,r)}}function o2e(e){return e.read_shift(4)}function l2e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=c2e(e,4);break;case 2:t.xclrValue=i$(e);break;case 3:t.xclrValue=o2e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function c2e(e,t){return Us(e,t)}function u2e(e,t){return Us(e,t)}function d2e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=l2e(e);break;case 6:a[1]=u2e(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function f2e(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(d2e(e,r-e.l));return{ixfe:a,ext:i}}function h2e(e,t){t.forEach(function(r){r[0]})}function m2e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Bs(e)}}function p2e(e){var t=it(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ns(e.name,t),t.slice(0,t.l)}function g2e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function x2e(e){var t=it(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function v2e(e,t){var r=it(8+2*t.length);return r.write_shift(4,e),ns(t,r),r.slice(0,r.l)}function y2e(e){return e.l+=4,e.read_shift(4)!=0}function b2e(e,t){var r=it(8);return r.write_shift(4,e),r.write_shift(4,1),r}function w2e(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},i=[],s=!1,o=2;return s0(e,function(c,d,f){switch(f){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(m){o==1?a.Cell.push({type:a.Types[m[0]-1].name,index:m[1]}):o==0&&a.Value.push({type:a.Types[m[0]-1].name,index:m[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(f),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!d.T){if(!s||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),a}function k2e(){var e=Lo();return gt(e,332),gt(e,334,Fc(1)),gt(e,335,p2e({name:"XLDAPR",version:12e4,flags:3496657072})),gt(e,336),gt(e,339,v2e(1,"XLDAPR")),gt(e,52),gt(e,35,Fc(514)),gt(e,4096,Fc(0)),gt(e,4097,ql(1)),gt(e,36),gt(e,53),gt(e,340),gt(e,337,b2e(1)),gt(e,51,x2e([[1,0]])),gt(e,338),gt(e,333),e.end()}function _2e(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,s;return e.replace(qs,function(o){var c=kr(o);switch(Iu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(s=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),a}function A$(){var e=[li];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function S2e(e){var t=[];if(!e)return t;var r=1;return(e.match(qs)||[]).forEach(function(a){var n=kr(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function N2e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=br(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function j2e(e,t,r){var a=[];return s0(e,function(i,s,o){switch(o){case 63:a.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function A2e(e,t,r,a){if(!e)return e;var n=a||{},i=!1;s0(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function T2e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Pp=1024;function T$(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[_t("xml",null,{"xmlns:v":tl.v,"xmlns:o":tl.o,"xmlns:x":tl.x,"xmlns:mv":tl.mv}).replace(/\/>/,">"),_t("o:shapelayout",_t("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),_t("v:shapetype",[_t("v:stroke",null,{joinstyle:"miter"}),_t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Pp<e*1e3;)Pp+=1e3;return t.forEach(function(i){var s=Dn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?_t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=_t("v:fill",c,o),f={on:"t",obscured:"t"};++Pp,n=n.concat(["<v:shape"+O1({id:"_x0000_s"+Pp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,_t("v:shadow",null,f),_t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ys("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ys("x:AutoFill","False"),ys("x:Row",String(s.r)),ys("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function fL(e,t,r,a){var n=Array.isArray(e),i;t.forEach(function(s){var o=Dn(s.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[s.ref]=i;var c=ha(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=Rr(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var f={a:s.author,t:s.t,r:s.r,T:r};s.h&&(f.h=s.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&a){for(m=0;m<a.length;++m)if(f.a==a[m].id){f.a=a[m].name||f.a;break}}i.c.push(f)})}function E2e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=kr(o[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},f=Dn(c.ref);if(!(t.sheetRows&&t.sheetRows<=f.r)){var m=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&pA(m[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=x.h),a.push(d)}}}}),a}function E$(e){var t=[li,_t("comments",null,{xmlns:hm[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=La(n.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=r.indexOf(La(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(ys("t",La(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(ys("t",La(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function C2e(e,t){var r=[],a=!1,n={},i=0;return e.replace(qs,function(o,c){var d=kr(o);switch(Iu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),r}function O2e(e,t,r){var a=[li,_t("ThreadedComments",null,{xmlns:Fi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),a.push(_t("threadedComment",ys("text",s.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function P2e(e,t){var r=[],a=!1;return e.replace(qs,function(i){var s=kr(i);switch(Iu(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function D2e(e){var t=[li,_t("personList",null,{xmlns:Fi.TCMNT,"xmlns:x":hm[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(_t("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function L2e(e){var t={};t.iauthor=e.read_shift(4);var r=xm(e);return t.rfx=r.s,t.ref=br(r.s),e.l+=16,t}function M2e(e,t){return t==null&&(t=it(36)),t.write_shift(4,e[1].iauthor),Bg(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var R2e=Bs;function I2e(e){return ns(e.slice(0,54))}function F2e(e,t){var r=[],a=[],n={},i=!1;return s0(e,function(o,c,d){switch(d){case 632:a.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function B2e(e){var t=Lo(),r=[];return gt(t,628),gt(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),gt(t,632,I2e(n.a)))})}),gt(t,631),gt(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:Dn(a[0]),e:Dn(a[0])};gt(t,635,M2e([i,n])),n.t&&n.t.length>0&&gt(t,637,o1e(n)),gt(t,636),delete n.iauthor})}),gt(t,634),gt(t,629),t.end()}var U2e="application/vnd.ms-office.vbaProject";function z2e(e){var t=dr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");dr.utils.cfb_add(t,n,e.FileIndex[a].content)}}),dr.write(t)}function q2e(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&dr.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var C$=["xlsb","xlsm","xlam","biff8","xla"];function $2e(){return{"!type":"dialog"}}function H2e(){return{"!type":"dialog"}}function W2e(){return{"!type":"macro"}}function V2e(){return{"!type":"macro"}}var zp=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=t.c:--f,c?d+=t.r:--d,n+(o?"":"$")+Pn(f)+(c?"":"$")+oi(d)}return function(n,i){return t=i,n.replace(e,r)}})(),yA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,bA=(function(){return function(t,r){return t.replace(yA,function(a,n,i,s,o,c){var d=sA(s)-(i?0:r.c),f=iA(c)-(o?0:r.r),m=f==0?"":o?f+1:"["+f+"]",x=d==0?"":i?d+1:"["+d+"]";return n+"R"+m+"C"+x})}})();function O$(e,t){return e.replace(yA,function(r,a,n,i,s,o){return a+(n=="$"?n+i:Pn(sA(i)+t.c))+(s=="$"?s+o:oi(iA(o)+t.r))})}function K2e(e,t,r){var a=Mo(t),n=a.s,i=Dn(r),s={r:i.r-n.r,c:i.c-n.c};return O$(e,s)}function G2e(e){return e.length!=1}function hL(e){return e.replace(/_xlfn\./g,"")}function pi(e){e.l+=1}function yf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function P$(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return D$(e);r.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),s=yf(e),o=yf(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function D$(e){var t=yf(e),r=yf(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function Y2e(e,t,r){if(r.biff<8)return D$(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),i=yf(e),s=yf(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function L$(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return X2e(e);var a=e.read_shift(r&&r.biff==12?4:2),n=yf(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function X2e(e){var t=yf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Q2e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function J2e(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return Z2e(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:s,rRel:o}}function Z2e(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function ewe(e,t,r){var a=(e[e.l++]&96)>>5,n=P$(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function twe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=P$(e,i,r);return[a,n,s]}function rwe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function awe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function nwe(e,t,r){var a=(e[e.l++]&96)>>5,n=Y2e(e,t-1,r);return[a,n]}function iwe(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function mL(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function swe(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function owe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function lwe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function cwe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function uwe(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function M$(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function dwe(e){return e.read_shift(2),M$(e)}function fwe(e){return e.read_shift(2),M$(e)}function hwe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=L$(e,0,r);return[a,n]}function mwe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=J2e(e,0,r);return[a,n]}function pwe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=L$(e,0,r);return[a,n,i]}function gwe(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[y5e[n],F$[n],a]}function xwe(e,t,r){var a=e[e.l++],n=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:vwe(e);return[n,(i[0]===0?F$:v5e)[i[1]]]}function vwe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ywe(e,t,r){e.l+=r&&r.biff==2?3:4}function bwe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function wwe(e){return e.l++,o0[e.read_shift(1)]}function kwe(e){return e.l++,e.read_shift(2)}function _we(e){return e.l++,e.read_shift(1)!==0}function Swe(e){return e.l++,Is(e)}function Nwe(e,t,r){return e.l++,Sv(e,t-1,r)}function jwe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ti(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=o0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Is(e);break;case 2:r[1]=vm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Awe(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((r.biff==12?xm:Yw)(e));return n}function Twe(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var i=0,s=[];i!=a&&(s[i]=[]);++i)for(var o=0;o!=n;++o)s[i][o]=jwe(e,r.biff);return s}function Ewe(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function Cwe(e,t,r){if(r.biff==5)return Owe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function Owe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function Pwe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Dwe(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function Lwe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function Mwe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var Rwe=Us,Iwe=Us,Fwe=Us;function jv(e,t,r){return e.l+=2,[Q2e(e)]}function wA(e){return e.l+=6,[]}var Bwe=jv,Uwe=wA,zwe=wA,qwe=jv;function R$(e){return e.l+=2,[xi(e),e.read_shift(2)&1]}var $we=jv,Hwe=R$,Wwe=wA,Vwe=jv,Kwe=jv,Gwe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ywe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),s=Gwe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:a,c:n,C:i}}function Xwe(e){return e.l+=2,[e.read_shift(4)]}function Qwe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Jwe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Zwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function e5e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function t5e(e){return e.l+=4,[0,0]}var pL={1:{n:"PtgExp",f:bwe},2:{n:"PtgTbl",f:Fwe},3:{n:"PtgAdd",f:pi},4:{n:"PtgSub",f:pi},5:{n:"PtgMul",f:pi},6:{n:"PtgDiv",f:pi},7:{n:"PtgPower",f:pi},8:{n:"PtgConcat",f:pi},9:{n:"PtgLt",f:pi},10:{n:"PtgLe",f:pi},11:{n:"PtgEq",f:pi},12:{n:"PtgGe",f:pi},13:{n:"PtgGt",f:pi},14:{n:"PtgNe",f:pi},15:{n:"PtgIsect",f:pi},16:{n:"PtgUnion",f:pi},17:{n:"PtgRange",f:pi},18:{n:"PtgUplus",f:pi},19:{n:"PtgUminus",f:pi},20:{n:"PtgPercent",f:pi},21:{n:"PtgParen",f:pi},22:{n:"PtgMissArg",f:pi},23:{n:"PtgStr",f:Nwe},26:{n:"PtgSheet",f:Qwe},27:{n:"PtgEndSheet",f:Jwe},28:{n:"PtgErr",f:wwe},29:{n:"PtgBool",f:_we},30:{n:"PtgInt",f:kwe},31:{n:"PtgNum",f:Swe},32:{n:"PtgArray",f:iwe},33:{n:"PtgFunc",f:gwe},34:{n:"PtgFuncVar",f:xwe},35:{n:"PtgName",f:Ewe},36:{n:"PtgRef",f:hwe},37:{n:"PtgArea",f:ewe},38:{n:"PtgMemArea",f:Pwe},39:{n:"PtgMemErr",f:Rwe},40:{n:"PtgMemNoMem",f:Iwe},41:{n:"PtgMemFunc",f:Dwe},42:{n:"PtgRefErr",f:Lwe},43:{n:"PtgAreaErr",f:rwe},44:{n:"PtgRefN",f:mwe},45:{n:"PtgAreaN",f:nwe},46:{n:"PtgMemAreaN",f:Zwe},47:{n:"PtgMemNoMemN",f:e5e},57:{n:"PtgNameX",f:Cwe},58:{n:"PtgRef3d",f:pwe},59:{n:"PtgArea3d",f:twe},60:{n:"PtgRefErr3d",f:Mwe},61:{n:"PtgAreaErr3d",f:awe},255:{}},r5e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},a5e={1:{n:"PtgElfLel",f:R$},2:{n:"PtgElfRw",f:Vwe},3:{n:"PtgElfCol",f:Bwe},6:{n:"PtgElfRwV",f:Kwe},7:{n:"PtgElfColV",f:qwe},10:{n:"PtgElfRadical",f:$we},11:{n:"PtgElfRadicalS",f:Wwe},13:{n:"PtgElfColS",f:Uwe},15:{n:"PtgElfColSV",f:zwe},16:{n:"PtgElfRadicalLel",f:Hwe},25:{n:"PtgList",f:Ywe},29:{n:"PtgSxName",f:Xwe},255:{}},n5e={0:{n:"PtgAttrNoop",f:t5e},1:{n:"PtgAttrSemi",f:uwe},2:{n:"PtgAttrIf",f:lwe},4:{n:"PtgAttrChoose",f:swe},8:{n:"PtgAttrGoto",f:owe},16:{n:"PtgAttrSum",f:ywe},32:{n:"PtgAttrBaxcel",f:mL},33:{n:"PtgAttrBaxcel",f:mL},64:{n:"PtgAttrSpace",f:dwe},65:{n:"PtgAttrSpaceSemi",f:fwe},128:{n:"PtgAttrIfError",f:cwe},255:{}};function Av(e,t,r,a){if(a.biff<8)return Us(e,t);for(var n=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Twe(e,0,a),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Awe(e,r[s][1],a),i.push(r[s][2]);break;case"PtgExp":a&&a.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=n-e.l,t!==0&&i.push(Us(e,t)),i}function Tv(e,t,r){for(var a=e.l+t,n,i,s=[];a!=e.l;)t=a-e.l,i=e[e.l],n=pL[i]||pL[r5e[i]],(i===24||i===25)&&(n=(i===24?a5e:n5e)[e[e.l+1]]),!n||!n.f?Us(e,t):s.push([n.n,n.f(e,t,r)]);return s}function i5e(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],i=0;i<a.length;++i){var s=a[i];if(s)switch(s[0]){case 2:n.push('"'+s[1].replace(/"/g,'""')+'"');break;default:n.push(s[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var s5e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function o5e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function I$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function gL(e,t,r){var a=I$(e,t,r);return a=="#REF"?a:o5e(a,r)}function Ls(e,t,r,a,n){var i=n&&n.biff||8,s={s:{c:0,r:0}},o=[],c,d,f,m=0,x=0,p,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,b="",k=0,N=e[0].length;k<N;++k){var _=e[0][k];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:b=Vn(" ",e[0][v][1][1]);break;case 1:b=Vn("\r",e[0][v][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+b,v=-1}o.push(d+s5e[_[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Jx(_[1][1],s,n),o.push(Zx(f,i));break;case"PtgRefN":f=r?Jx(_[1][1],r,n):_[1][1],o.push(Zx(f,i));break;case"PtgRef3d":m=_[1][1],f=Jx(_[1][2],s,n),y=gL(a,m,n),o.push(y+"!"+Zx(f,i));break;case"PtgFunc":case"PtgFuncVar":var T=_[1][0],L=_[1][1];T||(T=0),T&=127;var D=T==0?[]:o.slice(-T);o.length-=T,L==="User"&&(L=D.shift()),o.push(L+"("+D.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":p=WD(_[1][1],r?{s:r}:s,n),o.push(p_(p,n));break;case"PtgArea":p=WD(_[1][1],s,n),o.push(p_(p,n));break;case"PtgArea3d":m=_[1][1],p=_[1][2],y=gL(a,m,n),o.push(y+"!"+p_(p,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=_[1][2];var R=(a.names||[])[x-1]||(a[0]||[])[x],U=R?R.Name:"SH33TJSNAME"+String(x);U&&U.slice(0,6)=="_xlfn."&&!n.xlfn&&(U=U.slice(6)),o.push(U);break;case"PtgNameX":var F=_[1][1];x=_[1][2];var W;if(n.biff<=5)F<0&&(F=-F),a[F]&&(W=a[F][x]);else{var O="";if(((a[F]||[])[0]||[])[0]==14849||(((a[F]||[])[0]||[])[0]==1025?a[F][x]&&a[F][x].itab>0&&(O=a.SheetNames[a[F][x].itab-1]+"!"):O=a.SheetNames[x-1]+"!"),a[F]&&a[F][x])O+=a[F][x].Name;else if(a[0]&&a[0][x])O+=a[0][x].Name;else{var M=(I$(a,F,n)||"").split(";;");M[x-1]?O=M[x-1]:O+="SH33TJSERRX"}o.push(O);break}W||(W={Name:"SH33TJSERRY"}),o.push(W.Name);break;case"PtgParen":var H="(",Y=")";if(v>=0){switch(b="",e[0][v][1][0]){case 2:H=Vn(" ",e[0][v][1][1])+H;break;case 3:H=Vn("\r",e[0][v][1][1])+H;break;case 4:Y=Vn(" ",e[0][v][1][1])+Y;break;case 5:Y=Vn("\r",e[0][v][1][1])+Y;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(H+o.pop()+Y);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:_[1][1],r:_[1][0]};var ne={c:r.c,r:r.r};if(a.sharedf[br(f)]){var X=a.sharedf[br(f)];o.push(Ls(X,s,ne,a,n))}else{var re=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(f.c<d[0].s.c||f.c>d[0].e.c)&&!(f.r<d[0].s.r||f.r>d[0].e.r)){o.push(Ls(d[1],s,ne,a,n)),re=!0;break}re||o.push(_[1])}break;case"PtgArray":o.push("{"+i5e(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var fe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&fe.indexOf(e[0][k][0])==-1){_=e[0][v];var ce=!0;switch(_[1][0]){case 4:ce=!1;case 0:b=Vn(" ",_[1][1]);break;case 5:ce=!1;case 1:b=Vn("\r",_[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((ce?b:"")+o.pop()+(ce?"":b)),v=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function l5e(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,s=e.read_shift(n);if(s==65535)return[[],Us(e,t-2)];var o=Tv(e,s,r);return t!==s+n&&(i=Av(e,t-s-n,o,r)),e.l=a,[o,i]}function c5e(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,s=e.read_shift(n);if(s==65535)return[[],Us(e,t-2)];var o=Tv(e,s,r);return t!==s+n&&(i=Av(e,t-s-n,o,r)),e.l=a,[o,i]}function u5e(e,t,r,a){var n=e.l+t,i=Tv(e,a,r),s;return n!==e.l&&(s=Av(e,n-e.l,i,r)),[i,s]}function d5e(e,t,r){var a=e.l+t,n,i=e.read_shift(2),s=Tv(e,i,r);return i==65535?[[],Us(e,t-2)]:(t!==i+2&&(n=Av(e,a-i-2,s,r)),[s,n])}function f5e(e){var t;if(Td(e,e.l+6)!==65535)return[Is(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function h5e(e){if(e==null){var t=it(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return am(e);return am(0)}function b_(e,t,r){var a=e.l+t,n=Fu(e);r.biff==2&&++e.l;var i=f5e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=c5e(e,a-e.l,r);return{cell:n,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function m5e(e,t,r,a,n){var i=im(t,r,n),s=h5e(e.v),o=it(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=it(e.bf.length),f=0;f<e.bf.length;++f)d[f]=e.bf[f];var m=rs([i,s,o,d]);return m}function Xw(e,t,r){var a=e.read_shift(4),n=Tv(e,a,r),i=e.read_shift(4),s=i>0?Av(e,i,n,r):null;return[n,s]}var p5e=Xw,Qw=Xw,g5e=Xw,x5e=Xw,v5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},F$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},y5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function xL(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function b5e(e){var t="of:="+e.replace(yA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function w_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function w5e(e){return e.replace(/\./,"!")}var t1={},qp={},r1=typeof Map<"u";function kA(e,t,r){var a=0,n=e.length;if(r){if(r1?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=r1?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(r1?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function Jw(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Rs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=R1(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=U2(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Fh(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Ef(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){Id(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function B$(e,t,r,a,n,i){try{a.cellNF&&(e.z=yr[t])}catch(o){if(a.WTF)throw o}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=dn(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(yr[t]==null&&Id(vxe[t]||"General",t),e.t==="e")e.w=e.w||o0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=E1(e.v);else if(e.t==="d"){var s=Bi(e.v);(s|0)===s?e.w=s.toString(10):e.w=E1(s)}else{if(e.v===void 0)return"";e.w=tm(e.v,qp)}else e.t==="d"?e.w=Xl(t,Bi(e.v),qp):e.w=Xl(t,e.v,qp)}catch(o){if(a.WTF)throw o}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=B2(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=B2(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(a.WTF&&i.Fills)throw o}}}function k5e(e,t,r){if(e&&e["!ref"]){var a=ha(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function _5e(e,t){var r=ha(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Rr(r))}var S5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,N5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,j5e=/<(?:\w:)?hyperlink [^>]*>/mg,A5e=/"(\w*:\w*)"/,T5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,E5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,C5e=/<(?:\w:)?pageMargins[^>]*\/>/g,U$=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,O5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,P5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function D5e(e,t,r,a,n,i,s){if(!e)return e;a||(a={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",f="",m=e.match(N5e);m?(d=e.slice(0,m.index),f=e.slice(m.index+m[0].length)):d=f=e;var x=d.match(U$);x?_A(x[0],o,n,r):(x=d.match(O5e))&&M5e(x[0],x[1]||"",o,n,r);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=d.slice(p,p+50).match(A5e);y&&_5e(o,y[1])}var v=d.match(P5e);v&&v[1]&&G5e(v[1],n);var b=[];if(t.cellStyles){var k=d.match(T5e);k&&$5e(b,k)}m&&Q5e(m[1],o,t,c,i,s);var N=f.match(E5e);N&&(o["!autofilter"]=W5e(N[0]));var _=[],T=f.match(S5e);if(T)for(p=0;p!=T.length;++p)_[p]=ha(T[p].slice(T[p].indexOf('"')+1));var L=f.match(j5e);L&&U5e(o,L,a);var D=f.match(C5e);if(D&&(o["!margins"]=z5e(kr(D[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Rr(c)),t.sheetRows>0&&o["!ref"]){var R=ha(o["!ref"]);t.sheetRows<=+R.e.r&&(R.e.r=t.sheetRows-1,R.e.r>c.e.r&&(R.e.r=c.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>c.e.c&&(R.e.c=c.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Rr(R))}return b.length>0&&(o["!cols"]=b),_.length>0&&(o["!merges"]=_),o}function L5e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Rr(e[r])+'"/>';return t+"</mergeCells>"}function _A(e,t,r,a){var n=kr(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=fa(Ha(n.codeName)))}function M5e(e,t,r,a,n){_A(e.slice(0,e.indexOf(">")),r,a,n)}function R5e(e,t,r,a,n){var i=!1,s={},o=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Tu(La(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+_t("outlinePr",null,d)}!i&&!o||(n[n.length]=_t("sheetPr",o,s))}var I5e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],F5e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function B5e(e){var t={sheet:1};return I5e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),F5e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=gA(e.password).toString(16).toUpperCase()),_t("sheetProtection",null,t)}function U5e(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=kr(Ha(t[n]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+fa(i.location))):(i.Target="#"+fa(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=ha(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var f=br({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=i)}}}function z5e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function q5e(e){return Fh(e),_t("pageMargins",null,e)}function $5e(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=kr(t[a],!0);n.hidden&&(n.hidden=ln(n.hidden));var i=parseInt(n.min,10)-1,s=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,xA(n.width)),vf(n);i<=s;)e[i++]=fn(n)}}function H5e(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=_t("col",null,Jw(n,a)));return r[r.length]="</cols>",r.join("")}function W5e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function V5e(e,t,r,a){var n=typeof e.ref=="string"?e.ref:Rr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Mo(n);s.s.r==s.e.r&&(s.e.r=Mo(t["!ref"]).e.r,n=Rr(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),_t("autoFilter",null,{ref:n})}var K5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function G5e(e,t){t.Views||(t.Views=[{}]),(e.match(K5e)||[]).forEach(function(r,a){var n=kr(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),ln(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function Y5e(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),_t("sheetViews",_t("sheetView",null,n),{})}function X5e(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=o0[e.v];break;case"d":a&&a.cellDates?n=dn(e.v,-1).toISOString():(e=fn(e),e.t="n",n=""+(e.v=Bi(dn(e.v)))),typeof e.z>"u"&&(e.z=yr[14]);break;default:n=e.v;break}var o=ys("v",La(n)),c={r:t},d=Ef(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=ys("v",""+kA(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=_t("f",La(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),_t("c",o,c)}var Q5e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=C1("v"),s=C1("f");return function(c,d,f,m,x,p){for(var y=0,v="",b=[],k=[],N=0,_=0,T=0,L="",D,R,U=0,F=0,W,O,M=0,H=0,Y=Array.isArray(p.CellXf),ne,X=[],re=[],fe=Array.isArray(d),ce=[],ke={},Z=!1,P=!!f.sheetStubs,q=c.split(t),V=0,z=q.length;V!=z;++V){v=q[V].trim();var Q=v.length;if(Q!==0){var de=0;e:for(y=0;y<Q;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(f&&f.cellStyles){if(R=kr(v.slice(de,y),!0),U=R.r!=null?parseInt(R.r,10):U+1,F=-1,f.sheetRows&&f.sheetRows<U)continue;ke={},Z=!1,R.ht&&(Z=!0,ke.hpt=parseFloat(R.ht),ke.hpx=gg(ke.hpt)),R.hidden=="1"&&(Z=!0,ke.hidden=!0),R.outlineLevel!=null&&(Z=!0,ke.level=+R.outlineLevel),Z&&(ce[U-1]=ke)}break;case"<":de=y;break}if(de>=y)break;if(R=kr(v.slice(de,y),!0),U=R.r!=null?parseInt(R.r,10):U+1,F=-1,!(f.sheetRows&&f.sheetRows<U)){m.s.r>U-1&&(m.s.r=U-1),m.e.r<U-1&&(m.e.r=U-1),f&&f.cellStyles&&(ke={},Z=!1,R.ht&&(Z=!0,ke.hpt=parseFloat(R.ht),ke.hpx=gg(ke.hpt)),R.hidden=="1"&&(Z=!0,ke.hidden=!0),R.outlineLevel!=null&&(Z=!0,ke.level=+R.outlineLevel),Z&&(ce[U-1]=ke)),b=v.slice(y).split(e);for(var Ee=0;Ee!=b.length&&b[Ee].trim().charAt(0)=="<";++Ee);for(b=b.slice(Ee),y=0;y!=b.length;++y)if(v=b[y].trim(),v.length!==0){if(k=v.match(r),N=y,_=0,T=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,k!=null&&k.length===2){for(N=0,L=k[1],_=0;_!=L.length&&!((T=L.charCodeAt(_)-64)<1||T>26);++_)N=26*N+T;--N,F=N}else++F;for(_=0;_!=v.length&&v.charCodeAt(_)!==62;++_);if(++_,R=kr(v.slice(0,_),!0),R.r||(R.r=br({r:U-1,c:F})),L=v.slice(_),D={t:""},(k=L.match(i))!=null&&k[1]!==""&&(D.v=fa(k[1])),f.cellFormula){if((k=L.match(s))!=null&&k[1]!==""){if(D.f=fa(Ha(k[1])).replace(/\r\n/g,`
`),f.xlfn||(D.f=hL(D.f)),k[0].indexOf('t="array"')>-1)D.F=(L.match(n)||[])[1],D.F.indexOf(":")>-1&&X.push([ha(D.F),D.F]);else if(k[0].indexOf('t="shared"')>-1){O=kr(k[0]);var ie=fa(Ha(k[1]));f.xlfn||(ie=hL(ie)),re[parseInt(O.si,10)]=[O,ie,R.r]}}else(k=L.match(/<f[^>]*\/>/))&&(O=kr(k[0]),re[O.si]&&(D.f=K2e(re[O.si][1],re[O.si][2],R.r)));var je=Dn(R.r);for(_=0;_<X.length;++_)je.r>=X[_][0].s.r&&je.r<=X[_][0].e.r&&je.c>=X[_][0].s.c&&je.c<=X[_][0].e.c&&(D.F=X[_][1])}if(R.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(P)D.t="z";else continue;else D.t=R.t||"n";switch(m.s.c>F&&(m.s.c=F),m.e.c<F&&(m.e.c=F),D.t){case"n":if(D.v==""||D.v==null){if(!P)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!P)continue;D.t="z"}else W=t1[parseInt(D.v,10)],D.v=W.t,D.r=W.r,f.cellHTML&&(D.h=W.h);break;case"str":D.t="s",D.v=D.v!=null?Ha(D.v):"",f.cellHTML&&(D.h=tA(D.v));break;case"inlineStr":k=L.match(a),D.t="s",k!=null&&(W=pA(k[1]))?(D.v=W.t,f.cellHTML&&(D.h=W.h)):D.v="";break;case"b":D.v=ln(D.v);break;case"d":f.cellDates?D.v=dn(D.v,1):(D.v=Bi(dn(D.v,1)),D.t="n");break;case"e":(!f||f.cellText!==!1)&&(D.w=D.v),D.v=qq[D.v];break}if(M=H=0,ne=null,Y&&R.s!==void 0&&(ne=p.CellXf[R.s],ne!=null&&(ne.numFmtId!=null&&(M=ne.numFmtId),f.cellStyles&&ne.fillId!=null&&(H=ne.fillId))),B$(D,M,H,f,x,p),f.cellDates&&Y&&D.t=="n"&&Rg(yr[M])&&(D.t="d",D.v=Gw(D.v)),R.cm&&f.xlmeta){var Me=(f.xlmeta.Cell||[])[+R.cm-1];Me&&Me.type=="XLDAPR"&&(D.D=!0)}if(fe){var J=Dn(R.r);d[J.r]||(d[J.r]=[]),d[J.r][J.c]=D}else d[R.r]=D}}}}ce.length>0&&(d["!rows"]=ce)}})();function J5e(e,t,r,a){var n=[],i=[],s=ha(e["!ref"]),o="",c,d="",f=[],m=0,x=0,p=e["!rows"],y=Array.isArray(e),v={r:d},b,k=-1;for(x=s.s.c;x<=s.e.c;++x)f[x]=Pn(x);for(m=s.s.r;m<=s.e.r;++m){for(i=[],d=oi(m),x=s.s.c;x<=s.e.c;++x){c=f[x]+d;var N=y?(e[m]||[])[x]:e[c];N!==void 0&&(o=X5e(N,c,e,t))!=null&&i.push(o)}(i.length>0||p&&p[m])&&(v={r:d},p&&p[m]&&(b=p[m],b.hidden&&(v.hidden=1),k=-1,b.hpx?k=I1(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(v.ht=k,v.customHeight=1),b.level&&(v.outlineLevel=b.level)),n[n.length]=_t("row",i.join(""),v))}if(p)for(;m<p.length;++m)p&&p[m]&&(v={r:m+1},b=p[m],b.hidden&&(v.hidden=1),k=-1,b.hpx?k=I1(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(v.ht=k,v.customHeight=1),b.level&&(v.outlineLevel=b.level),n[n.length]=_t("row","",v));return n.join("")}function z$(e,t,r,a){var n=[li,_t("worksheet",null,{xmlns:hm[0],"xmlns:r":Fi.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",f=ha(d);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),d=Rr(f)}a||(a={}),c["!comments"]=[];var m=[];R5e(c,r,e,t,n),n[n.length]=_t("dimension",null,{ref:d}),n[n.length]=Y5e(c,t,e,r),t.sheetFormat&&(n[n.length]=_t("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=H5e(c,c["!cols"])),n[s=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=J5e(c,t),o.length>0&&(n[n.length]=o)),n.length>s+1&&(n[n.length]="</sheetData>",n[s]=n[s].replace("/>",">")),c["!protect"]&&(n[n.length]=B5e(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=V5e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=L5e(c["!merges"]));var x=-1,p,y=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Oa(a,-1,La(v[1].Target).replace(/#.*$/,""),Kr.HLINK),p["r:id"]="rId"+y),(x=v[1].Target.indexOf("#"))>-1&&(p.location=La(v[1].Target.slice(x+1))),v[1].Tooltip&&(p.tooltip=La(v[1].Tooltip)),n[n.length]=_t("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=q5e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=ys("ignoredErrors",_t("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(y=Oa(a,-1,"../drawings/drawing"+(e+1)+".xml",Kr.DRAW),n[n.length]=_t("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=m),c["!comments"].length>0&&(y=Oa(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Kr.VML),n[n.length]=_t("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Z5e(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=n/20),r}function eke(e,t,r){var a=it(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=I1(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var s=0;n.level&&(s|=n.level),n.hidden&&(s|=16),(n.hpx||n.hpt)&&(s|=32),a.write_shift(1,s),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var d={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var m=-1,x=-1,p=f<<10;p<f+1<<10;++p){d.c=p;var y=Array.isArray(r)?(r[d.r]||[])[d.c]:r[br(d)];y&&(m<0&&(m=p),x=p)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,x))}var v=a.l;return a.l=c,a.write_shift(4,o),a.l=v,a.length>a.l?a.slice(0,a.l):a}function tke(e,t,r,a){var n=eke(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&gt(e,0,n)}var rke=xm,ake=Bg;function nke(){}function ike(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=l1e(e),r}function ske(e,t,r){r==null&&(r=it(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return R2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Iq(e,r),r.slice(0,r.l)}function oke(e){var t=Zl(e);return[t]}function lke(e,t,r){return r==null&&(r=it(8)),mm(t,r)}function cke(e){var t=pm(e);return[t]}function uke(e,t,r){return r==null&&(r=it(4)),gm(t,r)}function dke(e){var t=Zl(e),r=e.read_shift(1);return[t,r,"b"]}function fke(e,t,r){return r==null&&(r=it(9)),mm(t,r),r.write_shift(1,e.v?1:0),r}function hke(e){var t=pm(e),r=e.read_shift(1);return[t,r,"b"]}function mke(e,t,r){return r==null&&(r=it(5)),gm(t,r),r.write_shift(1,e.v?1:0),r}function pke(e){var t=Zl(e),r=e.read_shift(1);return[t,r,"e"]}function gke(e,t,r){return r==null&&(r=it(9)),mm(t,r),r.write_shift(1,e.v),r}function xke(e){var t=pm(e),r=e.read_shift(1);return[t,r,"e"]}function vke(e,t,r){return r==null&&(r=it(8)),gm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function yke(e){var t=Zl(e),r=e.read_shift(4);return[t,r,"s"]}function bke(e,t,r){return r==null&&(r=it(12)),mm(t,r),r.write_shift(4,t.v),r}function wke(e){var t=pm(e),r=e.read_shift(4);return[t,r,"s"]}function kke(e,t,r){return r==null&&(r=it(8)),gm(t,r),r.write_shift(4,t.v),r}function _ke(e){var t=Zl(e),r=Is(e);return[t,r,"n"]}function Ske(e,t,r){return r==null&&(r=it(16)),mm(t,r),am(e.v,r),r}function q$(e){var t=pm(e),r=Is(e);return[t,r,"n"]}function Nke(e,t,r){return r==null&&(r=it(12)),gm(t,r),am(e.v,r),r}function jke(e){var t=Zl(e),r=uA(e);return[t,r,"n"]}function Ake(e,t,r){return r==null&&(r=it(12)),mm(t,r),Fq(e.v,r),r}function Tke(e){var t=pm(e),r=uA(e);return[t,r,"n"]}function Eke(e,t,r){return r==null&&(r=it(8)),gm(t,r),Fq(e.v,r),r}function Cke(e){var t=Zl(e),r=oA(e);return[t,r,"is"]}function Oke(e){var t=Zl(e),r=Bs(e);return[t,r,"str"]}function Pke(e,t,r){return r==null&&(r=it(12+4*e.v.length)),mm(t,r),ns(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Dke(e){var t=pm(e),r=Bs(e);return[t,r,"str"]}function Lke(e,t,r){return r==null&&(r=it(8+4*e.v.length)),gm(t,r),ns(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Mke(e,t,r){var a=e.l+t,n=Zl(e);n.r=r["!row"];var i=e.read_shift(1),s=[n,i,"b"];if(r.cellFormula){e.l+=2;var o=Qw(e,a-e.l,r);s[3]=Ls(o,null,n,r.supbooks,r)}else e.l=a;return s}function Rke(e,t,r){var a=e.l+t,n=Zl(e);n.r=r["!row"];var i=e.read_shift(1),s=[n,i,"e"];if(r.cellFormula){e.l+=2;var o=Qw(e,a-e.l,r);s[3]=Ls(o,null,n,r.supbooks,r)}else e.l=a;return s}function Ike(e,t,r){var a=e.l+t,n=Zl(e);n.r=r["!row"];var i=Is(e),s=[n,i,"n"];if(r.cellFormula){e.l+=2;var o=Qw(e,a-e.l,r);s[3]=Ls(o,null,n,r.supbooks,r)}else e.l=a;return s}function Fke(e,t,r){var a=e.l+t,n=Zl(e);n.r=r["!row"];var i=Bs(e),s=[n,i,"str"];if(r.cellFormula){e.l+=2;var o=Qw(e,a-e.l,r);s[3]=Ls(o,null,n,r.supbooks,r)}else e.l=a;return s}var Bke=xm,Uke=Bg;function zke(e,t){return t==null&&(t=it(4)),t.write_shift(4,e),t}function qke(e,t){var r=e.l+t,a=xm(e),n=lA(e),i=Bs(e),s=Bs(e),o=Bs(e);e.l=r;var c={rfx:a,relId:n,loc:i,display:o};return s&&(c.Tooltip=s),c}function $ke(e,t){var r=it(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Bg({s:Dn(e[0]),e:Dn(e[0])},r),cA("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return ns(n||"",r),ns(e[1].Tooltip||"",r),ns("",r),r.slice(0,r.l)}function Hke(){}function Wke(e,t,r){var a=e.l+t,n=Bq(e),i=e.read_shift(1),s=[n];if(s[2]=i,r.cellFormula){var o=p5e(e,a-e.l,r);s[1]=o}else e.l=a;return s}function Vke(e,t,r){var a=e.l+t,n=xm(e),i=[n];if(r.cellFormula){var s=x5e(e,a-e.l,r);i[1]=s,e.l=a}else e.l=a;return i}function Kke(e,t,r){r==null&&(r=it(18));var a=Jw(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var $$=["left","right","top","bottom","header","footer"];function Gke(e){var t={};return $$.forEach(function(r){t[r]=Is(e)}),t}function Yke(e,t){return t==null&&(t=it(48)),Fh(e),$$.forEach(function(r){am(e[r],t)}),t}function Xke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Qke(e,t,r){r==null&&(r=it(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Jke(e){var t=it(24);return t.write_shift(4,4),t.write_shift(4,1),Bg(e,t),t}function Zke(e,t){return t==null&&(t=it(66)),t.write_shift(2,e.password?gA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function e4e(){}function t4e(){}function r4e(e,t,r,a,n,i,s){if(!e)return e;var o=t||{};a||(a={"!id":{}});var c=o.dense?[]:{},d,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,p,y,v,b,k,N,_,T,L,D=[];o.biff=12,o["!row"]=0;var R=0,U=!1,F=[],W={},O=o.supbooks||n.supbooks||[[]];if(O.sharedf=W,O.arrayf=F,O.SheetNames=n.SheetNames||n.Sheets.map(function(fe){return fe.name}),!o.supbooks&&(o.supbooks=O,n.Names))for(var M=0;M<n.Names.length;++M)O[0][M+1]=n.Names[M];var H=[],Y=[],ne=!1;F1[16]={n:"BrtShortReal",f:q$};var X;if(s0(e,function(ce,ke,Z){if(!x)switch(Z){case 148:d=ce;break;case 0:p=ce,o.sheetRows&&o.sheetRows<=p.r&&(x=!0),T=oi(b=p.r),o["!row"]=p.r,(ce.hidden||ce.hpt||ce.level!=null)&&(ce.hpt&&(ce.hpx=gg(ce.hpt)),Y[ce.r]=ce);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:ce[2]},ce[2]){case"n":y.v=ce[1];break;case"s":_=t1[ce[1]],y.v=_.t,y.r=_.r;break;case"b":y.v=!!ce[1];break;case"e":y.v=ce[1],o.cellText!==!1&&(y.w=o0[y.v]);break;case"str":y.t="s",y.v=ce[1];break;case"is":y.t="s",y.v=ce[1].t;break}if((v=s.CellXf[ce[0].iStyleRef])&&B$(y,v.numFmtId,null,o,i,s),k=ce[0].c==-1?k+1:ce[0].c,o.dense?(c[b]||(c[b]=[]),c[b][k]=y):c[Pn(k)+T]=y,o.cellFormula){for(U=!1,R=0;R<F.length;++R){var P=F[R];p.r>=P[0].s.r&&p.r<=P[0].e.r&&k>=P[0].s.c&&k<=P[0].e.c&&(y.F=Rr(P[0]),U=!0)}!U&&ce.length>3&&(y.f=ce[3])}if(f.s.r>p.r&&(f.s.r=p.r),f.s.c>k&&(f.s.c=k),f.e.r<p.r&&(f.e.r=p.r),f.e.c<k&&(f.e.c=k),o.cellDates&&v&&y.t=="n"&&Rg(yr[v.numFmtId])){var q=bh(y.v);q&&(y.t="d",y.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}X&&(X.type=="XLDAPR"&&(y.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;y={t:"z",v:void 0},k=ce[0].c==-1?k+1:ce[0].c,o.dense?(c[b]||(c[b]=[]),c[b][k]=y):c[Pn(k)+T]=y,f.s.r>p.r&&(f.s.r=p.r),f.s.c>k&&(f.s.c=k),f.e.r<p.r&&(f.e.r=p.r),f.e.c<k&&(f.e.c=k),X&&(X.type=="XLDAPR"&&(y.D=!0),X=void 0);break;case 176:D.push(ce);break;case 49:X=((o.xlmeta||{}).Cell||[])[ce-1];break;case 494:var V=a["!id"][ce.relId];for(V?(ce.Target=V.Target,ce.loc&&(ce.Target+="#"+ce.loc),ce.Rel=V):ce.relId==""&&(ce.Target="#"+ce.loc),b=ce.rfx.s.r;b<=ce.rfx.e.r;++b)for(k=ce.rfx.s.c;k<=ce.rfx.e.c;++k)o.dense?(c[b]||(c[b]=[]),c[b][k]||(c[b][k]={t:"z",v:void 0}),c[b][k].l=ce):(N=br({c:k,r:b}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=ce);break;case 426:if(!o.cellFormula)break;F.push(ce),L=o.dense?c[b][k]:c[Pn(k)+T],L.f=Ls(ce[1],f,{r:p.r,c:k},O,o),L.F=Rr(ce[0]);break;case 427:if(!o.cellFormula)break;W[br(ce[0].s)]=ce[1],L=o.dense?c[b][k]:c[Pn(k)+T],L.f=Ls(ce[1],f,{r:p.r,c:k},O,o);break;case 60:if(!o.cellStyles)break;for(;ce.e>=ce.s;)H[ce.e--]={width:ce.w/256,hidden:!!(ce.flags&1),level:ce.level},ne||(ne=!0,xA(ce.w/256)),vf(H[ce.e+1]);break;case 161:c["!autofilter"]={ref:Rr(ce)};break;case 476:c["!margins"]=ce;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),ce.name&&(n.Sheets[r].CodeName=ce.name),(ce.above||ce.left)&&(c["!outline"]={above:ce.above,left:ce.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),ce.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ke.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(f.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Rr(d||f)),o.sheetRows&&c["!ref"]){var re=ha(c["!ref"]);o.sheetRows<=+re.e.r&&(re.e.r=o.sheetRows-1,re.e.r>f.e.r&&(re.e.r=f.e.r),re.e.r<re.s.r&&(re.s.r=re.e.r),re.e.c>f.e.c&&(re.e.c=f.e.c),re.e.c<re.s.c&&(re.s.c=re.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Rr(re))}return D.length>0&&(c["!merges"]=D),H.length>0&&(c["!cols"]=H),Y.length>0&&(c["!rows"]=Y),c}function a4e(e,t,r,a,n,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=fn(t),t.z=t.z||yr[14],t.v=Bi(dn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:a};switch(c.s=Ef(n.cellXfs,t,n),t.l&&i["!links"].push([br(c),t.l]),t.c&&i["!comments"].push([br(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=kA(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,s?gt(e,18,kke(t,c)):gt(e,7,bke(t,c))):(c.t="str",s?gt(e,17,Lke(t,c)):gt(e,6,Pke(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?gt(e,13,Eke(t,c)):gt(e,2,Ake(t,c)):s?gt(e,16,Nke(t,c)):gt(e,5,Ske(t,c)),!0;case"b":return c.t="b",s?gt(e,15,mke(t,c)):gt(e,4,fke(t,c)),!0;case"e":return c.t="e",s?gt(e,14,vke(t,c)):gt(e,3,gke(t,c)),!0}return s?gt(e,12,uke(t,c)):gt(e,1,lke(t,c)),!0}function n4e(e,t,r,a){var n=ha(t["!ref"]||"A1"),i,s="",o=[];gt(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var f=n.s.r;f<=d;++f){s=oi(f),tke(e,t,n,f);var m=!1;if(f<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){f===n.s.r&&(o[x]=Pn(x)),i=o[x]+s;var p=c?(t[f]||[])[x]:t[i];if(!p){m=!1;continue}m=a4e(e,p,f,x,a,t,m)}}gt(e,146)}function i4e(e,t){!t||!t["!merges"]||(gt(e,177,zke(t["!merges"].length)),t["!merges"].forEach(function(r){gt(e,176,Uke(r))}),gt(e,178))}function s4e(e,t){!t||!t["!cols"]||(gt(e,390),t["!cols"].forEach(function(r,a){r&&gt(e,60,Kke(a,r))}),gt(e,391))}function o4e(e,t){!t||!t["!ref"]||(gt(e,648),gt(e,649,Jke(ha(t["!ref"]))),gt(e,650))}function l4e(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=Oa(r,-1,a[1].Target.replace(/#.*$/,""),Kr.HLINK);gt(e,494,$ke(a,n))}}),delete t["!links"]}function c4e(e,t,r,a){if(t["!comments"].length>0){var n=Oa(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Kr.VML);gt(e,551,cA("rId"+n)),t["!legacy"]=n}}function u4e(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Rr(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Mo(i);o.s.r==o.e.r&&(o.e.r=Mo(t["!ref"]).e.r,i=Rr(o));for(var c=0;c<s.length;++c){var d=s[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),gt(e,161,Bg(ha(i))),gt(e,162)}}function d4e(e,t,r){gt(e,133),gt(e,137,Qke(t,r)),gt(e,138),gt(e,134)}function f4e(e,t){t["!protect"]&&gt(e,535,Zke(t["!protect"]))}function h4e(e,t,r,a){var n=Lo(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=ha(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],gt(n,129),(r.vbaraw||s["!outline"])&&gt(n,147,ske(o,s["!outline"])),gt(n,148,ake(c)),d4e(n,s,r.Workbook),s4e(n,s),n4e(n,s,e,t),f4e(n,s),u4e(n,s,r,e),i4e(n,s),l4e(n,s,a),s["!margins"]&&gt(n,476,Yke(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&o4e(n,s),c4e(n,s,e,a),gt(n,130),n.end()}function m4e(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var n=fa((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function p4e(e,t,r,a,n,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=m4e(m);f.s.r=f.s.c=0,f.e.c=o,d=Pn(o),x[0].forEach(function(p,y){s[d+oi(y)]={t:"n",v:p,z:x[1]},c=y}),f.e.r<c&&(f.e.r=c),++o}),o>0&&(s["!ref"]=Rr(f)),s}function g4e(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(U$);return o&&_A(o[0],i,n,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function x4e(e,t){e.l+=10;var r=Bs(e);return{name:r}}function v4e(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return s0(e,function(c,d,f){switch(f){case 550:i["!rel"]=c;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),c.name&&(n.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var SA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],y4e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],b4e=[],w4e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function vL(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=ln(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function yL(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=ln(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function H$(e){yL(e.WBProps,SA),yL(e.CalcPr,w4e),vL(e.WBView,y4e),vL(e.Sheets,b4e),qp.date1904=ln(e.WBProps.date1904)}function k4e(e){return!e.Workbook||!e.Workbook.WBProps?"false":ln(e.Workbook.WBProps.date1904)?"true":"false"}var _4e="][*?/\\".split("");function W$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return _4e.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function S4e(e,t,r){e.forEach(function(a,n){W$(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var s=t&&t[n]&&t[n].CodeName||a;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function N4e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];S4e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)k5e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var j4e=/<\w+:workbook/;function A4e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},s=0;if(e.replace(qs,function(c,d){var f=kr(c);switch(Iu(f[0])){case"<?xml":break;case"<workbook":c.match(j4e)&&(n="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=f[n];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":SA.forEach(function(m){if(f[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=ln(f[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(f[m[0]],10);break;default:r.WBProps[m[0]]=f[m[0]]}}),f.codeName&&(r.WBProps.CodeName=Ha(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=fa(Ha(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Ha(f.name),f.comment&&(i.Comment=f.comment),f.localSheetId&&(i.Sheet=+f.localSheetId),ln(f.hidden||"0")&&(i.Hidden=!0),s=d+c.length;break;case"</definedName>":i.Ref=fa(Ha(e.slice(s,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return c}),hm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return H$(r),r}function V$(e){var t=[li];t[t.length]=_t("workbook",null,{xmlns:hm[0],"xmlns:r":Fi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(SA.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=_t("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:La(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=_t("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=_t("definedName",La(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function T4e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=FS(e),r.name=Bs(e),r}function E4e(e,t){return t||(t=it(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),cA(e.strRelID,t),ns(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function C4e(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Bs(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function O4e(e,t){t||(t=it(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Iq(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function P4e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function D4e(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=c1e(e),s=g5e(e,0,r),o=lA(e);e.l=a;var c={Name:i,Ptg:s};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function L4e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],F1[16]={n:"BrtFRTArchID$",f:P4e},s0(e,function(c,d,f){switch(f){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Ls(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([f,c]):s[0]=[f,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(f),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(f),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},t),H$(r),r.Names=i,r.supbooks=s,r}function M4e(e,t){gt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};gt(e,156,E4e(n))}gt(e,144)}function R4e(e,t){t||(t=it(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ns("SheetJS",t),ns(E2.version,t),ns(E2.version,t),ns("7262",t),t.length>t.l?t.slice(0,t.l):t}function I4e(e,t){t||(t=it(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function F4e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&i==-1&&(i=a);i>n||(gt(e,135),gt(e,158,I4e(n)),gt(e,136))}}function B4e(e,t){var r=Lo();return gt(r,131),gt(r,128,R4e()),gt(r,153,O4e(e.Workbook&&e.Workbook.WBProps||null)),F4e(r,e),M4e(r,e),gt(r,132),r.end()}function U4e(e,t,r){return t.slice(-4)===".bin"?L4e(e,r):A4e(e,r)}function z4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?r4e(e,a,r,n,i,s,o):D5e(e,a,r,n,i,s,o)}function q4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?v4e(e,a,r,n,i):g4e(e,a,r,n,i)}function $4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?W2e():V2e()}function H4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?$2e():H2e()}function W4e(e,t,r,a){return t.slice(-4)===".bin"?Ube(e,r,a):Tbe(e,r,a)}function V4e(e,t,r){return j$(e,r)}function K4e(e,t,r){return t.slice(-4)===".bin"?Kye(e,r):Hye(e,r)}function G4e(e,t,r){return t.slice(-4)===".bin"?F2e(e,r):E2e(e,r)}function Y4e(e,t,r){return t.slice(-4)===".bin"?j2e(e):S2e(e)}function X4e(e,t,r,a){return r.slice(-4)===".bin"?A2e(e,t,r,a):void 0}function Q4e(e,t,r){return t.slice(-4)===".bin"?w2e(e,t,r):_2e(e,t,r)}function J4e(e,t,r){return(t.slice(-4)===".bin"?B4e:V$)(e)}function Z4e(e,t,r,a,n){return(t.slice(-4)===".bin"?h4e:z$)(e,r,a,n)}function e_e(e,t,r){return(t.slice(-4)===".bin"?Xbe:S$)(e,r)}function t_e(e,t,r){return(t.slice(-4)===".bin"?Xye:g$)(e,r)}function r_e(e,t,r){return(t.slice(-4)===".bin"?B2e:E$)(e)}function a_e(e){return(e.slice(-4)===".bin"?k2e:A$)()}var K$=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,G$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function _c(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(K$),i,s,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(G$),(s=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),a[o]=i[2].slice(1,i[2].length-1));return a}function n_e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(K$),n,i,s,o;if(a)for(o=0;o!=a.length;++o)n=a[o].match(G$),(i=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?s="xmlns"+n[1].slice(6):s=n[1].slice(i+1),r[s]=n[2].slice(1,n[2].length-1));return r}var a1;function i_e(e,t){var r=a1[e]||fa(e);return r==="General"?tm(t):Xl(r,t)}function s_e(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=ln(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=dn(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[fa(t)]=n}function o_e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||o0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=E1(e.v):e.w=tm(e.v):e.w=i_e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=a1[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Rg(a)){var n=bh(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(r.WTF)throw i}}}function l_e(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=bbe[a.Pattern]||a.Pattern)}e[t.ID]=t}function c_e(e,t,r,a,n,i,s,o,c,d){var f="General",m=a.StyleID,x={};d=d||{};var p=[],y=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&s&&(m=s.StyleID);i[m]!==void 0&&(i[m].nf&&(f=i[m].nf),i[m].Interior&&p.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=ln(e);break;case"String":a.t="s",a.r=RD(fa(e)),a.v=e.indexOf("<")>-1?fa(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(dn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),a.v!==a.v?a.v=fa(e):a.v<60&&(a.v=a.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=qq[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=RD(t||e));break}if(o_e(a,f,d),d.cellFormula!==!1)if(a.Formula){var v=fa(a.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),a.f=zp(v,n),delete a.Formula,a.ArrayRange=="RC"?a.F=zp("RC:RC",n):a.ArrayRange&&(a.F=zp(a.ArrayRange,n),c.push([ha(a.F),a.F]))}else for(y=0;y<c.length;++y)n.r>=c[y][0].s.r&&n.r<=c[y][0].e.r&&n.c>=c[y][0].s.c&&n.c<=c[y][0].e.c&&(a.F=c[y][1]);d.cellStyles&&(p.forEach(function(b){!x.patternType&&b.patternType&&(x.patternType=b.patternType)}),a.s=x),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function u_e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function k_(e,t){var r=t||{};Ig();var a=qx(rA(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Ha(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var s=fn(r);return s.type="string",pg.to_workbook(a,s)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ge){n.indexOf("<"+Ge)>=0&&(i=!0)}),i)return Y_e(a,r);a1={"General Number":"General","General Date":yr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":yr[15],"Short Date":yr[14],"Long Time":yr[19],"Medium Time":yr[18],"Short Time":yr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:yr[2],Standard:yr[4],Percent:yr[10],Scientific:yr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,f={},m=[],x=r.dense?[]:{},p="",y={},v={},b=_c('<Data ss:Type="String">'),k=0,N=0,_=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},L={},D={},R="",U=0,F=[],W={},O={},M=0,H=[],Y=[],ne={},X=[],re,fe=!1,ce=[],ke=[],Z={},P=0,q=0,V={Sheets:[],WBProps:{date1904:!1}},z={};P1.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=P1.exec(a);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?c_e(a.slice(k,o.index),R,b,c[c.length-1][0]=="comment"?ne:y,{c:N,r:_},L,X[N],v,ce,r):(R="",b=_c(o[0]),k=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Y.length>0&&(y.c=Y),(!r.sheetRows||r.sheetRows>_)&&y.v!==void 0&&(r.dense?(x[_]||(x[_]=[]),x[_][N]=y):x[Pn(N)+oi(_)]=y),y.HRef&&(y.l={Target:fa(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(P=N+(parseInt(y.MergeAcross,10)|0),q=_+(parseInt(y.MergeDown,10)|0),F.push({s:{c:N,r:_},e:{c:P,r:q}})),!r.sheetStubs)y.MergeAcross?N=P+1:++N;else if(y.MergeAcross||y.MergeDown){for(var de=N;de<=P;++de)for(var Ee=_;Ee<=q;++Ee)(de>N||Ee>_)&&(r.dense?(x[Ee]||(x[Ee]=[]),x[Ee][de]={t:"z"}):x[Pn(de)+oi(Ee)]={t:"z"});N=P+1}else++N;else y=n_e(o[0]),y.Index&&(N=+y.Index-1),N<T.s.c&&(T.s.c=N),N>T.e.c&&(T.e.c=N),o[0].slice(-2)==="/>"&&++N,Y=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<T.s.r&&(T.s.r=_),_>T.e.r&&(T.e.r=_),o[0].slice(-2)==="/>"&&(v=_c(o[0]),v.Index&&(_=+v.Index-1)),N=0,++_):(v=_c(o[0]),v.Index&&(_=+v.Index-1),Z={},(v.AutoFitHeight=="0"||v.Height)&&(Z.hpx=parseInt(v.Height,10),Z.hpt=I1(Z.hpx),ke[_]=Z),v.Hidden=="1"&&(Z.hidden=!0,ke[_]=Z));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));m.push(p),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(x["!ref"]=Rr(T),r.sheetRows&&r.sheetRows<=T.e.r&&(x["!fullref"]=x["!ref"],T.e.r=r.sheetRows-1,x["!ref"]=Rr(T))),F.length&&(x["!merges"]=F),X.length>0&&(x["!cols"]=X),ke.length>0&&(x["!rows"]=ke),f[p]=x}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=N=0,c.push([o[3],!1]),d=_c(o[0]),p=fa(d.Name),x=r.dense?[]:{},F=[],ce=[],ke=[],z={name:p,Hidden:0},V.Sheets.push(z);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),X=[],fe=!1}break;case"style":o[1]==="/"?l_e(L,D,r):D=_c(o[0]);break;case"numberformat":D.nf=fa(_c(o[0]).Format||"General"),a1[D.nf]&&(D.nf=a1[D.nf]);for(var ie=0;ie!=392&&yr[ie]!=D.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(yr[ie]==null){Id(D.nf,ie);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(re=_c(o[0]),re.Hidden&&(re.hidden=!0,delete re.Hidden),re.Width&&(re.wpx=parseInt(re.Width,10)),!fe&&re.wpx>10){fe=!0,Rs=k$;for(var je=0;je<X.length;++je)X[je]&&vf(X[je])}fe&&vf(re),X[re.Index-1||X.length]=re;for(var Me=0;Me<+re.Span;++Me)X[X.length]=fn(re);break;case"namedrange":if(o[1]==="/")break;V.Names||(V.Names=[]);var J=kr(o[0]),ge={Name:J.Name,Ref:zp(J.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(ge.Sheet=V.Sheets.length-1),V.Names.push(ge);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?R+=a.slice(U,o.index):U=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=_c(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?L1e(W,Q,a.slice(M,o.index)):M=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));u_e(ne),Y.push(ne)}else c.push([o[3],!1]),d=_c(o[0]),ne={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var be=_c(o[0]);x["!autofilter"]={ref:zp(be.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return SL(a,r);var oe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:oe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:oe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:oe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:oe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(a.slice(M,o.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else M=o.index+o[0].length;break;case"header":x["!margins"]||Fh(x["!margins"]={},"xlml"),isNaN(+kr(o[0]).Margin)||(x["!margins"].header=+kr(o[0]).Margin);break;case"footer":x["!margins"]||Fh(x["!margins"]={},"xlml"),isNaN(+kr(o[0]).Margin)||(x["!margins"].footer=+kr(o[0]).Margin);break;case"pagemargins":var Ue=kr(o[0]);x["!margins"]||Fh(x["!margins"]={},"xlml"),isNaN(+Ue.Top)||(x["!margins"].top=+Ue.Top),isNaN(+Ue.Left)||(x["!margins"].left=+Ue.Left),isNaN(+Ue.Right)||(x["!margins"].right=+Ue.Right),isNaN(+Ue.Bottom)||(x["!margins"].bottom=+Ue.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:oe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:oe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:oe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:oe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:oe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:oe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:oe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:oe=!1}break;case"smarttags":break;default:oe=!1;break}if(oe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?s_e(O,Q,H,a.slice(M,o.index)):(H=o,M=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ve={};return!r.bookSheets&&!r.bookProps&&(ve.Sheets=f),ve.SheetNames=m,ve.Workbook=V,ve.SSF=fn(yr),ve.Props=W,ve.Custprops=O,ve}function WS(e,t){switch(jA(t=t||{}),t.type||"base64"){case"base64":return k_(hl(e),t);case"binary":case"buffer":case"file":return k_(e,t);case"array":return k_(Af(e),t)}}function d_e(e,t){var r=[];return e.Props&&r.push(M1e(e.Props,t)),e.Custprops&&r.push(R1e(e.Props,e.Custprops)),r.join("")}function f_e(){return""}function h_e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(_t("NumberFormat",null,{"ss:Format":La(yr[a.numFmtId])}));var s={"ss:ID":"s"+(21+n)};r.push(_t("Style",i.join(""),s))}),_t("Styles",r.join(""))}function Y$(e){return _t("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+bA(e.Ref,{r:0,c:0})})}function m_e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(Y$(n)))}return _t("Names",r.join(""))}function p_e(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],s=0;s<n.length;++s){var o=n[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(Y$(o)))}return i.join("")}function g_e(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(_t("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(_t("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(_t("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(_t("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(ys("ProtectContents","True")),e["!protect"].objects&&n.push(ys("ProtectObjects","True")),e["!protect"].scenarios&&n.push(ys("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(ys("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(ys("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&n.push("<"+s[1]+"/>")})),n.length==0?"":_t("WorksheetOptions",n.join(""),{xmlns:tl.x})}function x_e(e){return e.map(function(t){var r=Fxe(t.t||""),a=_t("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return _t("Comment",a,{"ss:Author":t.a})}).join("")}function v_e(e,t,r,a,n,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+La(bA(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=Dn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=La(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=La(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],f=0;f!=d.length;++f)d[f].s.c!=s.c||d[f].s.r!=s.r||(d[f].e.c>d[f].s.c&&(o["ss:MergeAcross"]=d[f].e.c-d[f].s.c),d[f].e.r>d[f].s.r&&(o["ss:MergeDown"]=d[f].e.r-d[f].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=o0[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||yr[14]);break;case"s":m="String",x=Ixe(e.v||"");break}var p=Ef(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var y=e.v!=null?x:"",v=e.t=="z"?"":'<Data ss:Type="'+m+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=x_e(e.c)),_t("Cell",v,o)}function y_e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=gg(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function b_e(e,t,r,a){if(!e["!ref"])return"";var n=ha(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,k){vf(b);var N=!!b.width,_=Jw(k,b),T={"ss:Index":k+1};N&&(T["ss:Width"]=M1(_.width)),b.hidden&&(T["ss:Hidden"]="1"),o.push(_t("Column",null,T))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var f=[y_e(d,(e["!rows"]||[])[d])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>m)&&!(i[s].s.r>d)&&!(i[s].e.c<m)&&!(i[s].e.r<d)){(i[s].s.c!=m||i[s].s.r!=d)&&(x=!0);break}if(!x){var p={r:d,c:m},y=br(p),v=c?(e[d]||[])[m]:e[y];f.push(v_e(v,y,e,t,r,a,p))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function w_e(e,t,r){var a=[],n=r.SheetNames[e],i=r.Sheets[n],s=i?p_e(i,t,e,r):"";return s.length>0&&a.push("<Names>"+s+"</Names>"),s=i?b_e(i,t,e,r):"",s.length>0&&a.push("<Table>"+s+"</Table>"),a.push(g_e(i,t,e,r)),a.join("")}function k_e(e,t){t||(t={}),e.SSF||(e.SSF=fn(yr)),e.SSF&&(Ig(),Ww(e.SSF),t.revssf=Kw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Ef(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(d_e(e,t)),r.push(f_e()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(_t("Worksheet",w_e(a,t,e),{"ss:Name":La(e.SheetNames[a])}));return r[2]=h_e(e,t),r[3]=m_e(e),li+_t("Workbook",r.join(""),{xmlns:tl.ss,"xmlns:o":tl.o,"xmlns:x":tl.x,"xmlns:ss":tl.ss,"xmlns:dt":tl.dt,"xmlns:html":tl.html})}function __e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=m1e(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=p1e(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var S_e=[60,1084,2066,2165,2175];function N_e(e,t,r,a,n){var i=a,s=[],o=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}s.push(o),r.l+=i;for(var c=Td(r,r.l),d=VS[c],f=0;d!=null&&S_e.indexOf(c)>-1;)i=Td(r,r.l+2),f=r.l+4,c==2066?f+=4:(c==2165||c==2175)&&(f+=12),o=r.slice(f,r.l+4+i),s.push(o),r.l+=4+i,d=VS[c=Td(r,r.l)];var m=rs(s);vs(m,0);var x=0;m.lens=[];for(var p=0;p<s.length;++p)m.lens.push(x),x+=s[p].length;if(m.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+a;return t.f(m,m.length,n)}function mu(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=yr[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||o0[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=E1(e.v):e.w=tm(e.v):e.w=Xl(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&Rg(yr[a]||String(a))){var n=bh(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function sb(e,t,r){return{v:e,ixfe:t,t:r}}function j_e(e,t){var r={opts:{}},a={},n=t.dense?[]:{},i={},s={},o=null,c=[],d="",f={},m,x="",p,y,v,b,k={},N=[],_,T,L=[],D=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},U={},F=function(bt){return bt<8?Mh[bt]:bt<64&&D[bt-8]||Mh[bt]},W=function(bt,Et,Tr){var Gt=Et.XF.data;if(!(!Gt||!Gt.patternType||!Tr||!Tr.cellStyles)){Et.s={},Et.s.patternType=Gt.patternType;var Nt;(Nt=L1(F(Gt.icvFore)))&&(Et.s.fgColor={rgb:Nt}),(Nt=L1(F(Gt.icvBack)))&&(Et.s.bgColor={rgb:Nt})}},O=function(bt,Et,Tr){if(!(Z>1)&&!(Tr.sheetRows&&bt.r>=Tr.sheetRows)){if(Tr.cellStyles&&Et.XF&&Et.XF.data&&W(bt,Et,Tr),delete Et.ixfe,delete Et.XF,m=bt,x=br(bt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),bt.r<s.s.r&&(s.s.r=bt.r),bt.c<s.s.c&&(s.s.c=bt.c),bt.r+1>s.e.r&&(s.e.r=bt.r+1),bt.c+1>s.e.c&&(s.e.c=bt.c+1),Tr.cellFormula&&Et.f){for(var Gt=0;Gt<N.length;++Gt)if(!(N[Gt][0].s.c>bt.c||N[Gt][0].s.r>bt.r)&&!(N[Gt][0].e.c<bt.c||N[Gt][0].e.r<bt.r)){Et.F=Rr(N[Gt][0]),(N[Gt][0].s.c!=bt.c||N[Gt][0].s.r!=bt.r)&&delete Et.f,Et.f&&(Et.f=""+Ls(N[Gt][1],s,bt,ce,M));break}}Tr.dense?(n[bt.r]||(n[bt.r]=[]),n[bt.r][bt.c]=Et):n[x]=Et}},M={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(M.password=t.password);var H,Y=[],ne=[],X=[],re=[],fe=!1,ce=[];ce.SheetNames=M.snames,ce.sharedf=M.sharedf,ce.arrayf=M.arrayf,ce.names=[],ce.XTI=[];var ke=0,Z=0,P=0,q=[],V=[],z;M.codepage=1200,Lc(1200);for(var Q=!1;e.l<e.length-1;){var de=e.l,Ee=e.read_shift(2);if(Ee===0&&ke===10)break;var ie=e.l===e.length?0:e.read_shift(2),je=VS[Ee];if(je&&je.f){if(t.bookSheets&&ke===133&&Ee!==133)break;if(ke=Ee,je.r===2||je.r==12){var Me=e.read_shift(2);if(ie-=2,!M.enc&&Me!==Ee&&((Me&255)<<8|Me>>8)!==Ee)throw new Error("rt mismatch: "+Me+"!="+Ee);je.r==12&&(e.l+=10,ie-=10)}var J={};if(Ee===10?J=je.f(e,ie,M):J=N_e(Ee,je,e,ie,M),Z==0&&[9,521,1033,2057].indexOf(ke)===-1)continue;switch(Ee){case 34:r.opts.Date1904=R.WBProps.date1904=J;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(e.l=0),M.enc=J,!t.password)throw new Error("File is password-protected");if(J.valid==null)throw new Error("Encryption scheme unsupported");if(!J.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=J;break;case 66:var ge=Number(J);switch(ge){case 21010:ge=1200;break;case 32768:ge=1e4;break;case 32769:ge=1252;break}Lc(M.codepage=ge),Q=!0;break;case 317:M.rrtabid=J;break;case 25:M.winlocked=J;break;case 439:r.opts.RefreshAll=J;break;case 12:r.opts.CalcCount=J;break;case 16:r.opts.CalcDelta=J;break;case 17:r.opts.CalcIter=J;break;case 13:r.opts.CalcMode=J;break;case 14:r.opts.CalcPrecision=J;break;case 95:r.opts.CalcSaveRecalc=J;break;case 15:M.CalcRefMode=J;break;case 2211:r.opts.FullCalc=J;break;case 129:J.fDialog&&(n["!type"]="dialog"),J.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),J.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:L.push(J);break;case 430:ce.push([J]),ce[ce.length-1].XTI=[];break;case 35:case 547:ce[ce.length-1].push(J);break;case 24:case 536:z={Name:J.Name,Ref:Ls(J.rgce,s,null,ce,M)},J.itab>0&&(z.Sheet=J.itab-1),ce.names.push(z),ce[0]||(ce[0]=[],ce[0].XTI=[]),ce[ce.length-1].push(J),J.Name=="_xlnm._FilterDatabase"&&J.itab>0&&J.rgce&&J.rgce[0]&&J.rgce[0][0]&&J.rgce[0][0][0]=="PtgArea3d"&&(V[J.itab-1]={ref:Rr(J.rgce[0][0][1][2])});break;case 22:M.ExternCount=J;break;case 23:ce.length==0&&(ce[0]=[],ce[0].XTI=[]),ce[ce.length-1].XTI=ce[ce.length-1].XTI.concat(J),ce.XTI=ce.XTI.concat(J);break;case 2196:if(M.biff<8)break;z!=null&&(z.Comment=J[1]);break;case 18:n["!protect"]=J;break;case 19:J!==0&&M.WTF&&console.error("Password verifier: "+J);break;case 133:i[J.pos]=J,M.snames.push(J.name);break;case 10:{if(--Z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,n["!ref"]=Rr(s),t.sheetRows&&t.sheetRows<=s.e.r){var be=s.e.r;s.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Rr(s),s.e.r=be}s.e.r++,s.e.c++}Y.length>0&&(n["!merges"]=Y),ne.length>0&&(n["!objects"]=ne),X.length>0&&(n["!cols"]=X),re.length>0&&(n["!rows"]=re),R.Sheets.push(U)}d===""?f=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[J.BIFFVer]||8),M.biffguess=J.BIFFVer==0,J.BIFFVer==0&&J.dt==4096&&(M.biff=5,Q=!0,Lc(M.codepage=28591)),M.biff==8&&J.BIFFVer==0&&J.dt==16&&(M.biff=2),Z++)break;if(n=t.dense?[]:{},M.biff<8&&!Q&&(Q=!0,Lc(M.codepage=t.codepage||1252)),M.biff<5||J.BIFFVer==0&&J.dt==4096){d===""&&(d="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var oe={pos:e.l-ie,name:d};i[oe.pos]=oe,M.snames.push(d)}else d=(i[de]||{name:""}).name;J.dt==32&&(n["!type"]="chart"),J.dt==64&&(n["!type"]="macro"),Y=[],ne=[],M.arrayf=N=[],X=[],re=[],fe=!1,U={Hidden:(i[de]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[J.r]||[])[J.c]:n[br({c:J.c,r:J.r})])&&++J.c,_={ixfe:J.ixfe,XF:L[J.ixfe]||{},v:J.val,t:"n"},P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 5:case 517:_={ixfe:J.ixfe,XF:L[J.ixfe],v:J.val,t:J.t},P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 638:_={ixfe:J.ixfe,XF:L[J.ixfe],v:J.rknum,t:"n"},P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 189:for(var Ue=J.c;Ue<=J.C;++Ue){var ve=J.rkrec[Ue-J.c][0];_={ixfe:ve,XF:L[ve],v:J.rkrec[Ue-J.c][1],t:"n"},P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:Ue,r:J.r},_,t)}break;case 6:case 518:case 1030:{if(J.val=="String"){o=J;break}if(_=sb(J.val,J.cell.ixfe,J.tt),_.XF=L[_.ixfe],t.cellFormula){var Ge=J.formula;if(Ge&&Ge[0]&&Ge[0][0]&&Ge[0][0][0]=="PtgExp"){var $e=Ge[0][0][1][0],ft=Ge[0][0][1][1],Je=br({r:$e,c:ft});k[Je]?_.f=""+Ls(J.formula,s,J.cell,ce,M):_.F=((t.dense?(n[$e]||[])[ft]:n[Je])||{}).F}else _.f=""+Ls(J.formula,s,J.cell,ce,M)}P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O(J.cell,_,t),o=J}break;case 7:case 519:if(o)o.val=J,_=sb(J,o.cell.ixfe,"s"),_.XF=L[_.ixfe],t.cellFormula&&(_.f=""+Ls(o.formula,s,o.cell,ce,M)),P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(J);var kt=br(J[0].s);if(p=t.dense?(n[J[0].s.r]||[])[J[0].s.c]:n[kt],t.cellFormula&&p){if(!o||!kt||!p)break;p.f=""+Ls(J[1],s,J[0],ce,M),p.F=Rr(J[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!o)break;k[br(o.cell)]=J[0],p=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[br(o.cell)],(p||{}).f=""+Ls(J[0],s,m,ce,M)}}break;case 253:_=sb(c[J.isst].t,J.ixfe,"s"),c[J.isst].h&&(_.h=c[J.isst].h),_.XF=L[_.ixfe],P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:J.ixfe,XF:L[J.ixfe],t:"z"},P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t));break;case 190:if(t.sheetStubs)for(var At=J.c;At<=J.C;++At){var Rt=J.ixfe[At-J.c];_={ixfe:Rt,XF:L[Rt],t:"z"},P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:At,r:J.r},_,t)}break;case 214:case 516:case 4:_=sb(J.val,J.ixfe,"s"),_.XF=L[_.ixfe],P>0&&(_.z=q[_.ixfe>>8&63]),mu(_,t,r.opts.Date1904),O({c:J.c,r:J.r},_,t);break;case 0:case 512:Z===1&&(s=J);break;case 252:c=J;break;case 1054:if(M.biff==4){q[P++]=J[1];for(var ar=0;ar<P+163&&yr[ar]!=J[1];++ar);ar>=163&&Id(J[1],P+163)}else Id(J[1],J[0]);break;case 30:{q[P++]=J;for(var nr=0;nr<P+163&&yr[nr]!=J;++nr);nr>=163&&Id(J,P+163)}break;case 229:Y=Y.concat(J);break;case 93:ne[J.cmo[0]]=M.lastobj=J;break;case 438:M.lastobj.TxO=J;break;case 127:M.lastobj.ImData=J;break;case 440:for(b=J[0].s.r;b<=J[0].e.r;++b)for(v=J[0].s.c;v<=J[0].e.c;++v)p=t.dense?(n[b]||[])[v]:n[br({c:v,r:b})],p&&(p.l=J[1]);break;case 2048:for(b=J[0].s.r;b<=J[0].e.r;++b)for(v=J[0].s.c;v<=J[0].e.c;++v)p=t.dense?(n[b]||[])[v]:n[br({c:v,r:b})],p&&p.l&&(p.l.Tooltip=J[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;p=t.dense?(n[J[0].r]||[])[J[0].c]:n[br(J[0])];var $r=ne[J[2]];p||(t.dense?(n[J[0].r]||(n[J[0].r]=[]),p=n[J[0].r][J[0].c]={t:"z"}):p=n[br(J[0])]={t:"z"},s.e.r=Math.max(s.e.r,J[0].r),s.s.r=Math.min(s.s.r,J[0].r),s.e.c=Math.max(s.e.c,J[0].c),s.s.c=Math.min(s.s.c,J[0].c)),p.c||(p.c=[]),y={a:J[1],t:$r.TxO.t},p.c.push(y)}break;case 2173:h2e(L[J.ixfe],J.ext);break;case 125:{if(!M.cellStyles)break;for(;J.e>=J.s;)X[J.e--]={width:J.w/256,level:J.level||0,hidden:!!(J.flags&1)},fe||(fe=!0,xA(J.w/256)),vf(X[J.e+1])}break;case 520:{var It={};J.level!=null&&(re[J.r]=It,It.level=J.level),J.hidden&&(re[J.r]=It,It.hidden=!0),J.hpt&&(re[J.r]=It,It.hpt=J.hpt,It.hpx=gg(J.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Fh(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ee]]=J;break;case 161:n["!margins"]||Fh(n["!margins"]={}),n["!margins"].header=J.header,n["!margins"].footer=J.footer;break;case 574:J.RTL&&(R.Views[0].RTL=!0);break;case 146:D=J;break;case 2198:H=J;break;case 140:T=J;break;case 442:d?U.CodeName=J||U.name:R.WBProps.CodeName=J||"ThisWorkbook";break}}else je||console.error("Missing Info for XLS Record 0x"+Ee.toString(16)),e.l+=ie}return r.SheetNames=Yn(i).sort(function(St,bt){return Number(St)-Number(bt)}).map(function(St){return i[St].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&V.forEach(function(St,bt){r.Sheets[r.SheetNames[bt]]["!autofilter"]=St}),r.Strings=c,r.SSF=fn(yr),M.enc&&(r.Encryption=M.enc),H&&(r.Themes=H),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),ce.names.length>0&&(R.Names=ce.names),r.Workbook=R,r}var n1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function A_e(e,t,r){var a=dr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=eL(a,BS,n1.DSI);for(var i in n)t[i]=n[i]}catch(d){if(r.WTF)throw d}var s=dr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=eL(s,US,n1.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(Gq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function T_e(e,t){var r=[],a=[],n=[],i=0,s,o=CD(BS,"n"),c=CD(US,"n");if(e.Props)for(s=Yn(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?a:n).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Yn(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?a:n).push([s[i],e.Custprops[s[i]]]);var d=[];for(i=0;i<n.length;++i)t$.indexOf(n[i][0])>-1||Kq.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&dr.utils.cfb_add(t,"/SummaryInformation",tL(a,n1.SI,c,US)),(r.length||d.length)&&dr.utils.cfb_add(t,"/DocumentSummaryInformation",tL(r,n1.DSI,o,BS,d.length?d:null,n1.UDI))}function X$(e,t){t||(t={}),jA(t),Kj(),t.codepage&&Vj(t.codepage);var r,a;if(e.FullPaths){if(dr.find(e,"/encryption"))throw new Error("File is password-protected");r=dr.find(e,"!CompObj"),a=dr.find(e,"/Workbook")||dr.find(e,"/Book")}else{switch(t.type){case"base64":e=sl(hl(e));break;case"binary":e=sl(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}vs(e,0),a={content:e}}var n,i;if(r&&__e(r),t.bookProps&&!t.bookSheets)n={};else{var s=Hr?"buffer":"array";if(a&&a.content)n=j_e(a.content,t);else if((i=dr.find(e,"PerfectOffice_MAIN"))&&i.content)n=Ih.to_workbook(i.content,(t.type=s,t));else if((i=dr.find(e,"NativeContent_MAIN"))&&i.content)n=Ih.to_workbook(i.content,(t.type=s,t));else throw(i=dr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&dr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=z2e(e))}var o={};return e.FullPaths&&A_e(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function E_e(e,t){var r=t||{},a=dr.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return dr.utils.cfb_add(a,n,Q$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&T_e(e,a),r.biff==8&&e.vbaraw&&q2e(a,dr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var F1={0:{f:Z5e},1:{f:oke},2:{f:jke},3:{f:pke},4:{f:dke},5:{f:_ke},6:{f:Oke},7:{f:yke},8:{f:Fke},9:{f:Ike},10:{f:Mke},11:{f:Rke},12:{f:cke},13:{f:Tke},14:{f:xke},15:{f:hke},16:{f:q$},17:{f:Dke},18:{f:wke},19:{f:oA},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:D4e},40:{},42:{},43:{f:Obe},44:{f:Ebe},45:{f:Lbe},46:{f:Rbe},47:{f:Mbe},48:{},49:{f:r1e},50:{},51:{f:g2e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:f$},62:{f:Cke},63:{f:N2e},64:{f:e4e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Us,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ike},148:{f:rke,p:16},151:{f:Hke},152:{},153:{f:C4e},154:{},155:{},156:{f:T4e},157:{},158:{},159:{T:1,f:Vye},160:{T:-1},161:{T:1,f:xm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Bke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:m2e},336:{T:-1},337:{f:y2e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:FS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:d$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Wke},427:{f:Vke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Gke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nke},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:FS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:R2e},633:{T:1},634:{T:-1},635:{T:1,f:L2e},636:{T:-1},637:{f:s1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:x4e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:t4e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},VS={6:{f:b_},10:{f:$0},12:{f:xi},13:{f:xi},14:{f:ti},15:{f:ti},16:{f:Is},17:{f:ti},18:{f:ti},19:{f:xi},20:{f:oL},21:{f:oL},23:{f:d$},24:{f:cL},25:{f:ti},26:{},27:{},28:{f:tye},29:{},34:{f:ti},35:{f:lL},38:{f:Is},39:{f:Is},40:{f:Is},41:{f:Is},42:{f:ti},43:{f:ti},47:{f:hbe},49:{f:Tve},51:{f:xi},60:{},61:{f:_ve},64:{f:ti},65:{f:Ave},66:{f:xi},77:{},80:{},81:{},82:{},85:{f:xi},89:{},90:{},91:{},92:{f:fve},93:{f:nye},94:{},95:{f:ti},96:{},97:{},99:{f:ti},125:{f:f$},128:{f:$ve},129:{f:mve},130:{f:xi},131:{f:ti},132:{f:ti},133:{f:pve},134:{},140:{f:fye},141:{f:xi},144:{},146:{f:pye},151:{},152:{},153:{},154:{},155:{},156:{f:xi},157:{},158:{},160:{f:kye},161:{f:vye},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Bve},190:{f:Uve},193:{f:$0},197:{},198:{},199:{},200:{},201:{},202:{f:ti},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:xi},220:{},221:{f:ti},222:{},224:{f:qve},225:{f:dve},226:{f:$0},227:{},229:{f:rye},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:xve},253:{f:Cve},255:{f:yve},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:r$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ti},353:{f:$0},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Gve},431:{f:ti},432:{},433:{},434:{},437:{},438:{f:oye},439:{f:ti},440:{f:lye},441:{},442:{f:Nv},443:{},444:{f:xi},445:{},446:{},448:{f:$0},449:{f:kve,r:2},450:{f:$0},512:{f:nL},513:{f:wye},515:{f:Vve},516:{f:Pve},517:{f:sL},519:{f:_ye},520:{f:bve},523:{},545:{f:uL},549:{f:aL},566:{},574:{f:Nve},638:{f:Fve},659:{},1048:{},1054:{f:Lve},1084:{},1212:{f:Jve},2048:{f:uye},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ab},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$0},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:gye,r:12},2173:{f:f2e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ti,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Qve,r:12},2197:{},2198:{f:s2e,r:12},2199:{},2200:{},2201:{},2202:{f:Zve,r:12},2203:{f:$0},2204:{},2205:{},2206:{},2207:{},2211:{f:wve},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:xi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:yye},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:mye},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:nL},1:{},2:{f:Tye},3:{f:jye},4:{f:Nye},5:{f:sL},7:{f:Cye},8:{},9:{f:ab},11:{},22:{f:xi},30:{f:Rve},31:{},32:{},33:{f:uL},36:{},37:{f:aL},50:{f:Oye},62:{},52:{},67:{},68:{f:xi},69:{},86:{},126:{},127:{f:Sye},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Pye},223:{},234:{},354:{},421:{},518:{f:b_},521:{f:ab},536:{f:cL},547:{f:lL},561:{},579:{},1030:{f:b_},1033:{f:ab},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function jt(e,t,r,a){var n=t;if(!isNaN(n)){var i=a||(r||[]).length||0,s=e.next(4);s.write_shift(2,n),s.write_shift(2,i),i>0&&nA(r)&&e.push(r)}}function C_e(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return jt(e,t,r,n);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,d=0;d+(s[o]||8224)<=8224;)d+=s[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<n;){for(f=e.next(4),f.write_shift(2,60),d=0;d+(s[o]||8224)<=8224;)d+=s[o]||8224,o++;f.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function Ev(e,t,r){return e||(e=it(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function O_e(e,t,r,a){var n=it(9);return Ev(n,e,t),a$(r,a||"b",n),n}function P_e(e,t,r){var a=it(8+2*r.length);return Ev(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function D_e(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?Bi(dn(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?jt(e,2,Eye(r,a,n)):jt(e,3,Aye(r,a,n));return;case"b":case"e":jt(e,5,O_e(r,a,t.v,t.t));return;case"s":case"str":jt(e,4,P_e(r,a,(t.v||"").slice(0,255)));return}jt(e,1,Ev(null,r,a))}function L_e(e,t,r,a){var n=Array.isArray(t),i=ha(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Rr(i)}for(var d=i.s.r;d<=i.e.r;++d){o=oi(d);for(var f=i.s.c;f<=i.e.c;++f){d===i.s.r&&(c[f]=Pn(f)),s=c[f]+o;var m=n?(t[d]||[])[f]:t[s];m&&D_e(e,m,d,f)}}}function M_e(e,t){for(var r=t||{},a=Lo(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(n=i);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return jt(a,r.biff==4?1033:r.biff==3?521:9,mA(e,16,r)),L_e(a,e.Sheets[e.SheetNames[n]],n,r),jt(a,10),a.end()}function R_e(e,t,r){jt(e,49,Eve({sz:12,name:"Arial"},r))}function I_e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&jt(e,1054,Mve(n,t[n],r))})}function F_e(e,t){var r=it(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),jt(e,2151,r),r=it(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),l$(ha(t["!ref"]||"A1"),r),r.write_shift(4,4),jt(e,2152,r)}function B_e(e,t){for(var r=0;r<16;++r)jt(e,224,iL({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){jt(e,224,iL(a,0,t))})}function U_e(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];jt(e,440,cye(a)),a[1].Tooltip&&jt(e,2048,dye(a))}delete t["!links"]}function z_e(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&jt(e,125,xye(Jw(n,a),n))})}}function q_e(e,t,r,a,n){var i=16+Ef(n.cellXfs,t,n);if(t.v==null&&!t.bf){jt(e,513,im(r,a,i));return}if(t.bf)jt(e,6,m5e(t,r,a,n,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Bi(dn(t.v)):t.v;jt(e,515,Kve(r,a,s,i));break;case"b":case"e":jt(e,517,Wve(r,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=kA(n.Strings,t.v,n.revStrings);jt(e,253,Ove(r,a,o,i))}else jt(e,516,Dve(r,a,(t.v||"").slice(0,255),i,n));break;default:jt(e,513,im(r,a,i))}}function $_e(e,t,r){var a=Lo(),n=r.SheetNames[e],i=r.Sheets[n]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,f,m="",x=[],p=ha(i["!ref"]||"A1"),y=d?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}jt(a,2057,mA(r,16,t)),jt(a,13,ql(1)),jt(a,12,ql(100)),jt(a,15,ro(!0)),jt(a,17,ro(!1)),jt(a,16,am(.001)),jt(a,95,ro(!0)),jt(a,42,ro(!1)),jt(a,43,ro(!1)),jt(a,130,ql(1)),jt(a,128,Hve()),jt(a,131,ro(!1)),jt(a,132,ro(!1)),d&&z_e(a,i["!cols"]),jt(a,512,Ive(p,t)),d&&(i["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){m=oi(v);for(var b=p.s.c;b<=p.e.c;++b){v===p.s.r&&(x[b]=Pn(b)),f=x[b]+m;var k=c?(i[v]||[])[b]:i[f];k&&(q_e(a,k,v,b,t),d&&k.l&&i["!links"].push([f,k.l]))}}var N=o.CodeName||o.name||n;return d&&jt(a,574,jve((s.Views||[])[0])),d&&(i["!merges"]||[]).length&&jt(a,229,aye(i["!merges"])),d&&U_e(a,i),jt(a,442,n$(N)),d&&F_e(a,i),jt(a,10),a.end()}function H_e(e,t,r){var a=Lo(),n=(e||{}).Workbook||{},i=n.Sheets||[],s=n.WBProps||{},o=r.biff==8,c=r.biff==5;if(jt(a,2057,mA(e,5,r)),r.bookType=="xla"&&jt(a,135),jt(a,225,o?ql(1200):null),jt(a,193,W1e(2)),c&&jt(a,191),c&&jt(a,192),jt(a,226),jt(a,92,hve("SheetJS",r)),jt(a,66,ql(o?1200:1252)),o&&jt(a,353,ql(0)),o&&jt(a,448),jt(a,317,bye(e.SheetNames.length)),o&&e.vbaraw&&jt(a,211),o&&e.vbaraw){var d=s.CodeName||"ThisWorkbook";jt(a,442,n$(d))}jt(a,156,ql(17)),jt(a,25,ro(!1)),jt(a,18,ro(!1)),jt(a,19,ql(0)),o&&jt(a,431,ro(!1)),o&&jt(a,444,ql(0)),jt(a,61,Sve()),jt(a,64,ro(!1)),jt(a,141,ql(0)),jt(a,34,ro(k4e(e)=="true")),jt(a,14,ro(!0)),o&&jt(a,439,ro(!1)),jt(a,218,ql(0)),R_e(a,e,r),I_e(a,e.SSF,r),B_e(a,r),o&&jt(a,352,ro(!1));var f=a.end(),m=Lo();o&&jt(m,140,hye()),o&&r.Strings&&C_e(m,252,vve(r.Strings)),jt(m,10);var x=m.end(),p=Lo(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var b=f.length+y+x.length;for(v=0;v<e.SheetNames.length;++v){var k=i[v]||{};jt(p,133,gve({pos:b,hs:k.Hidden||0,dt:0,name:e.SheetNames[v]},r)),b+=t[v].length}var N=p.end();if(y!=N.length)throw new Error("BS8 "+y+" != "+N.length);var _=[];return f.length&&_.push(f),N.length&&_.push(N),x.length&&_.push(x),rs(_)}function W_e(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=fn(yr)),e&&e.SSF&&(Ig(),Ww(e.SSF),r.revssf=Kw(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,AA(r),r.cellXfs=[],Ef(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=$_e(n,r,e);return a.unshift(H_e(e,a,r)),rs(a)}function Q$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=Mo(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return W_e(e,t);case 4:case 3:case 2:return M_e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function bL(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=n.index,o=i&&i.index||e.length,c=Exe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,f=0,m=0,x=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(s=0;s<c.length;++s){var v=c[s].trim(),b=v.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}f=0;continue}if(!(b!="<td"&&b!="<th")){var k=v.split(/<\/t[dh]>/i);for(o=0;o<k.length;++o){var N=k[o].trim();if(N.match(/<t[dh]/i)){for(var _=N,T=0;_.charAt(0)=="<"&&(T=_.indexOf(">"))>-1;)_=_.slice(T+1);for(var L=0;L<y.length;++L){var D=y[L];D.s.c==f&&D.s.r<d&&d<=D.e.r&&(f=D.e.c+1,L=-1)}var R=kr(N.slice(0,N.indexOf(">")));x=R.colspan?+R.colspan:1,((m=+R.rowspan)>1||x>1)&&y.push({s:{r:d,c:f},e:{r:d+(m||1)-1,c:f+x-1}});var U=R.t||R["data-t"]||"";if(!_.length){f+=x;continue}if(_=wq(_),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!_.length){f+=x;continue}var F={t:"s",v:_};r.raw||!_.trim().length||U=="s"||(_==="TRUE"?F={t:"b",v:!0}:_==="FALSE"?F={t:"b",v:!1}:isNaN(Ic(_))?isNaN(mg(_).getDate())||(F={t:"d",v:dn(_)},r.cellDates||(F={t:"n",v:Bi(F.v)}),F.z=r.dateNF||yr[14]):F={t:"n",v:Ic(_)}),r.dense?(a[d]||(a[d]=[]),a[d][f]=F):a[br({r:d,c:f})]=F,f+=x}}}}return a["!ref"]=Rr(p),y.length&&(a["!merges"]=y),a}function V_e(e,t,r,a){for(var n=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>r||n[d].s.c>s)&&!(n[d].e.r<r||n[d].e.c<s)){if(n[d].s.r<r||n[d].s.c<s){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var f=br({r,c:s}),m=a.dense?(e[r]||[])[s]:e[f],x=m&&m.v!=null&&(m.h||tA(m.w||(Gd(m),m.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(p["data-t"]=m&&m.t||"z",m.v!=null&&(p["data-v"]=m.v),m.z!=null&&(p["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),p.id=(a.id||"sjs")+"-"+f,i.push(_t("td",x,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var K_e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',G_e="</body></html>";function Y_e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Tf(bL(r[0],t),t);var a=CA();return r.forEach(function(n,i){OA(a,bL(n,t),"Sheet"+(i+1))}),a}function X_e(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function J$(e,t){var r=t||{},a=r.header!=null?r.header:K_e,n=r.footer!=null?r.footer:G_e,i=[a],s=Mo(e["!ref"]);r.dense=Array.isArray(e),i.push(X_e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(V_e(e,s,o,r));return i.push("</table>"+n),i.join("")}function Z$(e,t,r){var a=r||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var s=typeof a.origin=="string"?Dn(a.origin):a.origin;n=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var f=Mo(e["!ref"]);d.s.r=Math.min(d.s.r,f.s.r),d.s.c=Math.min(d.s.c,f.s.c),d.e.r=Math.max(d.e.r,f.e.r),d.e.c=Math.max(d.e.c,f.e.c),n==-1&&(d.e.r=n=f.e.r+1)}var m=[],x=0,p=e["!rows"]||(e["!rows"]=[]),y=0,v=0,b=0,k=0,N=0,_=0;for(e["!cols"]||(e["!cols"]=[]);y<o.length&&v<c;++y){var T=o[y];if(wL(T)){if(a.display)continue;p[v]={hidden:!0}}var L=T.children;for(b=k=0;b<L.length;++b){var D=L[b];if(!(a.display&&wL(D))){var R=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):wq(D.innerHTML),U=D.getAttribute("data-z")||D.getAttribute("z");for(x=0;x<m.length;++x){var F=m[x];F.s.c==k+i&&F.s.r<v+n&&v+n<=F.e.r&&(k=F.e.c+1-i,x=-1)}_=+D.getAttribute("colspan")||1,((N=+D.getAttribute("rowspan")||1)>1||_>1)&&m.push({s:{r:v+n,c:k+i},e:{r:v+n+(N||1)-1,c:k+i+(_||1)-1}});var W={t:"s",v:R},O=D.getAttribute("data-t")||D.getAttribute("t")||"";R!=null&&(R.length==0?W.t=O||"z":a.raw||R.trim().length==0||O=="s"||(R==="TRUE"?W={t:"b",v:!0}:R==="FALSE"?W={t:"b",v:!1}:isNaN(Ic(R))?isNaN(mg(R).getDate())||(W={t:"d",v:dn(R)},a.cellDates||(W={t:"n",v:Bi(W.v)}),W.z=a.dateNF||yr[14]):W={t:"n",v:Ic(R)})),W.z===void 0&&U!=null&&(W.z=U);var M="",H=D.getElementsByTagName("A");if(H&&H.length)for(var Y=0;Y<H.length&&!(H[Y].hasAttribute("href")&&(M=H[Y].getAttribute("href"),M.charAt(0)!="#"));++Y);M&&M.charAt(0)!="#"&&(W.l={Target:M}),a.dense?(e[v+n]||(e[v+n]=[]),e[v+n][k+i]=W):e[br({c:k+i,r:v+n})]=W,d.e.c<k+i&&(d.e.c=k+i),k+=_}}++v}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,v-1+n),e["!ref"]=Rr(d),v>=c&&(e["!fullref"]=Rr((d.e.r=o.length-y+v-1+n,d))),e}function eH(e,t){var r=t||{},a=r.dense?[]:{};return Z$(a,e,t)}function Q_e(e,t){return Tf(eH(e,t),t)}function wL(e){var t="",r=J_e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function J_e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Z_e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=fa(t.replace(/<[^>]*>/g,""));return[r]}var kL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function tH(e,t){var r=t||{},a=rA(e),n=[],i,s,o={name:""},c="",d=0,f,m,x={},p=[],y=r.dense?[]:{},v,b,k={value:""},N="",_=0,T=[],L=-1,D=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},U=0,F={},W=[],O={},M=0,H=0,Y=[],ne=1,X=1,re=[],fe={Names:[]},ce={},ke=["",""],Z=[],P={},q="",V=0,z=!1,Q=!1,de=0;for(P1.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=P1.exec(a);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?y["!ref"]=Rr(R):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=R.e.r&&(y["!fullref"]=y["!ref"],R.e.r=r.sheetRows-1,y["!ref"]=Rr(R)),W.length&&(y["!merges"]=W),Y.length&&(y["!rows"]=Y),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),x[f.name]=y,Q=!1):v[0].charAt(v[0].length-2)!=="/"&&(f=kr(v[0],!1),L=D=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,y=r.dense?[]:{},W=[],Y=[],Q=!0);break;case"table-row-group":v[1]==="/"?--U:++U;break;case"table-row":case"":if(v[1]==="/"){L+=ne,ne=1;break}if(m=kr(v[0],!1),m.?L=m.-1:L==-1&&(L=0),ne=+m["number-rows-repeated"]||1,ne<10)for(de=0;de<ne;++de)U>0&&(Y[L+de]={level:U});D=-1;break;case"covered-table-cell":v[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(y[L]||(y[L]=[]),y[L][D]={t:"z"}):y[br({r:L,c:D})]={t:"z"}),N="",T=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++D,k=kr(v[0],!1),X=parseInt(k["number-columns-repeated"]||"1",10),b={t:"z",v:null},k.formula&&r.cellFormula!=!1&&(b.f=xL(fa(k.formula))),(k.||k["value-type"])=="string"&&(b.t="s",b.v=fa(k["string-value"]||""),r.dense?(y[L]||(y[L]=[]),y[L][D]=b):y[br({r:L,c:D})]=b),D+=X-1;else if(v[1]!=="/"){++D,N="",_=0,T=[],X=1;var Ee=ne?L+ne-1:L;if(D>R.e.c&&(R.e.c=D),D<R.s.c&&(R.s.c=D),L<R.s.r&&(R.s.r=L),Ee>R.e.r&&(R.e.r=Ee),k=kr(v[0],!1),Z=[],P={},b={t:k.||k["value-type"],v:null},r.cellFormula)if(k.formula&&(k.formula=fa(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(M=parseInt(k["number-matrix-rows-spanned"],10)||0,H=parseInt(k["number-matrix-columns-spanned"],10)||0,O={s:{r:L,c:D},e:{r:L+M-1,c:D+H-1}},b.F=Rr(O),re.push([O,b.F])),k.formula)b.f=xL(k.formula);else for(de=0;de<re.length;++de)L>=re[de][0].s.r&&L<=re[de][0].e.r&&D>=re[de][0].s.c&&D<=re[de][0].e.c&&(b.F=re[de][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(M=parseInt(k["number-rows-spanned"],10)||0,H=parseInt(k["number-columns-spanned"],10)||0,O={s:{r:L,c:D},e:{r:L+M-1,c:D+H-1}},W.push(O)),k["number-columns-repeated"]&&(X=parseInt(k["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=ln(k["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(k.value);break;case"percentage":b.t="n",b.v=parseFloat(k.value);break;case"currency":b.t="n",b.v=parseFloat(k.value);break;case"date":b.t="d",b.v=dn(k["date-value"]),r.cellDates||(b.t="n",b.v=Bi(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=jxe(k["time-value"])/86400,r.cellDates&&(b.t="d",b.v=Gw(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(k.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",k["string-value"]!=null&&(N=fa(k["string-value"]),T=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(z=!1,b.t==="s"&&(b.v=N||"",T.length&&(b.R=T),z=_==0),ce.Target&&(b.l=ce),Z.length>0&&(b.c=Z,Z=[]),N&&r.cellText!==!1&&(b.w=N),z&&(b.t="z",delete b.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=L))for(var ie=0;ie<ne;++ie){if(X=parseInt(k["number-columns-repeated"]||"1",10),r.dense)for(y[L+ie]||(y[L+ie]=[]),y[L+ie][D]=ie==0?b:fn(b);--X>0;)y[L+ie][D+X]=fn(b);else for(y[br({r:L+ie,c:D})]=b;--X>0;)y[br({r:L+ie,c:D+X})]=fn(b);R.e.c<=D&&(R.e.c=D)}X=parseInt(k["number-columns-repeated"]||"1",10),D+=X-1,X=0,b={},N="",T=[]}ce={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i;P.t=N,T.length&&(P.R=T),P.a=q,Z.push(P)}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);q="",V=0,N="",_=0,T=[];break;case"creator":v[1]==="/"?q=a.slice(V,v.index):V=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);N="",_=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(F[o.name]=c,(i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(c="",o=kr(v[0],!1),n.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":s=kr(v[0],!1),c+=kL[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":s=kr(v[0],!1),c+=kL[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":s=kr(v[0],!1),ke=w_(s["cell-range-address"]);var je={Name:s.name,Ref:ke[0]+"!"+ke[1]};Q&&(je.Sheet=p.length),fe.Names.push(je);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(v[1]==="/"&&(!k||!k["string-value"])){var Me=Z_e(a.slice(_,v.index));N=(N.length>0?N+`
`:"")+Me[0]}else kr(v[0],!1),_=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ke=w_(kr(v[0])["target-range-address"]),x[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ce=kr(v[0],!1),!ce.href)break;ce.Target=fa(ce.href),delete ce.href,ce.Target.charAt(0)=="#"&&ce.Target.indexOf(".")>-1?(ke=w_(ce.Target.slice(1)),ce.Target="#"+ke[0]+"!"+ke[1]):ce.Target.match(/^\.\.[\\\/]/)&&(ce.Target=ce.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var J={Sheets:x,SheetNames:p,Workbook:fe};return r.bookSheets&&delete J.Sheets,J}function _L(e,t){t=t||{},Ul(e,"META-INF/manifest.xml")&&j1e(gi(e,"META-INF/manifest.xml"),t);var r=ol(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=tH(Ha(r),t);return Ul(e,"meta.xml")&&(a.Props=Wq(gi(e,"meta.xml"))),a}function SL(e,t){return tH(e,t)}var e3e=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+O1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return li+t}})(),NL=(function(){var e=function(i){return La(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,s,o){var c=[];c.push('      <table:table table:name="'+La(s.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,f=0,m=Mo(i["!ref"]||"A1"),x=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(f=0;f<=m.e.c;++f)c.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var v="",b=i["!rows"]||[];for(d=0;d<m.s.r;++d)v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=m.e.r;++d){for(v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+v+`>
`),f=0;f<m.s.c;++f)c.push(t);for(;f<=m.e.c;++f){var k=!1,N={},_="";for(p=0;p!=x.length;++p)if(!(x[p].s.c>f)&&!(x[p].s.r>d)&&!(x[p].e.c<f)&&!(x[p].e.r<d)){(x[p].s.c!=f||x[p].s.r!=d)&&(k=!0),N["table:number-columns-spanned"]=x[p].e.c-x[p].s.c+1,N["table:number-rows-spanned"]=x[p].e.r-x[p].s.r+1;break}if(k){c.push(r);continue}var T=br({r:d,c:f}),L=y?(i[d]||[])[f]:i[T];if(L&&L.f&&(N["table:formula"]=La(b5e(L.f)),L.F&&L.F.slice(0,T.length)==T)){var D=Mo(L.F);N["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,N["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!L){c.push(t);continue}switch(L.t){case"b":_=L.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=L.v?"true":"false";break;case"n":_=L.w||String(L.v||0),N["office:value-type"]="float",N["office:value"]=L.v||0;break;case"s":case"str":_=L.v==null?"":L.v,N["office:value-type"]="string";break;case"d":_=L.w||dn(L.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=dn(L.v).toISOString(),N["table:style-name"]="ce1";break;default:c.push(t);continue}var R=e(_);if(L.l&&L.l.Target){var U=L.l.Target;U=U.charAt(0)=="#"?"#"+w5e(U.slice(1)):U,U.charAt(0)!="#"&&!U.match(/^\w+:/)&&(U="../"+U),R=_t("text:a",R,{"xlink:href":U.replace(/&/g,"&amp;")})}c.push("          "+_t("table:table-cell",_t("text:p",R,{}),N)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var f=0;f<d["!cols"].length;++f)if(d["!cols"][f]){var m=d["!cols"][f];if(m.width==null&&m.wpx==null&&m.wch==null)continue;vf(m),m.ods=o;var x=d["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var f=0;f<d["!rows"].length;++f)if(d["!rows"][f]){d["!rows"][f].ods=c;var m=d["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[li],d=O1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=O1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+f+`>
`),c.push(Hq().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var m=0;m!=s.SheetNames.length;++m)c.push(a(s.Sheets[s.SheetNames[m]],s,m));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function rH(e,t){if(t.bookType=="fods")return NL(e,t);var r=Jj(),a="",n=[],i=[];return a="mimetype",Fr(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Fr(r,a,NL(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Fr(r,a,e3e(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Fr(r,a,li+Hq()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Fr(r,a,E1e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Fr(r,a,A1e(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function sm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function KS(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ha(Af(e))}function t3e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):sl(Tu(e))}function r3e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function bf(e){var t=e.reduce(function(n,i){return n+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function jL(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function a3e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function n3e(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=r>=0?0:128}function B1(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Ca(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Kn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function xa(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=B1(e,r),i=n&7;n=Math.floor(n/8);var s=0,o;if(n==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=B1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function ps(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(Ca(a*8+n.type)),n.type==2&&t.push(Ca(n.data.length)),t.push(n.data))})}),bf(t)}function NA(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Fl(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=B1(e,a),i=xa(e.slice(a[0],a[0]+n));a[0]+=n;var s={id:Kn(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=xa(o.data),d=Kn(c[3][0].data);s.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(s.merge=Kn(i[3][0].data)>>>0>0),r.push(s)}return r}function bp(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Ca(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Ca(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(s){n.push(s.data),s.meta[3]=[{type:0,data:Ca(s.data.length)}],a[2].push({data:ps(s.meta),type:2})});var i=ps(a);t.push(Ca(i.length)),t.push(i),n.forEach(function(s){return t.push(s)})}),bf(t)}function i3e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=B1(t,r),n=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}n.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[bf(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var f=bf(n);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function Bl(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(i3e(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return bf(t)}function wp(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var i=Ca(a),s=i.length;t.push(i),a<=60?(s++,t.push(new Uint8Array([a-1<<2]))):a<=256?(s+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(s+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(s+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(s+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),s+=a,n[0]=0,n[1]=s&255,n[2]=s>>8&255,n[3]=s>>16&255,r+=a}return bf(t)}function s3e(e,t,r,a){var n=sm(e),i=n.getUint32(4,!0),s=(a>1?12:8)+jL(i&(a>1?3470:398))*4,o=-1,c=-1,d=NaN,f=new Date(2001,0,1);i&512&&(o=n.getUint32(s,!0),s+=4),s+=jL(i&(a>1?12288:4096))*4,i&16&&(c=n.getUint32(s,!0),s+=4),i&32&&(d=n.getFloat64(s,!0),s+=8),i&64&&(f.setTime(f.getTime()+n.getFloat64(s,!0)*1e3),s+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:d};break;case 3:m={t:"s",v:t[c]};break;case 5:m={t:"d",v:f};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(c>-1)m={t:"s",v:t[c]};else if(!isNaN(d))m={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function o3e(e,t,r){var a=sm(e),n=a.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,d=NaN,f=new Date(2001,0,1);n&1&&(c=a3e(e,i),i+=16),n&2&&(d=a.getFloat64(i,!0),i+=8),n&4&&(f.setTime(f.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=a.getUint32(i,!0),i+=4),n&16&&(s=a.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:f};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(s>-1)m={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return m}function __(e,t){var r=new Uint8Array(32),a=sm(r),n=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,n3e(r,n,e.v),i|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,n)}function S_(e,t){var r=new Uint8Array(32),a=sm(r),n=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,n)}function l3e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return s3e(e,t,r,e[0]);case 5:return o3e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ds(e){var t=xa(e);return B1(t[1][0].data)}function AL(e,t){var r=xa(t.data),a=Kn(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(s){var o=xa(s.data),c=Kn(o[1][0].data)>>>0;switch(a){case 1:i[c]=KS(o[3][0].data);break;case 8:{var d=e[Ds(o[9][0].data)][0],f=xa(d.data),m=e[Ds(f[1][0].data)][0],x=Kn(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var p=xa(m.data);i[c]=p[3].map(function(y){return KS(y.data)}).join("")}break}}),i}function c3e(e,t){var r,a,n,i,s,o,c,d,f,m,x,p,y,v,b=xa(e),k=Kn(b[1][0].data)>>>0,N=Kn(b[2][0].data)>>>0,_=((a=(r=b[8])==null?void 0:r[0])==null?void 0:a.data)&&Kn(b[8][0].data)>0||!1,T,L;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)T=(o=(s=b[7])==null?void 0:s[0])==null?void 0:o.data,L=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((m=(f=b[4])==null?void 0:f[0])!=null&&m.data&&t!=1)T=(p=(x=b[4])==null?void 0:x[0])==null?void 0:p.data,L=(v=(y=b[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=_?4:1,R=sm(T),U=[],F=0;F<T.length/2;++F){var W=R.getUint16(F*2,!0);W<65535&&U.push([F,W])}if(U.length!=N)throw"Expected ".concat(N," cells, found ").concat(U.length);var O=[];for(F=0;F<U.length-1;++F)O[U[F][0]]=L.subarray(U[F][1]*D,U[F+1][1]*D);return U.length>=1&&(O[U[U.length-1][0]]=L.subarray(U[U.length-1][1]*D)),{R:k,cells:O}}function u3e(e,t){var r,a=xa(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?Kn(a[7][0].data)>>>0>0?1:0:-1,i=NA(a[5],function(s){return c3e(s,n)});return{nrows:Kn(a[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,d){if(s[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));s[o.R][d]=c}),s},[])}}function d3e(e,t,r){var a,n=xa(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Kn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(Kn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=Rr(i);var s=xa(n[4][0].data),o=AL(e,e[Ds(s[4][0].data)][0]),c=(a=s[17])!=null&&a[0]?AL(e,e[Ds(s[17][0].data)][0]):[],d=xa(s[3][0].data),f=0;d[1].forEach(function(m){var x=xa(m.data),p=e[Ds(x[2][0].data)][0],y=Kn(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=u3e(e,p);v.data.forEach(function(b,k){b.forEach(function(N,_){var T=br({r:f+k,c:_}),L=l3e(N,o,c);L&&(r[T]=L)})}),f+=v.nrows})}function f3e(e,t){var r=xa(t.data),a={"!ref":"A1"},n=e[Ds(r[2][0].data)],i=Kn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return d3e(e,n[0],a),a}function h3e(e,t){var r,a=xa(t.data),n={name:(r=a[1])!=null&&r[0]?KS(a[1][0].data):"",sheets:[]},i=NA(a[2],Ds);return i.forEach(function(s){e[s].forEach(function(o){var c=Kn(o.meta[1][0].data);c==6e3&&n.sheets.push(f3e(e,o))})}),n}function m3e(e,t){var r=CA(),a=xa(t.data),n=NA(a[1],Ds);if(n.forEach(function(i){e[i].forEach(function(s){var o=Kn(s.meta[1][0].data);if(o==2){var c=h3e(e,s);c.sheets.forEach(function(d,f){OA(r,d,f==0?c.name:c.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function N_(e){var t,r,a,n,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=Bl(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var f;try{f=Fl(d)}catch(m){return console.log("## "+(m.message||m))}f.forEach(function(m){i[m.id]=m.messages,s.push(m.id)})}}),!s.length)throw new Error("File has no messages");var o=((n=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&Kn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(d){var f=Kn(d.meta[1][0].data)>>>0;if(f==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return m3e(i,o)}function p3e(e,t,r){var a,n,i,s;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Kn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=sm(e[7][0].data),f=0,m=[],x=sm(e[4][0].data),p=0,y=[],v=0;v<t.length;++v){if(t[v]==null){d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535);continue}d.setUint16(v*2,f,!0),x.setUint16(v*2,p,!0);var b,k;switch(typeof t[v]){case"string":b=__({t:"s",v:t[v]},r),k=S_({t:"s",v:t[v]},r);break;case"number":b=__({t:"n",v:t[v]},r),k=S_({t:"n",v:t[v]},r);break;case"boolean":b=__({t:"b",v:t[v]},r),k=S_({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}m.push(b),f+=b.length,y.push(k),p+=k.length,++c}for(e[2][0].data=Ca(c);v<e[7][0].data.length/2;++v)d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535,!0);return e[6][0].data=bf(m),e[3][0].data=bf(y),c}function g3e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Mo(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Rr(a)));var i=z2(r,{range:a,header:1}),s=["~Sh33tJ5~"];i.forEach(function(q){return q.forEach(function(V){typeof V=="string"&&s.push(V)})});var o={},c=[],d=dr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(q,V){return[q,d.FullPaths[V]]}).forEach(function(q){var V=q[0],z=q[1];if(V.type==2&&V.name.match(/\.iwa/)){var Q=V.content,de=Bl(Q),Ee=Fl(de);Ee.forEach(function(ie){c.push(ie.id),o[ie.id]={deps:[],location:z,type:Kn(ie.messages[0].meta[1][0].data)}})}}),c.sort(function(q,V){return q-V});var f=c.filter(function(q){return q>1}).map(function(q){return[q,Ca(q)]});d.FileIndex.map(function(q,V){return[q,d.FullPaths[V]]}).forEach(function(q){var V=q[0];if(q[1],!!V.name.match(/\.iwa/)){var z=Fl(Bl(V.content));z.forEach(function(Q){Q.messages.forEach(function(de){f.forEach(function(Ee){Q.messages.some(function(ie){return Kn(ie.meta[1][0].data)!=11006&&r3e(ie.data,Ee[1])})&&o[Ee[0]].deps.push(Q.id)})})})}});for(var m=dr.find(d,o[1].location),x=Fl(Bl(m.content)),p,y=0;y<x.length;++y){var v=x[y];v.id==1&&(p=v)}var b=Ds(xa(p.messages[0].data)[1][0].data);for(m=dr.find(d,o[b].location),x=Fl(Bl(m.content)),y=0;y<x.length;++y)v=x[y],v.id==b&&(p=v);for(b=Ds(xa(p.messages[0].data)[2][0].data),m=dr.find(d,o[b].location),x=Fl(Bl(m.content)),y=0;y<x.length;++y)v=x[y],v.id==b&&(p=v);for(b=Ds(xa(p.messages[0].data)[2][0].data),m=dr.find(d,o[b].location),x=Fl(Bl(m.content)),y=0;y<x.length;++y)v=x[y],v.id==b&&(p=v);var k=xa(p.messages[0].data);{k[6][0].data=Ca(a.e.r+1),k[7][0].data=Ca(a.e.c+1);var N=Ds(k[46][0].data),_=dr.find(d,o[N].location),T=Fl(Bl(_.content));{for(var L=0;L<T.length&&T[L].id!=N;++L);if(T[L].id!=N)throw"Bad ColumnRowUIDMapArchive";var D=xa(T[L].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var R=0;R<=a.e.c;++R){var U=[];U[1]=U[2]=[{type:0,data:Ca(R+420690)}],D[1].push({type:2,data:ps(U)}),D[2].push({type:0,data:Ca(R)}),D[3].push({type:0,data:Ca(R)})}D[4]=[],D[5]=[],D[6]=[];for(var F=0;F<=a.e.r;++F)U=[],U[1]=U[2]=[{type:0,data:Ca(F+726270)}],D[4].push({type:2,data:ps(U)}),D[5].push({type:0,data:Ca(F)}),D[6].push({type:0,data:Ca(F)});T[L].messages[0].data=ps(D)}_.content=wp(bp(T)),_.size=_.content.length,delete k[46];var W=xa(k[4][0].data);{W[7][0].data=Ca(a.e.r+1);var O=xa(W[1][0].data),M=Ds(O[2][0].data);_=dr.find(d,o[M].location),T=Fl(Bl(_.content));{if(T[0].id!=M)throw"Bad HeaderStorageBucket";var H=xa(T[0].messages[0].data);for(F=0;F<i.length;++F){var Y=xa(H[2][0].data);Y[1][0].data=Ca(F),Y[4][0].data=Ca(i[F].length),H[2][F]={type:H[2][0].type,data:ps(Y)}}T[0].messages[0].data=ps(H)}_.content=wp(bp(T)),_.size=_.content.length;var ne=Ds(W[2][0].data);_=dr.find(d,o[ne].location),T=Fl(Bl(_.content));{if(T[0].id!=ne)throw"Bad HeaderStorageBucket";for(H=xa(T[0].messages[0].data),R=0;R<=a.e.c;++R)Y=xa(H[2][0].data),Y[1][0].data=Ca(R),Y[4][0].data=Ca(a.e.r+1),H[2][R]={type:H[2][0].type,data:ps(Y)};T[0].messages[0].data=ps(H)}_.content=wp(bp(T)),_.size=_.content.length;var X=Ds(W[4][0].data);(function(){for(var q=dr.find(d,o[X].location),V=Fl(Bl(q.content)),z,Q=0;Q<V.length;++Q){var de=V[Q];de.id==X&&(z=de)}var Ee=xa(z.messages[0].data);{Ee[3]=[];var ie=[];s.forEach(function(J,ge){ie[1]=[{type:0,data:Ca(ge)}],ie[2]=[{type:0,data:Ca(1)}],ie[3]=[{type:2,data:t3e(J)}],Ee[3].push({type:2,data:ps(ie)})})}z.messages[0].data=ps(Ee);var je=bp(V),Me=wp(je);q.content=Me,q.size=q.content.length})();var re=xa(W[3][0].data);{var fe=re[1][0];delete re[2];var ce=xa(fe.data);{var ke=Ds(ce[2][0].data);(function(){for(var q=dr.find(d,o[ke].location),V=Fl(Bl(q.content)),z,Q=0;Q<V.length;++Q){var de=V[Q];de.id==ke&&(z=de)}var Ee=xa(z.messages[0].data);{delete Ee[6],delete re[7];var ie=new Uint8Array(Ee[5][0].data);Ee[5]=[];for(var je=0,Me=0;Me<=a.e.r;++Me){var J=xa(ie);je+=p3e(J,i[Me],s),J[1][0].data=Ca(Me),Ee[5].push({data:ps(J),type:2})}Ee[1]=[{type:0,data:Ca(a.e.c+1)}],Ee[2]=[{type:0,data:Ca(a.e.r+1)}],Ee[3]=[{type:0,data:Ca(je)}],Ee[4]=[{type:0,data:Ca(a.e.r+1)}]}z.messages[0].data=ps(Ee);var ge=bp(V),be=wp(ge);q.content=be,q.size=q.content.length})()}fe.data=ps(ce)}W[3][0].data=ps(re)}k[4][0].data=ps(W)}p.messages[0].data=ps(k);var Z=bp(x),P=wp(Z);return m.content=P,m.size=m.content.length,d}function aH(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function jA(e){aH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function AA(e){aH([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function x3e(e){return Kr.WS.indexOf(e)>-1?"sheet":e==Kr.CS?"chart":e==Kr.DS?"dialog":e==Kr.MS?"macro":e&&e.length?e:"sheet"}function v3e(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,x3e(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function y3e(e,t,r,a,n,i,s,o,c,d,f,m){try{i[a]=e1(ol(e,r,!0),t);var x=gi(e,t),p;switch(o){case"sheet":p=z4e(x,t,n,c,i[a],d,f,m);break;case"chart":if(p=q4e(x,t,n,c,i[a],d,f,m),!p||!p["!drawel"])break;var y=Hx(p["!drawel"].Target,t),v=D1(y),b=T2e(ol(e,y,!0),e1(ol(e,v,!0),y)),k=Hx(b,y),N=D1(k);p=p4e(ol(e,k,!0),k,c,e1(ol(e,N,!0),k),d,p);break;case"macro":p=$4e(x,t,n,c,i[a],d,f,m);break;case"dialog":p=H4e(x,t,n,c,i[a],d,f,m);break;default:throw new Error("Unrecognized sheet type "+o)}s[a]=p;var _=[];i&&i[a]&&Yn(i[a]).forEach(function(T){var L="";if(i[a][T].Type==Kr.CMNT){L=Hx(i[a][T].Target,t);var D=G4e(gi(e,L,!0),L,c);if(!D||!D.length)return;fL(p,D,!1)}i[a][T].Type==Kr.TCMNT&&(L=Hx(i[a][T].Target,t),_=_.concat(C2e(gi(e,L,!0),c)))}),_&&_.length&&fL(p,_,!0,c.people||[])}catch(T){if(c.WTF)throw T}}function Ml(e){return e.charAt(0)=="/"?e.slice(1):e}function b3e(e,t){if(Ig(),t=t||{},jA(t),Ul(e,"META-INF/manifest.xml")||Ul(e,"objectdata.xml"))return _L(e,t);if(Ul(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof N_<"u"){if(e.FileIndex)return N_(e);var r=dr.utils.cfb_new();return DD(e).forEach(function(Y){Fr(r,Y,Oxe(e,Y))}),N_(r)}throw new Error("Unsupported NUMBERS file")}if(!Ul(e,"[Content_Types].xml"))throw Ul(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ul(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=DD(e),n=S1e(ol(e,"[Content_Types].xml")),i=!1,s,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",gi(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!gi(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(t1=[],n.sst)try{t1=K4e(gi(e,Ml(n.sst)),n.sst,t)}catch(Y){if(t.WTF)throw Y}t.cellStyles&&n.themes.length&&(c=V4e(ol(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=W4e(gi(e,Ml(n.style)),n.style,c,t))}n.links.map(function(Y){try{var ne=e1(ol(e,D1(Ml(Y))),Y);return X4e(gi(e,Ml(Y)),ne,Y,t)}catch{}});var f=U4e(gi(e,Ml(n.workbooks[0])),n.workbooks[0],t),m={},x="";n.coreprops.length&&(x=gi(e,Ml(n.coreprops[0]),!0),x&&(m=Wq(x)),n.extprops.length!==0&&(x=gi(e,Ml(n.extprops[0]),!0),x&&O1e(x,m,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(x=ol(e,Ml(n.custprops[0]),!0),x&&(p=D1e(x,t)));var y={};if((t.bookSheets||t.bookProps)&&(f.Sheets?s=f.Sheets.map(function(ne){return ne.name}):m.Worksheets&&m.SheetNames.length>0&&(s=m.SheetNames),t.bookProps&&(y.Props=m,y.Custprops=p),t.bookSheets&&typeof s<"u"&&(y.SheetNames=s),t.bookSheets?y.SheetNames:t.bookProps))return y;s={};var v={};t.bookDeps&&n.calcchain&&(v=Y4e(gi(e,Ml(n.calcchain)),n.calcchain));var b=0,k={},N,_;{var T=f.Sheets;m.Worksheets=T.length,m.SheetNames=[];for(var L=0;L!=T.length;++L)m.SheetNames[L]=T[L].name}var D=i?"bin":"xml",R=n.workbooks[0].lastIndexOf("/"),U=(n.workbooks[0].slice(0,R+1)+"_rels/"+n.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Ul(e,U)||(U="xl/_rels/workbook."+D+".rels");var F=e1(ol(e,U,!0),U.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=Q4e(gi(e,Ml(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=P2e(gi(e,Ml(n.people[0])),t)),F&&(F=v3e(F,f.Sheets));var W=gi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=m.Worksheets;++b){var O="sheet";if(F&&F[b]?(N="xl/"+F[b][1].replace(/[\/]?xl\//,""),Ul(e,N)||(N=F[b][1]),Ul(e,N)||(N=U.replace(/_rels\/.*$/,"")+F[b][1]),O=F[b][2]):(N="xl/worksheets/sheet"+(b+1-W)+"."+D,N=N.replace(/sheet0\./,"sheet.")),_=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(m.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var M=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==b&&(M=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==m.SheetNames[b].toLowerCase()&&(M=1);if(!M)continue e}}y3e(e,N,_,m.SheetNames[b],b,k,s,O,t,f,c,d)}return y={Directory:n,Workbook:f,Props:m,Custprops:p,Deps:v,Sheets:s,SheetNames:m.SheetNames,Strings:t1,Styles:d,Themes:c,SSF:fn(yr)},t&&t.bookFiles&&(e.files?(y.keys=a,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(Y,ne){Y=Y.replace(/^Root Entry[\/]/,""),y.keys.push(Y),y.files[Y]=e.FileIndex[ne]}))),t&&t.bookVBA&&(n.vba.length>0?y.vbaraw=gi(e,Ml(n.vba[0]),!0):n.defaults&&n.defaults.bin===U2e&&(y.vbaraw=gi(e,"xl/vbaProject.bin",!0))),y}function w3e(e,t){var r=t||{},a="Workbook",n=dr.find(e,a);try{if(a="/!DataSpaces/Version",n=dr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(Qye(n.content),a="/!DataSpaces/DataSpaceMap",n=dr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=Zye(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=dr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=ebe(n.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=dr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);rbe(n.content)}catch{}if(a="/EncryptionInfo",n=dr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=abe(n.content);if(a="/EncryptedPackage",n=dr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function k3e(e,t){return t.bookType=="ods"?rH(e,t):t.bookType=="numbers"?g3e(e,t):t.bookType=="xlsb"?_3e(e,t):S3e(e,t)}function _3e(e,t){Pp=1024,e&&!e.SSF&&(e.SSF=fn(yr)),e&&e.SSF&&(Ig(),Ww(e.SSF),t.revssf=Kw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,r1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=C$.indexOf(t.bookType)>-1,n=fA();AA(t=t||{});var i=Jj(),s="",o=0;if(t.cellXfs=[],Ef(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Fr(i,s,Vq(e.Props,t)),n.coreprops.push(s),Oa(t.rels,2,s,Kr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,s,Yq(e.Props)),n.extprops.push(s),Oa(t.rels,3,s,Kr.EXT_PROPS),e.Custprops!==e.Props&&Yn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Fr(i,s,Xq(e.Custprops)),n.custprops.push(s),Oa(t.rels,4,s,Kr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Fr(i,s,Z4e(o-1,s,t,e,f)),n.sheets.push(s),Oa(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Kr.WS[0])}if(m){var p=m["!comments"],y=!1,v="";p&&p.length>0&&(v="xl/comments"+o+"."+r,Fr(i,v,r_e(p,v)),n.comments.push(v),Oa(f,-1,"../comments"+o+"."+r,Kr.CMNT),y=!0),m["!legacy"]&&y&&Fr(i,"xl/drawings/vmlDrawing"+o+".vml",T$(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Fr(i,D1(s),Up(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Fr(i,s,t_e(t.Strings,s,t)),n.strs.push(s),Oa(t.wbrels,-1,"sharedStrings."+r,Kr.SST)),s="xl/workbook."+r,Fr(i,s,J4e(e,s)),n.workbooks.push(s),Oa(t.rels,1,s,Kr.WB),s="xl/theme/theme1.xml",Fr(i,s,vA(e.Themes,t)),n.themes.push(s),Oa(t.wbrels,-1,"theme/theme1.xml",Kr.THEME),s="xl/styles."+r,Fr(i,s,e_e(e,s,t)),n.styles.push(s),Oa(t.wbrels,-1,"styles."+r,Kr.STY),e.vbaraw&&a&&(s="xl/vbaProject.bin",Fr(i,s,e.vbaraw),n.vba.push(s),Oa(t.wbrels,-1,"vbaProject.bin",Kr.VBA)),s="xl/metadata."+r,Fr(i,s,a_e(s)),n.metadata.push(s),Oa(t.wbrels,-1,"metadata."+r,Kr.XLMETA),Fr(i,"[Content_Types].xml",$q(n,t)),Fr(i,"_rels/.rels",Up(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",Up(t.wbrels)),delete t.revssf,delete t.ssf,i}function S3e(e,t){Pp=1024,e&&!e.SSF&&(e.SSF=fn(yr)),e&&e.SSF&&(Ig(),Ww(e.SSF),t.revssf=Kw(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,r1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=C$.indexOf(t.bookType)>-1,n=fA();AA(t=t||{});var i=Jj(),s="",o=0;if(t.cellXfs=[],Ef(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Fr(i,s,Vq(e.Props,t)),n.coreprops.push(s),Oa(t.rels,2,s,Kr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,s,Yq(e.Props)),n.extprops.push(s),Oa(t.rels,3,s,Kr.EXT_PROPS),e.Custprops!==e.Props&&Yn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Fr(i,s,Xq(e.Custprops)),n.custprops.push(s),Oa(t.rels,4,s,Kr.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],p=(x||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Fr(i,s,z$(o-1,t,e,m)),n.sheets.push(s),Oa(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Kr.WS[0])}if(x){var y=x["!comments"],v=!1,b="";if(y&&y.length>0){var k=!1;y.forEach(function(N){N[1].forEach(function(_){_.T==!0&&(k=!0)})}),k&&(b="xl/threadedComments/threadedComment"+o+"."+r,Fr(i,b,O2e(y,f,t)),n.threadedcomments.push(b),Oa(m,-1,"../threadedComments/threadedComment"+o+"."+r,Kr.TCMNT)),b="xl/comments"+o+"."+r,Fr(i,b,E$(y)),n.comments.push(b),Oa(m,-1,"../comments"+o+"."+r,Kr.CMNT),v=!0}x["!legacy"]&&v&&Fr(i,"xl/drawings/vmlDrawing"+o+".vml",T$(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Fr(i,D1(s),Up(m))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Fr(i,s,g$(t.Strings,t)),n.strs.push(s),Oa(t.wbrels,-1,"sharedStrings."+r,Kr.SST)),s="xl/workbook."+r,Fr(i,s,V$(e)),n.workbooks.push(s),Oa(t.rels,1,s,Kr.WB),s="xl/theme/theme1.xml",Fr(i,s,vA(e.Themes,t)),n.themes.push(s),Oa(t.wbrels,-1,"theme/theme1.xml",Kr.THEME),s="xl/styles."+r,Fr(i,s,S$(e,t)),n.styles.push(s),Oa(t.wbrels,-1,"styles."+r,Kr.STY),e.vbaraw&&a&&(s="xl/vbaProject.bin",Fr(i,s,e.vbaraw),n.vba.push(s),Oa(t.wbrels,-1,"vbaProject.bin",Kr.VBA)),s="xl/metadata."+r,Fr(i,s,A$()),n.metadata.push(s),Oa(t.wbrels,-1,"metadata."+r,Kr.XLMETA),f.length>1&&(s="xl/persons/person.xml",Fr(i,s,D2e(f)),n.people.push(s),Oa(t.wbrels,-1,"persons/person.xml",Kr.PEOPLE)),Fr(i,"[Content_Types].xml",$q(n,t)),Fr(i,"_rels/.rels",Up(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",Up(t.wbrels)),delete t.revssf,delete t.ssf,i}function TA(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=hl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function N3e(e,t){return dr.find(e,"EncryptedPackage")?w3e(e,t):X$(e,t)}function j3e(e,t){var r,a=e,n=t||{};return n.type||(n.type=Hr&&Buffer.isBuffer(e)?"buffer":"base64"),r=vq(a,n),b3e(r,n)}function nH(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return WS(e.slice(r),t);default:break e}return pg.to_workbook(e,t)}function A3e(e,t){var r="",a=TA(e,t);switch(t.type){case"base64":r=hl(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=rm(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Ha(r)),t.type="binary",nH(r,t)}function T3e(e,t){var r=e;return t.type=="base64"&&(r=hl(r)),r=A1.utils.decode(1200,r.slice(2),"str"),t.type="binary",nH(r,t)}function E3e(e){return e.match(/[^\x00-\x7F]/)?Tu(e):e}function j_(e,t,r,a){return a?(r.type="string",pg.to_workbook(e,r)):pg.to_workbook(t,r)}function GS(e,t){Kj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return GS(new Uint8Array(e),(r=fn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),qp={},r.dateNF&&(qp.dateNF=r.dateNF),r.type||(r.type=Hr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Hr?"buffer":"binary",a=_xe(e),typeof Uint8Array<"u"&&!Hr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=E3e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=fn(r),r.type="array",GS(Gj(a),r)}switch((n=TA(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return N3e(dr.read(a,r),r);break;case 9:if(n[1]<=8)return X$(a,r);break;case 60:return WS(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return Lye(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return m$.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?j3e(a,r):j_(e,a,r,i);case 239:return n[3]===60?WS(a,r):j_(e,a,r,i);case 255:if(n[1]===254)return T3e(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Ih.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Ih.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return HS.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return w$.to_workbook(a,r);break;case 10:case 13:case 32:return A3e(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Dye.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?HS.to_workbook(a,r):j_(e,a,r,i)}function iH(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return kv(t.file,dr.write(e,{type:Hr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return dr.write(e,t)}function C3e(e,t){var r=fn(t||{}),a=k3e(e,r);return O3e(a,r)}function O3e(e,t){var r={},a=Hr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?dr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Hw(n))}return t.password&&typeof encrypt_agile<"u"?iH(encrypt_agile(n,t.password),t):t.type==="file"?kv(t.file,n):t.type=="string"?Ha(n):n}function P3e(e,t){var r=t||{},a=E_e(e,r);return iH(a,r)}function vu(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return T1(Tu(a));case"binary":return Tu(a);case"string":return e;case"file":return kv(t.file,a,"utf8");case"buffer":return Hr?i0(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):vu(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function D3e(e,t){switch(t.type){case"base64":return T1(e);case"binary":return e;case"string":return e;case"file":return kv(t.file,e,"binary");case"buffer":return Hr?i0(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ob(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?T1(r):t.type=="string"?Ha(r):r;case"file":return kv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function sH(e,t){Kj(),N4e(e);var r=fn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=sH(e,r);return r.type="array",Hw(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return vu(k_e(e,r),r);case"slk":case"sylk":return vu(h$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return vu(J$(e.Sheets[e.SheetNames[n]],r),r);case"txt":return D3e(oH(e.Sheets[e.SheetNames[n]],r),r);case"csv":return vu(EA(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return vu(m$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return ob(HS.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return vu(pg.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return vu(w$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return vu(p$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return vu(rH(e,r),r);case"wk1":return ob(Ih.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return ob(Ih.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ob(Q$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),P3e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return C3e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function L3e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ym(e,t,r){var a={};return a.type="file",a.file=t,L3e(a),sH(e,a)}function M3e(e,t,r,a,n,i,s,o){var c=oi(r),d=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=s?e[r][p]:e[a[p]+c];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[p]!=null&&(x[i[p]]=d);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(v==null)if(y.t=="e"&&v===null)x[i[p]]=null;else if(d!==void 0)x[i[p]]=d;else if(f&&v===null)x[i[p]]=null;else continue;else x[i[p]]=f&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:Gd(y,v,o);v!=null&&(m=!1)}}return{row:x,isempty:m}}function z2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof f){case"string":c=ha(f);break;case"number":c=ha(e["!ref"]),c.s.r=f;break;default:c=f}a>0&&(n=0);var m=oi(c.s.r),x=[],p=[],y=0,v=0,b=Array.isArray(e),k=c.s.r,N=0,_={};b&&!e[k]&&(e[k]=[]);var T=d.skipHidden&&e["!cols"]||[],L=d.skipHidden&&e["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(T[N]||{}).hidden)switch(x[N]=Pn(N),r=b?e[k][N]:e[x[N]+m],a){case 1:i[N]=N-c.s.c;break;case 2:i[N]=x[N];break;case 3:i[N]=d.header[N-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Gd(r,null,d),v=_[s]||0,!v)_[s]=1;else{do o=s+"_"+v++;while(_[o]);_[s]=v,_[o]=1}i[N]=o}for(k=c.s.r+n;k<=c.e.r;++k)if(!(L[k]||{}).hidden){var D=M3e(e,c,k,x,a,i,b,d);(D.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[y++]=D.row)}return p.length=y,p}var TL=/"/g;function R3e(e,t,r,a,n,i,s,o){for(var c=!0,d=[],f="",m=oi(r),x=t.s.c;x<=t.e.c;++x)if(a[x]){var p=o.dense?(e[r]||[])[x]:e[a[x]+m];if(p==null)f="";else if(p.v!=null){c=!1,f=""+(o.rawNumbers&&p.t=="n"?p.v:Gd(p,null,o));for(var y=0,v=0;y!==f.length;++y)if((v=f.charCodeAt(y))===n||v===i||v===34||o.forceQuotes){f='"'+f.replace(TL,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(c=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(TL,'""')+'"')):f="";d.push(f)}return o.blankrows===!1&&c?null:d.join(s)}function EA(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=ha(e["!ref"]),i=a.FS!==void 0?a.FS:",",s=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),f="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(x[y]||{}).hidden||(m[y]=Pn(y));for(var v=0,b=n.s.r;b<=n.e.r;++b)(p[b]||{}).hidden||(f=R3e(e,n,b,m,s,c,i,a),f!=null&&(a.strip&&(f=f.replace(d,"")),(f||a.blankrows!==!1)&&r.push((v++?o:"")+f)));return delete a.dense,r.join("")}function oH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=EA(e,t);return r}function I3e(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=ha(e["!ref"]),i="",s=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)s[o]=Pn(o);for(var f=n.s.r;f<=n.e.r;++f)for(i=oi(f),o=n.s.c;o<=n.e.c;++o)if(t=s[o]+i,r=d?(e[f]||[])[o]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function lH(e,t,r){var a=r||{},n=+!a.skipHeader,i=e||{},s=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var c=typeof a.origin=="string"?Dn(a.origin):a.origin;s=c.r,o=c.c}var d,f={s:{c:0,r:0},e:{c:o,r:s+t.length-1+n}};if(i["!ref"]){var m=ha(i["!ref"]);f.e.c=Math.max(f.e.c,m.e.c),f.e.r=Math.max(f.e.r,m.e.r),s==-1&&(s=m.e.r+1,f.e.r=s+t.length-1+n)}else s==-1&&(s=0,f.e.r=t.length-1+n);var x=a.header||[],p=0;t.forEach(function(v,b){Yn(v).forEach(function(k){(p=x.indexOf(k))==-1&&(x[p=x.length]=k);var N=v[k],_="z",T="",L=br({c:o+p,r:s+b+n});d=U1(i,L),N&&typeof N=="object"&&!(N instanceof Date)?i[L]=N:(typeof N=="number"?_="n":typeof N=="boolean"?_="b":typeof N=="string"?_="s":N instanceof Date?(_="d",a.cellDates||(_="n",N=Bi(N)),T=a.dateNF||yr[14]):N===null&&a.nullError&&(_="e",N=0),d?(d.t=_,d.v=N,delete d.w,delete d.R,T&&(d.z=T)):i[L]=d={t:_,v:N},T&&(d.z=T))})}),f.e.c=Math.max(f.e.c,o+x.length-1);var y=oi(s);if(n)for(p=0;p<x.length;++p)i[Pn(p+o)+y]={t:"s",v:x[p]};return i["!ref"]=Rr(f),i}function F3e(e,t){return lH(null,e,t)}function U1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Dn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?U1(e,br(t)):U1(e,br({r:t,c:r||0}))}function B3e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function CA(){return{SheetNames:[],Sheets:{}}}function OA(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var s=i&&i[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=s+n)!=-1;++n);}if(W$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function U3e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=B3e(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function z3e(e,t){return e.z=t,e}function cH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function q3e(e,t,r){return cH(e,"#"+t,r)}function $3e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function H3e(e,t,r,a){for(var n=typeof t!="string"?t:ha(t),i=typeof t=="string"?t:Rr(t),s=n.s.r;s<=n.e.r;++s)for(var o=n.s.c;o<=n.e.c;++o){var c=U1(e,s,o);c.t="n",c.F=i,delete c.v,s==n.s.r&&o==n.s.c&&(c.f=r,a&&(c.D=!0))}return e}var qr={encode_col:Pn,encode_row:oi,encode_cell:br,encode_range:Rr,decode_col:sA,decode_row:iA,split_cell:t1e,decode_cell:Dn,decode_range:Mo,format_cell:Gd,sheet_add_aoa:Rq,sheet_add_json:lH,sheet_add_dom:Z$,aoa_to_sheet:Fg,json_to_sheet:F3e,table_to_sheet:eH,table_to_book:Q_e,sheet_to_csv:EA,sheet_to_txt:oH,sheet_to_json:z2,sheet_to_html:J$,sheet_to_formulae:I3e,sheet_to_row_object_array:z2,sheet_get_cell:U1,book_new:CA,book_append_sheet:OA,book_set_sheet_visibility:U3e,cell_set_number_format:z3e,cell_set_hyperlink:cH,cell_set_internal_link:q3e,cell_add_comment:$3e,sheet_set_array_formula:H3e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const W3e=(e,t,r="inventory-export.xlsx")=>{const a=e.map((s,o)=>{var c;return{STT:o+1,"Tn sn phm":s.name,SKU:s.sku,"Danh mc":s.category||"","Tn kho":s.stock[t]||0,"Gi bn l":s.retailPrice[t]||0,"Gi bn s":((c=s.wholesalePrice)==null?void 0:c[t])||0,"Gi tr tn":(s.stock[t]||0)*(s.retailPrice[t]||0),"M t":s.description||""}}),n=qr.json_to_sheet(a);n["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:20},{wch:10},{wch:15},{wch:15},{wch:15},{wch:40}];const i=qr.book_new();qr.book_append_sheet(i,n,"Tn kho"),ym(i,r)},V3e=(e="inventory-template.xlsx")=>{const t=[{"Tn sn phm":"VD: Nht Motul 7100 10W40",SKU:"MOTUL-7100","Danh mc":"Nht ng c","S lng nhp":50,"Gi bn l":18e4,"Gi bn s":15e4,"M t":"Nht cao cp cho xe cn tay"}],r=qr.json_to_sheet(t);r["!cols"]=[{wch:30},{wch:15},{wch:20},{wch:15},{wch:15},{wch:15},{wch:40}];const a=qr.book_new();qr.book_append_sheet(a,r,"Template"),ym(a,e)},K3e=(e,t)=>new Promise((r,a)=>{const n=new FileReader;n.onload=i=>{var s;try{const o=(s=i.target)==null?void 0:s.result,c=/\.csv$/i.test(e.name),d=GS(o,{type:c?"string":"binary"}),f=d.SheetNames[0],m=d.Sheets[f],x=qr.sheet_to_json(m,{defval:"",blankrows:!1}),p=_=>_.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").replace(//gi,T=>T===""?"d":"D"),y=_=>p(String(_).toLowerCase().trim()).replace(/[^a-z0-9]+/g,""),v=_=>{if(_==null||_==="")return 0;if(typeof _=="number")return _;let T=String(_).trim();T=T.replace(/\s+/g,""),T.includes(".")&&T.includes(",")?T=T.replace(/\./g,"").replace(/,/g,"."):T.includes(",")&&!T.includes(".")?T=T.replace(/,/g,"."):T=T.replace(/,/g,"");const L=parseFloat(T);return isNaN(L)?0:L},b={name:["tensanpham","ten","productname","name","tenhang","tenmh"],sku:["sku","mahang","mah","code","ma","masp","mavt"],category:["danhmuc","nhom","loai","category"],quantity:["soluongnhap","soluong","ton","tonkho","sl","qty"],retailPrice:["giabanle","giale","giaban","gia","retailprice","giabanra"],wholesalePrice:["giabansi","giasi","wholesaleprice","giabuon"],description:["mota","ghichu","note","description"]},k=[],N=x.map((_,T)=>{const L=_||{},D={};Object.keys(L).forEach(re=>{D[y(re)]=L[re]});const R=(re,fe)=>{for(const ce of b[re]){const ke=D[ce];if(ke!=null&&ke!=="")return ke}return fe},U=String(R("name","")).trim(),F=String(R("sku","")).trim(),W=R("category"),O=v(R("quantity",0)),M=v(R("retailPrice",0)),H=v(R("wholesalePrice",0)),Y=R("description");if((!U||!F)&&Object.values(L).some(re=>re!=="")){const re=Object.values(L).map(fe=>String(fe).trim()).filter(fe=>fe!=="");if(!U&&re.length>0){const fe=re[0];fe.length>0&&(L.__guessed_name=fe)}if(!F&&re.length>1){const fe=re[1];fe.length>0&&(L.__guessed_sku=fe)}}const ne=U||L.__guessed_name||"",X=F||L.__guessed_sku||"";return!ne&&!X?null:!ne||!X?(k.push(`Hng ${T+2}: thiu ${ne?"SKU":"Tn sn phm"}`),null):{name:ne,sku:X,category:W,quantity:O,retailPrice:M,wholesalePrice:H,description:Y}}).filter(Boolean);r({items:N,errors:k})}catch(o){const c=o instanceof Error?o.message:"Khng c c d liu";a(new Error(c))}},n.onerror=()=>{a(new Error("Li c file"))},/\.csv$/i.test(e.name)?n.readAsText(e,"utf-8"):n.readAsBinaryString(e)}),uH=()=>{const[e,t]=j.useState({isOpen:!1,title:"",message:"",confirmText:"Xc nhn",cancelText:"Hy",confirmColor:"blue",resolve:null}),r=j.useCallback(i=>new Promise(s=>{t({isOpen:!0,...i,resolve:s})}),[]),a=j.useCallback(()=>{var i;(i=e.resolve)==null||i.call(e,!0),t(s=>({...s,isOpen:!1,resolve:null}))},[e.resolve]),n=j.useCallback(()=>{var i;(i=e.resolve)==null||i.call(e,!1),t(s=>({...s,isOpen:!1,resolve:null}))},[e.resolve]);return{confirm:r,confirmState:e,handleConfirm:a,handleCancel:n}},dH=({isOpen:e,title:t,message:r,confirmText:a="Xc nhn",cancelText:n="Hy",confirmColor:i="blue",onConfirm:s,onCancel:o})=>{if(!e)return null;const c={red:"bg-red-600 hover:bg-red-700",blue:"bg-blue-600 hover:bg-blue-700",green:"bg-emerald-600 hover:bg-emerald-700"};return u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full animate-scaleIn",children:[u.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i==="red"?"bg-red-100 dark:bg-red-900/30":i==="green"?"bg-emerald-100 dark:bg-emerald-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:i==="red"?u.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):i==="green"?u.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):u.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:t})]})}),u.jsx("div",{className:"p-6",children:u.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:r})}),u.jsxs("div",{className:"flex justify-end gap-3 p-6 bg-slate-50 dark:bg-slate-900/50 rounded-b-lg",children:[u.jsx("button",{onClick:o,className:"px-4 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors font-medium",children:n}),u.jsx("button",{onClick:s,className:`px-4 py-2.5 text-white rounded-lg transition-colors font-medium ${c[i]}`,children:a})]})]})})},G3e={async getParts(){const{data:e,error:t}=await xr.from("parts").select("*").order("name");if(t)throw t;return e}},fH=()=>qc({queryKey:["parts"],queryFn:G3e.getParts,staleTime:300*1e3,gcTime:600*1e3}),Bd="categories";async function Y3e(){try{const{data:e,error:t}=await xr.from(Bd).select("*").order("name");return t?Lt({code:"supabase",message:"Khng th ti danh mc",cause:t}):Ln(e||[])}catch(e){return Lt({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function X3e(e){var t;try{if(!e.name)return Lt({code:"validation",message:"Thiu tn danh mc"});const r={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,name:e.name,icon:e.icon,color:e.color,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:n}=await xr.from(Bd).insert([r]).select().single();if(n||!a)return Lt({code:"supabase",message:"To danh mc tht bi",cause:n});let i=null;try{const{data:s}=await xr.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await bi(i,{action:"category.create",tableName:Bd,recordId:a.id,oldData:null,newData:a}),Ln(a)}catch(r){return Lt({code:"network",message:"Li kt ni khi to danh mc",cause:r})}}async function Q3e(e,t){var r;try{let a=null;try{const c=await xr.from(Bd).select("*").eq("id",e).single();a=(c==null?void 0:c.data)??null}catch{}const{data:n,error:i}=await xr.from(Bd).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();let s=n;if((!n||i)&&!i&&(s={id:e,...a||{},...t}),i&&n==null)return Lt({code:"supabase",message:"Cp nht danh mc tht bi",cause:i});let o=null;try{const{data:c}=await xr.auth.getUser();o=((r=c==null?void 0:c.user)==null?void 0:r.id)||null}catch{}return await bi(o,{action:"category.update",tableName:Bd,recordId:e,oldData:a,newData:n}),Ln(s)}catch(a){return Lt({code:"network",message:"Li kt ni khi cp nht danh mc",cause:a})}}async function J3e(e){var t;try{let r=null;try{const i=await xr.from(Bd).select("*").eq("id",e).single();r=(i==null?void 0:i.data)??null}catch{}const{error:a}=await xr.from(Bd).delete().eq("id",e);if(a)return Lt({code:"supabase",message:"Xa danh mc tht bi",cause:a});let n=null;try{const{data:i}=await xr.auth.getUser();n=((t=i==null?void 0:i.user)==null?void 0:t.id)||null}catch{}return await bi(n,{action:"category.delete",tableName:Bd,recordId:e,oldData:r,newData:null}),Ln({id:e})}catch(r){return Lt({code:"network",message:"Li kt ni khi xa danh mc",cause:r})}}const Zw=()=>qc({queryKey:["categories"],queryFn:async()=>{const e=await Y3e();if(!e.ok)throw e.error;return e.data}}),PA=()=>{const e=zs();return $c({mutationFn:async t=>{const r=await X3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),yt.success(" to danh mc")},onError:t=>yt.error((t==null?void 0:t.message)||"Li to danh mc")})},Z3e=()=>{const e=zs();return $c({mutationFn:async({id:t,updates:r})=>{const a=await Q3e(t,r);if(!a.ok)throw a.error;return a.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),yt.success(" cp nht danh mc")},onError:t=>yt.error((t==null?void 0:t.message)||"Li cp nht danh mc")})},eSe=()=>{const e=zs();return $c({mutationFn:async({id:t})=>{const r=await J3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),yt.success(" xa danh mc")},onError:t=>yt.error((t==null?void 0:t.message)||"Li xa danh mc")})},hH=()=>{const{data:e=[]}=fH(),{data:t=[],isLoading:r,isError:a,refetch:n}=Zw(),i=PA(),s=Z3e(),o=eSe(),[c,d]=j.useState(!1),[f,m]=j.useState(null),[x,p]=j.useState(""),[y,v]=j.useState("#3b82f6"),[b,k]=j.useState("package"),{confirm:N,confirmState:_,handleConfirm:T,handleCancel:L}=uH(),D=j.useMemo(()=>t.map(H=>({id:H.id,name:H.name,icon:H.icon||"package",color:H.color||"#3b82f6",count:e.filter(Y=>Y.category===H.name).length})),[t,e]),R=async()=>{if(!x.trim()){yt.warning("Vui lng nhp tn danh mc");return}if(D.some(Y=>Y.name.toLowerCase()===x.toLowerCase())){yt.warning("Danh mc ny  tn ti");return}try{await i.mutateAsync({name:x,icon:b,color:y}),p(""),d(!1)}catch(Y){yt.error(Po(Y))}},U=async(H,Y)=>{if(!Y.trim()){yt.warning("Vui lng nhp tn danh mc mi");return}const ne=t.find(X=>X.name===H);if(!ne){yt.error("Khng tm thy danh mc  i tn");return}try{await s.mutateAsync({id:ne.id,updates:{name:Y}}),m(null)}catch(X){yt.error(Po(X))}},F=async H=>{const Y=e.filter(re=>re.category===H).length;if(!await N({title:"Xc nhn xa danh mc",message:`Bn c chc chn mun xa danh mc "${H}"? ${Y} sn phm trong danh mc ny s khng cn danh mc.`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"}))return;const X=t.find(re=>re.name===H);if(!X){yt.error("Khng tm thy danh mc");return}try{await o.mutateAsync({id:X.id})}catch(re){yt.error(Po(re))}},W=[{value:"#3b82f6",label:"Xanh dng"},{value:"#10b981",label:"Xanh l"},{value:"#f59e0b",label:"Vng"},{value:"#ef4444",label:""},{value:"#8b5cf6",label:"Tm"},{value:"#ec4899",label:"Hng"},{value:"#06b6d4",label:"Cyan"},{value:"#f97316",label:"Cam"}],O={package:u.jsx(cl,{className:"w-5 h-5"}),wrench:u.jsx(UN,{className:"w-5 h-5"}),settings:u.jsx(FN,{className:"w-5 h-5"}),hammer:u.jsx(EJ,{className:"w-5 h-5"}),cog:u.jsx(NJ,{className:"w-5 h-5"}),bolt:u.jsx(kJ,{className:"w-5 h-5"}),bike:u.jsx(VR,{className:"w-5 h-5"}),car:u.jsx(_J,{className:"w-5 h-5"}),disc:u.jsx(AJ,{className:"w-5 h-5"}),battery:u.jsx(wJ,{className:"w-5 h-5"}),lightbulb:u.jsx(PJ,{className:"w-5 h-5"}),palette:u.jsx(YR,{className:"w-5 h-5"})},M=Object.keys(O);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-[#0f172a]",children:[u.jsx("div",{className:"bg-white dark:bg-[#1e293b] shadow-sm border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Danh mc sn phm"}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Qun l cc danh mc phn loi sn phm"})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[u.jsx(em,{className:"w-5 h-5"}),"Thm danh mc"]})]})}),r&&u.jsx("div",{className:"p-6 text-sm text-slate-500 dark:text-slate-400",children:"ang ti danh mc..."}),a&&u.jsxs("div",{className:"p-6 text-sm text-red-500",children:["Li ti d liu."," ",u.jsx("button",{onClick:()=>n(),className:"underline",children:"Th li"})]}),u.jsx("div",{className:"px-6 py-4 bg-white dark:bg-[#1e293b] border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Tng danh mc"}),u.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:D.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-4 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Tng sn phm"}),u.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100 mt-1",children:e.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-4 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Cha phn loi"}),u.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100 mt-1",children:e.filter(H=>!H.category).length})]})]})}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[D.map(H=>u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-5 hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"flex items-start justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-3xl",children:H.icon}),u.jsxs("div",{children:[f===H.name?u.jsx("input",{type:"text",defaultValue:H.name,onKeyDown:Y=>{Y.key==="Enter"?U(H.name,Y.currentTarget.value):Y.key==="Escape"&&m(null)},onBlur:Y=>U(H.name,Y.target.value),autoFocus:!0,className:"px-2 py-1 border border-blue-500 rounded text-sm font-semibold text-slate-900 dark:text-slate-100 dark:bg-[#0f172a]"}):u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:H.name}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-0.5",children:[H.count," sn phm"]})]})]})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{onClick:()=>m(H.name),className:"flex-1 px-3 py-1.5 text-sm border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"i tn"}),u.jsx("button",{onClick:()=>F(H.name),className:"flex-1 px-3 py-1.5 text-sm border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 rounded hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Xa"})]})]},H.name)),D.length===0&&u.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-center",children:[u.jsx("div",{className:"mb-4 text-slate-400 dark:text-slate-500",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-16 h-16",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9-4.5 9 4.5v9l-9 4.5-9-4.5v-9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9 4.5 9-4.5"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v9"})]})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Cha c danh mc no"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Thm danh mc u tin  phn loi sn phm"}),u.jsx("button",{onClick:()=>d(!0),className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"Thm danh mc"})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Thm danh mc mi"}),u.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn danh mc"}),u.jsx("input",{type:"text",value:x,onChange:H=>p(H.target.value),placeholder:"VD: Ph tng xe my",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Biu tng"}),u.jsx("div",{className:"grid grid-cols-6 gap-2",children:M.map(H=>u.jsx("button",{onClick:()=>k(H),className:`p-3 border rounded-lg transition-colors flex items-center justify-center ${b===H?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:O[H]},H))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mu sc"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:W.map(H=>u.jsx("button",{onClick:()=>v(H.value),className:`p-3 rounded-lg border-2 transition-all ${y===H.value?"border-slate-900 dark:border-slate-100 scale-110":"border-transparent"}`,style:{backgroundColor:H.value},title:H.label,children:u.jsx("div",{className:"w-full h-6"})},H.value))})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Hy"}),u.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Thm danh mc"})]})]})}),u.jsx(dH,{isOpen:_.isOpen,title:_.title,message:_.message,confirmText:_.confirmText,cancelText:_.cancelText,confirmColor:_.confirmColor,onConfirm:T,onCancel:L})]})},mH=()=>{const{parts:e,sales:t,workOrders:r,customers:a,currentBranchId:n}=_i(),[i,s]=j.useState(""),[o,c]=j.useState("all"),[d,f]=j.useState(null),[m,x]=j.useState("all"),[p,y]=j.useState(null),v=j.useMemo(()=>{const _=new Set;return e.forEach(T=>{T.category&&_.add(T.category)}),Array.from(_).sort()},[e]),b=j.useMemo(()=>e.filter(_=>{var L,D;if(i){const R=i.toLowerCase(),U=_.name.toLowerCase().includes(R),F=(L=_.sku)==null?void 0:L.toLowerCase().includes(R),W=(D=_.description)==null?void 0:D.toLowerCase().includes(R);if(!U&&!F&&!W)return!1}if(o!=="all"&&_.category!==o)return!1;if(d){const R=_.retailPrice[n]||0;if(R<d.min||R>d.max)return!1}const T=_.stock[n]||0;return!(m==="in-stock"&&T<=0||m==="low-stock"&&T>10||m==="out-of-stock"&&T>0)}),[e,i,o,d,m,n]),N=p?(_=>{const T=e.find(F=>F.id===_);if(!T)return null;const L=t.filter(F=>F.items.some(W=>W.partId===_)),D=r.filter(F=>{var W;return(W=F.partsUsed)==null?void 0:W.some(O=>O.partId===_)}),R=L.reduce((F,W)=>{const O=W.items.find(M=>M.partId===_);return F+((O==null?void 0:O.quantity)||0)},0),U=L.reduce((F,W)=>{const O=W.items.find(M=>M.partId===_);return F+((O==null?void 0:O.sellingPrice)||0)*((O==null?void 0:O.quantity)||0)},0);return{part:T,salesCount:L.length,totalSold:R,revenue:U,lastSold:L.length>0?L.sort((F,W)=>new Date(W.date).getTime()-new Date(F.date).getTime())[0].date:null,workOrdersCount:D.length}})(p):null;return u.jsxs("div",{className:"h-full flex bg-slate-50 dark:bg-[#0f172a]",children:[u.jsxs("div",{className:"w-96 bg-white dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Tra cu sn phm"}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tm kim v xem chi tit sn phm"})]}),u.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),placeholder:"Tm theo tn, SKU, m t...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 placeholder-slate-400"})}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Danh mc"}),u.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100",children:[u.jsx("option",{value:"all",children:"Tt c danh mc"}),v.map(_=>u.jsx("option",{value:_,children:_},_))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn kho"}),u.jsx("div",{className:"space-y-2",children:[{value:"all",label:"Tt c"},{value:"in-stock",label:"Cn hng"},{value:"low-stock",label:"Sp ht (10)"},{value:"out-of-stock",label:"Ht hng"}].map(_=>u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"stock",value:_.value,checked:m===_.value,onChange:T=>x(T.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:_.label})]},_.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Khong gi"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",placeholder:"T",onChange:_=>f(T=>({min:Number(_.target.value)||0,max:(T==null?void 0:T.max)||999999999})),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 text-sm"}),u.jsx("input",{type:"number",placeholder:"n",onChange:_=>f(T=>({min:(T==null?void 0:T.min)||0,max:Number(_.target.value)||999999999})),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 text-sm"})]}),d&&u.jsx("button",{onClick:()=>f(null),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Xa b lc gi"})]})]}),u.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Tm thy"," ",u.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:b.length})," ","sn phm"]})})]})]}),u.jsx("div",{className:"flex-1 flex flex-col",children:u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(_=>{const T=_.stock[n]||0,L=_.retailPrice[n]||0;return u.jsx("div",{onClick:()=>y(_.id),className:`bg-white dark:bg-[#1e293b] rounded-lg shadow-sm border-2 transition-all cursor-pointer ${p===_.id?"border-blue-500 shadow-md":"border-slate-200 dark:border-slate-700 hover:shadow-md"}`,children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:_.name}),T<=0?u.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded",children:"Ht hng"}):T<=10?u.jsx("span",{className:"px-2 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs rounded",children:"Sp ht"}):u.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-xs rounded",children:"Cn hng"})]}),u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:["SKU: ",_.sku]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tn kho"}),u.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:T})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gi bn"}),u.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:qe(L)})]})]}),_.category&&u.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:u.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9-4.5 9 4.5v9l-9 4.5-9-4.5v-9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9 4.5 9-4.5"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v9"})]}),_.category]})})]})},_.id)})}),b.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("div",{className:"mb-4 text-slate-400 dark:text-slate-500",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-16 h-16",children:[u.jsx("circle",{cx:"11",cy:"11",r:"7"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Khng tm thy sn phm"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Th thay i b lc hoc t kha tm kim"})]})]})}),N&&u.jsxs("div",{className:"w-96 bg-white dark:bg-[#1e293b] border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chi tit sn phm"}),u.jsx("button",{onClick:()=>y(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:N.part.name}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["SKU: ",N.part.sku]})]}),N.part.description&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"M t"}),u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:N.part.description})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Tn kho"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:N.part.stock[n]||0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Gi bn l"}),u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:qe(N.part.retailPrice[n]||0)})]})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Thng k bn hng"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg",children:[u.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Tng  bn"}),u.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:N.totalSold})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-4 rounded-lg",children:[u.jsx("div",{className:"text-sm text-emerald-600 dark:text-emerald-400 mb-1",children:"Doanh thu"}),u.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:qe(N.revenue)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-4 rounded-lg",children:[u.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400 mb-1",children:"S n hng"}),u.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:N.salesCount})]}),N.lastSold&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Bn gn nht"}),u.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:Qa(N.lastSold)})]}),N.workOrdersCount>0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Lnh sa cha"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:N.workOrdersCount})]})]})]})]})]})},YS="suppliers";async function tSe(){try{const{data:e,error:t}=await xr.from(YS).select("*").order("name");return t?Lt({code:"supabase",message:"Khng th ti nh cung cp",cause:t}):Ln(e||[])}catch(e){return Lt({code:"network",message:"Li kt ni",cause:e})}}async function rSe(e){var t;try{if(!e.name)return Lt({code:"validation",message:"Thiu tn nh cung cp"});const r={id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Math.random().toString(36).slice(2)}-${Date.now()}`,name:e.name,phone:e.phone,address:e.address,created_at:new Date().toISOString()},{data:a,error:n}=await xr.from(YS).insert([r]).select().single();if(n||!a){const s=(n==null?void 0:n.message)||(n==null?void 0:n.details)||"To nh cung cp tht bi";return Lt({code:"supabase",message:s,cause:n})}let i=null;try{const{data:s}=await xr.auth.getUser();i=((t=s==null?void 0:s.user)==null?void 0:t.id)||null}catch{}return await bi(i,{action:"supplier.create",tableName:YS,recordId:a.id,oldData:null,newData:a}),Ln(a)}catch(r){return Lt({code:"network",message:"Li kt ni khi to nh cung cp",cause:r})}}const aSe=()=>qc({queryKey:["suppliers"],queryFn:async()=>{const e=await tSe();if(!e.ok)throw e.error;return e.data}}),nSe=()=>{const e=zs();return $c({mutationFn:async t=>{const r=await rSe(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["suppliers"]}),yt.success(" thm nh cung cp")},onError:t=>yt.error((t==null?void 0:t.message)||"Li thm nh cung cp")})},A_=new Intl.NumberFormat("vi-VN",{minimumFractionDigits:0,maximumFractionDigits:2});function iSe(e){let t=e.replace(/[^0-9.,-]/g,"");const r=t.includes("."),a=t.includes(",");r&&a?t=t.replace(/\./g,"").replace(",","."):a&&!r&&(t=t.replace(",","."));const n=Number(t);return Number.isFinite(n)?n:0}const cf=({value:e,onValue:t,placeholder:r,className:a,min:n,max:i,disabled:s,ariaLabel:o})=>{const[c,d]=ya.useState(e?A_.format(e):""),[f,m]=ya.useState(!1);ya.useEffect(()=>{f||d(e?A_.format(e):"")},[e,f]);const x=y=>{const v=y.target.value;d(v);const b=iSe(v);if(n!==void 0&&b<n){t(n);return}if(i!==void 0&&b>i){t(i);return}t(b)},p=()=>{m(!1),d(e?A_.format(e):"")};return u.jsx("input",{type:"text",inputMode:"decimal",value:c,onChange:x,onFocus:()=>m(!0),onBlur:p,placeholder:r,className:a,disabled:s,"aria-label":o})},EL=5e7,CL=1e4;function XS(e,t){const r=[];let a=Math.max(0,Math.round(e)),n=Math.max(0,Math.round(t));return a>EL&&(r.push("Gi nhp qu ln (>50 triu)  c gii hn."),a=EL),n>CL&&(r.push("S lng qu ln (>10,000)  c gii hn."),n=CL),{ok:!0,warnings:r,clean:{importPrice:a,quantity:n}}}const sSe=({isOpen:e,onClose:t,onSave:r})=>{const[a,n]=j.useState(""),[i,s]=j.useState(""),[o,c]=j.useState(""),[d,f]=j.useState(1),[m,x]=j.useState(0),[p,y]=j.useState(0),[v,b]=j.useState(1),[k,N]=j.useState("thng"),[_,T]=j.useState(!1),{data:L=[]}=Zw(),D=PA(),[R,U]=j.useState(!1),[F,W]=j.useState(""),O=()=>{if(!a.trim()){yt.warning("Vui lng nhp tn sn phm");return}r({name:a.trim(),description:i.trim(),category:o||"Cha phn loi",quantity:Number(d)||1,importPrice:Number(m)||0,retailPrice:Number(p)||0,warranty:Number(v)||0,warrantyUnit:k}),n(""),s(""),c(""),f(1),x(0),y(0),b(1),T(!1),N("thng")};return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Thm sn phm mi"}),u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn sn phm ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:a,onChange:M=>n(M.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"Nhp tn sn phm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M t"}),u.jsx("textarea",{value:i,onChange:M=>s(M.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"M t sn phm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Danh mc sn phm"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"",children:"-- Chn hoc to mi --"}),L.map(M=>u.jsx("option",{value:M.name,children:M.name},M.id))]}),u.jsx("button",{type:"button",onClick:()=>U(!0),className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600","aria-label":"Thm danh mc mi",children:u.jsx("span",{className:"text-xl text-slate-600 dark:text-slate-300",children:"+"})})]}),R&&u.jsxs("form",{onSubmit:async M=>{M.preventDefault();const H=F.trim();if(!H){yt.warning("Vui lng nhp tn danh mc");return}if(H.length<2){yt.warning("Tn qu ngn");return}try{const Y=await D.mutateAsync({name:H});c(Y.name),W(""),U(!1)}catch(Y){yt.error((Y==null?void 0:Y.message)||"Li to danh mc")}},className:"flex gap-2",children:[u.jsx("input",{autoFocus:!0,type:"text",value:F,onChange:M=>W(M.target.value),placeholder:"Nhp tn danh mc mi",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm text-slate-900 dark:text-slate-100"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium",children:"Lu"}),u.jsx("button",{type:"button",onClick:()=>{U(!1),W("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Hy"})]})]})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Thng tin nhp kho:"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"S lng:"}),u.jsx(cf,{value:d,onValue:M=>{const H=XS(m,M);H.warnings.length&&H.warnings.forEach(Y=>yt.warning(Y)),f(Math.max(1,H.clean.quantity))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Gi nhp:"}),u.jsx(cf,{value:m,onValue:M=>{const H=XS(M,d);H.warnings.length&&H.warnings.forEach(Y=>yt.warning(Y)),x(H.clean.importPrice),_||y(Math.round(H.clean.importPrice*1.5))},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Gi bn l:"}),u.jsx(cf,{value:p,onValue:M=>{y(Math.max(0,Math.round(M))),T(!0)},className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bo hnh"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(cf,{value:v,onValue:M=>b(Math.max(0,Math.floor(M))),className:"w-24 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right"}),u.jsxs("select",{value:k,onChange:M=>N(M.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"thng",children:"thng"}),u.jsx("option",{value:"nm",children:"nm"}),u.jsx("option",{value:"ngy",children:"ngy"})]})]})]})]})}),u.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700",children:u.jsx("button",{onClick:O,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg font-medium",children:"Lu v Thm vo gi hng"})})]})}):null},oSe=({isOpen:e,onClose:t,parts:r,currentBranchId:a,onSave:n})=>{const[i,s]=j.useState(""),[o,c]=j.useState(""),{data:d=[]}=aSe(),f=nSe(),[m,x]=j.useState(!1),[p,y]=j.useState({name:"",phone:"",address:"",note:""}),v=Qz(),[b,k]=j.useState(!1),[N,_]=j.useState([]),[T,L]=j.useState(null),[D,R]=j.useState(null),[U,F]=j.useState(0),[W,O]=j.useState(0),[M,H]=j.useState("amount"),[Y,ne]=j.useState(0),X=j.useMemo(()=>{const z=i.toLowerCase();return i?r.filter(Q=>Q.name.toLowerCase().includes(z)||Q.sku.toLowerCase().includes(z)):r},[r,i]),re=z=>{var de;const Q=N.find(Ee=>Ee.partId===z.id);_(Q?Ee=>Ee.map(ie=>ie.partId===z.id?{...ie,quantity:ie.quantity+1}:ie):[...N,{partId:z.id,partName:z.name,sku:z.sku,quantity:1,importPrice:0,sellingPrice:z.retailPrice[a]||0,wholesalePrice:((de=z.wholesalePrice)==null?void 0:de[a])||0}]),s("")},fe=(z,Q,de)=>{_(Ee=>Ee.map(ie=>ie.partId===z?{...ie,[Q]:de}:ie))},ce=z=>{_(Q=>Q.filter(de=>de.partId!==z))},ke=j.useMemo(()=>N.reduce((z,Q)=>z+Q.importPrice*Q.quantity,0),[N]),Z=j.useMemo(()=>Math.max(0,ke-W),[ke,W]),{profile:P}=Qd(),q=()=>{var Q;if(!Yz(P==null?void 0:P.role,"part.update_price")){yt.error("Bn khng c quyn cp nht gi");return}if(N.length===0){yt.warning("Vui lng chn sn phm nhp kho");return}const z=((Q=d.find(de=>de.id===o))==null?void 0:Q.name)||"";n(N,z,Z,""),_([]),c(""),s(""),O(0),ne(0),H("amount")},V=z=>{(async()=>{try{const Q=await v.mutateAsync({name:z.name,sku:`SKU-${Date.now()}`,category:z.category,description:z.description,stock:{[a]:z.quantity},retailPrice:{[a]:z.retailPrice},wholesalePrice:{[a]:Math.round(z.retailPrice*.9)}});_(de=>[...de,{partId:Q.id,partName:z.name,sku:Q.sku,quantity:z.quantity,importPrice:z.importPrice,sellingPrice:z.retailPrice,wholesalePrice:z.wholesalePrice||0}]),yt.success(" to ph tng mi v thm vo phiu nhp")}catch(Q){yt.error((Q==null?void 0:Q.message)||"Li to ph tng mi")}finally{k(!1)}})()};return e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex",children:[u.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""}),u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chn sn phm nhp kho"})]}),u.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:[u.jsx("span",{className:"text-xl",children:"+"}),u.jsx("span",{children:"Thm sn phm mi"})]})]}),u.jsx("div",{className:"p-6 bg-white dark:bg-slate-800",children:u.jsx("input",{type:"text",placeholder:"Tm theo tn sn phm, SKU...",value:i,onChange:z=>s(z.target.value),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:X.length===0?u.jsx("div",{className:"text-center text-slate-500 py-8",children:"Khng tm thy sn phm no"}):u.jsx("div",{className:"space-y-2",children:X.map(z=>u.jsxs("div",{onClick:()=>re(z),className:"p-4 bg-white dark:bg-slate-800 rounded-lg hover:bg-blue-50 dark:hover:bg-slate-700 cursor-pointer border border-slate-200 dark:border-slate-600 transition-colors",children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:z.name}),u.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["SKU: ",z.sku]})]},z.id))})})]}),u.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nh cung cp (NCC):"}),u.jsxs("button",{onClick:()=>{y({name:"",phone:"",address:"",note:""}),x(!0)},className:"flex items-center gap-1 text-xs px-2 py-1 rounded bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-slate-700 dark:text-blue-400",children:[u.jsx("span",{className:"text-base leading-none",children:"+"}),"Thm NCC"]})]}),u.jsxs("select",{value:o,onChange:z=>c(z.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"",children:"Tm/Chn nh cung cp"}),d.map(z=>u.jsxs("option",{value:z.id,children:[z.name," ",z.phone?`(${z.phone})`:""]},z.id))]}),o&&u.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:(()=>{const z=d.find(Q=>Q.id===o);return z?u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Tn:"})," ",z.name]}),z.phone&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"T:"})," ",z.phone]}),z.address&&u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"/c:"})," ",z.address]})]}):null})()})]}),m&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md p-6 space-y-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Thm nh cung cp"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"Tn *"}),u.jsx("input",{autoFocus:!0,value:p.name,onChange:z=>y(Q=>({...Q,name:z.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm",placeholder:"Tn nh cung cp"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"in thoi"}),u.jsx("input",{value:p.phone,onChange:z=>y(Q=>({...Q,phone:z.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm",placeholder:"ST"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"a ch"}),u.jsx("textarea",{rows:2,value:p.address,onChange:z=>y(Q=>({...Q,address:z.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm resize-none",placeholder:"a ch nh cung cp"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium mb-1 text-slate-600 dark:text-slate-400",children:"Ghi ch"}),u.jsx("textarea",{rows:2,value:p.note,onChange:z=>y(Q=>({...Q,note:z.target.value})),className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-sm resize-none",placeholder:"Thng tin thm (ty chn)"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[u.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Hy"}),u.jsx("button",{onClick:async()=>{var z,Q;if(!p.name.trim()){yt.warning("Nhp tn nh cung cp");return}try{const de=await f.mutateAsync({name:p.name.trim(),phone:((z=p.phone)==null?void 0:z.trim())||void 0,address:((Q=p.address)==null?void 0:Q.trim())||void 0});c(de.id),x(!1)}catch{}},className:"px-4 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60",disabled:f.isPending,children:f.isPending?"ang lu...":"Lu"})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Gi hng nhp kho"}),u.jsxs("span",{className:"text-sm text-slate-500",children:["(",N.length," sn phm)"]})]}),N.length===0?u.jsxs("div",{className:"text-center text-slate-400 py-12",children:[u.jsx("div",{className:"text-4xl mb-2",children:u.jsx(cl,{className:"w-10 h-10 mx-auto text-slate-300"})}),u.jsx("div",{className:"text-sm",children:"Gi hng trng"}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Chn sn phm  thm vo gi"})]}):u.jsx("div",{className:"space-y-3",children:N.map(z=>u.jsxs("div",{className:"border border-slate-200 dark:border-slate-600 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(cl,{className:"w-6 h-6 text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:z.partName}),u.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["SKU: ",z.sku]})]}),u.jsx("button",{onClick:()=>ce(z.partId),className:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 rounded-full text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 flex-shrink-0",title:"Xa",children:""})]}),u.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"S lng:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>fe(z.partId,"quantity",Math.max(1,z.quantity-1)),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"-"}),u.jsx("span",{className:"w-8 text-center font-medium text-sm text-slate-900 dark:text-slate-100",children:z.quantity}),u.jsx("button",{onClick:()=>fe(z.partId,"quantity",z.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"+"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi nhp:"}),u.jsx(cf,{value:z.importPrice,onValue:Q=>{const{clean:de}=XS(Q,z.quantity),Ee=de.importPrice,ie=Math.round(Ee*1.5);_(je=>je.map(Me=>Me.partId===z.partId?{...Me,importPrice:Ee,sellingPrice:Me.sellingPrice===0||Me.sellingPrice===Math.round((Me.importPrice||0)*1.5)?ie:Me.sellingPrice}:Me))},className:"w-40 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi bn l:"}),u.jsx(cf,{value:z.sellingPrice,onValue:Q=>fe(z.partId,"sellingPrice",Math.max(0,Math.round(Q))),className:"w-40 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi bn s:"}),u.jsx(cf,{value:z.wholesalePrice||0,onValue:Q=>fe(z.partId,"wholesalePrice",Math.max(0,Math.round(Q))),className:"w-40 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Thnh tin:"}),u.jsx("span",{className:"font-bold text-sm text-blue-600 dark:text-blue-400",children:qe(z.importPrice*z.quantity)})]})]})]},z.partId))})]}),u.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Tng tin hng"}),u.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:qe(Z)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:M==="amount"?W||"":Y,onChange:z=>{const Q=Number(z.target.value)||0;if(M==="amount")Q>ke?(yt.warning("Gim gi khng c ln hn tng tin!"),O(ke)):O(Q);else{const de=Math.min(Q,100);ne(de),O(Math.round(ke*de/100))}},placeholder:"0",className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",min:"0",max:M==="amount"?ke:100}),u.jsxs("select",{value:M,onChange:z=>{const Q=z.target.value;H(Q),O(0),ne(0)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{value:"amount",children:""}),u.jsx("option",{value:"percent",children:"%"})]})]})]}),M==="percent"&&u.jsx("div",{className:"flex gap-1 justify-end",children:[5,10,15,20].map(z=>u.jsxs("button",{onClick:()=>{ne(z),O(Math.round(ke*z/100))},className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-700 dark:text-slate-300 rounded transition-colors",children:[z,"%"]},z))}),M==="percent"&&Y>0&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-right",children:["= ",qe(W)]})]}),u.jsxs("div",{className:"flex justify-between items-center text-xl font-bold pt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Khch phi tr"}),u.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:qe(Z)})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:["Phng thc thanh ton ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:()=>L("cash"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${T==="cash"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),u.jsx("span",{className:"font-medium",children:"Tin mt"})]}),u.jsxs("button",{onClick:()=>L("bank"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${T==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("path",{d:"M2 10h20"}),u.jsx("path",{d:"M6 14h4"})]}),u.jsx("span",{className:"font-medium",children:"Chuyn khon"})]})]})]}),T&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"Hnh thc"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>{R("full"),F(0)},className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${D==="full"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Thanh ton "}),u.jsx("button",{onClick:()=>R("partial"),className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${D==="partial"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Thanh ton 1 phn"}),u.jsx("button",{onClick:()=>{R("note"),F(0)},className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${D==="note"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Ghi n"})]})]}),D==="partial"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin khch tr"}),u.jsx(cf,{value:U,onValue:z=>F(Math.max(0,Math.round(z))),className:"w-full px-3 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right text-lg font-medium",placeholder:"0"}),u.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Cn li:"," ",qe(Math.max(0,Z-U))," "]})]}),T&&D&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hch ton:"}),u.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{children:"Mua hng/nhp kho"}),u.jsx("option",{children:"Nhp tr hng"}),u.jsx("option",{children:"Khc"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:t,className:"flex-1 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-100 px-4 py-3 rounded-lg font-medium transition-colors",children:"LU NHP"}),u.jsx("button",{onClick:()=>{if(!T){yt.warning("Vui lng chn phng thc thanh ton");return}if(!D){yt.warning("Vui lng chn hnh thc thanh ton");return}if(D==="partial"&&U<=0){yt.warning("Vui lng nhp s tin khch tr");return}q()},disabled:!T||!D||D==="partial"&&U<=0,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg font-medium transition-colors disabled:bg-slate-300 disabled:text-slate-500 disabled:cursor-not-allowed dark:disabled:bg-slate-600 dark:disabled:text-slate-400",children:"NHP KHO"})]})]})]})]})}),u.jsx(sSe,{isOpen:b,onClose:()=>k(!1),onSave:V})]}):null},lSe=({transactions:e})=>{const[t,r]=j.useState("7days"),[a,n]=j.useState(Qa(new Date,!0)),[i,s]=j.useState(Qa(new Date,!0)),[o,c]=j.useState(""),d=j.useMemo(()=>{console.log(" [InventoryHistorySection] Tng s giao dch:",e.length);let m=e.filter(p=>p.type==="Nhp kho");console.log(" [InventoryHistorySection] Giao dch 'Nhp kho':",m.length);const x=new Date;switch(t){case"7days":const p=new Date(x.getTime()-6048e5);m=m.filter(b=>new Date(b.date)>=p);break;case"30days":const y=new Date(x.getTime()-720*60*60*1e3);m=m.filter(b=>new Date(b.date)>=y);break;case"thisMonth":const v=new Date(x.getFullYear(),x.getMonth(),1);m=m.filter(b=>new Date(b.date)>=v);break;case"custom":m=m.filter(b=>{const k=new Date(b.date);return k>=new Date(a)&&k<=new Date(i)});break}if(o){const p=o.toLowerCase();m=m.filter(y=>y.partName.toLowerCase().includes(p)||y.notes&&y.notes.toLowerCase().includes(p))}return m.sort((p,y)=>new Date(y.date).getTime()-new Date(p.date).getTime())},[e,t,a,i,o]),f=j.useMemo(()=>d.reduce((m,x)=>m+x.totalPrice,0),[d]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Lch s nhp kho"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"7days",label:"7 ngy qua"},{key:"30days",label:"30 ngy qua"},{key:"thisMonth",label:"Thng ny"},{key:"custom",label:"Ty chn"}].map(m=>u.jsx("button",{onClick:()=>r(m.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t===m.key?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:m.label},m.key))}),t==="custom"&&u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"T ngy"}),u.jsx("input",{type:"date",value:a,onChange:m=>n(m.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"n ngy"}),u.jsx("input",{type:"date",value:i,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]}),u.jsx("input",{type:"text",placeholder:"Nh cung cp, SKU, tn ph tng...",value:o,onChange:m=>c(m.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Tng s tin:"," ",u.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:d.length})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tng gi tr"}),u.jsx("div",{className:"text-lg font-bold text-blue-600",children:qe(f)})]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ngy"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Nh cung cp"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ni dung"}),u.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"S tin"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:d.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"Khng c d liu"})}):d.map(m=>{var x;return u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:Qa(new Date(m.date),!1)}),u.jsx("div",{className:"text-xs text-slate-500",children:new Date(m.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:m.notes&&m.notes.includes("NCC:")&&((x=m.notes.split("NCC:")[1])==null?void 0:x.trim())||"Cha r"})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.partName}),u.jsxs("div",{className:"text-xs text-slate-500",children:["SL: ",m.quantity]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:qe(m.totalPrice)})})]},m.id)})})]})}),u.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Hin th ",d.length," kt qu"]})})]})},cSe=()=>{var J;const{currentBranchId:e}=_i(),{mutateAsync:t}=Zz(),{data:r=[]}=Bge({branchId:e}),[a,n]=j.useState("stock"),[i,s]=j.useState(!1),[o,c]=j.useState(""),[d,f]=j.useState("all"),[m,x]=j.useState("all"),[p,y]=j.useState(1),[v,b]=j.useState(20),[k,N]=j.useState([]),[_,T]=j.useState(null),[L,D]=j.useState(!1),{confirm:R,confirmState:U,handleConfirm:F,handleCancel:W}=uH(),{data:O,isLoading:M,isError:H}=Tge({page:p,pageSize:v,search:o,category:d==="all"?void 0:d}),Y=(O==null?void 0:O.data)||[],ne=((J=O==null?void 0:O.meta)==null?void 0:J.total)||0,X=Math.max(1,Math.ceil(ne/v)),re=j.useMemo(()=>Y,[Y]),fe=j.useMemo(()=>Y.reduce((ge,be)=>{const oe=be.stock[e]||0,Ue=be.retailPrice[e]||0;return ge+oe*Ue},0),[Y,e]),ce=j.useMemo(()=>Y.reduce((ge,be)=>ge+(be.stock[e]||0),0),[Y,e]),ke=Jz(),Z=Qz(),P=Ege(),{data:q=[]}=Zw(),{profile:V}=Qd(),z=j.useCallback((ge,be,oe,Ue)=>{ge.forEach(ve=>{const Ge=Y.find(ft=>ft.id===ve.partId);if(!Ge){t({type:"Nhp kho",partId:ve.partId,partName:ve.partName,quantity:ve.quantity,date:new Date().toISOString(),unitPrice:ve.importPrice,totalPrice:ve.importPrice*ve.quantity,branchId:e,notes:be?`NCC: ${be}`:Ue}).catch(ft=>{console.error("Li lu lch s kho:",ft),yt.error(`Li lu lch s: ${ft.message||"Khng r"}`)});return}const $e=Ge.stock[e]||0;ke.mutate({id:ve.partId,updates:{stock:{...Ge.stock,[e]:$e+ve.quantity},retailPrice:{...Ge.retailPrice,[e]:ve.sellingPrice},wholesalePrice:{...Ge.wholesalePrice,[e]:ve.wholesalePrice||0}}}),t({type:"Nhp kho",partId:ve.partId,partName:ve.partName,quantity:ve.quantity,date:new Date().toISOString(),unitPrice:ve.importPrice,totalPrice:ve.importPrice*ve.quantity,branchId:e,notes:be?`NCC: ${be}`:Ue}).catch(ft=>{console.error("Li lu lch s kho:",ft),yt.error(`Li lu lch s: ${ft.message||"Khng r"}`)}),Ge.retailPrice[e]!==ve.sellingPrice&&bi((V==null?void 0:V.id)||null,{action:"part.update_price",tableName:"parts",recordId:Ge.id,oldData:{retailPrice:Ge.retailPrice[e]},newData:{retailPrice:ve.sellingPrice}})}),s(!1),yt.success("Nhp kho thnh cng!"),bi((V==null?void 0:V.id)||null,{action:"inventory.receipt",tableName:"inventory_transactions",oldData:null,newData:{supplier:be,items:ge.map(ve=>({partId:ve.partId,quantity:ve.quantity,importPrice:ve.importPrice,sellingPrice:ve.sellingPrice})),totalAmount:oe}})},[Y,e,ke,t,V==null?void 0:V.id]),Q=ge=>{N(ge?re.map(be=>be.id):[])},de=(ge,be)=>{N(be?[...k,ge]:k.filter(oe=>oe!==ge))},Ee=async ge=>{const be=Y.find(Ue=>Ue.id===ge);!be||!await R({title:"Xc nhn xa",message:`Bn c chc chn mun xa sn phm "${be.name}"?`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"})||(P.mutate({id:ge}),N(Ue=>Ue.filter(ve=>ve!==ge)),yt.success(` xa sn phm "${be.name}"`))},ie=async()=>{if(k.length===0){yt.warning("Vui lng chn t nht mt sn phm");return}await R({title:"Xc nhn xa",message:`Bn c chc chn mun xa ${k.length} sn phm  chn? Hnh ng ny khng th hon tc.`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"})&&(k.forEach(be=>P.mutate({id:be})),N([]),yt.success(` xa ${k.length} sn phm`))},je=()=>{try{const ge=new Date,be=`ton-kho-${ge.getDate()}-${ge.getMonth()+1}-${ge.getFullYear()}.xlsx`;W3e(Y,e,be),yt.success("Xut file Excel thnh cng!")}catch(ge){console.error("Export error:",ge),yt.error("C li khi xut file Excel")}},Me=()=>{try{V3e(),yt.success("Ti template thnh cng! Vui lng in thng tin v import li.")}catch(ge){console.error("Template download error:",ge),yt.error("C li khi ti template")}};return u.jsxs("div",{className:"h-full flex flex-col bg-secondary-bg",children:[u.jsx("div",{className:"bg-primary-bg border-b border-primary-border px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsx("div",{className:"flex gap-2",children:[{key:"stock",label:"Tn kho",icon:u.jsx(cl,{className:"w-4 h-4"})},{key:"categories",label:"Danh mc",icon:u.jsx(I3,{className:"w-4 h-4"})},{key:"lookup",label:"Tra cu",icon:u.jsx(XR,{className:"w-4 h-4"})},{key:"history",label:"Lch s",icon:u.jsx(ev,{className:"w-4 h-4"})}].map(ge=>u.jsx("button",{onClick:()=>n(ge.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===ge.key?"bg-blue-600 text-white":"text-secondary-text hover:bg-tertiary-bg"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[ge.icon,ge.label]})},ge.key))}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:"+"}),u.jsx("span",{children:"To phiu nhp"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Chuyn kho"})]}),u.jsxs("button",{onClick:je,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Xut Excel"})]}),u.jsxs("button",{onClick:()=>D(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Nhp CSV"})]})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a==="stock"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"bg-accent-blue-bg rounded-lg px-5 py-3 border border-accent-blue-border min-w-[140px]",children:[u.jsx("div",{className:"text-xs text-accent-blue-text mb-1",children:"Tng SL tn"}),u.jsx("div",{className:"text-xl font-bold text-primary-text",children:ce})]}),u.jsxs("div",{className:"bg-accent-green-bg rounded-lg px-5 py-3 border border-accent-green-border min-w-[180px]",children:[u.jsx("div",{className:"text-xs text-accent-green-text mb-1",children:"Gi tr tn"}),u.jsx("div",{className:"text-xl font-bold text-accent-green-text",children:qe(fe)})]})]}),u.jsxs("div",{className:"flex gap-3 flex-1",children:[u.jsx("input",{type:"text",placeholder:"Tm kim theo tn hoc SKU...",value:o,onChange:ge=>{y(1),c(ge.target.value)},className:"flex-1 px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-primary-text placeholder-tertiary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors"}),u.jsxs("select",{value:m,onChange:ge=>{y(1),x(ge.target.value)},className:"px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-secondary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors",children:[u.jsx("option",{value:"all",children:"Tt c tn kho"}),u.jsx("option",{value:"low",children:"Sp ht (<10)"}),u.jsx("option",{value:"out",children:"Ht hng (=0)"})]}),u.jsxs("select",{value:d,onChange:ge=>{y(1),f(ge.target.value)},className:"px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-secondary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors",children:[u.jsx("option",{value:"all",children:"Tt c danh mc"}),q.map(ge=>u.jsx("option",{value:ge.name,children:ge.name},ge.id))]})]})]}),u.jsxs("div",{className:"rounded-lg overflow-hidden border border-primary-border",children:[k.length>0&&u.jsxs("div",{className:"px-6 py-3 bg-blue-100 dark:bg-blue-900/30 border-b border-primary-border flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[" chn ",k.length," sn phm"]}),u.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xa  chn"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-tertiary-bg",children:u.jsxs("tr",{className:"border-b border-primary-border",children:[u.jsx("th",{className:"px-6 py-4 text-center w-12",children:u.jsx("input",{type:"checkbox",checked:k.length===re.length&&re.length>0,onChange:ge=>Q(ge.target.checked),className:"w-4 h-4 text-blue-600 rounded border-secondary-border focus:ring-blue-500"})}),u.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"STT"}),u.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Tn sn phm"}),u.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Danh mc"}),u.jsx("th",{className:"text-center px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Tn kho"}),u.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi nhp"}),u.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi bn l"}),u.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi bn s"}),u.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi tr"}),u.jsx("th",{className:"text-center px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Thao tc"})]})}),u.jsx("tbody",{className:"bg-primary-bg divide-y divide-primary-border",children:re.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:10,className:"px-6 py-8 text-center text-tertiary-text",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("div",{className:"text-lg",children:"Khng c sn phm no"}),u.jsx("div",{className:"text-sm",children:"Hy th mt b lc khc hoc thm sn phm mi"})]})}):re.map((ge,be)=>{var Je;const oe=ge.stock[e]||0,Ue=ge.retailPrice[e]||0,ve=((Je=ge.wholesalePrice)==null?void 0:Je[e])||0,Ge=0,$e=oe*Ue,ft=k.includes(ge.id);return u.jsxs("tr",{className:`border-b border-primary-border hover:bg-tertiary-bg transition-colors ${ft?"bg-blue-900/20 dark:bg-blue-900/20":""}`,children:[u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("input",{type:"checkbox",checked:ft,onChange:kt=>de(ge.id,kt.target.checked),className:"w-4 h-4 text-blue-600 rounded border-secondary-border focus:ring-blue-500"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-text",children:be+1}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-primary-text",children:ge.name}),u.jsxs("div",{className:"text-xs text-tertiary-text",children:["SKU: ",ge.sku]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-text",children:ge.category}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-bold rounded ${oe===0?"text-red-600 dark:text-red-400":oe<10?"text-yellow-600 dark:text-yellow-400":"text-emerald-600 dark:text-emerald-400"}`,children:oe})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-secondary-text",children:qe(Ge)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-primary-text font-medium",children:qe(Ue)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-secondary-text",children:qe(ve)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-semibold text-primary-text",children:qe($e)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{onClick:()=>T(ge),className:"p-1.5 text-blue-400 hover:bg-blue-500/20 rounded transition-colors",title:"Chnh sa",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>Ee(ge.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded transition-colors",title:"Xa",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},ge.id)})})]})}),u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-primary-border bg-primary-bg",children:[u.jsxs("div",{className:"text-sm text-secondary-text",children:["Trang ",p,"/",X,"  Tng ",ne," ph tng"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{disabled:p===1||M,onClick:()=>y(ge=>Math.max(1,ge-1)),className:"px-3 py-1.5 border border-secondary-border rounded disabled:opacity-40",children:" Trc"}),u.jsx("button",{disabled:p>=X||M,onClick:()=>y(ge=>Math.min(X,ge+1)),className:"px-3 py-1.5 border border-secondary-border rounded disabled:opacity-40",children:"Sau "}),u.jsx("select",{value:v,onChange:ge=>{const be=Number(ge.target.value)||20;b(be),y(1)},className:"px-2 py-1.5 border border-secondary-border rounded",children:[10,20,50,100].map(ge=>u.jsxs("option",{value:ge,children:[ge,"/trang"]},ge))})]})]})]})]}),a==="history"&&u.jsx(lSe,{transactions:r}),a==="categories"&&u.jsx("div",{className:"bg-[#0f172a] -m-6",children:u.jsx(hH,{})}),a==="lookup"&&u.jsx("div",{className:"bg-[#0f172a] -m-6",children:u.jsx(mH,{})})]}),u.jsx(oSe,{isOpen:i,onClose:()=>s(!1),parts:Y,currentBranchId:e,onSave:z}),_&&u.jsx(dSe,{part:_,onClose:()=>T(null),onSave:ge=>{ke.mutate({id:ge.id,updates:ge}),T(null)},currentBranchId:e}),L&&u.jsx(uSe,{onClose:()=>D(!1),onDownloadTemplate:Me,onImport:async ge=>{var be;try{const{items:oe,errors:Ue}=await K3e(ge,e);if(oe.length===0){const Je=Ue.length?`Khng import c: ${Ue.slice(0,3).join("; ")}`:"File khng c d liu hp l";throw new Error(Je)}let ve=0,Ge=0;for(const Je of oe){let kt=Y.find(At=>At.sku===Je.sku);if(!kt){const At=await vD(Je.sku);At.ok&&At.data&&(kt=At.data)}kt?(Ge+=1,ke.mutate({id:kt.id,updates:{stock:{...kt.stock,[e]:(kt.stock[e]||0)+Je.quantity},retailPrice:{...kt.retailPrice,[e]:Je.retailPrice},wholesalePrice:{...kt.wholesalePrice,[e]:Je.wholesalePrice}}})):(ve+=1,Z.mutate({name:Je.name,sku:Je.sku,category:Je.category,description:Je.description,stock:{[e]:Je.quantity},retailPrice:{[e]:Je.retailPrice},wholesalePrice:{[e]:Je.wholesalePrice}}))}const $e=new Date().toISOString();for(const Je of oe){let kt=Y.find(At=>At.sku===Je.sku);if(!kt){const At=await vD(Je.sku);At.ok&&At.data&&(kt=At.data)}kt&&t({type:"Nhp kho",date:$e,branchId:e,partId:kt.id,partName:Je.name,quantity:Je.quantity,unitPrice:Je.retailPrice,totalPrice:Je.quantity*Je.retailPrice,notes:"Nhp kho t file Excel"})}try{const{data:Je}=await xr.auth.getUser();await bi(((be=Je==null?void 0:Je.user)==null?void 0:be.id)||null,{action:"inventory.import",tableName:"inventory_transactions",oldData:null,newData:{totalRows:oe.length+Ue.length,created:ve,updated:Ge,skipped:Ue.length,sampleErrors:Ue.slice(0,10),branchId:e,at:$e}})}catch{}D(!1);const ft=`Import: to mi ${ve}, cp nht ${Ge}`+(Ue.length?`, b qua ${Ue.length}`:"");yt.success(ft)}catch(oe){console.error("Import error:",oe),yt.error(`Li import: ${oe}`)}}}),u.jsx(dH,{isOpen:U.isOpen,title:U.title,message:U.message,confirmText:U.confirmText,cancelText:U.cancelText,confirmColor:U.confirmColor,onConfirm:F,onCancel:W})]})},uSe=({onClose:e,onDownloadTemplate:t,onImport:r})=>{const[a,n]=j.useState(null),[i,s]=j.useState(!1),o=d=>{var m,x;const f=(m=d.target.files)==null?void 0:m[0];if(f){const p=(x=f.name.split(".").pop())==null?void 0:x.toLowerCase();p==="xlsx"||p==="xls"||p==="csv"?n(f):yt.warning("Vui lng chn file Excel (.xlsx, .xls) hoc CSV (.csv)")}},c=async()=>{if(!a){yt.warning("Vui lng chn file  import");return}s(!0);try{await r(a)}finally{s(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Nhp tn kho t Excel/CSV"}),u.jsx("button",{onClick:e,disabled:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 disabled:opacity-50",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Hng dn s dng"}),u.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[u.jsx("li",{children:"Ti file template mu"}),u.jsx("li",{children:"in thng tin sn phm vo file"}),u.jsx("li",{children:"Lu file v chn  import"})]}),u.jsx("button",{onClick:t,className:"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:" Ti Template Excel"})]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn file  import"}),u.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6 text-center",children:[u.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:o,disabled:i,className:"hidden",id:"file-upload"}),u.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex flex-col items-center",children:[u.jsx("svg",{className:"w-12 h-12 text-slate-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Click  chn file Excel hoc CSV"}),a&&u.jsxs("span",{className:"mt-2 text-sm font-medium text-blue-600 dark:text-blue-400",children:[" ",a.name]})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Hy"}),u.jsx("button",{onClick:c,disabled:!a||i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"ang x l...":"Import"})]})]})]})})},dSe=({part:e,onClose:t,onSave:r,currentBranchId:a})=>{var p;const[n,i]=j.useState({name:e.name,category:e.category||"",retailPrice:e.retailPrice[a]||0,wholesalePrice:((p=e.wholesalePrice)==null?void 0:p[a])||0}),{data:s=[]}=Zw(),o=PA(),[c,d]=j.useState(!1),[f,m]=j.useState(""),x=y=>{if(y.preventDefault(),!n.name.trim()){yt.warning("Vui lng nhp tn sn phm");return}r({id:e.id,name:n.name.trim(),category:n.category.trim()||void 0,retailPrice:{...e.retailPrice,[a]:n.retailPrice},wholesalePrice:{...e.wholesalePrice,[a]:n.wholesalePrice}})};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Chnh sa sn phm"}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn sn phm ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:n.name,onChange:y=>i({...n,name:y.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Danh mc"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{value:n.category,onChange:y=>i({...n,category:y.target.value}),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"",children:"-- Chn hoc to mi --"}),s.map(y=>u.jsx("option",{value:y.name,children:y.name},y.id))]}),u.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600",title:"Thm danh mc mi",children:"+"})]}),c&&u.jsxs("form",{onSubmit:async y=>{y.preventDefault();const v=f.trim();if(!v)return yt.warning("Vui lng nhp tn danh mc");try{const b=await o.mutateAsync({name:v});i({...n,category:b.name}),m(""),d(!1)}catch(b){yt.error((b==null?void 0:b.message)||"Li to danh mc")}},className:"flex gap-2",children:[u.jsx("input",{autoFocus:!0,type:"text",value:f,onChange:y=>m(y.target.value),placeholder:"Nhp tn danh mc mi",className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm text-slate-900 dark:text-slate-100"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium",children:"Lu"}),u.jsx("button",{type:"button",onClick:()=>{d(!1),m("")},className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:"Hy"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi bn l"}),u.jsx("input",{type:"number",value:n.retailPrice,onChange:y=>i({...n,retailPrice:Number(y.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi bn s"}),u.jsx("input",{type:"number",value:n.wholesalePrice,onChange:y=>i({...n,wholesalePrice:Number(y.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]})]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[u.jsx("div",{className:"font-medium mb-1",children:"Lu :"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsxs("li",{children:["Tn kho hin ti:"," ",u.jsx("strong",{children:e.stock[a]||0})]}),u.jsx("li",{children:' thay i tn kho, vui lng s dng chc nng "To phiu nhp" hoc "Chuyn kho"'})]})]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Lu thay i"})]})]})]})})};function fSe(){const{parts:e,customers:t,employees:r,upsertCustomer:a,setCashTransactions:n,setPaymentSources:i,paymentSources:s,currentBranchId:o,workOrders:c,setWorkOrders:d}=_i(),[f,m]=j.useState(!1),[x,p]=j.useState(!1),[y,v]=j.useState(void 0),[b,k]=j.useState(""),[N,_]=j.useState("all"),[T,L]=j.useState("all"),D=[{id:"oil-change",name:"Thay du ng c",description:"Thay du v lc du ng c",duration:30,laborCost:3e5,parts:[{name:"Du ng c 10W40",quantity:1,price:12e4,unit:"chai"},{name:"Lc du",quantity:1,price:3e4,unit:"ci"}]},{id:"brake-service",name:"Sa phanh",description:"Thay m phanh v bo dng h thng phanh",duration:45,laborCost:505e3,parts:[{name:"M phanh trc",quantity:2,price:16e4,unit:"ci"},{name:"M phanh sau",quantity:2,price:12e4,unit:"ci"},{name:"Du phanh",quantity:1,price:25e3,unit:"chai"}]},{id:"cleaning",name:"V sinh kim phun",description:"V sinh v hiu chnh kim phun xng",duration:60,laborCost:15e4,parts:[{name:"Dung dch v sinh kim phun",quantity:1,price:5e4,unit:"chai"}]},{id:"oil-box",name:"Thay nht hp s",description:"Thay du hp s v kim tra",duration:25,laborCost:14e4,parts:[{name:"Du hp s",quantity:1,price:6e4,unit:"chai"}]},{id:"bug-check",name:"Thay bugi",description:"Thay bugi v kim tra h thng nh la",duration:20,laborCost:85e3,parts:[{name:"Bugi",quantity:1,price:35e3,unit:"ci"}]},{id:"full-maintenance",name:"Bo dng tng qut",description:"Bo dng nh k y ",duration:90,laborCost:57e4,parts:[{name:"Du ng c 10W40",quantity:1,price:12e4,unit:"chai"},{name:"Lc du",quantity:1,price:3e4,unit:"ci"},{name:"Lc khng kh",quantity:1,price:25e3,unit:"ci"},{name:"Bugi",quantity:1,price:35e3,unit:"ci"},{name:"Du hp s",quantity:1,price:6e4,unit:"chai"}]}],R=j.useMemo(()=>{let O=c;return T==="pending"?O=O.filter(M=>M.status==="Tip nhn"):T==="inProgress"?O=O.filter(M=>M.status==="ang sa"):T==="done"?O=O.filter(M=>M.status===" sa xong"):T==="delivered"&&(O=O.filter(M=>M.status==="Tr my")),b&&(O=O.filter(M=>{var H,Y;return M.customerName.toLowerCase().includes(b.toLowerCase())||((H=M.vehicleModel)==null?void 0:H.toLowerCase().includes(b.toLowerCase()))||((Y=M.licensePlate)==null?void 0:Y.toLowerCase().includes(b.toLowerCase()))})),O.sort((M,H)=>new Date(H.creationDate).getTime()-new Date(M.creationDate).getTime())},[c,T,b]),U=j.useMemo(()=>{const O=c.filter(re=>re.status==="Tip nhn").length,M=c.filter(re=>re.status==="ang sa").length,H=c.filter(re=>re.status===" sa xong").length,Y=c.filter(re=>re.status==="Tr my").length,ne=c.filter(re=>re.paymentStatus==="paid"&&new Date(re.creationDate).toDateString()===new Date().toDateString()).reduce((re,fe)=>re+fe.total,0),X=c.filter(re=>re.paymentStatus==="paid"&&new Date(re.creationDate).toDateString()===new Date().toDateString()).reduce((re,fe)=>{var ce;return re+(fe.total-(((ce=fe.partsUsed)==null?void 0:ce.reduce((ke,Z)=>ke+Z.price*Z.quantity,0))||0))},0);return{pending:O,inProgress:M,done:H,delivered:Y,todayRevenue:ne,todayProfit:X}},[c]),F=O=>{v(O||{id:"",customerName:"",customerPhone:"",vehicleModel:"",licensePlate:"",issueDescription:"",technicianName:"",status:"Tip nhn",laborCost:0,discount:0,partsUsed:[],total:0,branchId:o,paymentStatus:"unpaid",creationDate:new Date().toISOString()}),m(!0)},W=O=>{const M={id:"",customerName:"",customerPhone:"",vehicleModel:"",licensePlate:"",issueDescription:O.description,laborCost:O.laborCost,partsUsed:O.parts.map((H,Y)=>({partId:`TEMPLATE-${Y}`,partName:H.name,sku:"",quantity:H.quantity,price:H.price})),status:"Tip nhn",paymentStatus:"unpaid",discount:0,total:0,creationDate:new Date().toISOString(),branchId:o,technicianName:""};v(M),p(!1),m(!0)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-6",children:[u.jsx(kp,{label:"Tip nhn",value:U.pending,icon:u.jsx(MN,{className:"w-5 h-5"}),color:"blue"}),u.jsx(kp,{label:"ang sa",value:U.inProgress,icon:u.jsx(UN,{className:"w-5 h-5"}),color:"orange"}),u.jsx(kp,{label:" sa xong",value:U.done,icon:u.jsx(KR,{className:"w-5 h-5"}),color:"green"}),u.jsx(kp,{label:"Tr my",value:U.delivered,icon:u.jsx(zJ,{className:"w-5 h-5"}),color:"purple"}),u.jsx(kp,{label:"Doanh thu hm nay",value:`${qe(U.todayRevenue).replace("","")}`,icon:u.jsx(RN,{className:"w-5 h-5"}),color:"green"}),u.jsx(kp,{label:"Li nhun hm nay",value:`${qe(U.todayProfit).replace("","")}`,icon:u.jsx(Ub,{className:"w-5 h-5"}),color:"blue"})]}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("div",{className:"flex-1 min-w-[200px]",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Tm theo m, tn, ST, xe, bin s...",value:b,onChange:O=>k(O.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100 placeholder-slate-400"}),u.jsx(XR,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400","aria-hidden":"true"})]})}),u.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("option",{children:"Tt c ngy"}),u.jsx("option",{children:"Hm nay"}),u.jsx("option",{children:"7 ngy qua"}),u.jsx("option",{children:"30 ngy qua"})]}),u.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("option",{children:"Tt c KTV"}),u.jsx("option",{children:"KTV 1"}),u.jsx("option",{children:"KTV 2"})]}),u.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("option",{children:"Tt c thanh ton"}),u.jsx("option",{children:" thanh ton"}),u.jsx("option",{children:"Cha thanh ton"})]}),u.jsxs("button",{className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"Xem bo co",children:[u.jsx(Ub,{className:"w-4 h-4"})," Bo co"]}),u.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"M danh sch mu sa cha",children:[u.jsx(ev,{className:"w-4 h-4"})," Mu SC"]}),u.jsxs("button",{onClick:()=>F(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"To phiu sa cha mi",children:[u.jsx(bb,{className:"w-4 h-4"})," Thm Phiu"]}),u.jsxs("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"Gi SMS nhc khch hng",children:[u.jsx(HJ,{className:"w-4 h-4"})," SMS QH"]})]})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center border-b border-slate-200 dark:border-slate-700",children:[u.jsx(Mx,{label:"Tt c",active:T==="all",onClick:()=>L("all")}),u.jsx(Mx,{label:"Tip nhn",active:T==="pending",onClick:()=>L("pending")}),u.jsx(Mx,{label:"ang sa",active:T==="inProgress",onClick:()=>L("inProgress")}),u.jsx(Mx,{label:" sa xong",active:T==="done",onClick:()=>L("done")}),u.jsx(Mx,{label:"Tr my",active:T==="delivered",onClick:()=>L("delivered")}),u.jsx("div",{className:"ml-auto px-4 py-3",children:u.jsx(X1,{to:"/service-history",className:"px-3 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded text-sm flex items-center gap-1 transition-colors",children:" Lch s SC"})})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"M Phiu"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Khch hng"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Xe"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Ngy to"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Trng thi"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"Tng chi ph"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"Hnh ng"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:R.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400",children:"Khng c phiu sa cha no."})}):R.map(O=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[u.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:["#",O.id.slice(-6)]}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:O.customerName}),u.jsx("div",{className:"text-xs text-slate-500",children:O.customerPhone})]}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:O.vehicleModel||"N/A"}),u.jsx("div",{className:"text-xs text-slate-500",children:O.licensePlate||""})]}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:Qa(O.creationDate,!0)}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(mSe,{status:O.status})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-slate-900 dark:text-slate-100",children:qe(O.total)}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("button",{onClick:()=>F(O),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs",children:"Xem"})})]},O.id))})]})})]}),x&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Mu sa cha thng dng"}),u.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-slate-600","aria-label":"ng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Chn mu sa cha  t ng in thng tin vo phiu sa cha"}),u.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:D.map(O=>u.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:shadow-md transition",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:O.name}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:O.description}),u.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[O.duration," pht"]})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:qe(O.laborCost+O.parts.reduce((M,H)=>M+H.price*H.quantity,0))})})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Ph tng cn thit:"}),O.parts.map((M,H)=>u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[u.jsxs("span",{children:[M.name," x",M.quantity," ",M.unit]}),u.jsx("span",{children:qe(M.price*M.quantity)})]},H)),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{onClick:()=>W(O),className:"flex-1 px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm",children:"p dng mu"}),u.jsx("button",{className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded text-sm",children:"To mi"}),u.jsx("button",{className:"px-3 py-1.5 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded text-sm",children:"Sa mu"})]})]})]},O.id))})]})]})}),f&&y&&u.jsx(hSe,{order:y,onClose:()=>{m(!1),v(void 0)},onSave:O=>{if(O.id&&(y!=null&&y.id))d(M=>M.map(H=>H.id===O.id?O:H));else{const M={...O,id:Date.now().toString()};d(H=>[...H,M])}m(!1),v(void 0)},parts:e,customers:t,employees:r,upsertCustomer:a,setCashTransactions:n,setPaymentSources:i,paymentSources:s,currentBranchId:o})]})}const hSe=({order:e,onClose:t,onSave:r,parts:a,customers:n,employees:i,upsertCustomer:s,setCashTransactions:o,setPaymentSources:c,paymentSources:d,currentBranchId:f})=>{const[m,x]=j.useState(()=>e!=null&&e.id?e:{id:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.customerName)||"",customerPhone:(e==null?void 0:e.customerPhone)||"",vehicleModel:(e==null?void 0:e.vehicleModel)||"",licensePlate:(e==null?void 0:e.licensePlate)||"",issueDescription:(e==null?void 0:e.issueDescription)||"",technicianName:(e==null?void 0:e.technicianName)||"",status:(e==null?void 0:e.status)||"Tip nhn",laborCost:(e==null?void 0:e.laborCost)||0,discount:(e==null?void 0:e.discount)||0,partsUsed:(e==null?void 0:e.partsUsed)||[],total:(e==null?void 0:e.total)||0,branchId:(e==null?void 0:e.branchId)||f,paymentStatus:(e==null?void 0:e.paymentStatus)||"unpaid",creationDate:(e==null?void 0:e.creationDate)||new Date().toISOString()}),[p,y]=j.useState(""),[v,b]=j.useState([]),[k,N]=j.useState(!1),[_,T]=j.useState(0),[L,D]=j.useState(!1),[R,U]=j.useState(0),[F,W]=j.useState(!1),[O,M]=j.useState(!1),[H,Y]=j.useState({name:"",phone:"",vehicleModel:"",licensePlate:""}),[ne,X]=j.useState(""),[re,fe]=j.useState(!1),[ce,ke]=j.useState([]),[Z,P]=j.useState({description:"",quantity:1,price:0});j.useEffect(()=>{e!=null&&e.partsUsed?b(e.partsUsed):b([]),e!=null&&e.customerName?X(e.customerName):X(""),e!=null&&e.additionalServices?ke(e.additionalServices):ke([]),e!=null&&e.depositAmount?(U(e.depositAmount),W(!0)):(U(0),W(!1)),e!=null&&e.additionalPayment?(T(e.additionalPayment),D(!0)):(T(0),D(!1))},[e]);const q=n.filter(ve=>{var Ge;return ve.name.toLowerCase().includes(ne.toLowerCase())||((Ge=ve.phone)==null?void 0:Ge.toLowerCase().includes(ne.toLowerCase()))});j.useEffect(()=>{const ve=Ge=>{Ge.target.closest(".customer-search-container")||fe(!1)};return document.addEventListener("mousedown",ve),()=>document.removeEventListener("mousedown",ve)},[]);const V=v.reduce((ve,Ge)=>ve+(Ge.price||0)*(Ge.quantity||0),0),z=ce.reduce((ve,Ge)=>ve+(Ge.price||0)*(Ge.quantity||0),0),Q=(m.laborCost||0)+V+z,de=m.discount||0,Ee=Math.max(0,Q-de);console.log("Tinh toan:",{laborCost:m.laborCost,partsTotal:V,servicesTotal:z,subtotal:Q,discount:de,total:Ee});const ie=R||0,je=L?_:0,Me=ie+je,J=Math.max(0,Ee-Me),ge=()=>{m.customerName&&m.customerPhone&&(n.find(ft=>ft.phone===m.customerPhone)||s({id:`CUST-${Date.now()}`,name:m.customerName,phone:m.customerPhone,vehicleModel:m.vehicleModel,licensePlate:m.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}));let ve="unpaid";Me>=Ee?ve="paid":Me>0&&(ve="partial");const Ge={id:m.id||`WO-${Date.now()}`,customerName:m.customerName||"",customerPhone:m.customerPhone||"",vehicleModel:m.vehicleModel||"",licensePlate:m.licensePlate||"",issueDescription:m.issueDescription||"",technicianName:m.technicianName||"",status:m.status||"Tip nhn",laborCost:m.laborCost||0,discount:de,partsUsed:v,additionalServices:ce.length>0?ce:void 0,total:Ee,branchId:f,depositAmount:R>0?R:void 0,depositDate:R>0&&!(e!=null&&e.depositDate)?new Date().toISOString():e==null?void 0:e.depositDate,paymentStatus:ve,paymentMethod:m.paymentMethod,additionalPayment:je>0?je:void 0,totalPaid:Me>0?Me:void 0,remainingAmount:J,creationDate:m.creationDate||new Date().toISOString()};if(R>0&&!(e!=null&&e.depositAmount)&&m.paymentMethod){const $e=`DEP-${Date.now()}`;o(ft=>[...ft,{id:$e,type:"deposit",category:"service_deposit",amount:R,date:new Date().toISOString(),description:`t cc sa cha #${Ge.id.slice(-6)} - ${m.customerName}`,branchId:f,paymentSource:m.paymentMethod,reference:Ge.id}]),c(ft=>ft.map(Je=>Je.id===m.paymentMethod?{...Je,balance:{...Je.balance,[f]:(Je.balance[f]||0)+R}}:Je)),Ge.depositTransactionId=$e}if(je>0&&m.paymentMethod){const $e=`PAY-${Date.now()}`;o(ft=>[...ft,{id:$e,type:"income",category:"service_income",amount:je,date:new Date().toISOString(),description:`Thu tin sa cha #${Ge.id.slice(-6)} - ${m.customerName}`,branchId:f,paymentSource:m.paymentMethod,reference:Ge.id}]),c(ft=>ft.map(Je=>Je.id===m.paymentMethod?{...Je,balance:{...Je.balance,[f]:(Je.balance[f]||0)+je}}:Je)),Ge.cashTransactionId=$e,Ge.paymentDate=new Date().toISOString()}r(Ge)},be=ve=>{const Ge=v.find($e=>$e.partId===ve.id);b(Ge?v.map($e=>$e.partId===ve.id?{...$e,quantity:$e.quantity+1}:$e):[...v,{partId:ve.id,partName:ve.name,sku:ve.sku||"",quantity:1,price:ve.retailPrice[f]||0}]),N(!1),y("")},oe=j.useMemo(()=>a.filter(ve=>{var $e;return((($e=ve.stock)==null?void 0:$e[f])||0)>0}),[a,f]),Ue=j.useMemo(()=>p.trim()?oe.filter(ve=>{var Ge;return ve.name.toLowerCase().includes(p.toLowerCase())||((Ge=ve.sku)==null?void 0:Ge.toLowerCase().includes(p.toLowerCase()))}):[],[oe,p]);return u.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl flex-shrink-0",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:m.id?"Chi tit phiu sa cha":"To phiu sa cha mi"}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Thng tin Khch hng & S c"}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Khch hng ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative customer-search-container",children:[u.jsx("input",{type:"text",placeholder:"Tm khch hng...",value:ne,onChange:ve=>{X(ve.target.value),fe(!0),x({...m,customerName:ve.target.value})},onFocus:()=>fe(!0),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),re&&ne&&q.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:q.map(ve=>u.jsxs("button",{type:"button",onClick:()=>{x({...m,customerName:ve.name,customerPhone:ve.phone}),X(ve.name),fe(!1)},className:"w-full text-left px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-600 text-sm border-b border-slate-200 dark:border-slate-600 last:border-0",children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:ve.name}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:ve.phone})]},ve.id))})]}),u.jsx("button",{type:"button",onClick:()=>M(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium text-xl",title:"Thm khch hng mi",children:"+"})]}),m.customerName&&m.customerPhone&&u.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.customerName}),u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),m.customerPhone]})}),(m.vehicleModel||m.licensePlate)&&u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[u.jsx("circle",{cx:"6",cy:"17",r:"2"}),u.jsx("circle",{cx:"18",cy:"17",r:"2"}),u.jsx("path",{d:"M4 17h2l4-6h2l2 3h4"})]}),m.vehicleModel," ",m.licensePlate&&`- ${m.licensePlate}`]})})]}),u.jsx("button",{type:"button",onClick:()=>{X(""),x({...m,customerName:"",customerPhone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-red-500 text-sm flex items-center",title:"Xa khch hng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4","aria-hidden":"true",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S KM hin ti"}),u.jsx("input",{type:"number",placeholder:"15000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M t s c"}),u.jsx("textarea",{rows:4,placeholder:"Bo dng nh k, thay nht...",value:m.issueDescription||"",onChange:ve=>x({...m,issueDescription:ve.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Chi tit Dch v"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trng thi"}),u.jsxs("select",{value:m.status||"Tip nhn",onChange:ve=>x({...m,status:ve.target.value}),className:`w-full px-3 py-2 border rounded-lg font-medium ${m.status==="Tip nhn"?"bg-blue-100 dark:bg-blue-900/30 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":m.status==="ang sa"?"bg-orange-100 dark:bg-orange-900/30 border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300":m.status===" sa xong"?"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300":"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700 text-green-700 dark:text-green-300"}`,children:[u.jsx("option",{value:"Tip nhn",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"Tip nhn"}),u.jsx("option",{value:"ang sa",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"ang sa"}),u.jsx("option",{value:" sa xong",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:" sa xong"}),u.jsx("option",{value:"Tr my",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"Tr my"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"K thut vin"}),u.jsxs("select",{value:m.technicianName||"",onChange:ve=>x({...m,technicianName:ve.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"",children:"-- Chn k thut vin --"}),i.filter(ve=>ve.branchId===f&&ve.status==="active"&&ve.department==="K thut").map(ve=>u.jsx("option",{value:ve.name,children:ve.name},ve.id))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ph dch v (Cng th)"}),u.jsx("input",{type:"number",placeholder:"100.000",value:m.laborCost||"",onChange:ve=>x({...m,laborCost:Number(ve.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ghi ch ni b"}),u.jsx("textarea",{rows:4,placeholder:"VD: Khch yu cu kim tra thm h thng in",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none"})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Ph tng s dng"}),u.jsx("button",{onClick:()=>N(!k),className:"px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm flex items-center gap-1",children:" Thm ph tng"})]}),k&&u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Tm kim ph tng theo tn hoc SKU...",value:p,onChange:ve=>y(ve.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",autoFocus:!0}),p&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10",children:Ue.length===0?u.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Khng tm thy ph tng"}):Ue.slice(0,10).map(ve=>u.jsxs("button",{onClick:()=>be(ve),className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-600 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:ve.name}),u.jsx("div",{className:"text-xs text-slate-500",children:ve.sku})]}),u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:qe(ve.retailPrice[f]||0)})]},ve.id))})]}),u.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Tn"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"SL"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:".Gi"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"T.Tin"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-600",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-slate-400",children:"Cha c ph tng no"})}):v.map((ve,Ge)=>u.jsxs("tr",{className:"bg-white dark:bg-slate-800",children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-slate-100",children:ve.partName}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("input",{type:"number",min:"1",value:ve.quantity,onChange:$e=>{const ft=Number($e.target.value);b(v.map((Je,kt)=>kt===Ge?{...Je,quantity:ft}:Je))},className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-900 dark:text-slate-100",children:qe(ve.price)}),u.jsx("td",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:qe(ve.price*ve.quantity)}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("button",{onClick:()=>b(v.filter(($e,ft)=>ft!==Ge)),className:"text-red-500 hover:text-red-700","aria-label":"Xa ph tng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M9 6V4h6v2m-7 4v8m4-8v8m4-8v8"})})})})]},Ge))})]})})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Bo gi (Gia cng, t hng)"}),u.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"M t"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"SL"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"n gi"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"Thnh tin"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:u.jsx("button",{onClick:()=>{Z.description&&Z.price>0&&(ke([...ce,{...Z,id:`SRV-${Date.now()}`}]),P({description:"",quantity:1,price:0}))},className:"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs",children:"Thm"})})]})}),u.jsxs("tbody",{children:[ce.map(ve=>u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-slate-100",children:ve.description}),u.jsx("td",{className:"px-4 py-2 text-center text-sm text-slate-900 dark:text-slate-100",children:ve.quantity}),u.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-900 dark:text-slate-100",children:qe(ve.price)}),u.jsx("td",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:qe(ve.price*ve.quantity)}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("button",{onClick:()=>ke(ce.filter(Ge=>Ge.id!==ve.id)),className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Xa dch v",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M9 6V4h6v2m-7 4v8m4-8v8m4-8v8"})})})})]},ve.id)),u.jsxs("tr",{className:"bg-white dark:bg-slate-800",children:[u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"text",placeholder:"M t...",value:Z.description,onChange:ve=>P({...Z,description:ve.target.value}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"number",value:Z.quantity,onChange:ve=>P({...Z,quantity:Number(ve.target.value)}),className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"number",placeholder:"n gi",value:Z.price||"",onChange:ve=>P({...Z,price:Number(ve.target.value)}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-400",children:Z.price>0?qe(Z.price*Z.quantity):"Thnh tin"}),u.jsx("td",{className:"px-4 py-2 text-center"})]})]})]})})]}),u.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"space-y-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Thanh ton"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:F,onChange:ve=>{W(ve.target.checked),ve.target.checked||U(0)},disabled:!!(e!=null&&e.depositAmount),className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["t cc"," ",e!=null&&e.depositAmount?`( cc: ${qe(e.depositAmount)})`:""]})]}),F&&!(e!=null&&e.depositAmount)&&u.jsx("div",{className:"pl-6",children:u.jsx("input",{type:"number",placeholder:"S tin t cc",value:R||"",onChange:ve=>U(Number(ve.target.value)),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:"Phng thc thanh ton:"}),u.jsxs("div",{className:"flex items-center gap-4 pl-2",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:m.paymentMethod==="cash",onChange:ve=>x({...m,paymentMethod:"cash"}),className:"w-4 h-4"}),u.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-slate-700 dark:text-slate-300",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Tin mt"]})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:m.paymentMethod==="bank",onChange:ve=>x({...m,paymentMethod:"bank"}),className:"w-4 h-4"}),u.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-slate-700 dark:text-slate-300",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21h18M3 10h18M7 6h10l2 4H5l2-4Zm2 4v11m6-11v11"})}),"Chuyn khon"]})]})]})]}),u.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3"}),m.status==="Tr my"&&u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:L,onChange:ve=>{D(ve.target.checked),ve.target.checked||T(0)},className:"w-4 h-4"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Thanh ton khi tr xe"})]}),L&&u.jsxs("div",{className:"pl-6 space-y-2",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400",children:"S tin thanh ton thm:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",placeholder:"0",value:_||"",onChange:ve=>T(Number(ve.target.value)),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u.jsx("button",{onClick:()=>T(0),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"0%"}),u.jsx("button",{onClick:()=>T(Math.round(J*.5)),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"50%"}),u.jsx("button",{onClick:()=>T(J),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"100%"})]})]})]})]}),m.status!=="Tr my"&&u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:'* Thanh ton khi tr xe ch kh dng khi trng thi l "Tr my"'})]}),u.jsxs("div",{className:"space-y-3 bg-slate-50 dark:bg-slate-700/30 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Tng kt"}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ph dch v:"}),u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:qe(m.laborCost||0)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tin ph tng:"}),u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:qe(V)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gia cng/t hng:"}),u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:qe(z)})]}),u.jsx("div",{className:"pt-2 border-t border-slate-300 dark:border-slate-600",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-red-600 font-medium",children:"Gim gi:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",placeholder:"0",value:m.discount||"",onChange:ve=>x({...m,discount:Number(ve.target.value)}),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"}),u.jsxs("select",{className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{children:""}),u.jsx("option",{children:"%"})]})]})]})}),u.jsxs("div",{className:"pt-2 border-t-2 border-slate-400 dark:border-slate-500",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:"Tng cng:"}),u.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:qe(Ee)})]}),(ie>0||je>0)&&u.jsxs("div",{className:"space-y-1 pt-2 border-t border-slate-300 dark:border-slate-600",children:[ie>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:" t cc:"}),u.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",qe(ie)]})]}),je>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Thanh ton thm:"}),u.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",qe(je)]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-300 dark:border-slate-600",children:[u.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:J>0?"Cn phi thu:":" thanh ton "}),u.jsx("span",{className:`text-lg font-bold ${J>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:qe(J)})]})]})]})]})]})})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-end gap-3 bg-slate-50 dark:bg-slate-800/50 rounded-b-xl flex-shrink-0",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg",children:"Hy"}),u.jsx("button",{onClick:ge,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",children:"Lu Phiu"})]})]}),O&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-md p-6 m-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:"Thm khch hng"}),u.jsx("button",{onClick:()=>{M(!1),Y({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tn khch"}),u.jsx("input",{type:"text",placeholder:"Nhp tn khch",value:H.name,onChange:ve=>Y({...H,name:ve.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),u.jsx("input",{type:"tel",placeholder:"VD: 09xxxx",value:H.phone,onChange:ve=>Y({...H,phone:ve.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Xe"}),u.jsx("input",{type:"text",placeholder:"Dng xe",value:H.vehicleModel,onChange:ve=>Y({...H,vehicleModel:ve.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bin s"}),u.jsx("input",{type:"text",placeholder:"VD: 59A1-123.45",value:H.licensePlate,onChange:ve=>Y({...H,licensePlate:ve.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6",children:[u.jsx("button",{onClick:()=>{M(!1),Y({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Hy"}),u.jsx("button",{onClick:()=>{if(H.name&&H.phone){const ve=`CUST-${Date.now()}`;s({id:ve,name:H.name,phone:H.phone,vehicleModel:H.vehicleModel,licensePlate:H.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}),x({...m,customerName:H.name,customerPhone:H.phone,vehicleModel:H.vehicleModel,licensePlate:H.licensePlate}),X(H.name),M(!1),Y({name:"",phone:"",vehicleModel:"",licensePlate:""})}},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",disabled:!H.name||!H.phone,children:"Lu"})]})]})})]})},kp=({label:e,value:t,icon:r,color:a})=>{const n={blue:"bg-blue-500/20 text-blue-600 dark:text-blue-400",orange:"bg-orange-500/20 text-orange-600 dark:text-orange-400",green:"bg-green-500/20 text-green-600 dark:text-green-400",purple:"bg-purple-500/20 text-purple-600 dark:text-purple-400"};return u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-lg ${n[a]} flex items-center justify-center`,children:r}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e}),u.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:t})]})]})})},Mx=({label:e,active:t,onClick:r})=>u.jsx("button",{onClick:r,className:`px-6 py-3 text-sm font-medium border-b-2 transition ${t?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:e}),mSe=({status:e})=>{const t={"Tip nhn":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400","ang sa":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"," sa xong":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400","Tr my":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"};return u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${t[e]}`,children:e})},pSe=({currentBranchId:e})=>{const{workOrders:t}=_i(),[r,a]=j.useState(""),[n,i]=j.useState("all"),[s,o]=j.useState(""),[c,d]=j.useState(""),[f,m]=j.useState(1),x=20,p=j.useMemo(()=>t.filter(N=>{var _,T,L,D,R,U;if(N.branchId!==e)return!1;if(r){const F=r.toLowerCase();if(![(_=N.id)==null?void 0:_.toLowerCase(),(T=N.customerName)==null?void 0:T.toLowerCase(),(L=N.customerPhone)==null?void 0:L.toLowerCase(),(D=N.vehicleModel)==null?void 0:D.toLowerCase(),(R=N.licensePlate)==null?void 0:R.toLowerCase(),(U=N.issueDescription)==null?void 0:U.toLowerCase()].some(O=>O==null?void 0:O.includes(F)))return!1}return!(n!=="all"&&N.status!==n||s&&N.creationDate<s||c&&N.creationDate>c)}).sort((N,_)=>new Date(_.creationDate||0).getTime()-new Date(N.creationDate||0).getTime()),[t,r,n,s,c,e]),y=Math.ceil(p.length/x),v=p.slice((f-1)*x,f*x),b=()=>{const _=[["M Phiu","Ngy to","Khch hng","Xe","Bin s","Trng thi","Tng chi ph"].join(","),...p.map(D=>{var R,U;return[`#${((R=D.id)==null?void 0:R.slice(-6))||""}`,Qa(D.creationDate,!0),D.customerName||"",D.vehicleModel||"",D.licensePlate||"",D.status||"",((U=D.total)==null?void 0:U.toString())||"0"].join(",")})].join(`
`),T=new Blob([_],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a");if(L.download!==void 0){const D=URL.createObjectURL(T);L.setAttribute("href",D),L.setAttribute("download",`lich-su-sua-chua-${new Date().toISOString().split("T")[0]}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)}},k=({status:N})=>{const _={"Tip nhn":{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-700 dark:text-blue-300"},"ang sa":{bg:"bg-orange-100 dark:bg-orange-900/20",text:"text-orange-700 dark:text-orange-300"}," sa xong":{bg:"bg-purple-100 dark:bg-purple-900/20",text:"text-purple-700 dark:text-purple-300"},"Tr my":{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-700 dark:text-green-300"}},T=_[N]||_["Tip nhn"];return u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.bg} ${T.text}`,children:N})};return u.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 min-h-screen",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4 sm:mb-0",children:"Lch s sa cha"}),u.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium flex items-center gap-2",children:" Xut CSV"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Tm theo m, tn, ST, xe, bin s...",value:r,onChange:N=>a(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("div",{children:u.jsxs("select",{value:n,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{value:"all",children:"Tt c trng thi"}),u.jsx("option",{value:"Tip nhn",children:"Tip nhn"}),u.jsx("option",{value:"ang sa",children:"ang sa"}),u.jsx("option",{value:" sa xong",children:" sa xong"}),u.jsx("option",{value:"Tr my",children:"Tr my"})]})}),u.jsx("div",{children:u.jsx("input",{type:"date",value:s,onChange:N=>o(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("div",{children:u.jsx("input",{type:"date",value:c,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})})]}),u.jsxs("div",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:["Hin th ",v.length," / ",p.length," phiu sa cha"]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"M Phiu"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Ngy to"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Khch hng"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Xe"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Bin s"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Trng thi"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Tng chi ph"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400",children:"Khng c phiu sa cha no."})}):v.map((N,_)=>{var T;return u.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${_%2===0?"bg-white dark:bg-slate-800":"bg-slate-50/50 dark:bg-slate-700/20"}`,children:[u.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:["#",((T=N.id)==null?void 0:T.slice(-6))||""]}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:Qa(N.creationDate,!0)}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100 font-medium",children:N.customerName||"N/A"}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:N.customerPhone||""})]}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:N.vehicleModel||"N/A"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:N.licensePlate||"N/A"}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(k,{status:N.status||"Tip nhn"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-slate-900 dark:text-slate-100",children:qe(N.total||0)})]},N.id)})})]})}),y>1&&u.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 border-t border-slate-200 dark:border-slate-700 sm:px-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Trang ",f," / ",y]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>m(Math.max(1,f-1)),disabled:f===1,className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),Array.from({length:Math.min(5,y)},(N,_)=>{const T=Math.max(1,Math.min(f-2+_,y-4+_));return u.jsx("button",{onClick:()=>m(T),className:`px-3 py-1 text-sm rounded ${f===T?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300"}`,children:T},T)}),u.jsx("button",{onClick:()=>m(Math.min(y,f+1)),disabled:f===y,className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})})]})]})},gSe=e=>{const t=e.loyaltyPoints||0,r=e.totalSpent||0,a=e.visitCount||0,n=e.lastVisit?new Date(e.lastVisit):new Date,i=Math.floor((Date.now()-n.getTime())/(1e3*60*60*24));return t>=5e3||r>=2e7||a>=20?"VIP":t>=2e3||r>=1e7||a>=10?"Loyal":i>180&&a>0?"Lost":i>90&&a>0?"At Risk":a>=2&&a<10?"Potential":"New"},xSe=()=>{const{customers:e,upsertCustomer:t,setCustomers:r}=_i(),[a,n]=j.useState(""),[i,s]=j.useState(null),[o,c]=j.useState(!1),[d,f]=j.useState("customers"),[m,x]=j.useState("all");j.useEffect(()=>{let b=!1;const k=e.map(N=>{if(!N.segment){const _=gSe(N);return b=!0,{...N,segment:_}}return N});b&&r(k)},[e.length]);const p=j.useMemo(()=>{const b=a.toLowerCase();let k=e.filter(N=>N.name.toLowerCase().includes(b)||N.phone&&N.phone.includes(b));if(m!=="all"){const _={vip:"VIP",loyal:"Loyal",potential:"Potential","at-risk":"At Risk",lost:"Lost",new:"New"}[m];k=k.filter(T=>T.segment===_)}return k},[e,a,m]),y=b=>{confirm("Xc nhn xo khch hng ny?")&&r(k=>k.filter(N=>N.id!==b))},v=j.useMemo(()=>{const b=e.length,k=e.filter(N=>N.status==="active").length;return{total:b,active:k,newThisMonth:e.filter(N=>{if(!N.created_at)return!1;const _=new Date(N.created_at),T=new Date;return _.getMonth()===T.getMonth()&&_.getFullYear()===T.getFullYear()}).length,revenue:0,vip:e.filter(N=>N.segment==="VIP").length,loyal:e.filter(N=>N.segment==="Loyal").length,potential:e.filter(N=>N.segment==="Potential").length,atRisk:e.filter(N=>N.segment==="At Risk").length,lost:e.filter(N=>N.segment==="Lost").length,new:e.filter(N=>N.segment==="New").length}},[e]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center px-6",children:[u.jsxs("button",{onClick:()=>f("customers"),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors ${d==="customers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[u.jsx(Uge,{className:"w-5 h-5"}),u.jsxs("span",{children:["Khch hng (",v.total,")"]})]}),u.jsxs("button",{onClick:()=>f("suppliers"),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors ${d==="suppliers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),u.jsx("span",{children:"Nh cung cp (0)"})]})]})}),d==="customers"?u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Tm theo tn, ST, bin s xe...",value:a,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("span",{children:"Upload DS"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),u.jsx("span",{children:"Nhc BD"})]}),u.jsxs("button",{onClick:()=>s({}),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(em,{className:"w-5 h-5"}),u.jsx("span",{children:"Thm KH"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thng k khch hng"})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Tng khch hng"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-3xl font-bold",children:v.total}),u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1",children:"0 hot ng"})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-1",children:"Khch mi thng ny"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-3xl font-bold",children:v.newThisMonth}),u.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs mt-1",children:" 0.0% so vi thng trc"})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium mb-1",children:"Doanh thu trung bnh"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-3xl font-bold",children:"0 "}),u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs mt-1",children:"/ khch hng"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-1",children:"Cn chm sc"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-3xl font-bold",children:v.atRisk}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"0  tim nng"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phn khc khch hng"})]}),u.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border-2 border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs font-medium mb-1",children:"VIP"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:v.vip}),u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs font-medium mb-1",children:"Loyal"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:v.loyal}),u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs font-medium mb-1",children:"Potential"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:v.potential}),u.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-800",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs font-medium mb-1",children:"At Risk"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:v.atRisk}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs font-medium mb-1",children:"Lost"}),u.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:v.lost}),u.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-cyan-50 dark:bg-cyan-900/20 rounded-lg p-4 border-2 border-cyan-200 dark:border-cyan-800",children:[u.jsx("div",{className:"text-cyan-600 dark:text-cyan-400 text-xs font-medium mb-1",children:"New"}),u.jsx("div",{className:"text-cyan-900 dark:text-cyan-100 text-2xl font-bold",children:v.new}),u.jsx("div",{className:"text-cyan-600 dark:text-cyan-400 text-xs mt-1",children:"0.0%"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phn loi khch hng"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="all"?"bg-blue-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:"Tt c khch hng"}),u.jsxs("button",{onClick:()=>x("vip"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="vip"?"bg-purple-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-purple-500 mr-2"}),"VIP - Khch hng qu"]}),u.jsxs("button",{onClick:()=>x("loyal"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="loyal"?"bg-blue-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),"Trung thnh"]}),u.jsxs("button",{onClick:()=>x("potential"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="potential"?"bg-green-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 mr-2"}),"Tim nng"]}),u.jsxs("button",{onClick:()=>x("at-risk"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="at-risk"?"bg-orange-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-orange-500 mr-2"}),"Cn chm sc"]}),u.jsxs("button",{onClick:()=>x("lost"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="lost"?"bg-red-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 mr-2"})," mt"]}),u.jsxs("button",{onClick:()=>x("new"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="new"?"bg-cyan-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-cyan-500 mr-2"}),"Khch mi"]})]})]}),p.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("svg",{className:"w-16 h-16 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Khng c khch hng no."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(b=>{const k={VIP:{bg:"bg-gradient-to-br from-purple-400 to-purple-600 dark:from-purple-500 dark:to-purple-700",text:"VIP",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3 7 5 5-5 5 19-5L3 7Z"})})},Loyal:{bg:"bg-gradient-to-br from-blue-400 to-blue-600 dark:from-blue-500 dark:to-blue-700",text:"Trung thnh",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75 6.825 20.995l.99-5.766L3.63 11.255l5.807-.844L12 5l2.563 5.411 5.807.844-4.186 3.974.99 5.766L12 17.75Z"})})},Potential:{bg:"bg-gradient-to-br from-green-400 to-green-600 dark:from-green-500 dark:to-green-700",text:"Tim nng",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v5m0 0c1.886-1.257 4.63-1.034 6 1-1.886 1.257-1.886 3.743 0 5-1.37 2.034-4.114 2.257-6 1m0-12c-1.886-1.257-4.63-1.034-6 1 1.886 1.257 1.886 3.743 0 5 1.37 2.034 4.114 2.257 6 1m0 0v5"})})},"At Risk":{bg:"bg-gradient-to-br from-orange-400 to-orange-600 dark:from-orange-500 dark:to-orange-700",text:"Cn chm sc",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})})},Lost:{bg:"bg-gradient-to-br from-red-400 to-red-600 dark:from-red-500 dark:to-red-700",text:" mt",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 9-6 6m0-6 6 6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})},New:{bg:"bg-gradient-to-br from-cyan-400 to-cyan-600 dark:from-cyan-500 dark:to-cyan-700",text:"Khch mi",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v2m0 4v2m0 4v2m0 4v2M4.93 4.93l1.414 1.414M7.757 12l-1.414 1.414M4.93 19.07l1.414-1.414M19.07 4.93l-1.414 1.414M16.243 12l1.414 1.414M19.07 19.07l-1.414-1.414M2 12h2m4 0h2m4 0h2m4 0h2"})})}},N=b.segment?k[b.segment]:{bg:"bg-gradient-to-br from-slate-400 to-slate-600 dark:from-slate-500 dark:to-slate-700",text:"Khch hng",icon:u.jsx(BN,{className:"w-6 h-6"})},_=b.loyaltyPoints||0,T=Math.min(_/1e4*100,100);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:`${N.bg} p-4 text-white relative`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl flex items-center justify-center",children:N.icon}),u.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 bg-white/20 rounded-full backdrop-blur",children:N.text})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>s(b),className:"p-1.5 bg-white/20 hover:bg-white/30 rounded-lg transition-colors backdrop-blur",title:"Chnh sa",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>y(b.id),className:"p-1.5 bg-white/20 hover:bg-red-500 rounded-lg transition-colors backdrop-blur",title:"Xa",children:u.jsx(zge,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold mb-1",children:b.name}),u.jsx("div",{className:"flex items-center gap-2 text-sm opacity-90",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),b.phone||""]})})]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[b.vehicleModel&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:u.jsx(VR,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:b.vehicleModel}),b.licensePlate&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Bin s: ",b.licensePlate]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg p-3 border border-amber-200 dark:border-amber-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),u.jsx("span",{className:"text-xs font-semibold text-amber-900 dark:text-amber-200",children:"IM TCH LY"})]}),u.jsx("span",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:_.toLocaleString()})]}),u.jsx("div",{className:"mb-1",children:u.jsx("div",{className:"h-2 bg-amber-200 dark:bg-amber-900/50 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-amber-600 transition-all duration-500",style:{width:`${T}%`}})})}),u.jsx("div",{className:"text-[10px] text-amber-700 dark:text-amber-300 text-right",children:"Mc tiu: 10,000 im"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:b.visitCount||0}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Ln n"})]}),u.jsxs("div",{className:"text-center border-x border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[((b.totalSpent||0)/1e6).toFixed(1),"M"]}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Chi tiu"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] font-semibold text-slate-700 dark:text-slate-300",children:b.lastVisit?`${Math.floor((Date.now()-new Date(b.lastVisit).getTime())/(1e3*60*60*24))} ngy`:""}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gh cui"})]})]})]})]},b.id)})})]}):u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Tm theo tn hoc s in thoi...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:["Tng: ",u.jsx("span",{className:"font-bold",children:"0"})," nh cung cp"]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("span",{children:"Upload CSV"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(em,{className:"w-5 h-5"}),u.jsx("span",{children:"Thm mi"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("svg",{className:"w-16 h-16 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Cha c nh cung cp."})]})]}),i&&u.jsx(vSe,{customer:i,onSave:t,onClose:()=>s(null)}),o&&u.jsx(ySe,{onClose:()=>c(!1)})]})},vSe=({customer:e,onSave:t,onClose:r})=>{const[a,n]=j.useState(e.name||""),[i,s]=j.useState(e.phone||""),[o,c]=j.useState(e.vehicleModel||""),[d,f]=j.useState(e.licensePlate||""),m=x=>{x.preventDefault(),a.trim()&&(t({id:e.id,name:a.trim(),phone:i.trim(),vehicleModel:o.trim(),licensePlate:d.trim()}),r())};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-white",children:e.id?"Sa khch hng":"Thm khch hng"}),u.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tn khch"}),u.jsx("input",{type:"text",placeholder:"Nhp tn khch",required:!0,value:a,onChange:x=>n(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"S in thoi"}),u.jsx("input",{type:"text",placeholder:"VD: 09xxxx",value:i,onChange:x=>s(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Xe"}),u.jsx("input",{type:"text",placeholder:"Dng xe",value:o,onChange:x=>c(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Bin s"}),u.jsx("input",{type:"text",placeholder:"VD: 59A1-123.45",value:d,onChange:x=>f(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),u.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[u.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 bg-primary-bg hover:bg-tertiary-bg text-primary-text border border-primary-border rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Lu"})]})]})]})})},ySe=({onClose:e})=>{const{setCustomers:t}=_i(),r=j.useRef(null),[a,n]=j.useState([]),[i,s]=j.useState(""),o=d=>{var x;const f=(x=d.target.files)==null?void 0:x[0];if(!f)return;s("");const m=new FileReader;m.onload=p=>{var T;const y=(T=p.target)==null?void 0:T.result;if(!y)return;const v=y.split(`
`).map(L=>L.trim()).filter(Boolean);if(v.length===0){s("File CSV trng.");return}const b=v[0].toLowerCase(),N=b.includes("name")||b.includes("phone")||b.includes("tn")||b.includes("st")?v.slice(1):v,_=[];for(const L of N){const D=L.split(",").map(R=>R.trim());D.length===0||!D[0]||_.push({name:D[0],phone:D[1]||void 0})}if(_.length===0){s("Khng tm thy d liu hp l trong CSV.");return}n(_)},m.readAsText(f)},c=()=>{if(a.length===0)return;const d=a.map(f=>({id:`CUS-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:f.name,phone:f.phone,created_at:new Date().toISOString()}));t(f=>[...d,...f]),alert(` import ${d.length} khch hng.`),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import khch hng t CSV"}),u.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700",children:u.jsx(eq,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("p",{className:"text-slate-600",children:["Chn file CSV vi ct u tin l ",u.jsx("strong",{children:"tn khch hng"}),", ct th hai l ",u.jsx("strong",{children:"s in thoi"})," (ty chn)."]}),u.jsx("p",{className:"text-slate-600 text-xs",children:'Dng u tin nu cha "name", "phone", "tn", "st" s t ng b qua (header).'}),u.jsx("input",{ref:r,type:"file",accept:".csv",onChange:o,className:"block w-full text-sm"}),i&&u.jsx("div",{className:"text-red-600 text-xs",children:i}),a.length>0&&u.jsxs("div",{className:"border rounded p-3 bg-slate-50 dark:bg-slate-900 max-h-64 overflow-y-auto",children:[u.jsxs("div",{className:"font-semibold mb-2",children:["Xem trc (",a.length," khch hng):"]}),u.jsxs("table",{className:"w-full text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left border-b",children:[u.jsx("th",{className:"p-1",children:"Tn"}),u.jsx("th",{className:"p-1",children:"ST"})]})}),u.jsxs("tbody",{children:[a.slice(0,20).map((d,f)=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"p-1",children:d.name}),u.jsx("td",{className:"p-1",children:d.phone||"--"})]},f)),a.length>20&&u.jsx("tr",{children:u.jsxs("td",{colSpan:2,className:"p-1 text-slate-500",children:["... v ",a.length-20," khch hng na"]})})]})]})]}),u.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded hover:bg-slate-50",children:"Hu"}),u.jsxs("button",{disabled:a.length===0,onClick:c,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",a.length>0&&`(${a.length})`]})]})]})]})})},bSe=()=>{const{customers:e,suppliers:t,customerDebts:r,supplierDebts:a,currentBranchId:n,setCashTransactions:i,cashTransactions:s,setPaymentSources:o,paymentSources:c,payCustomerDebts:d,paySupplierDebts:f}=_i(),[m,x]=j.useState("customer"),[p,y]=j.useState(""),[v,b]=j.useState(!1),[k,N]=j.useState(!1),[_,T]=j.useState([]),[L,D]=j.useState([]),[R,U]=j.useState(!1),F=j.useMemo(()=>r.filter(ke=>ke.branchId===n),[r,n]),W=j.useMemo(()=>a.filter(ke=>ke.branchId===n),[a,n]),O=j.useMemo(()=>{if(!p)return F;const ke=p.toLowerCase();return F.filter(Z=>{var P,q;return Z.customerName.toLowerCase().includes(ke)||((P=Z.phone)==null?void 0:P.includes(ke))||((q=Z.licensePlate)==null?void 0:q.toLowerCase().includes(ke))})},[F,p]),M=j.useMemo(()=>{if(!p)return W;const ke=p.toLowerCase();return W.filter(Z=>Z.supplierName.toLowerCase().includes(ke))},[W,p]),H=j.useMemo(()=>F.reduce((ke,Z)=>ke+Z.remainingAmount,0),[F]),Y=j.useMemo(()=>W.reduce((ke,Z)=>ke+Z.remainingAmount,0),[W]),ne=j.useMemo(()=>_.reduce((ke,Z)=>{const P=F.find(q=>q.customerId===Z);return ke+((P==null?void 0:P.remainingAmount)||0)},0),[_,F]),X=j.useMemo(()=>L.reduce((ke,Z)=>{const P=W.find(q=>q.supplierId===Z);return ke+((P==null?void 0:P.remainingAmount)||0)},0),[L,W]),re=(ke,Z)=>{T(Z?[..._,ke]:_.filter(P=>P!==ke))},fe=(ke,Z)=>{D(Z?[...L,ke]:L.filter(P=>P!==ke))},ce=()=>{U(!0)};return u.jsxs("div",{className:"h-full flex flex-col bg-secondary-bg",children:[u.jsx("div",{className:"bg-primary-bg border-b border-primary-border",children:u.jsx("div",{className:"flex items-center justify-between px-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>x("customer"),className:`px-6 py-4 font-medium text-sm transition-all ${m==="customer"?"text-cyan-600 dark:text-cyan-400 border-b-2 border-cyan-600 dark:border-cyan-400":"text-secondary-text hover:text-primary-text"}`,children:"Cng n khch hng"}),u.jsx("button",{onClick:()=>x("supplier"),className:`px-6 py-4 font-medium text-sm transition-all ${m==="supplier"?"text-cyan-600 dark:text-cyan-400 border-b-2 border-cyan-600 dark:border-cyan-400":"text-secondary-text hover:text-primary-text"}`,children:"Cng n nh cung cp"})]})})}),u.jsx("div",{className:"bg-primary-bg px-6 py-4 border-b border-primary-border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:m==="customer"?"Tm ST / Tn KH / Tn sn phm / IMEI":"Tm tn / ST nh cung cp",value:p,onChange:ke=>y(ke.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsxs("div",{className:"text-secondary-text text-sm",children:["Tng cng n:"," ",u.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:qe(m==="customer"?H:Y)})]}),u.jsxs("button",{onClick:()=>m==="customer"?b(!0):N(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(em,{className:"w-5 h-5"}),u.jsx("span",{children:m==="customer"?"Th n":"Chi tr n"})]}),u.jsx("button",{className:"p-2.5 text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})}),u.jsx("div",{className:"flex-1 overflow-auto",children:m==="customer"?u.jsx("div",{className:"p-6",children:O.length===0?u.jsx("div",{className:"text-center py-12 text-tertiary-text",children:"Khng c cng n."}):u.jsx("div",{className:"space-y-3",children:O.map(ke=>u.jsx("div",{className:"bg-primary-bg border border-primary-border rounded-lg p-4 hover:border-secondary-border transition-colors shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("input",{type:"checkbox",checked:_.includes(ke.customerId),onChange:Z=>re(ke.customerId,Z.target.checked),className:"mt-1 w-4 h-4 rounded border-secondary-border text-cyan-600 focus:ring-cyan-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("h3",{className:"text-primary-text font-semibold text-lg",children:ke.customerName})}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"text-cyan-600 dark:text-cyan-400",children:["Phone: ",ke.phone||"--"]}),u.jsxs("div",{className:"text-cyan-600 dark:text-cyan-400",children:["n Hng: ",ke.licensePlate||"--"]}),u.jsxs("div",{className:"text-tertiary-text",children:["Ngy to n:"," ",Qa(new Date(ke.createdDate))]})]})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"NI DUNG"}),u.jsx("div",{className:"text-primary-text text-sm",children:ke.description})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"S TIN"}),u.jsx("div",{className:"text-primary-text font-semibold",children:qe(ke.totalAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:" TR"}),u.jsx("div",{className:"text-primary-text font-semibold",children:qe(ke.paidAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"CN N"}),u.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold text-lg",children:qe(ke.remainingAmount)})]})}),u.jsx("button",{className:"ml-4 p-2 text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},ke.customerId))})}):u.jsx("div",{className:"p-6",children:M.length===0?u.jsx("div",{className:"text-center py-12 text-tertiary-text",children:"Khng c cng n."}):u.jsx("div",{className:"space-y-3",children:M.map(ke=>u.jsx("div",{className:"bg-primary-bg border border-primary-border rounded-lg p-4 hover:border-secondary-border transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("input",{type:"checkbox",checked:L.includes(ke.supplierId),onChange:Z=>fe(ke.supplierId,Z.target.checked),className:"mt-1 w-4 h-4 rounded border-secondary-border bg-primary-bg text-cyan-600 focus:ring-cyan-500 focus:ring-offset-0"}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("h3",{className:"text-primary-text font-semibold text-lg",children:ke.supplierName})})})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"NI DUNG"}),u.jsx("div",{className:"text-primary-text text-sm",children:ke.description})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"S TIN"}),u.jsx("div",{className:"text-primary-text font-semibold",children:qe(ke.totalAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:" TR"}),u.jsx("div",{className:"text-primary-text font-semibold",children:qe(ke.paidAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"CN N"}),u.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold text-lg",children:qe(ke.remainingAmount)})]})}),u.jsx("button",{className:"ml-4 p-2 text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},ke.supplierId))})})}),(m==="customer"&&_.length>0||m==="supplier"&&L.length>0)&&u.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("button",{onClick:ce,className:"flex items-center gap-3 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold shadow-2xl transition-all hover:scale-105",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("span",{children:[" chn"," ",m==="customer"?_.length:L.length," ","n"]}),u.jsx("span",{className:"mx-2",children:"|"}),u.jsxs("span",{className:"text-xl font-bold",children:["Tr ht n (",qe(m==="customer"?ne:X),")"]})]})}),v&&u.jsx(wSe,{customers:e,customerDebts:r,onClose:()=>b(!1),onCollect:ke=>{const P={id:`CT-${Date.now()}`,type:"income",date:ke.timestamp,amount:ke.amount,recipient:ke.customerName,notes:`Thu n khch hng - ${ke.customerName}`,paymentSourceId:ke.paymentMethod,branchId:n,category:"debt_collection"};i([P,...s]),o(c.map(q=>q.id===ke.paymentMethod?{...q,balance:{...q.balance,[n]:(q.balance[n]||0)+ke.amount}}:q)),b(!1)}}),R&&u.jsx(_Se,{isOpen:R,onClose:()=>{U(!1)},selectedDebts:m==="customer"?F.filter(ke=>_.includes(ke.customerId)):W.filter(ke=>L.includes(ke.supplierId)),totalAmount:m==="customer"?ne:X,debtType:m,onConfirm:(ke,Z)=>{m==="customer"?(d(_,ke,Z),T([])):(f(L,ke,Z),D([])),U(!1),yt.success(` thanh ton thnh cng ${qe(m==="customer"?ne:X)} qua ${ke==="cash"?"Tin mt":"Chuyn khon"}`)}}),k&&u.jsx(kSe,{suppliers:t,supplierDebts:a,onClose:()=>N(!1),onPay:ke=>{const P={id:`CT-${Date.now()}`,type:"expense",date:ke.timestamp,amount:ke.amount,recipient:ke.supplierName,notes:`Tr n nh cung cp - ${ke.supplierName}`,paymentSourceId:ke.paymentMethod,branchId:n,category:"debt_payment"};i([P,...s]),o(c.map(q=>q.id===ke.paymentMethod?{...q,balance:{...q.balance,[n]:(q.balance[n]||0)-ke.amount}}:q)),N(!1)}})]})},wSe=({customers:e,customerDebts:t,onClose:r,onCollect:a})=>{const[n,i]=j.useState(""),[s,o]=j.useState("0"),[c,d]=j.useState("cash"),[f,m]=j.useState(new Date().toLocaleString("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(" "," ")),x=j.useMemo(()=>t.find(v=>v.customerId===n),[n,t]),p=(x==null?void 0:x.remainingAmount)||0,y=v=>{v.preventDefault();const b=e.find(k=>k.id===n);b&&a&&a({customerName:b.name,amount:parseFloat(s),paymentMethod:c,timestamp:f}),r()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-secondary-bg rounded-xl shadow-2xl max-w-lg w-full border border-primary-border",children:[u.jsx("div",{className:"px-6 py-4 border-b border-primary-border",children:u.jsx("h2",{className:"text-xl font-semibold text-primary-text",children:"Thu n khch hng"})}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tm kim v chn mt khch hng ang n"}),u.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Chn khch hng..."}),t.map(v=>u.jsxs("option",{value:v.customerId,children:[v.customerName," - ",qe(v.remainingAmount)]},v.customerId))]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text",children:"Nhp s tin thanh ton"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 text-sm",children:qe(parseFloat(s)||0)})]}),u.jsx("input",{type:"number",value:s,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-tertiary-text",children:"Cn n:"}),u.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:qe(p)})]}),u.jsx("button",{type:"button",onClick:()=>o(p.toString()),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 text-sm mt-1",children:"in s cn n"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:c==="cash",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:c==="bank",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu thu"}),u.jsx("input",{type:"text",value:f,onChange:v=>m(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsx("button",{type:"submit",disabled:!n||parseFloat(s)<=0,className:"w-full py-3 bg-primary-bg hover:bg-tertiary-bg text-primary-text rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"To phiu thu"})]}),u.jsx("div",{className:"px-6 py-4 border-t border-primary-border flex justify-end",children:u.jsx("button",{onClick:r,className:"px-6 py-2 text-secondary-text hover:text-primary-text transition-colors",children:"ng"})})]})})},kSe=({suppliers:e,supplierDebts:t,onClose:r,onPay:a})=>{const[n,i]=j.useState(""),[s,o]=j.useState("0"),[c,d]=j.useState("cash"),[f,m]=j.useState(new Date().toLocaleString("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(" "," ")),x=j.useMemo(()=>t.find(v=>v.supplierId===n),[n,t]),p=(x==null?void 0:x.remainingAmount)||0,y=v=>{v.preventDefault();const b=e.find(k=>k.id===n);b&&a&&a({supplierName:b.name,amount:parseFloat(s),paymentMethod:c,timestamp:f}),r()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-secondary-bg rounded-xl shadow-2xl max-w-lg w-full border border-primary-border",children:[u.jsx("div",{className:"px-6 py-4 border-b border-primary-border",children:u.jsx("h2",{className:"text-xl font-semibold text-primary-text",children:"Chi tr n nh cung cp"})}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tm kim v chn mt nh cung cp ang n"}),u.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Chn nh cung cp..."}),t.map(v=>u.jsxs("option",{value:v.supplierId,children:[v.supplierName," - ",qe(v.remainingAmount)]},v.supplierId))]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text",children:"Nhp s tin thanh ton"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 text-sm",children:qe(parseFloat(s)||0)})]}),u.jsx("input",{type:"number",value:s,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-tertiary-text",children:"Cn n:"}),u.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:qe(p)})]}),u.jsx("button",{type:"button",onClick:()=>o(p.toString()),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 text-sm mt-1",children:"in s cn n"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:c==="cash",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:c==="bank",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu chi"}),u.jsx("input",{type:"text",value:f,onChange:v=>m(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsx("button",{type:"submit",disabled:!n||parseFloat(s)<=0,className:"w-full py-3 bg-primary-bg hover:bg-tertiary-bg text-primary-text rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"To phiu chi"})]}),u.jsx("div",{className:"px-6 py-4 border-t border-primary-border flex justify-end",children:u.jsx("button",{onClick:r,className:"px-6 py-2 text-secondary-text hover:text-primary-text transition-colors",children:"ng"})})]})})},_Se=({isOpen:e,onClose:t,selectedDebts:r,totalAmount:a,debtType:n,onConfirm:i})=>{const[s,o]=j.useState(null),[c,d]=j.useState(()=>{const m=new Date,x=String(m.getDate()).padStart(2,"0"),p=String(m.getMonth()+1).padStart(2,"0"),y=m.getFullYear(),v=String(m.getHours()).padStart(2,"0"),b=String(m.getMinutes()).padStart(2,"0");return`${x}-${p}-${y} ${v}:${b}`});if(!e)return null;const f=m=>{if(m.preventDefault(),!s){yt.warning("Vui lng chn hnh thc thanh ton");return}const[x,p]=c.split(" "),[y,v,b]=x.split("-"),[k,N]=p.split(":"),_=new Date(parseInt(b),parseInt(v)-1,parseInt(y),parseInt(k),parseInt(N)).toISOString();i(s,_)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-secondary-bg rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-border",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("h2",{className:"text-xl font-semibold text-primary-text",children:["Tr ht n (",n==="customer"?"nhiu n hng":"nhiu nh cung cp",")"]})]}),u.jsx("button",{onClick:t,className:"text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:f,className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"-"}),u.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"Chi tit"}),u.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"S tin"})]}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map((m,x)=>{const p="customerName"in m,y=p?m.customerName:m.supplierName,v=m.description;return u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-tertiary-bg rounded",children:[u.jsx("span",{className:"text-sm text-tertiary-text",children:x+1}),u.jsxs("div",{className:"flex-1 mx-3",children:[u.jsx("div",{className:"text-sm font-medium text-primary-text",children:v}),u.jsx("div",{className:"text-xs text-tertiary-text",children:y})]}),u.jsx("span",{className:"text-sm font-semibold text-primary-text",children:qe(m.remainingAmount)})]},x)})}),u.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-primary-border",children:[u.jsx("span",{className:"font-semibold text-primary-text",children:"TNG"}),u.jsx("span",{className:"text-lg font-bold text-red-500",children:qe(a)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:s==="cash",onChange:m=>o(m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:s==="bank",onChange:m=>o(m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu thu"}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg",children:[u.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),className:"flex-1 bg-transparent text-primary-text outline-none"}),u.jsx("svg",{className:"w-5 h-5 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("svg",{className:"w-5 h-5 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-secondary-border text-secondary-text rounded-lg hover:bg-primary-bg transition-colors font-medium",children:"NG"}),u.jsx("button",{type:"submit",disabled:!s,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600",children:"TO PHIU THU"})]})]})]})})},pH=()=>{const{cashTransactions:e,paymentSources:t,currentBranchId:r,setCashTransactions:a,setPaymentSources:n}=_i();Qd();const i=$j(),s=Hj(),[o,c]=j.useState("all"),[d,f]=j.useState("all"),[m,x]=j.useState("month"),[p,y]=j.useState(!1),v=j.useMemo(()=>{let k=e.filter(T=>T.branchId===r);o!=="all"&&(k=k.filter(T=>T.type===o)),d!=="all"&&(k=k.filter(T=>T.paymentSourceId===d));const N=new Date,_=new Date(N.getFullYear(),N.getMonth(),N.getDate());switch(m){case"today":k=k.filter(D=>new Date(D.date)>=_);break;case"week":const T=new Date(_);T.setDate(T.getDate()-7),k=k.filter(D=>new Date(D.date)>=T);break;case"month":const L=new Date(_);L.setMonth(L.getMonth()-1),k=k.filter(D=>new Date(D.date)>=L);break}return k.sort((T,L)=>new Date(L.date).getTime()-new Date(T.date).getTime())},[e,r,o,d,m]),b=j.useMemo(()=>{var D,R;const k=v.filter(U=>U.type==="income").reduce((U,F)=>U+F.amount,0),N=v.filter(U=>U.type==="expense").reduce((U,F)=>U+F.amount,0),_=k-N,T=((D=t.find(U=>U.id==="cash"))==null?void 0:D.balance[r])||0,L=((R=t.find(U=>U.id==="bank"))==null?void 0:R.balance[r])||0;return{income:k,expense:N,balance:_,cashBalance:T,bankBalance:L,totalBalance:T+L}},[v,t,r]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"S qu"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Theo di thu chi tin mt v chuyn khon"})]}),u.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{children:"Thm giao dch"})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),u.jsx("span",{children:"Thu"})]}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:qe(b.income)})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),u.jsx("span",{children:"Chi"})]}),u.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:qe(b.expense)})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Chnh lch"}),u.jsx("div",{className:`text-2xl font-bold ${b.balance>=0?"text-blue-900 dark:text-blue-100":"text-red-600 dark:text-red-400"}`,children:qe(b.balance)})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border-2 border-amber-200 dark:border-amber-800",children:[u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:"Tin mt"}),u.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:qe(b.cashBalance)})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border-2 border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium mb-2",children:"Ngn hng"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:qe(b.bankBalance)})]})]}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Loi:"}),u.jsx("div",{className:"flex gap-2",children:[{value:"all",label:"Tt c"},{value:"income",label:"Thu"},{value:"expense",label:"Chi"}].map(k=>u.jsx("button",{onClick:()=>c(k.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o===k.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:k.label},k.value))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ngun tin:"}),u.jsxs("select",{value:d,onChange:k=>f(k.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-sm text-slate-900 dark:text-white",children:[u.jsx("option",{value:"all",children:"Tt c"}),u.jsx("option",{value:"cash",children:"Tin mt"}),u.jsx("option",{value:"bank",children:"Ngn hng"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thi gian:"}),u.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Hm nay"},{value:"week",label:"7 ngy"},{value:"month",label:"30 ngy"},{value:"all",label:"Tt c"}].map(k=>u.jsx("button",{onClick:()=>x(k.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${m===k.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:k.label},k.value))})]})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngy"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Loi"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Danh mc"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"i tng"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ni dung"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngun tin"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"S tin"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400",children:"Khng c giao dch no"})}):v.map(k=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:Qa(new Date(k.date))}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${k.type==="income"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:k.type==="income"?" Thu":" Chi"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:SSe(k.category)}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:k.recipient||"--"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:k.notes||"--"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:k.paymentSourceId==="cash"?"Tin mt":"Ngn hng"}),u.jsxs("td",{className:`px-4 py-3 text-right text-sm font-semibold ${k.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[k.type==="income"?"+":"-",qe(k.amount)]}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("button",{className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]},k.id))})]})})]}),p&&u.jsx(NSe,{onClose:()=>y(!1),onSave:async k=>{if(!k.amount||k.amount<=0){yt.warning("S tin phi > 0");return}try{const N=await i.mutateAsync({type:k.type,amount:k.amount,branchId:r,paymentSourceId:k.paymentSourceId,date:k.date,notes:k.notes,category:k.category,recipient:k.recipient});if(N!=null&&N.ok){a(T=>[N.data,...T]);const _=k.type==="income"?k.amount:-k.amount;await s.mutateAsync({id:k.paymentSourceId,branchId:r,delta:_}),n(T=>T.map(L=>L.id===k.paymentSourceId?{...L,balance:{...L.balance,[r]:(L.balance[r]||0)+_}}:L)),yt.success(" thm giao dch s qu"),y(!1)}else N!=null&&N.error&&yt.error(N.error.message||"Ghi giao dch tht bi")}catch(N){yt.error((N==null?void 0:N.message)||"Li khng xc nh")}}})]})},SSe=e=>e?{sale_income:"Bn hng",service_income:"Dch v",other_income:"Thu khc",inventory_purchase:"Mua hng",salary:"Lng nhn vin",loan_payment:"Tr n vay",debt_collection:"Thu n khch hng",debt_payment:"Tr n nh cung cp",sale_refund:"Hon tr",other_expense:"Chi khc"}[e]||e:"--",NSe=({onClose:e,onSave:t})=>{const[r,a]=j.useState("income"),[n,i]=j.useState("0"),[s,o]=j.useState(""),[c,d]=j.useState("cash"),[f,m]=j.useState(""),[x,p]=j.useState(""),[y,v]=j.useState(new Date().toISOString().split("T")[0]),b=_=>{_.preventDefault(),t({type:r,amount:parseFloat(n),category:s,paymentSourceId:c,recipient:f,notes:x,date:new Date(y).toISOString()})},k=[{value:"sale_income",label:"Tin bn hng"},{value:"service_income",label:"Tin dch v"},{value:"other_income",label:"Thu nhp khc"}],N=[{value:"inventory_purchase",label:"Mua hng"},{value:"salary",label:"Lng nhn vin"},{value:"rent",label:"Tin thu mt bng"},{value:"utilities",label:"in nc"},{value:"sale_refund",label:"Hon tr khch hng"},{value:"other_expense",label:"Chi ph khc"}];return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm giao dch"})}),u.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loi giao dch"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"income",checked:r==="income",onChange:_=>a(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Thu tin"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"expense",checked:r==="expense",onChange:_=>a(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Chi tin"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin"}),u.jsx("input",{type:"number",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Danh mc"}),u.jsxs("select",{value:s,onChange:_=>o(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0,children:[u.jsx("option",{value:"",children:"Chn danh mc"}),(r==="income"?k:N).map(_=>u.jsx("option",{value:_.value,children:_.label},_.value))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"i tng"}),u.jsx("input",{type:"text",value:f,onChange:_=>m(_.target.value),placeholder:r==="income"?"Thu tin t ai?":"Chi tin cho ai?",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngun tin"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"cash",checked:c==="cash",onChange:_=>d(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"bank",checked:c==="bank",onChange:_=>d(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Ngn hng"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy giao dch"}),u.jsx("input",{type:"date",value:y,onChange:_=>v(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ni dung"}),u.jsx("textarea",{value:x,onChange:_=>p(_.target.value),rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",placeholder:"Ghi ch v giao dch..."})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Lu giao dch"})]})]})]})})},gH=()=>{const{loans:e,upsertLoan:t,upsertLoanPayment:r,currentBranchId:a,setCashTransactions:n,cashTransactions:i,setPaymentSources:s,paymentSources:o}=_i(),[c,d]=j.useState(!1),[f,m]=j.useState(!1),[x,p]=j.useState(null),y=j.useMemo(()=>{const b=e.reduce((L,D)=>L+D.principal,0),k=e.reduce((L,D)=>L+D.remainingAmount,0),N=b-k,_=e.filter(L=>L.status==="active").length,T=e.filter(L=>L.status==="overdue").length;return{totalLoans:b,totalRemaining:k,totalPaid:N,activeLoans:_,overdueLoans:T}},[e]),v=j.useMemo(()=>({active:e.filter(b=>b.status==="active"),overdue:e.filter(b=>b.status==="overdue"),paid:e.filter(b=>b.status==="paid")}),[e]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Qun l vn & vay"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Theo di cc khon vay v lch tr n"})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(em,{className:"w-5 h-5"}),u.jsx("span",{children:"Thm khon vay"})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Tng vay"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:qe(y.totalLoans)})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:"Cn n"}),u.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:qe(y.totalRemaining)})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:" tr"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:qe(y.totalPaid)})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border-2 border-amber-200 dark:border-amber-800",children:[u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:"ang vay"}),u.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:y.activeLoans}),u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs mt-1",children:"khon"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-800",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-2",children:"Qu hn"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:y.overdueLoans}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"khon"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cc khon vay ang hot ng"}),v.active.length===0?u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center text-slate-500 dark:text-slate-400",children:"Khng c khon vay no ang hot ng"}):u.jsx("div",{className:"grid gap-4",children:v.active.map(b=>u.jsx(T_,{loan:b,onPayment:()=>{p(b),m(!0)}},b.id))})]}),v.overdue.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400 mb-4",children:"Cc khon vay qu hn"}),u.jsx("div",{className:"grid gap-4",children:v.overdue.map(b=>u.jsx(T_,{loan:b,onPayment:()=>{p(b),m(!0)},isOverdue:!0},b.id))})]}),v.paid.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cc khon vay  thanh ton"}),u.jsx("div",{className:"grid gap-4",children:v.paid.map(b=>u.jsx(T_,{loan:b,isPaid:!0},b.id))})]})]}),c&&u.jsx(jSe,{onClose:()=>d(!1),onSave:b=>{t(b),d(!1)}}),f&&x&&u.jsx(ASe,{loan:x,onClose:()=>{m(!1),p(null)},onSave:b=>{t({...x,remainingAmount:b.remainingAmount,status:b.remainingAmount===0?"paid":x.status}),r(b);const N={id:`CT-${Date.now()}`,type:"expense",date:b.paymentDate,amount:b.totalAmount,recipient:x.lenderName,notes:`Tr n vay - ${x.lenderName} (Gc: ${qe(b.principalAmount)}, Li: ${qe(b.interestAmount)})`,paymentSourceId:b.paymentMethod,branchId:a,category:"loan_payment"};n([N,...i]),s(o.map(_=>_.id===b.paymentMethod?{..._,balance:{..._.balance,[a]:(_.balance[a]||0)-b.totalAmount}}:_)),m(!1),p(null)}})]})},T_=({loan:e,onPayment:t,isOverdue:r,isPaid:a})=>{const n=(e.principal-e.remainingAmount)/e.principal*100,i=Math.ceil((new Date(e.endDate).getTime()-new Date().getTime())/(1e3*60*60*24));return u.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-lg border-2 p-6 ${r?"border-orange-300 dark:border-orange-700":a?"border-green-300 dark:border-green-700":"border-slate-200 dark:border-slate-700"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:e.lenderName}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.loanType==="bank"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":e.loanType==="personal"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:e.loanType==="bank"?"Ngn hng":e.loanType==="personal"?"C nhn":"Khc"})]}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.purpose})]}),!a&&u.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Tr n"})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"S tin vay"}),u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:qe(e.principal)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Cn n"}),u.jsx("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:qe(e.remainingAmount)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Li sut"}),u.jsxs("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[e.interestRate,"%/nm"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Tr hng thng"}),u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:qe(e.monthlyPayment)})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-2",children:[u.jsxs("span",{children:[" tr ",n.toFixed(1),"%"]}),u.jsx("span",{children:!a&&(r?"Qu hn":i>0?`Cn ${i} ngy`:"n hn hm nay")})]}),u.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all ${r?"bg-orange-500":a?"bg-green-500":"bg-blue-500"}`,style:{width:`${n}%`}})})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[u.jsxs("span",{children:["Ngy vay: ",Qa(new Date(e.startDate))]}),u.jsxs("span",{children:["n hn: ",Qa(new Date(e.endDate))]})]})]})},jSe=({onClose:e,onSave:t})=>{const[r,a]=j.useState(""),[n,i]=j.useState("bank"),[s,o]=j.useState("0"),[c,d]=j.useState("0"),[f,m]=j.useState("12"),[x,p]=j.useState(new Date().toISOString().split("T")[0]),[y,v]=j.useState(""),[b,k]=j.useState(""),N=_=>{_.preventDefault();const T=parseFloat(s),L=parseFloat(c),D=parseInt(f),R=L/100/12,U=T*(R*Math.pow(1+R,D))/(Math.pow(1+R,D)-1),F=new Date(x),W=new Date(F);W.setMonth(W.getMonth()+D);const O={lenderName:r,loanType:n,principal:T,interestRate:L,term:D,startDate:F.toISOString(),endDate:W.toISOString(),remainingAmount:T,monthlyPayment:isNaN(U)?0:U,status:"active",purpose:y,collateral:b};t(O)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-2xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm khon vay mi"})}),u.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ngn hng/Ngi cho vay *"}),u.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loi vay *"}),u.jsxs("select",{value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[u.jsx("option",{value:"bank",children:"Ngn hng"}),u.jsx("option",{value:"personal",children:"C nhn"}),u.jsx("option",{value:"other",children:"Khc"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin vay *"}),u.jsx("input",{type:"number",value:s,onChange:_=>o(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Li sut (%/nm) *"}),u.jsx("input",{type:"number",step:"0.1",value:c,onChange:_=>d(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"K hn (thng) *"}),u.jsx("input",{type:"number",value:f,onChange:_=>m(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy vay *"}),u.jsx("input",{type:"date",value:x,onChange:_=>p(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mc ch vay"}),u.jsx("input",{type:"text",value:y,onChange:_=>v(_.target.value),placeholder:"V d: M rng ca hng, mua thit b...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ti sn th chp"}),u.jsx("input",{type:"text",value:b,onChange:_=>k(_.target.value),placeholder:"V d: S  nh, giy t xe...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Thm khon vay"})]})]})]})})},ASe=({loan:e,onClose:t,onSave:r})=>{const[a,n]=j.useState(e.monthlyPayment.toString()),[i,s]=j.useState("0"),[o,c]=j.useState("bank"),[d,f]=j.useState(new Date().toISOString().split("T")[0]),[m,x]=j.useState(""),p=parseFloat(a)+parseFloat(i),y=e.remainingAmount-parseFloat(a),v=b=>{b.preventDefault();const k={id:`LOANPAY-${Date.now()}`,loanId:e.id,paymentDate:new Date(d).toISOString(),principalAmount:parseFloat(a),interestAmount:parseFloat(i),totalAmount:p,remainingAmount:Math.max(0,y),paymentMethod:o,notes:m,branchId:e.branchId};r(k)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:["Tr n - ",e.lenderName]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Cn n: ",qe(e.remainingAmount)]})]}),u.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tin gc *"}),u.jsx("input",{type:"number",value:a,onChange:b=>n(b.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tin li"}),u.jsx("input",{type:"number",value:i,onChange:b=>s(b.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tng tin tr:"}),u.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:qe(p)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cn li sau khi tr:"}),u.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:qe(Math.max(0,y))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hnh thc thanh ton"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"cash",checked:o==="cash",onChange:b=>c(b.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"bank",checked:o==="bank",onChange:b=>c(b.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy tr"}),u.jsx("input",{type:"date",value:d,onChange:b=>f(b.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi ch"}),u.jsx("textarea",{value:m,onChange:b=>x(b.target.value),rows:2,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Xc nhn tr n"})]})]})]})})},TSe=()=>{const[e,t]=j.useState("cashbook");return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900 rounded-lg shadow-lg border border-primary-border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold text-primary-text mb-2",children:[u.jsx(UJ,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"}),"Qun l Ti chnh"]}),u.jsx("p",{className:"text-secondary-text",children:"Qun l s qu, khon vay v cc giao dch ti chnh"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>t("cashbook"),className:`px-6 py-3 rounded-lg font-medium transition-all shadow-md ${e==="cashbook"?"bg-blue-600 text-white shadow-blue-500/50 scale-105":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx(Yx,{className:"w-4 h-4"})," S qu"]}),u.jsxs("button",{onClick:()=>t("loans"),className:`px-6 py-3 rounded-lg font-medium transition-all shadow-md ${e==="loans"?"bg-cyan-600 text-white shadow-cyan-500/50 scale-105":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx(WR,{className:"w-4 h-4"})," Khon vay"]})]})]})}),u.jsxs("div",{children:[e==="cashbook"&&u.jsx(pH,{}),e==="loans"&&u.jsx(gH,{})]})]})},xH=()=>{const{employees:e,payrollRecords:t,upsertEmployee:r,upsertPayrollRecord:a,currentBranchId:n}=_i(),{mutateAsync:i}=$j(),{mutateAsync:s}=Hj(),[o,c]=j.useState(new Date().toISOString().slice(0,7)),[d,f]=j.useState("employees"),[m,x]=j.useState(!1),[p,y]=j.useState(!1),v=j.useMemo(()=>t.filter(k=>k.month===o),[t,o]),b=j.useMemo(()=>{const k=e.filter(D=>D.status==="active").length,N=v.reduce((D,R)=>D+R.baseSalary,0),_=v.reduce((D,R)=>D+R.netSalary,0),T=v.filter(D=>D.paymentStatus==="paid").length,L=v.filter(D=>D.paymentStatus==="pending").length;return{totalEmployees:k,totalBaseSalary:N,totalNetSalary:_,paidCount:T,pendingCount:L}},[e,v]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"px-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Qun l lng"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Qun l nhn vin v tnh lng"})]}),u.jsxs("button",{onClick:()=>d==="employees"?x(!0):y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(em,{className:"w-5 h-5"}),u.jsx("span",{children:d==="employees"?"Thm nhn vin":"Tnh lng thng"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>f("employees"),className:`px-4 py-2 rounded-t-lg font-medium text-sm transition-colors ${d==="employees"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:["Danh sch nhn vin (",e.filter(k=>k.status==="active").length,")"]}),u.jsx("button",{onClick:()=>f("payroll"),className:`px-4 py-2 rounded-t-lg font-medium text-sm transition-colors ${d==="payroll"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:"Bng lng"})]})]})}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:d==="employees"?u.jsx(ESe,{employees:e,onEdit:k=>console.log("Edit",k)}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn thng"}),u.jsx("input",{type:"month",value:o,onChange:k=>c(k.target.value),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]})}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Tng lng c bn"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:qe(b.totalBaseSalary)})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:"Tng lng thc nhn"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:qe(b.totalNetSalary)})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border border-amber-200 dark:border-amber-800",children:[u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:" tr lng"}),u.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:b.paidCount}),u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs mt-1",children:"nhn vin"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-2",children:"Cha tr"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:b.pendingCount}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"nhn vin"})]})]})]}),u.jsx(CSe,{payroll:v,onMarkAsPaid:async(k,N)=>{const _=t.find(T=>T.id===k);_&&(a({..._,paymentStatus:"paid",paymentDate:new Date().toISOString(),paymentMethod:N}),await i({type:"expense",amount:_.netSalary,branchId:n,paymentSourceId:N,category:"salary",payrollRecordId:_.id,recipient:_.employeeName,notes:`Tr lng thng ${o} - ${_.employeeName}`,date:new Date().toISOString()}),await s({id:N,branchId:n,delta:-_.netSalary}))}})]})}),m&&u.jsx(OSe,{onClose:()=>x(!1),onSave:k=>{r(k),x(!1)}}),p&&u.jsx(PSe,{employees:e.filter(k=>k.status==="active"),month:o,onClose:()=>y(!1),onSave:k=>{k.forEach(N=>a(N)),y(!1)}})]})},ESe=({employees:e,onEdit:t})=>e.length===0?u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cha c nhn vin no"})}):u.jsx("div",{className:"grid gap-4",children:e.map(r=>u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:r.name}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:r.status==="active"?"ang lm":"Ngh vic"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Chc v:"," "]}),u.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:r.position})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Lng:"," "]}),u.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:qe(r.baseSalary)})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ST:"," "]}),u.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:r.phone||"--"})]})]})]}),u.jsx("button",{onClick:()=>t(r),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg text-sm font-medium transition-colors",children:"Sa"})]})},r.id))}),CSe=({payroll:e,onMarkAsPaid:t})=>{const[r,a]=j.useState(!1),[n,i]=j.useState(null);return e.length===0?u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cha c bng lng cho thng ny"})}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thng"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Pht"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"BHXH"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thu"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thc nhn"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Trng thi"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.map(s=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-medium",children:s.employeeName}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white",children:qe(s.baseSalary)}),u.jsxs("td",{className:"px-4 py-3 text-right text-green-600 dark:text-green-400",children:["+",qe(s.bonus)]}),u.jsxs("td",{className:"px-4 py-3 text-right text-red-600 dark:text-red-400",children:["-",qe(s.deduction)]}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-400",children:qe(s.socialInsurance)}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-400",children:qe(s.personalIncomeTax)}),u.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold",children:qe(s.netSalary)}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"}`,children:s.paymentStatus==="paid"?" tr":"Cha tr"})}),u.jsx("td",{className:"px-4 py-3 text-center",children:s.paymentStatus==="pending"&&t&&u.jsx("button",{onClick:()=>{i(s),a(!0)},className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-md text-xs font-medium transition-colors",children:" tr lng"})})]},s.id))})]}),r&&n&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Xc nhn tr lng"})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Nhn vin"}),u.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n.employeeName}),u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:qe(n.netSalary)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hnh thc thanh ton"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>{t&&t(n.id,"cash"),a(!1),i(null)},className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Tin mt"]}),u.jsxs("button",{onClick:()=>{t&&t(n.id,"bank"),a(!1),i(null)},className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21h18M3 10h18M7 6h10l2 4H5l2-4Zm2 4v11m6-11v11"})}),"Chuyn khon"]})]})]})]}),u.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:u.jsx("button",{onClick:()=>{a(!1),i(null)},className:"w-full px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"})})]})})]})},OSe=({onClose:e,onSave:t})=>{const[r,a]=j.useState(""),[n,i]=j.useState(""),[s,o]=j.useState(""),[c,d]=j.useState("0"),[f,m]=j.useState(new Date().toISOString().split("T")[0]),x=p=>{p.preventDefault();const y={name:r,phone:n,position:s,baseSalary:parseFloat(c),startDate:new Date(f).toISOString(),status:"active"};t(y)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm nhn vin mi"})}),u.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"H v tn *"}),u.jsx("input",{type:"text",value:r,onChange:p=>a(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S in thoi"}),u.jsx("input",{type:"tel",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chc v *"}),u.jsx("input",{type:"text",value:s,onChange:p=>o(p.target.value),placeholder:"V d: K thut vin, Nhn vin bn hng...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Lng c bn *"}),u.jsx("input",{type:"number",value:c,onChange:p=>d(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy vo lm *"}),u.jsx("input",{type:"date",value:f,onChange:p=>m(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Thm nhn vin"})]})]})]})})},PSe=({employees:e,month:t,onClose:r,onSave:a})=>{const[n,i]=j.useState(e.map(y=>({employeeId:y.id,employeeName:y.name,baseSalary:y.baseSalary,bonus:0,deduction:0}))),s=(y,v)=>{i(b=>b.map(k=>k.employeeId===y?{...k,bonus:parseFloat(v)||0}:k))},o=(y,v)=>{i(b=>b.map(k=>k.employeeId===y?{...k,deduction:parseFloat(v)||0}:k))},c=(y,v,b)=>y+v-b,d=y=>{y.preventDefault();const v=n.map(b=>({id:`PAY-${t}-${b.employeeId}`,employeeId:b.employeeId,employeeName:b.employeeName,month:t,baseSalary:b.baseSalary,allowances:0,bonus:b.bonus,deduction:b.deduction,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:c(b.baseSalary,b.bonus,b.deduction),paymentStatus:"pending",paymentDate:void 0,notes:"",branchId:"main",created_at:new Date().toISOString()}));a(v)},f=n.reduce((y,v)=>y+v.baseSalary,0),m=n.reduce((y,v)=>y+v.bonus,0),x=n.reduce((y,v)=>y+v.deduction,0),p=n.reduce((y,v)=>y+c(v.baseSalary,v.bonus,v.deduction),0);return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-5xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:["Tnh lng thng ",t]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[e.length," nhn vin"]})]}),u.jsxs("form",{onSubmit:d,className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thng"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Pht"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thc nhn"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(y=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-medium",children:y.employeeName}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white",children:qe(y.baseSalary)}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"number",value:y.bonus,onChange:v=>s(y.employeeId,v.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded text-right text-slate-900 dark:text-white",min:"0"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"number",value:y.deduction,onChange:v=>o(y.employeeId,v.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded text-right text-slate-900 dark:text-white",min:"0"})}),u.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold",children:qe(c(y.baseSalary,y.bonus,y.deduction))})]},y.employeeId))}),u.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-700 border-t-2 border-slate-300 dark:border-slate-600",children:u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-bold",children:"TNG CNG"}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white font-bold",children:qe(f)}),u.jsx("td",{className:"px-4 py-3 text-right text-green-600 dark:text-green-400 font-bold",children:qe(m)}),u.jsx("td",{className:"px-4 py-3 text-right text-red-600 dark:text-red-400 font-bold",children:qe(x)}),u.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold text-lg",children:qe(p)})]})})]})})}),u.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[u.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"To bng lng"})]})]})]})})},DSe=(e,t,r)=>{const a=qr.book_new(),n=e.reduce((p,y)=>p+y.total,0),i=e.reduce((p,y)=>p+y.items.reduce((v,b)=>v+(b.costPrice||0)*b.quantity,0),0),s=n-i,o=n>0?s/n*100:0,c=[["BO CO DOANH THU"],[`T ${Qa(t)} n ${Qa(r)}`],[],["Ch tiu","Gi tr"],["Tng doanh thu",qe(n)],["Tng chi ph",qe(i)],["Li nhun",qe(s)],["Bin li nhun",`${o.toFixed(2)}%`]],d=qr.aoa_to_sheet(c);qr.book_append_sheet(a,d,"Tng quan");const f=[["M n","Ngy","Khch hng","ST","Sn phm","S lng","n gi","Thnh tin","Gim gi","Tng","Phng thc"]];e.forEach(p=>{p.items.forEach((y,v)=>{f.push([v===0?p.id.slice(-8):"",v===0?Qa(p.date):"",v===0?p.customer.name:"",v===0&&p.customer.phone||"",y.partName,y.quantity,y.sellingPrice,y.sellingPrice*y.quantity,v===0?p.discount:"",v===0?p.total:"",v===0?p.paymentMethod==="cash"?"Tin mt":"Ngn hng":""])})});const m=qr.aoa_to_sheet(f);qr.book_append_sheet(a,m,"Chi tit bn hng");const x=`BaoCaoDoanhThu_${t}_${r}.xlsx`;ym(a,x)},LSe=(e,t,r)=>{const a=qr.book_new(),n=e.filter(v=>v.type==="income").reduce((v,b)=>v+b.amount,0),i=e.filter(v=>v.type==="expense").reduce((v,b)=>v+b.amount,0),s=n-i,o=[["BO CO THU CHI"],[`T ${Qa(t)} n ${Qa(r)}`],[],["Ch tiu","Gi tr"],["Tng thu",qe(n)],["Tng chi",qe(i)],["Thu chi rng",qe(s)]],c=qr.aoa_to_sheet(o);qr.book_append_sheet(a,c,"Tng quan");const d=[["Ngy","Loi","Danh mc","S tin","i tng","Ngun thanh ton","Ghi ch"]];e.forEach(v=>{d.push([Qa(v.date),v.type==="income"?"Thu":"Chi",v.category||"",v.amount,v.recipient||"",v.paymentSourceId,v.notes])});const f=qr.aoa_to_sheet(d);qr.book_append_sheet(a,f,"Chi tit giao dch");const m={};e.forEach(v=>{const b=v.category||"Khc";m[b]||(m[b]={income:0,expense:0}),v.type==="income"?m[b].income+=v.amount:m[b].expense+=v.amount});const x=[["Danh mc","Thu","Chi","Chnh lch"]];Object.entries(m).forEach(([v,b])=>{x.push([v,b.income,b.expense,b.income-b.expense])});const p=qr.aoa_to_sheet(x);qr.book_append_sheet(a,p,"Theo danh mc");const y=`BaoCaoThuChi_${t}_${r}.xlsx`;ym(a,y)},MSe=(e,t,r,a)=>{const n=qr.book_new(),i=e.reduce((p,y)=>{var v;return p+(y.stock[t]||0)*(((v=y.wholesalePrice)==null?void 0:v[t])||0)},0),s=e.filter(p=>(p.stock[t]||0)<10).length,o=[["BO CO TN KHO"],[`Ngy: ${Qa(a)}`],[],["Ch tiu","Gi tr"],["Tng gi tr tn kho",qe(i)],["S loi sn phm",e.length],["Sn phm tn kho thp",s]],c=qr.aoa_to_sheet(o);qr.book_append_sheet(n,c,"Tng quan");const d=[["M SKU","Tn sn phm","Danh mc","Tn kho","Gi nhp","Gi bn","Gi tr tn","Trng thi"]];e.forEach(p=>{var _;const y=p.stock[t]||0,v=((_=p.wholesalePrice)==null?void 0:_[t])||0,b=p.retailPrice[t]||0,k=y*v,N=y<10?"Thp":y<50?"Trung bnh":"";d.push([p.sku,p.name,p.category||"",y,v,b,k,N])});const f=qr.aoa_to_sheet(d);qr.book_append_sheet(n,f,"Chi tit tn kho");const m=e.filter(p=>(p.stock[t]||0)<10);if(m.length>0){const p=[["M SKU","Tn sn phm","Tn kho","Ghi ch"]];m.forEach(v=>{p.push([v.sku,v.name,v.stock[t]||0,"Cn nhp thm hng"])});const y=qr.aoa_to_sheet(p);qr.book_append_sheet(n,y,"Cnh bo tn kho")}const x=`BaoCaoTonKho_${a}.xlsx`;ym(n,x)},RSe=(e,t,r)=>{const a=qr.book_new(),n=e.reduce((b,k)=>b+k.baseSalary,0),i=e.reduce((b,k)=>b+k.netSalary,0),s=e.filter(b=>b.paymentStatus==="paid").length,o=e.filter(b=>b.paymentStatus==="pending").length,c=[["BO CO LNG"],[`T ${t} n ${r}`],[],["Ch tiu","Gi tr"],["Tng lng c bn",qe(n)],["Tng lng thc nhn",qe(i)],["S bng lng  tr",s],["S bng lng cha tr",o]],d=qr.aoa_to_sheet(c);qr.book_append_sheet(a,d,"Tng quan");const f=[["Nhn vin","Thng","Lng c bn","Ph cp","Thng","Khu tr","BHXH","BHYT","BHTN","Thu TNCN","Thc nhn","Trng thi","Ngy tr"]];e.forEach(b=>{f.push([b.employeeName,b.month,b.baseSalary,b.allowances,b.bonus,b.deduction,b.socialInsurance,b.healthInsurance,b.unemploymentInsurance,b.personalIncomeTax,b.netSalary,b.paymentStatus==="paid"?" tr":"Cha tr",b.paymentDate?Qa(b.paymentDate):""])});const m=qr.aoa_to_sheet(f);qr.book_append_sheet(a,m,"Chi tit lng");const x={};e.forEach(b=>{x[b.employeeName]||(x[b.employeeName]={totalBase:0,totalNet:0,months:0}),x[b.employeeName].totalBase+=b.baseSalary,x[b.employeeName].totalNet+=b.netSalary,x[b.employeeName].months+=1});const p=[["Nhn vin","S thng","Tng lng c bn","Tng thc nhn","TB/thng"]];Object.entries(x).forEach(([b,k])=>{p.push([b,k.months,k.totalBase,k.totalNet,Math.round(k.totalNet/k.months)])});const y=qr.aoa_to_sheet(p);qr.book_append_sheet(a,y,"Theo nhn vin");const v=`BaoCaoLuong_${t}_${r}.xlsx`;ym(a,v)},ISe=(e,t,r,a,n)=>{const i=qr.book_new(),s=[["BO CO CNG N"],[`T ${Qa(a)} n ${Qa(n)}`],[],["Loi","S lng"],["Khch hng",e.length],["Nh cung cp",t.length]],o=qr.aoa_to_sheet(s);qr.book_append_sheet(i,o,"Tng quan");const c=[["Tn khch hng","ST","Xe","Bin s","Phn khc"]];e.forEach(p=>{c.push([p.name,p.phone||"",p.vehicleModel||"",p.licensePlate||"",p.segment||""])});const d=qr.aoa_to_sheet(c);qr.book_append_sheet(i,d,"Khch hng");const f=[["Tn nh cung cp","ST","Email","a ch"]];t.forEach(p=>{f.push([p.name,p.phone||"",p.email||"",p.address||""])});const m=qr.aoa_to_sheet(f);qr.book_append_sheet(i,m,"Nh cung cp");const x=`BaoCaoCongNo_${a}_${n}.xlsx`;ym(i,x)},FSe=()=>{const{payrollRecords:e,customers:t,suppliers:r,currentBranchId:a,employees:n}=_i(),{data:i=[],isLoading:s}=Mge(),{data:o=[],isLoading:c}=Xz(),[d,f]=j.useState("revenue"),[m,x]=j.useState("month"),[p,y]=j.useState(""),[v,b]=j.useState(""),{start:k,end:N}=j.useMemo(()=>{const O=new Date;let M=new Date,H=new Date;if(m==="custom"&&p&&v)return{start:new Date(p),end:new Date(v)};switch(m){case"today":M=new Date(O.setHours(0,0,0,0)),H=new Date(O.setHours(23,59,59,999));break;case"week":M=new Date(O.setDate(O.getDate()-7));break;case"month":M=new Date(O.setMonth(O.getMonth()-1));break;case"quarter":M=new Date(O.setMonth(O.getMonth()-3));break;case"year":M=new Date(O.setFullYear(O.getFullYear()-1));break}return{start:M,end:H}},[m,p,v]),_=j.useMemo(()=>{const O=i.filter(ne=>{const X=new Date(ne.date);return X>=k&&X<=N}),M=O.reduce((ne,X)=>ne+X.total,0),H=O.reduce((ne,X)=>{const re=X.items.reduce((fe,ce)=>fe+(ce.costPrice||0)*ce.quantity,0);return ne+re},0),Y=M-H;return{sales:O,totalRevenue:M,totalCost:H,totalProfit:Y,profitMargin:M>0?(Y/M*100).toFixed(1):0,orderCount:O.length}},[i,k,N]),{data:T=[],isLoading:L}=qge({branchId:a,startDate:k.toISOString(),endDate:N.toISOString()}),D=j.useMemo(()=>{const O=T.filter(ne=>{const X=new Date(ne.date);return X>=k&&X<=N}),M=O.filter(ne=>ne.type==="income").reduce((ne,X)=>ne+X.amount,0),H=O.filter(ne=>ne.type==="expense").reduce((ne,X)=>ne+X.amount,0),Y={};return O.forEach(ne=>{const X=ne.category||"other";Y[X]||(Y[X]={income:0,expense:0}),ne.type==="income"?Y[X].income+=ne.amount:Y[X].expense+=ne.amount}),{transactions:O,totalIncome:M,totalExpense:H,netCashFlow:M-H,byCategory:Y}},[T,k,N]),R=j.useMemo(()=>{const O=o.map(Y=>({...Y,stock:Y.stock[a]||0,price:Y.retailPrice[a]||0,value:(Y.stock[a]||0)*(Y.retailPrice[a]||0)})),M=O.reduce((Y,ne)=>Y+ne.value,0),H=O.filter(Y=>Y.stock<10);return{parts:O,totalValue:M,lowStockCount:H.length,lowStockItems:H}},[o,a]),U=j.useMemo(()=>{const O=e.filter(ne=>{const X=new Date(ne.month);return X>=k&&X<=N}),M=O.reduce((ne,X)=>ne+X.netSalary,0),H=O.filter(ne=>ne.paymentStatus==="paid").reduce((ne,X)=>ne+X.netSalary,0),Y=M-H;return{records:O,totalSalary:M,paidSalary:H,unpaidSalary:Y,employeeCount:new Set(O.map(ne=>ne.employeeId)).size}},[e,k,N]),F=j.useMemo(()=>{const O=t.map(ne=>{const re=i.filter(fe=>(fe.customer.name===ne.name||fe.customer.phone===ne.phone)&&fe.paymentStatus!=="paid").reduce((fe,ce)=>fe+ce.total,0);return{name:ne.name,debt:re}}),M=r.map(ne=>({name:ne.name,debt:0})),H=O.reduce((ne,X)=>ne+X.debt,0),Y=M.reduce((ne,X)=>ne+X.debt,0);return{customerDebts:O.filter(ne=>ne.debt>0),supplierDebts:M.filter(ne=>ne.debt>0),totalCustomerDebt:H,totalSupplierDebt:Y,netDebt:H-Y}},[t,r]),W=()=>{const O=k.toISOString().split("T")[0],M=N.toISOString().split("T")[0];try{switch(d){case"revenue":DSe(_.sales,O,M);break;case"cashflow":LSe(D.transactions,O,M);break;case"inventory":MSe(o,a,O,M);break;case"payroll":const H=k.toISOString().slice(0,7),Y=N.toISOString().slice(0,7);RSe(U.records,H,Y);break;case"debt":ISe(t,r,_.sales,O,M);break}yt.success("Xut Excel thnh cng! File  c ti xung.")}catch(H){console.error("Export error:",H),yt.error("C li khi xut Excel. Vui lng th li.")}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[[{key:"revenue",label:"Doanh thu",icon:u.jsx(gh,{className:"w-4 h-4"})},{key:"cashflow",label:"Thu chi",icon:u.jsx(Yx,{className:"w-4 h-4"})},{key:"inventory",label:"Tn kho",icon:u.jsx(cl,{className:"w-4 h-4"})},{key:"payroll",label:"Lng",icon:u.jsx(Fb,{className:"w-4 h-4"})},{key:"debt",label:"Cng n",icon:u.jsx(MN,{className:"w-4 h-4"})}].map(O=>u.jsx("button",{onClick:()=>f(O.key),className:`px-6 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${d===O.key?"bg-blue-600 text-white shadow-lg":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.icon,O.label]})},O.key)),u.jsx("div",{className:"h-8 w-px bg-slate-300 dark:bg-slate-600 mx-2"}),["today","week","month","quarter","year","custom"].map(O=>u.jsx("button",{onClick:()=>x(O),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m===O?"bg-blue-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:O==="today"?"Hm nay":O==="week"?"7 ngy":O==="month"?"Thng":O==="quarter"?"Qu":O==="year"?"Nm":"Ty chnh"},O)),m==="custom"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"date",value:p,onChange:O=>y(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"}),u.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:""}),u.jsx("input",{type:"date",value:v,onChange:O=>b(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]}),u.jsx("div",{className:"ml-auto flex gap-2",children:u.jsxs("button",{onClick:W,className:"px-5 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 flex items-center gap-2",children:[u.jsx(TJ,{className:"w-4 h-4"})," Xut Excel"]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[d==="revenue"&&u.jsxs("div",{className:"space-y-6",children:[s&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti doanh thu..."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:[u.jsx(gh,{className:"w-4 h-4"})," Tng doanh thu"]}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:qe(_.totalRevenue).replace("","")}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:[u.jsx(Yx,{className:"w-4 h-4"})," Tng chi ph"]}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:qe(_.totalCost).replace("","")}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:[u.jsx(Ub,{className:"w-4 h-4"})," Li nhun"]}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:qe(_.totalProfit).replace("","")}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:[u.jsx(yJ,{className:"w-4 h-4"})," T sut li nhun"]}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:_.profitMargin}),u.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"%"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Chi tit n hng (",_.orderCount," n)"]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ngy"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Khch hng"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Tng tin"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Trng thi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:_.sales.map(O=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:Qa(O.date)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:O.customer.name}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-slate-900 dark:text-white",children:qe(O.total)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${O.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:O.paymentStatus==="paid"?" thanh ton":"Cha thanh ton"})})]},O.id))})]})})]})]}),d==="cashflow"&&u.jsxs("div",{className:"space-y-6",children:[L&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti s qu..."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Yx,{className:"w-4 h-4"})," Tng thu"]})}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:qe(D.totalIncome).replace("","")}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2 inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"2"}),u.jsx("path",{d:"M6 12h.01M18 12h.01"})]}),"Tng chi"]}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:qe(D.totalExpense).replace("","")}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:`bg-gradient-to-br rounded-lg p-6 border ${D.netCashFlow>=0?"from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800":"from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-orange-200 dark:border-orange-800"}`,children:[u.jsx("div",{className:`text-sm font-medium mb-2 ${D.netCashFlow>=0?"text-blue-700 dark:text-blue-400":"text-orange-700 dark:text-orange-400"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(gh,{className:"w-4 h-4"})," Dng tin rng"]})}),u.jsx("div",{className:`text-3xl font-bold ${D.netCashFlow>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:qe(D.netCashFlow).replace("","")}),u.jsx("div",{className:`text-xs mt-1 ${D.netCashFlow>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:""})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thu chi theo danh mc"}),u.jsx("div",{className:"space-y-3",children:Object.entries(D.byCategory).map(([O,M])=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 rounded-lg hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"font-semibold text-slate-900 dark:text-white capitalize",children:O}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Thu"}),u.jsx("div",{className:"text-green-600 dark:text-green-400 font-bold",children:qe(M.income)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Chi"}),u.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold",children:qe(M.expense)})]})]})]},O))})]})]}),d==="inventory"&&u.jsxs("div",{className:"space-y-6",children:[c&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti tn kho..."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(cl,{className:"w-4 h-4"})," Tng gi tr tn kho"]})}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:qe(R.totalValue).replace("","")}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(KJ,{className:"w-4 h-4"})," Tng sn phm"]})}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:R.parts.length}),u.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"sn phm"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-amber-500",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})]}),"Sn phm sp ht"]})}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:R.lowStockCount}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"sn phm"})]})]}),R.lowStockCount>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-amber-500",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})]}),"Cnh bo hng sp ht"]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Sn phm"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tn kho"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"n gi"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Gi tr"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:R.lowStockItems.map(O=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:O.name}),u.jsx("td",{className:"px-4 py-2 text-sm text-right text-red-600 dark:text-red-400 font-medium",children:O.stock}),u.jsx("td",{className:"px-4 py-2 text-sm text-right text-slate-900 dark:text-white",children:qe(O.price)}),u.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-slate-900 dark:text-white",children:qe(O.value)})]},O.id))})]})})]})]}),d==="payroll"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(gh,{className:"w-4 h-4"})," Tng lng"]})}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:qe(U.totalSalary).replace("","")}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(KR,{className:"w-4 h-4"}),"  thanh ton"]})}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:qe(U.paidSalary).replace("","")}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:" Cha thanh ton"}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:qe(U.unpaidSalary).replace("","")}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Fb,{className:"w-4 h-4"})," S nhn vin"]})}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:U.employeeCount}),u.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"nhn vin"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Chi tit lng"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thng"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nhn vin"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Lng thc nhn"}),u.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-slate-700 dark:text-slate-300",children:"Trng thi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:U.records.map(O=>{const M=n.find(H=>H.id===O.employeeId);return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:O.month}),u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:(M==null?void 0:M.name)||"N/A"}),u.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-slate-900 dark:text-white",children:qe(O.netSalary)}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:O.paymentStatus==="paid"?" tr":"Cha tr"})})]},O.id)})})]})})]})]}),d==="debt"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:"N khch hng"}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:F.customerDebts.length}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:"N nh cung cp"}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:F.supplierDebts.length}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:"Cng n rng"}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"0"}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-700",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(m1,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Cng n khch hng"]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:F.customerDebts.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-4xl mb-3",children:""}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Khng c cng n"})]}):F.customerDebts.map((O,M)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),u.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:qe(O.debt)})]},M))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-700",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"text-red-600 dark:text-red-400",children:""}),"Cng n nh cung cp"]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:F.supplierDebts.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-4xl mb-3",children:""}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Khng c cng n"})]}):F.supplierDebts.map((O,M)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),u.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:qe(O.debt)})]},M))})]})]})]})]})]})},BSe=()=>{const{employees:e,upsertEmployee:t,setEmployees:r}=_i(),a=D=>t(D),n=D=>t(D),i=D=>{r(R=>R.filter(U=>U.id!==D))},[s,o]=j.useState("list"),[c,d]=j.useState(!1),[f,m]=j.useState(null),[x,p]=j.useState(""),[y,v]=j.useState({name:"",phone:"",email:"",position:"",department:"",baseSalary:0,allowances:0,status:"active",startDate:new Date().toISOString().split("T")[0]}),b=j.useMemo(()=>e.filter(D=>{var R;return D.name.toLowerCase().includes(x.toLowerCase())||((R=D.phone)==null?void 0:R.toLowerCase().includes(x.toLowerCase()))||D.position.toLowerCase().includes(x.toLowerCase())}),[e,x]),k=D=>{if(D.preventDefault(),!y.name||!y.position||!y.baseSalary){alert("Vui lng in y  thng tin bt buc!");return}if(f)n({...f,...y}),yt.success("Cp nht nhn vin thnh cng!");else{const R={id:Math.random().toString(36).substr(2,9),name:y.name,phone:y.phone,email:y.email,position:y.position,department:y.department,baseSalary:y.baseSalary,allowances:y.allowances,startDate:y.startDate,status:y.status,bankAccount:y.bankAccount,bankName:y.bankName,taxCode:y.taxCode,created_at:new Date().toISOString()};a(R),yt.success("Thm nhn vin thnh cng!")}N()},N=()=>{v({name:"",phone:"",email:"",position:"",department:"",baseSalary:0,allowances:0,status:"active",startDate:new Date().toISOString().split("T")[0]}),m(null),d(!1)},_=D=>{m(D),v(D),d(!0)},T=D=>{confirm(`Bn c chc mun xa nhn vin "${D.name}" khng?`)&&(i(D.id),yt.success(" xa nhn vin!"))},L=j.useMemo(()=>{const D=e.filter(U=>U.status==="active").length,R=e.filter(U=>U.status==="active").reduce((U,F)=>U+F.baseSalary+(F.allowances||0),0);return{active:D,totalSalary:R,total:e.length}},[e]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(m1,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Qun l nhn vin"]}),u.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",children:[u.jsx(bb,{className:"w-5 h-5"})," Thm nhn vin"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Tng nhn vin"}),u.jsx(m1,{className:"w-8 h-8"})]}),u.jsx("div",{className:"text-3xl font-bold",children:L.total}),u.jsxs("div",{className:"text-white/70 text-sm mt-1",children:[L.active," ang lm vic"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-white/80 text-sm font-medium",children:"ang hot ng"}),u.jsx(YJ,{className:"w-8 h-8"})]}),u.jsx("div",{className:"text-3xl font-bold",children:L.active}),u.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Nhn vin active"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Tng lng thng"}),u.jsx(gh,{className:"w-8 h-8"})]}),u.jsx("div",{className:"text-2xl font-bold",children:qe(L.totalSalary)}),u.jsx("div",{className:"text-white/70 text-sm mt-1",children:"c tnh"})]})]}),u.jsx("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:[{key:"list",label:"Danh sch",icon:u.jsx(MN,{className:"w-4 h-4"})},{key:"attendance",label:"Chm cng",icon:u.jsx(i8,{className:"w-4 h-4"})},{key:"payroll",label:"Qun l lng",icon:u.jsx(gh,{className:"w-4 h-4"})},{key:"history",label:"Lch s",icon:u.jsx(s8,{className:"w-4 h-4"})}].map(D=>u.jsx("button",{onClick:()=>o(D.key),className:`px-6 py-3 font-medium transition-all ${s===D.key?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[D.icon,D.label]})},D.key))}),s==="list"&&u.jsx("div",{className:"flex gap-4",children:u.jsx("input",{type:"text",placeholder:"Tm kim nhn vin (tn, ST, chc v)...",value:x,onChange:D=>p(D.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s==="list"&&u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Chc v"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Phng ban"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ph cp"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngy vo"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Trng thi"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:b.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:"Khng tm thy nhn vin no"})}):b.map(D=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:D.name}),D.phone&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(BJ,{className:"w-3 h-3"})," ",D.phone]})}),D.email&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(RJ,{className:"w-3 h-3"})," ",D.email]})})]})}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:D.position}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:D.department||"-"}),u.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:qe(D.baseSalary)}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:qe(D.allowances||0)}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:Qa(D.startDate)}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${D.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":D.status==="inactive"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:D.status==="active"?"Hot ng":D.status==="inactive"?"Tm ngh":"Ngh vic"})}),u.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[u.jsxs("button",{onClick:()=>_(D),className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium text-sm",children:[u.jsx(l8,{className:"w-4 h-4"})," Sa"]}),u.jsxs("button",{onClick:()=>T(D),className:"inline-flex items-center gap-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium text-sm",children:[u.jsx(JR,{className:"w-4 h-4"})," Xa"]})]})]},D.id))})]})})}),s==="attendance"&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[u.jsx(i8,{className:"w-16 h-16 mb-4 text-slate-400"}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Chc nng chm cng"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Tnh nng qun l chm cng ang c pht trin..."})]}),s==="payroll"&&u.jsx(xH,{}),s==="history"&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[u.jsx(s8,{className:"w-16 h-16 mb-4 text-slate-400"}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Lch s lm vic"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Tnh nng xem lch s lm vic ang c pht trin..."})]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:f?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx(l8,{className:"w-5 h-5"})," Sa nhn vin"]}):u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx(bb,{className:"w-5 h-5"})," Thm nhn vin mi"]})}),u.jsx("button",{onClick:N,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 text-2xl",children:""})]}),u.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["H tn ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:y.name,onChange:D=>v({...y,name:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),u.jsx("input",{type:"tel",value:y.phone,onChange:D=>v({...y,phone:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:y.email,onChange:D=>v({...y,email:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Chc v ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:y.position,onChange:D=>v({...y,position:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phng ban"}),u.jsx("input",{type:"text",value:y.department,onChange:D=>v({...y,department:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Lng c bn ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:y.baseSalary,onChange:D=>v({...y,baseSalary:Number(D.target.value)}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ph cp"}),u.jsx("input",{type:"number",value:y.allowances,onChange:D=>v({...y,allowances:Number(D.target.value)}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Ngy vo lm ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"date",value:y.startDate,onChange:D=>v({...y,startDate:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trng thi"}),u.jsxs("select",{value:y.status,onChange:D=>v({...y,status:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[u.jsx("option",{value:"active",children:"Hot ng"}),u.jsx("option",{value:"inactive",children:"Tm ngh"}),u.jsx("option",{value:"terminated",children:"Ngh vic"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S ti khon"}),u.jsx("input",{type:"text",value:y.bankAccount,onChange:D=>v({...y,bankAccount:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ngn hng"}),u.jsx("input",{type:"text",value:y.bankName,onChange:D=>v({...y,bankName:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M s thu"}),u.jsx("input",{type:"text",value:y.taxCode,onChange:D=>v({...y,taxCode:D.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all inline-flex items-center justify-center gap-2",children:f?u.jsxs(u.Fragment,{children:[u.jsx(F3,{className:"w-5 h-5"})," Lu thay i"]}):u.jsxs(u.Fragment,{children:[u.jsx(bb,{className:"w-5 h-5"})," Thm nhn vin"]})}),u.jsxs("button",{type:"button",onClick:N,className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors inline-flex items-center gap-2",children:[u.jsx(tI,{className:"w-5 h-5"})," Hy"]})]})]})]})})]})},USe=()=>{const{parts:e}=_i(),t=fH();return UR?{data:e,isLoading:!1,isError:!1,refetch:async()=>{}}:t},zSe=()=>{const{currentBranchId:e,inventoryTransactions:t}=_i(),{data:r=[]}=USe(),a=j.useMemo(()=>{const f=new Map;return r.forEach(m=>{const x=m.category||"Khng phn loi",p=m.stock[e]||0,y=m.retailPrice[e]||0,v=p*y,b=f.get(x);b?(b.value+=v,b.count+=1,b.stock+=p):f.set(x,{value:v,count:1,stock:p})}),Array.from(f.entries()).map(([m,x])=>({name:m,value:Math.round(x.value),count:x.count,stock:x.stock})).sort((m,x)=>x.value-m.value)},[r,e]),n=j.useMemo(()=>r.filter(f=>{const m=f.stock[e]||0;return m>0&&m<=10}).sort((f,m)=>{const x=f.stock[e]||0,p=m.stock[e]||0;return x-p}).slice(0,10),[r,e]),i=j.useMemo(()=>r.filter(f=>(f.stock[e]||0)===0).length,[r,e]),s=j.useMemo(()=>r.map(f=>{const m=f.stock[e]||0,x=f.retailPrice[e]||0;return{...f,totalValue:m*x}}).filter(f=>f.totalValue>0).sort((f,m)=>m.totalValue-f.totalValue).slice(0,10),[r,e]),o=j.useMemo(()=>r.reduce((f,m)=>{const x=m.stock[e]||0,p=m.retailPrice[e]||0;return f+x*p},0),[r,e]),c=j.useMemo(()=>{const f=new Date;f.setDate(f.getDate()-30);const m=new Map;return t.filter(x=>new Date(x.date)>=f).forEach(x=>{const p=x.date.slice(0,10),y=m.get(p)||{in:0,out:0};x.type==="Nhp kho"?y.in+=x.quantity:y.out+=x.quantity,m.set(p,y)}),Array.from(m.entries()).map(([x,p])=>({date:new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),"Nhp kho":p.in,"Xut kho":p.out})).slice(-14)},[t]),d=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Tng gi tr tn kho"}),u.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:qe(o)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"Tng sn phm"}),u.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:r.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mb-2",children:"Sp ht hng"}),u.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:n.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Ht hng"}),u.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:i})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Gi tr theo danh mc"}),u.jsx(Su,{width:"100%",height:300,children:u.jsxs(Gz,{children:[u.jsx(Cj,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:f=>`${f.name}: ${(f.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:a.map((f,m)=>u.jsx(Mg,{fill:d[m%d.length]},`cell-${m}`))}),u.jsx(ju,{formatter:f=>qe(f),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Nhp/Xut kho (14 ngy gn nht)"}),u.jsx(Su,{width:"100%",height:300,children:u.jsxs(zj,{data:c,children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Gh,{}),u.jsx(hf,{type:"monotone",dataKey:"Nhp kho",stroke:"#10b981",strokeWidth:2}),u.jsx(hf,{type:"monotone",dataKey:"Xut kho",stroke:"#ef4444",strokeWidth:2})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Top 10 sn phm gi tr cao"}),u.jsx("div",{className:"space-y-3",children:s.map((f,m)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-sm font-bold text-blue-600 dark:text-blue-400",children:m+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:f.name}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Tn: ",f.stock[e]||0]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:qe(f.totalValue)}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[qe(f.retailPrice[e]||0),"/sp"]})]})]},f.id))})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"inline-flex",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})})}),"Cnh bo tn kho thp"]}),u.jsxs("div",{className:"space-y-3",children:[n.map(f=>{const m=f.stock[e]||0,x=m<=3?"critical":m<=5?"warning":"low";return u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${x==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":x==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800":"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800"}`,children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:f.name}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["SKU: ",f.sku]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x==="critical"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":x==="warning"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:[m," cn li"]})})]},f.id)}),n.length===0&&u.jsxs("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400 flex items-center justify-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Tt c sn phm u cn  hng"]})]})]})]})]})},qSe=()=>{const{sales:e,parts:t,currentBranchId:r}=_i(),[a,n]=j.useState("30days"),i=j.useMemo(()=>{if(a==="all")return e;const m=a==="7days"?7:a==="30days"?30:90,x=new Date;return x.setDate(x.getDate()-m),e.filter(p=>new Date(p.date)>=x)},[e,a]),s=j.useMemo(()=>{const m=i.reduce((v,b)=>v+b.total,0),x=i.length,p=i.reduce((v,b)=>v+b.items.reduce((k,N)=>k+N.quantity,0),0),y=x>0?m/x:0;return{totalRevenue:m,totalOrders:x,totalItems:p,avgOrderValue:y}},[i]),o=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{const p=x.date.slice(0,10);m.set(p,(m.get(p)||0)+x.total)}),Array.from(m.entries()).map(([x,p])=>({date:new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),revenue:Math.round(p)})).sort((x,p)=>x.date.localeCompare(p.date)).slice(-30)},[i]),c=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{x.items.forEach(p=>{const y=m.get(p.partId),v=t.find(k=>k.id===p.partId),b=(v==null?void 0:v.name)||"Sn phm khng xc nh";y?(y.quantity+=p.quantity,y.revenue+=p.sellingPrice*p.quantity):m.set(p.partId,{quantity:p.quantity,revenue:p.sellingPrice*p.quantity,partName:b})})}),Array.from(m.entries()).map(([x,p])=>({id:x,name:p.partName,quantity:p.quantity,revenue:Math.round(p.revenue)})).sort((x,p)=>p.revenue-x.revenue).slice(0,10)},[i,t]),d=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{m.set(x.paymentMethod,(m.get(x.paymentMethod)||0)+x.total)}),Array.from(m.entries()).map(([x,p])=>({method:x,revenue:Math.round(p)})).sort((x,p)=>p.revenue-x.revenue)},[i]),f=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{const p=new Date(x.date).getHours();m.set(p,(m.get(p)||0)+1)}),Array.from({length:24},(x,p)=>({hour:`${p}h`,orders:m.get(p)||0}))},[i]);return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex gap-2",children:[{value:"7days",label:"7 ngy"},{value:"30days",label:"30 ngy"},{value:"90days",label:"90 ngy"},{value:"all",label:"Tt c"}].map(m=>u.jsx("button",{onClick:()=>n(m.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===m.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:m.label},m.value))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Doanh thu"}),u.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:qe(s.totalRevenue)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"n hng"}),u.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:s.totalOrders})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mb-2",children:"Sn phm bn"}),u.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:s.totalItems})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[u.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Gi tr TB/n"}),u.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:qe(s.avgOrderValue)})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Xu hng doanh thu"}),u.jsx(Su,{width:"100%",height:300,children:u.jsxs(xge,{data:o,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{formatter:m=>qe(m),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Dz,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Phng thc thanh ton"}),u.jsx(Su,{width:"100%",height:300,children:u.jsxs(LS,{data:d,children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"method",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{formatter:m=>qe(m),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Lh,{dataKey:"revenue",fill:"#10b981",radius:[8,8,0,0]})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Phn b theo gi"}),u.jsx(Su,{width:"100%",height:300,children:u.jsxs(zj,{data:f,children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"hour",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(hf,{type:"monotone",dataKey:"orders",stroke:"#f59e0b",strokeWidth:2})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Top 10 sn phm bn chy"}),u.jsxs("div",{className:"space-y-3",children:[c.map((m,x)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-sm font-bold text-emerald-600 dark:text-emerald-400",children:x+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:m.name}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[" bn: ",m.quantity]})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:qe(m.revenue)})})]},m.id)),c.length===0&&u.jsx("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400",children:"Cha c d liu bn hng"})]})]})]})]})},$Se=()=>{const{sales:e,parts:t,inventoryTransactions:r,customerDebts:a,supplierDebts:n,currentBranchId:i}=_i(),[s,o]=j.useState("30days"),c=()=>{if(s==="all")return new Date(0);const N=s==="7days"?7:s==="30days"?30:90,_=new Date;return _.setDate(_.getDate()-N),_},d=j.useMemo(()=>{const N=c();return e.filter(_=>new Date(_.date)>=N).reduce((_,T)=>_+T.total,0)},[e,s]),f=j.useMemo(()=>{const N=c();return r.filter(_=>_.type==="Nhp kho"&&new Date(_.date)>=N).reduce((_,T)=>{var R;const L=t.find(U=>U.id===T.partId),D=((R=L==null?void 0:L.wholesalePrice)==null?void 0:R[i])||0;return _+D*T.quantity},0)},[r,t,i,s]),m=d-f,x=d>0?m/d*100:0,p=j.useMemo(()=>{const N=c(),_=new Map;return e.filter(T=>new Date(T.date)>=N).forEach(T=>{const L=T.date.slice(0,10),D=_.get(L)||{income:0,expense:0};D.income+=T.total,_.set(L,D)}),r.filter(T=>T.type==="Nhp kho"&&new Date(T.date)>=N).forEach(T=>{var F;const L=T.date.slice(0,10),D=t.find(W=>W.id===T.partId),R=((F=D==null?void 0:D.wholesalePrice)==null?void 0:F[i])||0,U=_.get(L)||{income:0,expense:0};U.expense+=R*T.quantity,_.set(L,U)}),Array.from(_.entries()).map(([T,L])=>({date:new Date(T).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),income:Math.round(L.income),expense:Math.round(L.expense),profit:Math.round(L.income-L.expense)})).sort((T,L)=>T.date.localeCompare(L.date)).slice(-30)},[e,r,t,i,s]),y=j.useMemo(()=>{const N=a.reduce((T,L)=>T+L.remainingAmount,0),_=a.filter(T=>T.remainingAmount>0).length;return{totalDebt:N,overdueCount:_,count:a.length}},[a]),v=j.useMemo(()=>{const N=n.reduce((T,L)=>T+L.remainingAmount,0),_=n.filter(T=>T.remainingAmount>0).length;return{totalDebt:N,overdueCount:_,count:n.length}},[n]),b=j.useMemo(()=>[...a].filter(N=>N.remainingAmount>0).sort((N,_)=>_.remainingAmount-N.remainingAmount).slice(0,5),[a]),k=j.useMemo(()=>t.reduce((N,_)=>{const T=_.stock[i]||0,L=_.retailPrice[i]||0;return N+T*L},0),[t,i]);return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex gap-2",children:[{value:"7days",label:"7 ngy"},{value:"30days",label:"30 ngy"},{value:"90days",label:"90 ngy"},{value:"all",label:"Tt c"}].map(N=>u.jsx("button",{onClick:()=>o(N.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===N.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:N.label},N.value))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"Thu nhp"}),u.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:qe(d)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Chi ph"}),u.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:qe(f)})]}),u.jsxs("div",{className:`bg-gradient-to-br p-6 rounded-lg border ${m>=0?"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700":"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-700"}`,children:[u.jsx("div",{className:`text-sm font-medium mb-2 ${m>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:"Li nhun"}),u.jsx("div",{className:`text-3xl font-bold ${m>=0?"text-blue-900 dark:text-blue-100":"text-red-900 dark:text-red-100"}`,children:qe(m)}),u.jsxs("div",{className:`text-xs mt-1 ${m>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:["Bin li nhun: ",x.toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[u.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Gi tr tn kho"}),u.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:qe(k)})]})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Thu - Chi - Li nhun"}),u.jsx(Su,{width:"100%",height:350,children:u.jsxs(yge,{data:p,children:[u.jsx(Dd,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Md,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(Au,{stroke:"#94a3b8"}),u.jsx(ju,{formatter:N=>qe(N),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Gh,{}),u.jsx(Lh,{dataKey:"income",fill:"#10b981",name:"Thu nhp"}),u.jsx(Lh,{dataKey:"expense",fill:"#ef4444",name:"Chi ph"}),u.jsx(hf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:3,name:"Li nhun"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cng n khch hng"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Tng cng n"}),u.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:qe(y.totalDebt)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Qu hn"}),u.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:y.overdueCount})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Top 5 khch n nhiu nht"}),u.jsxs("div",{className:"space-y-2",children:[b.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:N.customerName}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Ngy to:"," ",new Date(N.createdDate).toLocaleDateString("vi-VN")]})]}),u.jsx("div",{className:"text-right",children:u.jsx("div",{className:"font-semibold text-amber-600 dark:text-amber-400",children:qe(N.remainingAmount)})})]},N.id)),b.length===0&&u.jsxs("div",{className:"text-center py-4 text-slate-600 dark:text-slate-400 inline-flex items-center justify-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Khng c cng n"]})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cng n nh cung cp"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Tng cng n"}),u.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:qe(v.totalDebt)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Qu hn"}),u.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:v.overdueCount})]})]}),u.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2 inline-flex items-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:[u.jsx("path",{d:"M11 2a1 1 0 011 1v1.07A7.002 7.002 0 0119 11a6.97 6.97 0 01-2.05 4.95A3.5 3.5 0 0014 19.5V20a1 1 0 11-2 0v-.5a3.5 3.5 0 00-2.95-3.45A6.97 6.97 0 017 11a7.002 7.002 0 016-6.93V3a1 1 0 011-1z"}),u.jsx("path",{d:"M13 22a1 1 0 11-2 0 1 1 0 012 0z"})]}),"Mo qun l ti chnh"]}),u.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[u.jsx("li",{children:" Theo di bin li nhun hng thng"}),u.jsx("li",{children:" Gi tn kho  mc hp l"}),u.jsx("li",{children:" Thu hi cng n ng hn"}),u.jsx("li",{children:" m phn iu khon vi nh cung cp"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Khch hng n"}),u.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:y.count})]}),u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"NCC cn tr"}),u.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:v.count})]})]})]})]})]})]})};function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}var Bc=Uint8Array,ll=Uint16Array,DA=Int32Array,LA=new Bc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),MA=new Bc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OL=new Bc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vH=function(e,t){for(var r=new ll(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var n=new DA(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)n[i]=i-r[a]<<5|a;return{b:r,r:n}},yH=vH(LA,2),HSe=yH.b,QS=yH.r;HSe[28]=258,QS[258]=28;var WSe=vH(MA,0),PL=WSe.r,JS=new ll(32768);for(var cn=0;cn<32768;++cn){var H0=(cn&43690)>>1|(cn&21845)<<1;H0=(H0&52428)>>2|(H0&13107)<<2,H0=(H0&61680)>>4|(H0&3855)<<4,JS[cn]=((H0&65280)>>8|(H0&255)<<8)>>1}var i1=(function(e,t,r){for(var a=e.length,n=0,i=new ll(t);n<a;++n)e[n]&&++i[e[n]-1];var s=new ll(t);for(n=1;n<t;++n)s[n]=s[n-1]+i[n-1]<<1;var o;if(r){o=new ll(1<<t);var c=15-t;for(n=0;n<a;++n)if(e[n])for(var d=n<<4|e[n],f=t-e[n],m=s[e[n]-1]++<<f,x=m|(1<<f)-1;m<=x;++m)o[JS[m]>>c]=d}else for(o=new ll(a),n=0;n<a;++n)e[n]&&(o[n]=JS[s[e[n]-1]++]>>15-e[n]);return o}),om=new Bc(288);for(var cn=0;cn<144;++cn)om[cn]=8;for(var cn=144;cn<256;++cn)om[cn]=9;for(var cn=256;cn<280;++cn)om[cn]=7;for(var cn=280;cn<288;++cn)om[cn]=8;var q2=new Bc(32);for(var cn=0;cn<32;++cn)q2[cn]=5;var VSe=i1(om,9,0),KSe=i1(q2,5,0),bH=function(e){return(e+7)/8|0},GSe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Bc(e.subarray(t,r))},md=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},Rx=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},E_=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var n=r.length,i=r.slice();if(!n)return{t:kH,l:0};if(n==1){var s=new Bc(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(L,D){return L.f-D.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,f=1,m=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=n-1;)o=r[r[d].f<r[m].f?d++:m++],c=r[d!=f&&r[d].f<r[m].f?d++:m++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var x=i[0].s,a=1;a<n;++a)i[a].s>x&&(x=i[a].s);var p=new ll(x+1),y=ZS(r[f-1],p,0);if(y>t){var a=0,v=0,b=y-t,k=1<<b;for(i.sort(function(D,R){return p[R.s]-p[D.s]||D.f-R.f});a<n;++a){var N=i[a].s;if(p[N]>t)v+=k-(1<<y-p[N]),p[N]=t;else break}for(v>>=b;v>0;){var _=i[a].s;p[_]<t?v-=1<<t-p[_]++-1:++a}for(;a>=0&&v;--a){var T=i[a].s;p[T]==t&&(--p[T],++v)}y=t}return{t:new Bc(p),l:y}},ZS=function(e,t,r){return e.s==-1?Math.max(ZS(e.l,t,r+1),ZS(e.r,t,r+1)):t[e.s]=r},DL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ll(++t),a=0,n=e[0],i=1,s=function(c){r[a++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(n),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(n);i=1,n=e[o]}return{c:r.subarray(0,a),n:t}},Ix=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},wH=function(e,t,r){var a=r.length,n=bH(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<a;++i)e[n+i+4]=r[i];return(n+4+a)*8},LL=function(e,t,r,a,n,i,s,o,c,d,f){md(t,f++,r),++n[256];for(var m=E_(n,15),x=m.t,p=m.l,y=E_(i,15),v=y.t,b=y.l,k=DL(x),N=k.c,_=k.n,T=DL(v),L=T.c,D=T.n,R=new ll(19),U=0;U<N.length;++U)++R[N[U]&31];for(var U=0;U<L.length;++U)++R[L[U]&31];for(var F=E_(R,7),W=F.t,O=F.l,M=19;M>4&&!W[OL[M-1]];--M);var H=d+5<<3,Y=Ix(n,om)+Ix(i,q2)+s,ne=Ix(n,x)+Ix(i,v)+s+14+3*M+Ix(R,W)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&H<=Y&&H<=ne)return wH(t,f,e.subarray(c,c+d));var X,re,fe,ce;if(md(t,f,1+(ne<Y)),f+=2,ne<Y){X=i1(x,p,0),re=x,fe=i1(v,b,0),ce=v;var ke=i1(W,O,0);md(t,f,_-257),md(t,f+5,D-1),md(t,f+10,M-4),f+=14;for(var U=0;U<M;++U)md(t,f+3*U,W[OL[U]]);f+=3*M;for(var Z=[N,L],P=0;P<2;++P)for(var q=Z[P],U=0;U<q.length;++U){var V=q[U]&31;md(t,f,ke[V]),f+=W[V],V>15&&(md(t,f,q[U]>>5&127),f+=q[U]>>12)}}else X=VSe,re=om,fe=KSe,ce=q2;for(var U=0;U<o;++U){var z=a[U];if(z>255){var V=z>>18&31;Rx(t,f,X[V+257]),f+=re[V+257],V>7&&(md(t,f,z>>23&31),f+=LA[V]);var Q=z&31;Rx(t,f,fe[Q]),f+=ce[Q],Q>3&&(Rx(t,f,z>>5&8191),f+=MA[Q])}else Rx(t,f,X[z]),f+=re[z]}return Rx(t,f,X[256]),f+re[256]},YSe=new DA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kH=new Bc(0),XSe=function(e,t,r,a,n,i){var s=i.z||e.length,o=new Bc(a+s+5*(1+Math.ceil(s/7e3))+n),c=o.subarray(a,o.length-n),d=i.l,f=(i.r||0)&7;if(t){f&&(c[0]=i.r>>3);for(var m=YSe[t-1],x=m>>13,p=m&8191,y=(1<<r)-1,v=i.p||new ll(32768),b=i.h||new ll(y+1),k=Math.ceil(r/3),N=2*k,_=function(be){return(e[be]^e[be+1]<<k^e[be+2]<<N)&y},T=new DA(25e3),L=new ll(288),D=new ll(32),R=0,U=0,F=i.i||0,W=0,O=i.w||0,M=0;F+2<s;++F){var H=_(F),Y=F&32767,ne=b[H];if(v[Y]=ne,b[H]=Y,O<=F){var X=s-F;if((R>7e3||W>24576)&&(X>423||!d)){f=LL(e,c,0,T,L,D,U,W,M,F-M,f),W=R=U=0,M=F;for(var re=0;re<286;++re)L[re]=0;for(var re=0;re<30;++re)D[re]=0}var fe=2,ce=0,ke=p,Z=Y-ne&32767;if(X>2&&H==_(F-Z))for(var P=Math.min(x,X)-1,q=Math.min(32767,F),V=Math.min(258,X);Z<=q&&--ke&&Y!=ne;){if(e[F+fe]==e[F+fe-Z]){for(var z=0;z<V&&e[F+z]==e[F+z-Z];++z);if(z>fe){if(fe=z,ce=Z,z>P)break;for(var Q=Math.min(Z,z-2),de=0,re=0;re<Q;++re){var Ee=F-Z+re&32767,ie=v[Ee],je=Ee-ie&32767;je>de&&(de=je,ne=Ee)}}}Y=ne,ne=v[Y],Z+=Y-ne&32767}if(ce){T[W++]=268435456|QS[fe]<<18|PL[ce];var Me=QS[fe]&31,J=PL[ce]&31;U+=LA[Me]+MA[J],++L[257+Me],++D[J],O=F+fe,++R}else T[W++]=e[F],++L[e[F]]}}for(F=Math.max(F,O);F<s;++F)T[W++]=e[F],++L[e[F]];f=LL(e,c,d,T,L,D,U,W,M,F-M,f),d||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=b,i.p=v,i.i=F,i.w=O)}else{for(var F=i.w||0;F<s+d;F+=65535){var ge=F+65535;ge>=s&&(c[f/8|0]=d,ge=s),f=wH(c,f+1,e.subarray(F,ge))}i.i=s}return GSe(o,0,a+bH(f)+n)},_H=function(){var e=1,t=0;return{p:function(r){for(var a=e,n=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)n+=a+=r[s];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},QSe=function(e,t,r,a,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Bc(i.length+e.length);s.set(i),s.set(e,i.length),e=s,n.w=i.length}return XSe(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,n)},SH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},JSe=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=_H();n.p(t.dictionary),SH(e,2,n.d())}};function eN(e,t){t||(t={});var r=_H();r.p(e);var a=QSe(e,t,t.dictionary?6:2,4);return JSe(a,t),SH(a,a.length-4,r.d()),a}var ZSe=typeof TextDecoder<"u"&&new TextDecoder,eNe=0;try{ZSe.decode(kH,{stream:!0}),eNe=1}catch{}function tNe(e){if(Array.isArray(e))return e}function rNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,s,o=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(f){d=!0,n=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw n}}return o}}function ML(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function aNe(e,t){if(e){if(typeof e=="string")return ML(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ML(e,t):void 0}}function nNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(e,t){return tNe(e)||rNe(e,t)||aNe(e,t)||nNe()}function IL(e,t="utf8"){return new TextDecoder(t).decode(e)}const iNe=new TextEncoder;function sNe(e){return iNe.encode(e)}const oNe=1024*8,lNe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),C_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class RA{constructor(t=oNe,r={}){da(this,"buffer");da(this,"byteLength");da(this,"byteOffset");da(this,"length");da(this,"offset");da(this,"lastWrittenByte");da(this,"littleEndian");da(this,"_data");da(this,"_mark");da(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=r.offset?r.offset>>>0:0,i=t.byteLength-n;let s=n;(ArrayBuffer.isView(t)||t instanceof RA)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=C_[r].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===lNe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+a));o.reverse();const c=new C_[r](o.buffer);return this.offset+=a,c.reverse(),c}const s=new C_[r](i);return this.offset+=a,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return IL(this.readBytes(t))}decodeText(t=1,r="utf8"){return IL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(sNe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ug(e){let t=e.length;for(;--t>=0;)e[t]=0}const cNe=3,uNe=258,NH=29,dNe=256,fNe=dNe+1+NH,jH=30,hNe=512,mNe=new Array((fNe+2)*2);Ug(mNe);const pNe=new Array(jH*2);Ug(pNe);const gNe=new Array(hNe);Ug(gNe);const xNe=new Array(uNe-cNe+1);Ug(xNe);const vNe=new Array(NH);Ug(vNe);const yNe=new Array(jH);Ug(yNe);const bNe=(e,t,r,a)=>{let n=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do n=n+t[a++]|0,i=i+n|0;while(--s);n%=65521,i%=65521}return n|i<<16|0};var tN=bNe;const wNe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},kNe=new Uint32Array(wNe()),_Ne=(e,t,r,a)=>{const n=kNe,i=a+r;e^=-1;for(let s=a;s<i;s++)e=e>>>8^n[(e^t[s])&255];return e^-1};var pu=_Ne,rN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},AH={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const SNe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var NNe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)SNe(r,a)&&(e[a]=r[a])}}return e},jNe=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,n=0,i=e.length;a<i;a++){let s=e[a];r.set(s,n),n+=s.length}return r},TH={assign:NNe,flattenChunks:jNe};let EH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EH=!1}const z1=new Uint8Array(256);for(let e=0;e<256;e++)z1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;z1[254]=z1[254]=1;var ANe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,n,i,s=e.length,o=0;for(n=0;n<s;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const TNe=(e,t)=>{if(t<65534&&e.subarray&&EH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var ENe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const i=new Array(r*2);for(n=0,a=0;a<r;){let s=e[a++];if(s<128){i[n++]=s;continue}let o=z1[s];if(o>4){i[n++]=65533,a+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&a<r;)s=s<<6|e[a++]&63,o--;if(o>1){i[n++]=65533;continue}s<65536?i[n++]=s:(s-=65536,i[n++]=55296|s>>10&1023,i[n++]=56320|s&1023)}return TNe(i,n)},CNe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+z1[e[r]]>t?r:t},aN={string2buf:ANe,buf2string:ENe,utf8border:CNe};function ONe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var PNe=ONe;const lb=16209,DNe=16191;var LNe=function(t,r){let a,n,i,s,o,c,d,f,m,x,p,y,v,b,k,N,_,T,L,D,R,U,F,W;const O=t.state;a=t.next_in,F=t.input,n=a+(t.avail_in-5),i=t.next_out,W=t.output,s=i-(r-t.avail_out),o=i+(t.avail_out-257),c=O.dmax,d=O.wsize,f=O.whave,m=O.wnext,x=O.window,p=O.hold,y=O.bits,v=O.lencode,b=O.distcode,k=(1<<O.lenbits)-1,N=(1<<O.distbits)-1;e:do{y<15&&(p+=F[a++]<<y,y+=8,p+=F[a++]<<y,y+=8),_=v[p&k];t:for(;;){if(T=_>>>24,p>>>=T,y-=T,T=_>>>16&255,T===0)W[i++]=_&65535;else if(T&16){L=_&65535,T&=15,T&&(y<T&&(p+=F[a++]<<y,y+=8),L+=p&(1<<T)-1,p>>>=T,y-=T),y<15&&(p+=F[a++]<<y,y+=8,p+=F[a++]<<y,y+=8),_=b[p&N];r:for(;;){if(T=_>>>24,p>>>=T,y-=T,T=_>>>16&255,T&16){if(D=_&65535,T&=15,y<T&&(p+=F[a++]<<y,y+=8,y<T&&(p+=F[a++]<<y,y+=8)),D+=p&(1<<T)-1,D>c){t.msg="invalid distance too far back",O.mode=lb;break e}if(p>>>=T,y-=T,T=i-s,D>T){if(T=D-T,T>f&&O.sane){t.msg="invalid distance too far back",O.mode=lb;break e}if(R=0,U=x,m===0){if(R+=d-T,T<L){L-=T;do W[i++]=x[R++];while(--T);R=i-D,U=W}}else if(m<T){if(R+=d+m-T,T-=m,T<L){L-=T;do W[i++]=x[R++];while(--T);if(R=0,m<L){T=m,L-=T;do W[i++]=x[R++];while(--T);R=i-D,U=W}}}else if(R+=m-T,T<L){L-=T;do W[i++]=x[R++];while(--T);R=i-D,U=W}for(;L>2;)W[i++]=U[R++],W[i++]=U[R++],W[i++]=U[R++],L-=3;L&&(W[i++]=U[R++],L>1&&(W[i++]=U[R++]))}else{R=i-D;do W[i++]=W[R++],W[i++]=W[R++],W[i++]=W[R++],L-=3;while(L>2);L&&(W[i++]=W[R++],L>1&&(W[i++]=W[R++]))}}else if((T&64)===0){_=b[(_&65535)+(p&(1<<T)-1)];continue r}else{t.msg="invalid distance code",O.mode=lb;break e}break}}else if((T&64)===0){_=v[(_&65535)+(p&(1<<T)-1)];continue t}else if(T&32){O.mode=DNe;break e}else{t.msg="invalid literal/length code",O.mode=lb;break e}break}}while(a<n&&i<o);L=y>>3,a-=L,y-=L<<3,p&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=i<o?257+(o-i):257-(i-o),O.hold=p,O.bits=y};const _p=15,FL=852,BL=592,UL=0,O_=1,zL=2,MNe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RNe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),INe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FNe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BNe=(e,t,r,a,n,i,s,o)=>{const c=o.bits;let d=0,f=0,m=0,x=0,p=0,y=0,v=0,b=0,k=0,N=0,_,T,L,D,R,U=null,F;const W=new Uint16Array(_p+1),O=new Uint16Array(_p+1);let M=null,H,Y,ne;for(d=0;d<=_p;d++)W[d]=0;for(f=0;f<a;f++)W[t[r+f]]++;for(p=c,x=_p;x>=1&&W[x]===0;x--);if(p>x&&(p=x),x===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<x&&W[m]===0;m++);for(p<m&&(p=m),b=1,d=1;d<=_p;d++)if(b<<=1,b-=W[d],b<0)return-1;if(b>0&&(e===UL||x!==1))return-1;for(O[1]=0,d=1;d<_p;d++)O[d+1]=O[d]+W[d];for(f=0;f<a;f++)t[r+f]!==0&&(s[O[t[r+f]]++]=f);if(e===UL?(U=M=s,F=20):e===O_?(U=MNe,M=RNe,F=257):(U=INe,M=FNe,F=0),N=0,f=0,d=m,R=i,y=p,v=0,L=-1,k=1<<p,D=k-1,e===O_&&k>FL||e===zL&&k>BL)return 1;for(;;){H=d-v,s[f]+1<F?(Y=0,ne=s[f]):s[f]>=F?(Y=M[s[f]-F],ne=U[s[f]-F]):(Y=96,ne=0),_=1<<d-v,T=1<<y,m=T;do T-=_,n[R+(N>>v)+T]=H<<24|Y<<16|ne|0;while(T!==0);for(_=1<<d-1;N&_;)_>>=1;if(_!==0?(N&=_-1,N+=_):N=0,f++,--W[d]===0){if(d===x)break;d=t[r+s[f]]}if(d>p&&(N&D)!==L){for(v===0&&(v=p),R+=m,y=d-v,b=1<<y;y+v<x&&(b-=W[y+v],!(b<=0));)y++,b<<=1;if(k+=1<<y,e===O_&&k>FL||e===zL&&k>BL)return 1;L=N&D,n[L]=p<<24|y<<16|R-i|0}}return N!==0&&(n[R+N]=d-v<<24|64<<16|0),o.bits=p,0};var s1=BNe;const UNe=0,CH=1,OH=2,{Z_FINISH:qL,Z_BLOCK:zNe,Z_TREES:cb,Z_OK:lm,Z_STREAM_END:qNe,Z_NEED_DICT:$Ne,Z_STREAM_ERROR:Ql,Z_DATA_ERROR:PH,Z_MEM_ERROR:DH,Z_BUF_ERROR:HNe,Z_DEFLATED:$L}=AH,e5=16180,HL=16181,WL=16182,VL=16183,KL=16184,GL=16185,YL=16186,XL=16187,QL=16188,JL=16189,$2=16190,pd=16191,P_=16192,ZL=16193,D_=16194,e9=16195,t9=16196,r9=16197,a9=16198,ub=16199,db=16200,n9=16201,i9=16202,s9=16203,o9=16204,l9=16205,L_=16206,c9=16207,u9=16208,vn=16209,LH=16210,MH=16211,WNe=852,VNe=592,KNe=15,GNe=KNe,d9=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function YNe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<e5||t.mode>MH?1:0},RH=e=>{if(bm(e))return Ql;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=e5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(WNe),t.distcode=t.distdyn=new Int32Array(VNe),t.sane=1,t.back=-1,lm},IH=e=>{if(bm(e))return Ql;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,RH(e)},FH=(e,t)=>{let r;if(bm(e))return Ql;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ql:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,IH(e))},BH=(e,t)=>{if(!e)return Ql;const r=new YNe;e.state=r,r.strm=e,r.window=null,r.mode=e5;const a=FH(e,t);return a!==lm&&(e.state=null),a},XNe=e=>BH(e,GNe);let f9=!0,M_,R_;const QNe=e=>{if(f9){M_=new Int32Array(512),R_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s1(CH,e.lens,0,288,M_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s1(OH,e.lens,0,32,R_,0,e.work,{bits:5}),f9=!1}e.lencode=M_,e.lenbits=9,e.distcode=R_,e.distbits=5},UH=(e,t,r,a)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(t.subarray(r-a,r-a+n),i.wnext),a-=n,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},JNe=(e,t)=>{let r,a,n,i,s,o,c,d,f,m,x,p,y,v,b=0,k,N,_,T,L,D,R,U;const F=new Uint8Array(4);let W,O;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bm(e)||!e.output||!e.input&&e.avail_in!==0)return Ql;r=e.state,r.mode===pd&&(r.mode=P_),s=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=r.hold,f=r.bits,m=o,x=c,U=lm;e:for(;;)switch(r.mode){case e5:if(r.wrap===0){r.mode=P_;break}for(;f<16;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=d&255,F[1]=d>>>8&255,r.check=pu(r.check,F,2,0),d=0,f=0,r.mode=HL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=vn;break}if((d&15)!==$L){e.msg="unknown compression method",r.mode=vn;break}if(d>>>=4,f-=4,R=(d&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){e.msg="invalid window size",r.mode=vn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?JL:pd,d=0,f=0;break;case HL:for(;f<16;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==$L){e.msg="unknown compression method",r.mode=vn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=vn;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=pu(r.check,F,2,0)),d=0,f=0,r.mode=WL;case WL:for(;f<32;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,r.check=pu(r.check,F,4,0)),d=0,f=0,r.mode=VL;case VL:for(;f<16;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=pu(r.check,F,2,0)),d=0,f=0,r.mode=KL;case KL:if(r.flags&1024){for(;f<16;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,r.check=pu(r.check,F,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=GL;case GL:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+p),R)),r.flags&512&&r.wrap&4&&(r.check=pu(r.check,a,p,i)),o-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=YL;case YL:if(r.flags&2048){if(o===0)break e;p=0;do R=a[i+p++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=pu(r.check,a,p,i)),o-=p,i+=p,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=XL;case XL:if(r.flags&4096){if(o===0)break e;p=0;do R=a[i+p++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=pu(r.check,a,p,i)),o-=p,i+=p,R)break e}else r.head&&(r.head.comment=null);r.mode=QL;case QL:if(r.flags&512){for(;f<16;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=vn;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=pd;break;case JL:for(;f<32;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}e.adler=r.check=d9(d),d=0,f=0,r.mode=$2;case $2:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=f,$Ne;e.adler=r.check=1,r.mode=pd;case pd:if(t===zNe||t===cb)break e;case P_:if(r.last){d>>>=f&7,f-=f&7,r.mode=L_;break}for(;f<3;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=ZL;break;case 1:if(QNe(r),r.mode=ub,t===cb){d>>>=2,f-=2;break e}break;case 2:r.mode=t9;break;case 3:e.msg="invalid block type",r.mode=vn}d>>>=2,f-=2;break;case ZL:for(d>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=vn;break}if(r.length=d&65535,d=0,f=0,r.mode=D_,t===cb)break e;case D_:r.mode=e9;case e9:if(p=r.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;n.set(a.subarray(i,i+p),s),o-=p,i+=p,c-=p,s+=p,r.length-=p;break}r.mode=pd;break;case t9:for(;f<14;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=vn;break}r.have=0,r.mode=r9;case r9:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}r.lens[M[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},U=s1(UNe,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,U){e.msg="invalid code lengths set",r.mode=vn;break}r.have=0,r.mode=a9;case a9:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[d&(1<<r.lenbits)-1],k=b>>>24,N=b>>>16&255,_=b&65535,!(k<=f);){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(_<16)d>>>=k,f-=k,r.lens[r.have++]=_;else{if(_===16){for(O=k+2;f<O;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(d>>>=k,f-=k,r.have===0){e.msg="invalid bit length repeat",r.mode=vn;break}R=r.lens[r.have-1],p=3+(d&3),d>>>=2,f-=2}else if(_===17){for(O=k+3;f<O;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}d>>>=k,f-=k,R=0,p=3+(d&7),d>>>=3,f-=3}else{for(O=k+7;f<O;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}d>>>=k,f-=k,R=0,p=11+(d&127),d>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=vn;break}for(;p--;)r.lens[r.have++]=R}}if(r.mode===vn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=vn;break}if(r.lenbits=9,W={bits:r.lenbits},U=s1(CH,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,U){e.msg="invalid literal/lengths set",r.mode=vn;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},U=s1(OH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,U){e.msg="invalid distances set",r.mode=vn;break}if(r.mode=ub,t===cb)break e;case ub:r.mode=db;case db:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=f,LNe(e,x),s=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=r.hold,f=r.bits,r.mode===pd&&(r.back=-1);break}for(r.back=0;b=r.lencode[d&(1<<r.lenbits)-1],k=b>>>24,N=b>>>16&255,_=b&65535,!(k<=f);){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(N&&(N&240)===0){for(T=k,L=N,D=_;b=r.lencode[D+((d&(1<<T+L)-1)>>T)],k=b>>>24,N=b>>>16&255,_=b&65535,!(T+k<=f);){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}d>>>=T,f-=T,r.back+=T}if(d>>>=k,f-=k,r.back+=k,r.length=_,N===0){r.mode=l9;break}if(N&32){r.back=-1,r.mode=pd;break}if(N&64){e.msg="invalid literal/length code",r.mode=vn;break}r.extra=N&15,r.mode=n9;case n9:if(r.extra){for(O=r.extra;f<O;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=i9;case i9:for(;b=r.distcode[d&(1<<r.distbits)-1],k=b>>>24,N=b>>>16&255,_=b&65535,!(k<=f);){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if((N&240)===0){for(T=k,L=N,D=_;b=r.distcode[D+((d&(1<<T+L)-1)>>T)],k=b>>>24,N=b>>>16&255,_=b&65535,!(T+k<=f);){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}d>>>=T,f-=T,r.back+=T}if(d>>>=k,f-=k,r.back+=k,N&64){e.msg="invalid distance code",r.mode=vn;break}r.offset=_,r.extra=N&15,r.mode=s9;case s9:if(r.extra){for(O=r.extra;f<O;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=vn;break}r.mode=o9;case o9:if(c===0)break e;if(p=x-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=vn;break}p>r.wnext?(p-=r.wnext,y=r.wsize-p):y=r.wnext-p,p>r.length&&(p=r.length),v=r.window}else v=n,y=s-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do n[s++]=v[y++];while(--p);r.length===0&&(r.mode=db);break;case l9:if(c===0)break e;n[s++]=r.length,c--,r.mode=db;break;case L_:if(r.wrap){for(;f<32;){if(o===0)break e;o--,d|=a[i++]<<f,f+=8}if(x-=c,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?pu(r.check,n,x,s-x):tN(r.check,n,x,s-x)),x=c,r.wrap&4&&(r.flags?d:d9(d))!==r.check){e.msg="incorrect data check",r.mode=vn;break}d=0,f=0}r.mode=c9;case c9:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break e;o--,d+=a[i++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=vn;break}d=0,f=0}r.mode=u9;case u9:U=qNe;break e;case vn:U=PH;break e;case LH:return DH;case MH:default:return Ql}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=f,(r.wsize||x!==e.avail_out&&r.mode<vn&&(r.mode<L_||t!==qL))&&UH(e,e.output,e.next_out,x-e.avail_out),m-=e.avail_in,x-=e.avail_out,e.total_in+=m,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?pu(r.check,n,x,e.next_out-x):tN(r.check,n,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===pd?128:0)+(r.mode===ub||r.mode===D_?256:0),(m===0&&x===0||t===qL)&&U===lm&&(U=HNe),U},ZNe=e=>{if(bm(e))return Ql;let t=e.state;return t.window&&(t.window=null),e.state=null,lm},e6e=(e,t)=>{if(bm(e))return Ql;const r=e.state;return(r.wrap&2)===0?Ql:(r.head=t,t.done=!1,lm)},t6e=(e,t)=>{const r=t.length;let a,n,i;return bm(e)||(a=e.state,a.wrap!==0&&a.mode!==$2)?Ql:a.mode===$2&&(n=1,n=tN(n,t,r,0),n!==a.check)?PH:(i=UH(e,t,r,r),i?(a.mode=LH,DH):(a.havedict=1,lm))};var r6e=IH,a6e=FH,n6e=RH,i6e=XNe,s6e=BH,o6e=JNe,l6e=ZNe,c6e=e6e,u6e=t6e,d6e="pako inflate (from Nodeca project)",vd={inflateReset:r6e,inflateReset2:a6e,inflateResetKeep:n6e,inflateInit:i6e,inflateInit2:s6e,inflate:o6e,inflateEnd:l6e,inflateGetHeader:c6e,inflateSetDictionary:u6e,inflateInfo:d6e};function f6e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var h6e=f6e;const zH=Object.prototype.toString,{Z_NO_FLUSH:m6e,Z_FINISH:p6e,Z_OK:q1,Z_STREAM_END:I_,Z_NEED_DICT:F_,Z_STREAM_ERROR:g6e,Z_DATA_ERROR:h9,Z_MEM_ERROR:x6e}=AH;function Cv(e){this.options=TH.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new PNe,this.strm.avail_out=0;let r=vd.inflateInit2(this.strm,t.windowBits);if(r!==q1)throw new Error(rN[r]);if(this.header=new h6e,vd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=aN.string2buf(t.dictionary):zH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=vd.inflateSetDictionary(this.strm,t.dictionary),r!==q1)))throw new Error(rN[r])}Cv.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?p6e:m6e,zH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=vd.inflate(r,s),i===F_&&n&&(i=vd.inflateSetDictionary(r,n),i===q1?i=vd.inflate(r,s):i===h9&&(i=F_));r.avail_in>0&&i===I_&&r.state.wrap>0&&e[r.next_in]!==0;)vd.inflateReset(r),i=vd.inflate(r,s);switch(i){case g6e:case h9:case F_:case x6e:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===I_))if(this.options.to==="string"){let c=aN.utf8border(r.output,r.next_out),d=r.next_out-c,f=aN.buf2string(r.output,c);r.next_out=d,r.avail_out=a-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===q1&&o===0)){if(i===I_)return i=vd.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Cv.prototype.onData=function(e){this.chunks.push(e)};Cv.prototype.onEnd=function(e){e===q1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=TH.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function v6e(e,t){const r=new Cv(t);if(r.push(e),r.err)throw r.msg||rN[r.err];return r.result}var y6e=Cv,b6e=v6e,w6e={Inflate:y6e,inflate:b6e};const{Inflate:k6e,inflate:_6e}=w6e;var m9=k6e,S6e=_6e;const qH=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;qH[e]=t}const p9=4294967295;function N6e(e,t,r){let a=e;for(let n=0;n<r;n++)a=qH[(a^t[n])&255]^a>>>8;return a}function j6e(e,t){return(N6e(p9,e,t)^p9)>>>0}function g9(e,t,r){const a=e.readUint32(),n=j6e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${n}`)}function $H(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function HH(e,t,r,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<r;n++)t[n]=e[n]+t[n-a]&255}function WH(e,t,r,a){let n=0;if(r.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+r[n]&255}function VH(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-n]+r[i]>>1)&255}}function KH(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+A6e(t[i-n],r[i],r[i-n])&255}}function A6e(e,t,r){const a=e+t-r,n=Math.abs(a-e),i=Math.abs(a-t),s=Math.abs(a-r);return n<=i&&n<=s?e:i<=s?t:r}function T6e(e,t,r,a,n,i){switch(e){case 0:$H(t,r,n);break;case 1:HH(t,r,n,i);break;case 2:WH(t,r,a,n);break;case 3:VH(t,r,a,n,i);break;case 4:KH(t,r,a,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const E6e=new Uint16Array([255]),C6e=new Uint8Array(E6e.buffer),O6e=C6e[0]===255;function P6e(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(a*r*o);let d=0;for(let f=0;f<7;f++){const m=s[f],x=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((a-m.y)/m.yStep);if(x<=0||p<=0)continue;const y=x*o,v=new Uint8Array(y);for(let b=0;b<p;b++){const k=t[d++],N=t.subarray(d,d+y);d+=y;const _=new Uint8Array(y);T6e(k,N,_,v,y,o),v.set(_);for(let T=0;T<x;T++){const L=m.x+T*m.xStep,D=m.y+b*m.yStep;if(!(L>=r||D>=a))for(let R=0;R<o;R++)c[(D*r+L)*o+R]=_[T*o+R]}}}if(i===16){const f=new Uint16Array(c.buffer);if(O6e)for(let m=0;m<f.length;m++)f[m]=D6e(f[m]);return f}else return c}function D6e(e){return(e&255)<<8|e>>8&255}const L6e=new Uint16Array([255]),M6e=new Uint8Array(L6e.buffer),R6e=M6e[0]===255,I6e=new Uint8Array(0);function x9(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,s=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*r),c=new Uint8Array(a*o);let d=I6e,f=0,m,x;for(let p=0;p<a;p++){switch(m=t.subarray(f+1,f+1+o),x=c.subarray(p*o,(p+1)*o),t[f]){case 0:$H(m,x,o);break;case 1:HH(m,x,o,s);break;case 2:WH(m,x,d,o);break;case 3:VH(m,x,d,o,s);break;case 4:KH(m,x,d,o,s);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}d=x,f+=o+1}if(i===16){const p=new Uint16Array(c.buffer);if(R6e)for(let y=0;y<p.length;y++)p[y]=F6e(p[y]);return p}else return c}function F6e(e){return(e&255)<<8|e>>8&255}const Sb=Uint8Array.of(137,80,78,71,13,10,26,10);function v9(e){if(!B6e(e.readBytes(Sb.length)))throw new Error("wrong PNG signature")}function B6e(e){if(e.length<Sb.length)return!1;for(let t=0;t<Sb.length;t++)if(e[t]!==Sb[t])return!1;return!0}const U6e="tEXt",z6e=0,GH=new TextDecoder("latin1");function q6e(e){if(H6e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const $6e=/^[\u0000-\u00FF]*$/;function H6e(e){if(!$6e.test(e))throw new Error("invalid latin1 text")}function W6e(e,t,r){const a=YH(t);e[a]=V6e(t,r-a.length-1)}function YH(e){for(e.mark();e.readByte()!==z6e;);const t=e.offset;e.reset();const r=GH.decode(e.readBytes(t-e.offset-1));return e.skip(1),q6e(r),r}function V6e(e,t){return GH.decode(e.readBytes(t))}const Yo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},B_={UNKNOWN:-1,DEFLATE:0},y9={UNKNOWN:-1,ADAPTIVE:0},U_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fb={NONE:0,BACKGROUND:1,PREVIOUS:2},z_={SOURCE:0,OVER:1};class K6e extends RA{constructor(r,a={}){super(r);da(this,"_checkCrc");da(this,"_inflator");da(this,"_png");da(this,"_apng");da(this,"_end");da(this,"_hasPalette");da(this,"_palette");da(this,"_hasTransparency");da(this,"_transparency");da(this,"_compressionMethod");da(this,"_filterMethod");da(this,"_interlaceMethod");da(this,"_colorType");da(this,"_isAnimated");da(this,"_numberOfFrames");da(this,"_numberOfPlays");da(this,"_frames");da(this,"_writingDataChunks");const{checkCrc:n=!1}=a;this._checkCrc=n,this._inflator=new m9,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=B_.UNKNOWN,this._filterMethod=y9.UNKNOWN,this._interlaceMethod=U_.UNKNOWN,this._colorType=Yo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(v9(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(v9(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const n=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case U6e:W6e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?g9(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const n=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=n+r;break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?g9(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=G6e(this.readUint8());const a=this.readUint8();this._colorType=a;let n;switch(a){case Yo.GREYSCALE:n=1;break;case Yo.TRUECOLOUR:n=3;break;case Yo.INDEXED_COLOUR:n=1;break;case Yo.GREYSCALE_ALPHA:n=2;break;case Yo.TRUECOLOUR_ALPHA:n=4;break;case Yo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==B_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<a;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,n=this.offset+this.byteOffset;if(n+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Yo.GREYSCALE:case Yo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Yo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const n=this.readByte();this._palette[a].push(n)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Yo.UNKNOWN:case Yo.GREYSCALE_ALPHA:case Yo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=YH(this),n=this.readUint8();if(n!==B_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:S6e(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),n=this.readByte();this._png.resolution={x:r,y:a,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(r);if(n){if(n.data=x9({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)a.data=n.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(n,i,a),this.addFrameDataToCanvas(a,n)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,n){switch(r.disposeOp){case fb.NONE:break;case fb.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[o+c]=0}break;case fb.PREVIOUS:n.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const n=1<<this._png.depth,i=(s,o)=>{const c=((s+a.yOffset)*this._png.width+a.xOffset+o)*this._png.channels,d=(s*a.width+o)*this._png.channels;return{index:c,frameIndex:d}};switch(a.blendOp){case z_.SOURCE:for(let s=0;s<a.height;s++)for(let o=0;o<a.width;o++){const{index:c,frameIndex:d}=i(s,o);for(let f=0;f<this._png.channels;f++)r.data[c+f]=a.data[d+f]}break;case z_.OVER:for(let s=0;s<a.height;s++)for(let o=0;o<a.width;o++){const{index:c,frameIndex:d}=i(s,o);for(let f=0;f<this._png.channels;f++){const m=a.data[d+this._png.channels-1]/n,x=f%(this._png.channels-1)===0?1:a.data[d+f],p=Math.floor(m*x+(1-m)*r.data[c+f]);r.data[c+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==y9.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===U_.NO_INTERLACE)this._png.data=x9({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===U_.ADAM7)this._png.data=P6e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fb.NONE,blendOp:z_.SOURCE,data:r}),this._inflator=new m9,this._writingDataChunks=!1}}function G6e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var b9;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(b9||(b9={}));function Y6e(e,t){return new K6e(e,t).decode()}var jr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function q_(){jr.console&&typeof jr.console.log=="function"&&jr.console.log.apply(jr.console,arguments)}var Ya={log:q_,warn:function(e){jr.console&&(typeof jr.console.warn=="function"?jr.console.warn.apply(jr.console,arguments):q_.call(null,arguments))},error:function(e){jr.console&&(typeof jr.console.error=="function"?jr.console.error.apply(jr.console,arguments):q_(e))}};function $_(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){ch(a.response,t,r)},a.onerror=function(){Ya.error("could not download file")},a.send()}function w9(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ch=jr.saveAs||((typeof window>"u"?"undefined":Da(window))!=="object"||window!==jr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=jr.URL||jr.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?w9(n.href)?$_(e,t,r):hb(n,n.target="_blank"):hb(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){hb(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(w9(e))$_(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){hb(a)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Da(i)!=="object"&&(Ya.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return $_(e,t,r);var n=e.type==="application/octet-stream",i=/constructor/i.test(jr.HTMLElement)||jr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&i)&&(typeof FileReader>"u"?"undefined":Da(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=f:location=f,a=null},o.readAsDataURL(e)}else{var c=jr.URL||jr.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function XH(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,i=r[a].process,s=n.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var Nb=jr.atob.bind(jr),k9=jr.btoa.bind(jr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function H_(e,t){var r=e[0],a=e[1],n=e[2],i=e[3];r=As(r,a,n,i,t[0],7,-680876936),i=As(i,r,a,n,t[1],12,-389564586),n=As(n,i,r,a,t[2],17,606105819),a=As(a,n,i,r,t[3],22,-1044525330),r=As(r,a,n,i,t[4],7,-176418897),i=As(i,r,a,n,t[5],12,1200080426),n=As(n,i,r,a,t[6],17,-1473231341),a=As(a,n,i,r,t[7],22,-45705983),r=As(r,a,n,i,t[8],7,1770035416),i=As(i,r,a,n,t[9],12,-1958414417),n=As(n,i,r,a,t[10],17,-42063),a=As(a,n,i,r,t[11],22,-1990404162),r=As(r,a,n,i,t[12],7,1804603682),i=As(i,r,a,n,t[13],12,-40341101),n=As(n,i,r,a,t[14],17,-1502002290),r=Ts(r,a=As(a,n,i,r,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Ts(i,r,a,n,t[6],9,-1069501632),n=Ts(n,i,r,a,t[11],14,643717713),a=Ts(a,n,i,r,t[0],20,-373897302),r=Ts(r,a,n,i,t[5],5,-701558691),i=Ts(i,r,a,n,t[10],9,38016083),n=Ts(n,i,r,a,t[15],14,-660478335),a=Ts(a,n,i,r,t[4],20,-405537848),r=Ts(r,a,n,i,t[9],5,568446438),i=Ts(i,r,a,n,t[14],9,-1019803690),n=Ts(n,i,r,a,t[3],14,-187363961),a=Ts(a,n,i,r,t[8],20,1163531501),r=Ts(r,a,n,i,t[13],5,-1444681467),i=Ts(i,r,a,n,t[2],9,-51403784),n=Ts(n,i,r,a,t[7],14,1735328473),r=Es(r,a=Ts(a,n,i,r,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Es(i,r,a,n,t[8],11,-2022574463),n=Es(n,i,r,a,t[11],16,1839030562),a=Es(a,n,i,r,t[14],23,-35309556),r=Es(r,a,n,i,t[1],4,-1530992060),i=Es(i,r,a,n,t[4],11,1272893353),n=Es(n,i,r,a,t[7],16,-155497632),a=Es(a,n,i,r,t[10],23,-1094730640),r=Es(r,a,n,i,t[13],4,681279174),i=Es(i,r,a,n,t[0],11,-358537222),n=Es(n,i,r,a,t[3],16,-722521979),a=Es(a,n,i,r,t[6],23,76029189),r=Es(r,a,n,i,t[9],4,-640364487),i=Es(i,r,a,n,t[12],11,-421815835),n=Es(n,i,r,a,t[15],16,530742520),r=Cs(r,a=Es(a,n,i,r,t[2],23,-995338651),n,i,t[0],6,-198630844),i=Cs(i,r,a,n,t[7],10,1126891415),n=Cs(n,i,r,a,t[14],15,-1416354905),a=Cs(a,n,i,r,t[5],21,-57434055),r=Cs(r,a,n,i,t[12],6,1700485571),i=Cs(i,r,a,n,t[3],10,-1894986606),n=Cs(n,i,r,a,t[10],15,-1051523),a=Cs(a,n,i,r,t[1],21,-2054922799),r=Cs(r,a,n,i,t[8],6,1873313359),i=Cs(i,r,a,n,t[15],10,-30611744),n=Cs(n,i,r,a,t[6],15,-1560198380),a=Cs(a,n,i,r,t[13],21,1309151649),r=Cs(r,a,n,i,t[4],6,-145523070),i=Cs(i,r,a,n,t[11],10,-1120210379),n=Cs(n,i,r,a,t[2],15,718787259),a=Cs(a,n,i,r,t[9],21,-343485551),e[0]=uf(r,e[0]),e[1]=uf(a,e[1]),e[2]=uf(n,e[2]),e[3]=uf(i,e[3])}function t5(e,t,r,a,n,i){return t=uf(uf(t,e),uf(a,i)),uf(t<<n|t>>>32-n,r)}function As(e,t,r,a,n,i,s){return t5(t&r|~t&a,e,t,n,i,s)}function Ts(e,t,r,a,n,i,s){return t5(t&a|r&~a,e,t,n,i,s)}function Es(e,t,r,a,n,i,s){return t5(t^r^a,e,t,n,i,s)}function Cs(e,t,r,a,n,i,s){return t5(r^(t|~a),e,t,n,i,s)}function QH(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)H_(a,X6e(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(H_(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,H_(a,n),a}function X6e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var _9="0123456789abcdef".split("");function Q6e(e){for(var t="",r=0;r<4;r++)t+=_9[e>>8*r+4&15]+_9[e>>8*r&15];return t}function J6e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function nN(e){return QH(e).map(J6e).join("")}var Z6e=(function(e){for(var t=0;t<e.length;t++)e[t]=Q6e(e[t]);return e.join("")})(QH("hello"))!="5d41402abc4b2a76b9719d911017c592";function uf(e,t){if(Z6e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function iN(e,t){var r,a,n,i;if(e!==r){for(var s=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var f=o[c];d=(d+f+s.charCodeAt(c))%256,o[c]=o[d],o[d]=f}r=e,a=o}else o=a;var m=t.length,x=0,p=0,y="";for(c=0;c<m;c++)p=(p+(f=o[x=(x+1)%256]))%256,o[x]=o[p],o[p]=f,s=o[(o[x]+o[p])%256],y+=String.fromCharCode(t.charCodeAt(c)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var S9={print:4,modify:8,copy:16,"annot-forms":32};function Ep(e,t,r,a){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(S9.perm!==void 0)throw new Error("Invalid permission: "+o);n+=S9[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^n)),this.encryptionKey=nN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=iN(this.encryptionKey,this.padding)}function Cp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function N9(e){if(Da(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!n],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,a)}catch(o){jr.console&&Ya.error("jsPDF PubSub Error",o.message,o)}s[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function H2(e){if(!(this instanceof H2))return new H2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function JH(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hh(e,t,r,a,n){if(!(this instanceof hh))return new hh(e,t,r,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,JH.call(this,a,n)}function Dp(e,t,r,a,n){if(!(this instanceof Dp))return new Dp(e,t,r,a,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,JH.call(this,a,n)}function Zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],s=[],o=1,c=16,d="S",f=null;Da(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,n=e.format||n,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),a=a||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=N9;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(I){y=I};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var k=p.__private__.getPageFormat=function(I){return b[I]};n=n||"a4";var N="compat",_="advanced",T=N;function L(){this.saveGraphicsState(),oe(new Xt(bt,0,0,-bt,0,oc()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),d="n",T=_}function D(){this.restoreGraphicsState(),d="S",T=N}var R=p.__private__.combineFontStyleAndFontWeight=function(I,ee){if(I=="bold"&&ee=="normal"||I=="bold"&&ee==400||I=="normal"&&ee=="italic"||I=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(I=ee==400||ee==="normal"?I==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||I!=="normal"?(ee==700?"bold":ee)+""+I:"bold"),I};p.advancedAPI=function(I){var ee=T===N;return ee&&L.call(this),typeof I!="function"||(I(this),ee&&D.call(this)),this},p.compatAPI=function(I){var ee=T===_;return ee&&D.call(this),typeof I!="function"||(I(this),ee&&L.call(this)),this},p.isAdvancedAPI=function(){return T===_};var U,F=function(I){if(T!==_)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=p.roundToPrecision=p.__private__.roundToPrecision=function(I,ee){var Te=t||ee;if(isNaN(I)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(Te).replace(/0+$/,"")};U=p.hpf=p.__private__.hpf=typeof c=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return W(I,c)}:c==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return W(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return W(I,16)};var O=p.f2=p.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return W(I,2)},M=p.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return W(I,3)},H=p.scale=p.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return T===N?I*bt:T===_?I:void 0},Y=function(I){return H((function(ee){return T===N?oc()-ee:T===_?ee:void 0})(I))};p.__private__.setPrecision=p.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var ne,X="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return X},fe=p.__private__.setFileId=function(I){return X=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Nn=new Ep(f.userPermissions,f.userPassword,f.ownerPassword,X)),X};p.setFileId=function(I){return fe(I),this},p.getFileId=function(){return re()};var ce=p.__private__.convertDateToPDFDate=function(I){var ee=I.getTimezoneOffset(),Te=ee<0?"+":"-",Pe=Math.floor(Math.abs(ee/60)),Fe=Math.abs(ee%60),lt=[Te,V(Pe),"'",V(Fe),"'"].join("");return["D:",I.getFullYear(),V(I.getMonth()+1),V(I.getDate()),V(I.getHours()),V(I.getMinutes()),V(I.getSeconds()),lt].join("")},ke=p.__private__.convertPDFDateToDate=function(I){var ee=parseInt(I.substr(2,4),10),Te=parseInt(I.substr(6,2),10)-1,Pe=parseInt(I.substr(8,2),10),Fe=parseInt(I.substr(10,2),10),lt=parseInt(I.substr(12,2),10),pt=parseInt(I.substr(14,2),10);return new Date(ee,Te,Pe,Fe,lt,pt,0)},Z=p.__private__.setCreationDate=function(I){var ee;if(I===void 0&&(I=new Date),I instanceof Date)ee=ce(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=I}return ne=ee},P=p.__private__.getCreationDate=function(I){var ee=ne;return I==="jsDate"&&(ee=ke(ne)),ee};p.setCreationDate=function(I){return Z(I),this},p.getCreationDate=function(I){return P(I)};var q,V=p.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},z=p.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},Q=0,de=[],Ee=[],ie=0,je=[],Me=[],J=!1,ge=Ee;p.__private__.setCustomOutputDestination=function(I){J=!0,ge=I};var be=function(I){J||(ge=I)};p.__private__.resetCustomOutputDestination=function(){J=!1,ge=Ee};var oe=p.__private__.out=function(I){return I=I.toString(),ie+=I.length+1,ge.push(I),ge},Ue=p.__private__.write=function(I){return oe(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},ve=p.__private__.getArrayBuffer=function(I){for(var ee=I.length,Te=new ArrayBuffer(ee),Pe=new Uint8Array(Te);ee--;)Pe[ee]=I.charCodeAt(ee);return Te},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ge};var $e=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(I){return $e=T===_?I/bt:I,this};var ft,Je=p.__private__.getFontSize=p.getFontSize=function(){return T===N?$e:$e*bt},kt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(I){return kt=I,this},p.__private__.getR2L=p.getR2L=function(){return kt};var At,Rt=p.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ft=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ft=I}else ft=parseInt(I,10)};p.__private__.getZoomMode=function(){return ft};var ar,nr=p.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');At=I};p.__private__.getPageMode=function(){return At};var $r=p.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');ar=I};p.__private__.getLayoutMode=function(){return ar},p.__private__.setDisplayMode=p.setDisplayMode=function(I,ee,Te){return Rt(I),$r(ee),nr(Te),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(I){if(Object.keys(It).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[I]},p.__private__.getDocumentProperties=function(){return It},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(I){for(var ee in It)It.hasOwnProperty(ee)&&I[ee]&&(It[ee]=I[ee]);return this},p.__private__.setDocumentProperty=function(I,ee){if(Object.keys(It).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[I]=ee};var St,bt,Et,Tr,Gt,Nt={},Yt={},Sr=[],er={},Dr={},hr={},ma={},ea=null,Wr=0,Mt=[],Mr=new N9(p),ci=e.hotfixes||[],en={},ss={},ui=[],Xt=function I(ee,Te,Pe,Fe,lt,pt){if(!(this instanceof I))return new I(ee,Te,Pe,Fe,lt,pt);isNaN(ee)&&(ee=1),isNaN(Te)&&(Te=0),isNaN(Pe)&&(Pe=0),isNaN(Fe)&&(Fe=1),isNaN(lt)&&(lt=0),isNaN(pt)&&(pt=0),this._matrix=[ee,Te,Pe,Fe,lt,pt]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(I)},Xt.prototype.multiply=function(I){var ee=I.sx*this.sx+I.shy*this.shx,Te=I.sx*this.shy+I.shy*this.sy,Pe=I.shx*this.sx+I.sy*this.shx,Fe=I.shx*this.shy+I.sy*this.sy,lt=I.tx*this.sx+I.ty*this.shx+this.tx,pt=I.tx*this.shy+I.ty*this.sy+this.ty;return new Xt(ee,Te,Pe,Fe,lt,pt)},Xt.prototype.decompose=function(){var I=this.sx,ee=this.shy,Te=this.shx,Pe=this.sy,Fe=this.tx,lt=this.ty,pt=Math.sqrt(I*I+ee*ee),Ut=(I/=pt)*Te+(ee/=pt)*Pe;Te-=I*Ut,Pe-=ee*Ut;var Qt=Math.sqrt(Te*Te+Pe*Pe);return Ut/=Qt,I*(Pe/=Qt)<ee*(Te/=Qt)&&(I=-I,ee=-ee,Ut=-Ut,pt=-pt),{scale:new Xt(pt,0,0,Qt,0,0),translate:new Xt(1,0,0,1,Fe,lt),rotate:new Xt(I,ee,-ee,I,0,0),skew:new Xt(1,0,Ut,1,0,0)}},Xt.prototype.toString=function(I){return this.join(" ")},Xt.prototype.inversed=function(){var I=this.sx,ee=this.shy,Te=this.shx,Pe=this.sy,Fe=this.tx,lt=this.ty,pt=1/(I*Pe-ee*Te),Ut=Pe*pt,Qt=-ee*pt,vr=-Te*pt,Ar=I*pt;return new Xt(Ut,Qt,vr,Ar,-Ut*Fe-vr*lt,-Qt*Fe-Ar*lt)},Xt.prototype.applyToPoint=function(I){var ee=I.x*this.sx+I.y*this.shx+this.tx,Te=I.x*this.shy+I.y*this.sy+this.ty;return new xl(ee,Te)},Xt.prototype.applyToRectangle=function(I){var ee=this.applyToPoint(I),Te=this.applyToPoint(new xl(I.x+I.w,I.y+I.h));return new nc(ee.x,ee.y,Te.x-ee.x,Te.y-ee.y)},Xt.prototype.clone=function(){var I=this.sx,ee=this.shy,Te=this.shx,Pe=this.sy,Fe=this.tx,lt=this.ty;return new Xt(I,ee,Te,Pe,Fe,lt)},p.Matrix=Xt;var Xn=p.matrixMult=function(I,ee){return ee.multiply(I)},os=new Xt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=os;var Sn=function(I,ee){if(!Dr[I]){var Te=(ee instanceof hh?"Sh":"P")+(Object.keys(er).length+1).toString(10);ee.id=Te,Dr[I]=Te,er[Te]=ee,Mr.publish("addPattern",ee)}};p.ShadingPattern=hh,p.TilingPattern=Dp,p.addShadingPattern=function(I,ee){return F("addShadingPattern()"),Sn(I,ee),this},p.beginTilingPattern=function(I){F("beginTilingPattern()"),Wu(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},p.endTilingPattern=function(I,ee){F("endTilingPattern()"),ee.stream=Me[q].join(`
`),Sn(I,ee),Mr.publish("endTilingPattern",ee),ui.pop().restore()};var Si,Sa=p.__private__.newObject=function(){var I=Wa();return ae(I,!0),I},Wa=p.__private__.newObjectDeferred=function(){return Q++,de[Q]=function(){return ie},Q},ae=function(I,ee){return ee=typeof ee=="boolean"&&ee,de[I]=ie,ee&&oe(I+" 0 obj"),I},_e=p.__private__.newAdditionalObject=function(){var I={objId:Wa(),content:""};return je.push(I),I},me=Wa(),pe=Wa(),we=p.__private__.decodeColorString=function(I){var ee=I.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Te=parseFloat(ee[0]);ee=[Te,Te,Te,"r"]}for(var Pe="#",Fe=0;Fe<3;Fe++)Pe+=("0"+Math.floor(255*parseFloat(ee[Fe])).toString(16)).slice(-2);return Pe},Ae=p.__private__.encodeColorString=function(I){var ee;typeof I=="string"&&(I={ch1:I});var Te=I.ch1,Pe=I.ch2,Fe=I.ch3,lt=I.ch4,pt=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var Ut=new XH(Te);if(Ut.ok)Te=Ut.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var Qt=parseInt(Te.substr(1),16);Te=Qt>>16&255,Pe=Qt>>8&255,Fe=255&Qt}if(Pe===void 0||lt===void 0&&Te===Pe&&Pe===Fe)ee=typeof Te=="string"?Te+" "+pt[0]:I.precision===2?O(Te/255)+" "+pt[0]:M(Te/255)+" "+pt[0];else if(lt===void 0||Da(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return["1.","1.","1.",pt[1]].join(" ");ee=typeof Te=="string"?[Te,Pe,Fe,pt[1]].join(" "):I.precision===2?[O(Te/255),O(Pe/255),O(Fe/255),pt[1]].join(" "):[M(Te/255),M(Pe/255),M(Fe/255),pt[1]].join(" ")}else ee=typeof Te=="string"?[Te,Pe,Fe,lt,pt[2]].join(" "):I.precision===2?[O(Te),O(Pe),O(Fe),O(lt),pt[2]].join(" "):[M(Te),M(Pe),M(Fe),M(lt),pt[2]].join(" ");return ee},Ie=p.__private__.getFilters=function(){return s},rt=p.__private__.putStream=function(I){var ee=(I=I||{}).data||"",Te=I.filters||Ie(),Pe=I.alreadyAppliedFilters||[],Fe=I.addLength1||!1,lt=ee.length,pt=I.objectId,Ut=function(Jn){return Jn};if(f!==null&&pt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ut=Nn.encryptor(pt,0));var Qt={};Te===!0&&(Te=["FlateEncode"]);var vr=I.additionalKeyValues||[],Ar=(Qt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(ee,Te):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(Qt.data.length!==0&&(vr.push({key:"Length",value:Qt.data.length}),Fe===!0&&vr.push({key:"Length1",value:lt})),Ar.length!=0)if(Ar.split("/").length-1==1)vr.push({key:"Filter",value:Ar});else{vr.push({key:"Filter",value:"["+Ar+"]"});for(var la=0;la<vr.length;la+=1)if(vr[la].key==="DecodeParms"){for(var tn=[],jn=0;jn<Qt.reverseChain.split("/").length-1;jn+=1)tn.push("null");tn.push(vr[la].value),vr[la].value="["+tn.join(" ")+"]"}}oe("<<");for(var Ma=0;Ma<vr.length;Ma++)oe("/"+vr[Ma].key+" "+vr[Ma].value);oe(">>"),Qt.data.length!==0&&(oe("stream"),oe(Ut(Qt.data)),oe("endstream"))},We=p.__private__.putPage=function(I){var ee=I.number,Te=I.data,Pe=I.objId,Fe=I.contentsObjId;ae(Pe,!0),oe("<</Type /Page"),oe("/Parent "+I.rootDictionaryObjId+" 0 R"),oe("/Resources "+I.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(U(I.mediaBox.bottomLeftX))+" "+parseFloat(U(I.mediaBox.bottomLeftY))+" "+U(I.mediaBox.topRightX)+" "+U(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&oe("/CropBox ["+U(I.cropBox.bottomLeftX)+" "+U(I.cropBox.bottomLeftY)+" "+U(I.cropBox.topRightX)+" "+U(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&oe("/BleedBox ["+U(I.bleedBox.bottomLeftX)+" "+U(I.bleedBox.bottomLeftY)+" "+U(I.bleedBox.topRightX)+" "+U(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&oe("/TrimBox ["+U(I.trimBox.bottomLeftX)+" "+U(I.trimBox.bottomLeftY)+" "+U(I.trimBox.topRightX)+" "+U(I.trimBox.topRightY)+"]"),I.artBox!==null&&oe("/ArtBox ["+U(I.artBox.bottomLeftX)+" "+U(I.artBox.bottomLeftY)+" "+U(I.artBox.topRightX)+" "+U(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&oe("/UserUnit "+I.userUnit),Mr.publish("putPage",{objId:Pe,pageContext:Mt[ee],pageNumber:ee,page:Te}),oe("/Contents "+Fe+" 0 R"),oe(">>"),oe("endobj");var lt=Te.join(`
`);return T===_&&(lt+=`
Q`),ae(Fe,!0),rt({data:lt,filters:Ie(),objectId:Fe}),oe("endobj"),Pe},Ve=p.__private__.putPages=function(){var I,ee,Te=[];for(I=1;I<=Wr;I++)Mt[I].objId=Wa(),Mt[I].contentsObjId=Wa();for(I=1;I<=Wr;I++)Te.push(We({number:I,data:Me[I],objId:Mt[I].objId,contentsObjId:Mt[I].contentsObjId,mediaBox:Mt[I].mediaBox,cropBox:Mt[I].cropBox,bleedBox:Mt[I].bleedBox,trimBox:Mt[I].trimBox,artBox:Mt[I].artBox,userUnit:Mt[I].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:pe}));ae(me,!0),oe("<</Type /Pages");var Pe="/Kids [";for(ee=0;ee<Wr;ee++)Pe+=Te[ee]+" 0 R ";oe(Pe+"]"),oe("/Count "+Wr),oe(">>"),oe("endobj"),Mr.publish("postPutPages")},ye=function(I){Mr.publish("putFont",{font:I,out:oe,newObject:Sa,putStream:rt}),I.isAlreadyPutted!==!0&&(I.objectNumber=Sa(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Cp(I.postScriptName)),oe("/Subtype /Type1"),typeof I.encoding=="string"&&oe("/Encoding /"+I.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Ye=function(I){I.objectNumber=Sa();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[U(I.x),U(I.y),U(I.x+I.width),U(I.y+I.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var Te=I.pages[1].join(`
`);rt({data:Te,additionalKeyValues:ee,objectId:I.objectNumber}),oe("endobj")},ot=function(I,ee){ee||(ee=21);var Te=Sa(),Pe=(function(pt,Ut){var Qt,vr=[],Ar=1/(Ut-1);for(Qt=0;Qt<1;Qt+=Ar)vr.push(Qt);if(vr.push(1),pt[0].offset!=0){var la={offset:0,color:pt[0].color};pt.unshift(la)}if(pt[pt.length-1].offset!=1){var tn={offset:1,color:pt[pt.length-1].color};pt.push(tn)}for(var jn="",Ma=0,Jn=0;Jn<vr.length;Jn++){for(Qt=vr[Jn];Qt>pt[Ma+1].offset;)Ma++;var Rn=pt[Ma].offset,Ai=(Qt-Rn)/(pt[Ma+1].offset-Rn),fo=pt[Ma].color,ws=pt[Ma+1].color;jn+=z(Math.round((1-Ai)*fo[0]+Ai*ws[0]).toString(16))+z(Math.round((1-Ai)*fo[1]+Ai*ws[1]).toString(16))+z(Math.round((1-Ai)*fo[2]+Ai*ws[2]).toString(16))}return jn.trim()})(I.colors,ee),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+ee+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:Pe,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),oe("endobj"),I.objectNumber=Sa(),oe("<< /ShadingType "+I.type),oe("/ColorSpace /DeviceRGB");var lt="/Coords ["+U(parseFloat(I.coords[0]))+" "+U(parseFloat(I.coords[1]))+" ";I.type===2?lt+=U(parseFloat(I.coords[2]))+" "+U(parseFloat(I.coords[3])):lt+=U(parseFloat(I.coords[2]))+" "+U(parseFloat(I.coords[3]))+" "+U(parseFloat(I.coords[4]))+" "+U(parseFloat(I.coords[5])),oe(lt+="]"),I.matrix&&oe("/Matrix ["+I.matrix.toString()+"]"),oe("/Function "+Te+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},xt=function(I,ee){var Te=Wa(),Pe=Sa();ee.push({resourcesOid:Te,objectOid:Pe}),I.objectNumber=Pe;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+I.boundingBox.map(U).join(" ")+"]"}),Fe.push({key:"XStep",value:U(I.xStep)}),Fe.push({key:"YStep",value:U(I.yStep)}),Fe.push({key:"Resources",value:Te+" 0 R"}),I.matrix&&Fe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),rt({data:I.stream,additionalKeyValues:Fe,objectId:I.objectNumber}),oe("endobj")},mt=function(I){for(var ee in I.objectNumber=Sa(),oe("<<"),I)switch(ee){case"opacity":oe("/ca "+O(I[ee]));break;case"stroke-opacity":oe("/CA "+O(I[ee]))}oe(">>"),oe("endobj")},wt=function(I){ae(I.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in oe("/Font <<"),Nt)Nt.hasOwnProperty(ee)&&(m===!1||m===!0&&x.hasOwnProperty(ee))&&oe("/"+ee+" "+Nt[ee].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(er).length>0){for(var ee in oe("/Shading <<"),er)er.hasOwnProperty(ee)&&er[ee]instanceof hh&&er[ee].objectNumber>=0&&oe("/"+ee+" "+er[ee].objectNumber+" 0 R");Mr.publish("putShadingPatternDict"),oe(">>")}})(),(function(ee){if(Object.keys(er).length>0){for(var Te in oe("/Pattern <<"),er)er.hasOwnProperty(Te)&&er[Te]instanceof p.TilingPattern&&er[Te].objectNumber>=0&&er[Te].objectNumber<ee&&oe("/"+Te+" "+er[Te].objectNumber+" 0 R");Mr.publish("putTilingPatternDict"),oe(">>")}})(I.objectOid),(function(){if(Object.keys(hr).length>0){var ee;for(ee in oe("/ExtGState <<"),hr)hr.hasOwnProperty(ee)&&hr[ee].objectNumber>=0&&oe("/"+ee+" "+hr[ee].objectNumber+" 0 R");Mr.publish("putGStateDict"),oe(">>")}})(),(function(){for(var ee in oe("/XObject <<"),en)en.hasOwnProperty(ee)&&en[ee].objectNumber>=0&&oe("/"+ee+" "+en[ee].objectNumber+" 0 R");Mr.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},Ct=function(I){Yt[I.fontName]=Yt[I.fontName]||{},Yt[I.fontName][I.fontStyle]=I.id},Er=function(I,ee,Te,Pe,Fe){var lt={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:I,fontName:ee,fontStyle:Te,encoding:Pe,isStandardFont:Fe||!1,metadata:{}};return Mr.publish("addFont",{font:lt,instance:this}),Nt[lt.id]=lt,Ct(lt),lt.id},fr=p.__private__.pdfEscape=p.pdfEscape=function(I,ee){return(function(Te,Pe){var Fe,lt,pt,Ut,Qt,vr,Ar,la,tn;if(pt=(Pe=Pe||{}).sourceEncoding||"Unicode",Qt=Pe.outputEncoding,(Pe.autoencode||Qt)&&Nt[St].metadata&&Nt[St].metadata[pt]&&Nt[St].metadata[pt].encoding&&(Ut=Nt[St].metadata[pt].encoding,!Qt&&Nt[St].encoding&&(Qt=Nt[St].encoding),!Qt&&Ut.codePages&&(Qt=Ut.codePages[0]),typeof Qt=="string"&&(Qt=Ut[Qt]),Qt)){for(Ar=!1,vr=[],Fe=0,lt=Te.length;Fe<lt;Fe++)(la=Qt[Te.charCodeAt(Fe)])?vr.push(String.fromCharCode(la)):vr.push(Te[Fe]),vr[Fe].charCodeAt(0)>>8&&(Ar=!0);Te=vr.join("")}for(Fe=Te.length;Ar===void 0&&Fe!==0;)Te.charCodeAt(Fe-1)>>8&&(Ar=!0),Fe--;if(!Ar)return Te;for(vr=Pe.noBOM?[]:[254,255],Fe=0,lt=Te.length;Fe<lt;Fe++){if((tn=(la=Te.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+Te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vr.push(tn),vr.push(la-(tn<<8))}return String.fromCharCode.apply(void 0,vr)})(I,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oa=p.__private__.beginPage=function(I){Me[++Wr]=[],Mt[Wr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Fo(Wr),be(Me[q])},Ni=function(I,ee){var Te,Pe,Fe;switch(r=ee||r,typeof I=="string"&&(Te=k(I.toLowerCase()),Array.isArray(Te)&&(Pe=Te[0],Fe=Te[1])),Array.isArray(I)&&(Pe=I[0]*bt,Fe=I[1]*bt),isNaN(Pe)&&(Pe=n[0],Fe=n[1]),(Pe>14400||Fe>14400)&&(Ya.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Fe=Math.min(14400,Fe)),n=[Pe,Fe],r.substr(0,1)){case"l":Fe>Pe&&(n=[Fe,Pe]);break;case"p":Pe>Fe&&(n=[Fe,Pe])}oa(n),Gc(zu),oe(Vs),u0!==0&&oe(u0+" J"),di!==0&&oe(di+" j"),Mr.publish("addPage",{pageNumber:Wr})},Io=function(I){I>0&&I<=Wr&&(Me.splice(I,1),Mt.splice(I,1),Wr--,q>Wr&&(q=Wr),this.setPage(q))},Fo=function(I){I>0&&I<=Wr&&(q=I)},$s=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Me.length-1},Kc=function(I,ee,Te){var Pe,Fe=void 0;return Te=Te||{},I=I!==void 0?I:Nt[St].fontName,ee=ee!==void 0?ee:Nt[St].fontStyle,Pe=I.toLowerCase(),Yt[Pe]!==void 0&&Yt[Pe][ee]!==void 0?Fe=Yt[Pe][ee]:Yt[I]!==void 0&&Yt[I][ee]!==void 0?Fe=Yt[I][ee]:Te.disableWarning===!1&&Ya.warn("Unable to look up font label for font '"+I+"', '"+ee+"'. Refer to getFontList() for available fonts."),Fe||Te.noFallback||(Fe=Yt.times[ee])==null&&(Fe=Yt.times.normal),Fe},Qn=p.__private__.putInfo=function(){var I=Sa(),ee=function(Pe){return Pe};for(var Te in f!==null&&(ee=Nn.encryptor(I,0)),oe("<<"),oe("/Producer ("+fr(ee("jsPDF "+Zt.version))+")"),It)It.hasOwnProperty(Te)&&It[Te]&&oe("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+fr(ee(It[Te]))+")");oe("/CreationDate ("+fr(ee(ne))+")"),oe(">>"),oe("endobj")},l0=p.__private__.putCatalog=function(I){var ee=(I=I||{}).rootDictionaryObjId||me;switch(Sa(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+ee+" 0 R"),ft||(ft="fullwidth"),ft){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+ft;Te.substr(Te.length-1)==="%"&&(ft=parseInt(ft)/100),typeof ft=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+O(ft)+"]")}switch(ar||(ar="continuous"),ar){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}At&&oe("/PageMode /"+At),Mr.publish("putCatalog"),oe(">>"),oe("endobj")},Na=p.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(Q+1)),oe("/Root "+Q+" 0 R"),oe("/Info "+(Q-1)+" 0 R"),f!==null&&oe("/Encrypt "+Nn.oid+" 0 R"),oe("/ID [ <"+X+"> <"+X+"> ]"),oe(">>")},ls=p.__private__.putHeader=function(){oe("%PDF-"+y),oe("%")},Cf=p.__private__.putXRef=function(){var I="0000000000";oe("xref"),oe("0 "+(Q+1)),oe("0000000000 65535 f ");for(var ee=1;ee<=Q;ee++)typeof de[ee]=="function"?oe((I+de[ee]()).slice(-10)+" 00000 n "):de[ee]!==void 0?oe((I+de[ee]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ec=p.__private__.buildDocument=function(){var I;Q=0,ie=0,Ee=[],de=[],je=[],me=Wa(),pe=Wa(),be(Ee),Mr.publish("buildDocument"),ls(),Ve(),(function(){Mr.publish("putAdditionalObjects");for(var Te=0;Te<je.length;Te++){var Pe=je[Te];ae(Pe.objId,!0),oe(Pe.content),oe("endobj")}Mr.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var Te in Nt)Nt.hasOwnProperty(Te)&&(m===!1||m===!0&&x.hasOwnProperty(Te))&&ye(Nt[Te])})(),(function(){var Te;for(Te in hr)hr.hasOwnProperty(Te)&&mt(hr[Te])})(),(function(){for(var Te in en)en.hasOwnProperty(Te)&&Ye(en[Te])})(),(function(Te){var Pe;for(Pe in er)er.hasOwnProperty(Pe)&&(er[Pe]instanceof hh?ot(er[Pe]):er[Pe]instanceof Dp&&xt(er[Pe],Te))})(I),Mr.publish("putResources"),I.forEach(wt),wt({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),Mr.publish("postPutResources"),f!==null&&(Nn.oid=Sa(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Nn.v),oe("/R "+Nn.r),oe("/U <"+Nn.toHexString(Nn.U)+">"),oe("/O <"+Nn.toHexString(Nn.O)+">"),oe("/P "+Nn.P),oe(">>"),oe("endobj")),Qn(),l0();var ee=ie;return Cf(),Na(),oe("startxref"),oe(""+ee),oe("%%EOF"),be(Me[q]),Ee.join(`
`)},tc=p.__private__.getBlob=function(I){return new Blob([ve(I)],{type:"application/pdf"})},uo=p.output=p.__private__.output=(Si=function(I,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",I){case void 0:return ec();case"save":p.save(ee.filename);break;case"arraybuffer":return ve(ec());case"blob":return tc(ec());case"bloburi":case"bloburl":if(jr.URL!==void 0&&typeof jr.URL.createObjectURL=="function")return jr.URL&&jr.URL.createObjectURL(tc(ec()))||void 0;Ya.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Pe=ec();try{Te=k9(Pe)}catch{Te=k9(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Fe=ee.pdfObjectUrl,lt="");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Ut=jr.open();return Ut!==null&&Ut.document.write(pt),Ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jr)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',vr=jr.open();if(vr!==null){vr.document.write(Qt);var Ar=this;vr.document.documentElement.querySelector("#pdfViewer").onload=function(){vr.document.title=ee.filename,vr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ar.output("bloburl"))}}return vr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var la='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',tn=jr.open();if(tn!==null&&(tn.document.write(la),tn.document.title=ee.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return jr.document.location.href=this.output("datauristring",ee);default:return null}},Si.foo=function(){try{return Si.apply(this,arguments)}catch(Te){var I=Te.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var ee="Error in function "+I.split(`
`)[0].split("<")[0]+": "+Te.message;if(!jr.console)throw new Error(ee);jr.console.error(ee,Te),jr.alert&&alert(ee)}},Si.foo.bar=Si,Si.foo),pl=function(I){return Array.isArray(ci)===!0&&ci.indexOf(I)>-1};switch(a){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=pl("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);bt=a}var Nn=null;Z(),fe();var Wi=p.__private__.getPageInfo=p.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[I].objId,pageNumber:I,pageContext:Mt[I]}},Of=p.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Mt)if(Mt[ee].objId===I)break;return Wi(ee)},km=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Mt[q].objId,pageNumber:q,pageContext:Mt[q]}};p.addPage=function(){return Ni.apply(this,arguments),this},p.setPage=function(){return Fo.apply(this,arguments),be.call(this,Me[q]),this},p.insertPage=function(I){return this.addPage(),this.movePage(q,I),this},p.movePage=function(I,ee){var Te,Pe;if(I>ee){Te=Me[I],Pe=Mt[I];for(var Fe=I;Fe>ee;Fe--)Me[Fe]=Me[Fe-1],Mt[Fe]=Mt[Fe-1];Me[ee]=Te,Mt[ee]=Pe,this.setPage(ee)}else if(I<ee){Te=Me[I],Pe=Mt[I];for(var lt=I;lt<ee;lt++)Me[lt]=Me[lt+1],Mt[lt]=Mt[lt+1];Me[ee]=Te,Mt[ee]=Pe,this.setPage(ee)}return this},p.deletePage=function(){return Io.apply(this,arguments),this},p.__private__.text=p.text=function(I,ee,Te,Pe,Fe){var lt,pt,Ut,Qt,vr,Ar,la,tn,jn,Ma=(Pe=Pe||{}).scope||this;if(typeof I=="number"&&typeof ee=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Jn=Te;Te=ee,ee=I,I=Jn}if(arguments[3]instanceof Xt==0?(Ut=arguments[4],Qt=arguments[5],Da(la=arguments[3])==="object"&&la!==null||(typeof Ut=="string"&&(Qt=Ut,Ut=null),typeof la=="string"&&(Qt=la,la=null),typeof la=="number"&&(Ut=la,la=null),Pe={flags:la,angle:Ut,align:Qt})):(F("The transform parameter of text() with a Matrix value"),jn=Fe),isNaN(ee)||isNaN(Te)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Ma;var Rn,Ai="",fo=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:rc,ws=Ma.internal.scaleFactor;function Cm(ca){return ca=ca.split("	").join(Array(Pe.TabLen||9).join(" ")),fr(ca,la)}function f0(ca){for(var ta,Ra=ca.concat(),Tn=[],jl=Ra.length;jl--;)typeof(ta=Ra.shift())=="string"?Tn.push(ta):Array.isArray(ca)&&(ta.length===1||ta[1]===void 0&&ta[2]===void 0)?Tn.push(ta[0]):Tn.push([ta[0],ta[1],ta[2]]);return Tn}function Ku(ca,ta){var Ra;if(typeof ca=="string")Ra=ta(ca)[0];else if(Array.isArray(ca)){for(var Tn,jl,Ho=ca.concat(),Xu=[],qf=Ho.length;qf--;)typeof(Tn=Ho.shift())=="string"?Xu.push(ta(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(jl=ta(Tn[0],Tn[1],Tn[2]),Xu.push([jl[0],jl[1],jl[2]]));Ra=Xu}return Ra}var yl=!1,zo=!0;if(typeof I=="string")yl=!0;else if(Array.isArray(I)){var Gu=I.concat();pt=[];for(var Xc,Ti=Gu.length;Ti--;)(typeof(Xc=Gu.shift())!="string"||Array.isArray(Xc)&&typeof Xc[0]!="string")&&(zo=!1);yl=zo}if(yl===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Qc=$e/Ma.internal.scaleFactor,Jc=Qc*(fo-1);switch(Pe.baseline){case"bottom":Te-=Jc;break;case"top":Te+=Qc-Jc;break;case"hanging":Te+=Qc-2*Jc;break;case"middle":Te+=Qc/2-Jc}if((Ar=Pe.maxWidth||0)>0&&(typeof I=="string"?I=Ma.splitTextToSize(I,Ar):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(ca,ta){return ca.concat(Ma.splitTextToSize(ta,Ar))},[]))),lt={text:I,x:ee,y:Te,options:Pe,mutex:{pdfEscape:fr,activeFontKey:St,fonts:Nt,activeFontSize:$e}},Mr.publish("preProcessText",lt),I=lt.text,Ut=(Pe=lt.options).angle,jn instanceof Xt==0&&Ut&&typeof Ut=="number"){Ut*=Math.PI/180,Pe.rotationDirection===0&&(Ut=-Ut),T===_&&(Ut=-Ut);var h0=Math.cos(Ut),bl=Math.sin(Ut);jn=new Xt(h0,bl,-bl,h0,0,0)}else Ut&&Ut instanceof Xt&&(jn=Ut);T!==_||jn||(jn=os),(vr=Pe.charSpace||ac)!==void 0&&(Ai+=U(H(vr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=Pe.horizontalScale)!==void 0&&(Ai+=U(100*tn)+` Tz
`),Pe.lang;var hn=-1,lc=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,m0=Ma.internal.getCurrentPageInfo().pageContext;switch(lc){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var Uf=m0.usedRenderingMode!==void 0?m0.usedRenderingMode:-1;hn!==-1?Ai+=hn+` Tr
`:Uf!==-1&&(Ai+=`0 Tr
`),hn!==-1&&(m0.usedRenderingMode=hn),Qt=Pe.align||"left";var Gs,qo=$e*fo,cc=Ma.internal.pageSize.getWidth(),zf=Nt[St];vr=Pe.charSpace||ac,Ar=Pe.maxWidth||0,la=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var $o=[],Zc=function(ca){return Ma.getStringUnitWidth(ca,{font:zf,charSpace:vr,fontSize:$e,doKerning:!1})*$e/ws};if(Object.prototype.toString.call(I)==="[object Array]"){var ks;pt=f0(I),Qt!=="left"&&(Gs=pt.map(Zc));var us,wl=0;if(Qt==="right"){ee-=Gs[0],I=[],Ti=pt.length;for(var kl=0;kl<Ti;kl++)kl===0?(us=Ws(ee),ks=ji(Te)):(us=H(wl-Gs[kl]),ks=-qo),I.push([pt[kl],us,ks]),wl=Gs[kl]}else if(Qt==="center"){ee-=Gs[0]/2,I=[],Ti=pt.length;for(var uc=0;uc<Ti;uc++)uc===0?(us=Ws(ee),ks=ji(Te)):(us=H((wl-Gs[uc])/2),ks=-qo),I.push([pt[uc],us,ks]),wl=Gs[uc]}else if(Qt==="left"){I=[],Ti=pt.length;for(var p0=0;p0<Ti;p0++)I.push(pt[p0])}else if(Qt==="justify"&&zf.encoding==="Identity-H"){I=[],Ti=pt.length,Ar=Ar!==0?Ar:cc;for(var g0=0,An=0;An<Ti;An++)if(ks=An===0?ji(Te):-qo,us=An===0?Ws(ee):g0,An<Ti-1){var Om=H((Ar-Gs[An])/(pt[An].split(" ").length-1)),_l=pt[An].split(" ");I.push([_l[0]+" ",us,ks]),g0=0;for(var Sl=1;Sl<_l.length;Sl++){var Ei=(Zc(_l[Sl-1]+" "+_l[Sl])-Zc(_l[Sl]))*ws+Om;Sl==_l.length-1?I.push([_l[Sl],Ei,0]):I.push([_l[Sl]+" ",Ei,0]),g0-=Ei}}else I.push([pt[An],us,ks]);I.push(["",g0,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Ti=pt.length,Ar=Ar!==0?Ar:cc,An=0;An<Ti;An++){ks=An===0?ji(Te):-qo,us=An===0?Ws(ee):0;var dc=pt[An].split(" ").length-1,x0=dc>0?(Ar-Gs[An])/dc:0;An<Ti-1?$o.push(U(H(x0))):$o.push(0),I.push([pt[An],us,ks])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:kt)===!0&&(I=Ku(I,function(ca,ta,Ra){return[ca.split("").reverse().join(""),ta,Ra]})),lt={text:I,x:ee,y:Te,options:Pe,mutex:{pdfEscape:fr,activeFontKey:St,fonts:Nt,activeFontSize:$e}},Mr.publish("postProcessText",lt),I=lt.text,Rn=lt.mutex.isHex||!1;var v0=Nt[St].encoding;v0!=="WinAnsiEncoding"&&v0!=="StandardEncoding"||(I=Ku(I,function(ca,ta,Ra){return[Cm(ca),ta,Ra]})),pt=f0(I),I=[];for(var fc,hc,Nl,Yu=Array.isArray(pt[0])?1:0,Ys="",mc=function(ca,ta,Ra){var Tn="";return Ra instanceof Xt?(Ra=typeof Pe.angle=="number"?Xn(Ra,new Xt(1,0,0,1,ca,ta)):Xn(new Xt(1,0,0,1,ca,ta),Ra),T===_&&(Ra=Xn(new Xt(1,0,0,-1,0,0),Ra)),Tn=Ra.join(" ")+` Tm
`):Tn=U(ca)+" "+U(ta)+` Td
`,Tn},Vi=0;Vi<pt.length;Vi++){switch(Ys="",Yu){case 1:Nl=(Rn?"<":"(")+pt[Vi][0]+(Rn?">":")"),fc=parseFloat(pt[Vi][1]),hc=parseFloat(pt[Vi][2]);break;case 0:Nl=(Rn?"<":"(")+pt[Vi]+(Rn?">":")"),fc=Ws(ee),hc=ji(Te)}$o!==void 0&&$o[Vi]!==void 0&&(Ys=$o[Vi]+` Tw
`),Vi===0?I.push(Ys+mc(fc,hc,jn)+Nl):Yu===0?I.push(Ys+Nl):Yu===1&&I.push(Ys+mc(fc,hc,jn)+Nl)}I=Yu===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var ho=`BT
/`;return ho+=St+" "+$e+` Tf
`,ho+=U($e*fo)+` TL
`,ho+=gl+`
`,ho+=Ai,ho+=I,oe(ho+="ET"),x[St]=!0,Ma};var Pf=p.__private__.clip=p.clip=function(I){return oe(I==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Pf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return oe("n"),this};var cs=p.__private__.isValidStyle=function(I){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(ee=!0),ee};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(I){return cs(I)&&(d=I),this};var Df=p.__private__.getStyle=p.getStyle=function(I){var ee=d;switch(I){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=I}return ee},Lf=p.close=function(){return oe("h"),this};p.stroke=function(){return oe("S"),this},p.fill=function(I){return Hs("f",I),this},p.fillEvenOdd=function(I){return Hs("f*",I),this},p.fillStroke=function(I){return Hs("B",I),this},p.fillStrokeEvenOdd=function(I){return Hs("B*",I),this};var Hs=function(I,ee){Da(ee)==="object"?Sm(ee,I):oe(I)},Mf=function(I){I===null||T===_&&I===void 0||(I=Df(I),oe(I))};function _m(I,ee,Te,Pe,Fe){var lt=new Dp(ee||this.boundingBox,Te||this.xStep,Pe||this.yStep,this.gState,Fe||this.matrix);lt.stream=this.stream;var pt=I+"$$"+this.cloneIndex+++"$$";return Sn(pt,lt),lt}var Sm=function(I,ee){var Te=Dr[I.key],Pe=er[Te];if(Pe instanceof hh)oe("q"),oe(Rf(ee)),Pe.gState&&p.setGState(Pe.gState),oe(I.matrix.toString()+" cm"),oe("/"+Te+" sh"),oe("Q");else if(Pe instanceof Dp){var Fe=new Xt(1,0,0,-1,0,oc());I.matrix&&(Fe=Fe.multiply(I.matrix||os),Te=_m.call(Pe,I.key,I.boundingBox,I.xStep,I.yStep,Fe).id),oe("q"),oe("/Pattern cs"),oe("/"+Te+" scn"),Pe.gState&&p.setGState(Pe.gState),oe(ee),oe("Q")}},Rf=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},If=p.moveTo=function(I,ee){return oe(U(H(I))+" "+U(Y(ee))+" m"),this},Uu=p.lineTo=function(I,ee){return oe(U(H(I))+" "+U(Y(ee))+" l"),this},Bo=p.curveTo=function(I,ee,Te,Pe,Fe,lt){return oe([U(H(I)),U(Y(ee)),U(H(Te)),U(Y(Pe)),U(H(Fe)),U(Y(lt)),"c"].join(" ")),this};p.__private__.line=p.line=function(I,ee,Te,Pe,Fe){if(isNaN(I)||isNaN(ee)||isNaN(Te)||isNaN(Pe)||!cs(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return T===N?this.lines([[Te-I,Pe-ee]],I,ee,[1,1],Fe||"S"):this.lines([[Te-I,Pe-ee]],I,ee,[1,1]).stroke()},p.__private__.lines=p.lines=function(I,ee,Te,Pe,Fe,lt){var pt,Ut,Qt,vr,Ar,la,tn,jn,Ma,Jn,Rn,Ai;if(typeof I=="number"&&(Ai=Te,Te=ee,ee=I,I=Ai),Pe=Pe||[1,1],lt=lt||!1,isNaN(ee)||isNaN(Te)||!Array.isArray(I)||!Array.isArray(Pe)||!cs(Fe)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(If(ee,Te),pt=Pe[0],Ut=Pe[1],vr=I.length,Jn=ee,Rn=Te,Qt=0;Qt<vr;Qt++)(Ar=I[Qt]).length===2?(Jn=Ar[0]*pt+Jn,Rn=Ar[1]*Ut+Rn,Uu(Jn,Rn)):(la=Ar[0]*pt+Jn,tn=Ar[1]*Ut+Rn,jn=Ar[2]*pt+Jn,Ma=Ar[3]*Ut+Rn,Jn=Ar[4]*pt+Jn,Rn=Ar[5]*Ut+Rn,Bo(la,tn,jn,Ma,Jn,Rn));return lt&&Lf(),Mf(Fe),this},p.path=function(I){for(var ee=0;ee<I.length;ee++){var Te=I[ee],Pe=Te.c;switch(Te.op){case"m":If(Pe[0],Pe[1]);break;case"l":Uu(Pe[0],Pe[1]);break;case"c":Bo.apply(this,Pe);break;case"h":Lf()}}return this},p.__private__.rect=p.rect=function(I,ee,Te,Pe,Fe){if(isNaN(I)||isNaN(ee)||isNaN(Te)||isNaN(Pe)||!cs(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return T===N&&(Pe=-Pe),oe([U(H(I)),U(Y(ee)),U(H(Te)),U(H(Pe)),"re"].join(" ")),Mf(Fe),this},p.__private__.triangle=p.triangle=function(I,ee,Te,Pe,Fe,lt,pt){if(isNaN(I)||isNaN(ee)||isNaN(Te)||isNaN(Pe)||isNaN(Fe)||isNaN(lt)||!cs(pt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-I,Pe-ee],[Fe-Te,lt-Pe],[I-Fe,ee-lt]],I,ee,[1,1],pt,!0),this},p.__private__.roundedRect=p.roundedRect=function(I,ee,Te,Pe,Fe,lt,pt){if(isNaN(I)||isNaN(ee)||isNaN(Te)||isNaN(Pe)||isNaN(Fe)||isNaN(lt)||!cs(pt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ut=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*Te),lt=Math.min(lt,.5*Pe),this.lines([[Te-2*Fe,0],[Fe*Ut,0,Fe,lt-lt*Ut,Fe,lt],[0,Pe-2*lt],[0,lt*Ut,-Fe*Ut,lt,-Fe,lt],[2*Fe-Te,0],[-Fe*Ut,0,-Fe,-lt*Ut,-Fe,-lt],[0,2*lt-Pe],[0,-lt*Ut,Fe*Ut,-lt,Fe,-lt]],I+Fe,ee,[1,1],pt,!0),this},p.__private__.ellipse=p.ellipse=function(I,ee,Te,Pe,Fe){if(isNaN(I)||isNaN(ee)||isNaN(Te)||isNaN(Pe)||!cs(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*Te,pt=4/3*(Math.SQRT2-1)*Pe;return If(I+Te,ee),Bo(I+Te,ee-pt,I+lt,ee-Pe,I,ee-Pe),Bo(I-lt,ee-Pe,I-Te,ee-pt,I-Te,ee),Bo(I-Te,ee+pt,I-lt,ee+Pe,I,ee+Pe),Bo(I+lt,ee+Pe,I+Te,ee+pt,I+Te,ee),Mf(Fe),this},p.__private__.circle=p.circle=function(I,ee,Te,Pe){if(isNaN(I)||isNaN(ee)||isNaN(Te)||!cs(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,ee,Te,Te,Pe)},p.setFont=function(I,ee,Te){return Te&&(ee=R(ee,Te)),St=Kc(I,ee,{disableWarning:!1}),this};var Uo=p.__private__.getFont=p.getFont=function(){return Nt[Kc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var I,ee,Te={};for(I in Yt)if(Yt.hasOwnProperty(I))for(ee in Te[I]=[],Yt[I])Yt[I].hasOwnProperty(ee)&&Te[I].push(ee);return Te},p.addFont=function(I,ee,Te,Pe,Fe){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(Te=R(Te,Pe)),Er.call(this,I,ee,Te,Fe=Fe||"Identity-H")};var rc,zu=e.lineWidth||.200025,mr=p.__private__.getLineWidth=p.getLineWidth=function(){return zu},Gc=p.__private__.setLineWidth=p.setLineWidth=function(I){return zu=I,oe(U(H(I))+" w"),this};p.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(I,ee){if(I=I||[],ee=ee||0,isNaN(ee)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(Te){return U(H(Te))}).join(" "),ee=U(H(ee)),oe("["+I+"] "+ee+" d"),this};var Nm=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*rc};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*rc};var Ff=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(rc=I),this},jm=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return rc};Ff(e.lineHeight);var Ws=p.__private__.getHorizontalCoordinate=function(I){return H(I)},ji=p.__private__.getVerticalCoordinate=function(I){return T===_?I:Mt[q].mediaBox.topRightY-Mt[q].mediaBox.bottomLeftY-H(I)},Bf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(I){return U(Ws(I))},qu=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(I){return U(ji(I))},Vs=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return we(Vs)},p.__private__.setStrokeColor=p.setDrawColor=function(I,ee,Te,Pe){return Vs=Ae({ch1:I,ch2:ee,ch3:Te,ch4:Pe,pdfColorType:"draw",precision:2}),oe(Vs),this};var $u=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return we($u)},p.__private__.setFillColor=p.setFillColor=function(I,ee,Te,Pe){return $u=Ae({ch1:I,ch2:ee,ch3:Te,ch4:Pe,pdfColorType:"fill",precision:2}),oe($u),this};var gl=e.textColor||"0 g",Hu=p.__private__.getTextColor=p.getTextColor=function(){return we(gl)};p.__private__.setTextColor=p.setTextColor=function(I,ee,Te,Pe){return gl=Ae({ch1:I,ch2:ee,ch3:Te,ch4:Pe,pdfColorType:"text",precision:3}),this};var ac=e.charSpace,c0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ac||0)};p.__private__.setCharSpace=p.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ac=I,this};var u0=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(I){var ee=p.CapJoinStyles[I];if(ee===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return u0=ee,oe(ee+" J"),this};var di=0;p.__private__.setLineJoin=p.setLineJoin=function(I){var ee=p.CapJoinStyles[I];if(ee===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return di=ee,oe(ee+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(U(H(I))+" M"),this},p.GState=H2,p.setGState=function(I){(I=typeof I=="string"?hr[ma[I]]:Ks(null,I)).equals(ea)||(oe("/"+I.id+" gs"),ea=I)};var Ks=function(I,ee){if(!I||!ma[I]){var Te=!1;for(var Pe in hr)if(hr.hasOwnProperty(Pe)&&hr[Pe].equals(ee)){Te=!0;break}if(Te)ee=hr[Pe];else{var Fe="GS"+(Object.keys(hr).length+1).toString(10);hr[Fe]=ee,ee.id=Fe}return I&&(ma[I]=ee.id),Mr.publish("addGState",ee),ee}};p.addGState=function(I,ee){return Ks(I,ee),this},p.saveGraphicsState=function(){return oe("q"),Sr.push({key:St,size:$e,color:gl}),this},p.restoreGraphicsState=function(){oe("Q");var I=Sr.pop();return St=I.key,$e=I.size,gl=I.color,ea=null,this},p.setCurrentTransformationMatrix=function(I){return oe(I.toString()+" cm"),this},p.comment=function(I){return oe("#"+I),this};var xl=function(I,ee){var Te=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(lt){isNaN(lt)||(Te=parseFloat(lt))}});var Pe=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(lt){isNaN(lt)||(Pe=parseFloat(lt))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(lt){Fe=lt.toString()}}),this},nc=function(I,ee,Te,Pe){xl.call(this,I,ee),this.type="rect";var Fe=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(pt){isNaN(pt)||(Fe=parseFloat(pt))}});var lt=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(pt){isNaN(pt)||(lt=parseFloat(pt))}}),this},d0=function(){this.page=Wr,this.currentPage=q,this.pages=Me.slice(0),this.pagesContext=Mt.slice(0),this.x=Et,this.y=Tr,this.matrix=Gt,this.width=Yc(q),this.height=vl(q),this.outputDestination=ge,this.id="",this.objectNumber=-1};d0.prototype.restore=function(){Wr=this.page,q=this.currentPage,Mt=this.pagesContext,Me=this.pages,Et=this.x,Tr=this.y,Gt=this.matrix,Vu(q,this.width),sc(q,this.height),ge=this.outputDestination};var Wu=function(I,ee,Te,Pe,Fe){ui.push(new d0),Wr=q=0,Me=[],Et=I,Tr=ee,Gt=Fe,oa([Te,Pe])};for(var ic in p.beginFormObject=function(I,ee,Te,Pe,Fe){return Wu(I,ee,Te,Pe,Fe),this},p.endFormObject=function(I){return(function(ee){if(ss[ee])ui.pop().restore();else{var Te=new d0,Pe="Xo"+(Object.keys(en).length+1).toString(10);Te.id=Pe,ss[ee]=Pe,en[Pe]=Te,Mr.publish("addFormObject",Te),ui.pop().restore()}})(I),this},p.doFormObject=function(I,ee){var Te=en[ss[I]];return oe("q"),oe(ee.toString()+" cm"),oe("/"+Te.id+" Do"),oe("Q"),this},p.getFormObject=function(I){var ee=en[ss[I]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},p.save=function(I,ee){return I=I||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(ch(tc(ec()),I),typeof ch.unload=="function"&&jr.setTimeout&&setTimeout(ch.unload,911),this):new Promise(function(Te,Pe){try{var Fe=ch(tc(ec()),I);typeof ch.unload=="function"&&jr.setTimeout&&setTimeout(ch.unload,911),Te(Fe)}catch(lt){Pe(lt.message)}})},Zt.API)Zt.API.hasOwnProperty(ic)&&(ic==="events"&&Zt.API.events.length?(function(I,ee){var Te,Pe,Fe;for(Fe=ee.length-1;Fe!==-1;Fe--)Te=ee[Fe][0],Pe=ee[Fe][1],I.subscribe.apply(I,[Te].concat(typeof Pe=="function"?[Pe]:Pe))})(Mr,Zt.API.events):p[ic]=Zt.API[ic]);function Yc(I){return Mt[I].mediaBox.topRightX-Mt[I].mediaBox.bottomLeftX}function Vu(I,ee){Mt[I].mediaBox.topRightX=ee+Mt[I].mediaBox.bottomLeftX}function vl(I){return Mt[I].mediaBox.topRightY-Mt[I].mediaBox.bottomLeftY}function sc(I,ee){Mt[I].mediaBox.topRightY=ee+Mt[I].mediaBox.bottomLeftY}var Am=p.getPageWidth=function(I){return Yc(I=I||q)/bt},Tm=p.setPageWidth=function(I,ee){Vu(I,ee*bt)},oc=p.getPageHeight=function(I){return vl(I=I||q)/bt},Em=p.setPageHeight=function(I,ee){sc(I,ee*bt)};return p.internal={pdfEscape:fr,getStyle:Df,getFont:Uo,getFontSize:Je,getCharSpace:c0,getTextColor:Hu,getLineHeight:Nm,getLineHeightFactor:jm,getLineWidth:mr,write:Ue,getHorizontalCoordinate:Ws,getVerticalCoordinate:ji,getCoordinateString:Bf,getVerticalCoordinateString:qu,collections:{},newObject:Sa,newAdditionalObject:_e,newObjectDeferred:Wa,newObjectDeferredBegin:ae,getFilters:Ie,putStream:rt,events:Mr,scaleFactor:bt,pageSize:{getWidth:function(){return Am(q)},setWidth:function(I){Tm(q,I)},getHeight:function(){return oc(q)},setHeight:function(I){Em(q,I)}},encryptionOptions:f,encryption:Nn,getEncryptor:function(I){return f!==null?Nn.encryptor(I,0):function(ee){return ee}},output:uo,getNumberOfPages:$s,pages:Me,out:oe,f2:O,f3:M,getPageInfo:Wi,getPageInfoByObjId:Of,getCurrentPageInfo:km,getPDFVersion:v,Point:xl,Rectangle:nc,Matrix:Xt,hasHotfix:pl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Am(q)},set:function(I){Tm(q,I)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return oc(q)},set:function(I){Em(q,I)},enumerable:!0,configurable:!0}),(function(I){for(var ee=0,Te=Ge.length;ee<Te;ee++){var Pe=Er.call(this,I[ee][0],I[ee][1],I[ee][2],Ge[ee][3],!0);m===!1&&(x[Pe]=!0);var Fe=I[ee][0].split("-");Ct({id:Pe,fontName:Fe[0],fontStyle:Fe[1]||""})}Mr.publish("addFonts",{fonts:Nt,dictionary:Yt})}).call(p,Ge),St="F1",Ni(n,r),Mr.publish("initialized"),p}Ep.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Ep.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ep.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Ep.prototype.processOwnerPassword=function(e,t){return iN(nN(t).substr(0,5),e)},Ep.prototype.encryptor=function(e,t){var r=nN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return iN(r,a)}},H2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Da(e)!==Da(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Zt.API={events:[]},Zt.version="3.0.3";var Wn=Zt.API,IA=1,wm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pr=function(e){return e.toFixed(2)},W0=function(e){return e.toFixed(5)};Wn.__acroform__={};var Ro=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},j9=function(e){return e*IA},yu=function(e){var t=new eW,r=$t.internal.getHeight(e)||0,a=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Pr(a)),Number(Pr(r))],t},eje=Wn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},tje=Wn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},rje=Wn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ni=Wn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rje(e,t-1)},ii=Wn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eje(e,t-1)},si=Wn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tje(e,t-1)},aje=Wn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(n)||0,c.lowerLeft_Y=a(i+o)||0,c.upperRight_X=r(n+s)||0,c.upperRight_Y=a(i)||0,[Number(Pr(c.lowerLeft_X)),Number(Pr(c.lowerLeft_Y)),Number(Pr(c.upperRight_X)),Number(Pr(c.upperRight_Y))]},nje=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=sN(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Pr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=yu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},sN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(O){return O.split(`
`)}):n.map(function(O){return[O]});var i=r,s=$t.internal.getHeight(e)||0;s=s<0?-s:s;var o=$t.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(O,M,H){if(O+1<n.length){var Y=M+" "+n[O+1][0];return mb(Y,e,H).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,f,m=mb("3",e,i).height,x=e.multiline?s-i:(s-m)/2,p=x+=2,y=0,v=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+mb(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var k="",N=0,_=0;_<n.length;_++)if(n.hasOwnProperty(_)){var T=!1;if(n[_].length!==1&&b!==n[_].length-1){if((m+2)*(N+2)+2>s)continue e;k+=n[_][b],T=!0,v=_,_--}else{k=(k+=n[_][b]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var L=parseInt(_),D=c(L,k,i),R=_>=n.length-1;if(D&&!R){k+=" ",b=0;continue}if(D||R){if(R)v=L;else if(e.multiline&&(m+2)*(N+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(N+2)+2>s)continue e;v=L}}for(var U="",F=y;F<=v;F++){var W=n[F];if(e.multiline){if(F===v){U+=W[b]+" ",b=(b+1)%W.length;continue}if(F===y){U+=W[W.length-1]+" ";continue}}U+=W[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,f=mb(U,e,i).width,e.textAlign){case"right":d=o-f-2;break;case"center":d=(o-f)/2;break;default:d=2}t+=Pr(d)+" "+Pr(p)+` Td
`,t+="("+wm(U)+`) Tj
`,t+=-Pr(d)+` 0 Td
`,p=-(i+2),f=0,y=T?v:v+1,N++,k=""}break}return a.text=t,a.fontSize=i,a},mb=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},ije={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sje=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},oje=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Wc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ije)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");IA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tW,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&sje(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,n){var i=!a;for(var s in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(s)){var o=a[s],c=[],d=o.Rect;if(o.Rect&&(o.Rect=aje(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=$t.createDefaultAppearanceStream(o),Da(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=nje(o);c.push({key:"AP",value:"<</N "+f+">>"}),n.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var m="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var p=o.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(n,o)),m+="/"+s+" "+y+" ",n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(n,o)),m+="/"+s+" "+y,n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(v,b){for(var k in v)if(v.hasOwnProperty(k)){var N=k,_=v[k];b.internal.newObjectDeferredBegin(_.objId,!0),Da(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[N]}})(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ZH=Wn.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(s){return s};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Da(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),n+="("+wm(a(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W_=function(e,t,r){var a=function(n){return n};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+wm(a(e))+")"},Eu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Eu.prototype.toString=function(){return this.objId+" 0 R"},Eu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Eu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:ZH(n,this.objId,this.scope)}):n instanceof Eu?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var eW=function(){Eu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ro(eW,Eu);var tW=function(){Eu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+wm(r(e))+")"}},set:function(r){e=r}})};Ro(tW,Eu);var Wc=function e(){Eu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ni(t,3)},set:function(k){k?this.F=ii(t,3):this.F=si(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(k){a=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(k){a[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(k){a[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(k){a[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(k){a[3]=k}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof W2)return;i="FieldObject"+e.FieldNum++}var k=function(N){return N};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+wm(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(k){s=k}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/IA:d},set:function(k){d=k}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof W2||this instanceof Bh))return W_(m,this.objId,this.scope)},set:function(k){k=k.toString(),m=k}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ts==0?W_(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof ts==0?k.substr(0,1)==="("?Sp(k.substr(1,k.length-2)):Sp(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ts==1?Sp(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof ts==1?"/"+k:k}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ts==0?W_(p,this.objId,this.scope):p},set:function(k){k=k.toString(),p=this instanceof ts==0?k.substr(0,1)==="("?Sp(k.substr(1,k.length-2)):Sp(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ts==1?Sp(p.substr(1,p.length-1)):p},set:function(k){k=k.toString(),p=this instanceof ts==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(k){k=!!k,v=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(k){y=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,1)},set:function(k){k?this.Ff=ii(this.Ff,1):this.Ff=si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,2)},set:function(k){k?this.Ff=ii(this.Ff,2):this.Ff=si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,3)},set:function(k){k?this.Ff=ii(this.Ff,3):this.Ff=si(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');b=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(b){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Ro(Wc,Eu);var $p=function(){Wc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ZH(t,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=(function(i,s,o){o||(o=1);for(var c,d=[];c=s.exec(i);)d.push(c[o]);return d})(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,18)},set:function(r){r?this.Ff=ii(this.Ff,18):this.Ff=si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ii(this.Ff,19):this.Ff=si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,20)},set:function(r){r?(this.Ff=ii(this.Ff,20),t.sort()):this.Ff=si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,22)},set:function(r){r?this.Ff=ii(this.Ff,22):this.Ff=si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(r){r?this.Ff=ii(this.Ff,23):this.Ff=si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,27)},set:function(r){r?this.Ff=ii(this.Ff,27):this.Ff=si(this.Ff,27)}}),this.hasAppearanceStream=!1};Ro($p,Wc);var Hp=function(){$p.call(this),this.fontName="helvetica",this.combo=!1};Ro(Hp,$p);var Wp=function(){Hp.call(this),this.combo=!0};Ro(Wp,Hp);var jb=function(){Wp.call(this),this.edit=!0};Ro(jb,Wp);var ts=function(){Wc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,15)},set:function(r){r?this.Ff=ii(this.Ff,15):this.Ff=si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,16)},set:function(r){r?this.Ff=ii(this.Ff,16):this.Ff=si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,17)},set:function(r){r?this.Ff=ii(this.Ff,17):this.Ff=si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(r){r?this.Ff=ii(this.Ff,26):this.Ff=si(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+wm(r(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Da(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ro(ts,Wc);var Ab=function(){ts.call(this),this.pushButton=!0};Ro(Ab,ts);var Vp=function(){ts.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ro(Vp,ts);var W2=function(){var e,t;Wc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),a)s.push("/"+i+" ("+wm(n(a[i]))+")");return s.push(">>"),s.join(`
`)},set:function(n){Da(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ro(W2,Wc),Vp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Vp.prototype.createOption=function(e){var t=new W2;return t.Parent=this,t.optionName=e,this.Kids.push(t),lje.call(this.scope,t),t};var Tb=function(){ts.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};Ro(Tb,ts);var Bh=function(){Wc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,13)},set:function(t){t?this.Ff=ii(this.Ff,13):this.Ff=si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,21)},set:function(t){t?this.Ff=ii(this.Ff,21):this.Ff=si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,23)},set:function(t){t?this.Ff=ii(this.Ff,23):this.Ff=si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,24)},set:function(t){t?this.Ff=ii(this.Ff,24):this.Ff=si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,25)},set:function(t){t?this.Ff=ii(this.Ff,25):this.Ff=si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,26)},set:function(t){t?this.Ff=ii(this.Ff,26):this.Ff=si(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ro(Bh,Wc);var Eb=function(){Bh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ni(this.Ff,14)},set:function(e){e?this.Ff=ii(this.Ff,14):this.Ff=si(this.Ff,14)}}),this.password=!0};Ro(Eb,Bh);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=sN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Pr($t.internal.getWidth(e))+" "+Pr($t.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Pr(i.fontSize)+" Tf "+n),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=yu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],i=$t.internal.getHeight(e),s=$t.internal.getWidth(e),o=sN(e,e.caption);return n.push("1 g"),n.push("0 0 "+Pr(s)+" "+Pr(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Pr(s-1)+" "+Pr(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Pr(o.fontSize)+" Tf "+a),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pr($t.internal.getWidth(e))+" "+Pr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=$t.internal.Bezier_C,i=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+W0($t.internal.getWidth(e)/2)+" "+W0($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*$t.internal.Bezier_C).toFixed(5)),s=Number((a*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+W0($t.internal.getWidth(e)/2)+" "+W0($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+W0($t.internal.getWidth(e)/2)+" "+W0($t.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*$t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+W0($t.internal.getWidth(e)/2)+" "+W0($t.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yu(e);t.scope=e.scope;var r=[],a=$t.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Pr($t.internal.getWidth(e)-2)+" "+Pr($t.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Pr(a.x1.x)+" "+Pr(a.x1.y)+" m"),r.push(Pr(a.x2.x)+" "+Pr(a.x2.y)+" l"),r.push(Pr(a.x4.x)+" "+Pr(a.x4.y)+" m"),r.push(Pr(a.x3.x)+" "+Pr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=$t.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Pr($t.internal.getWidth(e))+" "+Pr($t.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Pr($t.internal.getWidth(e)-2)+" "+Pr($t.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Pr(r.x1.x)+" "+Pr(r.x1.y)+" m"),a.push(Pr(r.x2.x)+" "+Pr(r.x2.y)+" l"),a.push(Pr(r.x4.x)+" "+Pr(r.x4.y)+" m"),a.push(Pr(r.x3.x)+" "+Pr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=yu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pr($t.internal.getWidth(e))+" "+Pr($t.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),r=$t.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},$t.internal.getWidth=function(e){var t=0;return Da(e)==="object"&&(t=j9(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return Da(e)==="object"&&(t=j9(e.Rect[3])),t};var lje=Wn.addField=function(e){if(oje(this,e),!(e instanceof Wc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Wn.AcroFormChoiceField=$p,Wn.AcroFormListBox=Hp,Wn.AcroFormComboBox=Wp,Wn.AcroFormEditBox=jb,Wn.AcroFormButton=ts,Wn.AcroFormPushButton=Ab,Wn.AcroFormRadioButton=Vp,Wn.AcroFormCheckBox=Tb,Wn.AcroFormTextField=Bh,Wn.AcroFormPasswordField=Eb,Wn.AcroFormAppearance=$t,Wn.AcroForm={ChoiceField:$p,ListBox:Hp,ComboBox:Wp,EditBox:jb,Button:ts,PushButton:Ab,RadioButton:Vp,CheckBox:Tb,TextField:Bh,PasswordField:Eb,Appearance:$t},Zt.AcroForm={ChoiceField:$p,ListBox:Hp,ComboBox:Wp,EditBox:jb,Button:ts,PushButton:Ab,RadioButton:Vp,CheckBox:Tb,TextField:Bh,PasswordField:Eb,Appearance:$t};Zt.AcroForm;function rW(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(O,M){var H,Y,ne,X,re,fe=r;if((M=M||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(D(O))for(re in a)for(ne=a[re],H=0;H<ne.length;H+=1){for(X=!0,Y=0;Y<ne[H].length;Y+=1)if(ne[H][Y]!==void 0&&ne[H][Y]!==O[Y]){X=!1;break}if(X===!0){fe=re;break}}else for(re in a)for(ne=a[re],H=0;H<ne.length;H+=1){for(X=!0,Y=0;Y<ne[H].length;Y+=1)if(ne[H][Y]!==void 0&&ne[H][Y]!==O.charCodeAt(Y)){X=!1;break}if(X===!0){fe=re;break}}return fe===r&&M!==r&&(fe=M),fe},i=function O(M){for(var H=this.internal.write,Y=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:M.width}),X.push({key:"Height",value:M.height}),M.colorSpace===k.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===k.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var re="",fe=0,ce=M.transparency.length;fe<ce;fe++)re+=M.transparency[fe]+" "+M.transparency[fe]+" ";X.push({key:"Mask",value:"["+re+"]"})}M.sMask!==void 0&&X.push({key:"SMask",value:M.objectId+1+" 0 R"});var ke=M.filter!==void 0?["/"+M.filter]:void 0;if(Y({data:M.data,additionalKeyValues:X,alreadyAppliedFilters:ke,objectId:M.objectId}),H("endobj"),"sMask"in M&&M.sMask!==void 0){var Z,P=(Z=M.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:M.bitsPerComponent,q={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:M.sMask};"filter"in M&&(q.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(M.width),q.filter=M.filter),O.call(this,q)}if(M.colorSpace===k.INDEXED){var V=this.internal.newObject();Y({data:U(new Uint8Array(M.palette)),objectId:V}),H("endobj")}},s=function(){var O=this.internal.collections[t+"images"];for(var M in O)i.call(this,O[M])},o=function(){var O,M=this.internal.collections[t+"images"],H=this.internal.write;for(var Y in M)H("/I"+(O=M[Y]).index,O.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var O=this.internal.collections[t+"images"];return c.call(this),O},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(O){return typeof e["process"+O.toUpperCase()]=="function"},x=function(O){return Da(O)==="object"&&O.nodeType===1},p=function(O,M){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var H=""+O.getAttribute("src");if(H.indexOf("data:image/")===0)return Nb(unescape(H).split("base64,").pop());var Y=e.loadFile(H,!0);if(Y!==void 0)return Y}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ne;switch(M){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return Nb(O.toDataURL(ne,1).split("base64,").pop())}},y=function(O){var M=this.internal.collections[t+"images"];if(M){for(var H in M)if(O===M[H].alias)return M[H]}},v=function(O,M,H){return O||M||(O=-96,M=-96),O<0&&(O=-1*H.width*72/O/this.internal.scaleFactor),M<0&&(M=-1*H.height*72/M/this.internal.scaleFactor),O===0&&(O=M*H.width/H.height),M===0&&(M=O*H.height/H.width),[O,M]},b=function(O,M,H,Y,ne,X){var re=v.call(this,H,Y,ne),fe=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,ke=d.call(this);if(H=re[0],Y=re[1],ke[ne.index]=ne,X){X*=Math.PI/180;var Z=Math.cos(X),P=Math.sin(X),q=function(z){return z.toFixed(4)},V=[q(Z),q(P),q(-1*P),q(Z),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,fe(O),ce(M+Y),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([fe(H),"0","0",fe(Y),"0","0","cm"].join(" "))):this.internal.write([fe(H),"0","0",fe(Y),fe(O),ce(M+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(O){var M,H,Y=0;if(typeof O=="string")for(H=O.length,M=0;M<H;M++)Y=(Y<<5)-Y+O.charCodeAt(M),Y|=0;else if(D(O))for(H=O.byteLength/2,M=0;M<H;M++)Y=(Y<<5)-Y+O[M],Y|=0;return Y},T=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var M=!0;return O.length===0&&(M=!1),O.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(M=!1),M},L=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var M=O.indexOf(",");return M<0?null:O.substring(0,M).trim().endsWith("base64")?O.substring(M+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(O){for(var M=O.length,H=new Uint8Array(M),Y=0;Y<M;Y++)H[Y]=O.charCodeAt(Y);return H},U=e.__addimage__.arrayBufferToBinaryString=function(O){for(var M="",H=D(O)?O:new Uint8Array(O),Y=0;Y<H.length;Y+=8192)M+=String.fromCharCode.apply(null,H.subarray(Y,Y+8192));return M};e.addImage=function(){var O,M,H,Y,ne,X,re,fe,ce;if(typeof arguments[1]=="number"?(M=r,H=arguments[1],Y=arguments[2],ne=arguments[3],X=arguments[4],re=arguments[5],fe=arguments[6],ce=arguments[7]):(M=arguments[1],H=arguments[2],Y=arguments[3],ne=arguments[4],X=arguments[5],re=arguments[6],fe=arguments[7],ce=arguments[8]),Da(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var ke=O;O=ke.imageData,M=ke.format||M||r,H=ke.x||H||0,Y=ke.y||Y||0,ne=ke.w||ke.width||ne,X=ke.h||ke.height||X,re=ke.alias||re,fe=ke.compression||fe,ce=ke.rotation||ke.angle||ce}var Z=this.internal.getFilters();if(fe===void 0&&Z.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(H)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var P=F.call(this,O,M,re,fe);return b.call(this,H,Y,ne,X,P,ce),this};var F=function(O,M,H,Y){var ne,X,re;if(typeof O=="string"&&n(O)===r){O=unescape(O);var fe=W(O,!1);(fe!==""||(fe=e.loadFile(O,!0))!==void 0)&&(O=fe)}if(x(O)&&(O=p(O,M)),M=n(O,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((re=H)==null||re.length===0)&&(H=(function(ce){return typeof ce=="string"||D(ce)?_(ce):D(ce.data)?_(ce.data):null})(O)),(ne=y.call(this,H))||(O instanceof Uint8Array||M==="RGBA"||(X=O,O=R(O)),ne=this["process"+M.toUpperCase()](O,f.call(this),H,(function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in e.image_compression?ce:N.NONE})(Y),X)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},W=e.__addimage__.convertBase64ToBinaryString=function(O,M){M=typeof M!="boolean"||M;var H,Y="";if(typeof O=="string"){var ne;H=(ne=L(O))!==null&&ne!==void 0?ne:O;try{Y=Nb(H)}catch(X){if(M)throw T(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(O){var M,H,Y="";if(x(O)&&(O=p(O)),typeof O=="string"&&n(O)===r&&((Y=W(O,!1))===""&&(Y=e.loadFile(O)||""),O=Y),H=n(O),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(O instanceof Uint8Array||(O=R(O)),!(M=this["process"+H.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=H,M}})(Zt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,n,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((a=d[m]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){a=d[x];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(v.objId),N=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(a.bounds.x)+" "+o(a.bounds.y+a.bounds.h)+" "+s(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y)+"] ")+"/Contents ("+p(k(a.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(k(N))+") >>",v.content=i;var _=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(a.bounds.x+30)+" "+o(a.bounds.y+a.bounds.h)+" "+s(a.bounds.x+a.bounds.w+30)+" "+o(a.bounds.y)+"] ")+" /Parent "+_,a.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+s(a.bounds.x)+" "+o(a.bounds.y)+" "+s(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y+a.bounds.h)+"] ";var T=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var L=this.annotations._nameMap[a.options.name];a.options.pageNumber=L.page,a.options.top=L.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var D=o(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+D+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,n,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(a),w:c(r+n),h:d(a+i)},options:s,type:"link"})},e.textWithLink=function(r,a,n,i){var s,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var f=this.splitTextToSize(r,o).length;s=Math.ceil(d*f)}else o=c,s=d;return this.text(r,a,n,i),n+=.2*d,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,n-d,o,s,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(Zt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&n.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var b=0,k=r,N="",_=0;for(b=0;b<v.length;b+=1)k[v.charCodeAt(b)]!==void 0?(_++,typeof(k=k[v.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(k),k=r,_=0),b===v.length-1&&(k=r,N+=v.charAt(b-(_-1)),b-=_-1,_=0)):(k=r,N+=v.charAt(b-_),b-=_,_=0);return N};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&a[v.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(v,b,k){return s(v)?i(v)===!1?-1:!d(v)||!s(b)&&!s(k)||!s(k)&&o(b)||o(v)&&!s(b)||o(v)&&c(b)||o(v)&&o(b)?0:f(v)&&s(b)&&!o(b)&&s(k)&&d(k)?3:o(v)||!s(k)?1:2:-1},p=function(v){var b=0,k=0,N=0,_="",T="",L="",D=(v=v||"").split("\\s+"),R=[];for(b=0;b<D.length;b+=1){for(R.push(""),k=0;k<D[b].length;k+=1)_=D[b][k],T=D[b][k-1],L=D[b][k+1],s(_)?(N=x(_,T,L),R[b]+=N!==-1?String.fromCharCode(t[_.charCodeAt(0)][N]):_):R[b]+=_;R[b]=m(R[b])}return R.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(b)){var N=0;for(k=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?k.push([p(b[N][0]),b[N][1],b[N][2]]):k.push([p(b[N])]);v=k}else v=p(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])})(Zt.API),Zt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Zt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){a.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=d.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,T){return _.concat(b.splitTextToSize(T,k))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)p<(v=this.getStringUnitWidth(c[N],{font:m})*f)&&(p=v);return p!==0&&(y=c.length),{w:p/=x,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,f,m,x){if(a.call(this),!f)throw new Error("No data for PDF table.");var p,y,v,b,k=[],N=[],_=[],T={},L={},D=[],R=[],U=(x=x||{}).autoSize||!1,F=x.printHeaders!==!1,W=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},t),M=typeof x.padding=="number"?x.padding:3,H=x.headerBackgroundColor||"#c8c8c8",Y=x.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=Y,this.setFontSize(W),m==null)N=k=Object.keys(f[0]),_=k.map(function(){return"left"});else if(Array.isArray(m)&&Da(m[0])==="object")for(k=m.map(function(ke){return ke.name}),N=m.map(function(ke){return ke.prompt||ke.name||""}),_=m.map(function(ke){return ke.align||"left"}),p=0;p<m.length;p+=1)L[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=k=m,_=k.map(function(){return"left"}));if(U||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<k.length;p+=1){for(T[b=k[p]]=f.map(function(ke){return ke[b]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[b],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)D.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[b]=Math.max.apply(null,D)+M+M,D=[]}if(F){var ne={};for(p=0;p<k.length;p+=1)ne[k[p]]={},ne[k[p]].text=N[p],ne[k[p]].align=_[p];var X=o.call(this,ne,L);R=k.map(function(ke){return new i(c,d,L[ke],X,ne[ke].text,void 0,ne[ke].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var re=m.reduce(function(ke,Z){return ke[Z.name]=Z.align,ke},{});for(p=0;p<f.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:f[p]},this);var fe=o.call(this,f[p],L);for(v=0;v<k.length;v+=1){var ce=f[p][k[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:v,data:ce},this),s.call(this,new i(c,d,L[k[v]],fe,ce,p+2,re[k[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+f+f},this).reduce(function(p,y){return Math.max(p,y)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(Zt.API);var aW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},nW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],oN=rW(nW),iW=[100,200,300,400,500,600,700,800,900],cje=rW(iW);function V_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return aW[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof oN[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,a].join(" ")}}}function A9(e,t,r,a){var n;for(n=r;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var uje={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},T9={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function E9(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function C9(e){return e.trimLeft()}function dje(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function fje(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var pb,O9,P9,Np,gb,D9,L9,M9,K_=["times"];function R9(e,t,r,a,n){var i=4,s=F9;switch(n){case Zt.API.image_compression.FAST:i=1,s=I9;break;case Zt.API.image_compression.MEDIUM:i=6,s=B9;break;case Zt.API.image_compression.SLOW:i=9,s=U9}e=(function(c,d,f,m){for(var x,p=c.length/d,y=new Uint8Array(c.length+p),v=[hje,I9,F9,B9,U9],b=0;b<p;b+=1){var k=b*d,N=c.subarray(k,k+d);if(m)y.set(m(N,f,x),k+b);else{for(var _=v.length,T=[],L=0;L<_;L+=1)T[L]=v[L](N,f,x);var D=pje(T.concat());y.set(T[D],k+b)}x=N}return y})(e,t,Math.ceil(r*a/8),s);var o=eN(e,{level:i});return Zt.API.__addimage__.arrayBufferToBinaryString(o)}function hje(e){var t=Array.apply([],e);return t.unshift(0),t}function I9(e,t){var r=e.length,a=[];a[0]=1;for(var n=0;n<r;n+=1){var i=e[n-t]||0;a[n+1]=e[n]-i+256&255}return a}function F9(e,t,r){var a=e.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var s=r&&r[i]||0;n[i+1]=e[i]-s+256&255}return n}function B9(e,t,r){var a=e.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var s=e[i-t]||0,o=r&&r[i]||0;n[i+1]=e[i]+256-(s+o>>>1)&255}return n}function U9(e,t,r){var a=e.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var s=mje(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);n[i+1]=e[i]-s+256&255}return n}function mje(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),n=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=n&&a<=i?e:n<=i?t:r}function pje(e){var t=e.map(function(r){return r.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function G_(e,t,r){var a=t*r,n=Math.floor(a/8),i=16-(a-8*n+r),s=(1<<r)-1;return sW(e,n)>>i&s}function z9(e,t,r,a){var n=r*a,i=Math.floor(n/8),s=16-(n-8*i+a),o=(1<<a)-1,c=(t&o)<<s;(function(d,f,m){if(f+1<d.byteLength)d.setUint16(f,m,!1);else{var x=m>>8&255;d.setUint8(f,x)}})(e,i,sW(e,i)&~(o<<s)&65535|c)}function sW(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function gje(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,s=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var d=!0,f=[],m=0,x=null,p=0,y=null;for(this.width=r,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,x=e[t++],1&v||(x=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,T=e[t++],L=T>>6&1,D=1<<1+(7&T),R=o,U=c,F=!1;T>>7&&(F=!0,R=t,U=D,t+=3*D);var W=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}f.push({x:b,y:k,width:N,height:_,has_local_palette:F,palette_offset:R,palette_size:U,data_offset:W,data_length:t-W,transparent_index:x,interlaced:!!L,delay:m,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,H){var Y=this.frameInfo(M),ne=Y.width*Y.height,X=new Uint8Array(ne);q9(e,Y.data_offset,X,ne);var re=Y.palette_offset,fe=Y.transparent_index;fe===null&&(fe=256);var ce=Y.width,ke=r-ce,Z=ce,P=4*(Y.y*r+Y.x),q=4*((Y.y+Y.height)*r+Y.x),V=P,z=4*ke;Y.interlaced===!0&&(z+=4*r*7);for(var Q=8,de=0,Ee=X.length;de<Ee;++de){var ie=X[de];if(Z===0&&(Z=ce,(V+=z)>=q&&(z=4*ke+4*r*(Q-1),V=P+(ce+ke)*(Q<<1),Q>>=1)),ie===fe)V+=4;else{var je=e[re+3*ie],Me=e[re+3*ie+1],J=e[re+3*ie+2];H[V++]=J,H[V++]=Me,H[V++]=je,H[V++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(M,H){var Y=this.frameInfo(M),ne=Y.width*Y.height,X=new Uint8Array(ne);q9(e,Y.data_offset,X,ne);var re=Y.palette_offset,fe=Y.transparent_index;fe===null&&(fe=256);var ce=Y.width,ke=r-ce,Z=ce,P=4*(Y.y*r+Y.x),q=4*((Y.y+Y.height)*r+Y.x),V=P,z=4*ke;Y.interlaced===!0&&(z+=4*r*7);for(var Q=8,de=0,Ee=X.length;de<Ee;++de){var ie=X[de];if(Z===0&&(Z=ce,(V+=z)>=q&&(z=4*ke+4*r*(Q-1),V=P+(ce+ke)*(Q<<1),Q>>=1)),ie===fe)V+=4;else{var je=e[re+3*ie],Me=e[re+3*ie+1],J=e[re+3*ie+2];H[V++]=je,H[V++]=Me,H[V++]=J,H[V++]=255}--Z}}}function q9(e,t,r,a){for(var n=e[t++],i=1<<n,s=i+1,o=s+1,c=n+1,d=(1<<c)-1,f=0,m=0,x=0,p=e[t++],y=new Int32Array(4096),v=null;;){for(;f<16&&p!==0;)m|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<c)break;var b=m&d;if(m>>=c,f-=c,b!==i){if(b===s)break;for(var k=b<o?b:v,N=0,_=k;_>i;)_=y[_]>>8,++N;var T=_;if(x+N+(k!==b?1:0)>a)return void Ya.log("Warning, gif stream longer than expected.");r[x++]=T;var L=x+=N;for(k!==b&&(r[x++]=T),_=k;N--;)_=y[_],r[--L]=255&_,_>>=8;v!==null&&o<4096&&(y[o++]=v<<8|T,o>=d+1&&c<12&&(++c,d=d<<1|1)),v=b}else o=s+1,d=(1<<(c=n+1))-1,v=null}return x!==a&&Ya.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y_(e){var t,r,a,n,i,s=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),y=new Array(64),v=[],b=0,k=7,N=new Array(64),_=new Array(64),T=new Array(64),L=new Array(256),D=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(P,q){for(var V=0,z=0,Q=new Array,de=1;de<=16;de++){for(var Ee=1;Ee<=P[de];Ee++)Q[q[z]]=[],Q[q[z]][0]=V,Q[q[z]][1]=de,z++,V++;V*=2}return Q}function re(P){for(var q=P[0],V=P[1]-1;V>=0;)q&1<<V&&(b|=1<<k),V--,--k<0&&(b==255?(fe(255),fe(0)):fe(b),k=7,b=0)}function fe(P){v.push(P)}function ce(P){fe(P>>8&255),fe(255&P)}function ke(P,q,V,z,Q){for(var de,Ee=Q[0],ie=Q[240],je=(function($e,ft){var Je,kt,At,Rt,ar,nr,$r,It,St,bt,Et=0;for(St=0;St<8;++St){Je=$e[Et],kt=$e[Et+1],At=$e[Et+2],Rt=$e[Et+3],ar=$e[Et+4],nr=$e[Et+5],$r=$e[Et+6];var Tr=Je+(It=$e[Et+7]),Gt=Je-It,Nt=kt+$r,Yt=kt-$r,Sr=At+nr,er=At-nr,Dr=Rt+ar,hr=Rt-ar,ma=Tr+Dr,ea=Tr-Dr,Wr=Nt+Sr,Mt=Nt-Sr;$e[Et]=ma+Wr,$e[Et+4]=ma-Wr;var Mr=.707106781*(Mt+ea);$e[Et+2]=ea+Mr,$e[Et+6]=ea-Mr;var ci=.382683433*((ma=hr+er)-(Mt=Yt+Gt)),en=.5411961*ma+ci,ss=1.306562965*Mt+ci,ui=.707106781*(Wr=er+Yt),Xt=Gt+ui,Xn=Gt-ui;$e[Et+5]=Xn+en,$e[Et+3]=Xn-en,$e[Et+1]=Xt+ss,$e[Et+7]=Xt-ss,Et+=8}for(Et=0,St=0;St<8;++St){Je=$e[Et],kt=$e[Et+8],At=$e[Et+16],Rt=$e[Et+24],ar=$e[Et+32],nr=$e[Et+40],$r=$e[Et+48];var os=Je+(It=$e[Et+56]),Sn=Je-It,Si=kt+$r,Sa=kt-$r,Wa=At+nr,ae=At-nr,_e=Rt+ar,me=Rt-ar,pe=os+_e,we=os-_e,Ae=Si+Wa,Ie=Si-Wa;$e[Et]=pe+Ae,$e[Et+32]=pe-Ae;var rt=.707106781*(Ie+we);$e[Et+16]=we+rt,$e[Et+48]=we-rt;var We=.382683433*((pe=me+ae)-(Ie=Sa+Sn)),Ve=.5411961*pe+We,ye=1.306562965*Ie+We,Ye=.707106781*(Ae=ae+Sa),ot=Sn+Ye,xt=Sn-Ye;$e[Et+40]=xt+Ve,$e[Et+24]=xt-Ve,$e[Et+8]=ot+ye,$e[Et+56]=ot-ye,Et++}for(St=0;St<64;++St)bt=$e[St]*ft[St],p[St]=bt>0?bt+.5|0:bt-.5|0;return p})(P,q),Me=0;Me<64;++Me)y[R[Me]]=je[Me];var J=y[0]-V;V=y[0],J==0?re(z[0]):(re(z[x[de=32767+J]]),re(m[de]));for(var ge=63;ge>0&&y[ge]==0;)ge--;if(ge==0)return re(Ee),V;for(var be,oe=1;oe<=ge;){for(var Ue=oe;y[oe]==0&&oe<=ge;)++oe;var ve=oe-Ue;if(ve>=16){be=ve>>4;for(var Ge=1;Ge<=be;++Ge)re(ie);ve&=15}de=32767+y[oe],re(Q[(ve<<4)+x[de]]),re(m[de]),oe++}return ge!=63&&re(Ee),V}function Z(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(q){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var Q=s((V[z]*q+50)/100);Q=Math.min(Math.max(Q,1),255),o[R[z]]=Q}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var ie=s((de[Ee]*q+50)/100);ie=Math.min(Math.max(ie,1),255),c[R[Ee]]=ie}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,J=0;J<8;J++)for(var ge=0;ge<8;ge++)d[Me]=1/(o[R[Me]]*je[J]*je[ge]*8),f[Me]=1/(c[R[Me]]*je[J]*je[ge]*8),Me++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,q){q&&Z(q),v=new Array,b=0,k=7,ce(65496),ce(65504),ce(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),ce(1),ce(1),fe(0),fe(0),(function(){ce(65499),ce(132),fe(0);for(var kt=0;kt<64;kt++)fe(o[kt]);fe(1);for(var At=0;At<64;At++)fe(c[At])})(),(function(kt,At){ce(65472),ce(17),fe(8),ce(At),ce(kt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(P.width,P.height),(function(){ce(65476),ce(418),fe(0);for(var kt=0;kt<16;kt++)fe(U[kt+1]);for(var At=0;At<=11;At++)fe(F[At]);fe(16);for(var Rt=0;Rt<16;Rt++)fe(W[Rt+1]);for(var ar=0;ar<=161;ar++)fe(O[ar]);fe(1);for(var nr=0;nr<16;nr++)fe(M[nr+1]);for(var $r=0;$r<=11;$r++)fe(H[$r]);fe(17);for(var It=0;It<16;It++)fe(Y[It+1]);for(var St=0;St<=161;St++)fe(ne[St])})(),ce(65498),ce(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var V=0,z=0,Q=0;b=0,k=7,this.encode.displayName="_encode_";for(var de,Ee,ie,je,Me,J,ge,be,oe,Ue=P.data,ve=P.width,Ge=P.height,$e=4*ve,ft=0;ft<Ge;){for(de=0;de<$e;){for(Me=$e*ft+de,ge=-1,be=0,oe=0;oe<64;oe++)J=Me+(be=oe>>3)*$e+(ge=4*(7&oe)),ft+be>=Ge&&(J-=$e*(ft+1+be-Ge)),de+ge>=$e&&(J-=de+ge-$e+4),Ee=Ue[J++],ie=Ue[J++],je=Ue[J++],N[oe]=(D[Ee]+D[ie+256|0]+D[je+512|0]>>16)-128,_[oe]=(D[Ee+768|0]+D[ie+1024|0]+D[je+1280|0]>>16)-128,T[oe]=(D[Ee+1280|0]+D[ie+1536|0]+D[je+1792|0]>>16)-128;V=ke(N,d,V,t,a),z=ke(_,f,z,r,n),Q=ke(T,f,Q,r,n),de+=32}ft+=8}if(k>=0){var Je=[];Je[1]=k+1,Je[0]=(1<<k+1)-1,re(Je)}return ce(65497),new Uint8Array(v)},e=e||50,(function(){for(var P=String.fromCharCode,q=0;q<256;q++)L[q]=P(q)})(),t=X(U,F),r=X(M,H),a=X(W,O),n=X(Y,ne),(function(){for(var P=1,q=2,V=1;V<=15;V++){for(var z=P;z<q;z++)x[32767+z]=V,m[32767+z]=[],m[32767+z][1]=V,m[32767+z][0]=z;for(var Q=-(q-1);Q<=-P;Q++)x[32767+Q]=V,m[32767+Q]=[],m[32767+Q][1]=V,m[32767+Q][0]=q-1+Q;P<<=1,q<<=1}})(),(function(){for(var P=0;P<256;P++)D[P]=19595*P,D[P+256|0]=38470*P,D[P+512|0]=7471*P+32768,D[P+768|0]=-11059*P,D[P+1024|0]=-21709*P,D[P+1280|0]=32768*P+8421375,D[P+1536|0]=-27439*P,D[P+1792|0]=-5329*P})(),Z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Sc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $9(e){function t(F){if(!F)throw Error("assert :P")}function r(F,W,O){for(var M=0;4>M;M++)if(F[W+M]!=O.charCodeAt(M))return!0;return!1}function a(F,W,O,M,H){for(var Y=0;Y<H;Y++)F[W+Y]=O[M+Y]}function n(F,W,O,M){for(var H=0;H<M;H++)F[W+H]=O}function i(F){return new Int32Array(F)}function s(F,W){for(var O=[],M=0;M<F;M++)O.push(new W);return O}function o(F,W){var O=[];return(function M(H,Y,ne){for(var X=ne[Y],re=0;re<X&&(H.push(ne.length>Y+1?[]:new W),!(ne.length<Y+1));re++)M(H[re],Y+1,ne)})(O,0,F),O}var c=function(){var F=this;function W(S,E){for(var B=1<<E-1>>>0;S&B;)B>>>=1;return B?(S&B-1)+B:S}function O(S,E,B,K,te){t(!(K%B));do S[E+(K-=B)]=te;while(0<K)}function M(S,E,B,K,te){if(t(2328>=te),512>=te)var se=i(512);else if((se=i(te))==null)return 0;return(function(le,he,xe,Ne,De,Ke){var Se,Re,ze=he,nt=1<<xe,He=i(16),at=i(16);for(t(De!=0),t(Ne!=null),t(le!=null),t(0<xe),Re=0;Re<De;++Re){if(15<Ne[Re])return 0;++He[Ne[Re]]}if(He[0]==De)return 0;for(at[1]=0,Se=1;15>Se;++Se){if(He[Se]>1<<Se)return 0;at[Se+1]=at[Se]+He[Se]}for(Re=0;Re<De;++Re)Se=Ne[Re],0<Ne[Re]&&(Ke[at[Se]++]=Re);if(at[15]==1)return(Ne=new H).g=0,Ne.value=Ke[0],O(le,ze,1,nt,Ne),nt;var ct,vt=-1,ht=nt-1,qt=0,Pt=1,Nr=1,Ft=1<<xe;for(Re=0,Se=1,De=2;Se<=xe;++Se,De<<=1){if(Pt+=Nr<<=1,0>(Nr-=He[Se]))return 0;for(;0<He[Se];--He[Se])(Ne=new H).g=Se,Ne.value=Ke[Re++],O(le,ze+qt,De,Ft,Ne),qt=W(qt,Se)}for(Se=xe+1,De=2;15>=Se;++Se,De<<=1){if(Pt+=Nr<<=1,0>(Nr-=He[Se]))return 0;for(;0<He[Se];--He[Se]){if(Ne=new H,(qt&ht)!=vt){for(ze+=Ft,ct=1<<(vt=Se)-xe;15>vt&&!(0>=(ct-=He[vt]));)++vt,ct<<=1;nt+=Ft=1<<(ct=vt-xe),le[he+(vt=qt&ht)].g=ct+xe,le[he+vt].value=ze-he-vt}Ne.g=Se-xe,Ne.value=Ke[Re++],O(le,ze+(qt>>xe),De,Ft,Ne),qt=W(qt,Se)}}return Pt!=2*at[15]-1?0:nt})(S,E,B,K,te,se)}function H(){this.value=this.g=0}function Y(){this.value=this.g=0}function ne(){this.G=s(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Zc,Y)}function X(S,E,B,K){t(S!=null),t(E!=null),t(2147483648>K),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=E,S.pa=B,S.Jd=E,S.Yc=B+K,S.Zc=4<=K?B+K-4+1:B,Ee(S)}function re(S,E){for(var B=0;0<E--;)B|=je(S,128)<<E;return B}function fe(S,E){var B=re(S,E);return ie(S)?-B:B}function ce(S,E,B,K){var te,se=0;for(t(S!=null),t(E!=null),t(4294967288>K),S.Sb=K,S.Ra=0,S.u=0,S.h=0,4<K&&(K=4),te=0;te<K;++te)se+=E[B+te]<<8*te;S.Ra=se,S.bb=K,S.oa=E,S.pa=B}function ke(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<wl-8>>>0,++S.bb,S.u-=8;z(S)&&(S.h=1,S.u=0)}function Z(S,E){if(t(0<=E),!S.h&&E<=us){var B=V(S)&ks[E];return S.u+=E,ke(S),B}return S.h=1,S.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(S){return S.Ra>>>(S.u&wl-1)>>>0}function z(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>wl}function Q(S,E){S.u=E,S.h=z(S)}function de(S){S.u>=kl&&(t(S.u>=kl),ke(S))}function Ee(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ie(S){return re(S,1)}function je(S,E){var B=S.Ca;0>S.b&&Ee(S);var K=S.b,te=B*E>>>8,se=(S.I>>>K>te)+0;for(se?(B-=te,S.I-=te+1<<K>>>0):B=te+1,K=B,te=0;256<=K;)te+=8,K>>=8;return K=7^te+uc[K],S.b-=K,S.Ca=(B<<K)-1,se}function Me(S,E,B){S[E+0]=B>>24&255,S[E+1]=B>>16&255,S[E+2]=B>>8&255,S[E+3]=255&B}function J(S,E){return S[E+0]|S[E+1]<<8}function ge(S,E){return J(S,E)|S[E+2]<<16}function be(S,E){return J(S,E)|J(S,E+2)<<16}function oe(S,E){var B=1<<E;return t(S!=null),t(0<E),S.X=i(B),S.X==null?0:(S.Mb=32-E,S.Xa=E,1)}function Ue(S,E){t(S!=null),t(E!=null),t(S.Xa==E.Xa),a(E.X,0,S.X,0,1<<E.Xa)}function ve(){this.X=[],this.Xa=this.Mb=0}function Ge(S,E,B,K){t(B!=null),t(K!=null);var te=B[0],se=K[0];return te==0&&(te=(S*se+E/2)/E),se==0&&(se=(E*te+S/2)/S),0>=te||0>=se?0:(B[0]=te,K[0]=se,1)}function $e(S,E){return S+(1<<E)-1>>>E}function ft(S,E){return((4278255360&S)+(4278255360&E)>>>0&4278255360)+((16711935&S)+(16711935&E)>>>0&16711935)>>>0}function Je(S,E){F[E]=function(B,K,te,se,le,he,xe){var Ne;for(Ne=0;Ne<le;++Ne){var De=F[S](he[xe+Ne-1],te,se+Ne);he[xe+Ne]=ft(B[K+Ne],De)}}}function kt(){this.ud=this.hd=this.jd=0}function At(S,E){return((4278124286&(S^E))>>>1)+(S&E)>>>0}function Rt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function ar(S,E){return Rt(S+(S-E+.5>>1))}function nr(S,E,B){return Math.abs(E-B)-Math.abs(S-B)}function $r(S,E,B,K,te,se,le){for(K=se[le-1],B=0;B<te;++B)se[le+B]=K=ft(S[E+B],K)}function It(S,E,B,K,te){var se;for(se=0;se<B;++se){var le=S[E+se],he=le>>8&255,xe=16711935&(xe=(xe=16711935&le)+((he<<16)+he));K[te+se]=(4278255360&le)+xe>>>0}}function St(S,E){E.jd=255&S,E.hd=S>>8&255,E.ud=S>>16&255}function bt(S,E,B,K,te,se){var le;for(le=0;le<K;++le){var he=E[B+le],xe=he>>>8,Ne=he,De=255&(De=(De=he>>>16)+((S.jd<<24>>24)*(xe<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(S.hd<<24>>24)*(xe<<24>>24)>>>5)+((S.ud<<24>>24)*(De<<24>>24)>>>5)),te[se+le]=(4278255360&he)+(De<<16)+Ne}}function Et(S,E,B,K,te){F[E]=function(se,le,he,xe,Ne,De,Ke,Se,Re){for(xe=Ke;xe<Se;++xe)for(Ke=0;Ke<Re;++Ke)Ne[De++]=te(he[K(se[le++])])},F[S]=function(se,le,he,xe,Ne,De,Ke){var Se=8>>se.b,Re=se.Ea,ze=se.K[0],nt=se.w;if(8>Se)for(se=(1<<se.b)-1,nt=(1<<Se)-1;le<he;++le){var He,at=0;for(He=0;He<Re;++He)He&se||(at=K(xe[Ne++])),De[Ke++]=te(ze[at&nt]),at>>=Se}else F["VP8LMapColor"+B](xe,Ne,ze,nt,De,Ke,le,he,Re)}}function Tr(S,E,B,K,te){for(B=E+B;E<B;){var se=S[E++];K[te++]=se>>16&255,K[te++]=se>>8&255,K[te++]=255&se}}function Gt(S,E,B,K,te){for(B=E+B;E<B;){var se=S[E++];K[te++]=se>>16&255,K[te++]=se>>8&255,K[te++]=255&se,K[te++]=se>>24&255}}function Nt(S,E,B,K,te){for(B=E+B;E<B;){var se=(le=S[E++])>>16&240|le>>12&15,le=240&le|le>>28&15;K[te++]=se,K[te++]=le}}function Yt(S,E,B,K,te){for(B=E+B;E<B;){var se=(le=S[E++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;K[te++]=se,K[te++]=le}}function Sr(S,E,B,K,te){for(B=E+B;E<B;){var se=S[E++];K[te++]=255&se,K[te++]=se>>8&255,K[te++]=se>>16&255}}function er(S,E,B,K,te,se){if(se==0)for(B=E+B;E<B;)Me(K,((se=S[E++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),te+=32;else a(K,te,S,E,B)}function Dr(S,E){F[E][0]=F[S+"0"],F[E][1]=F[S+"1"],F[E][2]=F[S+"2"],F[E][3]=F[S+"3"],F[E][4]=F[S+"4"],F[E][5]=F[S+"5"],F[E][6]=F[S+"6"],F[E][7]=F[S+"7"],F[E][8]=F[S+"8"],F[E][9]=F[S+"9"],F[E][10]=F[S+"10"],F[E][11]=F[S+"11"],F[E][12]=F[S+"12"],F[E][13]=F[S+"13"],F[E][14]=F[S+"0"],F[E][15]=F[S+"0"]}function hr(S){return S==Gf||S==Rm||S==b0||S==Im}function ma(){this.eb=[],this.size=this.A=this.fb=0}function ea(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ma,this.f.kb=new ea,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ci(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function en(S,E){var B=S.T,K=E.ba.f.RGBA,te=K.eb,se=K.fb+S.ka*K.A,le=Pi[E.ba.S],he=S.y,xe=S.O,Ne=S.f,De=S.N,Ke=S.ea,Se=S.W,Re=E.cc,ze=E.dc,nt=E.Mc,He=E.Nc,at=S.ka,ct=S.ka+S.T,vt=S.U,ht=vt+1>>1;for(at==0?le(he,xe,null,null,Ne,De,Ke,Se,Ne,De,Ke,Se,te,se,null,null,vt):(le(E.ec,E.fc,he,xe,Re,ze,nt,He,Ne,De,Ke,Se,te,se-K.A,te,se,vt),++B);at+2<ct;at+=2)Re=Ne,ze=De,nt=Ke,He=Se,De+=S.Rc,Se+=S.Rc,se+=2*K.A,le(he,(xe+=2*S.fa)-S.fa,he,xe,Re,ze,nt,He,Ne,De,Ke,Se,te,se-K.A,te,se,vt);return xe+=S.fa,S.j+ct<S.o?(a(E.ec,E.fc,he,xe,vt),a(E.cc,E.dc,Ne,De,ht),a(E.Mc,E.Nc,Ke,Se,ht),B--):1&ct||le(he,xe,null,null,Ne,De,Ke,Se,Ne,De,Ke,Se,te,se+K.A,null,null,vt),B}function ss(S,E,B){var K=S.F,te=[S.J];if(K!=null){var se=S.U,le=E.ba.S,he=le==Kf||le==b0;E=E.ba.f.RGBA;var xe=[0],Ne=S.ka;xe[0]=S.T,S.Kb&&(Ne==0?--xe[0]:(--Ne,te[0]-=S.width),S.j+S.ka+S.T==S.o&&(xe[0]=S.o-S.j-Ne));var De=E.eb;Ne=E.fb+Ne*E.A,S=$f(K,te[0],S.width,se,xe,De,Ne+(he?0:3),E.A),t(B==xe),S&&hr(le)&&Qu(De,Ne,he,se,xe,E.A)}return 0}function ui(S){var E=S.ma,B=E.ba.S,K=11>B,te=B==Gi||B==po||B==Kf||B==y0||B==12||hr(B);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!cc(E.Oa,S,te?11:12))return 0;if(te&&hr(B)&&Cm(),S.da)alert("todo:use_scaling");else{if(K){if(E.Ib=ci,S.Kb){if(B=S.U+1>>1,E.memory=i(S.U+2*B),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+S.U,E.Mc=E.cc,E.Nc=E.dc+B,E.Ib=en,Cm()}}else alert("todo:EmitYUV");te&&(E.Jb=ss,K&&fo())}if(K&&!su){for(S=0;256>S;++S)Di[S]=89858*(S-128)+_0>>wo,i5[S]=-22014*(S-128)+_0,Rv[S]=-45773*(S-128),qm[S]=113618*(S-128)+_0>>wo;for(S=td;S<iu;++S)E=76283*(S-16)+_0>>wo,s5[S-td]=hn(E,255),o5[S-td]=hn(E+8>>4,15);su=1}return 1}function Xt(S){var E=S.ma,B=S.U,K=S.T;return t(!(1&S.ka)),0>=B||0>=K?0:(B=E.Ib(S,E),E.Jb!=null&&E.Jb(S,E,B),E.Dc+=B,1)}function Xn(S){S.ma.memory=null}function os(S,E,B,K){return Z(S,8)!=47?0:(E[0]=Z(S,14)+1,B[0]=Z(S,14)+1,K[0]=Z(S,1),Z(S,3)!=0?0:!S.h)}function Sn(S,E){if(4>S)return S+1;var B=S-2>>1;return(2+(1&S)<<B)+Z(E,B)+1}function Si(S,E){return 120<E?E-120:1<=(B=((B=xo[E-1])>>4)*S+(8-(15&B)))?B:1;var B}function Sa(S,E,B){var K=V(B),te=S[E+=255&K].g-8;return 0<te&&(Q(B,B.u+8),K=V(B),E+=S[E].value,E+=K&(1<<te)-1),Q(B,B.u+S[E].g),S[E].value}function Wa(S,E,B){return B.g+=S.g,B.value+=S.value<<E>>>0,t(8>=B.g),S.g}function ae(S,E,B){var K=S.xc;return t((E=K==0?0:S.vc[S.md*(B>>K)+(E>>K)])<S.Wb),S.Ya[E]}function _e(S,E,B,K){var te=S.ab,se=S.c*E,le=S.C;E=le+E;var he=B,xe=K;for(K=S.Ta,B=S.Ua;0<te--;){var Ne=S.gc[te],De=le,Ke=E,Se=he,Re=xe,ze=(xe=K,he=B,Ne.Ea);switch(t(De<Ke),t(Ke<=Ne.nc),Ne.hc){case 2:An(Se,Re,(Ke-De)*ze,xe,he);break;case 0:var nt=De,He=Ke,at=xe,ct=he,vt=(Ft=Ne).Ea;nt==0&&(p0(Se,Re,null,null,1,at,ct),$r(Se,Re+1,0,0,vt-1,at,ct+1),Re+=vt,ct+=vt,++nt);for(var ht=1<<Ft.b,qt=ht-1,Pt=$e(vt,Ft.b),Nr=Ft.K,Ft=Ft.w+(nt>>Ft.b)*Pt;nt<He;){var Vr=Nr,Ka=Ft,Cr=1;for(g0(Se,Re,at,ct-vt,1,at,ct);Cr<vt;){var Dt=(Cr&~qt)+ht;Dt>vt&&(Dt=vt),(0,dc[Vr[Ka++]>>8&15])(Se,Re+ +Cr,at,ct+Cr-vt,Dt-Cr,at,ct+Cr),Cr=Dt}Re+=vt,ct+=vt,++nt&qt||(Ft+=Pt)}Ke!=Ne.nc&&a(xe,he-ze,xe,he+(Ke-De-1)*ze,ze);break;case 1:for(ze=Se,He=Re,vt=(Se=Ne.Ea)-(ct=Se&~(at=(Re=1<<Ne.b)-1)),nt=$e(Se,Ne.b),ht=Ne.K,Ne=Ne.w+(De>>Ne.b)*nt;De<Ke;){for(qt=ht,Pt=Ne,Nr=new kt,Ft=He+ct,Vr=He+Se;He<Ft;)St(qt[Pt++],Nr),x0(Nr,ze,He,Re,xe,he),He+=Re,he+=Re;He<Vr&&(St(qt[Pt++],Nr),x0(Nr,ze,He,vt,xe,he),He+=vt,he+=vt),++De&at||(Ne+=nt)}break;case 3:if(Se==xe&&Re==he&&0<Ne.b){for(He=xe,Se=ze=he+(Ke-De)*ze-(ct=(Ke-De)*$e(Ne.Ea,Ne.b)),Re=xe,at=he,nt=[],ct=(vt=ct)-1;0<=ct;--ct)nt[ct]=Re[at+ct];for(ct=vt-1;0<=ct;--ct)He[Se+ct]=nt[ct];Om(Ne,De,Ke,xe,ze,xe,he)}else Om(Ne,De,Ke,Se,Re,xe,he)}he=K,xe=B}xe!=B&&a(K,B,he,xe,se)}function me(S,E){var B=S.V,K=S.Ba+S.c*S.C,te=E-S.C;if(t(E<=S.l.o),t(16>=te),0<te){var se=S.l,le=S.Ta,he=S.Ua,xe=se.width;if(_e(S,te,B,K),te=he=[he],t((B=S.C)<(K=E)),t(se.v<se.va),K>se.o&&(K=se.o),B<se.j){var Ne=se.j-B;B=se.j,te[0]+=Ne*xe}if(B>=K?B=0:(te[0]+=4*se.v,se.ka=B-se.j,se.U=se.va-se.v,se.T=K-B,B=1),B){if(he=he[0],11>(B=S.ca).S){var De=B.f.RGBA,Ke=(K=B.S,te=se.U,se=se.T,Ne=De.eb,De.A),Se=se;for(De=De.fb+S.Ma*De.A;0<Se--;){var Re=le,ze=he,nt=te,He=Ne,at=De;switch(K){case Lm:v0(Re,ze,nt,He,at);break;case Gi:fc(Re,ze,nt,He,at);break;case Gf:fc(Re,ze,nt,He,at),Qu(He,at,0,nt,1,0);break;case Mm:Yu(Re,ze,nt,He,at);break;case po:er(Re,ze,nt,He,at,1);break;case Rm:er(Re,ze,nt,He,at,1),Qu(He,at,0,nt,1,0);break;case Kf:er(Re,ze,nt,He,at,0);break;case b0:er(Re,ze,nt,He,at,0),Qu(He,at,1,nt,1,0);break;case y0:hc(Re,ze,nt,He,at);break;case Im:hc(Re,ze,nt,He,at),mo(He,at,nt,1,0);break;case eu:Nl(Re,ze,nt,He,at);break;default:t(0)}he+=xe,De+=Ke}S.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=B.height)}}S.C=E,t(S.C<=S.i)}function pe(S){var E;if(0<S.ua)return 0;for(E=0;E<S.Wb;++E){var B=S.Ya[E].G,K=S.Ya[E].H;if(0<B[1][K[1]+0].g||0<B[2][K[2]+0].g||0<B[3][K[3]+0].g)return 0}return 1}function we(S,E,B,K,te,se){if(S.Z!=0){var le=S.qd,he=S.rd;for(t(gc[S.Z]!=null);E<B;++E)gc[S.Z](le,he,K,te,K,te,se),le=K,he=te,te+=se;S.qd=le,S.rd=he}}function Ae(S,E){var B=S.l.ma,K=B.Z==0||B.Z==1?S.l.j:S.C;if(K=S.C<K?K:S.C,t(E<=S.l.o),E>K){var te=S.l.width,se=B.ca,le=B.tb+te*K,he=S.V,xe=S.Ba+S.c*K,Ne=S.gc;t(S.ab==1),t(Ne[0].hc==3),Sl(Ne[0],K,E,he,xe,se,le),we(B,K,E,se,le,te)}S.C=S.Ma=E}function Ie(S,E,B,K,te,se,le){var he=S.$/K,xe=S.$%K,Ne=S.m,De=S.s,Ke=B+S.$,Se=Ke;te=B+K*te;var Re=B+K*se,ze=280+De.ua,nt=S.Pb?he:16777216,He=0<De.ua?De.Wa:null,at=De.wc,ct=Ke<Re?ae(De,xe,he):null;t(S.C<se),t(Re<=te);var vt=!1;e:for(;;){for(;vt||Ke<Re;){var ht=0;if(he>=nt){var qt=Ke-B;t((nt=S).Pb),nt.wd=nt.m,nt.xd=qt,0<nt.s.ua&&Ue(nt.s.Wa,nt.s.vb),nt=he+tu}if(xe&at||(ct=ae(De,xe,he)),t(ct!=null),ct.Qb&&(E[Ke]=ct.qb,vt=!0),!vt)if(de(Ne),ct.jc){ht=Ne,qt=E;var Pt=Ke,Nr=ct.pd[V(ht)&Zc-1];t(ct.jc),256>Nr.g?(Q(ht,ht.u+Nr.g),qt[Pt]=Nr.value,ht=0):(Q(ht,ht.u+Nr.g-256),t(256<=Nr.value),ht=Nr.value),ht==0&&(vt=!0)}else ht=Sa(ct.G[0],ct.H[0],Ne);if(Ne.h)break;if(vt||256>ht){if(!vt)if(ct.nd)E[Ke]=(ct.qb|ht<<8)>>>0;else{if(de(Ne),vt=Sa(ct.G[1],ct.H[1],Ne),de(Ne),qt=Sa(ct.G[2],ct.H[2],Ne),Pt=Sa(ct.G[3],ct.H[3],Ne),Ne.h)break;E[Ke]=(Pt<<24|vt<<16|ht<<8|qt)>>>0}if(vt=!1,++Ke,++xe>=K&&(xe=0,++he,le!=null&&he<=se&&!(he%16)&&le(S,he),He!=null))for(;Se<Ke;)ht=E[Se++],He.X[(506832829*ht&4294967295)>>>He.Mb]=ht}else if(280>ht){if(ht=Sn(ht-256,Ne),qt=Sa(ct.G[4],ct.H[4],Ne),de(Ne),qt=Si(K,qt=Sn(qt,Ne)),Ne.h)break;if(Ke-B<qt||te-Ke<ht)break e;for(Pt=0;Pt<ht;++Pt)E[Ke+Pt]=E[Ke+Pt-qt];for(Ke+=ht,xe+=ht;xe>=K;)xe-=K,++he,le!=null&&he<=se&&!(he%16)&&le(S,he);if(t(Ke<=te),xe&at&&(ct=ae(De,xe,he)),He!=null)for(;Se<Ke;)ht=E[Se++],He.X[(506832829*ht&4294967295)>>>He.Mb]=ht}else{if(!(ht<ze))break e;for(vt=ht-280,t(He!=null);Se<Ke;)ht=E[Se++],He.X[(506832829*ht&4294967295)>>>He.Mb]=ht;ht=Ke,t(!(vt>>>(qt=He).Xa)),E[ht]=qt.X[vt],vt=!0}vt||t(Ne.h==z(Ne))}if(S.Pb&&Ne.h&&Ke<te)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Ue(S.s.vb,S.s.Wa);else{if(Ne.h)break e;le!=null&&le(S,he>se?se:he),S.a=0,S.$=Ke-B}return 1}return S.a=3,0}function rt(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var E=S.Wa;E!=null&&(E.X=null),S.vb=null,t(S!=null)}function We(){var S=new Qt;return S==null?null:(S.a=0,S.xb=Wg,Dr("Predictor","VP8LPredictors"),Dr("Predictor","VP8LPredictors_C"),Dr("PredictorAdd","VP8LPredictorsAdd"),Dr("PredictorAdd","VP8LPredictorsAdd_C"),An=It,x0=bt,v0=Tr,fc=Gt,hc=Nt,Nl=Yt,Yu=Sr,F.VP8LMapColor32b=_l,F.VP8LMapColor8b=Ei,S)}function Ve(S,E,B,K,te){var se=1,le=[S],he=[E],xe=K.m,Ne=K.s,De=null,Ke=0;e:for(;;){if(B)for(;se&&Z(xe,1);){var Se=le,Re=he,ze=K,nt=1,He=ze.m,at=ze.gc[ze.ab],ct=Z(He,2);if(ze.Oc&1<<ct)se=0;else{switch(ze.Oc|=1<<ct,at.hc=ct,at.Ea=Se[0],at.nc=Re[0],at.K=[null],++ze.ab,t(4>=ze.ab),ct){case 0:case 1:at.b=Z(He,3)+2,nt=Ve($e(at.Ea,at.b),$e(at.nc,at.b),0,ze,at.K),at.K=at.K[0];break;case 3:var vt,ht=Z(He,8)+1,qt=16<ht?0:4<ht?1:2<ht?2:3;if(Se[0]=$e(at.Ea,qt),at.b=qt,vt=nt=Ve(ht,1,0,ze,at.K)){var Pt,Nr=ht,Ft=at,Vr=1<<(8>>Ft.b),Ka=i(Vr);if(Ka==null)vt=0;else{var Cr=Ft.K[0],Dt=Ft.w;for(Ka[0]=Ft.K[0][0],Pt=1;Pt<1*Nr;++Pt)Ka[Pt]=ft(Cr[Dt+Pt],Ka[Pt-1]);for(;Pt<4*Vr;++Pt)Ka[Pt]=0;Ft.K[0]=null,Ft.K[0]=Ka,vt=1}}nt=vt;break;case 2:break;default:t(0)}se=nt}}if(le=le[0],he=he[0],se&&Z(xe,1)&&!(se=1<=(Ke=Z(xe,4))&&11>=Ke)){K.a=3;break e}var Tt;if(Tt=se)t:{var rn,pr,Lr,wa=K,Zn=le,Li=he,Ia=Ke,In=B,Yi=wa.m,Fn=wa.s,Ur=[null],na=1,an=0,ua=vo[Ia];r:for(;;){if(In&&Z(Yi,1)){var ei=Z(Yi,3)+2,nn=$e(Zn,ei),ia=$e(Li,ei),Cn=nn*ia;if(!Ve(nn,ia,0,wa,Ur))break r;for(Ur=Ur[0],Fn.xc=ei,rn=0;rn<Cn;++rn){var ka=Ur[rn]>>8&65535;Ur[rn]=ka,ka>=na&&(na=ka+1)}}if(Yi.h)break r;for(pr=0;5>pr;++pr){var Bn=Zu[pr];!pr&&0<Ia&&(Bn+=1<<Ia),an<Bn&&(an=Bn)}var Un=s(na*ua,H),Aa=na,ra=s(Aa,ne);if(ra==null)var Xi=null;else t(65536>=Aa),Xi=ra;var pn=i(an);if(Xi==null||pn==null||Un==null){wa.a=1;break r}var ir=Un;for(rn=Lr=0;rn<na;++rn){var cr=Xi[rn],sa=cr.G,_s=cr.H,ko=0,fs=1,zn=0;for(pr=0;5>pr;++pr){Bn=Zu[pr],sa[pr]=ir,_s[pr]=Lr,!pr&&0<Ia&&(Bn+=1<<Ia);n:{var ou,lu=Bn,Hm=wa,Fa=pn,Kg=ir,Gg=Lr,Wm=0,xc=Hm.m,l5=Z(xc,1);if(n(Fa,0,0,lu),l5){var Yg=Z(xc,1)+1,Xg=Z(xc,1),Vm=Z(xc,Xg==0?1:8);Fa[Vm]=1,Yg==2&&(Fa[Vm=Z(xc,8)]=1);var fi=1}else{var gn=i(19),Jf=Z(xc,4)+4;if(19<Jf){Hm.a=3;var cu=0;break n}for(ou=0;ou<Jf;++ou)gn[Yf[ou]]=Z(xc,3);var N0=void 0,rd=void 0,Tl=Hm,Km=gn,j0=lu,Gm=Fa,Ym=0,vc=Tl.m,Qg=8,Jg=s(128,H);a:for(;M(Jg,0,7,Km,19);){if(Z(vc,1)){var Iv=2+2*Z(vc,3);if((N0=2+Z(vc,Iv))>j0)break a}else N0=j0;for(rd=0;rd<j0&&N0--;){de(vc);var Zg=Jg[0+(127&V(vc))];Q(vc,vc.u+Zg.g);var uu=Zg.value;if(16>uu)Gm[rd++]=uu,uu!=0&&(Qg=uu);else{var Fv=uu==16,Bv=uu-16,Uv=w0[Bv],ex=Z(vc,go[Bv])+Uv;if(rd+ex>j0)break a;for(var zv=Fv?Qg:0;0<ex--;)Gm[rd++]=zv}}Ym=1;break a}Ym||(Tl.a=3),fi=Ym}(fi=fi&&!xc.h)&&(Wm=M(Kg,Gg,8,Fa,lu)),fi&&Wm!=0?cu=Wm:(Hm.a=3,cu=0)}if(cu==0)break r;if(fs&&Fm[pr]==1&&(fs=ir[Lr].g==0),ko+=ir[Lr].g,Lr+=cu,3>=pr){var ad,Xm=pn[0];for(ad=1;ad<Bn;++ad)pn[ad]>Xm&&(Xm=pn[ad]);zn+=Xm}}if(cr.nd=fs,cr.Qb=0,fs&&(cr.qb=(sa[3][_s[3]+0].value<<24|sa[1][_s[1]+0].value<<16|sa[2][_s[2]+0].value)>>>0,ko==0&&256>sa[0][_s[0]+0].value&&(cr.Qb=1,cr.qb+=sa[0][_s[0]+0].value<<8)),cr.jc=!cr.Qb&&6>zn,cr.jc){var Zf,El=cr;for(Zf=0;Zf<Zc;++Zf){var yc=Zf,bc=El.pd[yc],Qm=El.G[0][El.H[0]+yc];256<=Qm.value?(bc.g=Qm.g+256,bc.value=Qm.value):(bc.g=0,bc.value=0,yc>>=Wa(Qm,8,bc),yc>>=Wa(El.G[1][El.H[1]+yc],16,bc),yc>>=Wa(El.G[2][El.H[2]+yc],0,bc),Wa(El.G[3][El.H[3]+yc],24,bc))}}}Fn.vc=Ur,Fn.Wb=na,Fn.Ya=Xi,Fn.yc=Un,Tt=1;break t}Tt=0}if(!(se=Tt)){K.a=3;break e}if(0<Ke){if(Ne.ua=1<<Ke,!oe(Ne.Wa,Ke)){K.a=1,se=0;break e}}else Ne.ua=0;var Jm=K,nd=le,qv=he,A0=Jm.s,T0=A0.xc;if(Jm.c=nd,Jm.i=qv,A0.md=$e(nd,T0),A0.wc=T0==0?-1:(1<<T0)-1,B){K.xb=ru;break e}if((De=i(le*he))==null){K.a=1,se=0;break e}se=(se=Ie(K,De,0,le,he,he,null))&&!xe.h;break e}return se?(te!=null?te[0]=De:(t(De==null),t(B)),K.$=0,B||rt(Ne)):rt(Ne),se}function ye(S,E){var B=S.c*S.i,K=B+E+16*E;return t(S.c<=E),S.V=i(K),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+B+E,1)}function Ye(S,E){var B=S.C,K=E-B,te=S.V,se=S.Ba+S.c*B;for(t(E<=S.l.o);0<K;){var le=16<K?16:K,he=S.l.ma,xe=S.l.width,Ne=xe*le,De=he.ca,Ke=he.tb+xe*B,Se=S.Ta,Re=S.Ua;_e(S,le,te,se),Xs(Se,Re,De,Ke,Ne),we(he,B,B+le,De,Ke,xe),K-=le,te+=le*S.c,B+=le}t(B==E),S.C=S.Ma=E}function ot(){this.ub=this.yd=this.td=this.Rb=0}function xt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function mt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function wt(){this.Yb=(function(){var S=[];return(function E(B,K,te){for(var se=te[K],le=0;le<se&&(B.push(te.length>K+1?[]:0),!(te.length<K+1));le++)E(B[le],K+1,te)})(S,0,[3,11]),S})()}function Ct(){this.jb=i(3),this.Wc=o([4,8],wt),this.Xc=o([4,17],wt)}function Er(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function fr(){this.ld=this.La=this.dd=this.tc=0}function oa(){this.Na=this.la=0}function Ni(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Io(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fo(){this.uc=this.M=this.Nb=0,this.wa=Array(new fr),this.Y=0,this.ya=Array(new Io),this.aa=0,this.l=new Qn}function $s(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Kc(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new ot,this.Kc=new xt,this.ed=new Er,this.Qa=new mt,this.Ic=this.$c=this.Aa=0,this.D=new Fo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,Ni),this.Pa=new Ct,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $s),this.Hd=0,this.rb=Array(new oa),this.sb=0,this.wa=Array(new fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Io),this.L=this.aa=0,this.gd=o([4,2],fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function l0(){var S=new Kc;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Qs||(Qs=ec)),S}function Na(S,E,B){return S.a==0&&(S.a=E,S.sc=B,S.cb=0),0}function ls(S,E,B){return 3<=B&&S[E+0]==157&&S[E+1]==1&&S[E+2]==42}function Cf(S,E){if(S==null)return 0;if(S.a=0,S.sc="OK",E==null)return Na(S,2,"null VP8Io passed to VP8GetHeaders()");var B=E.data,K=E.w,te=E.ha;if(4>te)return Na(S,7,"Truncated header.");var se=B[K+0]|B[K+1]<<8|B[K+2]<<16,le=S.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return Na(S,3,"Incorrect keyframe parameters.");if(!le.yd)return Na(S,4,"Frame not displayable.");K+=3,te-=3;var he=S.Kc;if(le.Rb){if(7>te)return Na(S,7,"cannot parse picture header");if(!ls(B,K,te))return Na(S,3,"Bad code word");he.c=16383&(B[K+4]<<8|B[K+3]),he.Td=B[K+4]>>6,he.i=16383&(B[K+6]<<8|B[K+5]),he.Ud=B[K+6]>>6,K+=7,te-=7,S.za=he.c+15>>4,S.Ub=he.i+15>>4,E.width=he.c,E.height=he.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,n((se=S.Pa).jb,0,255,se.jb.length),t((se=S.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,n(se.Zb,0,0,se.Zb.length),n(se.Lb,0,0,se.Lb)}if(le.ub>te)return Na(S,7,"bad partition length");X(se=S.m,B,K,le.ub),K+=le.ub,te-=le.ub,le.Rb&&(he.Ld=ie(se),he.Kd=ie(se)),he=S.Qa;var xe,Ne=S.Pa;if(t(se!=null),t(he!=null),he.Cb=ie(se),he.Cb){if(he.Bb=ie(se),ie(se)){for(he.Fb=ie(se),xe=0;4>xe;++xe)he.Zb[xe]=ie(se)?fe(se,7):0;for(xe=0;4>xe;++xe)he.Lb[xe]=ie(se)?fe(se,6):0}if(he.Bb)for(xe=0;3>xe;++xe)Ne.jb[xe]=ie(se)?re(se,8):255}else he.Bb=0;if(se.Ka)return Na(S,3,"cannot parse segment header");if((he=S.ed).zd=ie(se),he.Tb=re(se,6),he.wb=re(se,3),he.Pc=ie(se),he.Pc&&ie(se)){for(Ne=0;4>Ne;++Ne)ie(se)&&(he.vd[Ne]=fe(se,6));for(Ne=0;4>Ne;++Ne)ie(se)&&(he.od[Ne]=fe(se,6))}if(S.L=he.Tb==0?0:he.zd?1:2,se.Ka)return Na(S,3,"cannot parse filter header");var De=te;if(te=xe=K,K=xe+De,he=De,S.Xb=(1<<re(S.m,2))-1,De<3*(Ne=S.Xb))B=7;else{for(xe+=3*Ne,he-=3*Ne,De=0;De<Ne;++De){var Ke=B[te+0]|B[te+1]<<8|B[te+2]<<16;Ke>he&&(Ke=he),X(S.Jc[+De],B,xe,Ke),xe+=Ke,he-=Ke,te+=3}X(S.Jc[+Ne],B,xe,he),B=xe<K?0:5}if(B!=0)return Na(S,B,"cannot parse partitions");for(B=re(xe=S.m,7),te=ie(xe)?fe(xe,4):0,K=ie(xe)?fe(xe,4):0,he=ie(xe)?fe(xe,4):0,Ne=ie(xe)?fe(xe,4):0,xe=ie(xe)?fe(xe,4):0,De=S.Qa,Ke=0;4>Ke;++Ke){if(De.Cb){var Se=De.Zb[Ke];De.Fb||(Se+=B)}else{if(0<Ke){S.pb[Ke]=S.pb[0];continue}Se=B}var Re=S.pb[Ke];Re.Sc[0]=yo[hn(Se+te,127)],Re.Sc[1]=bo[hn(Se+0,127)],Re.Eb[0]=2*yo[hn(Se+K,127)],Re.Eb[1]=101581*bo[hn(Se+he,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=yo[hn(Se+Ne,117)],Re.Qc[1]=bo[hn(Se+xe,127)],Re.lc=Se+xe}if(!le.Rb)return Na(S,4,"Not a key frame.");for(ie(se),le=S.Pa,B=0;4>B;++B){for(te=0;8>te;++te)for(K=0;3>K;++K)for(he=0;11>he;++he)Ne=je(se,Va[B][te][K][he])?re(se,8):Mv[B][te][K][he],le.Wc[B][te].Yb[K][he]=Ne;for(te=0;17>te;++te)le.Xc[B][te]=le.Wc[B][Gr[te]]}return S.kc=ie(se),S.kc&&(S.Bd=re(se,8)),S.cb=1}function ec(S,E,B,K,te,se,le){var he=E[te].Yb[B];for(B=0;16>te;++te){if(!je(S,he[B+0]))return te;for(;!je(S,he[B+1]);)if(he=E[++te].Yb[0],B=0,te==16)return 16;var xe=E[te+1].Yb;if(je(S,he[B+2])){var Ne=S,De=0;if(je(Ne,(Se=he)[(Ke=B)+3]))if(je(Ne,Se[Ke+6])){for(he=0,Ke=2*(De=je(Ne,Se[Ke+8]))+(Se=je(Ne,Se[Ke+9+De])),De=0,Se=Lv[Ke];Se[he];++he)De+=De+je(Ne,Se[he]);De+=3+(8<<Ke)}else je(Ne,Se[Ke+7])?(De=7+2*je(Ne,165),De+=je(Ne,145)):De=5+je(Ne,159);else De=je(Ne,Se[Ke+4])?3+je(Ne,Se[Ke+5]):2;he=xe[2]}else De=1,he=xe[1];xe=le+Hg[te],0>(Ne=S).b&&Ee(Ne);var Ke,Se=Ne.b,Re=(Ke=Ne.Ca>>1)-(Ne.I>>Se)>>31;--Ne.b,Ne.Ca+=Re,Ne.Ca|=1,Ne.I-=(Ke+1&Re)<<Se,se[xe]=((De^Re)-Re)*K[(0<te)+0]}return 16}function tc(S){var E=S.rb[S.sb-1];E.la=0,E.Na=0,n(S.zc,0,0,S.zc.length),S.ja=0}function uo(S,E,B,K,te){te=S[E+B+32*K]+(te>>3),S[E+B+32*K]=-256&te?0>te?0:255:te}function pl(S,E,B,K,te,se){uo(S,E,0,B,K+te),uo(S,E,1,B,K+se),uo(S,E,2,B,K-se),uo(S,E,3,B,K-te)}function Nn(S){return(20091*S>>16)+S}function Wi(S,E,B,K){var te,se=0,le=i(16);for(te=0;4>te;++te){var he=S[E+0]+S[E+8],xe=S[E+0]-S[E+8],Ne=(35468*S[E+4]>>16)-Nn(S[E+12]),De=Nn(S[E+4])+(35468*S[E+12]>>16);le[se+0]=he+De,le[se+1]=xe+Ne,le[se+2]=xe-Ne,le[se+3]=he-De,se+=4,E++}for(te=se=0;4>te;++te)he=(S=le[se+0]+4)+le[se+8],xe=S-le[se+8],Ne=(35468*le[se+4]>>16)-Nn(le[se+12]),uo(B,K,0,0,he+(De=Nn(le[se+4])+(35468*le[se+12]>>16))),uo(B,K,1,0,xe+Ne),uo(B,K,2,0,xe-Ne),uo(B,K,3,0,he-De),se++,K+=32}function Of(S,E,B,K){var te=S[E+0]+4,se=35468*S[E+4]>>16,le=Nn(S[E+4]),he=35468*S[E+1]>>16;pl(B,K,0,te+le,S=Nn(S[E+1]),he),pl(B,K,1,te+se,S,he),pl(B,K,2,te-se,S,he),pl(B,K,3,te-le,S,he)}function km(S,E,B,K,te){Wi(S,E,B,K),te&&Wi(S,E+16,B,K+4)}function Pf(S,E,B,K){mc(S,E+0,B,K,1),mc(S,E+32,B,K+128,1)}function cs(S,E,B,K){var te;for(S=S[E+0]+4,te=0;4>te;++te)for(E=0;4>E;++E)uo(B,K,E,te,S)}function Df(S,E,B,K){S[E+0]&&ca(S,E+0,B,K),S[E+16]&&ca(S,E+16,B,K+4),S[E+32]&&ca(S,E+32,B,K+128),S[E+48]&&ca(S,E+48,B,K+128+4)}function Lf(S,E,B,K){var te,se=i(16);for(te=0;4>te;++te){var le=S[E+0+te]+S[E+12+te],he=S[E+4+te]+S[E+8+te],xe=S[E+4+te]-S[E+8+te],Ne=S[E+0+te]-S[E+12+te];se[0+te]=le+he,se[8+te]=le-he,se[4+te]=Ne+xe,se[12+te]=Ne-xe}for(te=0;4>te;++te)le=(S=se[0+4*te]+3)+se[3+4*te],he=se[1+4*te]+se[2+4*te],xe=se[1+4*te]-se[2+4*te],Ne=S-se[3+4*te],B[K+0]=le+he>>3,B[K+16]=Ne+xe>>3,B[K+32]=le-he>>3,B[K+48]=Ne-xe>>3,K+=64}function Hs(S,E,B){var K,te=E-32,se=Ki,le=255-S[te-1];for(K=0;K<B;++K){var he,xe=se,Ne=le+S[E-1];for(he=0;he<B;++he)S[E+he]=xe[Ne+S[te+he]];E+=32}}function Mf(S,E){Hs(S,E,4)}function _m(S,E){Hs(S,E,8)}function Sm(S,E){Hs(S,E,16)}function Rf(S,E){var B;for(B=0;16>B;++B)a(S,E+32*B,S,E-32,16)}function If(S,E){var B;for(B=16;0<B;--B)n(S,E,S[E-1],16),E+=32}function Uu(S,E,B){var K;for(K=0;16>K;++K)n(E,B+32*K,S,16)}function Bo(S,E){var B,K=16;for(B=0;16>B;++B)K+=S[E-1+32*B]+S[E+B-32];Uu(K>>5,S,E)}function Uo(S,E){var B,K=8;for(B=0;16>B;++B)K+=S[E-1+32*B];Uu(K>>4,S,E)}function rc(S,E){var B,K=8;for(B=0;16>B;++B)K+=S[E+B-32];Uu(K>>4,S,E)}function zu(S,E){Uu(128,S,E)}function mr(S,E,B){return S+2*E+B+2>>2}function Gc(S,E){var B,K=E-32;for(K=new Uint8Array([mr(S[K-1],S[K+0],S[K+1]),mr(S[K+0],S[K+1],S[K+2]),mr(S[K+1],S[K+2],S[K+3]),mr(S[K+2],S[K+3],S[K+4])]),B=0;4>B;++B)a(S,E+32*B,K,0,K.length)}function Nm(S,E){var B=S[E-1],K=S[E-1+32],te=S[E-1+64],se=S[E-1+96];Me(S,E+0,16843009*mr(S[E-1-32],B,K)),Me(S,E+32,16843009*mr(B,K,te)),Me(S,E+64,16843009*mr(K,te,se)),Me(S,E+96,16843009*mr(te,se,se))}function Ff(S,E){var B,K=4;for(B=0;4>B;++B)K+=S[E+B-32]+S[E-1+32*B];for(K>>=3,B=0;4>B;++B)n(S,E+32*B,K,4)}function jm(S,E){var B=S[E-1+0],K=S[E-1+32],te=S[E-1+64],se=S[E-1-32],le=S[E+0-32],he=S[E+1-32],xe=S[E+2-32],Ne=S[E+3-32];S[E+0+96]=mr(K,te,S[E-1+96]),S[E+1+96]=S[E+0+64]=mr(B,K,te),S[E+2+96]=S[E+1+64]=S[E+0+32]=mr(se,B,K),S[E+3+96]=S[E+2+64]=S[E+1+32]=S[E+0+0]=mr(le,se,B),S[E+3+64]=S[E+2+32]=S[E+1+0]=mr(he,le,se),S[E+3+32]=S[E+2+0]=mr(xe,he,le),S[E+3+0]=mr(Ne,xe,he)}function Ws(S,E){var B=S[E+1-32],K=S[E+2-32],te=S[E+3-32],se=S[E+4-32],le=S[E+5-32],he=S[E+6-32],xe=S[E+7-32];S[E+0+0]=mr(S[E+0-32],B,K),S[E+1+0]=S[E+0+32]=mr(B,K,te),S[E+2+0]=S[E+1+32]=S[E+0+64]=mr(K,te,se),S[E+3+0]=S[E+2+32]=S[E+1+64]=S[E+0+96]=mr(te,se,le),S[E+3+32]=S[E+2+64]=S[E+1+96]=mr(se,le,he),S[E+3+64]=S[E+2+96]=mr(le,he,xe),S[E+3+96]=mr(he,xe,xe)}function ji(S,E){var B=S[E-1+0],K=S[E-1+32],te=S[E-1+64],se=S[E-1-32],le=S[E+0-32],he=S[E+1-32],xe=S[E+2-32],Ne=S[E+3-32];S[E+0+0]=S[E+1+64]=se+le+1>>1,S[E+1+0]=S[E+2+64]=le+he+1>>1,S[E+2+0]=S[E+3+64]=he+xe+1>>1,S[E+3+0]=xe+Ne+1>>1,S[E+0+96]=mr(te,K,B),S[E+0+64]=mr(K,B,se),S[E+0+32]=S[E+1+96]=mr(B,se,le),S[E+1+32]=S[E+2+96]=mr(se,le,he),S[E+2+32]=S[E+3+96]=mr(le,he,xe),S[E+3+32]=mr(he,xe,Ne)}function Bf(S,E){var B=S[E+0-32],K=S[E+1-32],te=S[E+2-32],se=S[E+3-32],le=S[E+4-32],he=S[E+5-32],xe=S[E+6-32],Ne=S[E+7-32];S[E+0+0]=B+K+1>>1,S[E+1+0]=S[E+0+64]=K+te+1>>1,S[E+2+0]=S[E+1+64]=te+se+1>>1,S[E+3+0]=S[E+2+64]=se+le+1>>1,S[E+0+32]=mr(B,K,te),S[E+1+32]=S[E+0+96]=mr(K,te,se),S[E+2+32]=S[E+1+96]=mr(te,se,le),S[E+3+32]=S[E+2+96]=mr(se,le,he),S[E+3+64]=mr(le,he,xe),S[E+3+96]=mr(he,xe,Ne)}function qu(S,E){var B=S[E-1+0],K=S[E-1+32],te=S[E-1+64],se=S[E-1+96];S[E+0+0]=B+K+1>>1,S[E+2+0]=S[E+0+32]=K+te+1>>1,S[E+2+32]=S[E+0+64]=te+se+1>>1,S[E+1+0]=mr(B,K,te),S[E+3+0]=S[E+1+32]=mr(K,te,se),S[E+3+32]=S[E+1+64]=mr(te,se,se),S[E+3+64]=S[E+2+64]=S[E+0+96]=S[E+1+96]=S[E+2+96]=S[E+3+96]=se}function Vs(S,E){var B=S[E-1+0],K=S[E-1+32],te=S[E-1+64],se=S[E-1+96],le=S[E-1-32],he=S[E+0-32],xe=S[E+1-32],Ne=S[E+2-32];S[E+0+0]=S[E+2+32]=B+le+1>>1,S[E+0+32]=S[E+2+64]=K+B+1>>1,S[E+0+64]=S[E+2+96]=te+K+1>>1,S[E+0+96]=se+te+1>>1,S[E+3+0]=mr(he,xe,Ne),S[E+2+0]=mr(le,he,xe),S[E+1+0]=S[E+3+32]=mr(B,le,he),S[E+1+32]=S[E+3+64]=mr(K,B,le),S[E+1+64]=S[E+3+96]=mr(te,K,B),S[E+1+96]=mr(se,te,K)}function $u(S,E){var B;for(B=0;8>B;++B)a(S,E+32*B,S,E-32,8)}function gl(S,E){var B;for(B=0;8>B;++B)n(S,E,S[E-1],8),E+=32}function Hu(S,E,B){var K;for(K=0;8>K;++K)n(E,B+32*K,S,8)}function ac(S,E){var B,K=8;for(B=0;8>B;++B)K+=S[E+B-32]+S[E-1+32*B];Hu(K>>4,S,E)}function c0(S,E){var B,K=4;for(B=0;8>B;++B)K+=S[E+B-32];Hu(K>>3,S,E)}function u0(S,E){var B,K=4;for(B=0;8>B;++B)K+=S[E-1+32*B];Hu(K>>3,S,E)}function di(S,E){Hu(128,S,E)}function Ks(S,E,B){var K=S[E-B],te=S[E+0],se=3*(te-K)+pc[1020+S[E-2*B]-S[E+B]],le=Vf[112+(se+4>>3)];S[E-B]=Ki[255+K+Vf[112+(se+3>>3)]],S[E+0]=Ki[255+te-le]}function xl(S,E,B,K){var te=S[E+0],se=S[E+B];return Ci[255+S[E-2*B]-S[E-B]]>K||Ci[255+se-te]>K}function nc(S,E,B,K){return 4*Ci[255+S[E-B]-S[E+0]]+Ci[255+S[E-2*B]-S[E+B]]<=K}function d0(S,E,B,K,te){var se=S[E-3*B],le=S[E-2*B],he=S[E-B],xe=S[E+0],Ne=S[E+B],De=S[E+2*B],Ke=S[E+3*B];return 4*Ci[255+he-xe]+Ci[255+le-Ne]>K?0:Ci[255+S[E-4*B]-se]<=te&&Ci[255+se-le]<=te&&Ci[255+le-he]<=te&&Ci[255+Ke-De]<=te&&Ci[255+De-Ne]<=te&&Ci[255+Ne-xe]<=te}function Wu(S,E,B,K){var te=2*K+1;for(K=0;16>K;++K)nc(S,E+K,B,te)&&Ks(S,E+K,B)}function ic(S,E,B,K){var te=2*K+1;for(K=0;16>K;++K)nc(S,E+K*B,1,te)&&Ks(S,E+K*B,1)}function Yc(S,E,B,K){var te;for(te=3;0<te;--te)Wu(S,E+=4*B,B,K)}function Vu(S,E,B,K){var te;for(te=3;0<te;--te)ic(S,E+=4,B,K)}function vl(S,E,B,K,te,se,le,he){for(se=2*se+1;0<te--;){if(d0(S,E,B,se,le))if(xl(S,E,B,he))Ks(S,E,B);else{var xe=S,Ne=E,De=B,Ke=xe[Ne-2*De],Se=xe[Ne-De],Re=xe[Ne+0],ze=xe[Ne+De],nt=xe[Ne+2*De],He=27*(ct=pc[1020+3*(Re-Se)+pc[1020+Ke-ze]])+63>>7,at=18*ct+63>>7,ct=9*ct+63>>7;xe[Ne-3*De]=Ki[255+xe[Ne-3*De]+ct],xe[Ne-2*De]=Ki[255+Ke+at],xe[Ne-De]=Ki[255+Se+He],xe[Ne+0]=Ki[255+Re-He],xe[Ne+De]=Ki[255+ze-at],xe[Ne+2*De]=Ki[255+nt-ct]}E+=K}}function sc(S,E,B,K,te,se,le,he){for(se=2*se+1;0<te--;){if(d0(S,E,B,se,le))if(xl(S,E,B,he))Ks(S,E,B);else{var xe=S,Ne=E,De=B,Ke=xe[Ne-De],Se=xe[Ne+0],Re=xe[Ne+De],ze=Vf[112+(4+(nt=3*(Se-Ke))>>3)],nt=Vf[112+(nt+3>>3)],He=ze+1>>1;xe[Ne-2*De]=Ki[255+xe[Ne-2*De]+He],xe[Ne-De]=Ki[255+Ke+nt],xe[Ne+0]=Ki[255+Se-ze],xe[Ne+De]=Ki[255+Re-He]}E+=K}}function Am(S,E,B,K,te,se){vl(S,E,B,1,16,K,te,se)}function Tm(S,E,B,K,te,se){vl(S,E,1,B,16,K,te,se)}function oc(S,E,B,K,te,se){var le;for(le=3;0<le;--le)sc(S,E+=4*B,B,1,16,K,te,se)}function Em(S,E,B,K,te,se){var le;for(le=3;0<le;--le)sc(S,E+=4,1,B,16,K,te,se)}function I(S,E,B,K,te,se,le,he){vl(S,E,te,1,8,se,le,he),vl(B,K,te,1,8,se,le,he)}function ee(S,E,B,K,te,se,le,he){vl(S,E,1,te,8,se,le,he),vl(B,K,1,te,8,se,le,he)}function Te(S,E,B,K,te,se,le,he){sc(S,E+4*te,te,1,8,se,le,he),sc(B,K+4*te,te,1,8,se,le,he)}function Pe(S,E,B,K,te,se,le,he){sc(S,E+4,1,te,8,se,le,he),sc(B,K+4,1,te,8,se,le,he)}function Fe(){this.ba=new Wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ut(){this.ua=0,this.Wa=new ve,this.vb=new ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new H}function Qt(){this.xb=this.a=0,this.l=new Qn,this.ca=new Wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ut,this.ab=0,this.gc=s(4,pt),this.Oc=0}function vr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(S,E,B,K,te,se,le){for(S=S==null?0:S[E+0],E=0;E<le;++E)te[se+E]=S+B[K+E]&255,S=te[se+E]}function la(S,E,B,K,te,se,le){var he;if(S==null)Ar(null,null,B,K,te,se,le);else for(he=0;he<le;++he)te[se+he]=S[E+he]+B[K+he]&255}function tn(S,E,B,K,te,se,le){if(S==null)Ar(null,null,B,K,te,se,le);else{var he,xe=S[E+0],Ne=xe,De=xe;for(he=0;he<le;++he)Ne=De+(xe=S[E+he])-Ne,De=B[K+he]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=xe,te[se+he]=De}}function jn(S,E,B,K){var te=E.width,se=E.o;if(t(S!=null&&E!=null),0>B||0>=K||B+K>se)return null;if(!S.Cc){if(S.ga==null){var le;if(S.ga=new vr,(le=S.ga==null)||(le=E.width*E.o,t(S.Gb.length==0),S.Gb=i(le),S.Uc=0,S.Gb==null?le=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,le=1),le=!le),!le){le=S.ga;var he=S.Fa,xe=S.P,Ne=S.qc,De=S.mb,Ke=S.nb,Se=xe+1,Re=Ne-1,ze=le.l;if(t(he!=null&&De!=null&&E!=null),gc[0]=null,gc[1]=Ar,gc[2]=la,gc[3]=tn,le.ca=De,le.tb=Ke,le.c=E.width,le.i=E.height,t(0<le.c&&0<le.i),1>=Ne)E=0;else if(le.$a=3&he[xe+0],le.Z=he[xe+0]>>2&3,le.Lc=he[xe+0]>>4&3,xe=he[xe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||xe)E=0;else if(ze.put=Xt,ze.ac=ui,ze.bc=Xn,ze.ma=le,ze.width=E.width,ze.height=E.height,ze.Da=E.Da,ze.v=E.v,ze.va=E.va,ze.j=E.j,ze.o=E.o,le.$a)e:{t(le.$a==1),E=We();t:for(;;){if(E==null){E=0;break e}if(t(le!=null),le.mc=E,E.c=le.c,E.i=le.i,E.l=le.l,E.l.ma=le,E.l.width=le.c,E.l.height=le.i,E.a=0,ce(E.m,he,Se,Re),!Ve(le.c,le.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&pe(E.s)?(le.ic=1,he=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(he),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(le.ic=0,E=ye(E,le.c)),!E))break t;E=1;break e}le.mc=null,E=0}else E=Re>=le.c*le.i;le=!E}if(le)return null;S.ga.Lc!=1?S.Ga=0:K=se-B}t(S.ga!=null),t(B+K<=se);e:{if(E=(he=S.ga).c,se=he.l.o,he.$a==0){if(Se=S.rc,Re=S.Vc,ze=S.Fa,xe=S.P+1+B*E,Ne=S.mb,De=S.nb+B*E,t(xe<=S.P+S.qc),he.Z!=0)for(t(gc[he.Z]!=null),le=0;le<K;++le)gc[he.Z](Se,Re,ze,xe,Ne,De,E),Se=Ne,Re=De,De+=E,xe+=E;else for(le=0;le<K;++le)a(Ne,De,ze,xe,E),Se=Ne,Re=De,De+=E,xe+=E;S.rc=Se,S.Vc=Re}else{if(t(he.mc!=null),E=B+K,t((le=he.mc)!=null),t(E<=le.i),le.C>=E)E=1;else if(he.ic||fo(),he.ic){he=le.V,Se=le.Ba,Re=le.c;var nt=le.i,He=(ze=1,xe=le.$/Re,Ne=le.$%Re,De=le.m,Ke=le.s,le.$),at=Re*nt,ct=Re*E,vt=Ke.wc,ht=He<ct?ae(Ke,Ne,xe):null;t(He<=at),t(E<=nt),t(pe(Ke));t:for(;;){for(;!De.h&&He<ct;){if(Ne&vt||(ht=ae(Ke,Ne,xe)),t(ht!=null),de(De),256>(nt=Sa(ht.G[0],ht.H[0],De)))he[Se+He]=nt,++He,++Ne>=Re&&(Ne=0,++xe<=E&&!(xe%16)&&Ae(le,xe));else{if(!(280>nt)){ze=0;break t}nt=Sn(nt-256,De);var qt,Pt=Sa(ht.G[4],ht.H[4],De);if(de(De),!(He>=(Pt=Si(Re,Pt=Sn(Pt,De)))&&at-He>=nt)){ze=0;break t}for(qt=0;qt<nt;++qt)he[Se+He+qt]=he[Se+He+qt-Pt];for(He+=nt,Ne+=nt;Ne>=Re;)Ne-=Re,++xe<=E&&!(xe%16)&&Ae(le,xe);He<ct&&Ne&vt&&(ht=ae(Ke,Ne,xe))}t(De.h==z(De))}Ae(le,xe>E?E:xe);break t}!ze||De.h&&He<at?(ze=0,le.a=De.h?5:3):le.$=He,E=ze}else E=Ie(le,le.V,le.Ba,le.c,le.i,E,Ye);if(!E){K=0;break e}}B+K>=se&&(S.Cc=1),K=1}if(!K)return null;if(S.Cc&&((K=S.ga)!=null&&(K.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+B*te}function Ma(S,E,B,K,te,se){for(;0<te--;){var le,he=S,xe=E+(B?1:0),Ne=S,De=E+(B?0:3);for(le=0;le<K;++le){var Ke=Ne[De+4*le];Ke!=255&&(Ke*=32897,he[xe+4*le+0]=he[xe+4*le+0]*Ke>>23,he[xe+4*le+1]=he[xe+4*le+1]*Ke>>23,he[xe+4*le+2]=he[xe+4*le+2]*Ke>>23)}E+=se}}function Jn(S,E,B,K,te){for(;0<K--;){var se;for(se=0;se<B;++se){var le=S[E+2*se+0],he=15&(Ne=S[E+2*se+1]),xe=4369*he,Ne=(240&Ne|Ne>>4)*xe>>16;S[E+2*se+0]=(240&le|le>>4)*xe>>16&240|(15&le|le<<4)*xe>>16>>4&15,S[E+2*se+1]=240&Ne|he}E+=te}}function Rn(S,E,B,K,te,se,le,he){var xe,Ne,De=255;for(Ne=0;Ne<te;++Ne){for(xe=0;xe<K;++xe){var Ke=S[E+xe];se[le+4*xe]=Ke,De&=Ke}E+=B,le+=he}return De!=255}function Ai(S,E,B,K,te){var se;for(se=0;se<te;++se)B[K+se]=S[E+se]>>8}function fo(){Qu=Ma,mo=Jn,$f=Rn,Xs=Ai}function ws(S,E,B){F[S]=function(K,te,se,le,he,xe,Ne,De,Ke,Se,Re,ze,nt,He,at,ct,vt){var ht,qt=vt-1>>1,Pt=he[xe+0]|Ne[De+0]<<16,Nr=Ke[Se+0]|Re[ze+0]<<16;t(K!=null);var Ft=3*Pt+Nr+131074>>2;for(E(K[te+0],255&Ft,Ft>>16,nt,He),se!=null&&(Ft=3*Nr+Pt+131074>>2,E(se[le+0],255&Ft,Ft>>16,at,ct)),ht=1;ht<=qt;++ht){var Vr=he[xe+ht]|Ne[De+ht]<<16,Ka=Ke[Se+ht]|Re[ze+ht]<<16,Cr=Pt+Vr+Nr+Ka+524296,Dt=Cr+2*(Vr+Nr)>>3;Ft=Dt+Pt>>1,Pt=(Cr=Cr+2*(Pt+Ka)>>3)+Vr>>1,E(K[te+2*ht-1],255&Ft,Ft>>16,nt,He+(2*ht-1)*B),E(K[te+2*ht-0],255&Pt,Pt>>16,nt,He+(2*ht-0)*B),se!=null&&(Ft=Cr+Nr>>1,Pt=Dt+Ka>>1,E(se[le+2*ht-1],255&Ft,Ft>>16,at,ct+(2*ht-1)*B),E(se[le+2*ht+0],255&Pt,Pt>>16,at,ct+(2*ht+0)*B)),Pt=Vr,Nr=Ka}1&vt||(Ft=3*Pt+Nr+131074>>2,E(K[te+vt-1],255&Ft,Ft>>16,nt,He+(vt-1)*B),se!=null&&(Ft=3*Nr+Pt+131074>>2,E(se[le+vt-1],255&Ft,Ft>>16,at,ct+(vt-1)*B)))}}function Cm(){Pi[Lm]=ed,Pi[Gi]=k0,Pi[Mm]=Vg,Pi[po]=Um,Pi[Kf]=au,Pi[y0]=Al,Pi[eu]=nu,Pi[Gf]=k0,Pi[Rm]=Um,Pi[b0]=au,Pi[Im]=Al}function f0(S){return S&-16384?0>S?0:255:S>>zm}function Ku(S,E){return f0((19077*S>>8)+(26149*E>>8)-14234)}function yl(S,E,B){return f0((19077*S>>8)-(6419*E>>8)-(13320*B>>8)+8708)}function zo(S,E){return f0((19077*S>>8)+(33050*E>>8)-17685)}function Gu(S,E,B,K,te){K[te+0]=Ku(S,B),K[te+1]=yl(S,E,B),K[te+2]=zo(S,E)}function Xc(S,E,B,K,te){K[te+0]=zo(S,E),K[te+1]=yl(S,E,B),K[te+2]=Ku(S,B)}function Ti(S,E,B,K,te){var se=yl(S,E,B);E=se<<3&224|zo(S,E)>>3,K[te+0]=248&Ku(S,B)|se>>5,K[te+1]=E}function Qc(S,E,B,K,te){var se=240&zo(S,E)|15;K[te+0]=240&Ku(S,B)|yl(S,E,B)>>4,K[te+1]=se}function Jc(S,E,B,K,te){K[te+0]=255,Gu(S,E,B,K,te+1)}function h0(S,E,B,K,te){Xc(S,E,B,K,te),K[te+3]=255}function bl(S,E,B,K,te){Gu(S,E,B,K,te),K[te+3]=255}function hn(S,E){return 0>S?0:S>E?E:S}function lc(S,E,B){F[S]=function(K,te,se,le,he,xe,Ne,De,Ke){for(var Se=De+(-2&Ke)*B;De!=Se;)E(K[te+0],se[le+0],he[xe+0],Ne,De),E(K[te+1],se[le+0],he[xe+0],Ne,De+B),te+=2,++le,++xe,De+=2*B;1&Ke&&E(K[te+0],se[le+0],he[xe+0],Ne,De)}}function m0(S,E,B){return B==0?S==0?E==0?6:5:E==0?4:0:B}function Uf(S,E,B,K,te){switch(S>>>30){case 3:mc(E,B,K,te,0);break;case 2:Vi(E,B,K,te);break;case 1:ca(E,B,K,te)}}function Gs(S,E){var B,K,te=E.M,se=E.Nb,le=S.oc,he=S.pc+40,xe=S.oc,Ne=S.pc+584,De=S.oc,Ke=S.pc+600;for(B=0;16>B;++B)le[he+32*B-1]=129;for(B=0;8>B;++B)xe[Ne+32*B-1]=129,De[Ke+32*B-1]=129;for(0<te?le[he-1-32]=xe[Ne-1-32]=De[Ke-1-32]=129:(n(le,he-32-1,127,21),n(xe,Ne-32-1,127,9),n(De,Ke-32-1,127,9)),K=0;K<S.za;++K){var Se=E.ya[E.aa+K];if(0<K){for(B=-1;16>B;++B)a(le,he+32*B-4,le,he+32*B+12,4);for(B=-1;8>B;++B)a(xe,Ne+32*B-4,xe,Ne+32*B+4,4),a(De,Ke+32*B-4,De,Ke+32*B+4,4)}var Re=S.Gd,ze=S.Hd+K,nt=Se.ad,He=Se.Hc;if(0<te&&(a(le,he-32,Re[ze].y,0,16),a(xe,Ne-32,Re[ze].f,0,8),a(De,Ke-32,Re[ze].ea,0,8)),Se.Za){var at=le,ct=he-32+16;for(0<te&&(K>=S.za-1?n(at,ct,Re[ze].y[15],4):a(at,ct,Re[ze+1].y,0,4)),B=0;4>B;B++)at[ct+128+B]=at[ct+256+B]=at[ct+384+B]=at[ct+0+B];for(B=0;16>B;++B,He<<=2)at=le,ct=he+En[B],mn[Se.Ob[B]](at,ct),Uf(He,nt,16*+B,at,ct)}else if(at=m0(K,te,Se.Ob[0]),ds[at](le,he),He!=0)for(B=0;16>B;++B,He<<=2)Uf(He,nt,16*+B,le,he+En[B]);for(B=Se.Gc,at=m0(K,te,Se.Dd),Wo[at](xe,Ne),Wo[at](De,Ke),He=nt,at=xe,ct=Ne,255&(Se=0|B)&&(170&Se?ho(He,256,at,ct):ta(He,256,at,ct)),Se=De,He=Ke,255&(B>>=8)&&(170&B?ho(nt,320,Se,He):ta(nt,320,Se,He)),te<S.Ub-1&&(a(Re[ze].y,0,le,he+480,16),a(Re[ze].f,0,xe,Ne+224,8),a(Re[ze].ea,0,De,Ke+224,8)),B=8*se*S.B,Re=S.sa,ze=S.ta+16*K+16*se*S.R,nt=S.qa,Se=S.ra+8*K+B,He=S.Ha,at=S.Ia+8*K+B,B=0;16>B;++B)a(Re,ze+B*S.R,le,he+32*B,16);for(B=0;8>B;++B)a(nt,Se+B*S.B,xe,Ne+32*B,8),a(He,at+B*S.B,De,Ke+32*B,8)}}function qo(S,E,B,K,te,se,le,he,xe){var Ne=[0],De=[0],Ke=0,Se=xe!=null?xe.kd:0,Re=xe??new lt;if(S==null||12>B)return 7;Re.data=S,Re.w=E,Re.ha=B,E=[E],B=[B],Re.gb=[Re.gb];e:{var ze=E,nt=B,He=Re.gb;if(t(S!=null),t(nt!=null),t(He!=null),He[0]=0,12<=nt[0]&&!r(S,ze[0],"RIFF")){if(r(S,ze[0]+8,"WEBP")){He=3;break e}var at=be(S,ze[0]+4);if(12>at||4294967286<at){He=3;break e}if(Se&&at>nt[0]-8){He=7;break e}He[0]=at,ze[0]+=12,nt[0]-=12}He=0}if(He!=0)return He;for(at=0<Re.gb[0],B=B[0];;){e:{var ct=S;nt=E,He=B;var vt=Ne,ht=De,qt=ze=[0];if((Ft=Ke=[Ke])[0]=0,8>He[0])He=7;else{if(!r(ct,nt[0],"VP8X")){if(be(ct,nt[0]+4)!=10){He=3;break e}if(18>He[0]){He=7;break e}var Pt=be(ct,nt[0]+8),Nr=1+ge(ct,nt[0]+12);if(2147483648<=Nr*(ct=1+ge(ct,nt[0]+15))){He=3;break e}qt!=null&&(qt[0]=Pt),vt!=null&&(vt[0]=Nr),ht!=null&&(ht[0]=ct),nt[0]+=18,He[0]-=18,Ft[0]=1}He=0}}if(Ke=Ke[0],ze=ze[0],He!=0)return He;if(nt=!!(2&ze),!at&&Ke)return 3;if(se!=null&&(se[0]=!!(16&ze)),le!=null&&(le[0]=nt),he!=null&&(he[0]=0),le=Ne[0],ze=De[0],Ke&&nt&&xe==null){He=0;break}if(4>B){He=7;break}if(at&&Ke||!at&&!Ke&&!r(S,E[0],"ALPH")){B=[B],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Pt=S,He=E,at=B;var Ft=Re.gb;vt=Re.na,ht=Re.P,qt=Re.Sa,Nr=22,t(Pt!=null),t(at!=null),ct=He[0];var Vr=at[0];for(t(vt!=null),t(qt!=null),vt[0]=null,ht[0]=null,qt[0]=0;;){if(He[0]=ct,at[0]=Vr,8>Vr){He=7;break e}var Ka=be(Pt,ct+4);if(4294967286<Ka){He=3;break e}var Cr=8+Ka+1&-2;if(Nr+=Cr,0<Ft&&Nr>Ft){He=3;break e}if(!r(Pt,ct,"VP8 ")||!r(Pt,ct,"VP8L")){He=0;break e}if(Vr[0]<Cr){He=7;break e}r(Pt,ct,"ALPH")||(vt[0]=Pt,ht[0]=ct+8,qt[0]=Ka),ct+=Cr,Vr-=Cr}}if(B=B[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],He!=0)break}B=[B],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Ft=S,He=E,at=B,vt=Re.gb[0],ht=Re.Ja,qt=Re.xa,Pt=He[0],ct=!r(Ft,Pt,"VP8 "),Nr=!r(Ft,Pt,"VP8L"),t(Ft!=null),t(at!=null),t(ht!=null),t(qt!=null),8>at[0])He=7;else{if(ct||Nr){if(Ft=be(Ft,Pt+4),12<=vt&&Ft>vt-12){He=3;break e}if(Se&&Ft>at[0]-8){He=7;break e}ht[0]=Ft,He[0]+=8,at[0]-=8,qt[0]=Nr}else qt[0]=5<=at[0]&&Ft[Pt+0]==47&&!(Ft[Pt+4]>>5),ht[0]=at[0];He=0}if(B=B[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],E=E[0],He!=0)break;if(4294967286<Re.Ja)return 3;if(he==null||nt||(he[0]=Re.xa?2:1),le=[le],ze=[ze],Re.xa){if(5>B){He=7;break}he=le,Se=ze,nt=se,S==null||5>B?S=0:5<=B&&S[E+0]==47&&!(S[E+4]>>5)?(at=[0],Ft=[0],vt=[0],ce(ht=new q,S,E,B),os(ht,at,Ft,vt)?(he!=null&&(he[0]=at[0]),Se!=null&&(Se[0]=Ft[0]),nt!=null&&(nt[0]=vt[0]),S=1):S=0):S=0}else{if(10>B){He=7;break}he=ze,S==null||10>B||!ls(S,E+3,B-3)?S=0:(Se=S[E+0]|S[E+1]<<8|S[E+2]<<16,nt=16383&(S[E+7]<<8|S[E+6]),S=16383&(S[E+9]<<8|S[E+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Re.Ja||!nt||!S?S=0:(le&&(le[0]=nt),he&&(he[0]=S),S=1))}if(!S||(le=le[0],ze=ze[0],Ke&&(Ne[0]!=le||De[0]!=ze)))return 3;xe!=null&&(xe[0]=Re,xe.offset=E-xe.w,t(4294967286>E-xe.w),t(xe.offset==xe.ha-B));break}return He==0||He==7&&Ke&&xe==null?(se!=null&&(se[0]|=Re.na!=null&&0<Re.na.length),K!=null&&(K[0]=le),te!=null&&(te[0]=ze),0):He}function cc(S,E,B){var K=E.width,te=E.height,se=0,le=0,he=K,xe=te;if(E.Da=S!=null&&0<S.Da,E.Da&&(he=S.cd,xe=S.bd,se=S.v,le=S.j,11>B||(se&=-2,le&=-2),0>se||0>le||0>=he||0>=xe||se+he>K||le+xe>te))return 0;if(E.v=se,E.j=le,E.va=se+he,E.o=le+xe,E.U=he,E.T=xe,E.da=S!=null&&0<S.da,E.da){if(!Ge(he,xe,B=[S.ib],se=[S.hb]))return 0;E.ib=B[0],E.hb=se[0]}return E.ob=S!=null&&S.ob,E.Kb=S==null||!S.Sd,E.da&&(E.ob=E.ib<3*K/4&&E.hb<3*te/4,E.Kb=0),1}function zf(S){if(S==null)return 2;if(11>S.S){var E=S.f.RGBA;E.fb+=(S.height-1)*E.A,E.A=-E.A}else E=S.f.kb,S=S.height,E.O+=(S-1)*E.fa,E.fa=-E.fa,E.N+=(S-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(S-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(S-1)*E.lb,E.lb=-E.lb);return 0}function $o(S,E,B,K){if(K==null||0>=S||0>=E)return 2;if(B!=null){if(B.Da){var te=B.cd,se=B.bd,le=-2&B.v,he=-2&B.j;if(0>le||0>he||0>=te||0>=se||le+te>S||he+se>E)return 2;S=te,E=se}if(B.da){if(!Ge(S,E,te=[B.ib],se=[B.hb]))return 2;S=te[0],E=se[0]}}K.width=S,K.height=E;e:{var xe=K.width,Ne=K.height;if(S=K.S,0>=xe||0>=Ne||!(S>=Lm&&13>S))S=2;else{if(0>=K.Rd&&K.sd==null){le=se=te=E=0;var De=(he=xe*$m[S])*Ne;if(11>S||(se=(Ne+1)/2*(E=(xe+1)/2),S==12&&(le=(te=xe)*Ne)),(Ne=i(De+2*se+le))==null){S=1;break e}K.sd=Ne,11>S?((xe=K.f.RGBA).eb=Ne,xe.fb=0,xe.A=he,xe.size=De):((xe=K.f.kb).y=Ne,xe.O=0,xe.fa=he,xe.Fd=De,xe.f=Ne,xe.N=0+De,xe.Ab=E,xe.Cd=se,xe.ea=Ne,xe.W=0+De+se,xe.Db=E,xe.Ed=se,S==12&&(xe.F=Ne,xe.J=0+De+2*se),xe.Tc=le,xe.lb=te)}if(E=1,te=K.S,se=K.width,le=K.height,te>=Lm&&13>te)if(11>te)S=K.f.RGBA,E&=(he=Math.abs(S.A))*(le-1)+se<=S.size,E&=he>=se*$m[te],E&=S.eb!=null;else{S=K.f.kb,he=(se+1)/2,De=(le+1)/2,xe=Math.abs(S.fa),Ne=Math.abs(S.Ab);var Ke=Math.abs(S.Db),Se=Math.abs(S.lb),Re=Se*(le-1)+se;E&=xe*(le-1)+se<=S.Fd,E&=Ne*(De-1)+he<=S.Cd,E=(E&=Ke*(De-1)+he<=S.Ed)&xe>=se&Ne>=he&Ke>=he,E&=S.y!=null,E&=S.f!=null,E&=S.ea!=null,te==12&&(E&=Se>=se,E&=Re<=S.Tc,E&=S.F!=null)}else E=0;S=E?0:2}}return S!=0||B!=null&&B.fd&&(S=zf(K)),S}var Zc=64,ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],us=24,wl=32,kl=8,uc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Je("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(S){return S},F.Predictor2=function(S,E,B){return E[B+0]},F.Predictor3=function(S,E,B){return E[B+1]},F.Predictor4=function(S,E,B){return E[B-1]},F.Predictor5=function(S,E,B){return At(At(S,E[B+1]),E[B+0])},F.Predictor6=function(S,E,B){return At(S,E[B-1])},F.Predictor7=function(S,E,B){return At(S,E[B+0])},F.Predictor8=function(S,E,B){return At(E[B-1],E[B+0])},F.Predictor9=function(S,E,B){return At(E[B+0],E[B+1])},F.Predictor10=function(S,E,B){return At(At(S,E[B-1]),At(E[B+0],E[B+1]))},F.Predictor11=function(S,E,B){var K=E[B+0];return 0>=nr(K>>24&255,S>>24&255,(E=E[B-1])>>24&255)+nr(K>>16&255,S>>16&255,E>>16&255)+nr(K>>8&255,S>>8&255,E>>8&255)+nr(255&K,255&S,255&E)?K:S},F.Predictor12=function(S,E,B){var K=E[B+0];return(Rt((S>>24&255)+(K>>24&255)-((E=E[B-1])>>24&255))<<24|Rt((S>>16&255)+(K>>16&255)-(E>>16&255))<<16|Rt((S>>8&255)+(K>>8&255)-(E>>8&255))<<8|Rt((255&S)+(255&K)-(255&E)))>>>0},F.Predictor13=function(S,E,B){var K=E[B-1];return(ar((S=At(S,E[B+0]))>>24&255,K>>24&255)<<24|ar(S>>16&255,K>>16&255)<<16|ar(S>>8&255,K>>8&255)<<8|ar(255&S,255&K))>>>0};var p0=F.PredictorAdd0;F.PredictorAdd1=$r,Je("Predictor2","PredictorAdd2"),Je("Predictor3","PredictorAdd3"),Je("Predictor4","PredictorAdd4"),Je("Predictor5","PredictorAdd5"),Je("Predictor6","PredictorAdd6"),Je("Predictor7","PredictorAdd7"),Je("Predictor8","PredictorAdd8"),Je("Predictor9","PredictorAdd9"),Je("Predictor10","PredictorAdd10"),Je("Predictor11","PredictorAdd11"),Je("Predictor12","PredictorAdd12"),Je("Predictor13","PredictorAdd13");var g0=F.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var An,Om=F.ColorIndexInverseTransform,_l=F.MapARGB,Sl=F.VP8LColorIndexInverseTransformAlpha,Ei=F.MapAlpha,dc=F.VP8LPredictorsAdd=[];dc.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var x0,v0,fc,hc,Nl,Yu,Ys,mc,Vi,ho,ca,ta,Ra,Tn,jl,Ho,Xu,qf,zg,Ov,Pv,Dv,qg,$g,Qu,mo,$f,Xs,Ju=i(511),Pm=i(2041),Hf=i(225),Wf=i(767),Dm=0,pc=Pm,Vf=Hf,Ki=Wf,Ci=Ju,Lm=0,Gi=1,Mm=2,po=3,Kf=4,y0=5,eu=6,Gf=7,Rm=8,b0=9,Im=10,go=[2,3,7],w0=[3,3,11],Zu=[280,256,256,256,40],Fm=[0,1,1,1,0],Yf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tu=8,yo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qs=null,Lv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Oi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Va=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ds=[],mn=[],Wo=[],ru=1,Wg=2,gc=[],Pi=[];ws("UpsampleRgbLinePair",Gu,3),ws("UpsampleBgrLinePair",Xc,3),ws("UpsampleRgbaLinePair",bl,4),ws("UpsampleBgraLinePair",h0,4),ws("UpsampleArgbLinePair",Jc,4),ws("UpsampleRgba4444LinePair",Qc,2),ws("UpsampleRgb565LinePair",Ti,2);var ed=F.UpsampleRgbLinePair,Vg=F.UpsampleBgrLinePair,k0=F.UpsampleRgbaLinePair,Um=F.UpsampleBgraLinePair,au=F.UpsampleArgbLinePair,Al=F.UpsampleRgba4444LinePair,nu=F.UpsampleRgb565LinePair,wo=16,_0=1<<wo-1,td=-227,iu=482,zm=6,su=0,Di=i(256),qm=i(256),Rv=i(256),i5=i(256),s5=i(iu-td),o5=i(iu-td);lc("YuvToRgbRow",Gu,3),lc("YuvToBgrRow",Xc,3),lc("YuvToRgbaRow",bl,4),lc("YuvToBgraRow",h0,4),lc("YuvToArgbRow",Jc,4),lc("YuvToRgba4444Row",Qc,2),lc("YuvToRgb565Row",Ti,2);var En=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],S0=[0,2,8],Xf=[8,7,6,4,4,2,2,2,1,1,1,1],Qf=1;this.WebPDecodeRGBA=function(S,E,B,K,te){var se=Gi,le=new Fe,he=new Wr;le.ba=he,he.S=se,he.width=[he.width],he.height=[he.height];var xe=he.width,Ne=he.height,De=new Mt;if(De==null||S==null)var Ke=2;else t(De!=null),Ke=qo(S,E,B,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Ke!=0?xe=0:(xe!=null&&(xe[0]=De.width[0]),Ne!=null&&(Ne[0]=De.height[0]),xe=1),xe){he.width=he.width[0],he.height=he.height[0],K!=null&&(K[0]=he.width),te!=null&&(te[0]=he.height);e:{if(K=new Qn,(te=new lt).data=S,te.w=E,te.ha=B,te.kd=1,E=[0],t(te!=null),((S=qo(te.data,te.w,te.ha,null,null,null,E,null,te))==0||S==7)&&E[0]&&(S=4),(E=S)==0){if(t(le!=null),K.data=te.data,K.w=te.w+te.offset,K.ha=te.ha-te.offset,K.put=Xt,K.ac=ui,K.bc=Xn,K.ma=le,te.xa){if((S=We())==null){le=1;break e}if((function(Se,Re){var ze=[0],nt=[0],He=[0];t:for(;;){if(Se==null)return 0;if(Re==null)return Se.a=2,0;if(Se.l=Re,Se.a=0,ce(Se.m,Re.data,Re.w,Re.ha),!os(Se.m,ze,nt,He)){Se.a=3;break t}if(Se.xb=Wg,Re.width=ze[0],Re.height=nt[0],!Ve(ze[0],nt[0],1,Se,null))break t;return 1}return t(Se.a!=0),0})(S,K)){if(K=(E=$o(K.width,K.height,le.Oa,le.ba))==0){t:{K=S;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t((B=K.l)!=null),t((te=B.ma)!=null),K.xb!=0){if(K.ca=te.ba,K.tb=te.tb,t(K.ca!=null),!cc(te.Oa,B,po)){K.a=2;break r}if(!ye(K,B.width)||B.da)break r;if((B.da||hr(K.ca.S))&&fo(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&fo()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!oe(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Ie(K,K.V,K.Ba,K.c,K.i,B.o,me))break r;te.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(E=S.a)}else E=S.a}else{if((S=new l0)==null){le=1;break e}if(S.Fa=te.na,S.P=te.P,S.qc=te.Sa,Cf(S,K)){if((E=$o(K.width,K.height,le.Oa,le.ba))==0){if(S.Aa=0,B=le.Oa,t((te=S)!=null),B!=null){if(0<(xe=0>(xe=B.Md)?0:100<xe?255:255*xe/100)){for(Ne=De=0;4>Ne;++Ne)12>(Ke=te.pb[Ne]).lc&&(Ke.ia=xe*Xf[0>Ke.lc?0:Ke.lc]>>3),De|=Ke.ia;De&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=B.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(Se,Re){if(Se==null)return 0;if(Re==null)return Na(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!Cf(Se,Re))return 0;if(t(Se.cb),Re.ac==null||Re.ac(Re)){Re.ob&&(Se.L=0);var ze=S0[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Re.v-ze>>4,Se.zb=Re.j-ze>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Re.o+15+ze>>4,Se.Hb=Re.va+15+ze>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var nt=Se.ed;for(ze=0;4>ze;++ze){var He;if(Se.Qa.Cb){var at=Se.Qa.Lb[ze];Se.Qa.Fb||(at+=nt.Tb)}else at=nt.Tb;for(He=0;1>=He;++He){var ct=Se.gd[ze][He],vt=at;if(nt.Pc&&(vt+=nt.vd[0],He&&(vt+=nt.od[0])),0<(vt=0>vt?0:63<vt?63:vt)){var ht=vt;0<nt.wb&&(ht=4<nt.wb?ht>>2:ht>>1)>9-nt.wb&&(ht=9-nt.wb),1>ht&&(ht=1),ct.dd=ht,ct.tc=2*vt+ht,ct.ld=40<=vt?2:15<=vt?1:0}else ct.tc=0;ct.La=He}}}ze=0}else Na(Se,6,"Frame setup failed"),ze=Se.a;if(ze=ze==0){if(ze){Se.$c=0,0<Se.Aa||(Se.Ic=Qf);t:{ze=Se.Ic,nt=4*(ht=Se.za);var qt=32*ht,Pt=ht+1,Nr=0<Se.L?ht*(0<Se.Aa?2:1):0,Ft=(Se.Aa==2?2:1)*ht;if((ct=nt+832+(He=3*(16*ze+S0[Se.L])/2*qt)+(at=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=ct)ze=0;else{if(ct>Se.Vb){if(Se.Vb=0,Se.Ec=i(ct),Se.Fc=0,Se.Ec==null){ze=Na(Se,1,"no memory during frame initialization.");break t}Se.Vb=ct}ct=Se.Ec,vt=Se.Fc,Se.Ac=ct,Se.Bc=vt,vt+=nt,Se.Gd=s(qt,$s),Se.Hd=0,Se.rb=s(Pt+1,oa),Se.sb=1,Se.wa=Nr?s(Nr,fr):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=ht),t(!0),Se.oc=ct,Se.pc=vt,vt+=832,Se.ya=s(Ft,Io),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=ht),Se.R=16*ht,Se.B=8*ht,ht=(qt=S0[Se.L])*Se.R,qt=qt/2*Se.B,Se.sa=ct,Se.ta=vt+ht,Se.qa=Se.sa,Se.ra=Se.ta+16*ze*Se.R+qt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*ze*Se.B+qt,Se.$c=0,vt+=He,Se.mb=at?ct:null,Se.nb=at?vt:null,t(vt+at<=Se.Fc+Se.Vb),tc(Se),n(Se.Ac,Se.Bc,0,nt),ze=1}}if(ze){if(Re.ka=0,Re.y=Se.sa,Re.O=Se.ta,Re.f=Se.qa,Re.N=Se.ra,Re.ea=Se.Ha,Re.Vd=Se.Ia,Re.fa=Se.R,Re.Rc=Se.B,Re.F=null,Re.J=0,!Dm){for(ze=-255;255>=ze;++ze)Ju[255+ze]=0>ze?-ze:ze;for(ze=-1020;1020>=ze;++ze)Pm[1020+ze]=-128>ze?-128:127<ze?127:ze;for(ze=-112;112>=ze;++ze)Hf[112+ze]=-16>ze?-16:15<ze?15:ze;for(ze=-255;510>=ze;++ze)Wf[255+ze]=0>ze?0:255<ze?255:ze;Dm=1}Ys=Lf,mc=km,ho=Pf,ca=cs,ta=Df,Vi=Of,Ra=Am,Tn=Tm,jl=I,Ho=ee,Xu=oc,qf=Em,zg=Te,Ov=Pe,Pv=Wu,Dv=ic,qg=Yc,$g=Vu,mn[0]=Ff,mn[1]=Mf,mn[2]=Gc,mn[3]=Nm,mn[4]=jm,mn[5]=ji,mn[6]=Ws,mn[7]=Bf,mn[8]=Vs,mn[9]=qu,ds[0]=Bo,ds[1]=Sm,ds[2]=Rf,ds[3]=If,ds[4]=Uo,ds[5]=rc,ds[6]=zu,Wo[0]=ac,Wo[1]=_m,Wo[2]=$u,Wo[3]=gl,Wo[4]=u0,Wo[5]=c0,Wo[6]=di,ze=1}else ze=0}ze&&(ze=(function(Vr,Ka){for(Vr.M=0;Vr.M<Vr.Va;++Vr.M){var Cr,Dt=Vr.Jc[Vr.M&Vr.Xb],Tt=Vr.m,rn=Vr;for(Cr=0;Cr<rn.za;++Cr){var pr=Tt,Lr=rn,wa=Lr.Ac,Zn=Lr.Bc+4*Cr,Li=Lr.zc,Ia=Lr.ya[Lr.aa+Cr];if(Lr.Qa.Bb?Ia.$b=je(pr,Lr.Pa.jb[0])?2+je(pr,Lr.Pa.jb[2]):je(pr,Lr.Pa.jb[1]):Ia.$b=0,Lr.kc&&(Ia.Ad=je(pr,Lr.Bd)),Ia.Za=!je(pr,145)+0,Ia.Za){var In=Ia.Ob,Yi=0;for(Lr=0;4>Lr;++Lr){var Fn,Ur=Li[0+Lr];for(Fn=0;4>Fn;++Fn){Ur=Oi[wa[Zn+Fn]][Ur];for(var na=Bm[je(pr,Ur[0])];0<na;)na=Bm[2*na+je(pr,Ur[na])];Ur=-na,wa[Zn+Fn]=Ur}a(In,Yi,wa,Zn,4),Yi+=4,Li[0+Lr]=Ur}}else Ur=je(pr,156)?je(pr,128)?1:3:je(pr,163)?2:0,Ia.Ob[0]=Ur,n(wa,Zn,Ur,4),n(Li,0,Ur,4);Ia.Dd=je(pr,142)?je(pr,114)?je(pr,183)?1:3:2:0}if(rn.m.Ka)return Na(Vr,7,"Premature end-of-partition0 encountered.");for(;Vr.ja<Vr.za;++Vr.ja){if(rn=Dt,pr=(Tt=Vr).rb[Tt.sb-1],wa=Tt.rb[Tt.sb+Tt.ja],Cr=Tt.ya[Tt.aa+Tt.ja],Zn=Tt.kc?Cr.Ad:0)pr.la=wa.la=0,Cr.Za||(pr.Na=wa.Na=0),Cr.Hc=0,Cr.Gc=0,Cr.ia=0;else{var an,ua;if(pr=wa,wa=rn,Zn=Tt.Pa.Xc,Li=Tt.ya[Tt.aa+Tt.ja],Ia=Tt.pb[Li.$b],Lr=Li.ad,In=0,Yi=Tt.rb[Tt.sb-1],Ur=Fn=0,n(Lr,In,0,384),Li.Za)var ei=0,nn=Zn[3];else{na=i(16);var ia=pr.Na+Yi.Na;if(ia=Qs(wa,Zn[1],ia,Ia.Eb,0,na,0),pr.Na=Yi.Na=(0<ia)+0,1<ia)Ys(na,0,Lr,In);else{var Cn=na[0]+3>>3;for(na=0;256>na;na+=16)Lr[In+na]=Cn}ei=1,nn=Zn[0]}var ka=15&pr.la,Bn=15&Yi.la;for(na=0;4>na;++na){var Un=1&Bn;for(Cn=ua=0;4>Cn;++Cn)ka=ka>>1|(Un=(ia=Qs(wa,nn,ia=Un+(1&ka),Ia.Sc,ei,Lr,In))>ei)<<7,ua=ua<<2|(3<ia?3:1<ia?2:Lr[In+0]!=0),In+=16;ka>>=4,Bn=Bn>>1|Un<<7,Fn=(Fn<<8|ua)>>>0}for(nn=ka,ei=Bn>>4,an=0;4>an;an+=2){for(ua=0,ka=pr.la>>4+an,Bn=Yi.la>>4+an,na=0;2>na;++na){for(Un=1&Bn,Cn=0;2>Cn;++Cn)ia=Un+(1&ka),ka=ka>>1|(Un=0<(ia=Qs(wa,Zn[2],ia,Ia.Qc,0,Lr,In)))<<3,ua=ua<<2|(3<ia?3:1<ia?2:Lr[In+0]!=0),In+=16;ka>>=2,Bn=Bn>>1|Un<<5}Ur|=ua<<4*an,nn|=ka<<4<<an,ei|=(240&Bn)<<an}pr.la=nn,Yi.la=ei,Li.Hc=Fn,Li.Gc=Ur,Li.ia=43690&Ur?0:Ia.ia,Zn=!(Fn|Ur)}if(0<Tt.L&&(Tt.wa[Tt.Y+Tt.ja]=Tt.gd[Cr.$b][Cr.Za],Tt.wa[Tt.Y+Tt.ja].La|=!Zn),rn.Ka)return Na(Vr,7,"Premature end-of-file encountered.")}if(tc(Vr),Tt=Ka,rn=1,Cr=(Dt=Vr).D,pr=0<Dt.L&&Dt.M>=Dt.zb&&Dt.M<=Dt.Va,Dt.Aa==0)t:{if(Cr.M=Dt.M,Cr.uc=pr,Gs(Dt,Cr),rn=1,Cr=(ua=Dt.D).Nb,pr=(Ur=S0[Dt.L])*Dt.R,wa=Ur/2*Dt.B,na=16*Cr*Dt.R,Cn=8*Cr*Dt.B,Zn=Dt.sa,Li=Dt.ta-pr+na,Ia=Dt.qa,Lr=Dt.ra-wa+Cn,In=Dt.Ha,Yi=Dt.Ia-wa+Cn,Bn=(ka=ua.M)==0,Fn=ka>=Dt.Va-1,Dt.Aa==2&&Gs(Dt,ua),ua.uc)for(Un=(ia=Dt).D.M,t(ia.D.uc),ua=ia.yb;ua<ia.Hb;++ua){ei=ua,nn=Un;var Aa=(ra=(zn=ia).D).Nb;an=zn.R;var ra=ra.wa[ra.Y+ei],Xi=zn.sa,pn=zn.ta+16*Aa*an+16*ei,ir=ra.dd,cr=ra.tc;if(cr!=0)if(t(3<=cr),zn.L==1)0<ei&&Dv(Xi,pn,an,cr+4),ra.La&&$g(Xi,pn,an,cr),0<nn&&Pv(Xi,pn,an,cr+4),ra.La&&qg(Xi,pn,an,cr);else{var sa=zn.B,_s=zn.qa,ko=zn.ra+8*Aa*sa+8*ei,fs=zn.Ha,zn=zn.Ia+8*Aa*sa+8*ei;Aa=ra.ld,0<ei&&(Tn(Xi,pn,an,cr+4,ir,Aa),Ho(_s,ko,fs,zn,sa,cr+4,ir,Aa)),ra.La&&(qf(Xi,pn,an,cr,ir,Aa),Ov(_s,ko,fs,zn,sa,cr,ir,Aa)),0<nn&&(Ra(Xi,pn,an,cr+4,ir,Aa),jl(_s,ko,fs,zn,sa,cr+4,ir,Aa)),ra.La&&(Xu(Xi,pn,an,cr,ir,Aa),zg(_s,ko,fs,zn,sa,cr,ir,Aa))}}if(Dt.ia&&alert("todo:DitherRow"),Tt.put!=null){if(ua=16*ka,ka=16*(ka+1),Bn?(Tt.y=Dt.sa,Tt.O=Dt.ta+na,Tt.f=Dt.qa,Tt.N=Dt.ra+Cn,Tt.ea=Dt.Ha,Tt.W=Dt.Ia+Cn):(ua-=Ur,Tt.y=Zn,Tt.O=Li,Tt.f=Ia,Tt.N=Lr,Tt.ea=In,Tt.W=Yi),Fn||(ka-=Ur),ka>Tt.o&&(ka=Tt.o),Tt.F=null,Tt.J=null,Dt.Fa!=null&&0<Dt.Fa.length&&ua<ka&&(Tt.J=jn(Dt,Tt,ua,ka-ua),Tt.F=Dt.mb,Tt.F==null&&Tt.F.length==0)){rn=Na(Dt,3,"Could not decode alpha data.");break t}ua<Tt.j&&(Ur=Tt.j-ua,ua=Tt.j,t(!(1&Ur)),Tt.O+=Dt.R*Ur,Tt.N+=Dt.B*(Ur>>1),Tt.W+=Dt.B*(Ur>>1),Tt.F!=null&&(Tt.J+=Tt.width*Ur)),ua<ka&&(Tt.O+=Tt.v,Tt.N+=Tt.v>>1,Tt.W+=Tt.v>>1,Tt.F!=null&&(Tt.J+=Tt.v),Tt.ka=ua-Tt.j,Tt.U=Tt.va-Tt.v,Tt.T=ka-ua,rn=Tt.put(Tt))}Cr+1!=Dt.Ic||Fn||(a(Dt.sa,Dt.ta-pr,Zn,Li+16*Dt.R,pr),a(Dt.qa,Dt.ra-wa,Ia,Lr+8*Dt.B,wa),a(Dt.Ha,Dt.Ia-wa,In,Yi+8*Dt.B,wa))}if(!rn)return Na(Vr,6,"Output aborted.")}return 1})(Se,Re)),Re.bc!=null&&Re.bc(Re),ze&=1}return ze?(Se.cb=0,ze):0})(S,K)||(E=S.a)}}else E=S.a}E==0&&le.Oa!=null&&le.Oa.fd&&(E=zf(le.ba))}le=E}se=le!=0?null:11>se?he.f.RGBA.eb:he.f.kb.y}else se=null;return se};var $m=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,W){for(var O="",M=0;M<4;M++)O+=String.fromCharCode(F[W++]);return O}function f(F,W){return F[W+0]|F[W+1]<<8}function m(F,W){return(F[W+0]|F[W+1]<<8|F[W+2]<<16)>>>0}function x(F,W){return(F[W+0]|F[W+1]<<8|F[W+2]<<16|F[W+3]<<24)>>>0}new c;var p=[0],y=[0],v=[],b=new c,k=e,N=(function(F,W){var O={},M=0,H=!1,Y=0,ne=0;if(O.frames=[],!(function(P,q){for(var V=0;V<4;V++)if(P[q+V]!="RIFF".charCodeAt(V))return!0;return!1})(F,W)){for(x(F,W+=4),W+=8;W<F.length;){var X=d(F,W),re=x(F,W+=4);W+=4;var fe=re+(1&re);switch(X){case"VP8 ":case"VP8L":O.frames[M]===void 0&&(O.frames[M]={}),(Z=O.frames[M]).src_off=H?ne:W-8,Z.src_size=Y+re+8,M++,H&&(H=!1,Y=0,ne=0);break;case"VP8X":(Z=O.header={}).feature_flags=F[W];var ce=W+4;Z.canvas_width=1+m(F,ce),ce+=3,Z.canvas_height=1+m(F,ce),ce+=3;break;case"ALPH":H=!0,Y=fe+8,ne=W-8;break;case"ANIM":(Z=O.header).bgcolor=x(F,W),ce=W+4,Z.loop_count=f(F,ce),ce+=2;break;case"ANMF":var ke,Z;(Z=O.frames[M]={}).offset_x=2*m(F,W),W+=3,Z.offset_y=2*m(F,W),W+=3,Z.width=1+m(F,W),W+=3,Z.height=1+m(F,W),W+=3,Z.duration=m(F,W),W+=3,ke=F[W++],Z.dispose=1&ke,Z.blend=ke>>1&1}X!="ANMF"&&(W+=fe)}return O}})(k,0);N.response=k,N.rgbaoutput=!0,N.dataurl=!1;var _=N.header?N.header:null,T=N.frames?N.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],y=[_.canvas_width];for(var L=0;L<T.length&&T[L].blend!=0;L++);}var D=T[0],R=b.WebPDecodeRGBA(k,D.src_off,D.src_size,y,p);D.rgba=R,D.imgwidth=y[0],D.imgheight=p[0];for(var U=0;U<y[0]*p[0]*4;U++)v[U]=R[U];return this.width=y,this.height=p,this.data=v,this}(function(e){var t,r,a,n,i,s,o,c,d,f=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=P;Object.defineProperty(this,"pdf",{get:function(){return q}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(be){V=!!be}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(be){z=!!be}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(be){isNaN(be)||(Q=be)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(be){isNaN(be)||(de=be)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(be){var oe;typeof be=="number"?oe=[be,be,be,be]:((oe=new Array(4))[0]=be[0],oe[1]=be.length>=2?be[1]:oe[0],oe[2]=be.length>=3?be[2]:oe[0],oe[3]=be.length>=4?be[3]:oe[1]),d.margin=oe}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(be){Ee=be}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(be){ie=be}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(be){je=be}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(be){be instanceof f&&(d=be)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(be){d.path=be}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(be){Me=be}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(be){var oe;oe=x(be),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(be){var oe=x(be);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(be){["butt","round","square"].indexOf(be)!==-1&&(this.ctx.lineCap=be,this.pdf.setLineCap(be))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(be){isNaN(be)||(this.ctx.lineWidth=be,this.pdf.setLineWidth(be))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(be){["bevel","round","miter"].indexOf(be)!==-1&&(this.ctx.lineJoin=be,this.pdf.setLineJoin(be))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(be){isNaN(be)||(this.ctx.miterLimit=be,this.pdf.setMiterLimit(be))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(be){this.ctx.textBaseline=be}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(be){["right","end","center","left","start"].indexOf(be)!==-1&&(this.ctx.textAlign=be)}});var J=null,ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(be){J=null,ge=be}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(be){var oe;if(this.ctx.font=be,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(be))!==null){var Ue=oe[1];oe[2];var ve=oe[3],Ge=oe[4];oe[5];var $e=oe[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(ft==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var Je=(function(bt){var Et,Tr,Gt=[],Nt=bt.trim();if(Nt==="")return K_;if(Nt in T9)return[T9[Nt]];for(;Nt!=="";){switch(Tr=null,Et=(Nt=C9(Nt)).charAt(0)){case'"':case"'":Tr=dje(Nt.substring(1),Et);break;default:Tr=fje(Nt)}if(Tr===null||(Gt.push(Tr[0]),(Nt=C9(Tr[1]))!==""&&Nt.charAt(0)!==","))return K_;Nt=Nt.replace(/^,/,"")}return Gt})($e);if(this.fontFaces){var kt=(function(bt,Et){if(J===null){var Tr=(function(Gt){var Nt=[];return Object.keys(Gt).forEach(function(Yt){Gt[Yt].forEach(function(Sr){var er=null;switch(Sr){case"bold":er={family:Yt,weight:"bold"};break;case"italic":er={family:Yt,style:"italic"};break;case"bolditalic":er={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":er={family:Yt}}er!==null&&(er.ref={name:Yt,style:Sr},Nt.push(er))})}),Nt})(bt.getFontList());J=(function(Gt){for(var Nt={},Yt=0;Yt<Gt.length;++Yt){var Sr=V_(Gt[Yt]),er=Sr.family,Dr=Sr.stretch,hr=Sr.style,ma=Sr.weight;Nt[er]=Nt[er]||{},Nt[er][Dr]=Nt[er][Dr]||{},Nt[er][Dr][hr]=Nt[er][Dr][hr]||{},Nt[er][Dr][hr][ma]=Sr}return Nt})(Tr.concat(Et))}return J})(this.pdf,this.fontFaces),At=Je.map(function(bt){return{family:bt,stretch:"normal",weight:ve,style:Ue}}),Rt=(function(bt,Et,Tr){for(var Gt=(Tr=Tr||{}).defaultFontFamily||"times",Nt=Object.assign({},uje,Tr.genericFontFamilies||{}),Yt=null,Sr=null,er=0;er<Et.length;++er)if(Nt[(Yt=V_(Et[er])).family]&&(Yt.family=Nt[Yt.family]),bt.hasOwnProperty(Yt.family)){Sr=bt[Yt.family];break}if(!(Sr=Sr||bt[Gt]))throw new Error("Could not find a font-family for the rule '"+E9(Yt)+"' and default family '"+Gt+"'.");if(Sr=(function(Dr,hr){if(hr[Dr])return hr[Dr];var ma=oN[Dr],ea=ma<=oN.normal?-1:1,Wr=A9(hr,nW,ma,ea);if(!Wr)throw new Error("Could not find a matching font-stretch value for "+Dr);return Wr})(Yt.stretch,Sr),Sr=(function(Dr,hr){if(hr[Dr])return hr[Dr];for(var ma=aW[Dr],ea=0;ea<ma.length;++ea)if(hr[ma[ea]])return hr[ma[ea]];throw new Error("Could not find a matching font-style for "+Dr)})(Yt.style,Sr),!(Sr=(function(Dr,hr){if(hr[Dr])return hr[Dr];if(Dr===400&&hr[500])return hr[500];if(Dr===500&&hr[400])return hr[400];var ma=cje[Dr],ea=A9(hr,iW,ma,Dr<400?-1:1);if(!ea)throw new Error("Could not find a matching font-weight for value "+Dr);return ea})(Yt.weight,Sr)))throw new Error("Failed to resolve a font for the rule '"+E9(Yt)+"'.");return Sr})(kt,At);this.pdf.setFont(Rt.ref.name,Rt.ref.style)}else{var ar="";(ve==="bold"||parseInt(ve,10)>=700||Ue==="bold")&&(ar="bold"),Ue==="italic"&&(ar+="italic"),ar.length===0&&(ar="normal");for(var nr="",$r={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<Je.length;It++){if(this.pdf.internal.getFont(Je[It],ar,{noFallback:!0,disableWarning:!0})!==void 0){nr=Je[It];break}if(ar==="bolditalic"&&this.pdf.internal.getFont(Je[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nr=Je[It],ar="bold";else if(this.pdf.internal.getFont(Je[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nr=Je[It],ar="normal";break}}if(nr===""){for(var St=0;St<Je.length;St++)if($r[Je[St]]){nr=$r[Je[St]];break}}nr=nr===""?"Times":nr,this.pdf.setFont(nr,ar)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(be){this.ctx.globalCompositeOperation=be}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(be){this.ctx.globalAlpha=be}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(be){this.ctx.lineDashOffset=be,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(be){this.ctx.lineDash=be,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(be){this.ctx.ignoreClearRect=!!be}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){T.call(this,"fill",!1)},m.prototype.stroke=function(){T.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,q){if(isNaN(P)||isNaN(q))throw Ya.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(P,q));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(P,q)},m.prototype.closePath=function(){var P=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Da(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){P=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},m.prototype.lineTo=function(P,q){if(isNaN(P)||isNaN(q))throw Ya.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(P,q));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,q,V,z){if(isNaN(V)||isNaN(z)||isNaN(P)||isNaN(q))throw Ya.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(V,z)),de=this.ctx.transform.applyToPoint(new s(P,q));this.path.push({type:"qct",x1:de.x,y1:de.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},m.prototype.bezierCurveTo=function(P,q,V,z,Q,de){if(isNaN(Q)||isNaN(de)||isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z))throw Ya.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(Q,de)),ie=this.ctx.transform.applyToPoint(new s(P,q)),je=this.ctx.transform.applyToPoint(new s(V,z));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:je.x,y2:je.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},m.prototype.arc=function(P,q,V,z,Q,de){if(isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z)||isNaN(Q))throw Ya.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(P,q));P=Ee.x,q=Ee.y;var ie=this.ctx.transform.applyToPoint(new s(0,V)),je=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(ie.x-je.x,2)+Math.pow(ie.y-je.y,2))}Math.abs(Q-z)>=2*Math.PI&&(z=0,Q=2*Math.PI),this.path.push({type:"arc",x:P,y:q,radius:V,startAngle:z,endAngle:Q,counterclockwise:de})},m.prototype.arcTo=function(P,q,V,z,Q){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,q,V,z){if(isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z))throw Ya.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,q),this.lineTo(P+V,q),this.lineTo(P+V,q+z),this.lineTo(P,q+z),this.lineTo(P,q),this.lineTo(P+V,q),this.lineTo(P,q)},m.prototype.fillRect=function(P,q,V,z){if(isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z))throw Ya.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,q,V,z),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},m.prototype.strokeRect=function(P,q,V,z){if(isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z))throw Ya.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,q,V,z),this.stroke())},m.prototype.clearRect=function(P,q,V,z){if(isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z))throw Ya.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,q,V,z))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(q),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(P){var q,V,z,Q;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))q=0,V=0,z=0,Q=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(de!==null)q=parseInt(de[1]),V=parseInt(de[2]),z=parseInt(de[3]),Q=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)q=parseInt(de[1]),V=parseInt(de[2]),z=parseInt(de[3]),Q=parseFloat(de[4]);else{if(Q=1,typeof P=="string"&&P.charAt(0)!=="#"){var Ee=new XH(P);P=Ee.ok?Ee.toHex():"#000000"}P.length===4?(q=P.substring(1,2),q+=q,V=P.substring(2,3),V+=V,z=P.substring(3,4),z+=z):(q=P.substring(1,3),V=P.substring(3,5),z=P.substring(5,7)),q=parseInt(q,16),V=parseInt(V,16),z=parseInt(z,16)}}return{r:q,g:V,b:z,a:Q,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,q,V,z){if(isNaN(q)||isNaN(V)||typeof P!="string")throw Ya.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!p.call(this)){var Q=fe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;M.call(this,{text:P,x:q,y:V,scale:de,angle:Q,align:this.textAlign,maxWidth:z})}},m.prototype.strokeText=function(P,q,V,z){if(isNaN(q)||isNaN(V)||typeof P!="string")throw Ya.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){z=isNaN(z)?void 0:z;var Q=fe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;M.call(this,{text:P,x:q,y:V,scale:de,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:z})}},m.prototype.measureText=function(P){if(typeof P!="string")throw Ya.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,V=this.pdf.internal.scaleFactor,z=q.internal.getFontSize(),Q=q.getStringUnitWidth(P)*z/q.internal.scaleFactor;return new function(de){var Ee=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:Q*=Math.round(96*V/72*1e4)/1e4})},m.prototype.scale=function(P,q){if(isNaN(P)||isNaN(q))throw Ya.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(P,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.rotate=function(P){if(isNaN(P))throw Ya.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.translate=function(P,q){if(isNaN(P)||isNaN(q))throw Ya.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,P,q);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.transform=function(P,q,V,z,Q,de){if(isNaN(P)||isNaN(q)||isNaN(V)||isNaN(z)||isNaN(Q)||isNaN(de))throw Ya.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(P,q,V,z,Q,de);this.ctx.transform=this.ctx.transform.multiply(Ee)},m.prototype.setTransform=function(P,q,V,z,Q,de){P=isNaN(P)?1:P,q=isNaN(q)?0:q,V=isNaN(V)?0:V,z=isNaN(z)?1:z,Q=isNaN(Q)?0:Q,de=isNaN(de)?0:de,this.ctx.transform=new c(P,q,V,z,Q,de)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,q,V,z,Q,de,Ee,ie,je){var Me=this.pdf.getImageProperties(P),J=1,ge=1,be=1,oe=1;z!==void 0&&ie!==void 0&&(be=ie/z,oe=je/Q,J=Me.width/z*ie/z,ge=Me.height/Q*je/Q),de===void 0&&(de=q,Ee=V,q=0,V=0),z!==void 0&&ie===void 0&&(ie=z,je=Q),z===void 0&&ie===void 0&&(ie=Me.width,je=Me.height);for(var Ue,ve=this.ctx.transform.decompose(),Ge=fe(ve.rotate.shx),$e=new c,ft=($e=($e=($e=$e.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale)).applyToRectangle(new o(de-q*be,Ee-V*oe,z*J,Q*ge)),Je=b.call(this,ft),kt=[],At=0;At<Je.length;At+=1)kt.indexOf(Je[At])===-1&&kt.push(Je[At]);if(_(kt),this.autoPaging)for(var Rt=kt[0],ar=kt[kt.length-1],nr=Rt;nr<ar+1;nr++){this.pdf.setPage(nr);var $r=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=nr===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=nr===1?0:St+(nr-2)*bt;if(this.ctx.clip_path.length!==0){var Tr=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ue,this.posX+this.margin[3],-Et+It+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Tr}var Gt=JSON.parse(JSON.stringify(ft));Gt=N([Gt],this.posX+this.margin[3],-Et+It+this.ctx.prevPageLastElemOffset)[0];var Nt=(nr>Rt||nr<ar)&&v.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$r,bt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,Ge),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,Ge)};var b=function(P,q,V){var z=[];q=q||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":z.push(Math.floor((P.y+Q)/V)+1);break;case"arc":z.push(Math.floor((P.y+Q-P.radius)/V)+1),z.push(Math.floor((P.y+Q+P.radius)/V)+1);break;case"qct":var de=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);z.push(Math.floor((de.y+Q)/V)+1),z.push(Math.floor((de.y+de.h+Q)/V)+1);break;case"bct":var Ee=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);z.push(Math.floor((Ee.y+Q)/V)+1),z.push(Math.floor((Ee.y+Ee.h+Q)/V)+1);break;case"rect":z.push(Math.floor((P.y+Q)/V)+1),z.push(Math.floor((P.y+P.h+Q)/V)+1)}for(var ie=0;ie<z.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<z[ie];)k.call(this);return z},k=function(){var P=this.fillStyle,q=this.strokeStyle,V=this.font,z=this.lineCap,Q=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=q,this.font=V,this.lineCap=z,this.lineWidth=Q,this.lineJoin=de},N=function(P,q,V){for(var z=0;z<P.length;z++)switch(P[z].type){case"bct":P[z].x2+=q,P[z].y2+=V;case"qct":P[z].x1+=q,P[z].y1+=V;default:P[z].x+=q,P[z].y+=V}return P},_=function(P){return P.sort(function(q,V){return q-V})},T=function(P,q){for(var V,z,Q=this.fillStyle,de=this.strokeStyle,Ee=this.lineCap,ie=this.lineWidth,je=Math.abs(ie*this.ctx.transform.scaleX),Me=this.lineJoin,J=JSON.parse(JSON.stringify(this.path)),ge=JSON.parse(JSON.stringify(this.path)),be=[],oe=0;oe<ge.length;oe++)if(ge[oe].x!==void 0)for(var Ue=b.call(this,ge[oe]),ve=0;ve<Ue.length;ve+=1)be.indexOf(Ue[ve])===-1&&be.push(Ue[ve]);for(var Ge=0;Ge<be.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<be[Ge];)k.call(this);if(_(be),this.autoPaging)for(var $e=be[0],ft=be[be.length-1],Je=$e;Je<ft+1;Je++){this.pdf.setPage(Je),this.fillStyle=Q,this.strokeStyle=de,this.lineCap=Ee,this.lineWidth=je,this.lineJoin=Me;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Je===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ar=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nr=Je===1?0:Rt+(Je-2)*ar;if(this.ctx.clip_path.length!==0){var $r=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(V,this.posX+this.margin[3],-nr+At+this.ctx.prevPageLastElemOffset),L.call(this,P,!0),this.path=$r}if(z=JSON.parse(JSON.stringify(J)),this.path=N(z,this.posX+this.margin[3],-nr+At+this.ctx.prevPageLastElemOffset),q===!1||Je===0){var It=(Je>$e||Je<ft)&&v.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,ar,null).clip().discardPath()),L.call(this,P,q),It&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=je,L.call(this,P,q),this.lineWidth=ie;this.path=J},L=function(P,q){if((P!=="stroke"||q||!y.call(this))&&(P==="stroke"||q||!p.call(this))){for(var V,z,Q=[],de=this.path,Ee=0;Ee<de.length;Ee++){var ie=de[Ee];switch(ie.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ie,deltas:[],abs:[]});break;case"lt":var je=Q.length;if(de[Ee-1]&&!isNaN(de[Ee-1].x)&&(V=[ie.x-de[Ee-1].x,ie.y-de[Ee-1].y],je>0)){for(;je>=0;je--)if(Q[je-1].close!==!0&&Q[je-1].begin!==!0){Q[je-1].deltas.push(V),Q[je-1].abs.push(ie);break}}break;case"bct":V=[ie.x1-de[Ee-1].x,ie.y1-de[Ee-1].y,ie.x2-de[Ee-1].x,ie.y2-de[Ee-1].y,ie.x-de[Ee-1].x,ie.y-de[Ee-1].y],Q[Q.length-1].deltas.push(V);break;case"qct":var Me=de[Ee-1].x+2/3*(ie.x1-de[Ee-1].x),J=de[Ee-1].y+2/3*(ie.y1-de[Ee-1].y),ge=ie.x+2/3*(ie.x1-ie.x),be=ie.y+2/3*(ie.y1-ie.y),oe=ie.x,Ue=ie.y;V=[Me-de[Ee-1].x,J-de[Ee-1].y,ge-de[Ee-1].x,be-de[Ee-1].y,oe-de[Ee-1].x,Ue-de[Ee-1].y],Q[Q.length-1].deltas.push(V);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ie)}}z=q?null:P==="stroke"?"stroke":"fill";for(var ve=!1,Ge=0;Ge<Q.length;Ge++)if(Q[Ge].arc)for(var $e=Q[Ge].abs,ft=0;ft<$e.length;ft++){var Je=$e[ft];Je.type==="arc"?U.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,q,!ve):H.call(this,Je.x,Je.y),ve=!0}else if(Q[Ge].close===!0)this.pdf.internal.out("h"),ve=!1;else if(Q[Ge].begin!==!0){var kt=Q[Ge].start.x,At=Q[Ge].start.y;Y.call(this,Q[Ge].deltas,kt,At),ve=!0}z&&F.call(this,z),q&&W.call(this)}},D=function(P){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-V;case"top":return P+q-V;case"hanging":return P+q-2*V;case"middle":return P+q/2-V;default:return P}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(q,V){this.colorStops.push([q,V])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(P,q,V,z,Q,de,Ee,ie,je){for(var Me=X.call(this,V,z,Q,de),J=0;J<Me.length;J++){var ge=Me[J];J===0&&(je?O.call(this,ge.x1+P,ge.y1+q):H.call(this,ge.x1+P,ge.y1+q)),ne.call(this,P,q,ge.x2,ge.y2,ge.x3,ge.y3,ge.x4,ge.y4)}ie?W.call(this):F.call(this,Ee)},F=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,q){this.pdf.internal.out(r(P)+" "+a(q)+" m")},M=function(P){var q;switch(P.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var V=this.pdf.getTextDimensions(P.text),z=D.call(this,P.y),Q=R.call(this,z)-V.h,de=this.ctx.transform.applyToPoint(new s(P.x,z)),Ee=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var je,Me,J,ge=this.ctx.transform.applyToRectangle(new o(P.x,z,V.w,V.h)),be=ie.applyToRectangle(new o(P.x,Q,V.w,V.h)),oe=b.call(this,be),Ue=[],ve=0;ve<oe.length;ve+=1)Ue.indexOf(oe[ve])===-1&&Ue.push(oe[ve]);if(_(Ue),this.autoPaging)for(var Ge=Ue[0],$e=Ue[Ue.length-1],ft=Ge;ft<$e+1;ft++){this.pdf.setPage(ft);var Je=ft===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],Rt=At-this.margin[0],ar=this.pdf.internal.pageSize.width-this.margin[1],nr=ar-this.margin[3],$r=ft===1?0:kt+(ft-2)*Rt;if(this.ctx.clip_path.length!==0){var It=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(je,this.posX+this.margin[3],-1*$r+Je),L.call(this,"fill",!0),this.path=It}var St=N([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-$r+Je+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*P.scale),J=this.lineWidth,this.lineWidth=J*P.scale);var bt=this.autoPaging!=="text";if(bt||St.y+St.h<=At){if(bt||St.y>=Je&&St.x<=ar){var Et=bt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||ar-St.x)[0],Tr=N([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-$r+Je+this.ctx.prevPageLastElemOffset)[0],Gt=bt&&(ft>Ge||ft<$e)&&v.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,Rt,null).clip().discardPath()),this.pdf.text(Et,Tr.x,Tr.y,{angle:P.angle,align:q,renderingMode:P.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else St.y<At&&(this.ctx.prevPageLastElemOffset+=At-St.y);P.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=J)}else P.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*P.scale),J=this.lineWidth,this.lineWidth=J*P.scale),this.pdf.text(P.text,de.x+this.posX,de.y+this.posY,{angle:P.angle,align:q,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=J)},H=function(P,q,V,z){V=V||0,z=z||0,this.pdf.internal.out(r(P+V)+" "+a(q+z)+" l")},Y=function(P,q,V){return this.pdf.lines(P,q,V,null,null)},ne=function(P,q,V,z,Q,de,Ee,ie){this.pdf.internal.out([t(n(V+P)),t(i(z+q)),t(n(Q+P)),t(i(de+q)),t(n(Ee+P)),t(i(ie+q)),"c"].join(" "))},X=function(P,q,V,z){for(var Q=2*Math.PI,de=Math.PI/2;q>V;)q-=Q;var Ee=Math.abs(V-q);Ee<Q&&z&&(Ee=Q-Ee);for(var ie=[],je=z?-1:1,Me=q;Ee>1e-5;){var J=Me+je*Math.min(Ee,de);ie.push(re.call(this,P,Me,J)),Ee-=Math.abs(J-Me),Me=J}return ie},re=function(P,q,V){var z=(V-q)/2,Q=P*Math.cos(z),de=P*Math.sin(z),Ee=Q,ie=-de,je=Ee*Ee+ie*ie,Me=je+Ee*Q+ie*de,J=4/3*(Math.sqrt(2*je*Me)-Me)/(Ee*de-ie*Q),ge=Ee-J*ie,be=ie+J*Ee,oe=ge,Ue=-be,ve=z+q,Ge=Math.cos(ve),$e=Math.sin(ve);return{x1:P*Math.cos(q),y1:P*Math.sin(q),x2:ge*Ge-be*$e,y2:ge*$e+be*Ge,x3:oe*Ge-Ue*$e,y3:oe*$e+Ue*Ge,x4:P*Math.cos(V),y4:P*Math.sin(V)}},fe=function(P){return 180*P/Math.PI},ce=function(P,q,V,z,Q,de){var Ee=P+.5*(V-P),ie=q+.5*(z-q),je=Q+.5*(V-Q),Me=de+.5*(z-de),J=Math.min(P,Q,Ee,je),ge=Math.max(P,Q,Ee,je),be=Math.min(q,de,ie,Me),oe=Math.max(q,de,ie,Me);return new o(J,be,ge-J,oe-be)},ke=function(P,q,V,z,Q,de,Ee,ie){var je,Me,J,ge,be,oe,Ue,ve,Ge,$e,ft,Je,kt,At,Rt=V-P,ar=z-q,nr=Q-V,$r=de-z,It=Ee-Q,St=ie-de;for(Me=0;Me<41;Me++)Ge=(Ue=(J=P+(je=Me/40)*Rt)+je*((be=V+je*nr)-J))+je*(be+je*(Q+je*It-be)-Ue),$e=(ve=(ge=q+je*ar)+je*((oe=z+je*$r)-ge))+je*(oe+je*(de+je*St-oe)-ve),Me==0?(ft=Ge,Je=$e,kt=Ge,At=$e):(ft=Math.min(ft,Ge),Je=Math.min(Je,$e),kt=Math.max(kt,Ge),At=Math.max(At,$e));return new o(Math.round(ft),Math.round(Je),Math.round(kt-ft),Math.round(At-Je))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,q,V=(P=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:q}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Zt.API),(function(e){var t=function(s){var o,c,d,f,m,x,p,y,v,b;for(c=[],d=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>d;d+=4)(m=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(x=(m=((m=((m=((m=(m-(b=m%85))/85)-(v=m%85))/85)-(y=m%85))/85)-(p=m%85))/85)%85,c.push(x+33,p+33,y+33,v+33,b+33)):c.push(122);return(function(k,N){for(var _=N;_>0;_--)k.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,d,f,m,x=String,p="length",y=255,v="charCodeAt",b="slice",k="replace";for(s[b](-2),s=s[b](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],f=0,m=(s+=o="uuuuu"[b](s[p]%5||5))[p];m>f;f+=5)c=52200625*(s[v](f)-33)+614125*(s[v](f+1)-33)+7225*(s[v](f+2)-33)+85*(s[v](f+3)-33)+(s[v](f+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(N,_){for(var T=_;T>0;T--)N.pop()})(d,o[p]),x.fromCharCode.apply(x,d)},a=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",d=0;d<s.length;d+=2)c+=String.fromCharCode("0x"+(s[d]+s[d+1]));return c},i=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=eN(o)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(s,o){var c=0,d=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Zt.API),(function(e){e.loadFile=function(t,r,a){return(function(n,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(c,d,f){var m=new XMLHttpRequest,x=0,p=function(y){var v=y.length,b=[],k=String.fromCharCode;for(x=0;x<v;x+=1)b.push(k(255&y.charCodeAt(x)));return b.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return p(m.responseText)})(n,i,s)}catch{}return o})(t,r,a)},e.loadImageFile=e.loadFile})(Zt.API),(function(e){function t(){return(jr.html2canvas?Promise.resolve(jr.html2canvas):Nk(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(jr.DOMPurify?Promise.resolve(jr.DOMPurify):Nk(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var c=Da(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},i=function o(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(o(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},s=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),d);return(f=f.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(r).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var y=f[p],v=y.src.find(function(b){return b.format==="truetype"});v&&d.addFont(v.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(a(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var d=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},s.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(o=o||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,d,f){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,d,f){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(f,m){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,f),x}).then(f,m).then(function(x){return d.updateProgress(1),x})})},s.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),c&&(c=c.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),x=d.call(m,o,c);return s.convert(x,f.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Zt.getPageSize=function(o,c,d){if(Da(o)==="object"){var f=o;o=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var m,x=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var y,v=0,b=0;if(p.hasOwnProperty(x))v=p[x][1]/m,b=p[x][0]/m;else try{v=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>v&&(y=b,b=v,v=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(y=b,b=v,v=y)}return{width:b,height:v,unit:c,k:m,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(V_):null;var d=new s(c);return c.worker?d:d.from(o).doCallback()}})(Zt.API),Zt.API.addJS=function(e){return P9=e,this.internal.events.subscribe("postPutResources",function(){pb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),O9=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+P9+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pb!==void 0&&O9!==void 0&&this.internal.out("/Names <</JavaScript "+pb+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),i=0;i<n.length;i++){var s=n[i],o=a.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var m=r.internal.newObject();f.push(m);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,i){var s={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var s=a.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])})(Zt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,n,i,s,o){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),y=m.length,v={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=p,t.indexOf(m.charCodeAt(b+1))!==-1){x=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),v={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:x,numcomponents:m.charCodeAt(b+9)};break}p=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:a,alias:n}}return f}})(Zt.API),Zt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=Y6e(e,{checkCrc:!0}),s=i.width,o=i.height,c=i.channels,d=i.palette,f=i.depth;n=d&&c===1?(function(U){for(var F=U.width,W=U.height,O=U.data,M=U.palette,H=U.depth,Y=!1,ne=[],X=[],re=void 0,fe=!1,ce=0,ke=0;ke<M.length;ke++){var Z=RL(M[ke],4),P=Z[0],q=Z[1],V=Z[2],z=Z[3];ne.push(P,q,V),z!=null&&(z===0?(ce++,X.length<1&&X.push(ke)):z<255&&(fe=!0))}if(fe||ce>1){Y=!0,X=void 0;var Q=F*W;re=new Uint8Array(Q);for(var de=new DataView(O.buffer),Ee=0;Ee<Q;Ee++){var ie=G_(de,Ee,H),je=RL(M[ie],4)[3];re[Ee]=je}}else ce===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:O,alphaBytes:re,needSMask:Y,palette:ne,mask:X}})(i):c===2||c===4?(function(U){for(var F=U.data,W=U.width,O=U.height,M=U.channels,H=U.depth,Y=M===2?"DeviceGray":"DeviceRGB",ne=M-1,X=W*O,re=ne,fe=X*re,ce=1*X,ke=Math.ceil(fe*H/8),Z=Math.ceil(ce*H/8),P=new Uint8Array(ke),q=new Uint8Array(Z),V=new DataView(F.buffer),z=new DataView(P.buffer),Q=new DataView(q.buffer),de=!1,Ee=0;Ee<X;Ee++){for(var ie=Ee*M,je=0;je<re;je++)z9(z,G_(V,ie+je,H),Ee*re+je,H);var Me=G_(V,ie+re,H);Me<(1<<H)-1&&(de=!0),z9(Q,Me,1*Ee,H)}return{colorSpace:Y,colorsPerPixel:ne,sMaskBitsPerComponent:de?H:void 0,colorBytes:P,alphaBytes:q,needSMask:de}})(i):(function(U){var F=U.data,W=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:W,colorsPerPixel:W==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(O){for(var M=O.length,H=new Uint8Array(2*M),Y=new DataView(H.buffer,H.byteOffset,H.byteLength),ne=0;ne<M;ne++)Y.setUint16(2*ne,O[ne],!1);return H})(F):F,needSMask:!1}})(i);var m,x,p,y=n,v=y.colorSpace,b=y.colorsPerPixel,k=y.sMaskBitsPerComponent,N=y.colorBytes,_=y.alphaBytes,T=y.needSMask,L=y.palette,D=y.mask,R=null;return a!==Zt.API.image_compression.NONE&&typeof eN=="function"?(R=(function(U){var F;switch(U){case Zt.API.image_compression.FAST:F=11;break;case Zt.API.image_compression.MEDIUM:F=13;break;case Zt.API.image_compression.SLOW:F=14;break;default:F=12}return F})(a),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(R," /Colors ").concat(b," /BitsPerComponent ").concat(f," /Columns ").concat(s),e=R9(N,Math.ceil(s*b*f/8),b,f,a),T&&(p=R9(_,Math.ceil(s*k/8),1,k,a))):(m=void 0,x=void 0,e=N,T&&(p=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:x,transparency:D,palette:L,sMask:p,predictor:R,width:s,height:o,bitsPerComponent:f,sMaskBitsPerComponent:k,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,a,n){var i=new gje(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:o},f=new Y_(100).encode(d,100);return e.processJPEG.call(this,f,r,a,n)},e.processGIF87A=e.processGIF89A})(Zt.API),Sc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ya.log("bit decode error:"+r)}},Sc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),s=a*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Sc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),s=a*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Sc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(n<this.palette.length){var s=this.palette[n];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Sc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,f=a*this.width*4+4*n;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=s,this.data[f+3]=d}this.pos+=e}},Sc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,d=(s>>11)/t*255|0,f=n*this.width*4+4*i;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Sc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=255}this.pos+=this.width%4}},Sc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=s}},Sc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,a,n){var i=new Sc(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},d=new Y_(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)}})(Zt.API),$9.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,a,n){var i=new $9(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},d=new Y_(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)}})(Zt.API),Zt.API.processRGBA=function(e,t,r){for(var a=e.data,n=a.length,i=new Uint8Array(n/4*3),s=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var f=a[d],m=a[d+1],x=a[d+2],p=a[d+3];i[o++]=f,i[o++]=m,i[o++]=x,s[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Np=Zt.API,gb=Np.getCharWidthsArray=function(e,t){var r,a,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=t.doKerning!==!1,x=0,p=e.length,y=0,v=o[0]||c,b=[];for(r=0;r<p;r++)a=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+s*(1e3/i)||0)/1e3):(x=m&&Da(d[a])==="object"&&!isNaN(parseInt(d[a][y],10))?d[a][y]/f:0,b.push((o[a]||v)/c+x)),y=a;return b},D9=Np.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Np.processArabic&&(e=Np.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,n)/r:gb.apply(this,arguments).reduce(function(i,s){return i+s},0)},L9=function(e,t,r,a){for(var n=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>a&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},M9=function(e,t,r){r||(r={});var a,n,i,s,o,c,d,f=[],m=[f],x=r.textIndent||0,p=0,y=0,v=e.split(" "),b=gb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var k=Array(c).join(" "),N=[];v.map(function(T){(T=T.split(/\s*\n/)).length>1?N=N.concat(T.map(function(L,D){return(D&&L.length?`
`:"")+L})):N.push(T[0])}),v=N,c=D9.apply(this,[k,r])}for(i=0,s=v.length;i<s;i++){var _=0;if(a=v[i],c&&a[0]==`
`&&(a=a.substr(1),_=1),x+p+(y=(n=gb.apply(this,[a,r])).reduce(function(T,L){return T+L},0))>t||_){if(y>t){for(o=L9.apply(this,[a,n,t-(x+p),t]),f.push(o.shift()),f=[o.pop()];o.length;)m.push([o.shift()]);y=n.slice(a.length-(f[0]?f[0].length:0)).reduce(function(T,L){return T+L},0)}else f=[a];m.push(f),x=y+c,p=b}else f.push(a),x+=p+y,p=b}return d=c?function(T,L){return(L?k:"")+T.join(" ")}:function(T){return T.join(" ")},m.map(d)},Np.splitTextToSize=function(e,t,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=a.length;o<c;o++)d=d.concat(M9.apply(this,[a[o],s,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[r[i]]=t[i],n[t[i]]=r[i];var s=function(x){return"0x"+parseInt(x,10).toString(16)},o=e.__fontmetrics__.compress=function(x){var p,y,v,b,k=["{"];for(var N in x){if(p=x[N],isNaN(parseInt(N,10))?y="'"+N+"'":(N=parseInt(N,10),y=(y=s(N).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof p=="number")p<0?(v=s(p).slice(3),b="-"):(v=s(p).slice(2),b=""),v=b+v.slice(0,-1)+n[v.slice(-1)];else{if(Da(p)!=="object")throw new Error("Don't know what to do with value type "+Da(p)+".");v=o(p)}k.push(y+v)}return k.push("}"),k.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,v,b,k={},N=1,_=k,T=[],L="",D="",R=x.length-1,U=1;U<R;U+=1)(b=x[U])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(T.push([_,v]),_={},v=void 0):b=="}"?((y=T.pop())[0][y[1]]=_,v=void 0,_=y[0]):b=="-"?N=-1:v===void 0?a.hasOwnProperty(b)?(L+=a[b],v=parseInt(L,16)*N,N=1,L=""):L+=b:a.hasOwnProperty(b)?(D+=a[b],_[v]=parseInt(D,16)*N,N=1,v=void 0,D=""):D+=b;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var p=x.font,y=m.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(Zt.API),(function(e){var t=function(r){for(var a=r.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=r.charCodeAt(i);return n};e.API.events.push(["addFont",function(r){var a=void 0,n=r.font,i=r.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Nb(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,a)}}])})(Zt),Zt.API.addSvgAsImage=function(e,t,r,a,n,i,s,o){if(isNaN(t)||isNaN(r))throw Ya.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw Ya.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(jr.canvg?Promise.resolve(jr.canvg):Nk(()=>import("./index.es-CtMx6AGu.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(f)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),t,r,a,n,s,o)})},Zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,r);return this},Zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,n,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],d=0,f=0,m=0;function x(y,v){var b,k=!1;for(b=0;b<y.length;b+=1)y[b]===v&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(m=0;m<p;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Da(e)==="object"){for(n in e)if(i=e[n],x(o,n)&&i!==void 0){if(r[n].type==="boolean"&&typeof i=="boolean")r[n].value=i;else if(r[n].type==="name"&&x(r[n].valueSet,i))r[n].value=i;else if(r[n].type==="integer"&&Number.isInteger(i))r[n].value=i;else if(r[n].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(a=!1);a===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[n].value="["+c.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+s.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Zt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,x=i.length;m<x;++m){if(o=s.metadata.characterToGlyph(i.charCodeAt(m)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(d[4-o.length],o)}return f.join("")},a=function(i){var s,o,c,d,f,m,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,x=(o=Object.keys(i).sort(function(p,y){return p-y})).length;m<x;m++)s=o[m],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(d=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,d=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<x.length;y++)p+=String.fromCharCode(x[y]);var v=d();f({data:p,addLength1:!0,objectId:v}),c("endobj");var b=d();f({data:a(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var k=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Cp(o.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Cp(o.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Cp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,d=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var y=d();f({data:x,addLength1:!0,objectId:y}),c("endobj");var v=d();f({data:a(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Cp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var k=0;k<o.metadata.hmtx.widths.length;k++)o.metadata.hmtx.widths[k]=parseInt(o.metadata.hmtx.widths[k]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Cp(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var s,o=i.text||"",c=i.x,d=i.y,f=i.options||{},m=i.mutex||{},x=m.pdfEscape,p=m.activeFontKey,y=m.fonts,v=p,b="",k=0,N="",_=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:c,y:d,options:f,mutex:m};for(N=o,v=p,Array.isArray(o)&&(N=o[0]),k=0;k<N.length;k+=1)y[v].metadata.hasOwnProperty("cmap")&&(s=y[v].metadata.cmap.unicode.codeMap[N[k].charCodeAt(0)]),s||N[k].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?b+=N[k]:b+="";var T="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?T=x(b,v).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(T=r(b,y[v])),m.isHex=!0,{text:T,x:c,y:d,options:f,mutex:m}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?o.push([n(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):o.push(n(Object.assign({},c,{text:s[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:s})).text}])})(Zt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Zt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,i,s,o,c,d,f,m=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,_=0;this.__bidiEngine__={};var T=function(O){var M=O.charCodeAt(),H=M>>8,Y=v[H];return Y!==void 0?m[256*Y+(255&M)]:H===252||H===253?"AL":k.test(H)?"L":H===8?"R":"N"},L=function(O){for(var M,H=0;H<O.length;H++){if((M=T(O.charAt(H)))==="L")return!1;if(M==="R")return!0}return!1},D=function(O,M,H,Y){var ne,X,re,fe,ce=M[Y];switch(ce){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ce="AN");break;case"AL":N=!0,ce="R";break;case"WS":case"BN":ce="N";break;case"CS":Y<1||Y+1>=M.length||(ne=H[Y-1])!=="EN"&&ne!=="AN"||(X=M[Y+1])!=="EN"&&X!=="AN"?ce="N":N&&(X="AN"),ce=X===ne?X:"N";break;case"ES":ce=(ne=Y>0?H[Y-1]:"B")==="EN"&&Y+1<M.length&&M[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&H[Y-1]==="EN"){ce="EN";break}if(N){ce="N";break}for(re=Y+1,fe=M.length;re<fe&&M[re]==="ET";)re++;ce=re<fe&&M[re]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(fe=M.length,re=Y+1;re<fe&&M[re]==="NSM";)re++;if(re<fe){var ke=O[Y],Z=ke>=1425&&ke<=2303||ke===64286;if(ne=M[re],Z&&(ne==="R"||ne==="AL")){ce="R";break}}}ce=Y<1||(ne=M[Y-1])==="B"?"N":H[Y-1];break;case"B":N=!1,n=!0,ce=_;break;case"S":i=!0,ce="N"}return ce},R=function(O,M,H){var Y=O.split("");return H&&U(Y,H,{hiLevel:_}),Y.reverse(),M&&M.reverse(),Y.join("")},U=function(O,M,H){var Y,ne,X,re,fe,ce=-1,ke=O.length,Z=0,P=[],q=_?p:x,V=[];for(N=!1,n=!1,i=!1,ne=0;ne<ke;ne++)V[ne]=T(O[ne]);for(X=0;X<ke;X++){if(fe=Z,P[X]=D(O,V,P,X),Y=240&(Z=q[fe][y[P[X]]]),Z&=15,M[X]=re=q[Z][5],Y>0)if(Y===16){for(ne=ce;ne<X;ne++)M[ne]=1;ce=-1}else ce=-1;if(q[Z][6])ce===-1&&(ce=X);else if(ce>-1){for(ne=ce;ne<X;ne++)M[ne]=re;ce=-1}V[X]==="B"&&(M[X]=0),H.hiLevel|=re}i&&(function(z,Q,de){for(var Ee=0;Ee<de;Ee++)if(z[Ee]==="S"){Q[Ee]=_;for(var ie=Ee-1;ie>=0&&z[ie]==="WS";ie--)Q[ie]=_}})(V,M,ke)},F=function(O,M,H,Y,ne){if(!(ne.hiLevel<O)){if(O===1&&_===1&&!n)return M.reverse(),void(H&&H.reverse());for(var X,re,fe,ce,ke=M.length,Z=0;Z<ke;){if(Y[Z]>=O){for(fe=Z+1;fe<ke&&Y[fe]>=O;)fe++;for(ce=Z,re=fe-1;ce<re;ce++,re--)X=M[ce],M[ce]=M[re],M[re]=X,H&&(X=H[ce],H[ce]=H[re],H[re]=X);Z=fe}Z++}}},W=function(O,M,H){var Y=O.split(""),ne={hiLevel:_};return H||(H=[]),U(Y,H,ne),(function(X,re,fe){if(fe.hiLevel!==0&&f)for(var ce,ke=0;ke<X.length;ke++)re[ke]===1&&(ce=b.indexOf(X[ke]))>=0&&(X[ke]=b[ce+1])})(Y,H,ne),F(2,Y,M,H,ne),F(1,Y,M,H,ne),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(O,M,H){if((function(ne,X){if(X)for(var re=0;re<ne.length;re++)X[re]=re;o===void 0&&(o=L(ne)),d===void 0&&(d=L(ne))})(O,M),s||!c||d)if(s&&c&&o^d)_=o?1:0,O=R(O,M,H);else if(!s&&c&&d)_=o?1:0,O=W(O,M,H),O=R(O,M);else if(!s||o||c||d){if(s&&!c&&o^d)O=R(O,M),o?(_=0,O=W(O,M,H)):(_=1,O=W(O,M,H),O=R(O,M));else if(s&&o&&!c&&d)_=1,O=W(O,M,H),O=R(O,M);else if(!s&&!c&&o^d){var Y=f;o?(_=1,O=W(O,M,H),_=0,f=!1,O=W(O,M,H),f=Y):(_=0,O=W(O,M,H),O=R(O,M),_=1,f=!1,O=W(O,M,H),f=Y,O=R(O,M))}}else _=0,O=W(O,M,H);else _=o?1:0,O=W(O,M,H);return O},this.__bidiEngine__.setOptions=function(O){O&&(s=O.isInputVisual,c=O.isOutputVisual,o=O.isInputRtl,d=O.isOutputRtl,f=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(s=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?s.push([r.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):s.push([r.doBidiReorder(n[o])]);a.text=s}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(Zt),Zt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new wf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Oje(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xje(this.contents),this.head=new yje(this),this.name=new Sje(this),this.cmap=new oW(this),this.toUnicode={},this.hhea=new bje(this),this.maxp=new Nje(this),this.hmtx=new jje(this),this.post=new kje(this),this.os2=new wje(this),this.loca=new Cje(this),this.glyf=new Aje(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,d;for(d=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var n,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var Vc,wf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,n;for(n=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,n,i,s,o,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*n+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,n,i;for(i=[],a=0,n=t.length;a<n;a++)r=t[a],i.push(this.writeByte(r));return i},e})(),xje=(function(){var e;function t(r){var a,n,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,n,i,s,o,c,d,f,m,x,p,y,v;for(v in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),s=Math.floor(m/c),f=16*p-m,(n=new wf).writeInt(this.scalarType),n.writeShort(p),n.writeShort(m),n.writeShort(s),n.writeShort(f),i=16*p,d=n.pos+i,o=null,y=[],r)for(x=r[v],n.writeString(v),n.writeInt(e(x)),n.writeInt(d),n.writeInt(x.length),y=y.concat(x),v==="head"&&(o=d),d+=x.length;d%4;)y.push(0),d++;return n.write(y),a=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(a),n.data},e=function(r){var a,n,i,s;for(r=lW.call(r);r.length%4;)r.push(0);for(i=new wf(r),n=0,a=0,s=r.length;a<s;a=a+=4)n+=i.readUInt32();return 4294967295&n},t})(),vje={}.hasOwnProperty,Bu=function(e,t){for(var r in t)vje.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Vc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var yje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new wf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),H9=(function(){function e(t,r){var a,n,i,s,o,c,d,f,m,x,p,y,v,b,k,N,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,i=(function(){var T,L;for(L=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)L.push(t.readUInt16());return L})(),t.pos+=2,v=(function(){var T,L;for(L=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)L.push(t.readUInt16());return L})(),d=(function(){var T,L;for(L=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)L.push(t.readUInt16());return L})(),f=(function(){var T,L;for(L=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)L.push(t.readUInt16());return L})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var T,L;for(L=[],c=T=0;0<=n?T<n:T>n;c=0<=n?++T:--T)L.push(t.readUInt16());return L})(),c=k=0,_=i.length;k<_;c=++k)for(b=i[c],a=N=y=v[c];y<=b?N<=b:N>=b;a=y<=b?++N:--N)f[c]===0?s=a+d[c]:(s=o[f[c]/2+(a-y)-(x-c)]||0)!==0&&(s+=d[c]),this.codeMap[a]=65535&s}t.pos=m}return e.encode=function(t,r){var a,n,i,s,o,c,d,f,m,x,p,y,v,b,k,N,_,T,L,D,R,U,F,W,O,M,H,Y,ne,X,re,fe,ce,ke,Z,P,q,V,z,Q,de,Ee,ie,je,Me,J;switch(Y=new wf,s=Object.keys(t).sort(function(ge,be){return ge-be}),r){case"macroman":for(v=0,b=(function(){var ge=[];for(y=0;y<256;++y)ge.push(0);return ge})(),N={0:0},i={},ne=0,ce=s.length;ne<ce;ne++)N[ie=t[n=s[ne]]]==null&&(N[ie]=++v),i[n]={old:t[n],new:N[t[n]]},b[n]=N[t[n]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(b),{charMap:i,subtable:Y.data,maxGlyphID:v+1};case"unicode":for(M=[],m=[],_=0,N={},a={},k=d=null,X=0,ke=s.length;X<ke;X++)N[L=t[n=s[X]]]==null&&(N[L]=++_),a[n]={old:L,new:N[L]},o=N[L]-n,k!=null&&o===d||(k&&m.push(k),M.push(n),d=o),k=n;for(k&&m.push(k),m.push(65535),M.push(65535),W=2*(F=M.length),U=2*Math.pow(Math.log(F)/Math.LN2,2),x=Math.log(U/2)/Math.LN2,R=2*F-U,c=[],D=[],p=[],y=re=0,Z=M.length;re<Z;y=++re){if(O=M[y],f=m[y],O===65535){c.push(0),D.push(0);break}if(O-(H=a[O].new)>=32768)for(c.push(0),D.push(2*(p.length+F-y)),n=fe=O;O<=f?fe<=f:fe>=f;n=O<=f?++fe:--fe)p.push(a[n].new);else c.push(H-O),D.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*F+2*p.length),Y.writeUInt16(0),Y.writeUInt16(W),Y.writeUInt16(U),Y.writeUInt16(x),Y.writeUInt16(R),de=0,P=m.length;de<P;de++)n=m[de],Y.writeUInt16(n);for(Y.writeUInt16(0),Ee=0,q=M.length;Ee<q;Ee++)n=M[Ee],Y.writeUInt16(n);for(je=0,V=c.length;je<V;je++)o=c[je],Y.writeUInt16(o);for(Me=0,z=D.length;Me<z;Me++)T=D[Me],Y.writeUInt16(T);for(J=0,Q=p.length;J<Q;J++)v=p[J],Y.writeUInt16(v);return{charMap:a,subtable:Y.data,maxGlyphID:_+1}}},e})(),oW=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r=new H9(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,n;return r==null&&(r="macroman"),a=H9.encode(t,r),(n=new wf).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e})(),bje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),wje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),kje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)r=t.readByte(),n.push(this.names.push(t.readString(r)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var s,o,c;for(c=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)c.push(t.readUInt32());return c}).call(this)}},e})(),_je=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Sje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,n,i,s,o,c,d,f,m,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=f=0,m=a.length;f<m;i=++f)n=a[i],t.pos=n.offset,d=t.readString(n.length),s=new _je(d,n),c[x=n.nameID]==null&&(c[x]=[]),c[n.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),Nje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),jje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,n,i,s,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],r=d=0;0<=n?d<n:d>n;r=0<=n?++d:--d)f.push(t.readInt16());return f})(),this.widths=(function(){var d,f,m,x;for(x=[],d=0,f=(m=this.metrics).length;d<f;d++)i=m[d],x.push(i.advance);return x}).call(this),a=this.widths[this.widths.length-1],c=[],r=s=0;0<=n?s<n:s>n;r=0<=n?++s:--s)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),lW=[].slice,Aje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,n,i,s,o,c,d,f,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,s=(o=new wf(r.read(n))).readShort(),d=o.readShort(),m=o.readShort(),c=o.readShort(),f=o.readShort(),this.cache[t]=s===-1?new Eje(o,d,m,c,f):new Tje(o,s,d,m,c,f),this.cache[t]))},e.prototype.encode=function(t,r,a){var n,i,s,o,c;for(s=[],i=[],o=0,c=r.length;o<c;o++)n=t[r[o]],i.push(s.length),n&&(s=s.concat(n.encode(a)));return i.push(s.length),{table:s,offsets:i}},e})(),Tje=(function(){function e(t,r,a,n,i,s){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Eje=(function(){function e(t,r,a,n,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new wf(lW.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Cje=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bu(e,Vc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,s=0;s<a.length;++s)if(a[s]=n,i<r.length&&r[i]==s){++i,a[s]=n;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(n+=c)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e})(),Oje=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,n,i;for(r in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=n[a];return t},e.prototype.glyphsFor=function(t){var r,a,n,i,s,o,c;for(n={},s=0,o=t.length;s<o;s++)n[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],n)(a=n[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],n[i]=a;return n},e.prototype.encode=function(t,r){var a,n,i,s,o,c,d,f,m,x,p,y,v,b,k;for(n in a=oW.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},k=a.charMap)p[(c=k[n]).old]=c.new;for(y in x=a.maxGlyphID,s)y in p||(p[y]=x++);return f=(function(N){var _,T;for(_ in T={},N)T[N[_]]=_;return T})(p),m=Object.keys(f).sort(function(N,_){return N-_}),v=(function(){var N,_,T;for(T=[],N=0,_=m.length;N<_;N++)o=m[N],T.push(f[o]);return T})(),i=this.font.glyf.encode(s,v,p),d=this.font.loca.encode(i.offsets,v),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();Zt.API.PDFObject=(function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,n,i,s;if(Array.isArray(r))return"["+(function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)a=r[o],d.push(t.convert(a));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in i=["<<"],r)s=r[n],i.push("/"+n+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();function cW(e,t,r,a,n){a=a||{};var i=1.15,s=n.internal.scaleFactor,o=n.internal.getFontSize()/s,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,f=/\r\n|\r|\n/g,m="",x=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(m=typeof e=="string"?e.split(f):e,x=m.length||1),r+=o*(2-i),a.valign==="middle"?r-=x/2*d:a.valign==="bottom"&&(r-=x*d),a.halign==="center"||a.halign==="right"){var p=o;if(a.halign==="center"&&(p*=.5),m&&x>=1){for(var y=0;y<m.length;y++)n.text(m[y],t-n.getStringUnitWidth(m[y])*p,r),r+=d;return n}t-=n.getStringUnitWidth(e)*p}return a.halign==="justify"?n.text(e,t,r,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(e,t,r),n}var W9={},Kp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:W9=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var a,n,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var f=e.unifyColor(t.fillColor);f&&(a=this.jsPDFDocument).setFillColor.apply(a,f),f=e.unifyColor(t.textColor),f&&(n=this.jsPDFDocument).setTextColor.apply(n,f),f=e.unifyColor(t.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,a){return this.jsPDFDocument.splitTextToSize(t,r,a)},e.prototype.rect=function(t,r,a,n,i){return this.jsPDFDocument.rect(t,r,a,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return W9||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),lN=function(e,t){return lN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},lN(e,t)};function uW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var dW=(function(e){uW(t,e);function t(r){var a=e.call(this)||this;return a._element=r,a}return t})(Array);function Pje(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Dje(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function V2(e,t,r){r.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],n=a.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return n}function fW(e,t,r,a){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var s=hW(n,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,s)}function hW(e,t){var r=e>0,a=t||t===0;return r&&a?"DF":r?"S":a?"F":null}function r5(e,t){var r,a,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function mW(e,t){var r=r5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Lje(e,t,r,a,n){var i={},s=1.3333333333333333,o=X_(t,function(_){return n.getComputedStyle(_).backgroundColor});o!=null&&(i.fillColor=o);var c=X_(t,function(_){return n.getComputedStyle(_).color});c!=null&&(i.textColor=c);var d=Rje(a,r);d&&(i.cellPadding=d);var f="borderTopColor",m=s*r,x=a.borderTopWidth;if(a.borderBottomWidth===x&&a.borderRightWidth===x&&a.borderLeftWidth===x){var p=(parseFloat(x)||0)/m;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/m,right:(parseFloat(a.borderRightWidth)||0)/m,bottom:(parseFloat(a.borderBottomWidth)||0)/m,left:(parseFloat(a.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var y=X_(t,function(_){return n.getComputedStyle(_)[f]});y!=null&&(i.lineColor=y);var v=["left","right","center","justify"];v.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),v=["middle","bottom","top"],v.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var b=parseInt(a.fontSize||"");isNaN(b)||(i.fontSize=b/s);var k=Mje(a);k&&(i.fontStyle=k);var N=(a.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(i.font=N),i}function Mje(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function X_(e,t){var r=pW(e,t);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function pW(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:pW(e.parentElement,t):r}function Rje(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/a}),s=r5(i,0);return n>s.top&&(s.top=n),n>s.bottom&&(s.bottom=n),s}function gW(e,t,r,a,n){var i,s;a===void 0&&(a=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),f=[],m=[],x=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:f,body:m,foot:x};for(var p=0;p<o.rows.length;p++){var y=o.rows[p],v=(s=(i=y==null?void 0:y.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),b=Ije(c,d,r,y,a,n);b&&(v==="thead"?f.push(b):v==="tfoot"?x.push(b):m.push(b))}return{head:f,body:m,foot:x}}function Ije(e,t,r,a,n,i){for(var s=new dW(a),o=0;o<a.cells.length;o++){var c=a.cells[o],d=r.getComputedStyle(c);if(n||d.display!=="none"){var f=void 0;i&&(f=Lje(e,c,t,d,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:Fje(c)})}}var m=r.getComputedStyle(a);if(s.length>0&&(n||m.display!=="none"))return s}function Fje(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Bje(e,t,r){for(var a=0,n=[e,t,r];a<n.length;a++){var i=n[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Ed(e,t,r,a,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function xW(e,t){var r=new Kp(e),a=r.getDocumentOptions(),n=r.getGlobalOptions();Bje(n,a,t);var i=Ed({},n,a,t),s;typeof window<"u"&&(s=window);var o=Uje(n,a,t),c=zje(n,a,t),d=qje(r,i),f=Hje(r,i,s);return{id:t.tableId,content:f,hooks:c,styles:o,settings:d}}function Uje(e,t,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],f=t[c],m=r[c];a.columnStyles=Ed({},d,f,m)}else{var x=[e,t,r],p=x.map(function(y){return y[c]||{}});a[c]=Ed({},p[0],p[1],p[2])}},i=0,s=Object.keys(a);i<s.length;i++){var o=s[i];n(o)}return a}function zje(e,t,r){for(var a=[e,t,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=a;i<s.length;i++){var o=s[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function qje(e,t){var r,a,n,i,s,o,c,d,f,m,x,p,y=r5(t.margin,40/e.scaleFactor()),v=(r=$je(e,t.startY))!==null&&r!==void 0?r:y.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var N=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(N?"plain":"striped"),T=!!t.horizontalPageBreak,L=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:_,startY:v,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:k,showFoot:b,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:T,horizontalPageBreakRepeat:L,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function $je(e,t){var r=e.getLastAutoTable(),a=e.scaleFactor(),n=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/a:null}function Hje(e,t,r){var a=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=gW(e,t.html,r,s,t.useCss)||{};a=o.head||a,n=o.body||a,i=o.foot||a}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Wje(a,n,i);return{columns:c,head:a,body:n,foot:i}}function Wje(e,t,r){var a=e[0]||t[0]||r[0]||[],n=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(a)?o=a[parseInt(i)]:o=a[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var c=0;c<s;c++){var d=void 0;Array.isArray(a)?d=n.length:d=i+(c>0?"_".concat(c):"");var f={dataKey:d};n.push(f)}}),n}var cN=(function(){function e(t,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),Vje=(function(e){uW(t,e);function t(r,a,n,i,s,o){var c=e.call(this,r,a,o)||this;return c.cell=n,c.row=i,c.column=s,c.section=i.section,c}return t})(cN),Kje=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,a,n,i,s){for(var o=0,c=r;o<c.length;o++){var d=c[o],f=new Vje(t,this,a,n,i,s),m=d(f)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var i=n[a];i(new cN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var i=n[a];i(new cN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return r}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),vW=(function(){function e(t,r,a,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof dW&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=a,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(a,n){var i;return Math.max(a,((i=r.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(a){var n=r.cells[a.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var a=this;return t.reduce(function(n,i){var s=a.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),yW=(function(){function e(t,r,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*r,i=a*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=r5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),Gje=(function(){function e(t,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,a=0,n=t.allRows();a<n.length;a++){var i=n[a],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function Yje(e,t){Xje(e,t);var r=[],a=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),a+=i.width});var n=t.getWidth(e.pageSize().width)-a;n&&(n=uN(r,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=uN(r,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),Jje(t),Zje(t,e),Qje(t)}function Xje(e,t){var r=e.scaleFactor(),a=t.settings.horizontalPageBreak,n=mW(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],d=i.cells[c.index];if(d){var f=t.hooks.didParseCell;t.callCellHooks(e,f,d,i,c,null);var m=d.padding("horizontal");d.contentWidth=V2(d.text,d.styles,e)+m;var x=V2(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function uN(e,t,r){for(var a=t,n=e.reduce(function(p,y){return p+y.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/n,c=a*o,d=s.width+c,f=r(s),m=d<f?f:d;t-=m-s.width,s.width=m}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(p){return t<0?p.width>r(p):!0});x.length&&(t=uN(x,t,r))}return t}function Qje(e){for(var t={},r=1,a=e.allRows(),n=0;n<a.length;n++)for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var c=o[s],d=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var f=i.cells[c.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var m=a.length-n,x=f.rowSpan>m?m:f.rowSpan;t[c.index]={cell:f,left:x,row:i}}}}}function Jje(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var a=t[r],n=null,i=0,s=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=c.width,delete a.cells[c.index];else if(n){var d=n;delete a.cells[c.index],n=null,d.width=c.width+i}else{var d=a.cells[c.index];if(!d)continue;if(s=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function Zje(e,t){for(var r={count:0,height:0},a=0,n=e.allRows();a<n.length;a++){for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var c=o[s],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,f+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=V9(d.text,f,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=V9(d.text,f,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,f);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<x*d.rowSpan?r={height:x,count:d.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function V9(e,t,r,a,n){return e.map(function(i){return eAe(i,t,r,a,n)})}function eAe(e,t,r,a,n){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=V2(e,r,a))return e;for(;t<V2(e+n,r,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function bW(e,t){var r=new Kp(e),a=tAe(t,r.scaleFactor()),n=new Kje(t,a);return Yje(r,n),r.applyStyles(r.userStyles),n}function tAe(e,t){var r=e.content,a=aAe(r.columns);if(r.head.length===0){var n=K9(a,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=K9(a,"foot");n&&r.foot.push(n)}var i=e.settings.theme,s=e.styles;return{columns:a,head:Q_("head",r.head,a,s,i,t),body:Q_("body",r.body,a,s,i,t),foot:Q_("foot",r.foot,a,s,i,t)}}function Q_(e,t,r,a,n,i){var s={},o=t.map(function(c,d){for(var f=0,m={},x=0,p=0,y=0,v=r;y<v.length;y++){var b=v[y];if(s[b.index]==null||s[b.index].left===0)if(p===0){var k=void 0;Array.isArray(c)?k=c[b.index-x-f]:k=c[b.dataKey];var N={};typeof k=="object"&&!Array.isArray(k)&&(N=(k==null?void 0:k.styles)||{});var _=nAe(e,b,d,n,a,i,N),T=new yW(k,_,e);m[b.dataKey]=T,m[b.index]=T,p=T.colSpan-1,s[b.index]={left:T.rowSpan-1,times:p}}else p--,x++;else s[b.index].left--,p=s[b.index].times,f++}return new vW(c,d,e,m)});return o}function K9(e,t){var r={};return e.forEach(function(a){if(a.raw!=null){var n=rAe(t,a.raw);n!=null&&(r[a.dataKey]=n)}}),Object.keys(r).length>0?r:null}function rAe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function aAe(e){return e.map(function(t,r){var a,n;return typeof t=="object"?n=(a=t.dataKey)!==null&&a!==void 0?a:r:n=r,new Gje(n,t,r)})}function nAe(e,t,r,a,n,i,s){var o=Dje(a),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=Ed({},o.table,o[e],n.styles,c),f=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},m=e==="body"?f:{},x=e==="body"&&r%2===0?Ed({},o.alternateRow,n.alternateRowStyles):{},p=Pje(i),y=Ed({},p,d,x,m);return Ed(y,s)}function iAe(e,t,r){var a;r===void 0&&(r={});var n=mW(e,t),i=new Map,s=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var p=t.columns.find(function(y){return y.dataKey===x||y.index===x});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),n-=p.wrappedWidth)});for(var d=!0,f=(a=r==null?void 0:r.start)!==null&&a!==void 0?a:0;f<t.columns.length;){if(i.has(f)){f++;continue}var m=t.columns[f].wrappedWidth;if(d||n>=m)d=!1,s.push(f),o.push(t.columns[f]),n-=m;else break;f++}return{colIndexes:s,columns:o,lastIndex:f-1}}function sAe(e,t){for(var r=[],a=0;a<t.columns.length;a++){var n=iAe(e,t,{start:a});n.columns.length&&(r.push(n),a=n.lastIndex)}return r}function wW(e,t){var r=t.settings,a=r.startY,n=r.margin,i={x:n.left,y:a},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=a+n.bottom+s;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(x,p){return x+p.height},0);o+=d}var f=new Kp(e);(r.pageBreak==="always"||r.startY!=null&&o>f.pageSize().height)&&(_W(f),i.y=n.top),t.callWillDrawPageHooks(f,i);var m=Ed({},i);t.startPageNumber=f.pageNumber(),r.horizontalPageBreak?oAe(f,t,m,i):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return Yd(f,t,x,i,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(x,p){var y=p===t.body.length-1;K2(f,t,x,y,m,i,t.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return Yd(f,t,x,i,t.columns)})),fW(f,t,m,i),t.callEndPageHooks(f,i),t.finalY=i.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function oAe(e,t,r,a){var n=sAe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,f){e.applyStyles(e.userStyles),f>0?o1(e,t,r,a,d.columns,!0):G9(e,t,a,d.columns),lAe(e,t,r,a,d.columns),J_(e,t,a,d.columns)});else for(var s=-1,o=n[0],c=function(){var d=s;if(o){e.applyStyles(e.userStyles);var f=o.columns;s>=0?o1(e,t,r,a,f,!0):G9(e,t,a,f),d=Y9(e,t,s+1,a,f),J_(e,t,a,f)}var m=d-s;n.slice(1).forEach(function(x){e.applyStyles(e.userStyles),o1(e,t,r,a,x.columns,!0),Y9(e,t,s+1,a,x.columns,m),J_(e,t,a,x.columns)}),s=d};s<t.body.length-1;)c()}function G9(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return Yd(e,t,i,r,a)})}function lAe(e,t,r,a,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;K2(e,t,i,o,r,a,n)})}function Y9(e,t,r,a,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(c,d){var f=r+d===t.body.length-1,m=kW(e,t,f,a);c.canEntireRowFit(m,n)&&(Yd(e,t,c,a,n),o=r+d)}),o}function J_(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return Yd(e,t,i,r,a)})}function cAe(e,t,r){var a=r.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/a);return Math.max(0,i)}function uAe(e,t,r,a){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var c=o[s],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new yW(d.raw,d.styles,d.section);f=Ed(f,d),f.text=[];var m=cAe(d,t,a);d.text.length>m&&(f.text=d.text.splice(m,d.text.length));var x=a.scaleFactor(),p=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,p),d.contentHeight>=t&&(d.contentHeight=t,f.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),f.contentHeight=f.getContentHeight(x,p),f.contentHeight>i&&(i=f.contentHeight),n[c.index]=f}}var y=new vW(e.raw,-1,e.section,n,!0);y.height=i;for(var v=0,b=r.columns;v<b.length;v++){var c=b[v],f=y.cells[c.index];f&&(f.height=y.height);var d=e.cells[c.index];d&&(d.height=e.height)}return y}function dAe(e,t,r,a){var n=e.pageSize().height,i=a.settings.margin,s=i.top+i.bottom,o=n-s;t.section==="body"&&(o-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var c=t.getMinimumRowHeight(a.columns,e),d=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=t.hasRowSpan(a.columns),m=t.getMaxCellHeight(a.columns)>o;return m?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||a.settings.rowPageBreak==="avoid")}function K2(e,t,r,a,n,i,s){var o=kW(e,t,a,i);if(r.canEntireRowFit(o,s))Yd(e,t,r,i,s);else if(dAe(e,r,o,t)){var c=uAe(r,o,t,e);Yd(e,t,r,i,s),o1(e,t,n,i,s),K2(e,t,c,a,n,i,s)}else o1(e,t,n,i,s),K2(e,t,r,a,n,i,s)}function Yd(e,t,r,a,n){a.x=t.settings.margin.left;for(var i=0,s=n;i<s.length;i++){var o=s[i],c=r.cells[o.index];if(!c){a.x+=o.width;continue}e.applyStyles(c.styles),c.x=a.x,c.y=a.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,a);if(d===!1){a.x+=o.width;continue}fAe(e,c,a);var f=c.getTextPos();cW(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,a),a.x+=o.width}a.y+=r.height}function fAe(e,t,r){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=hW(a.lineWidth,a.fillColor);n&&e.rect(t.x,r.y,t.width,t.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),hAe(e,t,r,a.lineWidth))}function hAe(e,t,r,a){var n,i,s,o;a.top&&(n=r.x,i=r.y,s=r.x+t.width,o=r.y,a.right&&(s+=.5*a.right),a.left&&(n-=.5*a.left),c(a.top,n,i,s,o)),a.bottom&&(n=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,a.right&&(s+=.5*a.right),a.left&&(n-=.5*a.left),c(a.bottom,n,i,s,o)),a.left&&(n=r.x,i=r.y,s=r.x,o=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),c(a.left,n,i,s,o)),a.right&&(n=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),c(a.right,n,i,s,o));function c(d,f,m,x,p){e.getDocument().setLineWidth(d),e.getDocument().line(f,m,x,p,"S")}}function kW(e,t,r,a){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-n}function o1(e,t,r,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Yd(e,t,o,a,n)}),t.callEndPageHooks(e,a);var s=t.settings.margin;fW(e,t,r,a),_W(e),t.pageNumber++,a.x=s.left,a.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Yd(e,t,o,a,n)}),e.applyStyles(e.userStyles))}function _W(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function mAe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=t[0],n=xW(this,a),i=bW(this,n);return wW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,a,n){cW(t,r,a,n,this)},e.API.autoTableSetDefaults=function(t){return Kp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Kp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Kp(this),i=gW(n,t,window,r,!1),s=i.head,o=i.body,c=((a=s[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var Z_;function cm(e,t){var r=xW(e,t),a=bW(e,r);wW(e,a)}try{if(typeof window<"u"&&window){var X9=window,Q9=X9.jsPDF||((Z_=X9.jspdf)===null||Z_===void 0?void 0:Z_.jsPDF);Q9&&mAe(Q9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const a5=(e,t,r)=>(e.setFontSize(20),e.setFont("helvetica","bold"),e.text(t,14,20),r&&(e.setFontSize(10),e.setFont("helvetica","normal"),e.text(r,14,28)),e.setFontSize(9),e.setTextColor(100),e.text(`Generated: ${new Date().toLocaleString("vi-VN")}`,14,r?35:28),e.setTextColor(0),r?42:35),n5=e=>{const t=e.internal.getNumberOfPages();e.setFontSize(8),e.setTextColor(100);for(let r=1;r<=t;r++)e.setPage(r),e.text(`Page ${r} of ${t}`,e.internal.pageSize.width/2,e.internal.pageSize.height-10,{align:"center"})},pAe=(e,t)=>{const r=new Zt,a=a5(r,"INVENTORY REPORT",`Total Products: ${e.length}`),n=e.reduce((d,f)=>{const m=f.stock[t]||0,x=f.retailPrice[t]||0;return d+m*x},0),i=e.reduce((d,f)=>d+(f.stock[t]||0),0),s=e.filter(d=>(d.stock[t]||0)>0&&(d.stock[t]||0)<=10).length,o=e.filter(d=>(d.stock[t]||0)===0).length;cm(r,{startY:a,head:[["Metric","Value"]],body:[["Total Inventory Value",qe(n)],["Total Products",e.length.toString()],["Total Stock Units",i.toString()],["Low Stock Items",s.toString()],["Out of Stock",o.toString()]],theme:"grid",headStyles:{fillColor:[59,130,246]}});const c=e.map(d=>{const f=d.stock[t]||0,m=d.retailPrice[t]||0,x=f*m;return[d.sku||"N/A",d.name,d.category||"Uncategorized",f.toString(),qe(m),qe(x)]});cm(r,{startY:r.lastAutoTable.finalY+10,head:[["SKU","Name","Category","Stock","Price","Value"]],body:c,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8},columnStyles:{1:{cellWidth:50},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}}}),n5(r),r.save(`Inventory_Report_${new Date().toISOString().slice(0,10)}.pdf`)},gAe=(e,t,r={})=>{var p;const a=new Zt;let n=e;(r.start||r.end)&&(n=e.filter(y=>{const v=new Date(y.date);return!(r.start&&v<r.start||r.end&&v>r.end)}));const i=r.start?`Period: ${r.start.toLocaleDateString("vi-VN")} - ${((p=r.end)==null?void 0:p.toLocaleDateString("vi-VN"))||"Now"}`:`Total Orders: ${n.length}`,s=a5(a,"SALES REPORT",i),o=n.reduce((y,v)=>y+v.total,0),c=n.length,d=n.reduce((y,v)=>y+v.items.reduce((b,k)=>b+k.quantity,0),0),f=c>0?o/c:0;cm(a,{startY:s,head:[["Metric","Value"]],body:[["Total Revenue",qe(o)],["Total Orders",c.toString()],["Total Items Sold",d.toString()],["Average Order Value",qe(f)]],theme:"grid",headStyles:{fillColor:[16,185,129]}});const m=new Map;n.forEach(y=>{y.items.forEach(v=>{const b=m.get(v.partId),k=t.find(_=>_.id===v.partId),N=(k==null?void 0:k.name)||"Unknown Product";b?(b.quantity+=v.quantity,b.revenue+=v.sellingPrice*v.quantity):m.set(v.partId,{quantity:v.quantity,revenue:v.sellingPrice*v.quantity,name:N})})});const x=Array.from(m.entries()).map(([y,v])=>({name:v.name,quantity:v.quantity,revenue:v.revenue})).sort((y,v)=>v.revenue-y.revenue).slice(0,20);cm(a,{startY:a.lastAutoTable.finalY+10,head:[["Product","Quantity Sold","Revenue"]],body:x.map(y=>[y.name,y.quantity.toString(),qe(y.revenue)]),theme:"striped",headStyles:{fillColor:[16,185,129]},styles:{fontSize:8},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"}}}),n5(a),a.save(`Sales_Report_${new Date().toISOString().slice(0,10)}.pdf`)},xAe=(e,t,r,a,n,i,s={})=>{var L;const o=new Zt;let c=e,d=t;(s.start||s.end)&&(c=e.filter(D=>{const R=new Date(D.date);return!(s.start&&R<s.start||s.end&&R>s.end)}),d=t.filter(D=>{const R=new Date(D.date);return!(s.start&&R<s.start||s.end&&R>s.end)}));const f=s.start?`Period: ${s.start.toLocaleDateString("vi-VN")} - ${((L=s.end)==null?void 0:L.toLocaleDateString("vi-VN"))||"Now"}`:"All Time",m=a5(o,"FINANCIAL REPORT",f),x=c.reduce((D,R)=>D+R.total,0),p=d.filter(D=>D.type==="Nhp kho").reduce((D,R)=>{var W;const U=r.find(O=>O.id===R.partId),F=((W=U==null?void 0:U.wholesalePrice)==null?void 0:W[a])||0;return D+F*R.quantity},0),y=x-p,v=x>0?y/x*100:0,b=r.reduce((D,R)=>{const U=R.stock[a]||0,F=R.retailPrice[a]||0;return D+U*F},0),k=n.reduce((D,R)=>D+R.amount,0),N=i.reduce((D,R)=>D+R.amount,0);cm(o,{startY:m,head:[["Metric","Amount"]],body:[["Total Income",qe(x)],["Total Expenses",qe(p)],["Net Profit",qe(y)],["Profit Margin",`${v.toFixed(2)}%`],["Inventory Value",qe(b)],["Customer Debts",qe(k)],["Supplier Debts",qe(N)],["Net Position",qe(y+b+k-N)]],theme:"grid",headStyles:{fillColor:[139,92,246]},didParseCell:D=>{D.row.index===2&&(D.cell.styles.fillColor=y>=0?[220,252,231]:[254,226,226],D.cell.styles.textColor=y>=0?[22,101,52]:[127,29,29],D.cell.styles.fontStyle="bold")}});const _=o.lastAutoTable.finalY+10;o.setFontSize(10),o.setFont("helvetica","bold"),o.text("Notes:",14,_),o.setFontSize(9),o.setFont("helvetica","normal"),[" Income includes all sales revenue"," Expenses include inventory purchase costs"," Profit margin = (Net Profit / Income)  100%"," Net Position = Profit + Inventory + Customer Debts - Supplier Debts"].forEach((D,R)=>{o.text(D,14,_+7+R*5)}),n5(o),o.save(`Financial_Report_${new Date().toISOString().slice(0,10)}.pdf`)},vAe=(e,t)=>{const r=new Zt,a=e.filter(s=>{const o=s.stock[t]||0;return o>0&&o<=10}),n=e.filter(s=>(s.stock[t]||0)===0),i=a5(r,"LOW STOCK ALERT",`Low Stock: ${a.length} | Out of Stock: ${n.length}`);if(a.length>0){r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Low Stock Items ( 10 units)",14,i);const s=a.sort((o,c)=>(o.stock[t]||0)-(c.stock[t]||0)).map(o=>{const c=o.stock[t]||0,d=c<=3?"Critical":c<=5?"Warning":"Low";return[o.sku||"N/A",o.name,o.category||"Uncategorized",c.toString(),d]});cm(r,{startY:i+5,head:[["SKU","Name","Category","Stock","Status"]],body:s,theme:"striped",headStyles:{fillColor:[245,158,11]},styles:{fontSize:8},columnStyles:{1:{cellWidth:60},3:{halign:"center"},4:{halign:"center"}},didParseCell:o=>{if(o.column.index===4&&o.row.section==="body"){const c=o.cell.raw;c==="Critical"?(o.cell.styles.fillColor=[254,226,226],o.cell.styles.textColor=[127,29,29]):c==="Warning"&&(o.cell.styles.fillColor=[254,243,199],o.cell.styles.textColor=[146,64,14])}}})}if(n.length>0){const s=a.length>0?r.lastAutoTable.finalY+15:i;r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Out of Stock Items",14,s);const o=n.map(c=>[c.sku||"N/A",c.name,c.category||"Uncategorized"]);cm(r,{startY:s+5,head:[["SKU","Name","Category"]],body:o,theme:"striped",headStyles:{fillColor:[239,68,68]},styles:{fontSize:8},columnStyles:{1:{cellWidth:80}}})}a.length===0&&n.length===0&&(r.setFontSize(12),r.text("All products are in stock!",14,i)),n5(r),r.save(`Low_Stock_Alert_${new Date().toISOString().slice(0,10)}.pdf`)},yAe=()=>{const[e,t]=j.useState("inventory"),{parts:r,sales:a,inventoryTransactions:n,customerDebts:i,supplierDebts:s,currentBranchId:o}=_i(),c=()=>{try{switch(e){case"inventory":pAe(r,o),yt.success(" xut bo co tn kho thnh cng!");break;case"sales":gAe(a,r),yt.success(" xut bo co bn hng thnh cng!");break;case"financial":xAe(a,n,r,o,i,s),yt.success(" xut bo co ti chnh thnh cng!");break}}catch(m){console.error("Export error:",m),yt.error("Li khi xut bo co PDF")}},d=()=>{try{vAe(r,o),yt.success(" xut bo co cnh bo tn kho!")}catch(m){console.error("Export error:",m),yt.error("Li khi xut bo co")}},f=[{id:"inventory",label:"Tn kho",icon:u.jsx(cl,{className:"w-4 h-4"})},{id:"sales",label:"Bn hng",icon:u.jsx(RN,{className:"w-4 h-4"})},{id:"financial",label:"Ti chnh",icon:u.jsx(SJ,{className:"w-4 h-4"})}];return u.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Bo co & Phn tch"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Theo di v phn tch hiu sut kinh doanh"})]}),u.jsxs("div",{className:"flex gap-2",children:[e==="inventory"&&u.jsxs("button",{onClick:d,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[u.jsx(ZR,{className:"w-4 h-4"})," Cnh bo tn kho"]}),u.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[u.jsx(ev,{className:"w-4 h-4"})," Xut PDF"]})]})]}),u.jsx("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:f.map(m=>u.jsxs("button",{onClick:()=>t(m.id),className:`px-6 py-3 font-medium transition-all relative ${e===m.id?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("span",{children:m.icon}),u.jsx("span",{children:m.label})]}),e===m.id&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]},m.id))})]}),u.jsxs("div",{className:"animate-fadeIn",children:[e==="inventory"&&u.jsx(zSe,{}),e==="sales"&&u.jsx(qSe,{}),e==="financial"&&u.jsx($Se,{})]})]})},bAe=e=>qc({queryKey:["auditLogs",e],queryFn:async()=>{const t=await uJ(e);if(!t.ok)throw t.error;return t}}),J9={"auth.login":"ng nhp","auth.logout":"ng xut","sale.create":"To ha n","sale.delete":"Xa ha n","part.update_price":"Cp nht gi ph tng","inventory.receipt":"Nhp kho","settings.update":"Cp nht ci t","debt.customer_pay":"Thu n khch hng","debt.supplier_pay":"Tr n nh cung cp","cash.manual":"Giao dch qu th cng"},wAe=()=>{var k;const{profile:e}=Qd(),[t,r]=j.useState(""),[a,n]=j.useState(50),[i,s]=j.useState(""),[o,c]=j.useState(""),[d,f]=j.useState(1),{data:m,isLoading:x,refetch:p}=bAe({action:t||void 0,page:d,pageSize:a,includeUser:!0,startDate:i?new Date(i).toISOString():void 0,endDate:o?new Date(o+"T23:59:59").toISOString():void 0}),y=(m==null?void 0:m.data)||[],v=((k=m==null?void 0:m.meta)==null?void 0:k.total)||0,b=Math.max(1,Math.ceil(v/a));return!e||e.role!=="owner"?u.jsxs("div",{className:"flex items-center justify-center h-96 text-slate-500 dark:text-slate-400",children:[u.jsx($J,{className:"w-5 h-5 mr-2"})," Ch ch ca hng c xem nht k h thng."]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Nht k h thng"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:t,onChange:N=>r(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[u.jsx("option",{value:"",children:"Tt c hnh ng"}),Object.entries(J9).map(([N,_])=>u.jsx("option",{value:N,children:_},N))]}),u.jsx("input",{type:"date",value:i,onChange:N=>s(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm"}),u.jsx("input",{type:"date",value:o,onChange:N=>c(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm"}),u.jsx("select",{value:a,onChange:N=>n(parseInt(N.target.value)),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[25,50,100].map(N=>u.jsxs("option",{value:N,children:[N," dng"]},N))}),u.jsxs("button",{onClick:()=>p(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 text-sm",children:[u.jsx(qJ,{className:"w-4 h-4"})," Ti li"]}),u.jsx("button",{onClick:()=>kAe(y),className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg flex items-center gap-2 text-sm",children:"JSON"}),u.jsx("button",{onClick:()=>_Ae(y),className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg flex items-center gap-2 text-sm",children:"CSV"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsxs("div",{className:"p-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:x?"ang ti...":`Hin th ${y.length} dng  Trang ${d}/${b}  Tng ${v}`}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>f(N=>Math.max(1,N-1)),disabled:d<=1,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded disabled:opacity-50",children:"Trang trc"}),u.jsx("button",{onClick:()=>f(N=>Math.min(b,N+1)),disabled:d>=b,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded disabled:opacity-50",children:"Trang sau"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300",children:[u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Thi gian"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Hnh ng"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Bng"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"ID bn ghi"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"D liu"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"User"})]})}),u.jsxs("tbody",{children:[x&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-4 py-6 text-center",children:u.jsx(DJ,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})})}),!x&&y.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:"Khng c d liu"})}),!x&&y.map(N=>{var T;const _=J9[N.action]||N.action;return u.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/40",children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:new Date(N.created_at).toLocaleString("vi-VN")}),u.jsx("td",{className:"px-4 py-2 text-slate-700 dark:text-slate-300",children:_}),u.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.table_name||"-"}),u.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.record_id||"-"}),u.jsx("td",{className:"px-4 py-2 max-w-[280px]",children:u.jsx("pre",{className:"text-xs whitespace-pre-wrap break-all bg-slate-50 dark:bg-slate-900/40 p-2 rounded border border-slate-200 dark:border-slate-700 max-h-32 overflow-y-auto",children:N.new_data||N.old_data?JSON.stringify({old:N.old_data?Z9(N.old_data):void 0,new:N.new_data?Z9(N.new_data):void 0},null,2):"-"})}),u.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.user_email||N.user_name?`${N.user_name||""} ${N.user_email?"<"+N.user_email+">":""}`.trim():((T=N.user_id)==null?void 0:T.slice(0,8))||"-"})]},N.id)})]})]})})]})]})};function Z9(e){try{return typeof e=="string"?JSON.parse(e):e}catch{return e}}function kAe(e){try{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`audit-logs-${new Date().toISOString()}.json`,a.click(),URL.revokeObjectURL(r)}catch{}}function _Ae(e){try{const r=[["created_at","action","table_name","record_id","user_id","old_data","new_data"].join(",")];for(const s of e){const o=[s.created_at,s.action,s.table_name??"",s.record_id??"",s.user_id??"",JSON.stringify(s.old_data??""),JSON.stringify(s.new_data??"")].map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",");r.push(o)}const a=new Blob([r.join(`
`)],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`audit-logs-${new Date().toISOString()}.csv`,i.click(),URL.revokeObjectURL(n)}catch{}}const SAe=()=>{const{profile:e,hasRole:t}=Qd(),[r,a]=j.useState(null),[n,i]=j.useState(!0),[s,o]=j.useState(!1),[c,d]=j.useState("general");j.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:y,error:v}=await xr.from("store_settings").select("*").limit(1).single();if(v)throw v;a(y)}catch(y){console.error("Error loading settings:",y),yt.error("Khng th ti ci t")}finally{i(!1)}},m=async()=>{if(r){o(!0);try{const y={...r},{error:v}=await xr.from("store_settings").update(r).eq("id",r.id);if(v)throw v;yt.success(" lu ci t thnh cng!"),bi((e==null?void 0:e.id)||null,{action:"settings.update",tableName:"store_settings",recordId:r.id,oldData:y,newData:r})}catch(y){console.error("Error saving settings:",y),yt.error(y.message||"Khng th lu ci t")}finally{o(!1)}}},x=(y,v)=>{r&&a({...r,[y]:v})};if(!t(["owner","manager"]))return u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsxs("div",{className:"text-center flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[u.jsx(LJ,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("p",{className:"text-lg",children:"Ch ch ca hng v qun l mi c quyn truy cp ci t"})]})});if(n||!r)return u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx(rI,{size:"lg"})});const p=t(["owner"]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(FN,{className:"w-7 h-7 text-blue-600","aria-hidden":"true"}),u.jsx("span",{children:"Ci t h thng"})]}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Qun l thng tin ca hng v cu hnh h thng"})]}),p&&u.jsx("button",{onClick:m,disabled:s,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition-colors inline-flex items-center gap-2","aria-label":"Lu thay i",children:s?u.jsx("span",{children:"ang lu..."}):u.jsxs(u.Fragment,{children:[u.jsx(F3,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("span",{children:"Lu thay i"})]})})]}),!p&&u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-start gap-2",children:[u.jsx(o8,{className:"w-5 h-5 text-yellow-700 dark:text-yellow-300 mt-0.5","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Bn ch c quyn xem. Ch ch ca hng mi c th chnh sa ci t."})]}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsx("div",{className:"flex gap-4",children:[{id:"general",label:"Thng tin chung",icon:u.jsx(WJ,{className:"w-4 h-4","aria-hidden":"true"})},{id:"branding",label:"Thng hiu",icon:u.jsx(YR,{className:"w-4 h-4","aria-hidden":"true"})},{id:"banking",label:"Ngn hng",icon:u.jsx(IN,{className:"w-4 h-4","aria-hidden":"true"})},{id:"invoice",label:"Ha n",icon:u.jsx(ev,{className:"w-4 h-4","aria-hidden":"true"})}].map(y=>u.jsxs("button",{onClick:()=>d(y.id),className:`px-4 py-3 font-medium border-b-2 transition-colors inline-flex items-center gap-2 ${c===y.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[y.icon,u.jsx("span",{children:y.label})]},y.id))})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[c==="general"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng tin ca hng"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ca hng *"}),u.jsx("input",{type:"text",value:r.store_name||"",onChange:y=>x("store_name",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ting Anh"}),u.jsx("input",{type:"text",value:r.store_name_en||"",onChange:y=>x("store_name_en",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Slogan"}),u.jsx("input",{type:"text",value:r.slogan||"",onChange:y=>x("slogan",y.target.value),disabled:!p,placeholder:"Chm sc xe my chuyn nghip",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"a ch"}),u.jsx("input",{type:"text",value:r.address||"",onChange:y=>x("address",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S in thoi"}),u.jsx("input",{type:"tel",value:r.phone||"",onChange:y=>x("phone",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:r.email||"",onChange:y=>x("email",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Website"}),u.jsx("input",{type:"url",value:r.website||"",onChange:y=>x("website",y.target.value),disabled:!p,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M s thu"}),u.jsx("input",{type:"text",value:r.tax_code||"",onChange:y=>x("tax_code",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Gi m ca"}),u.jsx("input",{type:"text",value:r.business_hours||"",onChange:y=>x("business_hours",y.target.value),disabled:!p,placeholder:"8:00 - 18:00 (T2-T7)",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nm thnh lp"}),u.jsx("input",{type:"number",value:r.established_year||"",onChange:y=>x("established_year",Number(y.target.value)),disabled:!p,placeholder:"2020",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]})]}),c==="branding"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng hiu & Giao din"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Logo URL"}),u.jsx("input",{type:"url",value:r.logo_url||"",onChange:y=>x("logo_url",y.target.value),disabled:!p,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload logo ln Imgur hoc Cloudinary v dn link vo"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mu ch o"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"color",value:r.primary_color||"#3B82F6",onChange:y=>x("primary_color",y.target.value),disabled:!p,className:"w-16 h-12 rounded border border-slate-300 dark:border-slate-600 cursor-pointer disabled:opacity-50"}),u.jsx("input",{type:"text",value:r.primary_color||"#3B82F6",onChange:y=>x("primary_color",y.target.value),disabled:!p,className:"flex-1 px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]})]}),r.logo_url&&u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Preview Logo"}),u.jsx("div",{className:"p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg inline-block",children:u.jsx("img",{src:r.logo_url,alt:"Store Logo",className:"max-h-32 object-contain",onError:y=>{y.currentTarget.style.display="none"}})})]})]}),c==="banking"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng tin ngn hng"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ngn hng"}),u.jsx("input",{type:"text",value:r.bank_name||"",onChange:y=>x("bank_name",y.target.value),disabled:!p,placeholder:"Vietcombank",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S ti khon"}),u.jsx("input",{type:"text",value:r.bank_account_number||"",onChange:y=>x("bank_account_number",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ch ti khon"}),u.jsx("input",{type:"text",value:r.bank_account_holder||"",onChange:y=>x("bank_account_holder",y.target.value),disabled:!p,placeholder:"NGUYEN VAN A",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chi nhnh"}),u.jsx("input",{type:"text",value:r.bank_branch||"",onChange:y=>x("bank_branch",y.target.value),disabled:!p,placeholder:"CN Qun 1",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-4 flex items-start gap-2",children:[u.jsx(o8,{className:"w-5 h-5 text-blue-700 dark:text-blue-300 mt-0.5","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Thng tin ny s c in trn ha n  khch hng chuyn khon"})]})]}),c==="invoice"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cu hnh ha n"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M ha n bn"}),u.jsx("input",{type:"text",value:r.invoice_prefix||"HD",onChange:y=>x("invoice_prefix",y.target.value),disabled:!p,placeholder:"HD",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: HD-001, HD-002"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M phiu nhp"}),u.jsx("input",{type:"text",value:r.receipt_prefix||"PN",onChange:y=>x("receipt_prefix",y.target.value),disabled:!p,placeholder:"PN",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: PN-001, PN-002"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M phiu sa cha"}),u.jsx("input",{type:"text",value:r.work_order_prefix||"SC",onChange:y=>x("work_order_prefix",y.target.value),disabled:!p,placeholder:"SC",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: SC-001, SC-002"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi ch cui ha n"}),u.jsx("textarea",{rows:3,value:r.invoice_footer_note||"",onChange:y=>x("invoice_footer_note",y.target.value),disabled:!p,placeholder:"Cm n qu khch  tin tng v s dng dch v!",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"nh dng ngy"}),u.jsxs("select",{value:r.date_format||"DD/MM/YYYY",onChange:y=>x("date_format",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),u.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),u.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"n v tin t"}),u.jsxs("select",{value:r.currency||"VND",onChange:y=>x("currency",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"VND",children:"VND - Vit Nam ng"}),u.jsx("option",{value:"USD",children:"USD - US Dollar"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mi gi"}),u.jsxs("select",{value:r.timezone||"Asia/Ho_Chi_Minh",onChange:y=>x("timezone",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"H Ch Minh (GMT+7)"}),u.jsx("option",{value:"Asia/Bangkok",children:"Bangkok (GMT+7)"}),u.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"})]})]})]})]})]}),p&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:m,disabled:s,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition-colors inline-flex items-center gap-2","aria-label":"Lu tt c thay i",children:s?u.jsx("span",{children:"ang lu..."}):u.jsxs(u.Fragment,{children:[u.jsx(F3,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("span",{children:"Lu tt c thay i"})]})})})]})},NAe=()=>u.jsx(Hge,{}),jAe=()=>u.jsx(cSe,{}),AAe=()=>u.jsx(fSe,{}),TAe=()=>u.jsx(pSe,{currentBranchId:_i().currentBranchId}),EAe=()=>u.jsx(xSe,{}),CAe=()=>u.jsx(bSe,{}),OAe=()=>u.jsx(pH,{}),PAe=()=>u.jsx(gH,{}),DAe=()=>u.jsx(TSe,{}),LAe=()=>u.jsx(xH,{}),MAe=()=>u.jsx(FSe,{}),RAe=()=>u.jsx(BSe,{}),IAe=()=>u.jsx(hH,{}),FAe=()=>u.jsx(mH,{}),BAe=()=>u.jsx(yAe,{}),UAe=()=>u.jsx(SAe,{});function zAe(){var c;const[e,t]=j.useState(!1),{theme:r,toggleTheme:a}=mJ(),{profile:n,signOut:i}=Qd(),s=n==null?void 0:n.role,o={viewFinance:s==="owner"||s==="manager",viewAnalytics:s==="owner"||s==="manager",viewDebt:s==="owner"||s==="manager",viewEmployees:s==="owner"||s==="manager",viewSettings:s==="owner"||s==="manager"};return u.jsx("nav",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:u.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>t(!e),className:"group flex items-center gap-3 focus:outline-none","aria-label":"M ci t v ti khon",children:[u.jsx("img",{src:"/logo-smartcare.png",alt:"SmartCare Logo",className:"w-14 h-14 rounded-xl shadow-sm ring-1 ring-slate-200 dark:ring-slate-700 group-hover:shadow-md group-hover:ring-emerald-400/60 dark:group-hover:ring-emerald-500/60 transition"}),u.jsx("span",{className:"font-bold text-xl tracking-tight bg-gradient-to-r from-emerald-600 to-blue-600 text-transparent bg-clip-text dark:from-emerald-400 dark:to-blue-400 hidden md:inline",children:"Nhn Lm SmartCare"})]}),e&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),u.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-2 z-50",children:[u.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Ci t & ti khon"}),u.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition","aria-label":"ng",children:u.jsx(tI,{className:"w-4 h-4"})})]}),n&&u.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center gap-3",children:[u.jsx("div",{className:"w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:((c=n.full_name)==null?void 0:c[0])||n.email[0].toUpperCase()}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:n.full_name||n.email}),u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate flex items-center gap-1",children:[n.role==="owner"&&u.jsx(GR,{className:"w-3.5 h-3.5 text-yellow-500"}),n.role==="manager"&&u.jsx(eI,{className:"w-3.5 h-3.5 text-indigo-500"}),n.role==="staff"&&u.jsx(BN,{className:"w-3.5 h-3.5 text-slate-500"}),u.jsx("span",{children:n.role==="owner"?"Ch ca hng":n.role==="manager"?"Qun l":"Nhn vin"})]})]})]}),u.jsxs("button",{onClick:()=>{a(),t(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-between text-sm text-slate-700 dark:text-slate-200",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[r==="dark"?u.jsx(FJ,{className:"w-4 h-4"}):u.jsx(VJ,{className:"w-4 h-4"}),u.jsxs("span",{children:["Ch  ",r==="dark"?"ti":"sng"]})]}),u.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:r==="dark"?"Chuyn sang sng":"Chuyn sang ti"})]}),o.viewSettings&&u.jsx(X1,{to:"/settings",onClick:()=>t(!1),className:"block w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 text-sm text-slate-700 dark:text-slate-200",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(FN,{className:"w-4 h-4"}),u.jsx("span",{children:"Ci t h thng"})]})}),n&&u.jsx("button",{onClick:async()=>{try{await i()}finally{t(!1)}},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(MJ,{className:"w-4 h-4"}),u.jsx("span",{children:"ng xut"})]})})]})]})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gu,{to:"/dashboard",colorKey:"blue",icon:u.jsx(OJ,{className:"w-5 h-5"}),label:"Tng quan"}),u.jsx(gu,{to:"/service",colorKey:"violet",icon:u.jsx(UN,{className:"w-5 h-5"}),label:"Sa cha"}),u.jsx(gu,{to:"/sales",colorKey:"emerald",icon:u.jsx(QR,{className:"w-5 h-5"}),label:"Bn hng"}),u.jsx(gu,{to:"/inventory",colorKey:"amber",icon:u.jsx(cl,{className:"w-5 h-5"}),label:"Qun l kho"}),u.jsx(gu,{to:"/customers",colorKey:"cyan",icon:u.jsx(m1,{className:"w-5 h-5"}),label:"Khch hng"}),o.viewEmployees&&u.jsx(gu,{to:"/employees",colorKey:"indigo",icon:u.jsx(Fb,{className:"w-5 h-5"}),label:"Nhn vin"}),o.viewFinance&&u.jsx(gu,{to:"/finance",colorKey:"rose",icon:u.jsx(IN,{className:"w-5 h-5"}),label:"Ti chnh"}),o.viewDebt&&u.jsx(gu,{to:"/debt",colorKey:"orange",icon:u.jsx(RN,{className:"w-5 h-5"}),label:"Cng n"}),o.viewAnalytics&&u.jsx(gu,{to:"/analytics",colorKey:"teal",icon:u.jsx(Bb,{className:"w-5 h-5"}),label:"Phn tch"}),u.jsx(gu,{to:"/reports",colorKey:"fuchsia",icon:u.jsx(ev,{className:"w-5 h-5"}),label:"Bo co"})]}),u.jsx("div",{className:"flex items-center"})]})})})}const e3={blue:{text:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/30",hoverBg:"hover:bg-blue-50 dark:hover:bg-blue-900/20"},violet:{text:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-900/30",hoverBg:"hover:bg-violet-50 dark:hover:bg-violet-900/20"},emerald:{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/30",hoverBg:"hover:bg-emerald-50 dark:hover:bg-emerald-900/20"},amber:{text:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/30",hoverBg:"hover:bg-amber-50 dark:hover:bg-amber-900/20"},cyan:{text:"text-cyan-600 dark:text-cyan-400",bg:"bg-cyan-50 dark:bg-cyan-900/30",hoverBg:"hover:bg-cyan-50 dark:hover:bg-cyan-900/20"},indigo:{text:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/30",hoverBg:"hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},rose:{text:"text-rose-600 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-900/30",hoverBg:"hover:bg-rose-50 dark:hover:bg-rose-900/20"},orange:{text:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-900/30",hoverBg:"hover:bg-orange-50 dark:hover:bg-orange-900/20"},teal:{text:"text-teal-600 dark:text-teal-400",bg:"bg-teal-50 dark:bg-teal-900/30",hoverBg:"hover:bg-teal-50 dark:hover:bg-teal-900/20"},fuchsia:{text:"text-fuchsia-600 dark:text-fuchsia-400",bg:"bg-fuchsia-50 dark:bg-fuchsia-900/30",hoverBg:"hover:bg-fuchsia-50 dark:hover:bg-fuchsia-900/20"}},gu=({to:e,icon:t,label:r,colorKey:a})=>{const i=Xd().pathname===e;return u.jsxs(X1,{to:e,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition ${i?`${e3[a].bg} ${e3[a].text}`:`text-slate-600 dark:text-slate-300 ${e3[a].hoverBg}`}`,children:[u.jsx("span",{className:"flex items-center justify-center",children:t}),u.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:r})]})};function qAe(){const[e,t]=j.useState(!1);return j.useEffect(()=>{t(!0)},[]),{ready:e}}const $Ae=new LG({defaultOptions:{queries:{staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",retry:2}}});function HAe(){const{ready:e}=qAe();return e?u.jsx(MG,{client:$Ae,children:u.jsx(hJ,{children:u.jsx(pJ,{children:u.jsx(fJ,{children:u.jsx(rG,{children:u.jsxs(OY,{children:[u.jsx(PY,{}),u.jsxs(mC,{children:[u.jsx($n,{path:"/login",element:u.jsx(XJ,{})}),u.jsx($n,{path:"/*",element:u.jsx(hu,{children:u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors",children:[u.jsx(zAe,{}),u.jsx("main",{className:"max-w-[1600px] mx-auto p-6",children:u.jsxs(mC,{children:[u.jsx($n,{path:"/",element:u.jsx(kM,{to:"/dashboard",replace:!0})}),u.jsx($n,{path:"/dashboard",element:u.jsx(bge,{})}),u.jsx($n,{path:"/sales",element:u.jsx(NAe,{})}),u.jsx($n,{path:"/audit-logs",element:u.jsx(hu,{requiredRoles:["owner"],children:u.jsx(wAe,{})})}),u.jsx($n,{path:"/inventory",element:u.jsx(jAe,{})}),u.jsx($n,{path:"/categories",element:u.jsx(IAe,{})}),u.jsx($n,{path:"/lookup",element:u.jsx(FAe,{})}),u.jsx($n,{path:"/service",element:u.jsx(AAe,{})}),u.jsx($n,{path:"/service-history",element:u.jsx(TAe,{})}),u.jsx($n,{path:"/customers",element:u.jsx(EAe,{})}),u.jsx($n,{path:"/debt",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(CAe,{})})}),u.jsx($n,{path:"/cashbook",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(OAe,{})})}),u.jsx($n,{path:"/loans",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(PAe,{})})}),u.jsx($n,{path:"/payroll",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(LAe,{})})}),u.jsx($n,{path:"/employees",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(RAe,{})})}),u.jsx($n,{path:"/finance",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(DAe,{})})}),u.jsx($n,{path:"/analytics",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(BAe,{})})}),u.jsx($n,{path:"/reports",element:u.jsx(MAe,{})}),u.jsx($n,{path:"/settings",element:u.jsx(hu,{requiredRoles:["owner","manager"],children:u.jsx(UAe,{})})})]})})]})})})]}),u.jsx(MY,{initialIsOpen:!1}),!1]})})})})})}):null}HV.createRoot(document.getElementById("root")).render(u.jsxs(ya.StrictMode,{children:[u.jsx(HAe,{}),u.jsx(CY,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]}));export{Da as _,VAe as c,Uc as g};
