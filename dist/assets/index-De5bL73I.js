var vV=Object.defineProperty;var zE=e=>{throw TypeError(e)};var yV=(e,t,r)=>t in e?vV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ua=(e,t,r)=>yV(e,typeof t!="symbol"?t+"":t,r),fk=(e,t,r)=>t.has(e)||zE("Cannot "+r);var Ce=(e,t,r)=>(fk(e,t,"read from private field"),r?r.call(e):t.get(e)),lr=(e,t,r)=>t.has(e)?zE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ot=(e,t,r,a)=>(fk(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),zr=(e,t,r)=>(fk(e,t,"access private method"),r);var xy=(e,t,r,a)=>({set _(n){Ot(e,t,n,r)},get _(){return Ce(e,t,a)}});function X9(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var mAe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bV(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}),r}var hk={exports:{}},xx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function wV(){if(qE)return xx;qE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,n,i){var s=null;if(i!==void 0&&(s=""+i),n.key!==void 0&&(s=""+n.key),"key"in n){i={};for(var o in n)o!=="key"&&(i[o]=n[o])}else i=n;return n=i.ref,{$$typeof:e,type:a,key:s,ref:n!==void 0?n:null,props:i}}return xx.Fragment=t,xx.jsx=r,xx.jsxs=r,xx}var $E;function kV(){return $E||($E=1,hk.exports=wV()),hk.exports}var u=kV(),mk={exports:{}},Or={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function _V(){if(HE)return Or;HE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),x=Symbol.iterator;function p(J){return J===null||typeof J!="object"?null:(J=x&&J[x]||J["@@iterator"],typeof J=="function"?J:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function k(J,M,z){this.props=J,this.context=M,this.refs=b,this.updater=z||y}k.prototype.isReactComponent={},k.prototype.setState=function(J,M){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,M,"setState")},k.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function N(){}N.prototype=k.prototype;function _(J,M,z){this.props=J,this.context=M,this.refs=b,this.updater=z||y}var T=_.prototype=new N;T.constructor=_,v(T,k.prototype),T.isPureReactComponent=!0;var P=Array.isArray;function O(){}var L={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function I(J,M,z){var q=z.ref;return{$$typeof:e,type:J,key:M,ref:q!==void 0?q:null,props:z}}function K(J,M){return I(J.type,M,J.props)}function D(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function F(J){var M={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(z){return M[z]})}var H=/\/+/g;function Y(J,M){return typeof J=="object"&&J!==null&&J.key!=null?F(""+J.key):M.toString(36)}function ne(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(O,O):(J.status="pending",J.then(function(M){J.status==="pending"&&(J.status="fulfilled",J.value=M)},function(M){J.status==="pending"&&(J.status="rejected",J.reason=M)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function X(J,M,z,q,G){var re=typeof J;(re==="undefined"||re==="boolean")&&(J=null);var he=!1;if(J===null)he=!0;else switch(re){case"bigint":case"string":case"number":he=!0;break;case"object":switch(J.$$typeof){case e:case t:he=!0;break;case h:return he=J._init,X(he(J._payload),M,z,q,G)}}if(he)return G=G(J),he=q===""?"."+Y(J,0):q,P(G)?(z="",he!=null&&(z=he.replace(H,"$&/")+"/"),X(G,M,z,"",function(Ne){return Ne})):G!=null&&(D(G)&&(G=K(G,z+(G.key==null||J&&J.key===G.key?"":(""+G.key).replace(H,"$&/")+"/")+he)),M.push(G)),1;he=0;var je=q===""?".":q+":";if(P(J))for(var oe=0;oe<J.length;oe++)q=J[oe],re=je+Y(q,oe),he+=X(q,M,z,re,G);else if(oe=p(J),typeof oe=="function")for(J=oe.call(J),oe=0;!(q=J.next()).done;)q=q.value,re=je+Y(q,oe++),he+=X(q,M,z,re,G);else if(re==="object"){if(typeof J.then=="function")return X(ne(J),M,z,q,G);throw M=String(J),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return he}function ae(J,M,z){if(J==null)return J;var q=[],G=0;return X(J,q,"","",function(re){return M.call(z,re,G++)}),q}function ue(J){if(J._status===-1){var M=J._result;M=M(),M.then(function(z){(J._status===0||J._status===-1)&&(J._status=1,J._result=z)},function(z){(J._status===0||J._status===-1)&&(J._status=2,J._result=z)}),J._status===-1&&(J._status=0,J._result=M)}if(J._status===1)return J._result.default;throw J._result}var se=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},be={map:ae,forEach:function(J,M,z){ae(J,function(){M.apply(this,arguments)},z)},count:function(J){var M=0;return ae(J,function(){M++}),M},toArray:function(J){return ae(J,function(M){return M})||[]},only:function(J){if(!D(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Or.Activity=m,Or.Children=be,Or.Component=k,Or.Fragment=r,Or.Profiler=n,Or.PureComponent=_,Or.StrictMode=a,Or.Suspense=c,Or.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Or.__COMPILER_RUNTIME={__proto__:null,c:function(J){return L.H.useMemoCache(J)}},Or.cache=function(J){return function(){return J.apply(null,arguments)}},Or.cacheSignal=function(){return null},Or.cloneElement=function(J,M,z){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var q=v({},J.props),G=J.key;if(M!=null)for(re in M.key!==void 0&&(G=""+M.key),M)!U.call(M,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&M.ref===void 0||(q[re]=M[re]);var re=arguments.length-2;if(re===1)q.children=z;else if(1<re){for(var he=Array(re),je=0;je<re;je++)he[je]=arguments[je+2];q.children=he}return I(J.type,G,q)},Or.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:i,_context:J},J},Or.createElement=function(J,M,z){var q,G={},re=null;if(M!=null)for(q in M.key!==void 0&&(re=""+M.key),M)U.call(M,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(G[q]=M[q]);var he=arguments.length-2;if(he===1)G.children=z;else if(1<he){for(var je=Array(he),oe=0;oe<he;oe++)je[oe]=arguments[oe+2];G.children=je}if(J&&J.defaultProps)for(q in he=J.defaultProps,he)G[q]===void 0&&(G[q]=he[q]);return I(J,re,G)},Or.createRef=function(){return{current:null}},Or.forwardRef=function(J){return{$$typeof:o,render:J}},Or.isValidElement=D,Or.lazy=function(J){return{$$typeof:h,_payload:{_status:-1,_result:J},_init:ue}},Or.memo=function(J,M){return{$$typeof:d,type:J,compare:M===void 0?null:M}},Or.startTransition=function(J){var M=L.T,z={};L.T=z;try{var q=J(),G=L.S;G!==null&&G(z,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(O,se)}catch(re){se(re)}finally{M!==null&&z.types!==null&&(M.types=z.types),L.T=M}},Or.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Or.use=function(J){return L.H.use(J)},Or.useActionState=function(J,M,z){return L.H.useActionState(J,M,z)},Or.useCallback=function(J,M){return L.H.useCallback(J,M)},Or.useContext=function(J){return L.H.useContext(J)},Or.useDebugValue=function(){},Or.useDeferredValue=function(J,M){return L.H.useDeferredValue(J,M)},Or.useEffect=function(J,M){return L.H.useEffect(J,M)},Or.useEffectEvent=function(J){return L.H.useEffectEvent(J)},Or.useId=function(){return L.H.useId()},Or.useImperativeHandle=function(J,M,z){return L.H.useImperativeHandle(J,M,z)},Or.useInsertionEffect=function(J,M){return L.H.useInsertionEffect(J,M)},Or.useLayoutEffect=function(J,M){return L.H.useLayoutEffect(J,M)},Or.useMemo=function(J,M){return L.H.useMemo(J,M)},Or.useOptimistic=function(J,M){return L.H.useOptimistic(J,M)},Or.useReducer=function(J,M,z){return L.H.useReducer(J,M,z)},Or.useRef=function(J){return L.H.useRef(J)},Or.useState=function(J){return L.H.useState(J)},Or.useSyncExternalStore=function(J,M,z){return L.H.useSyncExternalStore(J,M,z)},Or.useTransition=function(){return L.H.useTransition()},Or.version="19.2.0",Or}var WE;function dg(){return WE||(WE=1,mk.exports=_V()),mk.exports}var j=dg();const Da=Fc(j),SV=X9({__proto__:null,default:Da},[j]);var pk={exports:{}},vx={},gk={exports:{}},xk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function NV(){return VE||(VE=1,(function(e){function t(X,ae){var ue=X.length;X.push(ae);e:for(;0<ue;){var se=ue-1>>>1,be=X[se];if(0<n(be,ae))X[se]=ae,X[ue]=be,ue=se;else break e}}function r(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ae=X[0],ue=X.pop();if(ue!==ae){X[0]=ue;e:for(var se=0,be=X.length,J=be>>>1;se<J;){var M=2*(se+1)-1,z=X[M],q=M+1,G=X[q];if(0>n(z,ue))q<be&&0>n(G,z)?(X[se]=G,X[q]=ue,se=q):(X[se]=z,X[M]=ue,se=M);else if(q<be&&0>n(G,ue))X[se]=G,X[q]=ue,se=q;else break e}}return ae}function n(X,ae){var ue=X.sortIndex-ae.sortIndex;return ue!==0?ue:X.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],d=[],h=1,m=null,x=3,p=!1,y=!1,v=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(X){for(var ae=r(d);ae!==null;){if(ae.callback===null)a(d);else if(ae.startTime<=X)a(d),ae.sortIndex=ae.expirationTime,t(c,ae);else break;ae=r(d)}}function P(X){if(v=!1,T(X),!y)if(r(c)!==null)y=!0,O||(O=!0,F());else{var ae=r(d);ae!==null&&ne(P,ae.startTime-X)}}var O=!1,L=-1,U=5,I=-1;function K(){return b?!0:!(e.unstable_now()-I<U)}function D(){if(b=!1,O){var X=e.unstable_now();I=X;var ae=!0;try{e:{y=!1,v&&(v=!1,N(L),L=-1),p=!0;var ue=x;try{t:{for(T(X),m=r(c);m!==null&&!(m.expirationTime>X&&K());){var se=m.callback;if(typeof se=="function"){m.callback=null,x=m.priorityLevel;var be=se(m.expirationTime<=X);if(X=e.unstable_now(),typeof be=="function"){m.callback=be,T(X),ae=!0;break t}m===r(c)&&a(c),T(X)}else a(c);m=r(c)}if(m!==null)ae=!0;else{var J=r(d);J!==null&&ne(P,J.startTime-X),ae=!1}}break e}finally{m=null,x=ue,p=!1}ae=void 0}}finally{ae?F():O=!1}}}var F;if(typeof _=="function")F=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=D,F=function(){Y.postMessage(null)}}else F=function(){k(D,0)};function ne(X,ae){L=k(function(){X(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(X){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ue=x;x=ae;try{return X()}finally{x=ue}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=x;x=X;try{return ae()}finally{x=ue}},e.unstable_scheduleCallback=function(X,ae,ue){var se=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?se+ue:se):ue=se,X){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ue+be,X={id:h++,callback:ae,priorityLevel:X,startTime:ue,expirationTime:be,sortIndex:-1},ue>se?(X.sortIndex=ue,t(d,X),r(c)===null&&X===r(d)&&(v?(N(L),L=-1):v=!0,ne(P,ue-se))):(X.sortIndex=be,t(c,X),y||p||(y=!0,O||(O=!0,F()))),X},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(X){var ae=x;return function(){var ue=x;x=ae;try{return X.apply(this,arguments)}finally{x=ue}}}})(xk)),xk}var KE;function jV(){return KE||(KE=1,gk.exports=NV()),gk.exports}var vk={exports:{}},bs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function AV(){if(GE)return bs;GE=1;var e=dg();function t(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},n=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return bs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bs.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return i(c,d,null,h)},bs.flushSync=function(c){var d=s.T,h=a.p;try{if(s.T=null,a.p=2,c)return c()}finally{s.T=d,a.p=h,a.d.f()}},bs.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(c,d))},bs.prefetchDNS=function(c){typeof c=="string"&&a.d.D(c)},bs.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?a.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:x,fetchPriority:p}):h==="script"&&a.d.X(c,{crossOrigin:m,integrity:x,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},bs.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=o(d.as,d.crossOrigin);a.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(c)},bs.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=o(h,d.crossOrigin);a.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},bs.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=o(d.as,d.crossOrigin);a.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(c)},bs.requestFormReset=function(c){a.d.r(c)},bs.unstable_batchedUpdates=function(c,d){return c(d)},bs.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},bs.useFormStatus=function(){return s.H.useHostTransitionStatus()},bs.version="19.2.0",bs}var YE;function Q9(){if(YE)return vk.exports;YE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vk.exports=AV(),vk.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function TV(){if(XE)return vx;XE=1;var e=jV(),t=dg(),r=Q9();function a(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(i(l)!==l)throw Error(a(188))}function d(l){var f=l.alternate;if(!f){if(f=i(l),f===null)throw Error(a(188));return f!==l?null:l}for(var g=l,w=f;;){var A=g.return;if(A===null)break;var C=A.alternate;if(C===null){if(w=A.return,w!==null){g=w;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===g)return c(A),l;if(C===w)return c(A),f;C=C.sibling}throw Error(a(188))}if(g.return!==w.return)g=A,w=C;else{for(var V=!1,ce=A.child;ce;){if(ce===g){V=!0,g=A,w=C;break}if(ce===w){V=!0,w=A,g=C;break}ce=ce.sibling}if(!V){for(ce=C.child;ce;){if(ce===g){V=!0,g=C,w=A;break}if(ce===w){V=!0,w=C,g=A;break}ce=ce.sibling}if(!V)throw Error(a(189))}}if(g.alternate!==w)throw Error(a(190))}if(g.tag!==3)throw Error(a(188));return g.stateNode.current===g?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var m=Object.assign,x=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=D&&l[D]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function Y(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case k:return"Profiler";case b:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case _:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case T:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case L:return f=l.displayName||null,f!==null?f:Y(l.type)||"Memo";case U:f=l._payload,l=l._init;try{return Y(l(f))}catch{}}return null}var ne=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},se=[],be=-1;function J(l){return{current:l}}function M(l){0>be||(l.current=se[be],se[be]=null,be--)}function z(l,f){be++,se[be]=l.current,l.current=f}var q=J(null),G=J(null),re=J(null),he=J(null);function je(l,f){switch(z(re,f),z(G,l),z(q,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?uE(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=uE(f),l=dE(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}M(q),z(q,l)}function oe(){M(q),M(G),M(re)}function Ne(l){l.memoizedState!==null&&z(he,l);var f=q.current,g=dE(f,l.type);f!==g&&(z(G,l),z(q,g))}function Me(l){G.current===l&&(M(q),M(G)),he.current===l&&(M(he),hx._currentValue=ue)}var Q,Te;function Ae(l){if(Q===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);Q=f&&f[1]||"",Te=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+l+Te}var de=!1;function Qe(l,f){if(!l||de)return"";de=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(et){var Je=et}Reflect.construct(l,[],ut)}else{try{ut.call()}catch(et){Je=et}l.call(ut.prototype)}}else{try{throw Error()}catch(et){Je=et}(ut=l())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(et){if(et&&Je&&typeof et.stack=="string")return[et.stack,Je.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=w.DetermineComponentFrameRoot(),V=C[0],ce=C[1];if(V&&ce){var Ee=V.split(`
`),Ge=ce.split(`
`);for(A=w=0;w<Ee.length&&!Ee[w].includes("DetermineComponentFrameRoot");)w++;for(;A<Ge.length&&!Ge[A].includes("DetermineComponentFrameRoot");)A++;if(w===Ee.length||A===Ge.length)for(w=Ee.length-1,A=Ge.length-1;1<=w&&0<=A&&Ee[w]!==Ge[A];)A--;for(;1<=w&&0<=A;w--,A--)if(Ee[w]!==Ge[A]){if(w!==1||A!==1)do if(w--,A--,0>A||Ee[w]!==Ge[A]){var it=`
`+Ee[w].replace(" at new "," at ");return l.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",l.displayName)),it}while(1<=w&&0<=A);break}}}finally{de=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?Ae(g):""}function we(l,f){switch(l.tag){case 26:case 27:case 5:return Ae(l.type);case 16:return Ae("Lazy");case 13:return l.child!==f&&f!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Qe(l.type,!1);case 11:return Qe(l.type.render,!1);case 1:return Qe(l.type,!0);case 31:return Ae("Activity");default:return""}}function Ze(l){try{var f="",g=null;do f+=we(l,g),g=l,l=l.return;while(l);return f}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}var Xe=Object.prototype.hasOwnProperty,gt=e.unstable_scheduleCallback,ot=e.unstable_cancelCallback,Ct=e.unstable_shouldYield,Pt=e.unstable_requestPaint,Dt=e.unstable_now,er=e.unstable_getCurrentPriorityLevel,ar=e.unstable_ImmediatePriority,$r=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,Lt=e.unstable_LowPriority,vt=e.unstable_IdlePriority,Tt=e.log,Dr=e.unstable_setDisableYieldValue,Ft=null,At=null;function ir(l){if(typeof Tt=="function"&&Dr(l),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ft,l)}catch{}}var Tr=Math.clz32?Math.clz32:kt,qe=Math.log,bt=Math.LN2;function kt(l){return l>>>=0,l===0?32:31-(qe(l)/bt|0)|0}var gr=256,Rr=262144,Er=4194304;function Mt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function sr(l,f,g){var w=l.pendingLanes;if(w===0)return 0;var A=0,C=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var ce=w&134217727;return ce!==0?(w=ce&~C,w!==0?A=Mt(w):(V&=ce,V!==0?A=Mt(V):g||(g=ce&~l,g!==0&&(A=Mt(g))))):(ce=w&~C,ce!==0?A=Mt(ce):V!==0?A=Mt(V):g||(g=w&~l,g!==0&&(A=Mt(g)))),A===0?0:f!==0&&f!==A&&(f&C)===0&&(C=A&-A,g=f&-f,C>=g||C===32&&(g&4194048)!==0)?f:A}function Hr(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function en(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(){var l=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),l}function oi(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function nr(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Mo(l,f,g,w,A,C){var V=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ce=l.entanglements,Ee=l.expirationTimes,Ge=l.hiddenUpdates;for(g=V&~g;0<g;){var it=31-Tr(g),ut=1<<it;ce[it]=0,Ee[it]=-1;var Je=Ge[it];if(Je!==null)for(Ge[it]=null,it=0;it<Je.length;it++){var et=Je[it];et!==null&&(et.lane&=-536870913)}g&=~ut}w!==0&&oo(l,w,0),C!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=C&~(V&~f))}function oo(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var w=31-Tr(f);l.entangledLanes|=f,l.entanglements[w]=l.entanglements[w]|1073741824|g&261930}function bi(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var w=31-Tr(g),A=1<<w;A&f|l[w]&f&&(l[w]|=f),g&=~A}}function rs(l,f){var g=f&-f;return g=(g&42)!==0?1:Ma(g),(g&(l.suspendedLanes|f))!==0?0:g}function Ma(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function hn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function te(){var l=ae.p;return l!==0?l:(l=window.event,l===void 0?32:LE(l.type))}function ke(l,f){var g=ae.p;try{return ae.p=l,f()}finally{ae.p=g}}var me=Math.random().toString(36).slice(2),pe="__reactFiber$"+me,xe="__reactProps$"+me,Se="__reactContainer$"+me,Ue="__reactEvents$"+me,tt="__reactListeners$"+me,$e="__reactHandles$"+me,He="__reactResources$"+me,Ve="__reactMarker$"+me;function mt(l){delete l[pe],delete l[xe],delete l[Ue],delete l[tt],delete l[$e]}function yt(l){var f=l[pe];if(f)return f;for(var g=l.parentNode;g;){if(f=g[Se]||g[pe]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=vE(l);l!==null;){if(g=l[pe])return g;l=vE(l)}return f}l=g,g=l.parentNode}return null}function Et(l){if(l=l[pe]||l[Se]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function xt(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(a(33))}function _t(l){var f=l[He];return f||(f=l[He]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Bt(l){l[Ve]=!0}var va=new Set,Wr={};function ka(l,f){as(l,f),as(l+"Capture",f)}function as(l,f){for(Wr[l]=f,l=0;l<f.length;l++)va.add(f[l])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Bs={};function $c(l){return Xe.call(Bs,l)?!0:Xe.call(Io,l)?!1:Ro.test(l)?Bs[l]=!0:(Io[l]=!0,!1)}function Yn(l,f,g){if($c(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var w=f.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function id(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function _a(l,f,g,w){if(w===null)l.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+w)}}function ns(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function jf(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Zl(l,f,g){var w=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var A=w.get,C=w.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return A.call(this)},set:function(V){g=""+V,C.call(this,V)}}),Object.defineProperty(l,f,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function ec(l){if(!l._valueTracker){var f=jf(l)?"checked":"value";l._valueTracker=Zl(l,f,""+l[f])}}function lo(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),w="";return l&&(w=jf(l)?l.checked?"true":"false":l.value),l=w,l!==g?(f.setValue(l),!0):!1}function hl(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Nn=/[\n"\\]/g;function zi(l){return l.replace(Nn,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Af(l,f,g,w,A,C,V,ce){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),f!=null?V==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+ns(f)):l.value!==""+ns(f)&&(l.value=""+ns(f)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),f!=null?Tf(l,V,ns(f)):g!=null?Tf(l,V,ns(g)):w!=null&&l.removeAttribute("value"),A==null&&C!=null&&(l.defaultChecked=!!C),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?l.name=""+ns(ce):l.removeAttribute("name")}function vm(l,f,g,w,A,C,V,ce){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),f!=null||g!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){ec(l);return}g=g!=null?""+ns(g):"",f=f!=null?""+ns(f):g,ce||f===l.value||(l.value=f),l.defaultValue=f}w=w??A,w=typeof w!="function"&&typeof w!="symbol"&&!!w,l.checked=ce?l.checked:!!w,l.defaultChecked=!!w,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),ec(l)}function Tf(l,f,g){f==="number"&&hl(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function is(l,f,g,w){if(l=l.options,f){f={};for(var A=0;A<g.length;A++)f["$"+g[A]]=!0;for(g=0;g<l.length;g++)A=f.hasOwnProperty("$"+l[g].value),l[g].selected!==A&&(l[g].selected=A),A&&w&&(l[g].defaultSelected=!0)}else{for(g=""+ns(g),f=null,A=0;A<l.length;A++){if(l[A].value===g){l[A].selected=!0,w&&(l[A].defaultSelected=!0);return}f!==null||l[A].disabled||(f=l[A])}f!==null&&(f.selected=!0)}}function Ef(l,f,g){if(f!=null&&(f=""+ns(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+ns(g):""}function Cf(l,f,g,w){if(f==null){if(w!=null){if(g!=null)throw Error(a(92));if(ne(w)){if(1<w.length)throw Error(a(93));w=w[0]}g=w}g==null&&(g=""),f=g}g=ns(f),l.defaultValue=g,w=l.textContent,w===g&&w!==""&&w!==null&&(l.value=w),ec(l)}function Us(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var Of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ym(l,f,g){var w=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":w?l.setProperty(f,g):typeof g!="number"||g===0||Of.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function bm(l,f,g){if(f!=null&&typeof f!="object")throw Error(a(62));if(l=l.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf("--")===0?l.setProperty(w,""):w==="float"?l.cssFloat="":l[w]="");for(var A in f)w=f[A],f.hasOwnProperty(A)&&g[A]!==w&&ym(l,A,w)}else for(var C in f)f.hasOwnProperty(C)&&ym(l,C,f[C])}function Pf(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(l){return Fu.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Bo(){}var tc=null;function Bu(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var mr=null,Hc=null;function wm(l){var f=Et(l);if(f&&(l=f.stateNode)){var g=l[xe]||null;e:switch(l=f.stateNode,f.type){case"input":if(Af(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+zi(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var w=g[f];if(w!==l&&w.form===l.form){var A=w[xe]||null;if(!A)throw Error(a(90));Af(w,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(f=0;f<g.length;f++)w=g[f],w.form===l.form&&lo(w)}break e;case"textarea":Ef(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&is(l,!!g.multiple,f,!1)}}}var Lf=!1;function km(l,f,g){if(Lf)return l(f,g);Lf=!0;try{var w=l(f);return w}finally{if(Lf=!1,(mr!==null||Hc!==null)&&(Yv(),mr&&(f=mr,l=Hc,Hc=mr=null,wm(f),l)))for(f=0;f<l.length;f++)wm(l[f])}}function zs(l,f){var g=l.stateNode;if(g===null)return null;var w=g[xe]||null;if(w===null)return null;g=w[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(a(231,f,typeof g));return g}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=!1;if(wi)try{var Uu={};Object.defineProperty(Uu,"passive",{get:function(){Mf=!0}}),window.addEventListener("test",Uu,Uu),window.removeEventListener("test",Uu,Uu)}catch{Mf=!1}var qs=null,zu=null,ml=null;function qu(){if(ml)return ml;var l,f=zu,g=f.length,w,A="value"in qs?qs.value:qs.textContent,C=A.length;for(l=0;l<g&&f[l]===A[l];l++);var V=g-l;for(w=1;w<=V&&f[g-w]===A[C-w];w++);return ml=A.slice(l,1<w?1-w:void 0)}function rc(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function sd(){return!0}function od(){return!1}function li(l){function f(g,w,A,C,V){this._reactName=g,this._targetInst=A,this.type=w,this.nativeEvent=C,this.target=V,this.currentTarget=null;for(var ce in l)l.hasOwnProperty(ce)&&(g=l[ce],this[ce]=g?g(C):C[ce]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?sd:od,this.isPropagationStopped=od,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),f}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=li($s),ac=m({},$s,{view:0,detail:0}),ld=li(ac),$u,nc,Wc,Hu=m({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Wc&&(Wc&&l.type==="mousemove"?($u=l.screenX-Wc.screenX,nc=l.screenY-Wc.screenY):nc=$u=0,Wc=l),$u)},movementY:function(l){return"movementY"in l?l.movementY:nc}}),gl=li(Hu),ic=m({},Hu,{dataTransfer:0}),_m=li(ic),Sm=m({},ac,{relatedTarget:0}),sc=li(Sm),Nm=m({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),R=li(Nm),Z=m({},$s,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),_e=li(Z),Oe=m({},$s,{data:0}),Re=li(Oe),st={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qt(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=$t[l])?!!f[l]:!1}function vr(){return Qt}var jr=m({},ac,{key:function(l){if(l.key){var f=st[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=rc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ft[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(l){return l.type==="keypress"?rc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?rc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),oa=li(jr),tn=m({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jn=li(tn),Ra=m({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Xn=li(Ra),Mn=m({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),ki=li(Mn),co=m({},Hu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xs=li(co),jm=m({},$s,{newState:0,oldState:0}),cd=li(jm),Wu=[9,13,27,32],xl=wi&&"CompositionEvent"in window,Uo=null;wi&&"documentMode"in document&&(Uo=document.documentMode);var Vu=wi&&"TextEvent"in window&&!Uo,Vc=wi&&(!xl||Uo&&8<Uo&&11>=Uo),_i=" ",Kc=!1;function Gc(l,f){switch(l){case"keyup":return Wu.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ud(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var vl=!1;function mn(l,f){switch(l){case"compositionend":return ud(f);case"keypress":return f.which!==32?null:(Kc=!0,_i);case"textInput":return l=f.data,l===_i&&Kc?null:l;default:return null}}function oc(l,f){if(vl)return l==="compositionend"||!xl&&Gc(l,f)?(l=qu(),ml=zu=qs=null,vl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Vc&&f.locale!=="ko"?null:f.data;default:return null}}var dd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!dd[l.type]:f==="textarea"}function Hs(l,f,g,w){mr?Hc?Hc.push(w):Hc=[w]:mr=w,f=ry(f,"onChange"),0<f.length&&(g=new pl("onChange","change",null,g,w),l.push({event:g,listeners:f}))}var zo=null,lc=null;function If(l){nE(l,0)}function qo(l){var f=xt(l);if(lo(f))return l}function Yc(l,f){if(l==="change")return f}var vs=!1;if(wi){var ss;if(wi){var yl="oninput"in document;if(!yl){var bl=document.createElement("div");bl.setAttribute("oninput","return;"),yl=typeof bl.oninput=="function"}ss=yl}else ss=!1;vs=ss&&(!document.documentMode||9<document.documentMode)}function cc(){zo&&(zo.detachEvent("onpropertychange",fd),lc=zo=null)}function fd(l){if(l.propertyName==="value"&&qo(lc)){var f=[];Hs(f,lc,l,Bu(l)),km(If,f)}}function hd(l,f,g){l==="focusin"?(cc(),zo=f,lc=g,zo.attachEvent("onpropertychange",fd)):l==="focusout"&&cc()}function An(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return qo(lc)}function Am(l,f){if(l==="click")return qo(f)}function wl(l,f){if(l==="input"||l==="change")return qo(f)}function kl(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Si=typeof Object.is=="function"?Object.is:kl;function uc(l,f){if(Si(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var A=g[w];if(!Xe.call(f,A)||!Si(l[A],f[A]))return!1}return!0}function md(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function pd(l,f){var g=md(l);l=0;for(var w;g;){if(g.nodeType===3){if(w=l+g.textContent.length,l<=f&&w>=f)return{node:g,offset:f-l};l=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=md(g)}}function dc(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?dc(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function fc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=hl(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=hl(l.document)}return f}function _l(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var Ku=wi&&"documentMode"in document&&11>=document.documentMode,Ws=null,hc=null,qi=null,uo=!1;function la(l,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;uo||Ws==null||Ws!==hl(w)||(w=Ws,"selectionStart"in w&&_l(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),qi&&uc(qi,w)||(qi=w,w=ry(hc,"onSelect"),0<w.length&&(f=new pl("onSelect","select",null,f,g),l.push({event:f,listeners:w}),f.target=Ws)))}function ta(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var Ia={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Tn={},Sl={};wi&&(Sl=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function $o(l){if(Tn[l])return Tn[l];if(!Ia[l])return l;var f=Ia[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in Sl)return Tn[l]=f[g];return l}var Gu=$o("animationend"),Ff=$o("animationiteration"),Rg=$o("animationstart"),Nv=$o("transitionrun"),jv=$o("transitionstart"),Av=$o("transitioncancel"),Ig=$o("transitionend"),Fg=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function fo(l,f){Fg.set(l,f),ka(f,[l])}var Bf=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Vs=[],Xu=0,Tm=0;function Uf(){for(var l=Xu,f=Tm=Xu=0;f<l;){var g=Vs[f];Vs[f++]=null;var w=Vs[f];Vs[f++]=null;var A=Vs[f];Vs[f++]=null;var C=Vs[f];if(Vs[f++]=null,w!==null&&A!==null){var V=w.pending;V===null?A.next=A:(A.next=V.next,V.next=A),w.pending=A}C!==0&&qf(g,A,C)}}function zf(l,f,g,w){Vs[Xu++]=l,Vs[Xu++]=f,Vs[Xu++]=g,Vs[Xu++]=w,Tm|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function Em(l,f,g,w){return zf(l,f,g,w),$i(l)}function mc(l,f){return zf(l,null,null,f),$i(l)}function qf(l,f,g){l.lanes|=g;var w=l.alternate;w!==null&&(w.lanes|=g);for(var A=!1,C=l.return;C!==null;)C.childLanes|=g,w=C.alternate,w!==null&&(w.childLanes|=g),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(A=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,A&&f!==null&&(A=31-Tr(g),l=C.hiddenUpdates,w=l[A],w===null?l[A]=[f]:w.push(f),f.lane=g|536870912),C):null}function $i(l){if(50<sx)throw sx=0,R5=null,Error(a(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var Ni={};function Cm(l,f,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(l,f,g,w){return new Cm(l,f,g,w)}function Om(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ho(l,f){var g=l.alternate;return g===null?(g=Hi(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function $f(l,f){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function gd(l,f,g,w,A,C){var V=0;if(w=l,typeof l=="function")Om(l)&&(V=1);else if(typeof l=="string")V=sV(l,g,q.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=Hi(31,g,f,A),l.elementType=I,l.lanes=C,l;case v:return Xc(g.children,A,C,f);case b:V=8,A|=24;break;case k:return l=Hi(12,g,f,A|2),l.elementType=k,l.lanes=C,l;case P:return l=Hi(13,g,f,A),l.elementType=P,l.lanes=C,l;case O:return l=Hi(19,g,f,A),l.elementType=O,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case _:V=10;break e;case N:V=9;break e;case T:V=11;break e;case L:V=14;break e;case U:V=16,w=null;break e}V=29,g=Error(a(130,l===null?"null":typeof l,"")),w=null}return f=Hi(V,g,f,A),f.elementType=l,f.type=w,f.lanes=C,f}function Xc(l,f,g,w){return l=Hi(7,l,w,f),l.lanes=g,l}function Hf(l,f,g){return l=Hi(6,l,null,f),l.lanes=g,l}function Pm(l){var f=Hi(18,null,null,0);return f.stateNode=l,f}function xd(l,f,g){return f=Hi(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var Dm=new WeakMap;function mo(l,f){if(typeof l=="object"&&l!==null){var g=Dm.get(l);return g!==void 0?g:(f={value:l,source:f,stack:Ze(f)},Dm.set(l,f),f)}return{value:l,source:f,stack:Ze(f)}}var vd=[],Qu=0,Lm=null,Wf=0,po=[],go=0,Qc=null,xo=1,vo="";function Ks(l,f){vd[Qu++]=Wf,vd[Qu++]=Lm,Lm=l,Wf=f}function Tv(l,f,g){po[go++]=xo,po[go++]=vo,po[go++]=Qc,Qc=l;var w=xo;l=vo;var A=32-Tr(w)-1;w&=~(1<<A),g+=1;var C=32-Tr(f)+A;if(30<C){var V=A-A%5;C=(w&(1<<V)-1).toString(32),w>>=V,A-=V,xo=1<<32-Tr(f)+A|g<<A|w,vo=C+l}else xo=1<<C|g<<A|w,vo=l}function Bg(l){l.return!==null&&(Ks(l,1),Tv(l,1,0))}function Mm(l){for(;l===Lm;)Lm=vd[--Qu],vd[Qu]=null,Wf=vd[--Qu],vd[Qu]=null;for(;l===Qc;)Qc=po[--go],po[go]=null,vo=po[--go],po[go]=null,xo=po[--go],po[go]=null}function Ev(l,f){po[go++]=xo,po[go++]=vo,po[go++]=Qc,xo=f.id,vo=f.overflow,Qc=l}var ji=null,Va=null,Yr=!1,os=null,pn=!1,Ho=Error(a(519));function Jc(l){var f=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yd(mo(f,l)),Ho}function Ug(l){var f=l.stateNode,g=l.type,w=l.memoizedProps;switch(f[pe]=l,f[xe]=w,g){case"dialog":Qr("cancel",f),Qr("close",f);break;case"iframe":case"object":case"embed":Qr("load",f);break;case"video":case"audio":for(g=0;g<lx.length;g++)Qr(lx[g],f);break;case"source":Qr("error",f);break;case"img":case"image":case"link":Qr("error",f),Qr("load",f);break;case"details":Qr("toggle",f);break;case"input":Qr("invalid",f),vm(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case"select":Qr("invalid",f);break;case"textarea":Qr("invalid",f),Cf(f,w.value,w.defaultValue,w.children)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||w.suppressHydrationWarning===!0||lE(f.textContent,g)?(w.popover!=null&&(Qr("beforetoggle",f),Qr("toggle",f)),w.onScroll!=null&&Qr("scroll",f),w.onScrollEnd!=null&&Qr("scrollend",f),w.onClick!=null&&(f.onclick=Bo),f=!0):f=!1,f||Jc(l,!0)}function pc(l){for(ji=l.return;ji;)switch(ji.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:ji=ji.return}}function Ai(l){if(l!==ji)return!1;if(!Yr)return pc(l),Yr=!0,!1;var f=l.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||Q5(l.type,l.memoizedProps)),g=!g),g&&Va&&Jc(l),pc(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));Va=xE(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));Va=xE(l)}else f===27?(f=Va,Dd(l.type)?(l=rk,rk=null,Va=l):Va=f):Va=ji?Tl(l.stateNode.nextSibling):null;return!0}function Ju(){Va=ji=null,Yr=!1}function zg(){var l=os;return l!==null&&(So===null?So=l:So.push.apply(So,l),os=null),l}function yd(l){os===null?os=[l]:os.push(l)}var Rm=J(null),Zc=null,Nl=null;function eu(l,f,g){z(Rm,f._currentValue),f._currentValue=g}function yo(l){l._currentValue=Rm.current,M(Rm)}function bd(l,f,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),l===g)break;l=l.return}}function Zu(l,f,g,w){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var C=A.dependencies;if(C!==null){var V=A.child;C=C.firstContext;e:for(;C!==null;){var ce=C;C=A;for(var Ee=0;Ee<f.length;Ee++)if(ce.context===f[Ee]){C.lanes|=g,ce=C.alternate,ce!==null&&(ce.lanes|=g),bd(C.return,g,l),w||(V=null);break e}C=ce.next}}else if(A.tag===18){if(V=A.return,V===null)throw Error(a(341));V.lanes|=g,C=V.alternate,C!==null&&(C.lanes|=g),bd(V,g,l),V=null}else V=A.child;if(V!==null)V.return=A;else for(V=A;V!==null;){if(V===l){V=null;break}if(A=V.sibling,A!==null){A.return=V.return,V=A;break}V=V.return}A=V}}function tu(l,f,g,w){l=null;for(var A=f,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var V=A.alternate;if(V===null)throw Error(a(387));if(V=V.memoizedProps,V!==null){var ce=A.type;Si(A.pendingProps.value,V.value)||(l!==null?l.push(ce):l=[ce])}}else if(A===he.current){if(V=A.alternate,V===null)throw Error(a(387));V.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(hx):l=[hx])}A=A.return}l!==null&&Zu(f,l,g,w),f.flags|=262144}function Im(l){for(l=l.firstContext;l!==null;){if(!Si(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ru(l){Zc=l,Nl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ti(l){return Cv(Zc,l)}function Fm(l,f){return Zc===null&&ru(l),Cv(l,f)}function Cv(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Nl===null){if(l===null)throw Error(a(308));Nl=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else Nl=Nl.next=f;return g}var t5=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,w){l.push(w)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},r5=e.unstable_scheduleCallback,a5=e.unstable_NormalPriority,En={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new t5,data:new Map,refCount:0}}function Vf(l){l.refCount--,l.refCount===0&&r5(a5,function(){l.controller.abort()})}var Kf=null,Bm=0,S=0,E=null;function B(l,f){if(Kf===null){var g=Kf=[];Bm=0,S=q5(),E={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Bm++,f.then(W,W),f}function W(){if(--Bm===0&&Kf!==null){E!==null&&(E.status="fulfilled");var l=Kf;Kf=null,S=0,E=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function ee(l,f){var g=[],w={status:"pending",value:null,reason:null,then:function(A){g.push(A)}};return l.then(function(){w.status="fulfilled",w.value=f;for(var A=0;A<g.length;A++)(0,g[A])(f)},function(A){for(w.status="rejected",w.reason=A,A=0;A<g.length;A++)(0,g[A])(void 0)}),w}var ie=X.S;X.S=function(l,f){PT=Dt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&B(l,f),ie!==null&&ie(l,f)};var le=J(null);function fe(){var l=le.current;return l!==null?l:Ga.pooledCache}function ge(l,f){f===null?z(le,le.current):z(le,f.pool)}function ye(){var l=fe();return l===null?null:{parent:En._currentValue,pool:l}}var Pe=Error(a(460)),We=Error(a(474)),ve=Error(a(542)),Le={then:function(){}};function Fe(l){return l=l.status,l==="fulfilled"||l==="rejected"}function at(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(Bo,Bo),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,pt(l),l;default:if(typeof f.status=="string")f.then(Bo,Bo);else{if(l=Ga,l!==null&&100<l.shellSuspendCounter)throw Error(a(482));l=f,l.status="pending",l.then(function(w){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=w}},function(w){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,pt(l),l}throw rt=f,Pe}}function ze(l){try{var f=l._init;return f(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(rt=g,Pe):g}}var rt=null;function lt(){if(rt===null)throw Error(a(459));var l=rt;return rt=null,l}function pt(l){if(l===Pe||l===ve)throw Error(a(483))}var dt=null,Wt=0;function Rt(l){var f=Wt;return Wt+=1,dt===null&&(dt=[]),at(dt,l,f)}function Sr(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Ut(l,f){throw f.$$typeof===x?Error(a(525)):(l=Object.prototype.toString.call(f),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function Kr(l){function f(Ie,De){if(l){var Ke=Ie.deletions;Ke===null?(Ie.deletions=[De],Ie.flags|=16):Ke.push(De)}}function g(Ie,De){if(!l)return null;for(;De!==null;)f(Ie,De),De=De.sibling;return null}function w(Ie){for(var De=new Map;Ie!==null;)Ie.key!==null?De.set(Ie.key,Ie):De.set(Ie.index,Ie),Ie=Ie.sibling;return De}function A(Ie,De){return Ie=ho(Ie,De),Ie.index=0,Ie.sibling=null,Ie}function C(Ie,De,Ke){return Ie.index=Ke,l?(Ke=Ie.alternate,Ke!==null?(Ke=Ke.index,Ke<De?(Ie.flags|=67108866,De):Ke):(Ie.flags|=67108866,De)):(Ie.flags|=1048576,De)}function V(Ie){return l&&Ie.alternate===null&&(Ie.flags|=67108866),Ie}function ce(Ie,De,Ke,ct){return De===null||De.tag!==6?(De=Hf(Ke,Ie.mode,ct),De.return=Ie,De):(De=A(De,Ke),De.return=Ie,De)}function Ee(Ie,De,Ke,ct){var fr=Ke.type;return fr===v?it(Ie,De,Ke.props.children,ct,Ke.key):De!==null&&(De.elementType===fr||typeof fr=="object"&&fr!==null&&fr.$$typeof===U&&ze(fr)===De.type)?(De=A(De,Ke.props),Sr(De,Ke),De.return=Ie,De):(De=gd(Ke.type,Ke.key,Ke.props,null,Ie.mode,ct),Sr(De,Ke),De.return=Ie,De)}function Ge(Ie,De,Ke,ct){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ke.containerInfo||De.stateNode.implementation!==Ke.implementation?(De=xd(Ke,Ie.mode,ct),De.return=Ie,De):(De=A(De,Ke.children||[]),De.return=Ie,De)}function it(Ie,De,Ke,ct,fr){return De===null||De.tag!==7?(De=Xc(Ke,Ie.mode,ct,fr),De.return=Ie,De):(De=A(De,Ke),De.return=Ie,De)}function ut(Ie,De,Ke){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Hf(""+De,Ie.mode,Ke),De.return=Ie,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case p:return Ke=gd(De.type,De.key,De.props,null,Ie.mode,Ke),Sr(Ke,De),Ke.return=Ie,Ke;case y:return De=xd(De,Ie.mode,Ke),De.return=Ie,De;case U:return De=ze(De),ut(Ie,De,Ke)}if(ne(De)||F(De))return De=Xc(De,Ie.mode,Ke,null),De.return=Ie,De;if(typeof De.then=="function")return ut(Ie,Rt(De),Ke);if(De.$$typeof===_)return ut(Ie,Fm(Ie,De),Ke);Ut(Ie,De)}return null}function Je(Ie,De,Ke,ct){var fr=De!==null?De.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return fr!==null?null:ce(Ie,De,""+Ke,ct);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case p:return Ke.key===fr?Ee(Ie,De,Ke,ct):null;case y:return Ke.key===fr?Ge(Ie,De,Ke,ct):null;case U:return Ke=ze(Ke),Je(Ie,De,Ke,ct)}if(ne(Ke)||F(Ke))return fr!==null?null:it(Ie,De,Ke,ct,null);if(typeof Ke.then=="function")return Je(Ie,De,Rt(Ke),ct);if(Ke.$$typeof===_)return Je(Ie,De,Fm(Ie,Ke),ct);Ut(Ie,Ke)}return null}function et(Ie,De,Ke,ct,fr){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Ie=Ie.get(Ke)||null,ce(De,Ie,""+ct,fr);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case p:return Ie=Ie.get(ct.key===null?Ke:ct.key)||null,Ee(De,Ie,ct,fr);case y:return Ie=Ie.get(ct.key===null?Ke:ct.key)||null,Ge(De,Ie,ct,fr);case U:return ct=ze(ct),et(Ie,De,Ke,ct,fr)}if(ne(ct)||F(ct))return Ie=Ie.get(Ke)||null,it(De,Ie,ct,fr,null);if(typeof ct.then=="function")return et(Ie,De,Ke,Rt(ct),fr);if(ct.$$typeof===_)return et(Ie,De,Ke,Fm(De,ct),fr);Ut(De,ct)}return null}function Ht(Ie,De,Ke,ct){for(var fr=null,ha=null,Jt=De,Ir=De=0,ea=null;Jt!==null&&Ir<Ke.length;Ir++){Jt.index>Ir?(ea=Jt,Jt=null):ea=Jt.sibling;var ma=Je(Ie,Jt,Ke[Ir],ct);if(ma===null){Jt===null&&(Jt=ea);break}l&&Jt&&ma.alternate===null&&f(Ie,Jt),De=C(ma,De,Ir),ha===null?fr=ma:ha.sibling=ma,ha=ma,Jt=ea}if(Ir===Ke.length)return g(Ie,Jt),Yr&&Ks(Ie,Ir),fr;if(Jt===null){for(;Ir<Ke.length;Ir++)Jt=ut(Ie,Ke[Ir],ct),Jt!==null&&(De=C(Jt,De,Ir),ha===null?fr=Jt:ha.sibling=Jt,ha=Jt);return Yr&&Ks(Ie,Ir),fr}for(Jt=w(Jt);Ir<Ke.length;Ir++)ea=et(Jt,Ie,Ir,Ke[Ir],ct),ea!==null&&(l&&ea.alternate!==null&&Jt.delete(ea.key===null?Ir:ea.key),De=C(ea,De,Ir),ha===null?fr=ea:ha.sibling=ea,ha=ea);return l&&Jt.forEach(function(Fd){return f(Ie,Fd)}),Yr&&Ks(Ie,Ir),fr}function xr(Ie,De,Ke,ct){if(Ke==null)throw Error(a(151));for(var fr=null,ha=null,Jt=De,Ir=De=0,ea=null,ma=Ke.next();Jt!==null&&!ma.done;Ir++,ma=Ke.next()){Jt.index>Ir?(ea=Jt,Jt=null):ea=Jt.sibling;var Fd=Je(Ie,Jt,ma.value,ct);if(Fd===null){Jt===null&&(Jt=ea);break}l&&Jt&&Fd.alternate===null&&f(Ie,Jt),De=C(Fd,De,Ir),ha===null?fr=Fd:ha.sibling=Fd,ha=Fd,Jt=ea}if(ma.done)return g(Ie,Jt),Yr&&Ks(Ie,Ir),fr;if(Jt===null){for(;!ma.done;Ir++,ma=Ke.next())ma=ut(Ie,ma.value,ct),ma!==null&&(De=C(ma,De,Ir),ha===null?fr=ma:ha.sibling=ma,ha=ma);return Yr&&Ks(Ie,Ir),fr}for(Jt=w(Jt);!ma.done;Ir++,ma=Ke.next())ma=et(Jt,Ie,Ir,ma.value,ct),ma!==null&&(l&&ma.alternate!==null&&Jt.delete(ma.key===null?Ir:ma.key),De=C(ma,De,Ir),ha===null?fr=ma:ha.sibling=ma,ha=ma);return l&&Jt.forEach(function(xV){return f(Ie,xV)}),Yr&&Ks(Ie,Ir),fr}function za(Ie,De,Ke,ct){if(typeof Ke=="object"&&Ke!==null&&Ke.type===v&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case p:e:{for(var fr=Ke.key;De!==null;){if(De.key===fr){if(fr=Ke.type,fr===v){if(De.tag===7){g(Ie,De.sibling),ct=A(De,Ke.props.children),ct.return=Ie,Ie=ct;break e}}else if(De.elementType===fr||typeof fr=="object"&&fr!==null&&fr.$$typeof===U&&ze(fr)===De.type){g(Ie,De.sibling),ct=A(De,Ke.props),Sr(ct,Ke),ct.return=Ie,Ie=ct;break e}g(Ie,De);break}else f(Ie,De);De=De.sibling}Ke.type===v?(ct=Xc(Ke.props.children,Ie.mode,ct,Ke.key),ct.return=Ie,Ie=ct):(ct=gd(Ke.type,Ke.key,Ke.props,null,Ie.mode,ct),Sr(ct,Ke),ct.return=Ie,Ie=ct)}return V(Ie);case y:e:{for(fr=Ke.key;De!==null;){if(De.key===fr)if(De.tag===4&&De.stateNode.containerInfo===Ke.containerInfo&&De.stateNode.implementation===Ke.implementation){g(Ie,De.sibling),ct=A(De,Ke.children||[]),ct.return=Ie,Ie=ct;break e}else{g(Ie,De);break}else f(Ie,De);De=De.sibling}ct=xd(Ke,Ie.mode,ct),ct.return=Ie,Ie=ct}return V(Ie);case U:return Ke=ze(Ke),za(Ie,De,Ke,ct)}if(ne(Ke))return Ht(Ie,De,Ke,ct);if(F(Ke)){if(fr=F(Ke),typeof fr!="function")throw Error(a(150));return Ke=fr.call(Ke),xr(Ie,De,Ke,ct)}if(typeof Ke.then=="function")return za(Ie,De,Rt(Ke),ct);if(Ke.$$typeof===_)return za(Ie,De,Fm(Ie,Ke),ct);Ut(Ie,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,De!==null&&De.tag===6?(g(Ie,De.sibling),ct=A(De,Ke),ct.return=Ie,Ie=ct):(g(Ie,De),ct=Hf(Ke,Ie.mode,ct),ct.return=Ie,Ie=ct),V(Ie)):g(Ie,De)}return function(Ie,De,Ke,ct){try{Wt=0;var fr=za(Ie,De,Ke,ct);return dt=null,fr}catch(Jt){if(Jt===Pe||Jt===ve)throw Jt;var ha=Hi(29,Jt,null,Ie.mode);return ha.lanes=ct,ha.return=Ie,ha}finally{}}}var Ka=Kr(!0),Cr=Kr(!1),It=!1;function jt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rn(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pr(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Lr(l,f,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(wa&2)!==0){var A=w.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),w.pending=f,f=$i(l),qf(l,null,g),f}return zf(l,w,f,g),$i(l)}function ya(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var w=f.lanes;w&=l.pendingLanes,g|=w,f.lanes=g,bi(l,g)}}function Qn(l,f){var g=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var A=null,C=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};C===null?A=C=V:C=C.next=V,g=g.next}while(g!==null);C===null?A=C=f:C=C.next=f}else A=C=f;g={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:w.shared,callbacks:w.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var Ei=!1;function Fa(){if(Ei){var l=E;if(l!==null)throw l}}function Rn(l,f,g,w){Ei=!1;var A=l.updateQueue;It=!1;var C=A.firstBaseUpdate,V=A.lastBaseUpdate,ce=A.shared.pending;if(ce!==null){A.shared.pending=null;var Ee=ce,Ge=Ee.next;Ee.next=null,V===null?C=Ge:V.next=Ge,V=Ee;var it=l.alternate;it!==null&&(it=it.updateQueue,ce=it.lastBaseUpdate,ce!==V&&(ce===null?it.firstBaseUpdate=Ge:ce.next=Ge,it.lastBaseUpdate=Ee))}if(C!==null){var ut=A.baseState;V=0,it=Ge=Ee=null,ce=C;do{var Je=ce.lane&-536870913,et=Je!==ce.lane;if(et?(Zr&Je)===Je:(w&Je)===Je){Je!==0&&Je===S&&(Ei=!0),it!==null&&(it=it.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var Ht=l,xr=ce;Je=f;var za=g;switch(xr.tag){case 1:if(Ht=xr.payload,typeof Ht=="function"){ut=Ht.call(za,ut,Je);break e}ut=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=xr.payload,Je=typeof Ht=="function"?Ht.call(za,ut,Je):Ht,Je==null)break e;ut=m({},ut,Je);break e;case 2:It=!0}}Je=ce.callback,Je!==null&&(l.flags|=64,et&&(l.flags|=8192),et=A.callbacks,et===null?A.callbacks=[Je]:et.push(Je))}else et={lane:Je,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},it===null?(Ge=it=et,Ee=ut):it=it.next=et,V|=Je;if(ce=ce.next,ce===null){if(ce=A.shared.pending,ce===null)break;et=ce,ce=et.next,et.next=null,A.lastBaseUpdate=et,A.shared.pending=null}}while(!0);it===null&&(Ee=ut),A.baseState=Ee,A.firstBaseUpdate=Ge,A.lastBaseUpdate=it,C===null&&(A.shared.lanes=0),Td|=V,l.lanes=V,l.memoizedState=ut}}function Wi(l,f){if(typeof l!="function")throw Error(a(191,l));l.call(f)}function In(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Wi(g[l],f)}var Ur=J(null),na=J(0);function an(l,f){l=c0,z(na,l),z(Ur,f),c0=l|f.baseLanes}function ca(){z(na,c0),z(Ur,Ur.current)}function Jn(){c0=na.current,M(Ur),M(na)}var nn=J(null),ia=null;function Cn(l){var f=l.alternate;z(ra,ra.current&1),z(nn,l),ia===null&&(f===null||Ur.current!==null||f.memoizedState!==null)&&(ia=l)}function ba(l){z(ra,ra.current),z(nn,l),ia===null&&(ia=l)}function Fn(l){l.tag===22?(z(ra,ra.current),z(nn,l),ia===null&&(ia=l)):Bn()}function Bn(){z(ra,ra.current),z(nn,nn.current)}function Na(l){M(nn),ia===l&&(ia=null),M(ra)}var ra=J(0);function Vi(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||ek(g)||tk(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var gn=0,or=null,dr=null,sa=null,ys=!1,bo=!1,ls=!1,Un=0,au=0,nu=null,Um=0;function Ba(){throw Error(a(321))}function qg(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!Si(l[g],f[g]))return!1;return!0}function $g(l,f,g,w,A,C){return gn=C,or=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=l===null||l.memoizedState===null?$A:d5,ls=!1,C=g(w,A),ls=!1,bo&&(C=gc(f,g,w,A)),zm(l),C}function zm(l){X.H=Qg;var f=dr!==null&&dr.next!==null;if(gn=0,sa=dr=or=null,ys=!1,au=0,nu=null,f)throw Error(a(300));l===null||ui||(l=l.dependencies,l!==null&&Im(l)&&(ui=!0))}function gc(l,f,g,w){or=l;var A=0;do{if(bo&&(nu=null),au=0,bo=!1,25<=A)throw Error(a(301));if(A+=1,sa=dr=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}X.H=HA,C=f(g,w)}while(bo);return C}function n5(){var l=X.H,f=l.useState()[0];return f=typeof f.then=="function"?iu(f):f,l=l.useState()[0],(dr!==null?dr.memoizedState:null)!==l&&(or.flags|=1024),f}function Hg(){var l=Un!==0;return Un=0,l}function Wg(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function qm(l){if(ys){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}ys=!1}gn=0,sa=dr=or=null,bo=!1,au=Un=0,nu=null}function ci(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?or.memoizedState=sa=l:sa=sa.next=l,sa}function xn(){if(dr===null){var l=or.alternate;l=l!==null?l.memoizedState:null}else l=dr.next;var f=sa===null?or.memoizedState:sa.next;if(f!==null)sa=f,dr=l;else{if(l===null)throw or.alternate===null?Error(a(467)):Error(a(310));dr=l,l={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},sa===null?or.memoizedState=sa=l:sa=sa.next=l}return sa}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(l){var f=au;return au+=1,nu===null&&(nu=[]),l=at(nu,l,f),f=or,(sa===null?f.memoizedState:sa.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?$A:d5),l}function kd(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return iu(l);if(l.$$typeof===_)return Ti(l)}throw Error(a(438,String(l)))}function e0(l){var f=null,g=or.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var w=or.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Gf(),or.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),w=0;w<l;w++)g[w]=K;return f.index++,g}function jl(l,f){return typeof f=="function"?f(l):f}function $m(l){var f=xn();return _d(f,dr,l)}function _d(l,f,g){var w=l.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=g;var A=l.baseQueue,C=w.pending;if(C!==null){if(A!==null){var V=A.next;A.next=C.next,C.next=V}f.baseQueue=A=C,w.pending=null}if(C=l.baseState,A===null)l.memoizedState=C;else{f=A.next;var ce=V=null,Ee=null,Ge=f,it=!1;do{var ut=Ge.lane&-536870913;if(ut!==Ge.lane?(Zr&ut)===ut:(gn&ut)===ut){var Je=Ge.revertLane;if(Je===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ut===S&&(it=!0);else if((gn&Je)===Je){Ge=Ge.next,Je===S&&(it=!0);continue}else ut={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ee===null?(ce=Ee=ut,V=C):Ee=Ee.next=ut,or.lanes|=Je,Td|=Je;ut=Ge.action,ls&&g(C,ut),C=Ge.hasEagerState?Ge.eagerState:g(C,ut)}else Je={lane:ut,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ee===null?(ce=Ee=Je,V=C):Ee=Ee.next=Je,or.lanes|=ut,Td|=ut;Ge=Ge.next}while(Ge!==null&&Ge!==f);if(Ee===null?V=C:Ee.next=ce,!Si(C,l.memoizedState)&&(ui=!0,it&&(g=E,g!==null)))throw g;l.memoizedState=C,l.baseState=V,l.baseQueue=Ee,w.lastRenderedState=C}return A===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function Hm(l){var f=xn(),g=f.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=l;var w=g.dispatch,A=g.pending,C=f.memoizedState;if(A!==null){g.pending=null;var V=A=A.next;do C=l(C,V.action),V=V.next;while(V!==A);Si(C,f.memoizedState)||(ui=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),g.lastRenderedState=C}return[C,w]}function Wm(l,f,g){var w=or,A=xn(),C=Yr;if(C){if(g===void 0)throw Error(a(407));g=g()}else g=f();var V=!Si((dr||A).memoizedState,g);if(V&&(A.memoizedState=g,ui=!0),A=A.queue,i5(Kg.bind(null,w,A,l),[l]),A.getSnapshot!==f||V||sa!==null&&sa.memoizedState.tag&1){if(w.flags|=2048,r0(9,{destroy:void 0},Vg.bind(null,w,A,g,f),null),Ga===null)throw Error(a(349));C||(gn&127)!==0||xc(w,f,g)}return g}function xc(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=or.updateQueue,f===null?(f=Gf(),or.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function Vg(l,f,g,w){f.value=g,f.getSnapshot=w,Ov(f)&&Gg(l)}function Kg(l,f,g){return g(function(){Ov(f)&&Gg(l)})}function Ov(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!Si(l,g)}catch{return!0}}function Gg(l){var f=mc(l,2);f!==null&&No(f,l,2)}function su(l){var f=ci();if(typeof l=="function"){var g=l;if(l=g(),ls){ir(!0);try{g()}finally{ir(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:l},f}function Pv(l,f,g,w){return l.baseState=g,_d(l,dr,typeof w=="function"?w:jl)}function Dv(l,f,g,w,A){if(Iv(l))throw Error(a(485));if(l=f.action,l!==null){var C={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){C.listeners.push(V)}};X.T!==null?g(!0):C.isTransition=!1,w(C),g=f.pending,g===null?(C.next=f.pending=C,Lv(f,C)):(C.next=g.next,f.pending=g.next=C)}}function Lv(l,f){var g=f.action,w=f.payload,A=l.state;if(f.isTransition){var C=X.T,V={};X.T=V;try{var ce=g(A,w),Ee=X.S;Ee!==null&&Ee(V,ce),Yg(l,f,ce)}catch(Ge){t0(l,f,Ge)}finally{C!==null&&V.types!==null&&(C.types=V.types),X.T=C}}else try{C=g(A,w),Yg(l,f,C)}catch(Ge){t0(l,f,Ge)}}function Yg(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){Mv(l,f,w)},function(w){return t0(l,f,w)}):Mv(l,f,g)}function Mv(l,f,g){f.status="fulfilled",f.value=g,Vm(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,Lv(l,g)))}function t0(l,f,g){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=g,Vm(f),f=f.next;while(f!==w)}l.action=null}function Vm(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function Yf(l,f){return f}function Al(l,f){if(Yr){var g=Ga.formState;if(g!==null){e:{var w=or;if(Yr){if(Va){t:{for(var A=Va,C=pn;A.nodeType!==8;){if(!C){A=null;break t}if(A=Tl(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){Va=Tl(A.nextSibling),w=A.data==="F!";break e}}Jc(w)}w=!1}w&&(f=g[0])}}return g=ci(),g.memoizedState=g.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:f},g.queue=w,g=UA.bind(null,or,w),w.dispatch=g,w=su(!1),C=u5.bind(null,or,!1,w.queue),w=ci(),A={state:f,dispatch:null,action:l,pending:null},w.queue=A,g=Dv.bind(null,or,A,C,g),A.dispatch=g,w.memoizedState=l,[f,g,!1]}function vc(l){var f=xn();return yc(f,dr,l)}function yc(l,f,g){if(f=_d(l,f,Yf)[0],l=$m(jl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var w=iu(f)}catch(V){throw V===Pe?ve:V}else w=f;f=xn();var A=f.queue,C=A.dispatch;return g!==f.memoizedState&&(or.flags|=2048,r0(9,{destroy:void 0},Km.bind(null,A,g),null)),[w,C,l]}function Km(l,f){l.action=f}function Gm(l){var f=xn(),g=dr;if(g!==null)return yc(f,g,l);xn(),f=f.memoizedState,g=xn();var w=g.queue.dispatch;return g.memoizedState=l,[f,w,!1]}function r0(l,f,g,w){return l={tag:l,create:g,deps:w,inst:f,next:null},f=or.updateQueue,f===null&&(f=Gf(),or.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,f.lastEffect=l),l}function Rv(){return xn().memoizedState}function Sd(l,f,g,w){var A=ci();or.flags|=l,A.memoizedState=r0(1|f,{destroy:void 0},g,w===void 0?null:w)}function Nd(l,f,g,w){var A=xn();w=w===void 0?null:w;var C=A.memoizedState.inst;dr!==null&&w!==null&&qg(w,dr.memoizedState.deps)?A.memoizedState=r0(f,C,g,w):(or.flags|=l,A.memoizedState=r0(1|f,C,g,w))}function jA(l,f){Sd(8390656,8,l,f)}function i5(l,f){Nd(2048,8,l,f)}function dW(l){or.flags|=4;var f=or.updateQueue;if(f===null)f=Gf(),or.updateQueue=f,f.events=[l];else{var g=f.events;g===null?f.events=[l]:g.push(l)}}function AA(l){var f=xn().memoizedState;return dW({ref:f,nextImpl:l}),function(){if((wa&2)!==0)throw Error(a(440));return f.impl.apply(void 0,arguments)}}function TA(l,f){return Nd(4,2,l,f)}function EA(l,f){return Nd(4,4,l,f)}function CA(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function OA(l,f,g){g=g!=null?g.concat([l]):null,Nd(4,4,CA.bind(null,f,l),g)}function s5(){}function PA(l,f){var g=xn();f=f===void 0?null:f;var w=g.memoizedState;return f!==null&&qg(f,w[1])?w[0]:(g.memoizedState=[l,f],l)}function DA(l,f){var g=xn();f=f===void 0?null:f;var w=g.memoizedState;if(f!==null&&qg(f,w[1]))return w[0];if(w=l(),ls){ir(!0);try{l()}finally{ir(!1)}}return g.memoizedState=[w,f],w}function o5(l,f,g){return g===void 0||(gn&1073741824)!==0&&(Zr&261930)===0?l.memoizedState=f:(l.memoizedState=g,l=LT(),or.lanes|=l,Td|=l,g)}function LA(l,f,g,w){return Si(g,f)?g:Ur.current!==null?(l=o5(l,g,w),Si(l,f)||(ui=!0),l):(gn&42)===0||(gn&1073741824)!==0&&(Zr&261930)===0?(ui=!0,l.memoizedState=g):(l=LT(),or.lanes|=l,Td|=l,f)}function MA(l,f,g,w,A){var C=ae.p;ae.p=C!==0&&8>C?C:8;var V=X.T,ce={};X.T=ce,u5(l,!1,f,g);try{var Ee=A(),Ge=X.S;if(Ge!==null&&Ge(ce,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var it=ee(Ee,w);Xg(l,f,it,Ko(l))}else Xg(l,f,w,Ko(l))}catch(ut){Xg(l,f,{then:function(){},status:"rejected",reason:ut},Ko())}finally{ae.p=C,V!==null&&ce.types!==null&&(V.types=ce.types),X.T=V}}function fW(){}function l5(l,f,g,w){if(l.tag!==5)throw Error(a(476));var A=RA(l).queue;MA(l,A,f,ue,g===null?fW:function(){return IA(l),g(w)})}function RA(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:ue},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function IA(l){var f=RA(l);f.next===null&&(f=l.alternate.memoizedState),Xg(l,f.next.queue,{},Ko())}function c5(){return Ti(hx)}function FA(){return xn().memoizedState}function BA(){return xn().memoizedState}function hW(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ko();l=pr(g);var w=Lr(f,l,g);w!==null&&(No(w,f,g),ya(w,f,g)),f={cache:wd()},l.payload=f;return}f=f.return}}function mW(l,f,g){var w=Ko();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Iv(l)?zA(f,g):(g=Em(l,f,g,w),g!==null&&(No(g,l,w),qA(g,f,w)))}function UA(l,f,g){var w=Ko();Xg(l,f,g,w)}function Xg(l,f,g,w){var A={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Iv(l))zA(f,A);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var V=f.lastRenderedState,ce=C(V,g);if(A.hasEagerState=!0,A.eagerState=ce,Si(ce,V))return zf(l,f,A,0),Ga===null&&Uf(),!1}catch{}finally{}if(g=Em(l,f,A,w),g!==null)return No(g,l,w),qA(g,f,w),!0}return!1}function u5(l,f,g,w){if(w={lane:2,revertLane:q5(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},Iv(l)){if(f)throw Error(a(479))}else f=Em(l,g,w,2),f!==null&&No(f,l,2)}function Iv(l){var f=l.alternate;return l===or||f!==null&&f===or}function zA(l,f){bo=ys=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function qA(l,f,g){if((g&4194048)!==0){var w=f.lanes;w&=l.pendingLanes,g|=w,f.lanes=g,bi(l,g)}}var Qg={readContext:Ti,use:kd,useCallback:Ba,useContext:Ba,useEffect:Ba,useImperativeHandle:Ba,useLayoutEffect:Ba,useInsertionEffect:Ba,useMemo:Ba,useReducer:Ba,useRef:Ba,useState:Ba,useDebugValue:Ba,useDeferredValue:Ba,useTransition:Ba,useSyncExternalStore:Ba,useId:Ba,useHostTransitionStatus:Ba,useFormState:Ba,useActionState:Ba,useOptimistic:Ba,useMemoCache:Ba,useCacheRefresh:Ba};Qg.useEffectEvent=Ba;var $A={readContext:Ti,use:kd,useCallback:function(l,f){return ci().memoizedState=[l,f===void 0?null:f],l},useContext:Ti,useEffect:jA,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,Sd(4194308,4,CA.bind(null,f,l),g)},useLayoutEffect:function(l,f){return Sd(4194308,4,l,f)},useInsertionEffect:function(l,f){Sd(4,2,l,f)},useMemo:function(l,f){var g=ci();f=f===void 0?null:f;var w=l();if(ls){ir(!0);try{l()}finally{ir(!1)}}return g.memoizedState=[w,f],w},useReducer:function(l,f,g){var w=ci();if(g!==void 0){var A=g(f);if(ls){ir(!0);try{g(f)}finally{ir(!1)}}}else A=f;return w.memoizedState=w.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},w.queue=l,l=l.dispatch=mW.bind(null,or,l),[w.memoizedState,l]},useRef:function(l){var f=ci();return l={current:l},f.memoizedState=l},useState:function(l){l=su(l);var f=l.queue,g=UA.bind(null,or,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:s5,useDeferredValue:function(l,f){var g=ci();return o5(g,l,f)},useTransition:function(){var l=su(!1);return l=MA.bind(null,or,l.queue,!0,!1),ci().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var w=or,A=ci();if(Yr){if(g===void 0)throw Error(a(407));g=g()}else{if(g=f(),Ga===null)throw Error(a(349));(Zr&127)!==0||xc(w,f,g)}A.memoizedState=g;var C={value:g,getSnapshot:f};return A.queue=C,jA(Kg.bind(null,w,C,l),[l]),w.flags|=2048,r0(9,{destroy:void 0},Vg.bind(null,w,C,g,f),null),g},useId:function(){var l=ci(),f=Ga.identifierPrefix;if(Yr){var g=vo,w=xo;g=(w&~(1<<32-Tr(w)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Un++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=Um++,f="_"+f+"r_"+g.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:c5,useFormState:Al,useActionState:Al,useOptimistic:function(l){var f=ci();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=u5.bind(null,or,!0,g),g.dispatch=f,[l,f]},useMemoCache:e0,useCacheRefresh:function(){return ci().memoizedState=hW.bind(null,or)},useEffectEvent:function(l){var f=ci(),g={impl:l};return f.memoizedState=g,function(){if((wa&2)!==0)throw Error(a(440));return g.impl.apply(void 0,arguments)}}},d5={readContext:Ti,use:kd,useCallback:PA,useContext:Ti,useEffect:i5,useImperativeHandle:OA,useInsertionEffect:TA,useLayoutEffect:EA,useMemo:DA,useReducer:$m,useRef:Rv,useState:function(){return $m(jl)},useDebugValue:s5,useDeferredValue:function(l,f){var g=xn();return LA(g,dr.memoizedState,l,f)},useTransition:function(){var l=$m(jl)[0],f=xn().memoizedState;return[typeof l=="boolean"?l:iu(l),f]},useSyncExternalStore:Wm,useId:FA,useHostTransitionStatus:c5,useFormState:vc,useActionState:vc,useOptimistic:function(l,f){var g=xn();return Pv(g,dr,l,f)},useMemoCache:e0,useCacheRefresh:BA};d5.useEffectEvent=AA;var HA={readContext:Ti,use:kd,useCallback:PA,useContext:Ti,useEffect:i5,useImperativeHandle:OA,useInsertionEffect:TA,useLayoutEffect:EA,useMemo:DA,useReducer:Hm,useRef:Rv,useState:function(){return Hm(jl)},useDebugValue:s5,useDeferredValue:function(l,f){var g=xn();return dr===null?o5(g,l,f):LA(g,dr.memoizedState,l,f)},useTransition:function(){var l=Hm(jl)[0],f=xn().memoizedState;return[typeof l=="boolean"?l:iu(l),f]},useSyncExternalStore:Wm,useId:FA,useHostTransitionStatus:c5,useFormState:Gm,useActionState:Gm,useOptimistic:function(l,f){var g=xn();return dr!==null?Pv(g,dr,l,f):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:e0,useCacheRefresh:BA};HA.useEffectEvent=AA;function f5(l,f,g,w){f=l.memoizedState,g=g(w,f),g=g==null?f:m({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var h5={enqueueSetState:function(l,f,g){l=l._reactInternals;var w=Ko(),A=pr(w);A.payload=f,g!=null&&(A.callback=g),f=Lr(l,A,w),f!==null&&(No(f,l,w),ya(f,l,w))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var w=Ko(),A=pr(w);A.tag=1,A.payload=f,g!=null&&(A.callback=g),f=Lr(l,A,w),f!==null&&(No(f,l,w),ya(f,l,w))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=Ko(),w=pr(g);w.tag=2,f!=null&&(w.callback=f),f=Lr(l,w,g),f!==null&&(No(f,l,g),ya(f,l,g))}};function WA(l,f,g,w,A,C,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,C,V):f.prototype&&f.prototype.isPureReactComponent?!uc(g,w)||!uc(A,C):!0}function VA(l,f,g,w){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==l&&h5.enqueueReplaceState(f,f.state,null)}function Xf(l,f){var g=f;if("ref"in f){g={};for(var w in f)w!=="ref"&&(g[w]=f[w])}if(l=l.defaultProps){g===f&&(g=m({},g));for(var A in l)g[A]===void 0&&(g[A]=l[A])}return g}function KA(l){Bf(l)}function GA(l){console.error(l)}function YA(l){Bf(l)}function Fv(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function XA(l,f,g){try{var w=l.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function m5(l,f,g){return g=pr(g),g.tag=3,g.payload={element:null},g.callback=function(){Fv(l,f)},g}function QA(l){return l=pr(l),l.tag=3,l}function JA(l,f,g,w){var A=g.type.getDerivedStateFromError;if(typeof A=="function"){var C=w.value;l.payload=function(){return A(C)},l.callback=function(){XA(f,g,w)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){XA(f,g,w),typeof A!="function"&&(Ed===null?Ed=new Set([this]):Ed.add(this));var ce=w.stack;this.componentDidCatch(w.value,{componentStack:ce!==null?ce:""})})}function pW(l,f,g,w,A){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=g.alternate,f!==null&&tu(f,g,A,!0),g=nn.current,g!==null){switch(g.tag){case 31:case 13:return ia===null?Xv():g.alternate===null&&zn===0&&(zn=3),g.flags&=-257,g.flags|=65536,g.lanes=A,w===Le?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([w]):f.add(w),B5(l,w,A)),!1;case 22:return g.flags|=65536,w===Le?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([w]):g.add(w)),B5(l,w,A)),!1}throw Error(a(435,g.tag))}return B5(l,w,A),Xv(),!1}if(Yr)return f=nn.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,w!==Ho&&(l=Error(a(422),{cause:w}),yd(mo(l,g)))):(w!==Ho&&(f=Error(a(423),{cause:w}),yd(mo(f,g))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,w=mo(w,g),A=m5(l.stateNode,w,A),Qn(l,A),zn!==4&&(zn=2)),!1;var C=Error(a(520),{cause:w});if(C=mo(C,g),ix===null?ix=[C]:ix.push(C),zn!==4&&(zn=2),f===null)return!0;w=mo(w,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=A&-A,g.lanes|=l,l=m5(g.stateNode,w,l),Qn(g,l),!1;case 1:if(f=g.type,C=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ed===null||!Ed.has(C))))return g.flags|=65536,A&=-A,g.lanes|=A,A=QA(A),JA(A,l,g,w),Qn(g,A),!1}g=g.return}while(g!==null);return!1}var p5=Error(a(461)),ui=!1;function cs(l,f,g,w){f.child=l===null?Cr(f,null,g,w):Ka(f,l.child,g,w)}function ZA(l,f,g,w,A){g=g.render;var C=f.ref;if("ref"in w){var V={};for(var ce in w)ce!=="ref"&&(V[ce]=w[ce])}else V=w;return ru(f),w=$g(l,f,g,V,C,A),ce=Hg(),l!==null&&!ui?(Wg(l,f,A),a0(l,f,A)):(Yr&&ce&&Bg(f),f.flags|=1,cs(l,f,w,A),f.child)}function eT(l,f,g,w,A){if(l===null){var C=g.type;return typeof C=="function"&&!Om(C)&&C.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=C,tT(l,f,C,w,A)):(l=gd(g.type,null,w,f,f.mode,A),l.ref=f.ref,l.return=f,f.child=l)}if(C=l.child,!_5(l,A)){var V=C.memoizedProps;if(g=g.compare,g=g!==null?g:uc,g(V,w)&&l.ref===f.ref)return a0(l,f,A)}return f.flags|=1,l=ho(C,w),l.ref=f.ref,l.return=f,f.child=l}function tT(l,f,g,w,A){if(l!==null){var C=l.memoizedProps;if(uc(C,w)&&l.ref===f.ref)if(ui=!1,f.pendingProps=w=C,_5(l,A))(l.flags&131072)!==0&&(ui=!0);else return f.lanes=l.lanes,a0(l,f,A)}return g5(l,f,g,w,A)}function rT(l,f,g,w){var A=w.children,C=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|g:g,l!==null){for(w=f.child=l.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;w=A&~C}else w=0,f.child=null;return aT(l,f,C,g,w)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&ge(f,C!==null?C.cachePool:null),C!==null?an(f,C):ca(),Fn(f);else return w=f.lanes=536870912,aT(l,f,C!==null?C.baseLanes|g:g,g,w)}else C!==null?(ge(f,C.cachePool),an(f,C),Bn(),f.memoizedState=null):(l!==null&&ge(f,null),ca(),Bn());return cs(l,f,A,g),f.child}function Jg(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function aT(l,f,g,w,A){var C=fe();return C=C===null?null:{parent:En._currentValue,pool:C},f.memoizedState={baseLanes:g,cachePool:C},l!==null&&ge(f,null),ca(),Fn(f),l!==null&&tu(l,f,w,!0),f.childLanes=A,null}function Bv(l,f){return f=zv({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function nT(l,f,g){return Ka(f,l.child,null,g),l=Bv(f,f.pendingProps),l.flags|=2,Na(f),f.memoizedState=null,l}function gW(l,f,g){var w=f.pendingProps,A=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Yr){if(w.mode==="hidden")return l=Bv(f,w),f.lanes=536870912,Jg(null,l);if(ba(f),(l=Va)?(l=gE(l,pn),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Qc!==null?{id:xo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},g=Pm(l),g.return=f,f.child=g,ji=f,Va=null)):l=null,l===null)throw Jc(f);return f.lanes=536870912,null}return Bv(f,w)}var C=l.memoizedState;if(C!==null){var V=C.dehydrated;if(ba(f),A)if(f.flags&256)f.flags&=-257,f=nT(l,f,g);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(a(558));else if(ui||tu(l,f,g,!1),A=(g&l.childLanes)!==0,ui||A){if(w=Ga,w!==null&&(V=rs(w,g),V!==0&&V!==C.retryLane))throw C.retryLane=V,mc(l,V),No(w,l,V),p5;Xv(),f=nT(l,f,g)}else l=C.treeContext,Va=Tl(V.nextSibling),ji=f,Yr=!0,os=null,pn=!1,l!==null&&Ev(f,l),f=Bv(f,w),f.flags|=4096;return f}return l=ho(l.child,{mode:w.mode,children:w.children}),l.ref=f.ref,f.child=l,l.return=f,l}function Uv(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(a(284));(l===null||l.ref!==g)&&(f.flags|=4194816)}}function g5(l,f,g,w,A){return ru(f),g=$g(l,f,g,w,void 0,A),w=Hg(),l!==null&&!ui?(Wg(l,f,A),a0(l,f,A)):(Yr&&w&&Bg(f),f.flags|=1,cs(l,f,g,A),f.child)}function iT(l,f,g,w,A,C){return ru(f),f.updateQueue=null,g=gc(f,w,g,A),zm(l),w=Hg(),l!==null&&!ui?(Wg(l,f,C),a0(l,f,C)):(Yr&&w&&Bg(f),f.flags|=1,cs(l,f,g,C),f.child)}function sT(l,f,g,w,A){if(ru(f),f.stateNode===null){var C=Ni,V=g.contextType;typeof V=="object"&&V!==null&&(C=Ti(V)),C=new g(w,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=h5,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=w,C.state=f.memoizedState,C.refs={},jt(f),V=g.contextType,C.context=typeof V=="object"&&V!==null?Ti(V):Ni,C.state=f.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(f5(f,g,V,w),C.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(V=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),V!==C.state&&h5.enqueueReplaceState(C,C.state,null),Rn(f,w,C,A),Fa(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(l===null){C=f.stateNode;var ce=f.memoizedProps,Ee=Xf(g,ce);C.props=Ee;var Ge=C.context,it=g.contextType;V=Ni,typeof it=="object"&&it!==null&&(V=Ti(it));var ut=g.getDerivedStateFromProps;it=typeof ut=="function"||typeof C.getSnapshotBeforeUpdate=="function",ce=f.pendingProps!==ce,it||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ce||Ge!==V)&&VA(f,C,w,V),It=!1;var Je=f.memoizedState;C.state=Je,Rn(f,w,C,A),Fa(),Ge=f.memoizedState,ce||Je!==Ge||It?(typeof ut=="function"&&(f5(f,g,ut,w),Ge=f.memoizedState),(Ee=It||WA(f,g,Ee,w,Je,Ge,V))?(it||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=Ge),C.props=w,C.state=Ge,C.context=V,w=Ee):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{C=f.stateNode,rn(l,f),V=f.memoizedProps,it=Xf(g,V),C.props=it,ut=f.pendingProps,Je=C.context,Ge=g.contextType,Ee=Ni,typeof Ge=="object"&&Ge!==null&&(Ee=Ti(Ge)),ce=g.getDerivedStateFromProps,(Ge=typeof ce=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==ut||Je!==Ee)&&VA(f,C,w,Ee),It=!1,Je=f.memoizedState,C.state=Je,Rn(f,w,C,A),Fa();var et=f.memoizedState;V!==ut||Je!==et||It||l!==null&&l.dependencies!==null&&Im(l.dependencies)?(typeof ce=="function"&&(f5(f,g,ce,w),et=f.memoizedState),(it=It||WA(f,g,it,w,Je,et,Ee)||l!==null&&l.dependencies!==null&&Im(l.dependencies))?(Ge||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(w,et,Ee),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(w,et,Ee)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=et),C.props=w,C.state=et,C.context=Ee,w=it):(typeof C.componentDidUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Je===l.memoizedState||(f.flags|=1024),w=!1)}return C=w,Uv(l,f),w=(f.flags&128)!==0,C||w?(C=f.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,l!==null&&w?(f.child=Ka(f,l.child,null,A),f.child=Ka(f,null,g,A)):cs(l,f,g,A),f.memoizedState=C.state,l=f.child):l=a0(l,f,A),l}function oT(l,f,g,w){return Ju(),f.flags|=256,cs(l,f,g,w),f.child}var x5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function v5(l){return{baseLanes:l,cachePool:ye()}}function y5(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=Vo),l}function lT(l,f,g){var w=f.pendingProps,A=!1,C=(f.flags&128)!==0,V;if((V=C)||(V=l!==null&&l.memoizedState===null?!1:(ra.current&2)!==0),V&&(A=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,l===null){if(Yr){if(A?Cn(f):Bn(),(l=Va)?(l=gE(l,pn),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Qc!==null?{id:xo,overflow:vo}:null,retryLane:536870912,hydrationErrors:null},g=Pm(l),g.return=f,f.child=g,ji=f,Va=null)):l=null,l===null)throw Jc(f);return tk(l)?f.lanes=32:f.lanes=536870912,null}var ce=w.children;return w=w.fallback,A?(Bn(),A=f.mode,ce=zv({mode:"hidden",children:ce},A),w=Xc(w,A,g,null),ce.return=f,w.return=f,ce.sibling=w,f.child=ce,w=f.child,w.memoizedState=v5(g),w.childLanes=y5(l,V,g),f.memoizedState=x5,Jg(null,w)):(Cn(f),b5(f,ce))}var Ee=l.memoizedState;if(Ee!==null&&(ce=Ee.dehydrated,ce!==null)){if(C)f.flags&256?(Cn(f),f.flags&=-257,f=w5(l,f,g)):f.memoizedState!==null?(Bn(),f.child=l.child,f.flags|=128,f=null):(Bn(),ce=w.fallback,A=f.mode,w=zv({mode:"visible",children:w.children},A),ce=Xc(ce,A,g,null),ce.flags|=2,w.return=f,ce.return=f,w.sibling=ce,f.child=w,Ka(f,l.child,null,g),w=f.child,w.memoizedState=v5(g),w.childLanes=y5(l,V,g),f.memoizedState=x5,f=Jg(null,w));else if(Cn(f),tk(ce)){if(V=ce.nextSibling&&ce.nextSibling.dataset,V)var Ge=V.dgst;V=Ge,w=Error(a(419)),w.stack="",w.digest=V,yd({value:w,source:null,stack:null}),f=w5(l,f,g)}else if(ui||tu(l,f,g,!1),V=(g&l.childLanes)!==0,ui||V){if(V=Ga,V!==null&&(w=rs(V,g),w!==0&&w!==Ee.retryLane))throw Ee.retryLane=w,mc(l,w),No(V,l,w),p5;ek(ce)||Xv(),f=w5(l,f,g)}else ek(ce)?(f.flags|=192,f.child=l.child,f=null):(l=Ee.treeContext,Va=Tl(ce.nextSibling),ji=f,Yr=!0,os=null,pn=!1,l!==null&&Ev(f,l),f=b5(f,w.children),f.flags|=4096);return f}return A?(Bn(),ce=w.fallback,A=f.mode,Ee=l.child,Ge=Ee.sibling,w=ho(Ee,{mode:"hidden",children:w.children}),w.subtreeFlags=Ee.subtreeFlags&65011712,Ge!==null?ce=ho(Ge,ce):(ce=Xc(ce,A,g,null),ce.flags|=2),ce.return=f,w.return=f,w.sibling=ce,f.child=w,Jg(null,w),w=f.child,ce=l.child.memoizedState,ce===null?ce=v5(g):(A=ce.cachePool,A!==null?(Ee=En._currentValue,A=A.parent!==Ee?{parent:Ee,pool:Ee}:A):A=ye(),ce={baseLanes:ce.baseLanes|g,cachePool:A}),w.memoizedState=ce,w.childLanes=y5(l,V,g),f.memoizedState=x5,Jg(l.child,w)):(Cn(f),g=l.child,l=g.sibling,g=ho(g,{mode:"visible",children:w.children}),g.return=f,g.sibling=null,l!==null&&(V=f.deletions,V===null?(f.deletions=[l],f.flags|=16):V.push(l)),f.child=g,f.memoizedState=null,g)}function b5(l,f){return f=zv({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function zv(l,f){return l=Hi(22,l,null,f),l.lanes=0,l}function w5(l,f,g){return Ka(f,l.child,null,g),l=b5(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function cT(l,f,g){l.lanes|=f;var w=l.alternate;w!==null&&(w.lanes|=f),bd(l.return,f,g)}function k5(l,f,g,w,A,C){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:A,treeForkCount:C}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=w,V.tail=g,V.tailMode=A,V.treeForkCount=C)}function uT(l,f,g){var w=f.pendingProps,A=w.revealOrder,C=w.tail;w=w.children;var V=ra.current,ce=(V&2)!==0;if(ce?(V=V&1|2,f.flags|=128):V&=1,z(ra,V),cs(l,f,w,g),w=Yr?Wf:0,!ce&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&cT(l,g,f);else if(l.tag===19)cT(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(g=f.child,A=null;g!==null;)l=g.alternate,l!==null&&Vi(l)===null&&(A=g),g=g.sibling;g=A,g===null?(A=f.child,f.child=null):(A=g.sibling,g.sibling=null),k5(f,!1,A,g,C,w);break;case"backwards":case"unstable_legacy-backwards":for(g=null,A=f.child,f.child=null;A!==null;){if(l=A.alternate,l!==null&&Vi(l)===null){f.child=A;break}l=A.sibling,A.sibling=g,g=A,A=l}k5(f,!0,g,null,C,w);break;case"together":k5(f,!1,null,null,void 0,w);break;default:f.memoizedState=null}return f.child}function a0(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),Td|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(tu(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(a(153));if(f.child!==null){for(l=f.child,g=ho(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=ho(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function _5(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Im(l)))}function xW(l,f,g){switch(f.tag){case 3:je(f,f.stateNode.containerInfo),eu(f,En,l.memoizedState.cache),Ju();break;case 27:case 5:Ne(f);break;case 4:je(f,f.stateNode.containerInfo);break;case 10:eu(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,ba(f),null;break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Cn(f),f.flags|=128,null):(g&f.child.childLanes)!==0?lT(l,f,g):(Cn(f),l=a0(l,f,g),l!==null?l.sibling:null);Cn(f);break;case 19:var A=(l.flags&128)!==0;if(w=(g&f.childLanes)!==0,w||(tu(l,f,g,!1),w=(g&f.childLanes)!==0),A){if(w)return uT(l,f,g);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),z(ra,ra.current),w)break;return null;case 22:return f.lanes=0,rT(l,f,g,f.pendingProps);case 24:eu(f,En,l.memoizedState.cache)}return a0(l,f,g)}function dT(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)ui=!0;else{if(!_5(l,g)&&(f.flags&128)===0)return ui=!1,xW(l,f,g);ui=(l.flags&131072)!==0}else ui=!1,Yr&&(f.flags&1048576)!==0&&Tv(f,Wf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var w=f.pendingProps;if(l=ze(f.elementType),f.type=l,typeof l=="function")Om(l)?(w=Xf(l,w),f.tag=1,f=sT(null,f,l,w,g)):(f.tag=0,f=g5(null,f,l,w,g));else{if(l!=null){var A=l.$$typeof;if(A===T){f.tag=11,f=ZA(null,f,l,w,g);break e}else if(A===L){f.tag=14,f=eT(null,f,l,w,g);break e}}throw f=Y(l)||l,Error(a(306,f,""))}}return f;case 0:return g5(l,f,f.type,f.pendingProps,g);case 1:return w=f.type,A=Xf(w,f.pendingProps),sT(l,f,w,A,g);case 3:e:{if(je(f,f.stateNode.containerInfo),l===null)throw Error(a(387));w=f.pendingProps;var C=f.memoizedState;A=C.element,rn(l,f),Rn(f,w,null,g);var V=f.memoizedState;if(w=V.cache,eu(f,En,w),w!==C.cache&&Zu(f,[En],g,!0),Fa(),w=V.element,C.isDehydrated)if(C={element:w,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=oT(l,f,w,g);break e}else if(w!==A){A=mo(Error(a(424)),f),yd(A),f=oT(l,f,w,g);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Va=Tl(l.firstChild),ji=f,Yr=!0,os=null,pn=!0,g=Cr(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Ju(),w===A){f=a0(l,f,g);break e}cs(l,f,w,g)}f=f.child}return f;case 26:return Uv(l,f),l===null?(g=kE(f.type,null,f.pendingProps,null))?f.memoizedState=g:Yr||(g=f.type,l=f.pendingProps,w=ay(re.current).createElement(g),w[pe]=f,w[xe]=l,us(w,g,l),Bt(w),f.stateNode=w):f.memoizedState=kE(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Ne(f),l===null&&Yr&&(w=f.stateNode=yE(f.type,f.pendingProps,re.current),ji=f,pn=!0,A=Va,Dd(f.type)?(rk=A,Va=Tl(w.firstChild)):Va=A),cs(l,f,f.pendingProps.children,g),Uv(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Yr&&((A=w=Va)&&(w=KW(w,f.type,f.pendingProps,pn),w!==null?(f.stateNode=w,ji=f,Va=Tl(w.firstChild),pn=!1,A=!0):A=!1),A||Jc(f)),Ne(f),A=f.type,C=f.pendingProps,V=l!==null?l.memoizedProps:null,w=C.children,Q5(A,C)?w=null:V!==null&&Q5(A,V)&&(f.flags|=32),f.memoizedState!==null&&(A=$g(l,f,n5,null,null,g),hx._currentValue=A),Uv(l,f),cs(l,f,w,g),f.child;case 6:return l===null&&Yr&&((l=g=Va)&&(g=GW(g,f.pendingProps,pn),g!==null?(f.stateNode=g,ji=f,Va=null,l=!0):l=!1),l||Jc(f)),null;case 13:return lT(l,f,g);case 4:return je(f,f.stateNode.containerInfo),w=f.pendingProps,l===null?f.child=Ka(f,null,w,g):cs(l,f,w,g),f.child;case 11:return ZA(l,f,f.type,f.pendingProps,g);case 7:return cs(l,f,f.pendingProps,g),f.child;case 8:return cs(l,f,f.pendingProps.children,g),f.child;case 12:return cs(l,f,f.pendingProps.children,g),f.child;case 10:return w=f.pendingProps,eu(f,f.type,w.value),cs(l,f,w.children,g),f.child;case 9:return A=f.type._context,w=f.pendingProps.children,ru(f),A=Ti(A),w=w(A),f.flags|=1,cs(l,f,w,g),f.child;case 14:return eT(l,f,f.type,f.pendingProps,g);case 15:return tT(l,f,f.type,f.pendingProps,g);case 19:return uT(l,f,g);case 31:return gW(l,f,g);case 22:return rT(l,f,g,f.pendingProps);case 24:return ru(f),w=Ti(En),l===null?(A=fe(),A===null&&(A=Ga,C=wd(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=g),A=C),f.memoizedState={parent:w,cache:A},jt(f),eu(f,En,A)):((l.lanes&g)!==0&&(rn(l,f),Rn(f,null,null,g),Fa()),A=l.memoizedState,C=f.memoizedState,A.parent!==w?(A={parent:w,cache:w},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),eu(f,En,w)):(w=C.cache,eu(f,En,w),w!==A.cache&&Zu(f,[En],g,!0))),cs(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function n0(l){l.flags|=4}function S5(l,f,g,w,A){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(FT())l.flags|=8192;else throw rt=Le,We}else l.flags&=-16777217}function fT(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!AE(f))if(FT())l.flags|=8192;else throw rt=Le,We}function qv(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?Ui():536870912,l.lanes|=f,Jm|=f)}function Zg(l,f){if(!Yr)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function sn(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(f)for(var A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags&65011712,w|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)g|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=w,l.childLanes=g,f}function vW(l,f,g){var w=f.pendingProps;switch(Mm(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(f),null;case 1:return sn(f),null;case 3:return g=f.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),yo(En),oe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(Ai(f)?n0(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,zg())),sn(f),null;case 26:var A=f.type,C=f.memoizedState;return l===null?(n0(f),C!==null?(sn(f),fT(f,C)):(sn(f),S5(f,A,null,w,g))):C?C!==l.memoizedState?(n0(f),sn(f),fT(f,C)):(sn(f),f.flags&=-16777217):(l=l.memoizedProps,l!==w&&n0(f),sn(f),S5(f,A,l,w,g)),null;case 27:if(Me(f),g=re.current,A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==w&&n0(f);else{if(!w){if(f.stateNode===null)throw Error(a(166));return sn(f),null}l=q.current,Ai(f)?Ug(f):(l=yE(A,w,g),f.stateNode=l,n0(f))}return sn(f),null;case 5:if(Me(f),A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==w&&n0(f);else{if(!w){if(f.stateNode===null)throw Error(a(166));return sn(f),null}if(C=q.current,Ai(f))Ug(f);else{var V=ay(re.current);switch(C){case 1:C=V.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=V.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=V.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=V.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=V.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof w.is=="string"?V.createElement("select",{is:w.is}):V.createElement("select"),w.multiple?C.multiple=!0:w.size&&(C.size=w.size);break;default:C=typeof w.is=="string"?V.createElement(A,{is:w.is}):V.createElement(A)}}C[pe]=f,C[xe]=w;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)C.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=C;e:switch(us(C,A,w),A){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}w&&n0(f)}}return sn(f),S5(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,g),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==w&&n0(f);else{if(typeof w!="string"&&f.stateNode===null)throw Error(a(166));if(l=re.current,Ai(f)){if(l=f.stateNode,g=f.memoizedProps,w=null,A=ji,A!==null)switch(A.tag){case 27:case 5:w=A.memoizedProps}l[pe]=f,l=!!(l.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||lE(l.nodeValue,g)),l||Jc(f,!0)}else l=ay(l).createTextNode(w),l[pe]=f,f.stateNode=l}return sn(f),null;case 31:if(g=f.memoizedState,l===null||l.memoizedState!==null){if(w=Ai(f),g!==null){if(l===null){if(!w)throw Error(a(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(557));l[pe]=f}else Ju(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;sn(f),l=!1}else g=zg(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return f.flags&256?(Na(f),f):(Na(f),null);if((f.flags&128)!==0)throw Error(a(558))}return sn(f),null;case 13:if(w=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=Ai(f),w!==null&&w.dehydrated!==null){if(l===null){if(!A)throw Error(a(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(a(317));A[pe]=f}else Ju(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;sn(f),A=!1}else A=zg(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return f.flags&256?(Na(f),f):(Na(f),null)}return Na(f),(f.flags&128)!==0?(f.lanes=g,f):(g=w!==null,l=l!==null&&l.memoizedState!==null,g&&(w=f.child,A=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(A=w.alternate.memoizedState.cachePool.pool),C=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(C=w.memoizedState.cachePool.pool),C!==A&&(w.flags|=2048)),g!==l&&g&&(f.child.flags|=8192),qv(f,f.updateQueue),sn(f),null);case 4:return oe(),l===null&&V5(f.stateNode.containerInfo),sn(f),null;case 10:return yo(f.type),sn(f),null;case 19:if(M(ra),w=f.memoizedState,w===null)return sn(f),null;if(A=(f.flags&128)!==0,C=w.rendering,C===null)if(A)Zg(w,!1);else{if(zn!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(C=Vi(l),C!==null){for(f.flags|=128,Zg(w,!1),l=C.updateQueue,f.updateQueue=l,qv(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)$f(g,l),g=g.sibling;return z(ra,ra.current&1|2),Yr&&Ks(f,w.treeForkCount),f.child}l=l.sibling}w.tail!==null&&Dt()>Kv&&(f.flags|=128,A=!0,Zg(w,!1),f.lanes=4194304)}else{if(!A)if(l=Vi(C),l!==null){if(f.flags|=128,A=!0,l=l.updateQueue,f.updateQueue=l,qv(f,l),Zg(w,!0),w.tail===null&&w.tailMode==="hidden"&&!C.alternate&&!Yr)return sn(f),null}else 2*Dt()-w.renderingStartTime>Kv&&g!==536870912&&(f.flags|=128,A=!0,Zg(w,!1),f.lanes=4194304);w.isBackwards?(C.sibling=f.child,f.child=C):(l=w.last,l!==null?l.sibling=C:f.child=C,w.last=C)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Dt(),l.sibling=null,g=ra.current,z(ra,A?g&1|2:g&1),Yr&&Ks(f,w.treeForkCount),l):(sn(f),null);case 22:case 23:return Na(f),Jn(),w=f.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(g&536870912)!==0&&(f.flags&128)===0&&(sn(f),f.subtreeFlags&6&&(f.flags|=8192)):sn(f),g=f.updateQueue,g!==null&&qv(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048),l!==null&&M(le),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),yo(En),sn(f),null;case 25:return null;case 30:return null}throw Error(a(156,f.tag))}function yW(l,f){switch(Mm(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return yo(En),oe(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return Me(f),null;case 31:if(f.memoizedState!==null){if(Na(f),f.alternate===null)throw Error(a(340));Ju()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Na(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Ju()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return M(ra),null;case 4:return oe(),null;case 10:return yo(f.type),null;case 22:case 23:return Na(f),Jn(),l!==null&&M(le),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return yo(En),null;case 25:return null;default:return null}}function hT(l,f){switch(Mm(f),f.tag){case 3:yo(En),oe();break;case 26:case 27:case 5:Me(f);break;case 4:oe();break;case 31:f.memoizedState!==null&&Na(f);break;case 13:Na(f);break;case 19:M(ra);break;case 10:yo(f.type);break;case 22:case 23:Na(f),Jn(),l!==null&&M(le);break;case 24:yo(En)}}function ex(l,f){try{var g=f.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var A=w.next;g=A;do{if((g.tag&l)===l){w=void 0;var C=g.create,V=g.inst;w=C(),V.destroy=w}g=g.next}while(g!==A)}}catch(ce){Aa(f,f.return,ce)}}function jd(l,f,g){try{var w=f.updateQueue,A=w!==null?w.lastEffect:null;if(A!==null){var C=A.next;w=C;do{if((w.tag&l)===l){var V=w.inst,ce=V.destroy;if(ce!==void 0){V.destroy=void 0,A=f;var Ee=g,Ge=ce;try{Ge()}catch(it){Aa(A,Ee,it)}}}w=w.next}while(w!==C)}}catch(it){Aa(f,f.return,it)}}function mT(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{In(f,g)}catch(w){Aa(l,l.return,w)}}}function pT(l,f,g){g.props=Xf(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(w){Aa(l,f,w)}}function tx(l,f){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var w=l.stateNode;break;case 30:w=l.stateNode;break;default:w=l.stateNode}typeof g=="function"?l.refCleanup=g(w):g.current=w}}catch(A){Aa(l,f,A)}}function ou(l,f){var g=l.ref,w=l.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(A){Aa(l,f,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(A){Aa(l,f,A)}else g.current=null}function gT(l){var f=l.type,g=l.memoizedProps,w=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(A){Aa(l,l.return,A)}}function N5(l,f,g){try{var w=l.stateNode;zW(w,l.type,g,f),w[xe]=f}catch(A){Aa(l,l.return,A)}}function xT(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Dd(l.type)||l.tag===4}function j5(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||xT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Dd(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function A5(l,f,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(l),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Bo));else if(w!==4&&(w===27&&Dd(l.type)&&(g=l.stateNode,f=null),l=l.child,l!==null))for(A5(l,f,g),l=l.sibling;l!==null;)A5(l,f,g),l=l.sibling}function $v(l,f,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(w!==4&&(w===27&&Dd(l.type)&&(g=l.stateNode),l=l.child,l!==null))for($v(l,f,g),l=l.sibling;l!==null;)$v(l,f,g),l=l.sibling}function vT(l){var f=l.stateNode,g=l.memoizedProps;try{for(var w=l.type,A=f.attributes;A.length;)f.removeAttributeNode(A[0]);us(f,w,g),f[pe]=l,f[xe]=g}catch(C){Aa(l,l.return,C)}}var i0=!1,di=!1,T5=!1,yT=typeof WeakSet=="function"?WeakSet:Set,Ki=null;function bW(l,f){if(l=l.containerInfo,Y5=uy,l=fc(l),_l(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var A=w.anchorOffset,C=w.focusNode;w=w.focusOffset;try{g.nodeType,C.nodeType}catch{g=null;break e}var V=0,ce=-1,Ee=-1,Ge=0,it=0,ut=l,Je=null;t:for(;;){for(var et;ut!==g||A!==0&&ut.nodeType!==3||(ce=V+A),ut!==C||w!==0&&ut.nodeType!==3||(Ee=V+w),ut.nodeType===3&&(V+=ut.nodeValue.length),(et=ut.firstChild)!==null;)Je=ut,ut=et;for(;;){if(ut===l)break t;if(Je===g&&++Ge===A&&(ce=V),Je===C&&++it===w&&(Ee=V),(et=ut.nextSibling)!==null)break;ut=Je,Je=ut.parentNode}ut=et}g=ce===-1||Ee===-1?null:{start:ce,end:Ee}}else g=null}g=g||{start:0,end:0}}else g=null;for(X5={focusedElem:l,selectionRange:g},uy=!1,Ki=f;Ki!==null;)if(f=Ki,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,Ki=l;else for(;Ki!==null;){switch(f=Ki,C=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)A=l[g],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,g=f,A=C.memoizedProps,C=C.memoizedState,w=g.stateNode;try{var Ht=Xf(g.type,A);l=w.getSnapshotBeforeUpdate(Ht,C),w.__reactInternalSnapshotBeforeUpdate=l}catch(xr){Aa(g,g.return,xr)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)Z5(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Z5(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(a(163))}if(l=f.sibling,l!==null){l.return=f.return,Ki=l;break}Ki=f.return}}function bT(l,f,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:o0(l,g),w&4&&ex(5,g);break;case 1:if(o0(l,g),w&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(V){Aa(g,g.return,V)}else{var A=Xf(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(A,f,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Aa(g,g.return,V)}}w&64&&mT(g),w&512&&tx(g,g.return);break;case 3:if(o0(l,g),w&64&&(l=g.updateQueue,l!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{In(l,f)}catch(V){Aa(g,g.return,V)}}break;case 27:f===null&&w&4&&vT(g);case 26:case 5:o0(l,g),f===null&&w&4&&gT(g),w&512&&tx(g,g.return);break;case 12:o0(l,g);break;case 31:o0(l,g),w&4&&_T(l,g);break;case 13:o0(l,g),w&4&&ST(l,g),w&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=EW.bind(null,g),YW(l,g))));break;case 22:if(w=g.memoizedState!==null||i0,!w){f=f!==null&&f.memoizedState!==null||di,A=i0;var C=di;i0=w,(di=f)&&!C?l0(l,g,(g.subtreeFlags&8772)!==0):o0(l,g),i0=A,di=C}break;case 30:break;default:o0(l,g)}}function wT(l){var f=l.alternate;f!==null&&(l.alternate=null,wT(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&mt(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var vn=null,wo=!1;function s0(l,f,g){for(g=g.child;g!==null;)kT(l,f,g),g=g.sibling}function kT(l,f,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ft,g)}catch{}switch(g.tag){case 26:di||ou(g,f),s0(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:di||ou(g,f);var w=vn,A=wo;Dd(g.type)&&(vn=g.stateNode,wo=!1),s0(l,f,g),ux(g.stateNode),vn=w,wo=A;break;case 5:di||ou(g,f);case 6:if(w=vn,A=wo,vn=null,s0(l,f,g),vn=w,wo=A,vn!==null)if(wo)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(g.stateNode)}catch(C){Aa(g,f,C)}else try{vn.removeChild(g.stateNode)}catch(C){Aa(g,f,C)}break;case 18:vn!==null&&(wo?(l=vn,mE(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),sp(l)):mE(vn,g.stateNode));break;case 4:w=vn,A=wo,vn=g.stateNode.containerInfo,wo=!0,s0(l,f,g),vn=w,wo=A;break;case 0:case 11:case 14:case 15:jd(2,g,f),di||jd(4,g,f),s0(l,f,g);break;case 1:di||(ou(g,f),w=g.stateNode,typeof w.componentWillUnmount=="function"&&pT(g,f,w)),s0(l,f,g);break;case 21:s0(l,f,g);break;case 22:di=(w=di)||g.memoizedState!==null,s0(l,f,g),di=w;break;default:s0(l,f,g)}}function _T(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{sp(l)}catch(g){Aa(f,f.return,g)}}}function ST(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{sp(l)}catch(g){Aa(f,f.return,g)}}function wW(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new yT),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new yT),f;default:throw Error(a(435,l.tag))}}function Hv(l,f){var g=wW(l);f.forEach(function(w){if(!g.has(w)){g.add(w);var A=CW.bind(null,l,w);w.then(A,A)}})}function ko(l,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var A=g[w],C=l,V=f,ce=V;e:for(;ce!==null;){switch(ce.tag){case 27:if(Dd(ce.type)){vn=ce.stateNode,wo=!1;break e}break;case 5:vn=ce.stateNode,wo=!1;break e;case 3:case 4:vn=ce.stateNode.containerInfo,wo=!0;break e}ce=ce.return}if(vn===null)throw Error(a(160));kT(C,V,A),vn=null,wo=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)NT(f,l),f=f.sibling}var bc=null;function NT(l,f){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ko(f,l),_o(l),w&4&&(jd(3,l,l.return),ex(3,l),jd(5,l,l.return));break;case 1:ko(f,l),_o(l),w&512&&(di||g===null||ou(g,g.return)),w&64&&i0&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var A=bc;if(ko(f,l),_o(l),w&512&&(di||g===null||ou(g,g.return)),w&4){var C=g!==null?g.memoizedState:null;if(w=l.memoizedState,g===null)if(w===null)if(l.stateNode===null){e:{w=l.type,g=l.memoizedProps,A=A.ownerDocument||A;t:switch(w){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Ve]||C[pe]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(w),A.head.insertBefore(C,A.querySelector("head > title"))),us(C,w,g),C[pe]=l,Bt(C),w=C;break e;case"link":var V=NE("link","href",A).get(w+(g.href||""));if(V){for(var ce=0;ce<V.length;ce++)if(C=V[ce],C.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&C.getAttribute("rel")===(g.rel==null?null:g.rel)&&C.getAttribute("title")===(g.title==null?null:g.title)&&C.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(ce,1);break t}}C=A.createElement(w),us(C,w,g),A.head.appendChild(C);break;case"meta":if(V=NE("meta","content",A).get(w+(g.content||""))){for(ce=0;ce<V.length;ce++)if(C=V[ce],C.getAttribute("content")===(g.content==null?null:""+g.content)&&C.getAttribute("name")===(g.name==null?null:g.name)&&C.getAttribute("property")===(g.property==null?null:g.property)&&C.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&C.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(ce,1);break t}}C=A.createElement(w),us(C,w,g),A.head.appendChild(C);break;default:throw Error(a(468,w))}C[pe]=l,Bt(C),w=C}l.stateNode=w}else jE(A,l.type,l.stateNode);else l.stateNode=SE(A,w,l.memoizedProps);else C!==w?(C===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):C.count--,w===null?jE(A,l.type,l.stateNode):SE(A,w,l.memoizedProps)):w===null&&l.stateNode!==null&&N5(l,l.memoizedProps,g.memoizedProps)}break;case 27:ko(f,l),_o(l),w&512&&(di||g===null||ou(g,g.return)),g!==null&&w&4&&N5(l,l.memoizedProps,g.memoizedProps);break;case 5:if(ko(f,l),_o(l),w&512&&(di||g===null||ou(g,g.return)),l.flags&32){A=l.stateNode;try{Us(A,"")}catch(Ht){Aa(l,l.return,Ht)}}w&4&&l.stateNode!=null&&(A=l.memoizedProps,N5(l,A,g!==null?g.memoizedProps:A)),w&1024&&(T5=!0);break;case 6:if(ko(f,l),_o(l),w&4){if(l.stateNode===null)throw Error(a(162));w=l.memoizedProps,g=l.stateNode;try{g.nodeValue=w}catch(Ht){Aa(l,l.return,Ht)}}break;case 3:if(sy=null,A=bc,bc=ny(f.containerInfo),ko(f,l),bc=A,_o(l),w&4&&g!==null&&g.memoizedState.isDehydrated)try{sp(f.containerInfo)}catch(Ht){Aa(l,l.return,Ht)}T5&&(T5=!1,jT(l));break;case 4:w=bc,bc=ny(l.stateNode.containerInfo),ko(f,l),_o(l),bc=w;break;case 12:ko(f,l),_o(l);break;case 31:ko(f,l),_o(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Hv(l,w)));break;case 13:ko(f,l),_o(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Vv=Dt()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Hv(l,w)));break;case 22:A=l.memoizedState!==null;var Ee=g!==null&&g.memoizedState!==null,Ge=i0,it=di;if(i0=Ge||A,di=it||Ee,ko(f,l),di=it,i0=Ge,_o(l),w&8192)e:for(f=l.stateNode,f._visibility=A?f._visibility&-2:f._visibility|1,A&&(g===null||Ee||i0||di||Qf(l)),g=null,f=l;;){if(f.tag===5||f.tag===26){if(g===null){Ee=g=f;try{if(C=Ee.stateNode,A)V=C.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{ce=Ee.stateNode;var ut=Ee.memoizedProps.style,Je=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;ce.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(Ht){Aa(Ee,Ee.return,Ht)}}}else if(f.tag===6){if(g===null){Ee=f;try{Ee.stateNode.nodeValue=A?"":Ee.memoizedProps}catch(Ht){Aa(Ee,Ee.return,Ht)}}}else if(f.tag===18){if(g===null){Ee=f;try{var et=Ee.stateNode;A?pE(et,!0):pE(Ee.stateNode,!1)}catch(Ht){Aa(Ee,Ee.return,Ht)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=l.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,Hv(l,g))));break;case 19:ko(f,l),_o(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Hv(l,w)));break;case 30:break;case 21:break;default:ko(f,l),_o(l)}}function _o(l){var f=l.flags;if(f&2){try{for(var g,w=l.return;w!==null;){if(xT(w)){g=w;break}w=w.return}if(g==null)throw Error(a(160));switch(g.tag){case 27:var A=g.stateNode,C=j5(l);$v(l,C,A);break;case 5:var V=g.stateNode;g.flags&32&&(Us(V,""),g.flags&=-33);var ce=j5(l);$v(l,ce,V);break;case 3:case 4:var Ee=g.stateNode.containerInfo,Ge=j5(l);A5(l,Ge,Ee);break;default:throw Error(a(161))}}catch(it){Aa(l,l.return,it)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function jT(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;jT(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function o0(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)bT(l,f.alternate,f),f=f.sibling}function Qf(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:jd(4,f,f.return),Qf(f);break;case 1:ou(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&pT(f,f.return,g),Qf(f);break;case 27:ux(f.stateNode);case 26:case 5:ou(f,f.return),Qf(f);break;case 22:f.memoizedState===null&&Qf(f);break;case 30:Qf(f);break;default:Qf(f)}l=l.sibling}}function l0(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,A=l,C=f,V=C.flags;switch(C.tag){case 0:case 11:case 15:l0(A,C,g),ex(4,C);break;case 1:if(l0(A,C,g),w=C,A=w.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ge){Aa(w,w.return,Ge)}if(w=C,A=w.updateQueue,A!==null){var ce=w.stateNode;try{var Ee=A.shared.hiddenCallbacks;if(Ee!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Ee.length;A++)Wi(Ee[A],ce)}catch(Ge){Aa(w,w.return,Ge)}}g&&V&64&&mT(C),tx(C,C.return);break;case 27:vT(C);case 26:case 5:l0(A,C,g),g&&w===null&&V&4&&gT(C),tx(C,C.return);break;case 12:l0(A,C,g);break;case 31:l0(A,C,g),g&&V&4&&_T(A,C);break;case 13:l0(A,C,g),g&&V&4&&ST(A,C);break;case 22:C.memoizedState===null&&l0(A,C,g),tx(C,C.return);break;case 30:break;default:l0(A,C,g)}f=f.sibling}}function E5(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Vf(g))}function C5(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Vf(l))}function wc(l,f,g,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)AT(l,f,g,w),f=f.sibling}function AT(l,f,g,w){var A=f.flags;switch(f.tag){case 0:case 11:case 15:wc(l,f,g,w),A&2048&&ex(9,f);break;case 1:wc(l,f,g,w);break;case 3:wc(l,f,g,w),A&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Vf(l)));break;case 12:if(A&2048){wc(l,f,g,w),l=f.stateNode;try{var C=f.memoizedProps,V=C.id,ce=C.onPostCommit;typeof ce=="function"&&ce(V,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Ee){Aa(f,f.return,Ee)}}else wc(l,f,g,w);break;case 31:wc(l,f,g,w);break;case 13:wc(l,f,g,w);break;case 23:break;case 22:C=f.stateNode,V=f.alternate,f.memoizedState!==null?C._visibility&2?wc(l,f,g,w):rx(l,f):C._visibility&2?wc(l,f,g,w):(C._visibility|=2,Ym(l,f,g,w,(f.subtreeFlags&10256)!==0||!1)),A&2048&&E5(V,f);break;case 24:wc(l,f,g,w),A&2048&&C5(f.alternate,f);break;default:wc(l,f,g,w)}}function Ym(l,f,g,w,A){for(A=A&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=l,V=f,ce=g,Ee=w,Ge=V.flags;switch(V.tag){case 0:case 11:case 15:Ym(C,V,ce,Ee,A),ex(8,V);break;case 23:break;case 22:var it=V.stateNode;V.memoizedState!==null?it._visibility&2?Ym(C,V,ce,Ee,A):rx(C,V):(it._visibility|=2,Ym(C,V,ce,Ee,A)),A&&Ge&2048&&E5(V.alternate,V);break;case 24:Ym(C,V,ce,Ee,A),A&&Ge&2048&&C5(V.alternate,V);break;default:Ym(C,V,ce,Ee,A)}f=f.sibling}}function rx(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,w=f,A=w.flags;switch(w.tag){case 22:rx(g,w),A&2048&&E5(w.alternate,w);break;case 24:rx(g,w),A&2048&&C5(w.alternate,w);break;default:rx(g,w)}f=f.sibling}}var ax=8192;function Xm(l,f,g){if(l.subtreeFlags&ax)for(l=l.child;l!==null;)TT(l,f,g),l=l.sibling}function TT(l,f,g){switch(l.tag){case 26:Xm(l,f,g),l.flags&ax&&l.memoizedState!==null&&oV(g,bc,l.memoizedState,l.memoizedProps);break;case 5:Xm(l,f,g);break;case 3:case 4:var w=bc;bc=ny(l.stateNode.containerInfo),Xm(l,f,g),bc=w;break;case 22:l.memoizedState===null&&(w=l.alternate,w!==null&&w.memoizedState!==null?(w=ax,ax=16777216,Xm(l,f,g),ax=w):Xm(l,f,g));break;default:Xm(l,f,g)}}function ET(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function nx(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];Ki=w,OT(w,l)}ET(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)CT(l),l=l.sibling}function CT(l){switch(l.tag){case 0:case 11:case 15:nx(l),l.flags&2048&&jd(9,l,l.return);break;case 3:nx(l);break;case 12:nx(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,Wv(l)):nx(l);break;default:nx(l)}}function Wv(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];Ki=w,OT(w,l)}ET(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:jd(8,f,f.return),Wv(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,Wv(f));break;default:Wv(f)}l=l.sibling}}function OT(l,f){for(;Ki!==null;){var g=Ki;switch(g.tag){case 0:case 11:case 15:jd(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Vf(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,Ki=w;else e:for(g=l;Ki!==null;){w=Ki;var A=w.sibling,C=w.return;if(wT(w),w===g){Ki=null;break e}if(A!==null){A.return=C,Ki=A;break e}Ki=C}}}var kW={getCacheForType:function(l){var f=Ti(En),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g},cacheSignal:function(){return Ti(En).controller.signal}},_W=typeof WeakMap=="function"?WeakMap:Map,wa=0,Ga=null,Xr=null,Zr=0,ja=0,Wo=null,Ad=!1,Qm=!1,O5=!1,c0=0,zn=0,Td=0,Jf=0,P5=0,Vo=0,Jm=0,ix=null,So=null,D5=!1,Vv=0,PT=0,Kv=1/0,Gv=null,Ed=null,Ci=0,Cd=null,Zm=null,u0=0,L5=0,M5=null,DT=null,sx=0,R5=null;function Ko(){return(wa&2)!==0&&Zr!==0?Zr&-Zr:X.T!==null?q5():te()}function LT(){if(Vo===0)if((Zr&536870912)===0||Yr){var l=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),Vo=l}else Vo=536870912;return l=nn.current,l!==null&&(l.flags|=32),Vo}function No(l,f,g){(l===Ga&&(ja===2||ja===9)||l.cancelPendingCommit!==null)&&(ep(l,0),Od(l,Zr,Vo,!1)),nr(l,g),((wa&2)===0||l!==Ga)&&(l===Ga&&((wa&2)===0&&(Jf|=g),zn===4&&Od(l,Zr,Vo,!1)),lu(l))}function MT(l,f,g){if((wa&6)!==0)throw Error(a(327));var w=!g&&(f&127)===0&&(f&l.expiredLanes)===0||Hr(l,f),A=w?jW(l,f):F5(l,f,!0),C=w;do{if(A===0){Qm&&!w&&Od(l,f,0,!1);break}else{if(g=l.current.alternate,C&&!SW(g)){A=F5(l,f,!1),C=!1;continue}if(A===2){if(C=f,l.errorRecoveryDisabledLanes&C)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var ce=l;A=ix;var Ee=ce.current.memoizedState.isDehydrated;if(Ee&&(ep(ce,V).flags|=256),V=F5(ce,V,!1),V!==2){if(O5&&!Ee){ce.errorRecoveryDisabledLanes|=C,Jf|=C,A=4;break e}C=So,So=A,C!==null&&(So===null?So=C:So.push.apply(So,C))}A=V}if(C=!1,A!==2)continue}}if(A===1){ep(l,0),Od(l,f,0,!0);break}e:{switch(w=l,C=A,C){case 0:case 1:throw Error(a(345));case 4:if((f&4194048)!==f)break;case 6:Od(w,f,Vo,!Ad);break e;case 2:So=null;break;case 3:case 5:break;default:throw Error(a(329))}if((f&62914560)===f&&(A=Vv+300-Dt(),10<A)){if(Od(w,f,Vo,!Ad),sr(w,0,!0)!==0)break e;u0=f,w.timeoutHandle=fE(RT.bind(null,w,g,So,Gv,D5,f,Vo,Jf,Jm,Ad,C,"Throttled",-0,0),A);break e}RT(w,g,So,Gv,D5,f,Vo,Jf,Jm,Ad,C,null,-0,0)}}break}while(!0);lu(l)}function RT(l,f,g,w,A,C,V,ce,Ee,Ge,it,ut,Je,et){if(l.timeoutHandle=-1,ut=f.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bo},TT(f,C,ut);var Ht=(C&62914560)===C?Vv-Dt():(C&4194048)===C?PT-Dt():0;if(Ht=lV(ut,Ht),Ht!==null){u0=C,l.cancelPendingCommit=Ht(HT.bind(null,l,f,C,g,w,A,V,ce,Ee,it,ut,null,Je,et)),Od(l,C,V,!Ge);return}}HT(l,f,C,g,w,A,V,ce,Ee)}function SW(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var A=g[w],C=A.getSnapshot;A=A.value;try{if(!Si(C(),A))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Od(l,f,g,w){f&=~P5,f&=~Jf,l.suspendedLanes|=f,l.pingedLanes&=~f,w&&(l.warmLanes|=f),w=l.expirationTimes;for(var A=f;0<A;){var C=31-Tr(A),V=1<<C;w[C]=-1,A&=~V}g!==0&&oo(l,g,f)}function Yv(){return(wa&6)===0?(ox(0),!1):!0}function I5(){if(Xr!==null){if(ja===0)var l=Xr.return;else l=Xr,Nl=Zc=null,qm(l),dt=null,Wt=0,l=Xr;for(;l!==null;)hT(l.alternate,l),l=l.return;Xr=null}}function ep(l,f){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,HW(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),u0=0,I5(),Ga=l,Xr=g=ho(l.current,null),Zr=f,ja=0,Wo=null,Ad=!1,Qm=Hr(l,f),O5=!1,Jm=Vo=P5=Jf=Td=zn=0,So=ix=null,D5=!1,(f&8)!==0&&(f|=f&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=f;0<w;){var A=31-Tr(w),C=1<<A;f|=l[A],w&=~C}return c0=f,Uf(),g}function IT(l,f){or=null,X.H=Qg,f===Pe||f===ve?(f=lt(),ja=3):f===We?(f=lt(),ja=4):ja=f===p5?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Wo=f,Xr===null&&(zn=1,Fv(l,mo(f,l.current)))}function FT(){var l=nn.current;return l===null?!0:(Zr&4194048)===Zr?ia===null:(Zr&62914560)===Zr||(Zr&536870912)!==0?l===ia:!1}function BT(){var l=X.H;return X.H=Qg,l===null?Qg:l}function UT(){var l=X.A;return X.A=kW,l}function Xv(){zn=4,Ad||(Zr&4194048)!==Zr&&nn.current!==null||(Qm=!0),(Td&134217727)===0&&(Jf&134217727)===0||Ga===null||Od(Ga,Zr,Vo,!1)}function F5(l,f,g){var w=wa;wa|=2;var A=BT(),C=UT();(Ga!==l||Zr!==f)&&(Gv=null,ep(l,f)),f=!1;var V=zn;e:do try{if(ja!==0&&Xr!==null){var ce=Xr,Ee=Wo;switch(ja){case 8:I5(),V=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(f=!0);var Ge=ja;if(ja=0,Wo=null,tp(l,ce,Ee,Ge),g&&Qm){V=0;break e}break;default:Ge=ja,ja=0,Wo=null,tp(l,ce,Ee,Ge)}}NW(),V=zn;break}catch(it){IT(l,it)}while(!0);return f&&l.shellSuspendCounter++,Nl=Zc=null,wa=w,X.H=A,X.A=C,Xr===null&&(Ga=null,Zr=0,Uf()),V}function NW(){for(;Xr!==null;)zT(Xr)}function jW(l,f){var g=wa;wa|=2;var w=BT(),A=UT();Ga!==l||Zr!==f?(Gv=null,Kv=Dt()+500,ep(l,f)):Qm=Hr(l,f);e:do try{if(ja!==0&&Xr!==null){f=Xr;var C=Wo;t:switch(ja){case 1:ja=0,Wo=null,tp(l,f,C,1);break;case 2:case 9:if(Fe(C)){ja=0,Wo=null,qT(f);break}f=function(){ja!==2&&ja!==9||Ga!==l||(ja=7),lu(l)},C.then(f,f);break e;case 3:ja=7;break e;case 4:ja=5;break e;case 7:Fe(C)?(ja=0,Wo=null,qT(f)):(ja=0,Wo=null,tp(l,f,C,7));break;case 5:var V=null;switch(Xr.tag){case 26:V=Xr.memoizedState;case 5:case 27:var ce=Xr;if(V?AE(V):ce.stateNode.complete){ja=0,Wo=null;var Ee=ce.sibling;if(Ee!==null)Xr=Ee;else{var Ge=ce.return;Ge!==null?(Xr=Ge,Qv(Ge)):Xr=null}break t}}ja=0,Wo=null,tp(l,f,C,5);break;case 6:ja=0,Wo=null,tp(l,f,C,6);break;case 8:I5(),zn=6;break e;default:throw Error(a(462))}}AW();break}catch(it){IT(l,it)}while(!0);return Nl=Zc=null,X.H=w,X.A=A,wa=g,Xr!==null?0:(Ga=null,Zr=0,Uf(),zn)}function AW(){for(;Xr!==null&&!Ct();)zT(Xr)}function zT(l){var f=dT(l.alternate,l,c0);l.memoizedProps=l.pendingProps,f===null?Qv(l):Xr=f}function qT(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=iT(g,f,f.pendingProps,f.type,void 0,Zr);break;case 11:f=iT(g,f,f.pendingProps,f.type.render,f.ref,Zr);break;case 5:qm(f);default:hT(g,f),f=Xr=$f(f,c0),f=dT(g,f,c0)}l.memoizedProps=l.pendingProps,f===null?Qv(l):Xr=f}function tp(l,f,g,w){Nl=Zc=null,qm(f),dt=null,Wt=0;var A=f.return;try{if(pW(l,A,f,g,Zr)){zn=1,Fv(l,mo(g,l.current)),Xr=null;return}}catch(C){if(A!==null)throw Xr=A,C;zn=1,Fv(l,mo(g,l.current)),Xr=null;return}f.flags&32768?(Yr||w===1?l=!0:Qm||(Zr&536870912)!==0?l=!1:(Ad=l=!0,(w===2||w===9||w===3||w===6)&&(w=nn.current,w!==null&&w.tag===13&&(w.flags|=16384))),$T(f,l)):Qv(f)}function Qv(l){var f=l;do{if((f.flags&32768)!==0){$T(f,Ad);return}l=f.return;var g=vW(f.alternate,f,c0);if(g!==null){Xr=g;return}if(f=f.sibling,f!==null){Xr=f;return}Xr=f=l}while(f!==null);zn===0&&(zn=5)}function $T(l,f){do{var g=yW(l.alternate,l);if(g!==null){g.flags&=32767,Xr=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){Xr=l;return}Xr=l=g}while(l!==null);zn=6,Xr=null}function HT(l,f,g,w,A,C,V,ce,Ee){l.cancelPendingCommit=null;do Jv();while(Ci!==0);if((wa&6)!==0)throw Error(a(327));if(f!==null){if(f===l.current)throw Error(a(177));if(C=f.lanes|f.childLanes,C|=Tm,Mo(l,g,C,V,ce,Ee),l===Ga&&(Xr=Ga=null,Zr=0),Zm=f,Cd=l,u0=g,L5=C,M5=A,DT=w,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,OW(qt,function(){return YT(),null})):(l.callbackNode=null,l.callbackPriority=0),w=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||w){w=X.T,X.T=null,A=ae.p,ae.p=2,V=wa,wa|=4;try{bW(l,f,g)}finally{wa=V,ae.p=A,X.T=w}}Ci=1,WT(),VT(),KT()}}function WT(){if(Ci===1){Ci=0;var l=Cd,f=Zm,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=X.T,X.T=null;var w=ae.p;ae.p=2;var A=wa;wa|=4;try{NT(f,l);var C=X5,V=fc(l.containerInfo),ce=C.focusedElem,Ee=C.selectionRange;if(V!==ce&&ce&&ce.ownerDocument&&dc(ce.ownerDocument.documentElement,ce)){if(Ee!==null&&_l(ce)){var Ge=Ee.start,it=Ee.end;if(it===void 0&&(it=Ge),"selectionStart"in ce)ce.selectionStart=Ge,ce.selectionEnd=Math.min(it,ce.value.length);else{var ut=ce.ownerDocument||document,Je=ut&&ut.defaultView||window;if(Je.getSelection){var et=Je.getSelection(),Ht=ce.textContent.length,xr=Math.min(Ee.start,Ht),za=Ee.end===void 0?xr:Math.min(Ee.end,Ht);!et.extend&&xr>za&&(V=za,za=xr,xr=V);var Ie=pd(ce,xr),De=pd(ce,za);if(Ie&&De&&(et.rangeCount!==1||et.anchorNode!==Ie.node||et.anchorOffset!==Ie.offset||et.focusNode!==De.node||et.focusOffset!==De.offset)){var Ke=ut.createRange();Ke.setStart(Ie.node,Ie.offset),et.removeAllRanges(),xr>za?(et.addRange(Ke),et.extend(De.node,De.offset)):(Ke.setEnd(De.node,De.offset),et.addRange(Ke))}}}}for(ut=[],et=ce;et=et.parentNode;)et.nodeType===1&&ut.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<ut.length;ce++){var ct=ut[ce];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}uy=!!Y5,X5=Y5=null}finally{wa=A,ae.p=w,X.T=g}}l.current=f,Ci=2}}function VT(){if(Ci===2){Ci=0;var l=Cd,f=Zm,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=X.T,X.T=null;var w=ae.p;ae.p=2;var A=wa;wa|=4;try{bT(l,f.alternate,f)}finally{wa=A,ae.p=w,X.T=g}}Ci=3}}function KT(){if(Ci===4||Ci===3){Ci=0,Pt();var l=Cd,f=Zm,g=u0,w=DT;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ci=5:(Ci=0,Zm=Cd=null,GT(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(Ed=null),hn(g),f=f.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ft,f,void 0,(f.current.flags&128)===128)}catch{}if(w!==null){f=X.T,A=ae.p,ae.p=2,X.T=null;try{for(var C=l.onRecoverableError,V=0;V<w.length;V++){var ce=w[V];C(ce.value,{componentStack:ce.stack})}}finally{X.T=f,ae.p=A}}(u0&3)!==0&&Jv(),lu(l),A=l.pendingLanes,(g&261930)!==0&&(A&42)!==0?l===R5?sx++:(sx=0,R5=l):sx=0,ox(0)}}function GT(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,Vf(f)))}function Jv(){return WT(),VT(),KT(),YT()}function YT(){if(Ci!==5)return!1;var l=Cd,f=L5;L5=0;var g=hn(u0),w=X.T,A=ae.p;try{ae.p=32>g?32:g,X.T=null,g=M5,M5=null;var C=Cd,V=u0;if(Ci=0,Zm=Cd=null,u0=0,(wa&6)!==0)throw Error(a(331));var ce=wa;if(wa|=4,CT(C.current),AT(C,C.current,V,g),wa=ce,ox(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ft,C)}catch{}return!0}finally{ae.p=A,X.T=w,GT(l,f)}}function XT(l,f,g){f=mo(g,f),f=m5(l.stateNode,f,2),l=Lr(l,f,2),l!==null&&(nr(l,2),lu(l))}function Aa(l,f,g){if(l.tag===3)XT(l,l,g);else for(;f!==null;){if(f.tag===3){XT(f,l,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ed===null||!Ed.has(w))){l=mo(g,l),g=QA(2),w=Lr(f,g,2),w!==null&&(JA(g,w,f,l),nr(w,2),lu(w));break}}f=f.return}}function B5(l,f,g){var w=l.pingCache;if(w===null){w=l.pingCache=new _W;var A=new Set;w.set(f,A)}else A=w.get(f),A===void 0&&(A=new Set,w.set(f,A));A.has(g)||(O5=!0,A.add(g),l=TW.bind(null,l,f,g),f.then(l,l))}function TW(l,f,g){var w=l.pingCache;w!==null&&w.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Ga===l&&(Zr&g)===g&&(zn===4||zn===3&&(Zr&62914560)===Zr&&300>Dt()-Vv?(wa&2)===0&&ep(l,0):P5|=g,Jm===Zr&&(Jm=0)),lu(l)}function QT(l,f){f===0&&(f=Ui()),l=mc(l,f),l!==null&&(nr(l,f),lu(l))}function EW(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),QT(l,g)}function CW(l,f){var g=0;switch(l.tag){case 31:case 13:var w=l.stateNode,A=l.memoizedState;A!==null&&(g=A.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(a(314))}w!==null&&w.delete(f),QT(l,g)}function OW(l,f){return gt(l,f)}var Zv=null,rp=null,U5=!1,ey=!1,z5=!1,Pd=0;function lu(l){l!==rp&&l.next===null&&(rp===null?Zv=rp=l:rp=rp.next=l),ey=!0,U5||(U5=!0,DW())}function ox(l,f){if(!z5&&ey){z5=!0;do for(var g=!1,w=Zv;w!==null;){if(l!==0){var A=w.pendingLanes;if(A===0)var C=0;else{var V=w.suspendedLanes,ce=w.pingedLanes;C=(1<<31-Tr(42|l)+1)-1,C&=A&~(V&~ce),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(g=!0,tE(w,C))}else C=Zr,C=sr(w,w===Ga?C:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(C&3)===0||Hr(w,C)||(g=!0,tE(w,C));w=w.next}while(g);z5=!1}}function PW(){JT()}function JT(){ey=U5=!1;var l=0;Pd!==0&&$W()&&(l=Pd);for(var f=Dt(),g=null,w=Zv;w!==null;){var A=w.next,C=ZT(w,f);C===0?(w.next=null,g===null?Zv=A:g.next=A,A===null&&(rp=g)):(g=w,(l!==0||(C&3)!==0)&&(ey=!0)),w=A}Ci!==0&&Ci!==5||ox(l),Pd!==0&&(Pd=0)}function ZT(l,f){for(var g=l.suspendedLanes,w=l.pingedLanes,A=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var V=31-Tr(C),ce=1<<V,Ee=A[V];Ee===-1?((ce&g)===0||(ce&w)!==0)&&(A[V]=en(ce,f)):Ee<=f&&(l.expiredLanes|=ce),C&=~ce}if(f=Ga,g=Zr,g=sr(l,l===f?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w=l.callbackNode,g===0||l===f&&(ja===2||ja===9)||l.cancelPendingCommit!==null)return w!==null&&w!==null&&ot(w),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Hr(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(w!==null&&ot(w),hn(g)){case 2:case 8:g=$r;break;case 32:g=qt;break;case 268435456:g=vt;break;default:g=qt}return w=eE.bind(null,l),g=gt(g,w),l.callbackPriority=f,l.callbackNode=g,f}return w!==null&&w!==null&&ot(w),l.callbackPriority=2,l.callbackNode=null,2}function eE(l,f){if(Ci!==0&&Ci!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Jv()&&l.callbackNode!==g)return null;var w=Zr;return w=sr(l,l===Ga?w:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),w===0?null:(MT(l,w,f),ZT(l,Dt()),l.callbackNode!=null&&l.callbackNode===g?eE.bind(null,l):null)}function tE(l,f){if(Jv())return null;MT(l,f,!0)}function DW(){WW(function(){(wa&6)!==0?gt(ar,PW):JT()})}function q5(){if(Pd===0){var l=S;l===0&&(l=gr,gr<<=1,(gr&261888)===0&&(gr=256)),Pd=l}return Pd}function rE(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Fo(""+l)}function aE(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function LW(l,f,g,w,A){if(f==="submit"&&g&&g.stateNode===A){var C=rE((A[xe]||null).action),V=w.submitter;V&&(f=(f=V[xe]||null)?rE(f.formAction):V.getAttribute("formAction"),f!==null&&(C=f,V=null));var ce=new pl("action","action",null,w,A);l.push({event:ce,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Pd!==0){var Ee=V?aE(A,V):new FormData(A);l5(g,{pending:!0,data:Ee,method:A.method,action:C},null,Ee)}}else typeof C=="function"&&(ce.preventDefault(),Ee=V?aE(A,V):new FormData(A),l5(g,{pending:!0,data:Ee,method:A.method,action:C},C,Ee))},currentTarget:A}]})}}for(var $5=0;$5<Yu.length;$5++){var H5=Yu[$5],MW=H5.toLowerCase(),RW=H5[0].toUpperCase()+H5.slice(1);fo(MW,"on"+RW)}fo(Gu,"onAnimationEnd"),fo(Ff,"onAnimationIteration"),fo(Rg,"onAnimationStart"),fo("dblclick","onDoubleClick"),fo("focusin","onFocus"),fo("focusout","onBlur"),fo(Nv,"onTransitionRun"),fo(jv,"onTransitionStart"),fo(Av,"onTransitionCancel"),fo(Ig,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lx));function nE(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var w=l[g],A=w.event;w=w.listeners;e:{var C=void 0;if(f)for(var V=w.length-1;0<=V;V--){var ce=w[V],Ee=ce.instance,Ge=ce.currentTarget;if(ce=ce.listener,Ee!==C&&A.isPropagationStopped())break e;C=ce,A.currentTarget=Ge;try{C(A)}catch(it){Bf(it)}A.currentTarget=null,C=Ee}else for(V=0;V<w.length;V++){if(ce=w[V],Ee=ce.instance,Ge=ce.currentTarget,ce=ce.listener,Ee!==C&&A.isPropagationStopped())break e;C=ce,A.currentTarget=Ge;try{C(A)}catch(it){Bf(it)}A.currentTarget=null,C=Ee}}}}function Qr(l,f){var g=f[Ue];g===void 0&&(g=f[Ue]=new Set);var w=l+"__bubble";g.has(w)||(iE(f,l,2,!1),g.add(w))}function W5(l,f,g){var w=0;f&&(w|=4),iE(g,l,w,f)}var ty="_reactListening"+Math.random().toString(36).slice(2);function V5(l){if(!l[ty]){l[ty]=!0,va.forEach(function(g){g!=="selectionchange"&&(IW.has(g)||W5(g,!1,l),W5(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[ty]||(f[ty]=!0,W5("selectionchange",!1,f))}}function iE(l,f,g,w){switch(LE(f)){case 2:var A=dV;break;case 8:A=fV;break;default:A=ok}g=A.bind(null,f,g,l),A=void 0,!Mf||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),w?A!==void 0?l.addEventListener(f,g,{capture:!0,passive:A}):l.addEventListener(f,g,!0):A!==void 0?l.addEventListener(f,g,{passive:A}):l.addEventListener(f,g,!1)}function K5(l,f,g,w,A){var C=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var V=w.tag;if(V===3||V===4){var ce=w.stateNode.containerInfo;if(ce===A)break;if(V===4)for(V=w.return;V!==null;){var Ee=V.tag;if((Ee===3||Ee===4)&&V.stateNode.containerInfo===A)return;V=V.return}for(;ce!==null;){if(V=yt(ce),V===null)return;if(Ee=V.tag,Ee===5||Ee===6||Ee===26||Ee===27){w=C=V;continue e}ce=ce.parentNode}}w=w.return}km(function(){var Ge=C,it=Bu(g),ut=[];e:{var Je=Fg.get(l);if(Je!==void 0){var et=pl,Ht=l;switch(l){case"keypress":if(rc(g)===0)break e;case"keydown":case"keyup":et=oa;break;case"focusin":Ht="focus",et=sc;break;case"focusout":Ht="blur",et=sc;break;case"beforeblur":case"afterblur":et=sc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=Xn;break;case Gu:case Ff:case Rg:et=R;break;case Ig:et=ki;break;case"scroll":case"scrollend":et=ld;break;case"wheel":et=xs;break;case"copy":case"cut":case"paste":et=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=jn;break;case"toggle":case"beforetoggle":et=cd}var xr=(f&4)!==0,za=!xr&&(l==="scroll"||l==="scrollend"),Ie=xr?Je!==null?Je+"Capture":null:Je;xr=[];for(var De=Ge,Ke;De!==null;){var ct=De;if(Ke=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||Ke===null||Ie===null||(ct=zs(De,Ie),ct!=null&&xr.push(cx(De,ct,Ke))),za)break;De=De.return}0<xr.length&&(Je=new et(Je,Ht,null,g,it),ut.push({event:Je,listeners:xr}))}}if((f&7)===0){e:{if(Je=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",Je&&g!==tc&&(Ht=g.relatedTarget||g.fromElement)&&(yt(Ht)||Ht[Se]))break e;if((et||Je)&&(Je=it.window===it?it:(Je=it.ownerDocument)?Je.defaultView||Je.parentWindow:window,et?(Ht=g.relatedTarget||g.toElement,et=Ge,Ht=Ht?yt(Ht):null,Ht!==null&&(za=i(Ht),xr=Ht.tag,Ht!==za||xr!==5&&xr!==27&&xr!==6)&&(Ht=null)):(et=null,Ht=Ge),et!==Ht)){if(xr=gl,ct="onMouseLeave",Ie="onMouseEnter",De="mouse",(l==="pointerout"||l==="pointerover")&&(xr=jn,ct="onPointerLeave",Ie="onPointerEnter",De="pointer"),za=et==null?Je:xt(et),Ke=Ht==null?Je:xt(Ht),Je=new xr(ct,De+"leave",et,g,it),Je.target=za,Je.relatedTarget=Ke,ct=null,yt(it)===Ge&&(xr=new xr(Ie,De+"enter",Ht,g,it),xr.target=Ke,xr.relatedTarget=za,ct=xr),za=ct,et&&Ht)t:{for(xr=FW,Ie=et,De=Ht,Ke=0,ct=Ie;ct;ct=xr(ct))Ke++;ct=0;for(var fr=De;fr;fr=xr(fr))ct++;for(;0<Ke-ct;)Ie=xr(Ie),Ke--;for(;0<ct-Ke;)De=xr(De),ct--;for(;Ke--;){if(Ie===De||De!==null&&Ie===De.alternate){xr=Ie;break t}Ie=xr(Ie),De=xr(De)}xr=null}else xr=null;et!==null&&sE(ut,Je,et,xr,!1),Ht!==null&&za!==null&&sE(ut,za,Ht,xr,!0)}}e:{if(Je=Ge?xt(Ge):window,et=Je.nodeName&&Je.nodeName.toLowerCase(),et==="select"||et==="input"&&Je.type==="file")var ha=Yc;else if(Rf(Je))if(vs)ha=wl;else{ha=An;var Jt=hd}else et=Je.nodeName,!et||et.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ge&&Pf(Ge.elementType)&&(ha=Yc):ha=Am;if(ha&&(ha=ha(l,Ge))){Hs(ut,ha,g,it);break e}Jt&&Jt(l,Je,Ge),l==="focusout"&&Ge&&Je.type==="number"&&Ge.memoizedProps.value!=null&&Tf(Je,"number",Je.value)}switch(Jt=Ge?xt(Ge):window,l){case"focusin":(Rf(Jt)||Jt.contentEditable==="true")&&(Ws=Jt,hc=Ge,qi=null);break;case"focusout":qi=hc=Ws=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,la(ut,g,it);break;case"selectionchange":if(Ku)break;case"keydown":case"keyup":la(ut,g,it)}var Ir;if(xl)e:{switch(l){case"compositionstart":var ea="onCompositionStart";break e;case"compositionend":ea="onCompositionEnd";break e;case"compositionupdate":ea="onCompositionUpdate";break e}ea=void 0}else vl?Gc(l,g)&&(ea="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ea="onCompositionStart");ea&&(Vc&&g.locale!=="ko"&&(vl||ea!=="onCompositionStart"?ea==="onCompositionEnd"&&vl&&(Ir=qu()):(qs=it,zu="value"in qs?qs.value:qs.textContent,vl=!0)),Jt=ry(Ge,ea),0<Jt.length&&(ea=new Re(ea,l,null,g,it),ut.push({event:ea,listeners:Jt}),Ir?ea.data=Ir:(Ir=ud(g),Ir!==null&&(ea.data=Ir)))),(Ir=Vu?mn(l,g):oc(l,g))&&(ea=ry(Ge,"onBeforeInput"),0<ea.length&&(Jt=new Re("onBeforeInput","beforeinput",null,g,it),ut.push({event:Jt,listeners:ea}),Jt.data=Ir)),LW(ut,l,Ge,g,it)}nE(ut,f)})}function cx(l,f,g){return{instance:l,listener:f,currentTarget:g}}function ry(l,f){for(var g=f+"Capture",w=[];l!==null;){var A=l,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=zs(l,g),A!=null&&w.unshift(cx(l,A,C)),A=zs(l,f),A!=null&&w.push(cx(l,A,C))),l.tag===3)return w;l=l.return}return[]}function FW(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function sE(l,f,g,w,A){for(var C=f._reactName,V=[];g!==null&&g!==w;){var ce=g,Ee=ce.alternate,Ge=ce.stateNode;if(ce=ce.tag,Ee!==null&&Ee===w)break;ce!==5&&ce!==26&&ce!==27||Ge===null||(Ee=Ge,A?(Ge=zs(g,C),Ge!=null&&V.unshift(cx(g,Ge,Ee))):A||(Ge=zs(g,C),Ge!=null&&V.push(cx(g,Ge,Ee)))),g=g.return}V.length!==0&&l.push({event:f,listeners:V})}var BW=/\r\n?/g,UW=/\u0000|\uFFFD/g;function oE(l){return(typeof l=="string"?l:""+l).replace(BW,`
`).replace(UW,"")}function lE(l,f){return f=oE(f),oE(l)===f}function Ua(l,f,g,w,A,C){switch(g){case"children":typeof w=="string"?f==="body"||f==="textarea"&&w===""||Us(l,w):(typeof w=="number"||typeof w=="bigint")&&f!=="body"&&Us(l,""+w);break;case"className":id(l,"class",w);break;case"tabIndex":id(l,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":id(l,g,w);break;case"style":bm(l,w,C);break;case"data":if(f!=="object"){id(l,"data",w);break}case"src":case"href":if(w===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(g);break}w=Fo(""+w),l.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(g==="formAction"?(f!=="input"&&Ua(l,f,"name",A.name,A,null),Ua(l,f,"formEncType",A.formEncType,A,null),Ua(l,f,"formMethod",A.formMethod,A,null),Ua(l,f,"formTarget",A.formTarget,A,null)):(Ua(l,f,"encType",A.encType,A,null),Ua(l,f,"method",A.method,A,null),Ua(l,f,"target",A.target,A,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){l.removeAttribute(g);break}w=Fo(""+w),l.setAttribute(g,w);break;case"onClick":w!=null&&(l.onclick=Bo);break;case"onScroll":w!=null&&Qr("scroll",l);break;case"onScrollEnd":w!=null&&Qr("scrollend",l);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(A.children!=null)throw Error(a(60));l.innerHTML=g}}break;case"multiple":l.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":l.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){l.removeAttribute("xlink:href");break}g=Fo(""+w),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(g,""+w):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":w===!0?l.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?l.setAttribute(g,w):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?l.setAttribute(g,w):l.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?l.removeAttribute(g):l.setAttribute(g,w);break;case"popover":Qr("beforetoggle",l),Qr("toggle",l),Yn(l,"popover",w);break;case"xlinkActuate":_a(l,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":_a(l,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":_a(l,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":_a(l,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":_a(l,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":_a(l,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":_a(l,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":_a(l,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":_a(l,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Yn(l,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Df.get(g)||g,Yn(l,g,w))}}function G5(l,f,g,w,A,C){switch(g){case"style":bm(l,w,C);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(a(61));if(g=w.__html,g!=null){if(A.children!=null)throw Error(a(60));l.innerHTML=g}}break;case"children":typeof w=="string"?Us(l,w):(typeof w=="number"||typeof w=="bigint")&&Us(l,""+w);break;case"onScroll":w!=null&&Qr("scroll",l);break;case"onScrollEnd":w!=null&&Qr("scrollend",l);break;case"onClick":w!=null&&(l.onclick=Bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(A=g.endsWith("Capture"),f=g.slice(2,A?g.length-7:void 0),C=l[xe]||null,C=C!=null?C[g]:null,typeof C=="function"&&l.removeEventListener(f,C,A),typeof w=="function")){typeof C!="function"&&C!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,w,A);break e}g in l?l[g]=w:w===!0?l.setAttribute(g,""):Yn(l,g,w)}}}function us(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qr("error",l),Qr("load",l);var w=!1,A=!1,C;for(C in g)if(g.hasOwnProperty(C)){var V=g[C];if(V!=null)switch(C){case"src":w=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,f));default:Ua(l,f,C,V,g,null)}}A&&Ua(l,f,"srcSet",g.srcSet,g,null),w&&Ua(l,f,"src",g.src,g,null);return;case"input":Qr("invalid",l);var ce=C=V=A=null,Ee=null,Ge=null;for(w in g)if(g.hasOwnProperty(w)){var it=g[w];if(it!=null)switch(w){case"name":A=it;break;case"type":V=it;break;case"checked":Ee=it;break;case"defaultChecked":Ge=it;break;case"value":C=it;break;case"defaultValue":ce=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,f));break;default:Ua(l,f,w,it,g,null)}}vm(l,C,ce,Ee,Ge,V,A,!1);return;case"select":Qr("invalid",l),w=V=C=null;for(A in g)if(g.hasOwnProperty(A)&&(ce=g[A],ce!=null))switch(A){case"value":C=ce;break;case"defaultValue":V=ce;break;case"multiple":w=ce;default:Ua(l,f,A,ce,g,null)}f=C,g=V,l.multiple=!!w,f!=null?is(l,!!w,f,!1):g!=null&&is(l,!!w,g,!0);return;case"textarea":Qr("invalid",l),C=A=w=null;for(V in g)if(g.hasOwnProperty(V)&&(ce=g[V],ce!=null))switch(V){case"value":w=ce;break;case"defaultValue":A=ce;break;case"children":C=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(a(91));break;default:Ua(l,f,V,ce,g,null)}Cf(l,w,A,C);return;case"option":for(Ee in g)if(g.hasOwnProperty(Ee)&&(w=g[Ee],w!=null))switch(Ee){case"selected":l.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ua(l,f,Ee,w,g,null)}return;case"dialog":Qr("beforetoggle",l),Qr("toggle",l),Qr("cancel",l),Qr("close",l);break;case"iframe":case"object":Qr("load",l);break;case"video":case"audio":for(w=0;w<lx.length;w++)Qr(lx[w],l);break;case"image":Qr("error",l),Qr("load",l);break;case"details":Qr("toggle",l);break;case"embed":case"source":case"link":Qr("error",l),Qr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in g)if(g.hasOwnProperty(Ge)&&(w=g[Ge],w!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,f));default:Ua(l,f,Ge,w,g,null)}return;default:if(Pf(f)){for(it in g)g.hasOwnProperty(it)&&(w=g[it],w!==void 0&&G5(l,f,it,w,g,void 0));return}}for(ce in g)g.hasOwnProperty(ce)&&(w=g[ce],w!=null&&Ua(l,f,ce,w,g,null))}function zW(l,f,g,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,V=null,ce=null,Ee=null,Ge=null,it=null;for(et in g){var ut=g[et];if(g.hasOwnProperty(et)&&ut!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Ee=ut;default:w.hasOwnProperty(et)||Ua(l,f,et,null,w,ut)}}for(var Je in w){var et=w[Je];if(ut=g[Je],w.hasOwnProperty(Je)&&(et!=null||ut!=null))switch(Je){case"type":C=et;break;case"name":A=et;break;case"checked":Ge=et;break;case"defaultChecked":it=et;break;case"value":V=et;break;case"defaultValue":ce=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,f));break;default:et!==ut&&Ua(l,f,Je,et,w,ut)}}Af(l,V,ce,Ee,Ge,it,C,A);return;case"select":et=V=ce=Je=null;for(C in g)if(Ee=g[C],g.hasOwnProperty(C)&&Ee!=null)switch(C){case"value":break;case"multiple":et=Ee;default:w.hasOwnProperty(C)||Ua(l,f,C,null,w,Ee)}for(A in w)if(C=w[A],Ee=g[A],w.hasOwnProperty(A)&&(C!=null||Ee!=null))switch(A){case"value":Je=C;break;case"defaultValue":ce=C;break;case"multiple":V=C;default:C!==Ee&&Ua(l,f,A,C,w,Ee)}f=ce,g=V,w=et,Je!=null?is(l,!!g,Je,!1):!!w!=!!g&&(f!=null?is(l,!!g,f,!0):is(l,!!g,g?[]:"",!1));return;case"textarea":et=Je=null;for(ce in g)if(A=g[ce],g.hasOwnProperty(ce)&&A!=null&&!w.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:Ua(l,f,ce,null,w,A)}for(V in w)if(A=w[V],C=g[V],w.hasOwnProperty(V)&&(A!=null||C!=null))switch(V){case"value":Je=A;break;case"defaultValue":et=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:A!==C&&Ua(l,f,V,A,w,C)}Ef(l,Je,et);return;case"option":for(var Ht in g)if(Je=g[Ht],g.hasOwnProperty(Ht)&&Je!=null&&!w.hasOwnProperty(Ht))switch(Ht){case"selected":l.selected=!1;break;default:Ua(l,f,Ht,null,w,Je)}for(Ee in w)if(Je=w[Ee],et=g[Ee],w.hasOwnProperty(Ee)&&Je!==et&&(Je!=null||et!=null))switch(Ee){case"selected":l.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Ua(l,f,Ee,Je,w,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xr in g)Je=g[xr],g.hasOwnProperty(xr)&&Je!=null&&!w.hasOwnProperty(xr)&&Ua(l,f,xr,null,w,Je);for(Ge in w)if(Je=w[Ge],et=g[Ge],w.hasOwnProperty(Ge)&&Je!==et&&(Je!=null||et!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(a(137,f));break;default:Ua(l,f,Ge,Je,w,et)}return;default:if(Pf(f)){for(var za in g)Je=g[za],g.hasOwnProperty(za)&&Je!==void 0&&!w.hasOwnProperty(za)&&G5(l,f,za,void 0,w,Je);for(it in w)Je=w[it],et=g[it],!w.hasOwnProperty(it)||Je===et||Je===void 0&&et===void 0||G5(l,f,it,Je,w,et);return}}for(var Ie in g)Je=g[Ie],g.hasOwnProperty(Ie)&&Je!=null&&!w.hasOwnProperty(Ie)&&Ua(l,f,Ie,null,w,Je);for(ut in w)Je=w[ut],et=g[ut],!w.hasOwnProperty(ut)||Je===et||Je==null&&et==null||Ua(l,f,ut,Je,w,et)}function cE(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qW(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,g=performance.getEntriesByType("resource"),w=0;w<g.length;w++){var A=g[w],C=A.transferSize,V=A.initiatorType,ce=A.duration;if(C&&ce&&cE(V)){for(V=0,ce=A.responseEnd,w+=1;w<g.length;w++){var Ee=g[w],Ge=Ee.startTime;if(Ge>ce)break;var it=Ee.transferSize,ut=Ee.initiatorType;it&&cE(ut)&&(Ee=Ee.responseEnd,V+=it*(Ee<ce?1:(ce-Ge)/(Ee-Ge)))}if(--w,f+=8*(C+V)/(A.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Y5=null,X5=null;function ay(l){return l.nodeType===9?l:l.ownerDocument}function uE(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dE(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function Q5(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var J5=null;function $W(){var l=window.event;return l&&l.type==="popstate"?l===J5?!1:(J5=l,!0):(J5=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,HW=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,WW=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(l){return hE.resolve(null).then(l).catch(VW)}:fE;function VW(l){setTimeout(function(){throw l})}function Dd(l){return l==="head"}function mE(l,f){var g=f,w=0;do{var A=g.nextSibling;if(l.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"||g==="/&"){if(w===0){l.removeChild(A),sp(f);return}w--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")w++;else if(g==="html")ux(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,ux(g);for(var C=g.firstChild;C;){var V=C.nextSibling,ce=C.nodeName;C[Ve]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&C.rel.toLowerCase()==="stylesheet"||g.removeChild(C),C=V}}else g==="body"&&ux(l.ownerDocument.body);g=A}while(g);sp(f)}function pE(l,f){var g=l;l=0;do{var w=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=w}while(g)}function Z5(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Z5(g),mt(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function KW(l,f,g,w){for(;l.nodeType===1;){var A=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(w){if(!l[Ve])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=Tl(l.nextSibling),l===null)break}return null}function GW(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Tl(l.nextSibling),l===null))return null;return l}function gE(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=Tl(l.nextSibling),l===null))return null;return l}function ek(l){return l.data==="$?"||l.data==="$~"}function tk(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function YW(l,f){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||g.readyState!=="loading")f();else{var w=function(){f(),g.removeEventListener("DOMContentLoaded",w)};g.addEventListener("DOMContentLoaded",w),l._reactRetry=w}}function Tl(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var rk=null;function xE(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(f===0)return Tl(l.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}l=l.nextSibling}return null}function vE(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return l;f--}else g!=="/$"&&g!=="/&"||f++}l=l.previousSibling}return null}function yE(l,f,g){switch(f=ay(g),l){case"html":if(l=f.documentElement,!l)throw Error(a(452));return l;case"head":if(l=f.head,!l)throw Error(a(453));return l;case"body":if(l=f.body,!l)throw Error(a(454));return l;default:throw Error(a(451))}}function ux(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);mt(l)}var El=new Map,bE=new Set;function ny(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var d0=ae.d;ae.d={f:XW,r:QW,D:JW,C:ZW,L:eV,m:tV,X:aV,S:rV,M:nV};function XW(){var l=d0.f(),f=Yv();return l||f}function QW(l){var f=Et(l);f!==null&&f.tag===5&&f.type==="form"?IA(f):d0.r(l)}var ap=typeof document>"u"?null:document;function wE(l,f,g){var w=ap;if(w&&typeof f=="string"&&f){var A=zi(f);A='link[rel="'+l+'"][href="'+A+'"]',typeof g=="string"&&(A+='[crossorigin="'+g+'"]'),bE.has(A)||(bE.add(A),l={rel:l,crossOrigin:g,href:f},w.querySelector(A)===null&&(f=w.createElement("link"),us(f,"link",l),Bt(f),w.head.appendChild(f)))}}function JW(l){d0.D(l),wE("dns-prefetch",l,null)}function ZW(l,f){d0.C(l,f),wE("preconnect",l,f)}function eV(l,f,g){d0.L(l,f,g);var w=ap;if(w&&l&&f){var A='link[rel="preload"][as="'+zi(f)+'"]';f==="image"&&g&&g.imageSrcSet?(A+='[imagesrcset="'+zi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(A+='[imagesizes="'+zi(g.imageSizes)+'"]')):A+='[href="'+zi(l)+'"]';var C=A;switch(f){case"style":C=np(l);break;case"script":C=ip(l)}El.has(C)||(l=m({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),El.set(C,l),w.querySelector(A)!==null||f==="style"&&w.querySelector(dx(C))||f==="script"&&w.querySelector(fx(C))||(f=w.createElement("link"),us(f,"link",l),Bt(f),w.head.appendChild(f)))}}function tV(l,f){d0.m(l,f);var g=ap;if(g&&l){var w=f&&typeof f.as=="string"?f.as:"script",A='link[rel="modulepreload"][as="'+zi(w)+'"][href="'+zi(l)+'"]',C=A;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=ip(l)}if(!El.has(C)&&(l=m({rel:"modulepreload",href:l},f),El.set(C,l),g.querySelector(A)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(fx(C)))return}w=g.createElement("link"),us(w,"link",l),Bt(w),g.head.appendChild(w)}}}function rV(l,f,g){d0.S(l,f,g);var w=ap;if(w&&l){var A=_t(w).hoistableStyles,C=np(l);f=f||"default";var V=A.get(C);if(!V){var ce={loading:0,preload:null};if(V=w.querySelector(dx(C)))ce.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":f},g),(g=El.get(C))&&ak(l,g);var Ee=V=w.createElement("link");Bt(Ee),us(Ee,"link",l),Ee._p=new Promise(function(Ge,it){Ee.onload=Ge,Ee.onerror=it}),Ee.addEventListener("load",function(){ce.loading|=1}),Ee.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,iy(V,f,w)}V={type:"stylesheet",instance:V,count:1,state:ce},A.set(C,V)}}}function aV(l,f){d0.X(l,f);var g=ap;if(g&&l){var w=_t(g).hoistableScripts,A=ip(l),C=w.get(A);C||(C=g.querySelector(fx(A)),C||(l=m({src:l,async:!0},f),(f=El.get(A))&&nk(l,f),C=g.createElement("script"),Bt(C),us(C,"link",l),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},w.set(A,C))}}function nV(l,f){d0.M(l,f);var g=ap;if(g&&l){var w=_t(g).hoistableScripts,A=ip(l),C=w.get(A);C||(C=g.querySelector(fx(A)),C||(l=m({src:l,async:!0,type:"module"},f),(f=El.get(A))&&nk(l,f),C=g.createElement("script"),Bt(C),us(C,"link",l),g.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},w.set(A,C))}}function kE(l,f,g,w){var A=(A=re.current)?ny(A):null;if(!A)throw Error(a(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=np(g.href),g=_t(A).hoistableStyles,w=g.get(f),w||(w={type:"style",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=np(g.href);var C=_t(A).hoistableStyles,V=C.get(l);if(V||(A=A.ownerDocument||A,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,V),(C=A.querySelector(dx(l)))&&!C._p&&(V.instance=C,V.state.loading=5),El.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},El.set(l,g),C||iV(A,l,g,V.state))),f&&w===null)throw Error(a(528,""));return V}if(f&&w!==null)throw Error(a(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=ip(g),g=_t(A).hoistableScripts,w=g.get(f),w||(w={type:"script",instance:null,count:0,state:null},g.set(f,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,l))}}function np(l){return'href="'+zi(l)+'"'}function dx(l){return'link[rel="stylesheet"]['+l+"]"}function _E(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function iV(l,f,g,w){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?w.loading=1:(f=l.createElement("link"),w.preload=f,f.addEventListener("load",function(){return w.loading|=1}),f.addEventListener("error",function(){return w.loading|=2}),us(f,"link",g),Bt(f),l.head.appendChild(f))}function ip(l){return'[src="'+zi(l)+'"]'}function fx(l){return"script[async]"+l}function SE(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var w=l.querySelector('style[data-href~="'+zi(g.href)+'"]');if(w)return f.instance=w,Bt(w),w;var A=m({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(l.ownerDocument||l).createElement("style"),Bt(w),us(w,"style",A),iy(w,g.precedence,l),f.instance=w;case"stylesheet":A=np(g.href);var C=l.querySelector(dx(A));if(C)return f.state.loading|=4,f.instance=C,Bt(C),C;w=_E(g),(A=El.get(A))&&ak(w,A),C=(l.ownerDocument||l).createElement("link"),Bt(C);var V=C;return V._p=new Promise(function(ce,Ee){V.onload=ce,V.onerror=Ee}),us(C,"link",w),f.state.loading|=4,iy(C,g.precedence,l),f.instance=C;case"script":return C=ip(g.src),(A=l.querySelector(fx(C)))?(f.instance=A,Bt(A),A):(w=g,(A=El.get(C))&&(w=m({},g),nk(w,A)),l=l.ownerDocument||l,A=l.createElement("script"),Bt(A),us(A,"link",w),l.head.appendChild(A),f.instance=A);case"void":return null;default:throw Error(a(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,iy(w,g.precedence,l));return f.instance}function iy(l,f,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=w.length?w[w.length-1]:null,C=A,V=0;V<w.length;V++){var ce=w[V];if(ce.dataset.precedence===f)C=ce;else if(C!==A)break}C?C.parentNode.insertBefore(l,C.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function ak(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function nk(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var sy=null;function NE(l,f,g){if(sy===null){var w=new Map,A=sy=new Map;A.set(g,w)}else A=sy,w=A.get(g),w||(w=new Map,A.set(g,w));if(w.has(l))return w;for(w.set(l,null),g=g.getElementsByTagName(l),A=0;A<g.length;A++){var C=g[A];if(!(C[Ve]||C[pe]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var V=C.getAttribute(f)||"";V=l+V;var ce=w.get(V);ce?ce.push(C):w.set(V,[C])}}return w}function jE(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function sV(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function AE(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function oV(l,f,g,w){if(g.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var A=np(w.href),C=f.querySelector(dx(A));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=oy.bind(l),f.then(l,l)),g.state.loading|=4,g.instance=C,Bt(C);return}C=f.ownerDocument||f,w=_E(w),(A=El.get(A))&&ak(w,A),C=C.createElement("link"),Bt(C);var V=C;V._p=new Promise(function(ce,Ee){V.onload=ce,V.onerror=Ee}),us(C,"link",w),g.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=oy.bind(l),f.addEventListener("load",g),f.addEventListener("error",g))}}var ik=0;function lV(l,f){return l.stylesheets&&l.count===0&&cy(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var w=setTimeout(function(){if(l.stylesheets&&cy(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+f);0<l.imgBytes&&ik===0&&(ik=62500*qW());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&cy(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>ik?50:800)+f);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(w),clearTimeout(A)}}:null}function oy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cy(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var ly=null;function cy(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,ly=new Map,f.forEach(cV,l),ly=null,oy.call(l))}function cV(l,f){if(!(f.state.loading&4)){var g=ly.get(l);if(g)var w=g.get(null);else{g=new Map,ly.set(l,g);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var V=A[C];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),w=V)}w&&g.set(null,w)}A=f.instance,V=A.getAttribute("data-precedence"),C=g.get(V)||w,C===w&&g.set(null,A),g.set(V,A),this.count++,w=oy.bind(this),A.addEventListener("load",w),A.addEventListener("error",w),C?C.parentNode.insertBefore(A,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),f.state.loading|=4}}var hx={$$typeof:_,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function uV(l,f,g,w,A,C,V,ce,Ee){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=w,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function TE(l,f,g,w,A,C,V,ce,Ee,Ge,it,ut){return l=new uV(l,f,g,V,Ee,Ge,it,ut,ce),f=1,C===!0&&(f|=24),C=Hi(3,null,null,f),l.current=C,C.stateNode=l,f=wd(),f.refCount++,l.pooledCache=f,f.refCount++,C.memoizedState={element:w,isDehydrated:g,cache:f},jt(C),l}function EE(l){return l?(l=Ni,l):Ni}function CE(l,f,g,w,A,C){A=EE(A),w.context===null?w.context=A:w.pendingContext=A,w=pr(f),w.payload={element:g},C=C===void 0?null:C,C!==null&&(w.callback=C),g=Lr(l,w,f),g!==null&&(No(g,l,f),ya(g,l,f))}function OE(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function sk(l,f){OE(l,f),(l=l.alternate)&&OE(l,f)}function PE(l){if(l.tag===13||l.tag===31){var f=mc(l,67108864);f!==null&&No(f,l,67108864),sk(l,67108864)}}function DE(l){if(l.tag===13||l.tag===31){var f=Ko();f=Ma(f);var g=mc(l,f);g!==null&&No(g,l,f),sk(l,f)}}var uy=!0;function dV(l,f,g,w){var A=X.T;X.T=null;var C=ae.p;try{ae.p=2,ok(l,f,g,w)}finally{ae.p=C,X.T=A}}function fV(l,f,g,w){var A=X.T;X.T=null;var C=ae.p;try{ae.p=8,ok(l,f,g,w)}finally{ae.p=C,X.T=A}}function ok(l,f,g,w){if(uy){var A=lk(w);if(A===null)K5(l,f,w,dy,g),ME(l,w);else if(mV(A,l,f,g,w))w.stopPropagation();else if(ME(l,w),f&4&&-1<hV.indexOf(l)){for(;A!==null;){var C=Et(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var V=Mt(C.pendingLanes);if(V!==0){var ce=C;for(ce.pendingLanes|=2,ce.entangledLanes|=2;V;){var Ee=1<<31-Tr(V);ce.entanglements[1]|=Ee,V&=~Ee}lu(C),(wa&6)===0&&(Kv=Dt()+500,ox(0))}}break;case 31:case 13:ce=mc(C,2),ce!==null&&No(ce,C,2),Yv(),sk(C,2)}if(C=lk(w),C===null&&K5(l,f,w,dy,g),C===A)break;A=C}A!==null&&w.stopPropagation()}else K5(l,f,w,null,g)}}function lk(l){return l=Bu(l),ck(l)}var dy=null;function ck(l){if(dy=null,l=yt(l),l!==null){var f=i(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=s(f),l!==null)return l;l=null}else if(g===31){if(l=o(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return dy=l,null}function LE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(er()){case ar:return 2;case $r:return 8;case qt:case Lt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var uk=!1,Ld=null,Md=null,Rd=null,mx=new Map,px=new Map,Id=[],hV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(l,f){switch(l){case"focusin":case"focusout":Ld=null;break;case"dragenter":case"dragleave":Md=null;break;case"mouseover":case"mouseout":Rd=null;break;case"pointerover":case"pointerout":mx.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":px.delete(f.pointerId)}}function gx(l,f,g,w,A,C){return l===null||l.nativeEvent!==C?(l={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:C,targetContainers:[A]},f!==null&&(f=Et(f),f!==null&&PE(f)),l):(l.eventSystemFlags|=w,f=l.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),l)}function mV(l,f,g,w,A){switch(f){case"focusin":return Ld=gx(Ld,l,f,g,w,A),!0;case"dragenter":return Md=gx(Md,l,f,g,w,A),!0;case"mouseover":return Rd=gx(Rd,l,f,g,w,A),!0;case"pointerover":var C=A.pointerId;return mx.set(C,gx(mx.get(C)||null,l,f,g,w,A)),!0;case"gotpointercapture":return C=A.pointerId,px.set(C,gx(px.get(C)||null,l,f,g,w,A)),!0}return!1}function RE(l){var f=yt(l.target);if(f!==null){var g=i(f);if(g!==null){if(f=g.tag,f===13){if(f=s(g),f!==null){l.blockedOn=f,ke(l.priority,function(){DE(g)});return}}else if(f===31){if(f=o(g),f!==null){l.blockedOn=f,ke(l.priority,function(){DE(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fy(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=lk(l.nativeEvent);if(g===null){g=l.nativeEvent;var w=new g.constructor(g.type,g);tc=w,g.target.dispatchEvent(w),tc=null}else return f=Et(g),f!==null&&PE(f),l.blockedOn=g,!1;f.shift()}return!0}function IE(l,f,g){fy(l)&&g.delete(f)}function pV(){uk=!1,Ld!==null&&fy(Ld)&&(Ld=null),Md!==null&&fy(Md)&&(Md=null),Rd!==null&&fy(Rd)&&(Rd=null),mx.forEach(IE),px.forEach(IE)}function hy(l,f){l.blockedOn===f&&(l.blockedOn=null,uk||(uk=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pV)))}var my=null;function FE(l){my!==l&&(my=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){my===l&&(my=null);for(var f=0;f<l.length;f+=3){var g=l[f],w=l[f+1],A=l[f+2];if(typeof w!="function"){if(ck(w||g)===null)continue;break}var C=Et(g);C!==null&&(l.splice(f,3),f-=3,l5(C,{pending:!0,data:A,method:g.method,action:w},w,A))}}))}function sp(l){function f(Ee){return hy(Ee,l)}Ld!==null&&hy(Ld,l),Md!==null&&hy(Md,l),Rd!==null&&hy(Rd,l),mx.forEach(f),px.forEach(f);for(var g=0;g<Id.length;g++){var w=Id[g];w.blockedOn===l&&(w.blockedOn=null)}for(;0<Id.length&&(g=Id[0],g.blockedOn===null);)RE(g),g.blockedOn===null&&Id.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var A=g[w],C=g[w+1],V=A[xe]||null;if(typeof C=="function")V||FE(g);else if(V){var ce=null;if(C&&C.hasAttribute("formAction")){if(A=C,V=C[xe]||null)ce=V.formAction;else if(ck(A)!==null)continue}else ce=V.action;typeof ce=="function"?g[w+1]=ce:(g.splice(w,3),w-=3),FE(g)}}}function BE(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(V){return A=V})},focusReset:"manual",scroll:"manual"})}function f(){A!==null&&(A(),A=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var w=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){w=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),A!==null&&(A(),A=null)}}}function dk(l){this._internalRoot=l}py.prototype.render=dk.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(a(409));var g=f.current,w=Ko();CE(g,w,l,f,null,null)},py.prototype.unmount=dk.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;CE(l.current,2,null,l,null,null),Yv(),f[Se]=null}};function py(l){this._internalRoot=l}py.prototype.unstable_scheduleHydration=function(l){if(l){var f=te();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Id.length&&f!==0&&f<Id[g].priority;g++);Id.splice(g,0,l),g===0&&RE(l)}};var UE=t.version;if(UE!=="19.2.0")throw Error(a(527,UE,"19.2.0"));ae.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=d(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var gV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{Ft=gy.inject(gV),At=gy}catch{}}return vx.createRoot=function(l,f){if(!n(l))throw Error(a(299));var g=!1,w="",A=KA,C=GA,V=YA;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=TE(l,1,!1,null,null,g,w,null,A,C,V,BE),l[Se]=f.current,V5(l),new dk(f)},vx.hydrateRoot=function(l,f,g){if(!n(l))throw Error(a(299));var w=!1,A="",C=KA,V=GA,ce=YA,Ee=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(A=g.identifierPrefix),g.onUncaughtError!==void 0&&(C=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(ce=g.onRecoverableError),g.formState!==void 0&&(Ee=g.formState)),f=TE(l,1,!0,f,g??null,w,A,Ee,C,V,ce,BE),f.context=EE(null),g=f.current,w=Ko(),w=Ma(w),A=pr(w),A.callback=null,Lr(g,A,w),g=w,f.current.lanes=g,nr(f,g),lu(f),l[Se]=f.current,V5(l),new py(f)},vx.version="19.2.0",vx}var QE;function EV(){if(QE)return pk.exports;QE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pk.exports=TV(),pk.exports}var CV=EV();const OV=Fc(CV);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var JE="popstate";function PV(e={}){function t(n,i){let{pathname:s="/",search:o="",hash:c=""}=sm(n.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Y_("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){let s=n.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let c=n.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:r1(i))}function a(n,i){Vl(n.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return LV(t,r,a,e)}function kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DV(){return Math.random().toString(36).substring(2,10)}function ZE(e,t){return{usr:e.state,key:e.key,idx:t}}function Y_(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sm(t):t,state:r,key:t&&t.key||a||DV()}}function r1({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function LV(e,t,r,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,s=n.history,o="POP",c=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function m(){o="POP";let b=h(),k=b==null?null:b-d;d=b,c&&c({action:o,location:v.location,delta:k})}function x(b,k){o="PUSH";let N=Y_(v.location,b,k);r&&r(N,b),d=h()+1;let _=ZE(N,d),T=v.createHref(N);try{s.pushState(_,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;n.location.assign(T)}i&&c&&c({action:o,location:v.location,delta:1})}function p(b,k){o="REPLACE";let N=Y_(v.location,b,k);r&&r(N,b),d=h();let _=ZE(N,d),T=v.createHref(N);s.replaceState(_,"",T),i&&c&&c({action:o,location:v.location,delta:0})}function y(b){return MV(b)}let v={get action(){return o},get location(){return e(n,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(JE,m),c=b,()=>{n.removeEventListener(JE,m),c=null}},createHref(b){return t(n,b)},createURL:y,encodeLocation(b){let k=y(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:p,go(b){return s.go(b)}};return v}function MV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),kn(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:r1(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function J9(e,t,r="/"){return RV(e,t,r,!1)}function RV(e,t,r,a){let n=typeof t=="string"?sm(t):t,i=F0(n.pathname||"/",r);if(i==null)return null;let s=Z9(e);IV(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=GV(i);o=VV(s[c],d,a)}return o}function Z9(e,t=[],r=[],a="",n=!1){let i=(s,o,c=n,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&c)return;kn(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let m=T0([a,h.relativePath]),x=r.concat(h);s.children&&s.children.length>0&&(kn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Z9(s.children,t,x,m,c)),!(s.path==null&&!s.index)&&t.push({path:m,score:HV(m,s.index),routesMeta:x})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let d of eM(s.path))i(s,o,!0,d)}),t}function eM(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let s=eM(a.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function IV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WV(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var FV=/^:[\w-]+$/,BV=3,UV=2,zV=1,qV=10,$V=-2,eC=e=>e==="*";function HV(e,t){let r=e.split("/"),a=r.length;return r.some(eC)&&(a+=$V),t&&(a+=UV),r.filter(n=>!eC(n)).reduce((n,i)=>n+(FV.test(i)?BV:i===""?zV:qV),a)}function WV(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function VV(e,t,r=!1){let{routesMeta:a}=e,n={},i="/",s=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Nb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),x=c.route;if(!m&&d&&r&&!a[a.length-1].route.index&&(m=Nb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(n,m.params),s.push({params:n,pathname:T0([i,m.pathname]),pathnameBase:JV(T0([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=T0([i,m.pathnameBase]))}return s}function Nb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=KV(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],s=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,{paramName:h,isOptional:m},x)=>{if(h==="*"){let y=o[x]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[x];return m&&!p?d[h]=void 0:d[h]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:e}}function KV(e,t=!1,r=!0){Vl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function GV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function F0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function YV(e,t="/"){let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?sm(e):e;return{pathname:r?r.startsWith("/")?r:XV(r,t):t,search:ZV(a),hash:eK(n)}}function XV(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function yk(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rN(e){let t=QV(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function aN(e,t,r,a=!1){let n;typeof e=="string"?n=sm(e):(n={...e},kn(!n.pathname||!n.pathname.includes("?"),yk("?","pathname","search",n)),kn(!n.pathname||!n.pathname.includes("#"),yk("#","pathname","hash",n)),kn(!n.search||!n.search.includes("#"),yk("#","search","hash",n)));let i=e===""||n.pathname==="",s=i?"/":n.pathname,o;if(s==null)o=r;else{let m=t.length-1;if(!a&&s.startsWith("..")){let x=s.split("/");for(;x[0]==="..";)x.shift(),m-=1;n.pathname=x.join("/")}o=m>=0?t[m]:"/"}let c=YV(n,o),d=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var T0=e=>e.join("/").replace(/\/\/+/g,"/"),JV=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tM=["POST","PUT","PATCH","DELETE"];new Set(tM);var rK=["GET",...tM];new Set(rK);var fg=j.createContext(null);fg.displayName="DataRouter";var $2=j.createContext(null);$2.displayName="DataRouterState";j.createContext(!1);var rM=j.createContext({isTransitioning:!1});rM.displayName="ViewTransition";var aK=j.createContext(new Map);aK.displayName="Fetchers";var nK=j.createContext(null);nK.displayName="Await";var Bc=j.createContext(null);Bc.displayName="Navigation";var q1=j.createContext(null);q1.displayName="Location";var Pu=j.createContext({outlet:null,matches:[],isDataRoute:!1});Pu.displayName="Route";var nN=j.createContext(null);nN.displayName="RouteError";function iK(e,{relative:t}={}){kn(hg(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(Bc),{hash:n,pathname:i,search:s}=$1(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:T0([r,i])),a.createHref({pathname:o,search:s,hash:n})}function hg(){return j.useContext(q1)!=null}function K0(){return kn(hg(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(q1).location}var aM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nM(e){j.useContext(Bc).static||j.useLayoutEffect(e)}function iN(){let{isDataRoute:e}=j.useContext(Pu);return e?vK():sK()}function sK(){kn(hg(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(fg),{basename:t,navigator:r}=j.useContext(Bc),{matches:a}=j.useContext(Pu),{pathname:n}=K0(),i=JSON.stringify(rN(a)),s=j.useRef(!1);return nM(()=>{s.current=!0}),j.useCallback((c,d={})=>{if(Vl(s.current,aM),!s.current)return;if(typeof c=="number"){r.go(c);return}let h=aN(c,JSON.parse(i),n,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:T0([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,n,e])}j.createContext(null);function $1(e,{relative:t}={}){let{matches:r}=j.useContext(Pu),{pathname:a}=K0(),n=JSON.stringify(rN(r));return j.useMemo(()=>aN(e,JSON.parse(n),a,t==="path"),[e,n,a,t])}function oK(e,t){return iM(e,t)}function iM(e,t,r,a,n){var N;kn(hg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(Bc),{matches:s}=j.useContext(Pu),o=s[s.length-1],c=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let _=m&&m.path||"";sM(d,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=K0(),p;if(t){let _=typeof t=="string"?sm(t):t;kn(h==="/"||((N=_.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=x;let y=p.pathname||"/",v=y;if(h!=="/"){let _=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=J9(e,{pathname:v});Vl(m||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Vl(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=fK(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:T0([h,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:T0([h,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),s,r,a,n);return t&&k?j.createElement(q1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},k):k}function lK(){let e=xK(),t=tK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:n},r):null,s)}var cK=j.createElement(lK,null),uK=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Pu.Provider,{value:this.props.routeContext},j.createElement(nN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dK({routeContext:e,match:t,children:r}){let a=j.useContext(fg);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Pu.Provider,{value:e},r)}function fK(e,t=[],r=null,a=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);kn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:x}=r,p=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||p){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let x,p=!1,y=null,v=null;r&&(x=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||cK,o&&(c<0&&m===0?(sM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):c===m&&(p=!0,v=h.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,m+1)),k=()=>{let N;return x?N=y:p?N=v:h.route.Component?N=j.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,j.createElement(dK,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?j.createElement(uK,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:a}):k()},null)}function sN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hK(e){let t=j.useContext(fg);return kn(t,sN(e)),t}function mK(e){let t=j.useContext($2);return kn(t,sN(e)),t}function pK(e){let t=j.useContext(Pu);return kn(t,sN(e)),t}function oN(e){let t=pK(e),r=t.matches[t.matches.length-1];return kn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function gK(){return oN("useRouteId")}function xK(){var a;let e=j.useContext(nN),t=mK("useRouteError"),r=oN("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[r]}function vK(){let{router:e}=hK("useNavigate"),t=oN("useNavigate"),r=j.useRef(!1);return nM(()=>{r.current=!0}),j.useCallback(async(n,i={})=>{Vl(r.current,aM),r.current&&(typeof n=="number"?e.navigate(n):await e.navigate(n,{fromRouteId:t,...i}))},[e,t])}var tC={};function sM(e,t,r){!t&&!tC[e]&&(tC[e]=!0,Vl(!1,r))}j.memo(yK);function yK({routes:e,future:t,state:r,unstable_onError:a}){return iM(e,void 0,r,a,t)}function oM({to:e,replace:t,state:r,relative:a}){kn(hg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=j.useContext(Bc);Vl(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Pu),{pathname:s}=K0(),o=iN(),c=aN(e,rN(i),s,a==="path"),d=JSON.stringify(c);return j.useEffect(()=>{o(JSON.parse(d),{replace:t,state:r,relative:a})},[o,d,a,t,r]),null}function qn(e){kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bK({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:n,static:i=!1}){kn(!hg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=j.useMemo(()=>({basename:s,navigator:n,static:i,future:{}}),[s,n,i]);typeof r=="string"&&(r=sm(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:x="default"}=r,p=j.useMemo(()=>{let y=F0(c,s);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:x},navigationType:a}},[s,c,d,h,m,x,a]);return Vl(p!=null,`<Router basename="${s}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:j.createElement(Bc.Provider,{value:o},j.createElement(q1.Provider,{children:t,value:p}))}function rC({children:e,location:t}){return oK(X_(e),t)}function X_(e,t=[]){let r=[];return j.Children.forEach(e,(a,n)=>{if(!j.isValidElement(a))return;let i=[...t,n];if(a.type===j.Fragment){r.push.apply(r,X_(a.props.children,i));return}kn(a.type===qn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kn(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=X_(a.props.children,i)),r.push(s)}),r}var fb="get",hb="application/x-www-form-urlencoded";function H2(e){return e!=null&&typeof e.tagName=="string"}function wK(e){return H2(e)&&e.tagName.toLowerCase()==="button"}function kK(e){return H2(e)&&e.tagName.toLowerCase()==="form"}function _K(e){return H2(e)&&e.tagName.toLowerCase()==="input"}function SK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function NK(e,t){return e.button===0&&(!t||t==="_self")&&!SK(e)}var vy=null;function jK(){if(vy===null)try{new FormData(document.createElement("form"),0),vy=!1}catch{vy=!0}return vy}var AK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bk(e){return e!=null&&!AK.has(e)?(Vl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hb}"`),null):e}function TK(e,t){let r,a,n,i,s;if(kK(e)){let o=e.getAttribute("action");a=o?F0(o,t):null,r=e.getAttribute("method")||fb,n=bk(e.getAttribute("enctype"))||hb,i=new FormData(e)}else if(wK(e)||_K(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(a=c?F0(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||fb,n=bk(e.getAttribute("formenctype"))||bk(o.getAttribute("enctype"))||hb,i=new FormData(o,e),!jK()){let{name:d,type:h,value:m}=e;if(h==="image"){let x=d?`${d}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else d&&i.append(d,m)}}else{if(H2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fb,a=null,n=hb,s=e}return i&&n==="text/plain"&&(s=i,i=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EK(e,t,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${r}`:t&&F0(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function CK(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function PK(e,t,r){let a=await Promise.all(e.map(async n=>{let i=t.routes[n.route.id];if(i){let s=await CK(i,r);return s.links?s.links():[]}return[]}));return RK(a.flat(1).filter(OK).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function aC(e,t,r,a,n,i){let s=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>{var h;return r[d].pathname!==c.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>s(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{var m;let h=a.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function DK(e,t,{includeHydrateFallback:r}={}){return LK(e.map(a=>{let n=t.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function LK(e){return[...new Set(e)]}function MK(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function RK(e,t){let r=new Set;return new Set(t),e.reduce((a,n)=>{let i=JSON.stringify(MK(n));return r.has(i)||(r.add(i),a.push({key:i,link:n})),a},[])}function lM(){let e=j.useContext(fg);return lN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function IK(){let e=j.useContext($2);return lN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cN=j.createContext(void 0);cN.displayName="FrameworkContext";function cM(){let e=j.useContext(cN);return lN(e,"You must render this element inside a <HydratedRouter> element"),e}function FK(e,t){let r=j.useContext(cN),[a,n]=j.useState(!1),[i,s]=j.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,x=j.useRef(null);j.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=k=>{k.forEach(N=>{s(N.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return x.current&&b.observe(x.current),()=>{b.disconnect()}}},[e]),j.useEffect(()=>{if(a){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[a]);let p=()=>{n(!0)},y=()=>{n(!1),s(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:yx(o,p),onBlur:yx(c,y),onMouseEnter:yx(d,p),onMouseLeave:yx(h,y),onTouchStart:yx(m,p)}]:[!1,x,{}]}function yx(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function BK({page:e,...t}){let{router:r}=lM(),a=j.useMemo(()=>J9(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?j.createElement(zK,{page:e,matches:a,...t}):null}function UK(e){let{manifest:t,routeModules:r}=cM(),[a,n]=j.useState([]);return j.useEffect(()=>{let i=!1;return PK(e,t,r).then(s=>{i||n(s)}),()=>{i=!0}},[e,t,r]),a}function zK({page:e,matches:t,...r}){let a=K0(),{manifest:n,routeModules:i}=cM(),{basename:s}=lM(),{loaderData:o,matches:c}=IK(),d=j.useMemo(()=>aC(e,t,c,n,a,"data"),[e,t,c,n,a]),h=j.useMemo(()=>aC(e,t,c,n,a,"assets"),[e,t,c,n,a]),m=j.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let y=new Set,v=!1;if(t.forEach(k=>{var _;let N=n.routes[k.route.id];!N||!N.hasLoader||(!d.some(T=>T.route.id===k.route.id)&&k.route.id in o&&((_=i[k.route.id])!=null&&_.shouldRevalidate)||N.hasClientLoader?v=!0:y.add(k.route.id))}),y.size===0)return[];let b=EK(e,s,"data");return v&&y.size>0&&b.searchParams.set("_routes",t.filter(k=>y.has(k.route.id)).map(k=>k.route.id).join(",")),[b.pathname+b.search]},[s,o,a,n,d,t,e,i]),x=j.useMemo(()=>DK(h,n),[h,n]),p=UK(h);return j.createElement(j.Fragment,null,m.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),p.map(({key:y,link:v})=>j.createElement("link",{key:y,nonce:r.nonce,...v})))}function qK(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var uM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uM&&(window.__reactRouterVersion="7.9.5")}catch{}function $K({basename:e,children:t,window:r}){let a=j.useRef();a.current==null&&(a.current=PV({window:r,v5Compat:!0}));let n=a.current,[i,s]=j.useState({action:n.action,location:n.location}),o=j.useCallback(c=>{j.startTransition(()=>s(c))},[s]);return j.useLayoutEffect(()=>n.listen(o),[n,o]),j.createElement(bK,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}var dM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H1=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:n,reloadDocument:i,replace:s,state:o,target:c,to:d,preventScrollReset:h,viewTransition:m,...x},p){let{basename:y}=j.useContext(Bc),v=typeof d=="string"&&dM.test(d),b,k=!1;if(typeof d=="string"&&v&&(b=d,uM))try{let I=new URL(window.location.href),K=d.startsWith("//")?new URL(I.protocol+d):new URL(d),D=F0(K.pathname,y);K.origin===I.origin&&D!=null?d=D+K.search+K.hash:k=!0}catch{Vl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=iK(d,{relative:n}),[_,T,P]=FK(a,x),O=KK(d,{replace:s,state:o,target:c,preventScrollReset:h,relative:n,viewTransition:m});function L(I){t&&t(I),I.defaultPrevented||O(I)}let U=j.createElement("a",{...x,...P,href:b||N,onClick:k||i?t:L,ref:qK(p,T),target:c,"data-discover":!v&&r==="render"?"true":void 0});return _&&!v?j.createElement(j.Fragment,null,U,j.createElement(BK,{page:N})):U});H1.displayName="Link";var HK=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:n=!1,style:i,to:s,viewTransition:o,children:c,...d},h){let m=$1(s,{relative:d.relative}),x=K0(),p=j.useContext($2),{navigator:y,basename:v}=j.useContext(Bc),b=p!=null&&JK(m)&&o===!0,k=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,N=x.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(N=N.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&v&&(_=F0(_,v)||_);const T=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=N===k||!n&&N.startsWith(k)&&N.charAt(T)==="/",O=_!=null&&(_===k||!n&&_.startsWith(k)&&_.charAt(k.length)==="/"),L={isActive:P,isPending:O,isTransitioning:b},U=P?t:void 0,I;typeof a=="function"?I=a(L):I=[a,P?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let K=typeof i=="function"?i(L):i;return j.createElement(H1,{...d,"aria-current":U,className:I,ref:h,style:K,to:s,viewTransition:o},typeof c=="function"?c(L):c)});HK.displayName="NavLink";var WK=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:n,state:i,method:s=fb,action:o,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...x},p)=>{let y=XK(),v=QK(o,{relative:d}),b=s.toLowerCase()==="get"?"get":"post",k=typeof o=="string"&&dM.test(o),N=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let T=_.nativeEvent.submitter,P=(T==null?void 0:T.getAttribute("formmethod"))||s;y(T||_.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:n,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return j.createElement("form",{ref:p,method:b,action:v,onSubmit:a?c:N,...x,"data-discover":!k&&e==="render"?"true":void 0})});WK.displayName="Form";function VK(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fM(e){let t=j.useContext(fg);return kn(t,VK(e)),t}function KK(e,{target:t,replace:r,state:a,preventScrollReset:n,relative:i,viewTransition:s}={}){let o=iN(),c=K0(),d=$1(e,{relative:i});return j.useCallback(h=>{if(NK(h,t)){h.preventDefault();let m=r!==void 0?r:r1(c)===r1(d);o(e,{replace:m,state:a,preventScrollReset:n,relative:i,viewTransition:s})}},[c,o,d,r,a,t,e,n,i,s])}var GK=0,YK=()=>`__${String(++GK)}__`;function XK(){let{router:e}=fM("useSubmit"),{basename:t}=j.useContext(Bc),r=gK();return j.useCallback(async(a,n={})=>{let{action:i,method:s,encType:o,formData:c,body:d}=TK(a,t);if(n.navigate===!1){let h=n.fetcherKey||YK();await e.fetch(h,r,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||s,formEncType:n.encType||o,flushSync:n.flushSync})}else await e.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||s,formEncType:n.encType||o,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,t,r])}function QK(e,{relative:t}={}){let{basename:r}=j.useContext(Bc),a=j.useContext(Pu);kn(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...$1(e||".",{relative:t})},s=K0();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:T0([r,i.pathname])),r1(i)}function JK(e,{relative:t}={}){let r=j.useContext(rM);kn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=fM("useViewTransitionState"),n=$1(e,{relative:t});if(!r.isTransitioning)return!1;let i=F0(r.currentLocation.pathname,a)||r.currentLocation.pathname,s=F0(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Nb(n.pathname,s)!=null||Nb(n.pathname,i)!=null}var hM=Q9(),mg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Gd,tN,B9,eG=(B9=class{constructor(){lr(this,Gd,ZK);lr(this,tN,!1)}setTimeoutProvider(e){Ot(this,Gd,e)}setTimeout(e,t){return Ce(this,Gd).setTimeout(e,t)}clearTimeout(e){Ce(this,Gd).clearTimeout(e)}setInterval(e,t){return Ce(this,Gd).setInterval(e,t)}clearInterval(e){Ce(this,Gd).clearInterval(e)}},Gd=new WeakMap,tN=new WeakMap,B9),uh=new eG;function tG(e){setTimeout(e,0)}var Rh=typeof window>"u"||"Deno"in globalThis;function Xs(){}function rG(e,t){return typeof e=="function"?e(t):e}function Q_(e){return typeof e=="number"&&e>=0&&e!==1/0}function mM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function of(e,t){return typeof e=="function"?e(t):e}function zl(e,t){return typeof e=="function"?e(t):e}function nC(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:s,stale:o}=e;if(s){if(a){if(t.queryHash!==uN(s,t.options))return!1}else if(!a1(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function iC(e,t){const{exact:r,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ih(t.options.mutationKey)!==Ih(i))return!1}else if(!a1(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function uN(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ih)(e)}function Ih(e){return JSON.stringify(e,(t,r)=>J_(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function a1(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>a1(e[r],t[r])):!1}var aG=Object.prototype.hasOwnProperty;function dN(e,t){if(e===t)return e;const r=sC(e)&&sC(t);if(!r&&!(J_(e)&&J_(t)))return t;const n=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let c=0;for(let d=0;d<s;d++){const h=r?d:i[d],m=e[h],x=t[h];if(m===x){o[h]=m,(r?d<n:aG.call(e,h))&&c++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){o[h]=x;continue}const p=dN(m,x);o[h]=p,p===m&&c++}return n===s&&c===n?e:o}function jb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function J_(e){if(!oC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!oC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oC(e){return Object.prototype.toString.call(e)==="[object Object]"}function nG(e){return new Promise(t=>{uh.setTimeout(t,e)})}function Z_(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?dN(e,t):t}function iG(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function sG(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var fN=Symbol();function pM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gM(e,t){return typeof e=="function"?e(...t):!!e}var xh,Yd,qp,U9,oG=(U9=class extends mg{constructor(){super();lr(this,xh);lr(this,Yd);lr(this,qp);Ot(this,qp,t=>{if(!Rh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ce(this,Yd)||this.setEventListener(Ce(this,qp))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,Yd))==null||t.call(this),Ot(this,Yd,void 0))}setEventListener(t){var r;Ot(this,qp,t),(r=Ce(this,Yd))==null||r.call(this),Ot(this,Yd,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Ce(this,xh)!==t&&(Ot(this,xh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ce(this,xh)=="boolean"?Ce(this,xh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xh=new WeakMap,Yd=new WeakMap,qp=new WeakMap,U9),hN=new oG;function e3(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}var lG=tG;function cG(){let e=[],t=0,r=o=>{o()},a=o=>{o()},n=lG;const i=o=>{t?e.push(o):n(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&n(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{n=o}}}var ti=cG(),$p,Xd,Hp,z9,uG=(z9=class extends mg{constructor(){super();lr(this,$p,!0);lr(this,Xd);lr(this,Hp);Ot(this,Hp,t=>{if(!Rh&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Ce(this,Xd)||this.setEventListener(Ce(this,Hp))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,Xd))==null||t.call(this),Ot(this,Xd,void 0))}setEventListener(t){var r;Ot(this,Hp,t),(r=Ce(this,Xd))==null||r.call(this),Ot(this,Xd,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,$p)!==t&&(Ot(this,$p,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Ce(this,$p)}},$p=new WeakMap,Xd=new WeakMap,Hp=new WeakMap,z9),Ab=new uG;function dG(e){return Math.min(1e3*2**e,3e4)}function xM(e){return(e??"online")==="online"?Ab.isOnline():!0}var t3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vM(e){let t=!1,r=0,a;const n=e3(),i=()=>n.status!=="pending",s=v=>{var b;if(!i()){const k=new t3(v);x(k),(b=e.onCancel)==null||b.call(e,k)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>hN.isFocused()&&(e.networkMode==="always"||Ab.isOnline())&&e.canRun(),h=()=>xM(e.networkMode)&&e.canRun(),m=v=>{i()||(a==null||a(),n.resolve(v))},x=v=>{i()||(a==null||a(),n.reject(v))},p=()=>new Promise(v=>{var b;a=k=>{(i()||d())&&v(k)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;a=void 0,i()||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(i())return;let v;const b=r===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(k){v=Promise.reject(k)}Promise.resolve(v).then(m).catch(k=>{var O;if(i())return;const N=e.retry??(Rh?0:3),_=e.retryDelay??dG,T=typeof _=="function"?_(r,k):_,P=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,k);if(t||!P){x(k);return}r++,(O=e.onFail)==null||O.call(e,r,k),nG(T).then(()=>d()?void 0:p()).then(()=>{t?x(k):y()})})};return{promise:n,status:()=>n.status,cancel:s,continue:()=>(a==null||a(),n),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?y():p().then(y),n)}}var vh,q9,yM=(q9=class{constructor(){lr(this,vh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Q_(this.gcTime)&&Ot(this,vh,uh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rh?1/0:300*1e3))}clearGcTimeout(){Ce(this,vh)&&(uh.clearTimeout(Ce(this,vh)),Ot(this,vh,void 0))}},vh=new WeakMap,q9),yh,Wp,Bl,bh,Gi,I1,wh,Ac,m0,$9,fG=($9=class extends yM{constructor(t){super();lr(this,Ac);lr(this,yh);lr(this,Wp);lr(this,Bl);lr(this,bh);lr(this,Gi);lr(this,I1);lr(this,wh);Ot(this,wh,!1),Ot(this,I1,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ot(this,bh,t.client),Ot(this,Bl,Ce(this,bh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ot(this,yh,cC(this.options)),this.state=t.state??Ce(this,yh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ce(this,Gi))==null?void 0:t.promise}setOptions(t){if(this.options={...Ce(this,I1),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=cC(this.options);r.data!==void 0&&(this.setState(lC(r.data,r.dataUpdatedAt)),Ot(this,yh,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,Bl).remove(this)}setData(t,r){const a=Z_(this.state.data,t,this.options);return zr(this,Ac,m0).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){zr(this,Ac,m0).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=Ce(this,Gi))==null?void 0:a.promise;return(n=Ce(this,Gi))==null||n.cancel(t),r?r.then(Xs).catch(Xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,yh))}isActive(){return this.observers.some(t=>zl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>of(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!mM(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,Gi))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,Gi))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,Bl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ce(this,Gi)&&(Ce(this,wh)?Ce(this,Gi).cancel({revert:!0}):Ce(this,Gi).cancelRetry()),this.scheduleGc()),Ce(this,Bl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zr(this,Ac,m0).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,h,m,x,p,y,v,b,k,N,_;if(this.state.fetchStatus!=="idle"&&((c=Ce(this,Gi))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,Gi))return Ce(this,Gi).continueRetry(),Ce(this,Gi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const T=this.observers.find(P=>P.options.queryFn);T&&this.setOptions(T.options)}const a=new AbortController,n=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(Ot(this,wh,!0),a.signal)})},i=()=>{const T=pM(this.options,r),O=(()=>{const L={client:Ce(this,bh),queryKey:this.queryKey,meta:this.meta};return n(L),L})();return Ot(this,wh,!1),this.options.persister?this.options.persister(T,O,this):T(O)},o=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ce(this,bh),state:this.state,fetchFn:i};return n(T),T})();(d=this.options.behavior)==null||d.onFetch(o,this),Ot(this,Wp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&zr(this,Ac,m0).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta}),Ot(this,Gi,vM({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:T=>{T instanceof t3&&T.revert&&this.setState({...Ce(this,Wp),fetchStatus:"idle"}),a.abort()},onFail:(T,P)=>{zr(this,Ac,m0).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{zr(this,Ac,m0).call(this,{type:"pause"})},onContinue:()=>{zr(this,Ac,m0).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const T=await Ce(this,Gi).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(p=(x=Ce(this,Bl).config).onSuccess)==null||p.call(x,T,this),(v=(y=Ce(this,Bl).config).onSettled)==null||v.call(y,T,this.state.error,this),T}catch(T){if(T instanceof t3){if(T.silent)return Ce(this,Gi).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw zr(this,Ac,m0).call(this,{type:"error",error:T}),(k=(b=Ce(this,Bl).config).onError)==null||k.call(b,T,this),(_=(N=Ce(this,Bl).config).onSettled)==null||_.call(N,this.state.data,T,this),T}finally{this.scheduleGc()}}},yh=new WeakMap,Wp=new WeakMap,Bl=new WeakMap,bh=new WeakMap,Gi=new WeakMap,I1=new WeakMap,wh=new WeakMap,Ac=new WeakSet,m0=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...bM(a.data,this.options),fetchMeta:t.meta??null};case"success":const n={...a,...lC(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ot(this,Wp,t.manual?n:void 0),n;case"error":const i=t.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),ti.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Ce(this,Bl).notify({query:this,type:"updated",action:t})})},$9);function bM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lC(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jo,aa,F1,Gs,kh,Vp,x0,Qd,B1,Kp,Gp,_h,Sh,Jd,Yp,Sa,Dx,r3,a3,n3,i3,s3,o3,l3,wM,H9,hG=(H9=class extends mg{constructor(t,r){super();lr(this,Sa);lr(this,jo);lr(this,aa);lr(this,F1);lr(this,Gs);lr(this,kh);lr(this,Vp);lr(this,x0);lr(this,Qd);lr(this,B1);lr(this,Kp);lr(this,Gp);lr(this,_h);lr(this,Sh);lr(this,Jd);lr(this,Yp,new Set);this.options=r,Ot(this,jo,t),Ot(this,Qd,null),Ot(this,x0,e3()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ce(this,aa).addObserver(this),uC(Ce(this,aa),this.options)?zr(this,Sa,Dx).call(this):this.updateResult(),zr(this,Sa,i3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c3(Ce(this,aa),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c3(Ce(this,aa),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,zr(this,Sa,s3).call(this),zr(this,Sa,o3).call(this),Ce(this,aa).removeObserver(this)}setOptions(t){const r=this.options,a=Ce(this,aa);if(this.options=Ce(this,jo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zl(this.options.enabled,Ce(this,aa))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");zr(this,Sa,l3).call(this),Ce(this,aa).setOptions(this.options),r._defaulted&&!jb(this.options,r)&&Ce(this,jo).getQueryCache().notify({type:"observerOptionsUpdated",query:Ce(this,aa),observer:this});const n=this.hasListeners();n&&dC(Ce(this,aa),a,this.options,r)&&zr(this,Sa,Dx).call(this),this.updateResult(),n&&(Ce(this,aa)!==a||zl(this.options.enabled,Ce(this,aa))!==zl(r.enabled,Ce(this,aa))||of(this.options.staleTime,Ce(this,aa))!==of(r.staleTime,Ce(this,aa)))&&zr(this,Sa,r3).call(this);const i=zr(this,Sa,a3).call(this);n&&(Ce(this,aa)!==a||zl(this.options.enabled,Ce(this,aa))!==zl(r.enabled,Ce(this,aa))||i!==Ce(this,Jd))&&zr(this,Sa,n3).call(this,i)}getOptimisticResult(t){const r=Ce(this,jo).getQueryCache().build(Ce(this,jo),t),a=this.createResult(r,t);return pG(this,a)&&(Ot(this,Gs,a),Ot(this,Vp,this.options),Ot(this,kh,Ce(this,aa).state)),a}getCurrentResult(){return Ce(this,Gs)}trackResult(t,r){return new Proxy(t,{get:(a,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Ce(this,x0).status==="pending"&&Ce(this,x0).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(t){Ce(this,Yp).add(t)}getCurrentQuery(){return Ce(this,aa)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ce(this,jo).defaultQueryOptions(t),a=Ce(this,jo).getQueryCache().build(Ce(this,jo),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return zr(this,Sa,Dx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ce(this,Gs)))}createResult(t,r){var I;const a=Ce(this,aa),n=this.options,i=Ce(this,Gs),s=Ce(this,kh),o=Ce(this,Vp),d=t!==a?t.state:Ce(this,F1),{state:h}=t;let m={...h},x=!1,p;if(r._optimisticResults){const K=this.hasListeners(),D=!K&&uC(t,r),F=K&&dC(t,a,r,n);(D||F)&&(m={...m,...bM(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:b}=m;p=m.data;let k=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let K;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(K=i.data,k=!0):K=typeof r.placeholderData=="function"?r.placeholderData((I=Ce(this,Gp))==null?void 0:I.state.data,Ce(this,Gp)):r.placeholderData,K!==void 0&&(b="success",p=Z_(i==null?void 0:i.data,K,r),x=!0)}if(r.select&&p!==void 0&&!k)if(i&&p===(s==null?void 0:s.data)&&r.select===Ce(this,B1))p=Ce(this,Kp);else try{Ot(this,B1,r.select),p=r.select(p),p=Z_(i==null?void 0:i.data,p,r),Ot(this,Kp,p),Ot(this,Qd,null)}catch(K){Ot(this,Qd,K)}Ce(this,Qd)&&(y=Ce(this,Qd),p=Ce(this,Kp),v=Date.now(),b="error");const N=m.fetchStatus==="fetching",_=b==="pending",T=b==="error",P=_&&N,O=p!==void 0,U={status:b,fetchStatus:m.fetchStatus,isPending:_,isSuccess:b==="success",isError:T,isInitialLoading:P,isLoading:P,data:p,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:N,isRefetching:N&&!_,isLoadingError:T&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:T&&O,isStale:mN(t,r),refetch:this.refetch,promise:Ce(this,x0),isEnabled:zl(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const K=H=>{U.status==="error"?H.reject(U.error):U.data!==void 0&&H.resolve(U.data)},D=()=>{const H=Ot(this,x0,U.promise=e3());K(H)},F=Ce(this,x0);switch(F.status){case"pending":t.queryHash===a.queryHash&&K(F);break;case"fulfilled":(U.status==="error"||U.data!==F.value)&&D();break;case"rejected":(U.status!=="error"||U.error!==F.reason)&&D();break}}return U}updateResult(){const t=Ce(this,Gs),r=this.createResult(Ce(this,aa),this.options);if(Ot(this,kh,Ce(this,aa).state),Ot(this,Vp,this.options),Ce(this,kh).data!==void 0&&Ot(this,Gp,Ce(this,aa)),jb(r,t))return;Ot(this,Gs,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!Ce(this,Yp).size)return!0;const s=new Set(i??Ce(this,Yp));return this.options.throwOnError&&s.add("error"),Object.keys(Ce(this,Gs)).some(o=>{const c=o;return Ce(this,Gs)[c]!==t[c]&&s.has(c)})};zr(this,Sa,wM).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&zr(this,Sa,i3).call(this)}},jo=new WeakMap,aa=new WeakMap,F1=new WeakMap,Gs=new WeakMap,kh=new WeakMap,Vp=new WeakMap,x0=new WeakMap,Qd=new WeakMap,B1=new WeakMap,Kp=new WeakMap,Gp=new WeakMap,_h=new WeakMap,Sh=new WeakMap,Jd=new WeakMap,Yp=new WeakMap,Sa=new WeakSet,Dx=function(t){zr(this,Sa,l3).call(this);let r=Ce(this,aa).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Xs)),r},r3=function(){zr(this,Sa,s3).call(this);const t=of(this.options.staleTime,Ce(this,aa));if(Rh||Ce(this,Gs).isStale||!Q_(t))return;const a=mM(Ce(this,Gs).dataUpdatedAt,t)+1;Ot(this,_h,uh.setTimeout(()=>{Ce(this,Gs).isStale||this.updateResult()},a))},a3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ce(this,aa)):this.options.refetchInterval)??!1},n3=function(t){zr(this,Sa,o3).call(this),Ot(this,Jd,t),!(Rh||zl(this.options.enabled,Ce(this,aa))===!1||!Q_(Ce(this,Jd))||Ce(this,Jd)===0)&&Ot(this,Sh,uh.setInterval(()=>{(this.options.refetchIntervalInBackground||hN.isFocused())&&zr(this,Sa,Dx).call(this)},Ce(this,Jd)))},i3=function(){zr(this,Sa,r3).call(this),zr(this,Sa,n3).call(this,zr(this,Sa,a3).call(this))},s3=function(){Ce(this,_h)&&(uh.clearTimeout(Ce(this,_h)),Ot(this,_h,void 0))},o3=function(){Ce(this,Sh)&&(uh.clearInterval(Ce(this,Sh)),Ot(this,Sh,void 0))},l3=function(){const t=Ce(this,jo).getQueryCache().build(Ce(this,jo),this.options);if(t===Ce(this,aa))return;const r=Ce(this,aa);Ot(this,aa,t),Ot(this,F1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},wM=function(t){ti.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ce(this,Gs))}),Ce(this,jo).getQueryCache().notify({query:Ce(this,aa),type:"observerResultsUpdated"})})},H9);function mG(e,t){return zl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uC(e,t){return mG(e,t)||e.state.data!==void 0&&c3(e,t,t.refetchOnMount)}function c3(e,t,r){if(zl(t.enabled,e)!==!1&&of(t.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&mN(e,t)}return!1}function dC(e,t,r,a){return(e!==t||zl(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&mN(e,r)}function mN(e,t){return zl(t.enabled,e)!==!1&&e.isStaleByTime(of(t.staleTime,e))}function pG(e,t){return!jb(e.getCurrentResult(),t)}function fC(e){return{onFetch:(t,r)=>{var h,m,x,p,y;const a=t.options,n=(x=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const b=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},k=pM(t.options,t.fetchOptions),N=async(_,T,P)=>{if(v)return Promise.reject();if(T==null&&_.pages.length)return Promise.resolve(_);const L=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:T,direction:P?"backward":"forward",meta:t.options.meta};return b(D),D})(),U=await k(L),{maxPages:I}=t.options,K=P?sG:iG;return{pages:K(_.pages,U,I),pageParams:K(_.pageParams,T,I)}};if(n&&i.length){const _=n==="backward",T=_?gG:hC,P={pages:i,pageParams:s},O=T(a,P);o=await N(P,O,_)}else{const _=e??i.length;do{const T=c===0?s[0]??a.initialPageParam:hC(a,o);if(c>0&&T==null)break;o=await N(o,T),c++}while(c<_)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function hC(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function gG(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var U1,xu,Ys,Nh,vu,$d,W9,xG=(W9=class extends yM{constructor(t){super();lr(this,vu);lr(this,U1);lr(this,xu);lr(this,Ys);lr(this,Nh);Ot(this,U1,t.client),this.mutationId=t.mutationId,Ot(this,Ys,t.mutationCache),Ot(this,xu,[]),this.state=t.state||kM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,xu).includes(t)||(Ce(this,xu).push(t),this.clearGcTimeout(),Ce(this,Ys).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ot(this,xu,Ce(this,xu).filter(r=>r!==t)),this.scheduleGc(),Ce(this,Ys).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,xu).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,Ys).remove(this))}continue(){var t;return((t=Ce(this,Nh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,c,d,h,m,x,p,y,v,b,k,N,_,T,P,O,L,U,I;const r=()=>{zr(this,vu,$d).call(this,{type:"continue"})},a={client:Ce(this,U1),meta:this.options.meta,mutationKey:this.options.mutationKey};Ot(this,Nh,vM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(K,D)=>{zr(this,vu,$d).call(this,{type:"failed",failureCount:K,error:D})},onPause:()=>{zr(this,vu,$d).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,Ys).canRun(this)}));const n=this.state.status==="pending",i=!Ce(this,Nh).canStart();try{if(n)r();else{zr(this,vu,$d).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=Ce(this,Ys).config).onMutate)==null?void 0:o.call(s,t,this,a));const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,a));D!==this.state.context&&zr(this,vu,$d).call(this,{type:"pending",context:D,variables:t,isPaused:i})}const K=await Ce(this,Nh).start();return await((m=(h=Ce(this,Ys).config).onSuccess)==null?void 0:m.call(h,K,t,this.state.context,this,a)),await((p=(x=this.options).onSuccess)==null?void 0:p.call(x,K,t,this.state.context,a)),await((v=(y=Ce(this,Ys).config).onSettled)==null?void 0:v.call(y,K,null,this.state.variables,this.state.context,this,a)),await((k=(b=this.options).onSettled)==null?void 0:k.call(b,K,null,t,this.state.context,a)),zr(this,vu,$d).call(this,{type:"success",data:K}),K}catch(K){try{throw await((_=(N=Ce(this,Ys).config).onError)==null?void 0:_.call(N,K,t,this.state.context,this,a)),await((P=(T=this.options).onError)==null?void 0:P.call(T,K,t,this.state.context,a)),await((L=(O=Ce(this,Ys).config).onSettled)==null?void 0:L.call(O,void 0,K,this.state.variables,this.state.context,this,a)),await((I=(U=this.options).onSettled)==null?void 0:I.call(U,void 0,K,t,this.state.context,a)),K}finally{zr(this,vu,$d).call(this,{type:"error",error:K})}}finally{Ce(this,Ys).runNext(this)}}},U1=new WeakMap,xu=new WeakMap,Ys=new WeakMap,Nh=new WeakMap,vu=new WeakSet,$d=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ti.batch(()=>{Ce(this,xu).forEach(a=>{a.onMutationUpdate(t)}),Ce(this,Ys).notify({mutation:this,type:"updated",action:t})})},W9);function kM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var v0,Tc,z1,V9,vG=(V9=class extends mg{constructor(t={}){super();lr(this,v0);lr(this,Tc);lr(this,z1);this.config=t,Ot(this,v0,new Set),Ot(this,Tc,new Map),Ot(this,z1,0)}build(t,r,a){const n=new xG({client:t,mutationCache:this,mutationId:++xy(this,z1)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){Ce(this,v0).add(t);const r=yy(t);if(typeof r=="string"){const a=Ce(this,Tc).get(r);a?a.push(t):Ce(this,Tc).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ce(this,v0).delete(t)){const r=yy(t);if(typeof r=="string"){const a=Ce(this,Tc).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&Ce(this,Tc).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=yy(t);if(typeof r=="string"){const a=Ce(this,Tc).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const r=yy(t);if(typeof r=="string"){const n=(a=Ce(this,Tc).get(r))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ti.batch(()=>{Ce(this,v0).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ce(this,v0).clear(),Ce(this,Tc).clear()})}getAll(){return Array.from(Ce(this,v0))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>iC(r,a))}findAll(t={}){return this.getAll().filter(r=>iC(t,r))}notify(t){ti.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ti.batch(()=>Promise.all(t.map(r=>r.continue().catch(Xs))))}},v0=new WeakMap,Tc=new WeakMap,z1=new WeakMap,V9);function yy(e){var t;return(t=e.options.scope)==null?void 0:t.id}var y0,Zd,Ao,b0,I0,mb,u3,K9,yG=(K9=class extends mg{constructor(r,a){super();lr(this,I0);lr(this,y0);lr(this,Zd);lr(this,Ao);lr(this,b0);Ot(this,y0,r),this.setOptions(a),this.bindMethods(),zr(this,I0,mb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=Ce(this,y0).defaultMutationOptions(r),jb(this.options,a)||Ce(this,y0).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ce(this,Ao),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Ih(a.mutationKey)!==Ih(this.options.mutationKey)?this.reset():((n=Ce(this,Ao))==null?void 0:n.state.status)==="pending"&&Ce(this,Ao).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ce(this,Ao))==null||r.removeObserver(this)}onMutationUpdate(r){zr(this,I0,mb).call(this),zr(this,I0,u3).call(this,r)}getCurrentResult(){return Ce(this,Zd)}reset(){var r;(r=Ce(this,Ao))==null||r.removeObserver(this),Ot(this,Ao,void 0),zr(this,I0,mb).call(this),zr(this,I0,u3).call(this)}mutate(r,a){var n;return Ot(this,b0,a),(n=Ce(this,Ao))==null||n.removeObserver(this),Ot(this,Ao,Ce(this,y0).getMutationCache().build(Ce(this,y0),this.options)),Ce(this,Ao).addObserver(this),Ce(this,Ao).execute(r)}},y0=new WeakMap,Zd=new WeakMap,Ao=new WeakMap,b0=new WeakMap,I0=new WeakSet,mb=function(){var a;const r=((a=Ce(this,Ao))==null?void 0:a.state)??kM();Ot(this,Zd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},u3=function(r){ti.batch(()=>{var a,n,i,s,o,c,d,h;if(Ce(this,b0)&&this.hasListeners()){const m=Ce(this,Zd).variables,x=Ce(this,Zd).context,p={client:Ce(this,y0),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(a=Ce(this,b0)).onSuccess)==null||n.call(a,r.data,m,x,p),(s=(i=Ce(this,b0)).onSettled)==null||s.call(i,r.data,null,m,x,p)):(r==null?void 0:r.type)==="error"&&((c=(o=Ce(this,b0)).onError)==null||c.call(o,r.error,m,x,p),(h=(d=Ce(this,b0)).onSettled)==null||h.call(d,void 0,r.error,m,x,p))}this.listeners.forEach(m=>{m(Ce(this,Zd))})})},K9),yu,G9,bG=(G9=class extends mg{constructor(t={}){super();lr(this,yu);this.config=t,Ot(this,yu,new Map)}build(t,r,a){const n=r.queryKey,i=r.queryHash??uN(n,r);let s=this.get(i);return s||(s=new fG({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){Ce(this,yu).has(t.queryHash)||(Ce(this,yu).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ce(this,yu).get(t.queryHash);r&&(t.destroy(),r===t&&Ce(this,yu).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ti.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,yu).get(t)}getAll(){return[...Ce(this,yu).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>nC(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>nC(t,a)):r}notify(t){ti.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ti.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ti.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},yu=new WeakMap,G9),$n,ef,tf,Xp,Qp,rf,Jp,Zp,Y9,wG=(Y9=class{constructor(e={}){lr(this,$n);lr(this,ef);lr(this,tf);lr(this,Xp);lr(this,Qp);lr(this,rf);lr(this,Jp);lr(this,Zp);Ot(this,$n,e.queryCache||new bG),Ot(this,ef,e.mutationCache||new vG),Ot(this,tf,e.defaultOptions||{}),Ot(this,Xp,new Map),Ot(this,Qp,new Map),Ot(this,rf,0)}mount(){xy(this,rf)._++,Ce(this,rf)===1&&(Ot(this,Jp,hN.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,$n).onFocus())})),Ot(this,Zp,Ab.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,$n).onOnline())})))}unmount(){var e,t;xy(this,rf)._--,Ce(this,rf)===0&&((e=Ce(this,Jp))==null||e.call(this),Ot(this,Jp,void 0),(t=Ce(this,Zp))==null||t.call(this),Ot(this,Zp,void 0))}isFetching(e){return Ce(this,$n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,ef).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,$n).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ce(this,$n).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(of(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Ce(this,$n).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=Ce(this,$n).get(a.queryHash),i=n==null?void 0:n.state.data,s=rG(t,i);if(s!==void 0)return Ce(this,$n).build(this,a).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ti.batch(()=>Ce(this,$n).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,$n).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ce(this,$n);ti.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ce(this,$n);return ti.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=ti.batch(()=>Ce(this,$n).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(Xs).catch(Xs)}invalidateQueries(e,t={}){return ti.batch(()=>(Ce(this,$n).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=ti.batch(()=>Ce(this,$n).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(Xs)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ce(this,$n).build(this,t);return r.isStaleByTime(of(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Xs).catch(Xs)}fetchInfiniteQuery(e){return e.behavior=fC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Xs).catch(Xs)}ensureInfiniteQueryData(e){return e.behavior=fC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ab.isOnline()?Ce(this,ef).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,$n)}getMutationCache(){return Ce(this,ef)}getDefaultOptions(){return Ce(this,tf)}setDefaultOptions(e){Ot(this,tf,e)}setQueryDefaults(e,t){Ce(this,Xp).set(Ih(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,Xp).values()],r={};return t.forEach(a=>{a1(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){Ce(this,Qp).set(Ih(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,Qp).values()],r={};return t.forEach(a=>{a1(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,tf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===fN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ce(this,tf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,$n).clear(),Ce(this,ef).clear()}},$n=new WeakMap,ef=new WeakMap,tf=new WeakMap,Xp=new WeakMap,Qp=new WeakMap,rf=new WeakMap,Jp=new WeakMap,Zp=new WeakMap,Y9),_M=j.createContext(void 0),so=e=>{const t=j.useContext(_M);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kG=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(_M.Provider,{value:e,children:t})),SM=j.createContext(!1),_G=()=>j.useContext(SM);SM.Provider;function SG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var NG=j.createContext(SG()),jG=()=>j.useContext(NG),AG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},TG=e=>{j.useEffect(()=>{e.clearReset()},[e])},EG=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||gM(r,[e.error,a])),CG=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OG=(e,t)=>e.isLoading&&e.isFetching&&!t,PG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function DG(e,t,r){var m,x,p,y,v;const a=_G(),n=jG(),i=so(r),s=i.defaultQueryOptions(e);(x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,s),s._optimisticResults=a?"isRestoring":"optimistic",CG(s),AG(s,n),TG(n);const o=!i.getQueryCache().get(s.queryHash),[c]=j.useState(()=>new t(i,s)),d=c.getOptimisticResult(s),h=!a&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const k=h?c.subscribe(ti.batchCalls(b)):Xs;return c.updateResult(),k},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(s)},[s,c]),PG(s,d))throw mC(s,c,n);if(EG({result:d,errorResetBoundary:n,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw d.error;if((y=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||y.call(p,s,d),s.experimental_prefetchInRender&&!Rh&&OG(d,a)){const b=o?mC(s,c,n):(v=i.getQueryCache().get(s.queryHash))==null?void 0:v.promise;b==null||b.catch(Xs).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?d:c.trackResult(d)}function pg(e,t){return DG(e,hG,t)}function LG(e,t){const r=so(t),a=r.getQueryCache();return j.useSyncExternalStore(j.useCallback(n=>a.subscribe(ti.batchCalls(n)),[a]),()=>r.isFetching(e),()=>r.isFetching(e))}function MG(e,t){const r=so(t);return RG({filters:{...e,status:"pending"}},r).length}function pC(e,t){return e.findAll(t.filters).map(r=>t.select?t.select(r):r.state)}function RG(e={},t){const r=so(t).getMutationCache(),a=j.useRef(e),n=j.useRef(null);return n.current===null&&(n.current=pC(r,e)),j.useEffect(()=>{a.current=e}),j.useSyncExternalStore(j.useCallback(i=>r.subscribe(()=>{const s=dN(n.current,pC(r,a.current));n.current!==s&&(n.current=s,ti.schedule(i))}),[r]),()=>n.current,()=>n.current)}function Du(e,t){const r=so(t),[a]=j.useState(()=>new yG(r,e));j.useEffect(()=>{a.setOptions(e)},[a,e]);const n=j.useSyncExternalStore(j.useCallback(s=>a.subscribe(ti.batchCalls(s)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=j.useCallback((s,o)=>{a.mutate(s,o).catch(Xs)},[a]);if(n.error&&gM(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}function NM(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=NM(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Br(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=NM(e))&&(a&&(a+=" "),a+=t);return a}function IG(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}IG(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var W1=e=>typeof e=="number"&&!isNaN(e),Fh=e=>typeof e=="string",B0=e=>typeof e=="function",FG=e=>Fh(e)||W1(e),d3=e=>Fh(e)||B0(e)?e:null,BG=(e,t)=>e===!1||W1(e)&&e>0?e:t,f3=e=>j.isValidElement(e)||Fh(e)||B0(e)||W1(e);function UG(e,t,r=300){let{scrollHeight:a,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=a+"px",n.transition=`all ${r}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)})})}function zG({enter:e,exit:t,appendPosition:r=!1,collapse:a=!0,collapseDuration:n=300}){return function({children:i,position:s,preventExitTransition:o,done:c,nodeRef:d,isIn:h,playToast:m}){let x=r?`${e}--${s}`:e,p=r?`${t}--${s}`:t,y=j.useRef(0);return j.useLayoutEffect(()=>{let v=d.current,b=x.split(" "),k=N=>{N.target===d.current&&(m(),v.removeEventListener("animationend",k),v.removeEventListener("animationcancel",k),y.current===0&&N.type!=="animationcancel"&&v.classList.remove(...b))};v.classList.add(...b),v.addEventListener("animationend",k),v.addEventListener("animationcancel",k)},[]),j.useEffect(()=>{let v=d.current,b=()=>{v.removeEventListener("animationend",b),a?UG(v,c,n):c()};h||(o?b():(y.current=1,v.className+=` ${p}`,v.addEventListener("animationend",b)))},[h]),Da.createElement(Da.Fragment,null,i)}}function gC(e,t){return{content:jM(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function jM(e,t,r=!1){return j.isValidElement(e)&&!Fh(e.type)?j.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):B0(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function qG({closeToast:e,theme:t,ariaLabel:r="close"}){return Da.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),e(!0)},"aria-label":r},Da.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Da.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $G({delay:e,isRunning:t,closeToast:r,type:a="default",hide:n,className:i,controlledProgress:s,progress:o,rtl:c,isIn:d,theme:h}){let m=n||s&&o===0,x={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};s&&(x.transform=`scaleX(${o})`);let p=Br("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":c}),y=B0(i)?i({rtl:c,type:a,defaultClassName:p}):Br(p,i),v={[s&&o>=1?"onTransitionEnd":"onAnimationEnd"]:s&&o<1?null:()=>{d&&r()}};return Da.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Da.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),Da.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:x,...v}))}var HG=1,AM=()=>`${HG++}`;function WG(e,t,r){let a=1,n=0,i=[],s=[],o=t,c=new Map,d=new Set,h=N=>(d.add(N),()=>d.delete(N)),m=()=>{s=Array.from(c.values()),d.forEach(N=>N())},x=({containerId:N,toastId:_,updateId:T})=>{let P=N?N!==e:e!==1,O=c.has(_)&&T==null;return P||O},p=(N,_)=>{c.forEach(T=>{var P;(_==null||_===T.props.toastId)&&((P=T.toggle)==null||P.call(T,N))})},y=N=>{var _,T;(T=(_=N.props)==null?void 0:_.onClose)==null||T.call(_,N.removalReason),N.isActive=!1},v=N=>{if(N==null)c.forEach(y);else{let _=c.get(N);_&&y(_)}m()},b=()=>{n-=i.length,i=[]},k=N=>{var _,T;let{toastId:P,updateId:O}=N.props,L=O==null;N.staleId&&c.delete(N.staleId),N.isActive=!0,c.set(P,N),m(),r(gC(N,L?"added":"updated")),L&&((T=(_=N.props).onOpen)==null||T.call(_))};return{id:e,props:o,observe:h,toggle:p,removeToast:v,toasts:c,clearQueue:b,buildToast:(N,_)=>{if(x(_))return;let{toastId:T,updateId:P,data:O,staleId:L,delay:U}=_,I=P==null;I&&n++;let K={...o,style:o.toastStyle,key:a++,...Object.fromEntries(Object.entries(_).filter(([F,H])=>H!=null)),toastId:T,updateId:P,data:O,isIn:!1,className:d3(_.className||o.toastClassName),progressClassName:d3(_.progressClassName||o.progressClassName),autoClose:_.isLoading?!1:BG(_.autoClose,o.autoClose),closeToast(F){c.get(T).removalReason=F,v(T)},deleteToast(){let F=c.get(T);if(F!=null){if(r(gC(F,"removed")),c.delete(T),n--,n<0&&(n=0),i.length>0){k(i.shift());return}m()}}};K.closeButton=o.closeButton,_.closeButton===!1||f3(_.closeButton)?K.closeButton=_.closeButton:_.closeButton===!0&&(K.closeButton=f3(o.closeButton)?o.closeButton:!0);let D={content:N,props:K,staleId:L};o.limit&&o.limit>0&&n>o.limit&&I?i.push(D):W1(U)?setTimeout(()=>{k(D)},U):k(D)},setProps(N){o=N},setToggle:(N,_)=>{let T=c.get(N);T&&(T.toggle=_)},isToastActive:N=>{var _;return(_=c.get(N))==null?void 0:_.isActive},getSnapshot:()=>s}}var to=new Map,n1=[],h3=new Set,VG=e=>h3.forEach(t=>t(e)),TM=()=>to.size>0;function KG(){n1.forEach(e=>CM(e.content,e.options)),n1=[]}var GG=(e,{containerId:t})=>{var r;return(r=to.get(t||1))==null?void 0:r.toasts.get(e)};function EM(e,t){var r;if(t)return!!((r=to.get(t))!=null&&r.isToastActive(e));let a=!1;return to.forEach(n=>{n.isToastActive(e)&&(a=!0)}),a}function YG(e){if(!TM()){n1=n1.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||FG(e))to.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=to.get(e.containerId);t?t.removeToast(e.id):to.forEach(r=>{r.removeToast(e.id)})}}var XG=(e={})=>{to.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function CM(e,t){f3(e)&&(TM()||n1.push({content:e,options:t}),to.forEach(r=>{r.buildToast(e,t)}))}function QG(e){var t;(t=to.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function OM(e,t){to.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function JG(e){let t=e.containerId||1;return{subscribe(r){let a=WG(t,e,VG);to.set(t,a);let n=a.observe(r);return KG(),()=>{n(),to.delete(t)}},setProps(r){var a;(a=to.get(t))==null||a.setProps(r)},getSnapshot(){var r;return(r=to.get(t))==null?void 0:r.getSnapshot()}}}function ZG(e){return h3.add(e),()=>{h3.delete(e)}}function eY(e){return e&&(Fh(e.toastId)||W1(e.toastId))?e.toastId:AM()}function V1(e,t){return CM(e,t),t.toastId}function W2(e,t){return{...t,type:t&&t.type||e,toastId:eY(t)}}function V2(e){return(t,r)=>V1(t,W2(e,r))}function ga(e,t){return V1(e,W2("default",t))}ga.loading=(e,t)=>V1(e,W2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function tY(e,{pending:t,error:r,success:a},n){let i;t&&(i=Fh(t)?ga.loading(t,n):ga.loading(t.render,{...n,...t}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(d,h,m)=>{if(h==null){ga.dismiss(i);return}let x={type:d,...s,...n,data:m},p=Fh(h)?{render:h}:h;return i?ga.update(i,{...x,...p}):ga(p.render,{...x,...p}),m},c=B0(e)?e():e;return c.then(d=>o("success",a,d)).catch(d=>o("error",r,d)),c}ga.promise=tY;ga.success=V2("success");ga.info=V2("info");ga.error=V2("error");ga.warning=V2("warning");ga.warn=ga.warning;ga.dark=(e,t)=>V1(e,W2("default",{theme:"dark",...t}));function rY(e){YG(e)}ga.dismiss=rY;ga.clearWaitingQueue=XG;ga.isActive=EM;ga.update=(e,t={})=>{let r=GG(e,t);if(r){let{props:a,content:n}=r,i={delay:100,...a,...t,toastId:t.toastId||e,updateId:AM()};i.toastId!==e&&(i.staleId=e);let s=i.render||n;delete i.render,V1(s,i)}};ga.done=e=>{ga.update(e,{progress:1})};ga.onChange=ZG;ga.play=e=>OM(!0,e);ga.pause=e=>OM(!1,e);function aY(e){var t;let{subscribe:r,getSnapshot:a,setProps:n}=j.useRef(JG(e)).current;n(e);let i=(t=j.useSyncExternalStore(r,a,a))==null?void 0:t.slice();function s(o){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(d=>{let{position:h}=d.props;c.has(h)||c.set(h,[]),c.get(h).push(d)}),Array.from(c,d=>o(d[0],d[1]))}return{getToastToRender:s,isToastActive:EM,count:i==null?void 0:i.length}}function nY(e){let[t,r]=j.useState(!1),[a,n]=j.useState(!1),i=j.useRef(null),s=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:c,closeToast:d,onClick:h,closeOnClick:m}=e;QG({id:e.toastId,containerId:e.containerId,fn:r}),j.useEffect(()=>{if(e.pauseOnFocusLoss)return x(),()=>{p()}},[e.pauseOnFocusLoss]);function x(){document.hasFocus()||k(),window.addEventListener("focus",b),window.addEventListener("blur",k)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",k)}function y(L){if(e.draggable===!0||e.draggable===L.pointerType){N();let U=i.current;s.canCloseOnClick=!0,s.canDrag=!0,U.style.transition="none",e.draggableDirection==="x"?(s.start=L.clientX,s.removalDistance=U.offsetWidth*(e.draggablePercent/100)):(s.start=L.clientY,s.removalDistance=U.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function v(L){let{top:U,bottom:I,left:K,right:D}=i.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&e.pauseOnHover&&L.clientX>=K&&L.clientX<=D&&L.clientY>=U&&L.clientY<=I?k():b()}function b(){r(!0)}function k(){r(!1)}function N(){s.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",P)}function _(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",P)}function T(L){let U=i.current;if(s.canDrag&&U){s.didMove=!0,t&&k(),e.draggableDirection==="x"?s.delta=L.clientX-s.start:s.delta=L.clientY-s.start,s.start!==L.clientX&&(s.canCloseOnClick=!1);let I=e.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`;U.style.transform=`translate3d(${I},0)`,U.style.opacity=`${1-Math.abs(s.delta/s.removalDistance)}`}}function P(){_();let L=i.current;if(s.canDrag&&s.didMove&&L){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance){n(!0),e.closeToast(!0),e.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let O={onPointerDown:y,onPointerUp:v};return o&&c&&(O.onMouseEnter=k,e.stacked||(O.onMouseLeave=b)),m&&(O.onClick=L=>{h&&h(L),s.canCloseOnClick&&d(!0)}),{playToast:b,pauseToast:k,isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:O}}var iY=typeof window<"u"?j.useLayoutEffect:j.useEffect,K2=({theme:e,type:t,isLoading:r,...a})=>Da.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function sY(e){return Da.createElement(K2,{...e},Da.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function oY(e){return Da.createElement(K2,{...e},Da.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function lY(e){return Da.createElement(K2,{...e},Da.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function cY(e){return Da.createElement(K2,{...e},Da.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function uY(){return Da.createElement("div",{className:"Toastify__spinner"})}var m3={info:oY,warning:sY,success:lY,error:cY,spinner:uY},dY=e=>e in m3;function fY({theme:e,type:t,isLoading:r,icon:a}){let n=null,i={theme:e,type:t};return a===!1||(B0(a)?n=a({...i,isLoading:r}):j.isValidElement(a)?n=j.cloneElement(a,i):r?n=m3.spinner():dY(t)&&(n=m3[t](i))),n}var hY=e=>{let{isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:n,playToast:i}=nY(e),{closeButton:s,children:o,autoClose:c,onClick:d,type:h,hideProgressBar:m,closeToast:x,transition:p,position:y,className:v,style:b,progressClassName:k,updateId:N,role:_,progress:T,rtl:P,toastId:O,deleteToast:L,isIn:U,isLoading:I,closeOnClick:K,theme:D,ariaLabel:F}=e,H=Br("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":K}),Y=B0(v)?v({rtl:P,position:y,type:h,defaultClassName:H}):Br(H,v),ne=fY(e),X=!!T||!c,ae={closeToast:x,type:h,theme:D},ue=null;return s===!1||(B0(s)?ue=s(ae):j.isValidElement(s)?ue=j.cloneElement(s,ae):ue=qG(ae)),Da.createElement(p,{isIn:U,done:L,position:y,preventExitTransition:r,nodeRef:a,playToast:i},Da.createElement("div",{id:O,tabIndex:0,onClick:d,"data-in":U,className:Y,...n,style:b,ref:a,...U&&{role:_,"aria-label":F}},ne!=null&&Da.createElement("div",{className:Br("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},ne),jM(o,e,!t),ue,!e.customProgressBar&&Da.createElement($G,{...N&&!X?{key:`p-${N}`}:{},rtl:P,theme:D,delay:c,isRunning:t,isIn:U,closeToast:x,hide:m,type:h,className:k,controlledProgress:X,progress:T||0})))},mY=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),pY=zG(mY("bounce",!0)),gY={position:"top-right",transition:pY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function xY(e){let t={...gY,...e},r=e.stacked,[a,n]=j.useState(!0),i=j.useRef(null),{getToastToRender:s,isToastActive:o,count:c}=aY(t),{className:d,style:h,rtl:m,containerId:x,hotKeys:p}=t;function y(b){let k=Br("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":m});return B0(d)?d({position:b,rtl:m,defaultClassName:k}):Br(k,d3(d))}function v(){r&&(n(!0),ga.play())}return iY(()=>{var b;if(r){let k=i.current.querySelectorAll('[data-in="true"]'),N=12,_=(b=t.position)==null?void 0:b.includes("top"),T=0,P=0;Array.from(k).reverse().forEach((O,L)=>{let U=O;U.classList.add("Toastify__toast--stacked"),L>0&&(U.dataset.collapsed=`${a}`),U.dataset.pos||(U.dataset.pos=_?"top":"bot");let I=T*(a?.2:1)+(a?0:N*L);U.style.setProperty("--y",`${_?I:I*-1}px`),U.style.setProperty("--g",`${N}`),U.style.setProperty("--s",`${1-(a?P:0)}`),T+=U.offsetHeight,P+=.025})}},[a,c,r]),j.useEffect(()=>{function b(k){var N;let _=i.current;p(k)&&((N=_.querySelector('[tabIndex="0"]'))==null||N.focus(),n(!1),ga.pause()),k.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(n(!0),ga.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),Da.createElement("section",{ref:i,className:"Toastify",id:x,onMouseEnter:()=>{r&&(n(!1),ga.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((b,k)=>{let N=k.length?{...h}:{...h,pointerEvents:"none"};return Da.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":r,style:N,key:`c-${b}`},k.map(({content:_,props:T})=>Da.createElement(hY,{...T,stacked:r,collapseAll:v,isIn:o(T.toastId,T.containerId),key:`t-${T.key}`},_)))}))}const bx={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},Nt={success:(e,t)=>{ga.success(e,{...bx,...t})},error:(e,t)=>{ga.error(e,{...bx,...t})},warning:(e,t)=>{ga.warning(e,{...bx,...t})},info:(e,t)=>{ga.info(e,{...bx,...t})},promise:(e,t,r)=>ga.promise(e,{pending:t.pending,success:t.success,error:t.error},{...bx,...r})};class vY extends Da.Component{constructor(){super(...arguments);ua(this,"state",{hasError:!1});ua(this,"handleReload",()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Unhandled UI error:",r,a),Nt.error(" xy ra li khng mong mun. Vui lng th li.")}render(){return this.state.hasError?this.props.fallback||u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-xl text-center max-w-md",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"C li xy ra"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Vui lng ti li trang hoc quay li sau."}),u.jsx("button",{onClick:this.handleReload,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Ti li trang"})]})}):this.props.children}}const yY=()=>{const e=LG(),t=MG(),r=e+t>0,[a,n]=j.useState(!1);return j.useEffect(()=>{if(r)n(!0);else{const i=setTimeout(()=>n(!1),300);return()=>clearTimeout(i)}},[r]),u.jsxs("div",{"aria-hidden":!a,className:"fixed top-0 left-0 right-0 z-[60] pointer-events-none",style:{opacity:a?1:0,transition:"opacity 0.2s ease"},children:[u.jsx("div",{className:"h-1 bg-gradient-to-r from-emerald-500 via-blue-500 to-fuchsia-500 animate-[progress_1.2s_linear_infinite]"}),u.jsx("style",{children:`
        @keyframes progress {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-[progress_1.2s_linear_infinite] {
          background-size: 200% 100%;
        }
      `})]})},bY="modulepreload",wY=function(e){return"/"+e},xC={},wk=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=s(r.map(d=>{if(d=wY(d),d in xC)return;xC[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":bY,h||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),h)return new Promise((p,y)=>{x.addEventListener("load",p),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return n.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var kY=function(){return null},p3=function(e,t){return p3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},p3(e,t)};function PM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");p3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Tb=function(){return Tb=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Tb.apply(this,arguments)};function gg(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function DM(e,t,r,a){var n=arguments.length,i=n<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,r):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(i=(n<3?s(i):n>3?s(t,r,i):s(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i}function LM(e,t){return function(r,a){t(r,a,e)}}function MM(e,t,r,a,n,i){function s(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var o=a.kind,c=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?a.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),m,x=!1,p=r.length-1;p>=0;p--){var y={};for(var v in a)y[v]=v==="access"?{}:a[v];for(var v in a.access)y.access[v]=a.access[v];y.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(k||null))};var b=(0,r[p])(o==="accessor"?{get:h.get,set:h.set}:h[c],y);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(m=s(b.get))&&(h.get=m),(m=s(b.set))&&(h.set=m),(m=s(b.init))&&n.unshift(m)}else(m=s(b))&&(o==="field"?n.unshift(m):h[c]=m)}d&&Object.defineProperty(d,a.name,h),x=!0}function RM(e,t,r){for(var a=arguments.length>2,n=0;n<t.length;n++)r=a?t[n].call(e,r):t[n].call(e);return a?r:void 0}function IM(e){return typeof e=="symbol"?e:"".concat(e)}function FM(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function BM(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rr(e,t,r,a){function n(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(h){try{d(a.next(h))}catch(m){s(m)}}function c(h){try{d(a.throw(h))}catch(m){s(m)}}function d(h){h.done?i(h.value):n(h.value).then(o,c)}d((a=a.apply(e,t||[])).next())})}function UM(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(d){return function(h){return c([d,h])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(r=0)),r;)try{if(a=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,n=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(h){d=[6,h],n=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var G2=Object.create?(function(e,t,r,a){a===void 0&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}):(function(e,t,r,a){a===void 0&&(a=r),e[a]=t[r]});function zM(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&G2(t,e,r)}function Eb(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pN(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,i=[],s;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(s)throw s.error}}return i}function qM(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pN(arguments[t]));return e}function $M(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var a=Array(e),n=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,n++)a[n]=i[s];return a}function HM(e,t,r){if(r||arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function eg(e){return this instanceof eg?(this.v=e,this):new eg(e)}function WM(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(p){return function(y){return Promise.resolve(y).then(p,m)}}function o(p,y){a[p]&&(n[p]=function(v){return new Promise(function(b,k){i.push([p,v,b,k])>1||c(p,v)})},y&&(n[p]=y(n[p])))}function c(p,y){try{d(a[p](y))}catch(v){x(i[0][3],v)}}function d(p){p.value instanceof eg?Promise.resolve(p.value.v).then(h,m):x(i[0][2],p)}function h(p){c("next",p)}function m(p){c("throw",p)}function x(p,y){p(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function VM(e){var t,r;return t={},a("next"),a("throw",function(n){throw n}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(n,i){t[n]=e[n]?function(s){return(r=!r)?{value:eg(e[n](s)),done:!1}:i?i(s):s}:i}}function KM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Eb=="function"?Eb(e):e[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(i){r[i]=e[i]&&function(s){return new Promise(function(o,c){s=e[i](s),n(o,c,s.done,s.value)})}}function n(i,s,o,c){Promise.resolve(c).then(function(d){i({value:d,done:o})},s)}}function GM(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _Y=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},g3=function(e){return g3=Object.getOwnPropertyNames||function(t){var r=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[r.length]=a);return r},g3(e)};function YM(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=g3(e),a=0;a<r.length;a++)r[a]!=="default"&&G2(t,e,r[a]);return _Y(t,e),t}function XM(e){return e&&e.__esModule?e:{default:e}}function QM(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}function JM(e,t,r,a,n){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r}function ZM(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function eR(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],r&&(n=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");n&&(a=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:a,async:r})}else r&&e.stack.push({async:!0});return t}var SY=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var a=new Error(r);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function tR(e){function t(i){e.error=e.hasError?new SY(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,a=0;function n(){for(;r=e.stack.pop();)try{if(!r.async&&a===1)return a=0,e.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(i).then(n,function(s){return t(s),n()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return n()}function rR(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,n,i,s){return a?t?".jsx":".js":n&&(!i||!s)?r:n+i+"."+s.toLowerCase()+"js"}):e}const NY={__extends:PM,__assign:Tb,__rest:gg,__decorate:DM,__param:LM,__esDecorate:MM,__runInitializers:RM,__propKey:IM,__setFunctionName:FM,__metadata:BM,__awaiter:rr,__generator:UM,__createBinding:G2,__exportStar:zM,__values:Eb,__read:pN,__spread:qM,__spreadArrays:$M,__spreadArray:HM,__await:eg,__asyncGenerator:WM,__asyncDelegator:VM,__asyncValues:KM,__makeTemplateObject:GM,__importStar:YM,__importDefault:XM,__classPrivateFieldGet:QM,__classPrivateFieldSet:JM,__classPrivateFieldIn:ZM,__addDisposableResource:eR,__disposeResources:tR,__rewriteRelativeImportExtension:rR},jY=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eR,get __assign(){return Tb},__asyncDelegator:VM,__asyncGenerator:WM,__asyncValues:KM,__await:eg,__awaiter:rr,__classPrivateFieldGet:QM,__classPrivateFieldIn:ZM,__classPrivateFieldSet:JM,__createBinding:G2,__decorate:DM,__disposeResources:tR,__esDecorate:MM,__exportStar:zM,__extends:PM,__generator:UM,__importDefault:XM,__importStar:YM,__makeTemplateObject:GM,__metadata:BM,__param:LM,__propKey:IM,__read:pN,__rest:gg,__rewriteRelativeImportExtension:rR,__runInitializers:RM,__setFunctionName:FM,__spread:qM,__spreadArray:HM,__spreadArrays:$M,__values:Eb,default:NY},Symbol.toStringTag,{value:"Module"})),AY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class gN extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class vC extends gN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yC extends gN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bC extends gN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var x3;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(x3||(x3={}));class TY{constructor(t,{headers:r={},customFetch:a,region:n=x3.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=AY(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return rr(this,arguments,void 0,function*(r,a={}){var n;try{const{headers:i,method:s,body:o,signal:c}=a;let d={},{region:h}=a;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let x;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",x=o):typeof o=="string"?(d["Content-Type"]="text/plain",x=o):typeof FormData<"u"&&o instanceof FormData?x=o:(d["Content-Type"]="application/json",x=JSON.stringify(o)):x=o;const p=yield this.fetch(m.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:x,signal:c}).catch(k=>{throw k.name==="AbortError"?k:new vC(k)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new yC(p);if(!p.ok)throw new bC(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"||v==="application/pdf"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new vC(i)}:{data:null,error:i,response:i instanceof bC||i instanceof yC?i.context:void 0}}})}}var ws={};const xg=bV(jY);var by={},wy={},ky={},_y={},Sy={},Ny={},wC;function aR(){if(wC)return Ny;wC=1,Object.defineProperty(Ny,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ny.default=e,Ny}var kC;function nR(){if(kC)return Sy;kC=1,Object.defineProperty(Sy,"__esModule",{value:!0});const t=xg.__importDefault(aR());class r{constructor(n){var i,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(i=n.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,i){return this.headers=new Headers(this.headers),this.headers.set(n,i),this}then(n,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,h,m,x;let p=null,y=null,v=null,b=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const P=await c.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?y=P:y=JSON.parse(P))}const _=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),T=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");_&&T&&T.length>1&&(v=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,b=406,k="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const _=await c.text();try{p=JSON.parse(_),Array.isArray(p)&&c.status===404&&(y=[],p=null,b=200,k="OK")}catch{c.status===404&&_===""?(b=204,k="No Content"):p={message:_}}if(p&&this.isMaybeSingle&&(!((x=p==null?void 0:p.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,b=200,k="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:y,count:v,status:b,statusText:k}});return this.shouldThrowOnError||(o=o.catch(c=>{var d,h,m;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=c==null?void 0:c.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),o.then(n,i)}returns(){return this}overrideTypes(){return this}}return Sy.default=r,Sy}var _C;function iR(){if(_C)return _y;_C=1,Object.defineProperty(_y,"__esModule",{value:!0});const t=xg.__importDefault(nR());class r extends t.default{select(n){let i=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${n}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,i,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(d,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:d="text"}={}){var h;const m=[n?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),x=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${x}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return _y.default=r,_y}var SC;function xN(){if(SC)return ky;SC=1,Object.defineProperty(ky,"__esModule",{value:!0});const t=xg.__importDefault(iR()),r=new RegExp("[,()]");class a extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${d}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return ky.default=a,ky}var NC;function sR(){if(NC)return wy;NC=1,Object.defineProperty(wy,"__esModule",{value:!0});const t=xg.__importDefault(xN());class r{constructor(n,{headers:i={},schema:s,fetch:o}){this.url=n,this.headers=new Headers(i),this.schema=s,this.fetch=o}select(n,i){const{head:s=!1,count:o}=i??{},c=s?"HEAD":"GET";let d=!1;const h=(n??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:s=!0}={}){var o;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const d=n.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((x,p)=>x.concat(Object.keys(p)),[]);if(m.length>0){const x=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(n,{count:i}={}){var s;const o="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var i;const s="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return wy.default=r,wy}var jC;function EY(){if(jC)return by;jC=1,Object.defineProperty(by,"__esModule",{value:!0});const e=xg,t=e.__importDefault(sR()),r=e.__importDefault(xN());class a{constructor(i,{headers:s={},schema:o,fetch:c}={}){this.url=i,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(i){const s=new URL(`${this.url}/${i}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,s={},{head:o=!1,get:c=!1,count:d}={}){var h;let m;const x=new URL(`${this.url}/rpc/${i}`);let p;o||c?(m=o?"HEAD":"GET",Object.entries(s).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{x.searchParams.append(v,b)})):(m="POST",p=s);const y=new Headers(this.headers);return d&&y.set("Prefer",`count=${d}`),new r.default({method:m,url:x,headers:y,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return by.default=a,by}var AC;function CY(){if(AC)return ws;AC=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.PostgrestError=ws.PostgrestBuilder=ws.PostgrestTransformBuilder=ws.PostgrestFilterBuilder=ws.PostgrestQueryBuilder=ws.PostgrestClient=void 0;const e=xg,t=e.__importDefault(EY());ws.PostgrestClient=t.default;const r=e.__importDefault(sR());ws.PostgrestQueryBuilder=r.default;const a=e.__importDefault(xN());ws.PostgrestFilterBuilder=a.default;const n=e.__importDefault(iR());ws.PostgrestTransformBuilder=n.default;const i=e.__importDefault(nR());ws.PostgrestBuilder=i.default;const s=e.__importDefault(aR());return ws.PostgrestError=s.default,ws.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:s.default},ws}var oR=CY();const lR=Fc(oR),OY=X9({__proto__:null,default:lR},[oR]),{PostgrestClient:PY,PostgrestQueryBuilder:gAe,PostgrestFilterBuilder:xAe,PostgrestTransformBuilder:vAe,PostgrestBuilder:yAe,PostgrestError:bAe}=lR||OY;class DY{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,n=parseInt(a.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const LY="2.80.0",MY=`realtime-js/${LY}`,RY="1.0.0",v3=1e4,IY=1e3,FY=100;var Ux;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ux||(Ux={}));var Oi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oi||(Oi={}));var Ec;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ec||(Ec={}));var y3;(function(e){e.websocket="websocket"})(y3||(y3={}));var sh;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sh||(sh={}));class BY{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const n=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=a.decode(t.slice(s,s+n));s=s+n;const c=a.decode(t.slice(s,s+i));s=s+i;const d=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class cR{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ja;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ja||(Ja={}));const TC=(e,t,r={})=>{var a;const n=(a=r.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=UY(s,e,t,n),i),{}):{}},UY=(e,t,r,a)=>{const n=t.find(o=>o.name===e),i=n==null?void 0:n.type,s=r[e];return i&&!a.includes(i)?uR(i,s):b3(s)},uR=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return HY(t,r)}switch(e){case Ja.bool:return zY(t);case Ja.float4:case Ja.float8:case Ja.int2:case Ja.int4:case Ja.int8:case Ja.numeric:case Ja.oid:return qY(t);case Ja.json:case Ja.jsonb:return $Y(t);case Ja.timestamp:return WY(t);case Ja.abstime:case Ja.date:case Ja.daterange:case Ja.int4range:case Ja.int8range:case Ja.money:case Ja.reltime:case Ja.text:case Ja.time:case Ja.timestamptz:case Ja.timetz:case Ja.tsrange:case Ja.tstzrange:return b3(t);default:return b3(t)}},b3=e=>e,zY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$Y=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},HY=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>uR(t,o))}return e},WY=e=>typeof e=="string"?e.replace(" ","T"):e,dR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class kk{constructor(t,r,a={},n=v3){this.channel=t,this.event=r,this.payload=a,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var EC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(EC||(EC={}));class zx{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},n=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zx.syncState(this.state,n,i,s),this.pendingDiffs.forEach(c=>{this.state=zx.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(a.diff,{},n=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=zx.syncDiff(this.state,n,i,s),o())}),this.onJoin((n,i,s)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:s})}),this.onLeave((n,i,s)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,n){const i=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(i,(d,h)=>{s[d]||(c[d]=h)}),this.map(s,(d,h)=>{const m=i[d];if(m){const x=h.map(b=>b.presence_ref),p=m.map(b=>b.presence_ref),y=h.filter(b=>p.indexOf(b.presence_ref)<0),v=m.filter(b=>x.indexOf(b.presence_ref)<0);y.length>0&&(o[d]=y),v.length>0&&(c[d]=v)}else o[d]=h}),this.syncDiff(i,{joins:o,leaves:c},a,n)}static syncDiff(t,r,a,n){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),n||(n=()=>{}),this.map(i,(o,c)=>{var d;const h=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),h.length>0){const m=t[o].map(p=>p.presence_ref),x=h.filter(p=>m.indexOf(p.presence_ref)<0);t[o].unshift(...x)}a(o,h,c)}),this.map(s,(o,c)=>{let d=t[o];if(!d)return;const h=c.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[o]=d,n(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const n=t[a];return"metas"in n?r[a]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[a]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var CC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(CC||(CC={}));var qx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qx||(qx={}));var p0;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(p0||(p0={}));class vN{constructor(t,r={config:{}},a){var n,i;if(this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=Oi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kk(this,Ec.join,this.params,this.timeout),this.rejoinTimer=new cR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oi.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ec.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new zx(this),this.broadcastEndpointURL=dR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var a,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Oi.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,d=(n=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&n!==void 0?n:[],h=!!this.bindings[qx.PRESENCE]&&this.bindings[qx.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},x={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(p0.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(p0.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(p0.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(y=v==null?void 0:v.length)!==null&&y!==void 0?y:0,k=[];for(let N=0;N<b;N++){const _=v[N],{filter:{event:T,schema:P,table:O,filter:L}}=_,U=p&&p[N];if(U&&U.event===T&&U.schema===P&&U.table===O&&U.filter===L)k.push(Object.assign(Object.assign({},_),{id:U.id}));else{this.unsubscribe(),this.state=Oi.errored,t==null||t(p0.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(p0.SUBSCRIBED);return}}).receive("error",p=>{this.state=Oi.errored,t==null||t(p0.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(p0.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===Oi.joined&&t===qx.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async httpSend(t,r,a={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var a,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((n=d.body)===null||n===void 0?void 0:n.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ec.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(n=>{a=new kk(this,Ec.leave,{},t),a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oi.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const n=new AbortController,i=setTimeout(()=>n.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),s}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new kk(this,t,r,a);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FY){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var n,i;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:h}=Ec;if(a&&[o,c,d,h].indexOf(s)>=0&&a!==this._joinRef())return;let x=this._onMessage(s,r,a);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var y,v,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(p=>p.callback(x,a)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var y,v,b,k,N,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const T=p.id,P=(y=p.filter)===null||y===void 0?void 0:y.event;return T&&((v=r.ids)===null||v===void 0?void 0:v.includes(T))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(N=(k=p==null?void 0:p.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return T==="*"||T===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof x=="object"&&"ids"in x){const y=x.data,{schema:v,table:b,commit_timestamp:k,type:N,errors:_}=y;x=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:k,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(y))}p.callback(x,a)})}_isClosed(){return this.state===Oi.closed}_isJoined(){return this.state===Oi.joined}_isJoining(){return this.state===Oi.joining}_isLeaving(){return this.state===Oi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:a};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&vN.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ec.close,{},t)}_onError(t){this._on(Ec.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TC(t.columns,t.old_record)),r}}const _k=()=>{},jy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VY=[1e3,2e3,5e3,1e4],KY=1e4,GY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YY{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=v3,this.transport=null,this.heartbeatIntervalMs=jy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_k,this.ref=0,this.reconnectTimer=null,this.logger=_k,this.conn=null,this.sendBuffer=[],this.serializer=new BY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((a=r==null?void 0:r.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${y3.websocket}`,this.httpEndpoint=dR(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DY.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RY}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ux.connecting:return sh.Connecting;case Ux.open:return sh.Open;case Ux.closing:return sh.Closing;default:return sh.Closed}}isConnected(){return this.connectionState()===sh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===a);if(n)return n;{const i=new vN(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:a,payload:n,ref:i}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${a} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IY,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},jy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:n,payload:i,ref:s}=r,o=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${n} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(n,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ec.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${a}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([GY],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const n={access_token:r,version:MY};r&&a.updateJoinPayload(n),a.joinedOnce&&a._isJoined()&&a._push(Ec.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new cR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,n,i,s,o,c,d,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:v3,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:jy.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:_k,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:(m=>VY[m-1]||KY),this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((m,x)=>x(JSON.stringify(m))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yN extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function On(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XY extends yN{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class w3 extends yN{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const bN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QY=()=>Response,k3=e=>{if(Array.isArray(e))return e.map(r=>k3(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=k3(a)}),t},JY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sk=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ZY=(e,t,r)=>rr(void 0,void 0,void 0,function*(){const a=yield QY();e instanceof a&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,s=(n==null?void 0:n.statusCode)||i+"";t(new XY(Sk(n),i,s))}).catch(n=>{t(new w3(Sk(n),n))}):t(new w3(Sk(e),e))}),eX=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?n:(JY(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,t!=null&&t.duplex&&(n.duplex=t.duplex),Object.assign(Object.assign({},n),r))};function K1(e,t,r,a,n,i){return rr(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,eX(t,a,n,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>ZY(c,o,a))})})}function i1(e,t,r,a){return rr(this,void 0,void 0,function*(){return K1(e,"GET",t,r,a)})}function jc(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return K1(e,"POST",t,a,n,r)})}function _3(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return K1(e,"PUT",t,a,n,r)})}function tX(e,t,r,a){return rr(this,void 0,void 0,function*(){return K1(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function wN(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return K1(e,"DELETE",t,a,n,r)})}class rX{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return rr(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(On(t))return{data:null,error:t};throw t}})}}var fR;class aX{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[fR]="BlobDownloadBuilder",this.promise=null}asStream(){return new rX(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return rr(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(On(t))return{data:null,error:t};throw t}})}}fR=Symbol.toStringTag;const nX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OC={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iX{constructor(t,r={},a,n){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=a,this.fetch=bN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,a,n){return rr(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},OC),n);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=a,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=yield(t=="PUT"?_3:jc)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(On(i))return{data:null,error:i};throw i}})}upload(t,r,a){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,n){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:OC.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield _3(this.fetch,o.toString(),c,{headers:h});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(On(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return rr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield jc(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:n}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new yN("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}update(t,r,a){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return rr(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}copy(t,r,a){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield jc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,a){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield jc(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,a){return rr(this,void 0,void 0,function*(){try{const n=yield jc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:n.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}download(t,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),c=()=>i1(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new aX(c,this.shouldThrowOnError)}info(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield i1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:k3(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}exists(t){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield tX(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a)&&a instanceof w3){const n=a.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let d=n.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${a}${d}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield wN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}list(t,r,a){return rr(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},nX),r),{prefix:t||""});return{data:yield jc(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}listV2(t,r){return rr(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield jc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hR="2.80.0",mR={"X-Client-Info":`storage-js/${hR}`};class sX{constructor(t,r={},a,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mR),r),this.fetch=bN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return rr(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield i1(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield i1(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}createBucket(t){return rr(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield jc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return rr(this,void 0,void 0,function*(){try{return{data:yield _3(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(On(a))return{data:null,error:a};throw a}})}emptyBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield wN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class oX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mR),r),this.fetch=bN(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield jc(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}listBuckets(t){return rr(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const a=r.toString(),n=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield i1(this.fetch,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield wN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}})}}const kN={"X-Client-Info":`storage-js/${hR}`,"Content-Type":"application/json"};class pR extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function rl(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Nk extends pR{constructor(t,r,a){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lX extends pR{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var PC;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(PC||(PC={}));const _N=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},DC=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uX=(e,t,r)=>rr(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";t(new Nk(DC(s),n,o))}).catch(()=>{const s=n+"",o=i.statusText||`HTTP ${n} error`;t(new Nk(o,n,s))});else{const s=n+"",o=i.statusText||`HTTP ${n} error`;t(new Nk(o,n,s))}}else t(new lX(DC(e),e))}),dX=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(cX(a)?(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(a)):n.body=a,Object.assign(Object.assign({},n),r)):n};function fX(e,t,r,a,n,i){return rr(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,dX(t,a,n,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>uX(c,o,a))})})}function al(e,t,r,a,n){return rr(this,void 0,void 0,function*(){return fX(e,"POST",t,a,n,r)})}class hX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kN),r),this.fetch=_N(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield al(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}getIndex(t,r){return rr(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rl(a))return{data:null,error:a};throw a}})}listIndexes(t){return rr(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return rr(this,void 0,void 0,function*(){try{return{data:(yield al(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rl(a))return{data:null,error:a};throw a}})}}class mX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kN),r),this.fetch=_N(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield al(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}getVectors(t){return rr(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}listVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield al(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}queryVectors(t){return rr(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}deleteVectors(t){return rr(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield al(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}}class pX{constructor(t,r={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},kN),r),this.fetch=_N(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield al(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}getBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}listBuckets(){return rr(this,arguments,void 0,function*(t={}){try{return{data:yield al(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rr(this,void 0,void 0,function*(){try{return{data:(yield al(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rl(r))return{data:null,error:r};throw r}})}}class gX extends pX{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new xX(this.url,this.headers,t,this.fetch)}}class xX extends hX{constructor(t,r,a,n){super(t,r,n),this.vectorBucketName=a}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return rr(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return rr(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return rr(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return rr(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new vX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class vX extends mX{constructor(t,r,a,n,i){super(t,r,i),this.vectorBucketName=a,this.indexName=n}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return rr(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return rr(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return rr(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return rr(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return rr(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class yX extends sX{constructor(t,r={},a,n){super(t,r,a,n)}from(t){return new iX(this.url,this.headers,t,this.fetch)}get vectors(){return new gX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new oX(this.url+"/iceberg",this.headers,this.fetch)}}const bX="2.80.0";let Lx="";typeof Deno<"u"?Lx="deno":typeof document<"u"?Lx="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lx="react-native":Lx="node";const wX={"X-Client-Info":`supabase-js-${Lx}/${bX}`},kX={headers:wX},_X={schema:"public"},SX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NX={},jX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AX=()=>Headers,TX=(e,t,r)=>{const a=jX(r),n=AX();return async(i,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let d=new n(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},s),{headers:d}))}};function EX(e){return e.endsWith("/")?e:e+"/"}function CX(e,t){var r,a;const{db:n,auth:i,realtime:s,global:o}=e,{db:c,auth:d,realtime:h,global:m}=t,x={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},h),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(a=o==null?void 0:o.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function OX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(EX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gR="2.80.0",wp=30*1e3,S3=3,jk=S3*wp,PX="http://localhost:9999",DX="supabase.auth.token",LX={"X-Client-Info":`gotrue-js/${gR}`},N3="X-Supabase-Api-Version",xR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RX=600*1e3;class s1 extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function ur(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IX extends s1{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function FX(e){return ur(e)&&e.name==="AuthApiError"}class oh extends s1{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class vf extends s1{constructor(t,r,a,n){super(t,a,n),this.name=r,this.status=a}}class Sc extends vf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BX(e){return ur(e)&&e.name==="AuthSessionMissingError"}class op extends vf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ay extends vf{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ty extends vf{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UX(e){return ur(e)&&e.name==="AuthImplicitGrantRedirectError"}class LC extends vf{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class j3 extends vf{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ak(e){return ur(e)&&e.name==="AuthRetryableFetchError"}class MC extends vf{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class A3 extends vf{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),RC=` 	
\r=`.split(""),zX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<RC.length;t+=1)e[RC[t].charCodeAt(0)]=-2;for(let t=0;t<Cb.length;t+=1)e[Cb[t].charCodeAt(0)]=t;return e})();function IC(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Cb[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Cb[a]),t.queuedBits-=6}}function vR(e,t,r){const a=zX[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FC(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=s=>{HX(s,a,r)};for(let s=0;s<e.length;s+=1)vR(e.charCodeAt(s),n,i);return t.join("")}function qX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $X(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const n=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}qX(a,t)}}function HX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ep(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)vR(e.charCodeAt(n),r,a);return new Uint8Array(t)}function WX(e){const t=[];return $X(e,r=>t.push(r)),new Uint8Array(t)}function dh(e){const t=[],r={queue:0,queuedBits:0},a=n=>{t.push(n)};return e.forEach(n=>IC(n,r,a)),IC(null,r,a),t.join("")}function VX(e){return Math.round(Date.now()/1e3)+e}function KX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const As=()=>typeof window<"u"&&typeof document<"u",Zf={tested:!1,writable:!1},yR=()=>{if(!As())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zf.tested)return Zf.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zf.tested=!0,Zf.writable=!0}catch{Zf.tested=!0,Zf.writable=!1}return Zf.writable};function GX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((a,n)=>{t[n]=a}),t}const bR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",kp=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},eh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bd=async(e,t)=>{await e.removeItem(t)};class Y2{constructor(){this.promise=new Y2.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Y2.promiseConstructor=Promise;function Tk(e){const t=e.split(".");if(t.length!==3)throw new A3("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!MX.test(t[a]))throw new A3("JWT not in base64url format");return{header:JSON.parse(FC(t[0])),payload:JSON.parse(FC(t[1])),signature:Ep(t[2]),raw:{header:t[0],payload:t[1]}}}async function XX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function QX(e,t){return new Promise((a,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){a(s);return}}catch(s){if(!t(i,s)){n(s);return}}})()})}function JX(e){return("0"+e.toString(16)).substr(-2)}function ZX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*a));return n}return crypto.getRandomValues(t),Array.from(t,JX).join("")}async function eQ(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(a);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function tQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eQ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lp(e,t,r=!1){const a=ZX();let n=a;r&&(n+="/PASSWORD_RECOVERY"),await kp(e,`${t}-code-verifier`,n);const i=await tQ(a);return[i,a===i?"plain":"s256"]}const rQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aQ(e){const t=e.headers.get(N3);if(!t||!t.match(rQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iQ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cp(e){if(!sQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ek(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oQ(e,t){return new Proxy(e,{get:(r,a,n)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,n)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,a,n)}})}function BC(e){return JSON.parse(JSON.stringify(e))}const th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lQ=[502,503,504];async function UC(e){var t;if(!YX(e))throw new j3(th(e),0);if(lQ.includes(e.status))throw new j3(th(e),e.status);let r;try{r=await e.json()}catch(i){throw new oh(th(i),i)}let a;const n=aQ(e);if(n&&n.getTime()>=xR["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new MC(th(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Sc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new MC(th(r),e.status,r.weak_password.reasons);throw new IX(th(r),e.status||500,a)}const cQ=(e,t,r,a)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(a),Object.assign(Object.assign({},n),r))};async function wr(e,t,r,a){var n;const i=Object.assign({},a==null?void 0:a.headers);i[N3]||(i[N3]=xR["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const s=(n=a==null?void 0:a.query)!==null&&n!==void 0?n:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await uQ(e,t,r+o,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function uQ(e,t,r,a,n,i){const s=cQ(t,a,n,i);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new j3(th(c),0)}if(o.ok||await UC(o),a!=null&&a.noResolveJson)return o;try{return await o.json()}catch(c){await UC(c)}}function Nc(e){var t;let r=null;hQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VX(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function zC(e){const t=Nc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vd(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dQ(e){return{data:e,error:null}}function fQ(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i}=e,s=gg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:a,redirect_to:n,verification_type:i},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function qC(e){return e}function hQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ck=["global","local","others"];class mQ{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=bR(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ck[0]){if(Ck.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ck.join(", ")}`);try{return await wr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ur(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await wr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vd})}catch(a){if(ur(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=gg(t,["options"]),n=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(n.new_email=a==null?void 0:a.newEmail,delete n.newEmail),await wr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:fQ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ur(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vd})}catch(r){if(ur(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,n,i,s,o,c;try{const d={nextPage:null,lastPage:0,total:0},h=await wr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:qC});if(h.error)throw h.error;const m=await h.json(),x=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ur(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){cp(t);try{return await wr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vd})}catch(r){if(ur(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){cp(t);try{return await wr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vd})}catch(a){if(ur(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){cp(t);try{return await wr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vd})}catch(a){if(ur(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){cp(t.userId);try{const{data:r,error:a}=await wr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:a}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _deleteFactor(t){cp(t.userId),cp(t.id);try{return{data:await wr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,a,n,i,s,o,c;try{const d={nextPage:null,lastPage:0,total:0},h=await wr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:qC});if(h.error)throw h.error;const m=await h.json(),x=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(x)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ur(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await wr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await wr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ur(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await wr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ur(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await wr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ur(r))return{data:null,error:r};throw r}}}function $C(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const up={debug:!!(globalThis&&yR()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pQ extends wR{}async function gQ(e,t,r){up.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),up.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async n=>{if(n){up.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{up.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw up.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(up.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kR(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vQ(e){return parseInt(e,16)}function yQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function bQ(e){var t;const{chainId:r,domain:a,expirationTime:n,issuedAt:i=new Date,nonce:s,notBefore:o,requestId:c,resources:d,scheme:h,uri:m,version:x}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=kR(e.address),y=h?`${h}://${a}`:a,v=e.statement?`${e.statement}
`:"",b=`${y} wants you to sign in with your Ethereum account:
${p}

${v}`;let k=`URI: ${m}
Version: ${x}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(n&&(k+=`
Expiration Time: ${n.toISOString()}`),o&&(k+=`
Not Before: ${o.toISOString()}`),c&&(k+=`
Request ID: ${c}`),d){let N=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);N+=`
- ${_}`}k+=N}return`${b}
${k}`}class pi extends Error{constructor({message:t,code:r,cause:a,name:n}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=n??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ob extends pi{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wQ({error:e,options:t}){var r,a,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new pi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new pi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new pi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new pi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new pi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(_R(s)){if(i.rp.id!==s)return new pi({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new pi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new pi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new pi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new pi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function kQ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new pi({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(_R(a)){if(r.rpId!==a)return new pi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new pi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new pi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new pi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class _Q{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const SQ=new _Q;function NQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:a}=e,n=gg(e,["challenge","user","excludeCredentials"]),i=Ep(t).buffer,s=Object.assign(Object.assign({},r),{id:Ep(r.id).buffer}),o=Object.assign(Object.assign({},n),{challenge:i,user:s});if(a&&a.length>0){o.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Ep(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function jQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,a=gg(e,["challenge","allowCredentials"]),n=Ep(t).buffer,i=Object.assign(Object.assign({},a),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Ep(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function AQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:dh(new Uint8Array(e.response.attestationObject)),clientDataJSON:dh(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,a=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:dh(new Uint8Array(n.authenticatorData)),clientDataJSON:dh(new Uint8Array(n.clientDataJSON)),signature:dh(new Uint8Array(n.signature)),userHandle:n.userHandle?dh(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _R(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HC(){var e,t;return!!(As()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function EQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ob("Browser returned unexpected credential type",t)}:{data:null,error:new Ob("Empty credential response",t)}}catch(t){return{data:null,error:wQ({error:t,options:e})}}}async function CQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ob("Browser returned unexpected credential type",t)}:{data:null,error:new Ob("Empty credential response",t)}}catch(t){return{data:null,error:kQ({error:t,options:e})}}}const OQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},PQ={userVerification:"preferred",hints:["security-key"]};function Pb(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),a={};for(const n of e)if(n)for(const i in n){const s=n[i];if(s!==void 0)if(Array.isArray(s))a[i]=s;else if(r(s))a[i]=s;else if(t(s)){const o=a[i];t(o)?a[i]=Pb(o,s):a[i]=Pb(s)}else a[i]=s}return a}function DQ(e,t){return Pb(OQ,e,t||{})}function LQ(e,t){return Pb(PQ,e,t||{})}class MQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:a,signal:n},i){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=n??SQ.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=DQ(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:m}=await EQ({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const d=LQ(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:m}=await CQ(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(s){return ur(s)?{data:null,error:s}:{data:null,error:new oh("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!r)return{data:null,error:new s1("rpId is required for WebAuthn authentication")};try{if(!HC())return{data:null,error:new oh("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:a},signal:n},{request:i});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:a,credential_response:c.credential_response}})}catch(s){return ur(s)?{data:null,error:s}:{data:null,error:new oh("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!r)return{data:null,error:new s1("rpId is required for WebAuthn registration")};try{if(!HC())return{data:null,error:new oh("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:n},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(s){return ur(s)?{data:null,error:s}:{data:null,error:new oh("Unexpected error in register",s)}}}}xQ();const RQ={url:PX,storageKey:DX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function WC(e,t,r){return await r()}const dp={};class o1{get jwks(){var t,r;return(r=(t=dp[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){dp[this.storageKey]=Object.assign(Object.assign({},dp[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=dp[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dp[this.storageKey]=Object.assign(Object.assign({},dp[this.storageKey]),{cachedAt:t})}constructor(t){var r,a,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},RQ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=o1.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,o1.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&As()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new mQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bR(i.fetch),this.lock=i.lock||WC,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:As()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=gQ:this.lock=WC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yR()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$C(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$C(this.memoryStorage)),As()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},a="none";if(As()&&(r=GX(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),As()&&this.detectSessionInUrl&&a!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UX(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ur(r)?this._returnResult({error:r}):this._returnResult({error:new oh("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,n;try{const i=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Nc}),{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(ur(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,a,n;try{let i;if("email"in t){const{email:h,password:m,options:x}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await lp(this.storage,this.storageKey)),i=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:h,password:m,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:p,code_challenge_method:y},xform:Nc})}else if("phone"in t){const{phone:h,password:m,options:x}=t;i=await wr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(n=x==null?void 0:x.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Nc})}else throw new Ay("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(ur(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await wr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zC})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await wr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zC})}else throw new Ay("You must provide either an email or phone number and a password");const{data:a,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!a||!a.session||!a.user){const i=new op;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:n})}catch(r){if(ur(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,a,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,a,n,i,s,o,c,d,h,m,x;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:v,wallet:b,statement:k,options:N}=t;let _;if(As())if(typeof b=="object")_=b;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")_=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const T=new URL((r=N==null?void 0:N.url)!==null&&r!==void 0?r:window.location.href),P=await _.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=kR(P[0]);let L=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!L){const I=await _.request({method:"eth_chainId"});L=vQ(I)}const U={domain:T.host,address:O,statement:k,uri:T.href,version:"1",chainId:L,nonce:(n=N==null?void 0:N.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(s=(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=N==null?void 0:N.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=bQ(U),y=await _.request({method:"personal_sign",params:[yQ(p),O]})}try{const{data:v,error:b}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:y},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Nc});if(b)throw b;if(!v||!v.session||!v.user){const k=new op;return this._returnResult({data:{user:null,session:null},error:k})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(ur(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,a,n,i,s,o,c,d,h,m,x,p;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:b,wallet:k,statement:N,options:_}=t;let T;if(As())if(typeof k=="object")T=k;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))T=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=k}const P=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const O=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),N?{statement:N}:null));let L;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")L=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)L=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)y=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),v=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${P.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(n=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((m=(h=_==null?void 0:_.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",..._.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const O=await T.signMessage(new TextEncoder().encode(y),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=O}}try{const{data:b,error:k}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:dh(v)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Nc});if(k)throw k;if(!b||!b.session||!b.user){const N=new op;return this._returnResult({data:{user:null,session:null},error:N})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(ur(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await eh(this.storage,`${this.storageKey}-code-verifier`),[a,n]=(r??"").split("/");try{const{data:i,error:s}=await wr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Nc});if(await Bd(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const o=new op;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:s})}catch(i){if(ur(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:a,token:n,access_token:i,nonce:s}=t,o=await wr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:n,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nc}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const h=new op;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(ur(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,a,n,i,s;try{if("email"in t){const{email:o,options:c}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await lp(this.storage,this.storageKey));const{error:m}=await wr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:h}=await wr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Ay("You must provide either an email or phone number.")}catch(o){if(ur(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,a;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:o}=await wr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Nc});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,d=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(n){if(ur(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,a,n;try{let i=null,s=null;this.flowType==="pkce"&&([i,s]=await lp(this.storage,this.storageKey));const o=await wr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:dQ});return this._returnResult(o)}catch(i){if(ur(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new Sc;const{error:n}=await wr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(ur(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:n,options:i}=t,{error:s}=await wr(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:a,type:n,options:i}=t,{data:s,error:o}=await wr(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Ay("You must provide either an email or phone number and a type")}catch(r){if(ur(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await eh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<jk:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await eh(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ek()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=oQ(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await wr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vd}):await this._useSession(async r=>{var a,n,i;const{data:s,error:o}=r;if(o)throw o;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sc}:await wr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Vd})})}catch(r){if(ur(r))return BX(r)&&(await this._removeSession(),await Bd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:n,error:i}=a;if(i)throw i;if(!n.session)throw new Sc;const s=n.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await lp(this.storage,this.storageKey));const{data:d,error:h}=await wr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Vd});if(h)throw h;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(a){if(ur(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sc;const r=Date.now()/1e3;let a=r,n=!0,i=null;const{payload:s}=Tk(t.access_token);if(s.exp&&(a=s.exp,n=a<=r),n){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ur(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Sc;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ur(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!As())throw new Ty("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ty(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LC("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ty("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LC("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:n,access_token:i,refresh_token:s,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!s||!d)throw new Ty("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(o);let x=h+m;c&&(x=parseInt(c));const p=x-h;p*1e3<=wp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const y=x-m;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,x,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,x,h);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const k={provider_token:a,provider_refresh_token:n,access_token:i,expires_in:m,expires_at:x,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(a){if(ur(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await eh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const s=(a=n.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(FX(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Bd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=KX(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,n;try{const{data:{session:i},error:s}=r;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let a=null,n=null;this.flowType==="pkce"&&([a,n]=await lp(this.storage,this.storageKey,!0));try{return await wr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ur(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:a,error:n}=await this._useSession(async i=>{var s,o,c,d,h;const{data:m,error:x}=i;if(x)throw x;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wr(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return As()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(ur(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var a;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:s,provider:o,token:c,access_token:d,nonce:h}=t,m=await wr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:o,id_token:c,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Nc}),{data:x,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new op}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:p}))}catch(n){if(ur(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:s}=r;if(s)throw s;return await wr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await QX(async n=>(n>0&&await XX(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await wr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nc})),(n,i)=>{const s=200*Math.pow(2,n);return i&&Ak(i)&&Date.now()+s-a<wp})}catch(a){if(this._debug(r,"error",a),ur(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),As()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const n=await eh(this.storage,this.storageKey);if(n&&this.userStorage){let s=await eh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:n.user},await kp(this.userStorage,this.storageKey+"-user",s)),n.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ek()}else if(n&&!n.user&&!n.user){const s=await eh(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(n.user=s.user,await Bd(this.storage,this.storageKey+"-user"),await kp(this.storage,this.storageKey,n)):n.user=Ek()}if(this._debug(a,"session from storage",n),!this._isValidSession(n)){this._debug(a,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jk;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${jk}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Ak(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(n.access_token);!o&&(s!=null&&s.user)?(n.user=s.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(a,"error",n),console.error(n);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new Sc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Y2;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Sc;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(n,"error",i),ur(i)){const s={data:null,error:i};return Ak(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,a=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await kp(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=BC(n);await kp(this.storage,this.storageKey,i)}else{const n=BC(r);await kp(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Bd(this.storage,this.storageKey),await Bd(this.storage,this.storageKey+"-code-verifier"),await Bd(this.storage,this.storageKey+"-user"),this.userStorage&&await Bd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&As()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wp);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((a.expires_at*1e3-t)/wp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${wp}ms, refresh threshold is ${S3} ticks`),n<=S3&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!As()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const n=[`provider=${encodeURIComponent(r)}`];if(a!=null&&a.redirectTo&&n.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&n.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,s]=await lp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});n.push(o.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);n.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&n.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await wr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await wr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&c.type==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AQ(t.webauthn.credential_response):TQ(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await wr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await wr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=n==null?void 0:n.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:NQ(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:jQ(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:a},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tk(a.access_token);let s=null;i.aal&&(s=i.aal);let o=s;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const d=i.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:a},error:n}=r;return n?this._returnResult({data:null,error:n}):a?await wr(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Sc})})}catch(r){if(ur(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Sc});const s=await wr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&As()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(ur(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,r){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Sc});const s=await wr(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&As()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(ur(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(o=>o.kid===t);if(a)return a;const n=Date.now();if(a=this.jwks.keys.find(o=>o.kid===t),a&&this.jwks_cached_at+RX>n)return a;const{data:i,error:s}=await wr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,a=i.keys.find(o=>o.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:p,error:y}=await this.getSession();if(y||!p.session)return this._returnResult({data:null,error:y});a=p.session.access_token}const{header:n,payload:i,signature:s,raw:{header:o,payload:c}}=Tk(a);r!=null&&r.allowExpired||nQ(i.exp);const d=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:n,signature:s},error:null}}const h=iQ(n.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,s,WX(`${o}.${c}`)))throw new A3("Invalid JWT signature");return{data:{claims:i,header:n,signature:s},error:null}}catch(a){if(ur(a))return this._returnResult({data:null,error:a});throw a}}}o1.nextInstanceID={};const IQ=o1;class FQ extends IQ{constructor(t){super(t)}}class BQ{constructor(t,r,a){var n,i,s;this.supabaseUrl=t,this.supabaseKey=r;const o=OX(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:_X,realtime:NX,auth:Object.assign(Object.assign({},SX),{storageKey:c}),global:kX},h=CX(a??{},d);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=h.auth)!==null&&s!==void 0?s:{},this.headers,h.global.fetch),this.fetch=TX(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new PY(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new yX(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new TY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:s,flowType:o,lock:c,debug:d,throwOnError:h},m,x){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:n,userStorage:i,flowType:o,lock:c,debug:d,throwOnError:h,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new YY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UQ=(e,t,r)=>new BQ(e,t,r);function zQ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zQ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SR="https://uvaxkefgehiokxkvaqge.supabase.co",qQ="replace_with_real_anon_key_for_production",NR=SR.includes("placeholder");if(NR)throw new Error("PRODUCTION BUILD ERROR: Missing Supabase env. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const Pa=UQ(SR,qQ,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Is=(e,t)=>({ok:!0,data:e,meta:t}),Ar=e=>{var t,r;try{typeof window<"u"&&((r=(t=import.meta)==null?void 0:t.env)!=null&&r.DEV)&&(window.__repoErrors=window.__repoErrors||[],window.__repoErrors.push(e),window.dispatchEvent(new CustomEvent("repo-error",{detail:e})))}catch{}return{ok:!1,error:e}};typeof window<"u"&&(window.__repoErrors=window.__repoErrors||[]);const jR="audit_logs";async function $Q(e,t){try{const r={user_id:e,action:t.action,table_name:t.tableName,record_id:t.recordId,old_data:t.oldData?JSON.stringify(t.oldData):null,new_data:t.newData?JSON.stringify(t.newData):null,ip_address:t.ipAddress||null,user_agent:t.userAgent||(typeof navigator<"u"?navigator.userAgent:null)},{data:a,error:n}=await Pa.from(jR).insert([r]).select().single();return n||!a?Ar({code:"supabase",message:"Ghi audit log tht bi",cause:n}):Is(a)}catch(r){return Ar({code:"network",message:"Li mng khi ghi audit log",cause:r})}}async function Au(e,t){var r,a,n,i;try{const s=await $Q(e,t);!s.ok&&((a=(r=import.meta)==null?void 0:r.env)!=null&&a.DEV)&&console.warn("Audit log failed",s.error)}catch(s){(i=(n=import.meta)==null?void 0:n.env)!=null&&i.DEV&&console.warn("Audit log exception",s)}}async function HQ(e){try{const t=(e==null?void 0:e.pageSize)||(e==null?void 0:e.limit)||50,r=e!=null&&e.page&&e.page>0?e.page:1,a=(r-1)*t,n=a+t-1;let i=Pa.from(jR).select("*",{count:"exact"}).order("created_at",{ascending:!1}).range(a,n);e!=null&&e.action&&(i=i.eq("action",e.action)),e!=null&&e.startDate&&(i=i.gte("created_at",e.startDate)),e!=null&&e.endDate&&(i=i.lte("created_at",e.endDate));const{data:s,error:o,count:c}=await i;return o?Ar({code:"supabase",message:"Khng th ti audit logs",cause:o}):Is(s||[],{total:c,page:r,pageSize:t})}catch(t){return Ar({code:"network",message:"Li mng khi ti audit logs",cause:t})}}const T3="cash_transactions";async function WQ(e){try{let t=Pa.from(T3).select("*").order("date",{ascending:!1});e!=null&&e.branchId&&(t=t.eq("branchId",e.branchId)),e!=null&&e.startDate&&(t=t.gte("date",e.startDate)),e!=null&&e.endDate&&(t=t.lte("date",e.endDate)),e!=null&&e.limit&&(t=t.limit(e.limit)),e!=null&&e.type&&(t=t.eq("type",e.type));const{data:r,error:a}=await t;return a?Ar({code:"supabase",message:"Khng th ti s qu",cause:a}):Is(r||[])}catch(t){return Ar({code:"network",message:"Li kt ni khi ti s qu",cause:t})}}async function E3(e){var t;try{if(!e.amount||e.amount<=0)return Ar({code:"validation",message:"S tin phi > 0"});if(!e.branchId)return Ar({code:"validation",message:"Thiu chi nhnh"});if(!e.paymentSourceId)return Ar({code:"validation",message:"Thiu ngun tin"});if(!e.type)return Ar({code:"validation",message:"Thiu loi thu/chi"});const r={amount:e.amount,branchId:e.branchId,paymentSource:e.paymentSourceId,paymentSourceId:e.paymentSourceId,category:e.category||(e.type==="income"?"general_income":"general_expense"),date:e.date||new Date().toISOString(),notes:e.notes,description:e.notes,type:e.type,saleId:e.saleId,workOrderId:e.workOrderId,payrollRecordId:e.payrollRecordId,loanPaymentId:e.loanPaymentId,supplierId:e.supplierId,customerId:e.customerId,recipient:e.recipient},{data:a,error:n}=await Pa.from(T3).insert([r]).select().single();if(n||!a)return Ar({code:"supabase",message:"Ghi s qu tht bi",cause:n});const i=a;try{if(!r.saleId&&!r.workOrderId&&!r.payrollRecordId&&!r.loanPaymentId){const{data:o}=await Pa.auth.getUser(),c=((t=o==null?void 0:o.user)==null?void 0:t.id)||null;Au(c,{action:"cash.manual",tableName:T3,recordId:i.id,oldData:null,newData:i})}}catch{}return Is(i)}catch(r){return Ar({code:"network",message:"Li kt ni khi ghi s qu",cause:r})}}const VC="payment_sources";async function C3(e,t,r){try{const{data:a,error:n}=await Pa.from(VC).select("*").eq("id",e).single();if(n||!a)return Ar({code:"supabase",message:"Khng tm thy ngun tin",cause:n});const i=a.balance||{},s={...i,[t]:(i[t]||0)+r},{data:o,error:c}=await Pa.from(VC).update({balance:s}).eq("id",e).select().single();return c||!o?Ar({code:"supabase",message:"Cp nht s d tht bi",cause:c}):Is(o)}catch(a){return Ar({code:"network",message:"Li kt ni khi cp nht s d",cause:a})}}function Co(e){switch(e.code){case"network":return"Mt kt ni my ch. Vui lng kim tra mng.";case"validation":return e.message;case"not_found":return"Khng tm thy bn ghi.";case"supabase":return"C li d liu. Th li hoc lin h qun tr.";default:return"Li khng xc nh."}}const AR=j.createContext(void 0),VQ=({children:e})=>{const[t]=j.useState("CN1"),a=(()=>{try{const Te=localStorage.getItem("motocare-data");if(Te)return JSON.parse(Te)}catch(Te){console.error("Error loading from localStorage:",Te)}return{}})(),[n,i]=j.useState(()=>(a==null?void 0:a.parts)||[]),[s,o]=j.useState(()=>(a==null?void 0:a.customers)||[]),[c,d]=j.useState(()=>(a==null?void 0:a.suppliers)||[]),[h,m]=j.useState(()=>(a==null?void 0:a.sales)||[]),[x,p]=j.useState(()=>(a==null?void 0:a.workOrders)||[]),[y,v]=j.useState(()=>(a==null?void 0:a.cartItems)||[]),[b,k]=j.useState(()=>(a==null?void 0:a.paymentSources)||[{id:"cash",name:"Tin mt",balance:{CN1:0},isDefault:!0},{id:"bank",name:"Ti khon ngn hng",balance:{CN1:0}}]),[N,_]=j.useState(()=>(a==null?void 0:a.cashTransactions)||[]),[T,P]=j.useState(()=>(a==null?void 0:a.inventoryTransactions)||[]),[O,L]=j.useState(()=>(a==null?void 0:a.employees)||[]),[U,I]=j.useState(()=>(a==null?void 0:a.payrollRecords)||[]),[K,D]=j.useState(()=>(a==null?void 0:a.loans)||[]),[F,H]=j.useState(()=>(a==null?void 0:a.loanPayments)||[]),[Y,ne]=j.useState(()=>(a==null?void 0:a.customerDebts)||[]),[X,ae]=j.useState(()=>(a==null?void 0:a.supplierDebts)||[]);j.useEffect(()=>{const Te={parts:n,customers:s,suppliers:c,sales:h,workOrders:x,cartItems:y,paymentSources:b,cashTransactions:N,inventoryTransactions:T,employees:O,payrollRecords:U,loans:K,loanPayments:F,customerDebts:Y,supplierDebts:X};localStorage.setItem("motocare-data",JSON.stringify(Te))},[n,s,c,h,x,y,b,N,T,O,U,K,F,Y,X]);const ue=j.useCallback(Te=>{i(Ae=>{if(Te.id)return Ae.map(we=>we.id===Te.id?{...we,...Te}:we);const de=`PART-${Date.now()}-${Math.random().toString(16).slice(2)}`;return[{id:de,name:Te.name||"Tn ph tng",sku:Te.sku||de,stock:Te.stock||{[t]:0},retailPrice:Te.retailPrice||{[t]:0},wholesalePrice:Te.wholesalePrice||{[t]:0},category:Te.category,description:Te.description,warrantyPeriod:Te.warrantyPeriod,created_at:new Date().toISOString()},...Ae]})},[t]),se=j.useCallback(Te=>{i(Ae=>Ae.filter(de=>de.id!==Te))},[]),be=j.useCallback(Te=>{o(Ae=>Te.id?Ae.findIndex(Xe=>Xe.id===Te.id)>=0?Ae.map(Xe=>Xe.id===Te.id?{...Xe,...Te}:Xe):[{id:Te.id,name:Te.name||"Khch hng",phone:Te.phone,created_at:new Date().toISOString(),...Te},...Ae]:[{id:`CUS-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:Te.name||"Khch hng",phone:Te.phone,created_at:new Date().toISOString(),...Te},...Ae])},[]),J=j.useCallback(Te=>{d(Ae=>Te.id?Ae.map(we=>we.id===Te.id?{...we,...Te}:we):[{id:`SUP-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:Te.name||"Nh cung cp",phone:Te.phone,email:Te.email,address:Te.address,created_at:new Date().toISOString()},...Ae])},[]),M=j.useCallback(Te=>{p(Ae=>Ae.find(Qe=>Qe.id===Te.id)?Ae.map(Qe=>Qe.id===Te.id?Te:Qe):[Te,...Ae])},[]),z=j.useCallback(()=>v([]),[]),q=j.useCallback(Te=>{if(!Te.items.length)return;const Ae=Te.items.reduce((ot,Ct)=>ot+Ct.sellingPrice*Ct.quantity,0),de=Te.items.reduce((ot,Ct)=>ot+(Ct.discount||0),0),Qe=Ae-de-Te.discount,we=`SALE-${Date.now()}`,Ze={id:we,date:new Date().toISOString(),items:Te.items,subtotal:Ae,discount:Te.discount+de,total:Qe,customer:Te.customer,paymentMethod:Te.paymentMethod,userId:"local-user",userName:"Local User",branchId:t,cashTransactionId:void 0};m(ot=>[Ze,...ot]),i(ot=>ot.map(Ct=>{const Pt=Te.items.filter(Dt=>Dt.partId===Ct.id).reduce((Dt,er)=>Dt+er.quantity,0);return Pt?{...Ct,stock:{...Ct.stock,[t]:(Ct.stock[t]||0)-Pt}}:Ct}));const gt={id:`CT-${Date.now()}`,type:"income",date:new Date().toISOString(),amount:Qe,notes:Te.note||"Thu tin bn hng",paymentSourceId:Te.paymentMethod,branchId:t,category:"sale_income",saleId:we};_(ot=>[gt,...ot]),k(ot=>ot.map(Ct=>Ct.id===Te.paymentMethod?{...Ct,balance:{...Ct.balance,[t]:(Ct.balance[t]||0)+Qe}}:Ct)),z()},[z,t]),G=j.useCallback(Te=>{const Ae=h.find(de=>de.id===Te);Ae&&(m(de=>de.filter(Qe=>Qe.id!==Te)),i(de=>de.map(Qe=>{const we=Ae.items.filter(Ze=>Ze.partId===Qe.id).reduce((Ze,Xe)=>Ze+Xe.quantity,0);return we?{...Qe,stock:{...Qe.stock,[t]:(Qe.stock[t]||0)+we}}:Qe})),_(de=>de.filter(Qe=>Qe.saleId!==Te)),k(de=>de.map(Qe=>Qe.id===Ae.paymentMethod?{...Qe,balance:{...Qe.balance,[t]:(Qe.balance[t]||0)-Ae.total}}:Qe)))},[h,t]),re=j.useCallback(Te=>{const de={id:`INV-${Date.now()}-${Math.random().toString(16).slice(2)}`,...Te};P(Qe=>[de,...Qe])},[]),he=j.useCallback(Te=>{L(Ae=>Te.id?Ae.map(we=>we.id===Te.id?{...we,...Te}:we):[{id:`EMP-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:Te.name||"Nhn vin",phone:Te.phone,position:Te.position||"",baseSalary:Te.baseSalary||0,startDate:Te.startDate||new Date().toISOString(),status:Te.status||"active",created_at:new Date().toISOString()},...Ae])},[]),je=j.useCallback(Te=>{I(Ae=>Ae.find(Qe=>Qe.id===Te.id)?Ae.map(Qe=>Qe.id===Te.id?Te:Qe):[Te,...Ae])},[]),oe=j.useCallback(Te=>{D(Ae=>Te.id?Ae.map(we=>we.id===Te.id?{...we,...Te}:we):[{id:`LOAN-${Date.now()}-${Math.random().toString(16).slice(2)}`,lenderName:Te.lenderName||"",loanType:Te.loanType||"bank",principal:Te.principal||0,interestRate:Te.interestRate||0,term:Te.term||0,startDate:Te.startDate||new Date().toISOString(),endDate:Te.endDate||new Date().toISOString(),monthlyPayment:Te.monthlyPayment||0,remainingAmount:Te.remainingAmount||Te.principal||0,status:Te.status||"active",purpose:Te.purpose,collateral:Te.collateral,branchId:t,created_at:new Date().toISOString()},...Ae])},[t]),Ne=j.useCallback(Te=>{H(Ae=>Ae.find(Qe=>Qe.id===Te.id)?Ae.map(Qe=>Qe.id===Te.id?Te:Qe):[Te,...Ae])},[]),Me=j.useCallback((Te,Ae,de)=>{let Qe=0;ne(we=>we.map(Ze=>{if(Te.includes(Ze.customerId)&&Ze.branchId===t){const Xe=Ze.remainingAmount;return Qe+=Xe,{...Ze,paidAmount:Ze.totalAmount,remainingAmount:0,status:"paid"}}return Ze}).filter(Ze=>Ze.remainingAmount>0)),Qe>0&&(async()=>{var ot;const{data:we}=await Pa.auth.getUser(),Ze=((ot=we==null?void 0:we.user)==null?void 0:ot.id)||null,Xe=await E3({type:"income",amount:Qe,branchId:t,paymentSourceId:Ae,date:de,category:"debt_collection",notes:`Thu ht n cho ${Te.length} khch hng`,recipient:`Thu n ${Te.length} khch hng`});if(!Xe.ok){Nt.error(Co(Xe.error));return}const gt=await C3(Ae,t,Qe);gt.ok||Nt.error(Co(gt.error)),Au(Ze,{action:"debt.customer_pay",tableName:"customer_debts",oldData:null,newData:{customerIds:Te,totalPaid:Qe,paymentMethod:Ae,timestamp:de}})})()},[t]),Q=j.useCallback((Te,Ae,de)=>{let Qe=0;ae(we=>we.map(Ze=>{if(Te.includes(Ze.supplierId)&&Ze.branchId===t){const Xe=Ze.remainingAmount;return Qe+=Xe,{...Ze,paidAmount:Ze.totalAmount,remainingAmount:0,status:"paid"}}return Ze}).filter(Ze=>Ze.remainingAmount>0)),Qe>0&&(async()=>{var ot;const{data:we}=await Pa.auth.getUser(),Ze=((ot=we==null?void 0:we.user)==null?void 0:ot.id)||null,Xe=await E3({type:"expense",amount:Qe,branchId:t,paymentSourceId:Ae,date:de,category:"debt_payment",notes:`Tr ht n cho ${Te.length} nh cung cp`,recipient:`Tr n ${Te.length} nh cung cp`});if(!Xe.ok){Nt.error(Co(Xe.error));return}const gt=await C3(Ae,t,-Qe);gt.ok||Nt.error(Co(gt.error)),Au(Ze,{action:"debt.supplier_pay",tableName:"supplier_debts",oldData:null,newData:{supplierIds:Te,totalPaid:Qe,paymentMethod:Ae,timestamp:de}})})()},[t]);return u.jsx(AR.Provider,{value:{parts:n,customers:s,suppliers:c,sales:h,workOrders:x,cartItems:y,paymentSources:b,cashTransactions:N,inventoryTransactions:T,employees:O,payrollRecords:U,loans:K,loanPayments:F,customerDebts:Y,supplierDebts:X,currentBranchId:t,setParts:i,upsertPart:ue,deletePart:se,setCustomers:o,upsertCustomer:be,setSuppliers:d,upsertSupplier:J,setWorkOrders:p,upsertWorkOrder:M,setCartItems:v,clearCart:z,deleteSale:G,finalizeSale:q,setPaymentSources:k,setCashTransactions:_,recordInventoryTransaction:re,setEmployees:L,upsertEmployee:he,setPayrollRecords:I,upsertPayrollRecord:je,setLoans:D,upsertLoan:oe,setLoanPayments:H,upsertLoanPayment:Ne,setCustomerDebts:ne,setSupplierDebts:ae,payCustomerDebts:Me,paySupplierDebts:Q},children:e})},yi=()=>{const e=j.useContext(AR);if(!e)throw new Error("useAppContext phi dng bn trong AppProvider");return e},TR=j.createContext(void 0),KQ=({children:e})=>{const[t,r]=j.useState(()=>{const n=localStorage.getItem("theme");return n==="light"||n==="dark"?n:"light"});j.useEffect(()=>{localStorage.setItem("theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const a=()=>{r(n=>n==="light"?"dark":"light")};return u.jsx(TR.Provider,{value:{theme:t,toggleTheme:a},children:e})},GQ=()=>{const e=j.useContext(TR);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},ER=j.createContext(void 0),G0=()=>{const e=j.useContext(ER);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},YQ=({children:e})=>{const[t,r]=j.useState(null),[a,n]=j.useState(null),[i,s]=j.useState(null),[o,c]=j.useState(!0),[d,h]=j.useState(null);j.useEffect(()=>{Pa.auth.getSession().then(({data:{session:k}})=>{s(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?m(k.user.id):c(!1)});const{data:{subscription:b}}=Pa.auth.onAuthStateChange((k,N)=>{s(N),r((N==null?void 0:N.user)??null),N!=null&&N.user?m(N.user.id):(n(null),c(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{let{data:k,error:N}=await Pa.from("profiles").select("*").eq("id",b).maybeSingle();if(N&&N.code!=="PGRST116")throw N;if(!k){const _=await Pa.from("user_profiles").select("*").eq("id",b).maybeSingle();if(k=_.data,N=_.error,N&&N.code!=="PGRST116")throw N}if(N)throw N;n(k||null)}catch(k){console.error("Error loading user profile:",k),n(null),h("Khng th ti h s ngi dng")}finally{c(!1)}},v={user:t,profile:a,session:i,loading:o,error:d,signIn:async(b,k)=>{var P;const{error:N,data:_}=await Pa.auth.signInWithPassword({email:b,password:k});if(N)throw N;h(null);const T=((P=_==null?void 0:_.user)==null?void 0:P.id)||null;Au(T,{action:"auth.login"})},signOut:async()=>{const b=(t==null?void 0:t.id)||null,{error:k}=await Pa.auth.signOut();if(k)throw k;h(null),Au(b,{action:"auth.logout"})},hasRole:b=>a?b.includes(a.role):!1};return u.jsx(ER.Provider,{value:v,children:e})};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CR=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:s,...o},c)=>j.createElement("svg",{ref:c,...QQ,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:CR("lucide",n),...o},[...s.map(([d,h])=>j.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(e,t)=>{const r=j.forwardRef(({className:a,...n},i)=>j.createElement(JQ,{ref:i,iconNode:t,className:CR(`lucide-${XQ(e)}`,a),...n}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=Xt("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=Xt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Xt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=Xt("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Xt("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=Xt("Bolt",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Xt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=Xt("BriefcaseBusiness",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=Xt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Xt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=Xt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Xt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Xt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=Xt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=Xt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Xt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=Xt("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Xt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=Xt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Xt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=Xt("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Xt("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=Xt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Xt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=Xt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Xt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=Xt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=Xt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=Xt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=Xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=Xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=Xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=Xt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=Xt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Xt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Xt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Xt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=Xt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=Xt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=Xt("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=Xt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Xt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=Xt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Xt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=Xt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=Xt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=Xt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=Xt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=Xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Xt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=Xt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=Xt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=Xt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=Xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Xt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Xt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CJ=()=>{const e=iN(),{signIn:t}=G0(),[r,a]=j.useState(""),[n,i]=j.useState(""),[s,o]=j.useState(!1),[c,d]=j.useState(""),h=async m=>{m.preventDefault(),d(""),o(!0);try{await t(r,n),Nt.success("ng nhp thnh cng!"),e("/dashboard")}catch(x){console.error("Login error:",x);const p=x.message||"ng nhp tht bi";d(p),Nt.error(p)}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white dark:bg-slate-800 rounded-2xl mb-4 shadow-lg ring-1 ring-slate-200 dark:ring-slate-700 overflow-hidden",children:u.jsx("img",{src:"/logo-smartcare.png",alt:"Nhn-Lm SmartCare",className:"w-full h-full object-contain p-1.5",onError:m=>{const x=m.currentTarget;x.style.display="none";const p=x.parentElement;if(p){p.innerHTML="";const y=document.createElement("span");y.className="text-blue-600 dark:text-blue-400",p.appendChild(y)}}})}),u.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"MotoCare"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"H thng qun l ca hng xe my"})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-6",children:"ng nhp"}),c&&u.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:c})}),u.jsxs("form",{onSubmit:h,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:r,onChange:m=>a(m.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mt khu"}),u.jsx("input",{type:"password",value:n,onChange:m=>i(m.target.value),placeholder:"",required:!0,className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 rounded focus:ring-2 focus:ring-blue-500"}),u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ghi nh ng nhp"})]}),u.jsx("a",{href:"#",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Qun mt khu?"})]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white font-semibold rounded-lg transition-colors shadow-lg hover:shadow-xl disabled:cursor-not-allowed",children:s?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang ng nhp..."]}):"ng nhp"})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3 flex items-center gap-1",children:[u.jsx(uJ,{className:"w-4 h-4"})," Ti khon demo:"]}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[u.jsx(LR,{className:"w-4 h-4"})," Ch ca hng"]}),u.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"owner.motocare.test@gmail.com"})]}),u.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[u.jsx(zR,{className:"w-4 h-4"})," Qun l"]}),u.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"manager.motocare.test@gmail.com"})]}),u.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[u.jsxs("span",{className:"flex items-center gap-1 text-slate-600 dark:text-slate-400",children:[u.jsx(TN,{className:"w-4 h-4"})," Nhn vin"]}),u.jsx("code",{className:"text-blue-600 dark:text-blue-400",children:"staff.motocare.test@gmail.com"})]}),u.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-center mt-2",children:["Mt khu: ",u.jsx("code",{className:"font-semibold",children:"123456"})]})]})]})]}),u.jsx("div",{className:"text-center mt-6",children:u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:" 2025 MotoCare. Phin bn 1.0.0"})})]})})},$R=({size:e="md",color:t="blue",text:r})=>{const a={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"},n={blue:"border-blue-200 dark:border-blue-900 border-t-blue-600 dark:border-t-blue-400",white:"border-white/30 border-t-white",slate:"border-slate-200 dark:border-slate-700 border-t-slate-600 dark:border-t-slate-400"};return u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[u.jsx("div",{className:`${a[e]} ${n[t]} rounded-full animate-spin`}),r&&u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 animate-pulse",children:r})]})},cu=({children:e,requiredRoles:t})=>{const{user:r,profile:a,loading:n,error:i}=G0();return i&&Nt.error(i),n||r&&!a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsx($R,{})}):r?t&&a&&!t.includes(a.role)?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4 flex items-center justify-center gap-3",children:[u.jsx(eJ,{className:"w-8 h-8 text-red-600 dark:text-red-400"}),"Khng c quyn truy cp"]}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Bn khng c quyn truy cp trang ny."}),u.jsx("button",{onClick:()=>window.history.back(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold",children:"Quay li"})]})}):u.jsx(u.Fragment,{children:e}):u.jsx(oM,{to:"/login",replace:!0})},Be=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),Qa=(e,t=!0)=>{const r=typeof e=="string"?new Date(e):e;if(Number.isNaN(r.getTime()))return"--";const a=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),i=r.getFullYear();if(t)return`${a}/${n}/${i}`;const s=String(r.getHours()).padStart(2,"0"),o=String(r.getMinutes()).padStart(2,"0");return`${a}/${n}/${i} ${s}:${o}`},_r=()=>Math.random().toString(36).substr(2,9),Cc=new Date,Gt=e=>{const t=new Date(Cc);return t.setDate(t.getDate()-e),t.toISOString()},tr=[{id:_r(),name:"Nguyn Vn An",phone:"0901234567",email:"annv@gmail.com",vehicleModel:"Honda SH 2023",licensePlate:"30A-12345",status:"active",segment:"VIP",loyaltyPoints:5800,totalSpent:29e6,visitCount:32,lastVisit:Gt(3),created_at:Gt(180)},{id:_r(),name:"Trn Th Bnh",phone:"0912345678",email:"binhtt@gmail.com",vehicleModel:"Yamaha Exciter 150",licensePlate:"30B-67890",status:"active",segment:"Loyal",loyaltyPoints:2500,totalSpent:125e5,visitCount:15,lastVisit:Gt(7),created_at:Gt(150)},{id:_r(),name:"L Minh Cng",phone:"0923456789",email:"cuonglm@gmail.com",vehicleModel:"Honda Vision 2022",licensePlate:"30C-11111",status:"active",segment:"Potential",loyaltyPoints:680,totalSpent:34e5,visitCount:5,lastVisit:Gt(15),created_at:Gt(90)},{id:_r(),name:"Phm Thu H",phone:"0934567890",email:"hapt@gmail.com",vehicleModel:"Suzuki Raider 150",licensePlate:"30D-22222",status:"active",segment:"New",loyaltyPoints:150,totalSpent:75e4,visitCount:2,lastVisit:Gt(5),created_at:Gt(30)},{id:_r(),name:"V Thanh Tng",phone:"0945678901",email:"tungvt@gmail.com",vehicleModel:"Honda Air Blade",licensePlate:"30E-33333",status:"active",segment:"VIP",loyaltyPoints:4200,totalSpent:21e6,visitCount:28,lastVisit:Gt(2),created_at:Gt(200)}],cr=[{id:_r(),name:"Nht Motul 7100 10W40",sku:"MOTUL-7100",retailPrice:{CN1:18e4},wholesalePrice:{CN1:15e4},stock:{CN1:50},category:"Nht ng c",description:"Nht cao cp cho xe cn tay",created_at:Gt(365)},{id:_r(),name:"Lp Michelin Pilot Street",sku:"MICH-PS",retailPrice:{CN1:45e4},wholesalePrice:{CN1:38e4},stock:{CN1:30},category:"Lp xe",description:"Lp cht lng cao",created_at:Gt(300)},{id:_r(),name:"Phanh ABS Honda SH",sku:"PHANH-SH",retailPrice:{CN1:35e4},wholesalePrice:{CN1:28e4},stock:{CN1:8},category:"Ph tng phanh",description:"M phanh chnh hng",created_at:Gt(250)},{id:_r(),name:"c quy GS GTZ5S",sku:"ACQUY-GS",retailPrice:{CN1:38e4},wholesalePrice:{CN1:32e4},stock:{CN1:25},category:"c quy",description:"c quy kh, bo hnh 6 thng",created_at:Gt(200)},{id:_r(),name:"Nht Shell Advance AX7",sku:"SHELL-AX7",retailPrice:{CN1:12e4},wholesalePrice:{CN1:95e3},stock:{CN1:80},category:"Nht ng c",description:"Nht bn tng hp",created_at:Gt(180)},{id:_r(),name:"Lc gi K&N",sku:"KN-FILTER",retailPrice:{CN1:25e4},wholesalePrice:{CN1:2e5},stock:{CN1:15},category:"Lc",description:"Lc gi cao cp, c th ra",created_at:Gt(150)},{id:_r(),name:"Xch MTKRACING 428",sku:"XICH-MTK",retailPrice:{CN1:28e4},wholesalePrice:{CN1:23e4},stock:{CN1:5},category:"Xch nhng",description:"Xch cht lng cao",created_at:Gt(120)}],Qo=[{id:_r(),name:"Nguyn Vn c",phone:"0987654321",email:"duc.nv@motocare.vn",position:"K thut vin chnh",department:"K thut",baseSalary:12e6,allowances:5e5,startDate:Gt(730),status:"active",branchId:"CN1",created_at:Gt(730)},{id:_r(),name:"Trn Minh Hong",phone:"0976543210",email:"hoang.tm@motocare.vn",position:"Nhn vin bn hng",department:"Kinh doanh",baseSalary:8e6,allowances:3e5,startDate:Gt(365),status:"active",branchId:"CN1",created_at:Gt(365)},{id:_r(),name:"L Th Mai",phone:"0965432109",email:"mai.lt@motocare.vn",position:"K ton",department:"Ti chnh",baseSalary:1e7,allowances:4e5,startDate:Gt(500),status:"active",branchId:"CN1",created_at:Gt(500)},{id:_r(),name:"Phm Vn Sn",phone:"0954321098",email:"son.pv@motocare.vn",position:"K thut vin",department:"K thut",baseSalary:9e6,allowances:3e5,startDate:Gt(200),status:"active",branchId:"CN1",created_at:Gt(200)}],P3=[...Array.from({length:5},(e,t)=>{const r=[{partId:cr[0].id,partName:cr[0].name,sku:cr[0].sku,quantity:2,sellingPrice:cr[0].retailPrice.CN1,stockSnapshot:cr[0].stock.CN1},{partId:cr[1].id,partName:cr[1].name,sku:cr[1].sku,quantity:1,sellingPrice:cr[1].retailPrice.CN1,stockSnapshot:cr[1].stock.CN1}],a=r.reduce((n,i)=>n+i.sellingPrice*i.quantity,0);return{id:_r(),date:Gt(t),customer:{id:tr[t%tr.length].id,name:tr[t%tr.length].name,phone:tr[t%tr.length].phone},items:r,subtotal:a,discount:0,total:a,paymentMethod:"cash",userId:"demo-user",userName:"Demo User",branchId:"CN1"}}),...Array.from({length:10},(e,t)=>{const r=cr[(t+1)%cr.length],a=[{partId:r.id,partName:r.name,sku:r.sku,quantity:1,sellingPrice:r.retailPrice.CN1,stockSnapshot:r.stock.CN1}],n=a.reduce((i,s)=>i+s.sellingPrice*s.quantity,0);return{id:_r(),date:Gt(t+6),customer:{id:tr[(t+2)%tr.length].id,name:tr[(t+2)%tr.length].name,phone:tr[(t+2)%tr.length].phone},items:a,subtotal:n,discount:0,total:n,paymentMethod:Math.random()>.5?"cash":"bank",userId:"demo-user",userName:"Demo User",branchId:"CN1"}}),...Array.from({length:15},(e,t)=>{const r=cr[t%cr.length],a=Math.floor(Math.random()*3)+1,n=[{partId:r.id,partName:r.name,sku:r.sku,quantity:a,sellingPrice:r.retailPrice.CN1,stockSnapshot:r.stock.CN1}],i=n.reduce((s,o)=>s+o.sellingPrice*o.quantity,0);return{id:_r(),date:Gt(t+16),customer:{id:tr[(t+3)%tr.length].id,name:tr[(t+3)%tr.length].name,phone:tr[(t+3)%tr.length].phone},items:n,subtotal:i,discount:0,total:i,paymentMethod:Math.random()>.5?"cash":"bank",userId:"demo-user",userName:"Demo User",branchId:"CN1"}})],QC=Qo.flatMap(e=>[{id:_r(),employeeId:e.id,employeeName:e.name,month:Cc.toISOString().slice(0,7),baseSalary:e.baseSalary,allowances:e.allowances||0,bonus:1e6,deduction:0,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:e.baseSalary+(e.allowances||0)+1e6,paymentStatus:"pending",branchId:"CN1",created_at:Cc.toISOString()},{id:_r(),employeeId:e.id,employeeName:e.name,month:new Date(Cc.getFullYear(),Cc.getMonth()-1,1).toISOString().slice(0,7),baseSalary:e.baseSalary,allowances:e.allowances||0,bonus:8e5,deduction:0,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:e.baseSalary+(e.allowances||0)+8e5,paymentStatus:"paid",paymentDate:Gt(5),paymentMethod:"bank",branchId:"CN1",created_at:Gt(35)}]),JC=[{id:_r(),lenderName:"Ngn hng Vietcombank",loanType:"bank",principal:1e8,interestRate:12,term:12,startDate:Gt(180),endDate:new Date(Cc.getFullYear()+1,Cc.getMonth(),Cc.getDate()).toISOString(),purpose:"M rng ca hng",remainingAmount:75e6,monthlyPayment:1e7,status:"active",branchId:"CN1",created_at:Gt(180)},{id:_r(),lenderName:"Ngn hng Techcombank",loanType:"bank",principal:5e7,interestRate:10,term:6,startDate:Gt(90),endDate:new Date(Cc.getFullYear(),Cc.getMonth()+6,Cc.getDate()).toISOString(),purpose:"Nhp hng",remainingAmount:4e7,monthlyPayment:9e6,status:"active",branchId:"CN1",created_at:Gt(90)}],ZC=[...P3.slice(0,10).map(e=>({id:_r(),type:"income",category:"sale_income",amount:e.total,date:e.date,notes:`Bn hng cho ${e.customer.name}`,paymentSourceId:e.paymentMethod==="cash"?"cash":"bank",recipient:e.customer.name,branchId:"CN1"})),{id:_r(),type:"expense",category:"salary",amount:125e5,date:Gt(5),notes:`Tr lng thng trc - ${Qo[0].name}`,paymentSourceId:"bank",recipient:Qo[0].name,branchId:"CN1"},{id:_r(),type:"expense",category:"loan_payment",amount:1e7,date:Gt(10),notes:"Tr n vay - Vietcombank (Gc: 8000000, Li: 2000000)",paymentSourceId:"bank",recipient:"Ngn hng Vietcombank",branchId:"CN1"},{id:_r(),type:"expense",category:"inventory_purchase",amount:15e6,date:Gt(15),notes:"Nhp ph tng",paymentSourceId:"cash",branchId:"CN1"},{id:_r(),type:"expense",category:"other_expense",amount:3e6,date:Gt(7),notes:"Tin in, nc, internet thng ny",paymentSourceId:"cash",branchId:"CN1"}],gu=[{id:_r(),name:"Cng ty TNHH Ph tng Minh Anh",phone:"0281234567",email:"minhanh@parts.vn",address:"123 Nguyn Vn Linh, Q.7, TP.HCM",created_at:Gt(365)},{id:_r(),name:"Nh phn phi Honda chnh hng",phone:"0282345678",email:"honda@distributor.vn",address:"456 Xa l H Ni, Q.9, TP.HCM",created_at:Gt(300)},{id:_r(),name:"Yamaha Parts Vietnam",phone:"0283456789",email:"yamaha@parts.vn",address:"789 L Vn Vit, Q.9, TP.HCM",created_at:Gt(250)}],e8=[{id:_r(),customerId:tr[0].id,customerName:tr[0].name,phone:tr[0].phone,licensePlate:tr[0].licensePlate,description:"Thay nht + lc gi + bugi (n hng #DH001)",totalAmount:85e4,paidAmount:5e5,remainingAmount:35e4,createdDate:Gt(10),branchId:"CN1"},{id:_r(),customerId:tr[1].id,customerName:tr[1].name,phone:tr[1].phone,licensePlate:tr[1].licensePlate,description:"Thay lp Michelin Pilot Street (n hng #DH002)",totalAmount:125e4,paidAmount:0,remainingAmount:125e4,createdDate:Gt(7),branchId:"CN1"},{id:_r(),customerId:tr[2].id,customerName:tr[2].name,phone:tr[2].phone,licensePlate:tr[2].licensePlate,description:"Thay m phanh trc/sau + du phanh (n hng #DH003)",totalAmount:98e4,paidAmount:3e5,remainingAmount:68e4,createdDate:Gt(5),branchId:"CN1"},{id:_r(),customerId:tr[3].id,customerName:tr[3].name,phone:tr[3].phone,licensePlate:tr[3].licensePlate,description:"Thay c quy GS 12V-7Ah (n hng #DH004)",totalAmount:55e4,paidAmount:0,remainingAmount:55e4,createdDate:Gt(3),branchId:"CN1"},{id:_r(),customerId:tr[4].id,customerName:tr[4].name,phone:tr[4].phone,licensePlate:tr[4].licensePlate,description:"Bo dng nh k 5000km (n hng #DH005)",totalAmount:185e4,paidAmount:1e6,remainingAmount:85e4,createdDate:Gt(2),branchId:"CN1"}],t8=[{id:_r(),supplierId:gu[0].id,supplierName:gu[0].name,description:"Nhp 50 chai du nht Shell 10W40 (n nhp #PN001)",totalAmount:6e6,paidAmount:3e6,remainingAmount:3e6,createdDate:Gt(15),branchId:"CN1"},{id:_r(),supplierId:gu[1].id,supplierName:gu[1].name,description:"Nhp l ph tng chnh hng Honda (n nhp #PN002)",totalAmount:25e6,paidAmount:15e6,remainingAmount:1e7,createdDate:Gt(12),branchId:"CN1"},{id:_r(),supplierId:gu[2].id,supplierName:gu[2].name,description:"Nhp 20 b m phanh Yamaha Exciter (n nhp #PN003)",totalAmount:45e5,paidAmount:0,remainingAmount:45e5,createdDate:Gt(8),branchId:"CN1"},{id:_r(),supplierId:gu[0].id,supplierName:gu[0].name,description:"Nhp 30 lc lc du + lc gi (n nhp #PN004)",totalAmount:32e5,paidAmount:32e5,remainingAmount:0,createdDate:Gt(5),branchId:"CN1"}],r8=[{id:_r(),creationDate:Gt(1),customerName:tr[0].name,customerPhone:tr[0].phone,vehicleModel:tr[0].vehicleModel,licensePlate:tr[0].licensePlate,issueDescription:"Thay nht nh k, kim tra phanh",technicianName:Qo[0].name,status:"ang sa",laborCost:15e4,partsUsed:[{partId:cr[0].id,partName:cr[0].name,sku:cr[0].sku,quantity:1,price:cr[0].retailPrice.CN1}],discount:0,total:15e4+cr[0].retailPrice.CN1,branchId:"CN1",depositAmount:2e5,depositDate:Gt(1),paymentStatus:"partial",totalPaid:2e5,remainingAmount:15e4+cr[0].retailPrice.CN1-2e5},{id:_r(),creationDate:Gt(0),customerName:tr[1].name,customerPhone:tr[1].phone,vehicleModel:tr[1].vehicleModel,licensePlate:tr[1].licensePlate,issueDescription:"Xe kh n, kim tra h thng in",technicianName:Qo[3].name,status:"Tip nhn",laborCost:3e5,partsUsed:[],discount:0,total:3e5,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Gt(3),customerName:tr[2].name,customerPhone:tr[2].phone,vehicleModel:tr[2].vehicleModel,licensePlate:tr[2].licensePlate,issueDescription:"Thay lp trc, cn chnh bnh xe",technicianName:Qo[0].name,status:" sa xong",laborCost:1e5,partsUsed:[{partId:cr[1].id,partName:cr[1].name,sku:cr[1].sku,quantity:1,price:cr[1].retailPrice.CN1}],discount:2e4,total:1e5+cr[1].retailPrice.CN1-2e4,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Gt(5),customerName:tr[3].name,customerPhone:tr[3].phone,vehicleModel:tr[3].vehicleModel,licensePlate:tr[3].licensePlate,issueDescription:"Thay c quy, kim tra h thng sc",technicianName:Qo[3].name,status:"Tr my",laborCost:5e4,partsUsed:[{partId:cr[3].id,partName:cr[3].name,sku:cr[3].sku,quantity:1,price:cr[3].retailPrice.CN1}],discount:0,total:5e4+cr[3].retailPrice.CN1,branchId:"CN1",depositAmount:1e5,depositDate:Gt(5),paymentStatus:"paid",paymentMethod:"cash",totalPaid:5e4+cr[3].retailPrice.CN1,remainingAmount:0,paymentDate:Gt(5)},{id:_r(),creationDate:Gt(2),customerName:tr[4].name,customerPhone:tr[4].phone,vehicleModel:tr[4].vehicleModel,licensePlate:tr[4].licensePlate,issueDescription:"Thay dy xch, nhng, kim tra phanh sau",technicianName:Qo[0].name,status:"ang sa",laborCost:2e5,partsUsed:[{partId:cr[6].id,partName:cr[6].name,sku:cr[6].sku,quantity:1,price:cr[6].retailPrice.CN1},{partId:cr[2].id,partName:cr[2].name,sku:cr[2].sku,quantity:2,price:cr[2].retailPrice.CN1}],discount:3e4,total:2e5+cr[6].retailPrice.CN1+cr[2].retailPrice.CN1*2-3e4,branchId:"CN1",depositAmount:3e5,depositDate:Gt(2),paymentStatus:"partial",totalPaid:3e5,remainingAmount:2e5+cr[6].retailPrice.CN1+cr[2].retailPrice.CN1*2-3e4-3e5},{id:_r(),creationDate:Gt(0),customerName:"Phm Vn c",customerPhone:"0967890123",vehicleModel:"Honda Wave RSX",licensePlate:"30F-44444",issueDescription:"Bo dng nh k 5000km",technicianName:Qo[3].name,status:"Tip nhn",laborCost:1e5,partsUsed:[],discount:0,total:1e5,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Gt(4),customerName:"L Th Hng",customerPhone:"0978901234",vehicleModel:"Yamaha Sirius",licensePlate:"30G-55555",issueDescription:"Thay lc gi, kim tra bugi",technicianName:Qo[0].name,status:" sa xong",laborCost:8e4,partsUsed:[{partId:cr[5].id,partName:cr[5].name,sku:cr[5].sku,quantity:1,price:cr[5].retailPrice.CN1}],discount:1e4,total:8e4+cr[5].retailPrice.CN1-1e4,branchId:"CN1",paymentStatus:"unpaid"},{id:_r(),creationDate:Gt(7),customerName:"Nguyn Thanh Tng",customerPhone:"0989012345",vehicleModel:"Honda Future",licensePlate:"30H-66666",issueDescription:"Sa h thng phanh a, thay du phanh",technicianName:Qo[3].name,status:"Tr my",laborCost:15e4,partsUsed:[{partId:cr[2].id,partName:cr[2].name,sku:cr[2].sku,quantity:2,price:cr[2].retailPrice.CN1}],discount:0,total:15e4+cr[2].retailPrice.CN1*2,branchId:"CN1",paymentStatus:"paid",paymentMethod:"bank",totalPaid:15e4+cr[2].retailPrice.CN1*2,remainingAmount:0,paymentDate:Gt(7)}],OJ=()=>{const e=localStorage.getItem("motocare-data");if(e){const t=JSON.parse(e);t.customers=[...t.customers||[],...tr],t.parts=[...t.parts||[],...cr],t.sales=[...t.sales||[],...P3],t.employees=[...t.employees||[],...Qo],t.payrollRecords=[...t.payrollRecords||[],...QC],t.loans=[...t.loans||[],...JC],t.cashTransactions=[...t.cashTransactions||[],...ZC],t.suppliers=[...t.suppliers||[],...gu],t.workOrders=[...t.workOrders||[],...r8],t.customerDebts=[...t.customerDebts||[],...e8],t.supplierDebts=[...t.supplierDebts||[],...t8],localStorage.setItem("motocare-data",JSON.stringify(t))}else{const t={customers:tr,parts:cr,sales:P3,employees:Qo,payrollRecords:QC,loans:JC,cashTransactions:ZC,suppliers:gu,workOrders:r8,customerDebts:e8,supplierDebts:t8,cartItems:[],loanPayments:[],inventoryTransactions:[],paymentSources:[{id:"cash",name:"Tin mt",balance:{CN1:5e7}},{id:"bank",name:"Ngn hng",balance:{CN1:15e7}}]};localStorage.setItem("motocare-data",JSON.stringify(t))}return console.log("Demo data loaded successfully."),!0},PJ=()=>{localStorage.removeItem("motocare-data"),console.log("Demo data cleared.")};var DJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function CN(e){if(typeof e!="string")return!1;var t=DJ;return t.includes(e)}var LJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function HR(e){if(typeof e!="string")return!1;var t=LJ;return t.includes(e)}function WR(e){return typeof e=="string"&&e.startsWith("data-")}function no(e){var t=Object.entries(e).filter(r=>{var[a]=r;return HR(a)||WR(a)});return Object.fromEntries(t)}function Bh(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return no(t)}return typeof e=="object"&&!Array.isArray(e)?no(e):null}function io(e){var t=Object.entries(e).filter(r=>{var[a]=r;return HR(a)||WR(a)||CN(a)});return Object.fromEntries(t)}function VR(e){return e==null?null:j.isValidElement(e)?io(e.props):typeof e=="object"&&!Array.isArray(e)?io(e):null}var MJ=["children","width","height","viewBox","className","style","title","desc"];function D3(){return D3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},D3.apply(null,arguments)}function RJ(e,t){if(e==null)return{};var r,a,n=IJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var ON=j.forwardRef((e,t)=>{var{children:r,width:a,height:n,viewBox:i,className:s,style:o,title:c,desc:d}=e,h=RJ(e,MJ),m=i||{width:a,height:n,x:0,y:0},x=Br("recharts-surface",s);return j.createElement("svg",D3({},io(h),{className:x,width:a,height:n,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),j.createElement("title",null,c),j.createElement("desc",null,d),r)}),FJ=["children","className"];function L3(){return L3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},L3.apply(null,arguments)}function BJ(e,t){if(e==null)return{};var r,a,n=UJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UJ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Kn=j.forwardRef((e,t)=>{var{children:r,className:a}=e,n=BJ(e,FJ),i=Br("recharts-layer",a);return j.createElement("g",L3({className:i},io(n),{ref:t}),r)}),KR=j.createContext(null),zJ=()=>j.useContext(KR);function Za(e){return function(){return e}}const GR=Math.cos,Rb=Math.sin,Uc=Math.sqrt,Ib=Math.PI,X2=2*Ib,M3=Math.PI,R3=2*M3,rh=1e-6,qJ=R3-rh;function YR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $J(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YR;const r=10**t;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class HJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YR:$J(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,n){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(t,r,a,n,i,s){this._append`C${+t},${+r},${+a},${+n},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,a,n,i){if(t=+t,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=a-t,d=n-r,h=s-t,m=o-r,x=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>rh)if(!(Math.abs(m*c-d*h)>rh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-s,y=n-o,v=c*c+d*d,b=p*p+y*y,k=Math.sqrt(v),N=Math.sqrt(x),_=i*Math.tan((M3-Math.acos((v+x-b)/(2*k*N)))/2),T=_/N,P=_/k;Math.abs(T-1)>rh&&this._append`L${t+T*h},${r+T*m}`,this._append`A${i},${i},0,0,${+(m*p>h*y)},${this._x1=t+P*c},${this._y1=r+P*d}`}}arc(t,r,a,n,i,s){if(t=+t,r=+r,a=+a,s=!!s,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),c=a*Math.sin(n),d=t+o,h=r+c,m=1^s,x=s?n-i:i-n;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>rh||Math.abs(this._y1-h)>rh)&&this._append`L${d},${h}`,a&&(x<0&&(x=x%R3+R3),x>qJ?this._append`A${a},${a},0,1,${m},${t-o},${r-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=h}`:x>rh&&this._append`A${a},${a},0,${+(x>=M3)},${m},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function PN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new HJ(t)}function DN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XR(e){this._context=e}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Q2(e){return new XR(e)}function QR(e){return e[0]}function JR(e){return e[1]}function ZR(e,t){var r=Za(!0),a=null,n=Q2,i=null,s=PN(o);e=typeof e=="function"?e:e===void 0?QR:Za(e),t=typeof t=="function"?t:t===void 0?JR:Za(t);function o(c){var d,h=(c=DN(c)).length,m,x=!1,p;for(a==null&&(i=n(p=s())),d=0;d<=h;++d)!(d<h&&r(m=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(m,d,c),+t(m,d,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Za(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Za(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Za(!!c),o):r},o.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),o):n},o.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),o):a},o}function Ey(e,t,r){var a=null,n=Za(!0),i=null,s=Q2,o=null,c=PN(d);e=typeof e=="function"?e:e===void 0?QR:Za(+e),t=typeof t=="function"?t:Za(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?JR:Za(+r);function d(m){var x,p,y,v=(m=DN(m)).length,b,k=!1,N,_=new Array(v),T=new Array(v);for(i==null&&(o=s(N=c())),x=0;x<=v;++x){if(!(x<v&&n(b=m[x],x,m))===k)if(k=!k)p=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=x-1;y>=p;--y)o.point(_[y],T[y]);o.lineEnd(),o.areaEnd()}k&&(_[x]=+e(b,x,m),T[x]=+t(b,x,m),o.point(a?+a(b,x,m):_[x],r?+r(b,x,m):T[x]))}if(N)return o=null,N+""||null}function h(){return ZR().defined(n).curve(s).context(i)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Za(+m),a=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Za(+m),d):e},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Za(+m),d):a},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Za(+m),r=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Za(+m),d):t},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Za(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(r)},d.lineX1=function(){return h().x(a).y(t)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Za(!!m),d):n},d.curve=function(m){return arguments.length?(s=m,i!=null&&(o=s(i)),d):s},d.context=function(m){return arguments.length?(m==null?i=o=null:o=s(i=m),d):i},d}class eI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WJ(e){return new eI(e,!0)}function VJ(e){return new eI(e,!1)}const LN={draw(e,t){const r=Uc(t/Ib);e.moveTo(r,0),e.arc(0,0,r,0,X2)}},KJ={draw(e,t){const r=Uc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tI=Uc(1/3),GJ=tI*2,YJ={draw(e,t){const r=Uc(t/GJ),a=r*tI;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},XJ={draw(e,t){const r=Uc(t),a=-r/2;e.rect(a,a,r,r)}},QJ=.8908130915292852,rI=Rb(Ib/10)/Rb(7*Ib/10),JJ=Rb(X2/10)*rI,ZJ=-GR(X2/10)*rI,eZ={draw(e,t){const r=Uc(t*QJ),a=JJ*r,n=ZJ*r;e.moveTo(0,-r),e.lineTo(a,n);for(let i=1;i<5;++i){const s=X2*i/5,o=GR(s),c=Rb(s);e.lineTo(c*r,-o*r),e.lineTo(o*a-c*n,c*a+o*n)}e.closePath()}},Ok=Uc(3),tZ={draw(e,t){const r=-Uc(t/(Ok*3));e.moveTo(0,r*2),e.lineTo(-Ok*r,-r),e.lineTo(Ok*r,-r),e.closePath()}},Cl=-.5,Ol=Uc(3)/2,I3=1/Uc(12),rZ=(I3/2+1)*3,aZ={draw(e,t){const r=Uc(t/rZ),a=r/2,n=r*I3,i=a,s=r*I3+r,o=-i,c=s;e.moveTo(a,n),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Cl*a-Ol*n,Ol*a+Cl*n),e.lineTo(Cl*i-Ol*s,Ol*i+Cl*s),e.lineTo(Cl*o-Ol*c,Ol*o+Cl*c),e.lineTo(Cl*a+Ol*n,Cl*n-Ol*a),e.lineTo(Cl*i+Ol*s,Cl*s-Ol*i),e.lineTo(Cl*o+Ol*c,Cl*c-Ol*o),e.closePath()}};function nZ(e,t){let r=null,a=PN(n);e=typeof e=="function"?e:Za(e||LN),t=typeof t=="function"?t:Za(t===void 0?64:+t);function n(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Za(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Za(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function Fb(){}function Bb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function aI(e){this._context=e}aI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iZ(e){return new aI(e)}function nI(e){this._context=e}nI.prototype={areaStart:Fb,areaEnd:Fb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sZ(e){return new nI(e)}function iI(e){this._context=e}iI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Bb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oZ(e){return new iI(e)}function sI(e){this._context=e}sI.prototype={areaStart:Fb,areaEnd:Fb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lZ(e){return new sI(e)}function a8(e){return e<0?-1:1}function n8(e,t,r){var a=e._x1-e._x0,n=t-e._x1,i=(e._y1-e._y0)/(a||n<0&&-0),s=(r-e._y1)/(n||a<0&&-0),o=(i*n+s*a)/(a+n);return(a8(i)+a8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function i8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Pk(e,t,r){var a=e._x0,n=e._y0,i=e._x1,s=e._y1,o=(i-a)/3;e._context.bezierCurveTo(a+o,n+o*t,i-o,s-o*r,i,s)}function Ub(e){this._context=e}Ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pk(this,this._t0,i8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pk(this,i8(this,r=n8(this,e,t)),r);break;default:Pk(this,this._t0,r=n8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function oI(e){this._context=new lI(e)}(oI.prototype=Object.create(Ub.prototype)).point=function(e,t){Ub.prototype.point.call(this,t,e)};function lI(e){this._context=e}lI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,i){this._context.bezierCurveTo(t,e,a,r,i,n)}};function cZ(e){return new Ub(e)}function uZ(e){return new oI(e)}function cI(e){this._context=e}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=s8(e),n=s8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function s8(e){var t,r=e.length-1,a,n=new Array(r),i=new Array(r),s=new Array(r);for(n[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/i[t-1],i[t]-=a,s[t]-=a*s[t-1];for(n[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)n[t]=(s[t]-n[t+1])/i[t];for(i[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-n[t+1];return[n,i]}function dZ(e){return new cI(e)}function J2(e,t){this._context=e,this._t=t}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function fZ(e){return new J2(e,.5)}function hZ(e){return new J2(e,0)}function mZ(e){return new J2(e,1)}function tg(e,t){if((s=e.length)>1)for(var r=1,a,n,i=e[t[0]],s,o=i.length;r<s;++r)for(n=i,i=e[t[r]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function F3(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function pZ(e,t){return e[t]}function gZ(e){const t=[];return t.key=e,t}function xZ(){var e=Za([]),t=F3,r=tg,a=pZ;function n(i){var s=Array.from(e.apply(this,arguments),gZ),o,c=s.length,d=-1,h;for(const m of i)for(o=0,++d;o<c;++o)(s[o][d]=[0,+a(m,s[o].key,d,i)]).data=m;for(o=0,h=DN(t(s));o<c;++o)s[h[o]].index=o;return r(s,h),s}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Za(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Za(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?F3:typeof i=="function"?i:Za(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??tg,n):r},n}function vZ(e,t){if((a=e.length)>0){for(var r,a,n=0,i=e[0].length,s;n<i;++n){for(s=r=0;r<a;++r)s+=e[r][n][1]||0;if(s)for(r=0;r<a;++r)e[r][n][1]/=s}tg(e,t)}}function yZ(e,t){if((n=e.length)>0){for(var r=0,a=e[t[0]],n,i=a.length;r<i;++r){for(var s=0,o=0;s<n;++s)o+=e[s][r][1]||0;a[r][1]+=a[r][0]=-o/2}tg(e,t)}}function bZ(e,t){if(!(!((s=e.length)>0)||!((i=(n=e[t[0]]).length)>0))){for(var r=0,a=1,n,i,s;a<i;++a){for(var o=0,c=0,d=0;o<s;++o){for(var h=e[t[o]],m=h[a][1]||0,x=h[a-1][1]||0,p=(m-x)/2,y=0;y<o;++y){var v=e[t[y]],b=v[a][1]||0,k=v[a-1][1]||0;p+=b-k}c+=m,d+=p*m}n[a-1][1]+=n[a-1][0]=r,c&&(r-=d/c)}n[a-1][1]+=n[a-1][0]=r,tg(e,t)}}var Dk={},Lk={},o8;function wZ(){return o8||(o8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Lk)),Lk}var Mk={},l8;function uI(){return l8||(l8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Mk)),Mk}var Rk={},c8;function MN(){return c8||(c8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;return typeof r=="string"||typeof r=="symbol"?r:Object.is((a=r==null?void 0:r.valueOf)==null?void 0:a.call(r),-0)?"-0":String(r)}e.toKey=t})(Rk)),Rk}var Ik={},Fk={},u8;function kZ(){return u8||(u8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(Fk)),Fk}var d8;function RN(){return d8||(d8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kZ(),r=MN();function a(n){if(Array.isArray(n))return n.map(r.toKey);if(typeof n=="symbol")return[n];n=t.toString(n);const i=[],s=n.length;if(s===0)return i;let o=0,c="",d="",h=!1;for(n.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const m=n[o];d?m==="\\"&&o+1<s?(o++,c+=n[o]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,i.push(c),c=""):c+=m:m==="["?(h=!0,c&&(i.push(c),c="")):m==="."?c&&(i.push(c),c=""):c+=m,o++}return c&&i.push(c),i}e.toPath=a})(Ik)),Ik}var f8;function IN(){return f8||(f8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wZ(),r=uI(),a=MN(),n=RN();function i(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const h=o[c];return h===void 0?r.isDeepKey(c)?i(o,n.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=a.toKey(c));const h=o[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(o,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const h=o[c];return h===void 0?d:h}}}function s(o,c,d){if(c.length===0)return d;let h=o;for(let m=0;m<c.length;m++){if(h==null||t.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}e.get=i})(Dk)),Dk}var Bk,h8;function _Z(){return h8||(h8=1,Bk=IN().get),Bk}var SZ=_Z();const Uh=Fc(SZ);var Zi=e=>e===0?0:e>0?1:-1,cl=e=>typeof e=="number"&&e!=+e,U0=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Kt=e=>(typeof e=="number"||e instanceof Number)&&!cl(e),Tu=e=>Kt(e)||typeof e=="string",NZ=0,c1=e=>{var t=++NZ;return"".concat(e||"").concat(t)},Ls=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Kt(t)&&typeof t!="string")return a;var i;if(U0(t)){if(r==null)return a;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return cl(i)&&(i=a),n&&r!=null&&i>r&&(i=r),i},dI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1};function $a(e,t,r){return Kt(e)&&Kt(t)?e+r*(t-e):t}function fI(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Uh(a,t))===r)}var un=e=>e===null||typeof e>"u",Y1=e=>un(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),jZ=["type","size","sizeType"];function B3(){return B3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B3.apply(null,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(a){AZ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AZ(e,t,r){return(t=TZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CZ(e,t){if(e==null)return{};var r,a,n=OZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OZ(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var hI={symbolCircle:LN,symbolCross:KJ,symbolDiamond:YJ,symbolSquare:XJ,symbolStar:eZ,symbolTriangle:tZ,symbolWye:aZ},PZ=Math.PI/180,DZ=e=>{var t="symbol".concat(Y1(e));return hI[t]||LN},LZ=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*PZ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MZ=(e,t)=>{hI["symbol".concat(Y1(e))]=t},FN=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=CZ(e,jZ),i=p8(p8({},n),{},{type:t,size:r,sizeType:a}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var x=DZ(s),p=nZ().type(x).size(LZ(r,a,s)),y=p();if(y!==null)return y},{className:c,cx:d,cy:h}=i,m=io(i);return d===+d&&h===+h&&r===+r?j.createElement("path",B3({},m,{className:Br("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:o()})):null};FN.registerSymbol=MZ;var BN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(n=>{CN(n)&&(a[n]=(i=>r[n](r,i)))}),a},RZ=(e,t,r)=>a=>(e(t,r,a),null),X1=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(n=>{var i=e[n];CN(n)&&typeof i=="function"&&(a||(a={}),a[n]=RZ(i,t,r))}),a};function U3(){return U3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U3.apply(null,arguments)}function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function IZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(a){UN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UN(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pl=32;class zN extends j.PureComponent{renderIcon(t,r){var{inactiveColor:a}=this.props,n=Pl/2,i=Pl/6,s=Pl/3,o=t.inactive?a:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:Pl,y2:n,className:"recharts-legend-icon"});if(c==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(n,`
            H`).concat(Pl,"M").concat(2*s,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return j.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Pl/8,"h").concat(Pl,"v").concat(Pl*3/4,"h").concat(-Pl,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var d=IZ({},t);return delete d.legendIcon,j.cloneElement(t.legendIcon,d)}return j.createElement(FN,{fill:o,cx:n,cy:n,size:Pl,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:a,formatter:n,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:Pl,height:Pl},c={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var x=h.formatter||n,p=Br({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var y=h.inactive?i:h.color,v=x?x(h.value,h,m):h.value;return j.createElement("li",U3({className:p,style:c,key:"legend-item-".concat(m)},X1(this.props,h,m)),j.createElement(ON,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(h,s)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},v))})}render(){var{payload:t,layout:r,align:a}=this.props;if(!t||!t.length)return null;var n={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}UN(zN,"displayName","Legend");UN(zN,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Uk={},zk={},x8;function UZ(){return x8||(x8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const n=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=a(s);n.has(o)||n.set(o,s)}return Array.from(n.values())}e.uniqBy=t})(zk)),zk}var qk={},v8;function mI(){return v8||(v8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(qk)),qk}var $k={},Hk={},Wk={},y8;function zZ(){return y8||(y8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Wk)),Wk}var b8;function qN(){return b8||(b8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zZ();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(Hk)),Hk}var Vk={},w8;function qZ(){return w8||(w8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Vk)),Vk}var k8;function $Z(){return k8||(k8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN(),r=qZ();function a(n){return r.isObjectLike(n)&&t.isArrayLike(n)}e.isArrayLikeObject=a})($k)),$k}var Kk={},Gk={},_8;function HZ(){return _8||(_8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IN();function r(a){return function(n){return t.get(n,a)}}e.property=r})(Gk)),Gk}var Yk={},Xk={},Qk={},Jk={},S8;function pI(){return S8||(S8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Jk)),Jk}var Zk={},N8;function gI(){return N8||(N8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Zk)),Zk}var e4={},j8;function xI(){return j8||(j8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(e4)),e4}var A8;function WZ(){return A8||(A8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI(),r=gI(),a=xI();function n(h,m,x){return typeof x!="function"?n(h,m,()=>{}):i(h,m,function p(y,v,b,k,N,_){const T=x(y,v,b,k,N,_);return T!==void 0?!!T:i(y,v,p,_)},new Map)}function i(h,m,x,p){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,x,p);case"function":return Object.keys(m).length>0?i(h,{...m},x,p):a.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:a.eq(h,m)}}function s(h,m,x,p){if(m==null)return!0;if(Array.isArray(m))return c(h,m,x,p);if(m instanceof Map)return o(h,m,x,p);if(m instanceof Set)return d(h,m,x,p);const y=Object.keys(m);if(h==null)return y.length===0;if(y.length===0)return!0;if(p!=null&&p.has(m))return p.get(m)===h;p==null||p.set(m,h);try{for(let v=0;v<y.length;v++){const b=y[v];if(!r.isPrimitive(h)&&!(b in h)||m[b]===void 0&&h[b]!==void 0||m[b]===null&&h[b]!==null||!x(h[b],m[b],b,h,m,p))return!1}return!0}finally{p==null||p.delete(m)}}function o(h,m,x,p){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,v]of m.entries()){const b=h.get(y);if(x(b,v,y,h,m,p)===!1)return!1}return!0}function c(h,m,x,p){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let v=0;v<m.length;v++){const b=m[v];let k=!1;for(let N=0;N<h.length;N++){if(y.has(N))continue;const _=h[N];let T=!1;if(x(_,b,v,h,m,p)&&(T=!0),T){y.add(N),k=!0;break}}if(!k)return!1}return!0}function d(h,m,x,p){return m.size===0?!0:h instanceof Set?c([...h],[...m],x,p):!1}e.isMatchWith=n,e.isSetMatch=d})(Qk)),Qk}var T8;function vI(){return T8||(T8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WZ();function r(a,n){return t.isMatchWith(a,n,()=>{})}e.isMatch=r})(Xk)),Xk}var t4={},r4={},a4={},E8;function VZ(){return E8||(E8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(a4)),a4}var n4={},C8;function yI(){return C8||(C8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(n4)),n4}var i4={},O8;function bI(){return O8||(O8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",x="[object ArrayBuffer]",p="[object Object]",y="[object Error]",v="[object DataView]",b="[object Uint8Array]",k="[object Uint8ClampedArray]",N="[object Uint16Array]",_="[object Uint32Array]",T="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",L="[object Int32Array]",U="[object BigInt64Array]",I="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=T,e.booleanTag=n,e.dataViewTag=v,e.dateTag=o,e.errorTag=y,e.float32ArrayTag=I,e.float64ArrayTag=K,e.functionTag=m,e.int16ArrayTag=O,e.int32ArrayTag=L,e.int8ArrayTag=P,e.mapTag=c,e.numberTag=a,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=N,e.uint32ArrayTag=_,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=k})(i4)),i4}var s4={},P8;function KZ(){return P8||(P8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(s4)),s4}var D8;function wI(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VZ(),r=yI(),a=bI(),n=gI(),i=KZ();function s(h,m){return o(h,void 0,h,new Map,m)}function o(h,m,x,p=new Map,y=void 0){const v=y==null?void 0:y(h,m,x,p);if(v!==void 0)return v;if(n.isPrimitive(h))return h;if(p.has(h))return p.get(h);if(Array.isArray(h)){const b=new Array(h.length);p.set(h,b);for(let k=0;k<h.length;k++)b[k]=o(h[k],k,x,p,y);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;p.set(h,b);for(const[k,N]of h)b.set(k,o(N,k,x,p,y));return b}if(h instanceof Set){const b=new Set;p.set(h,b);for(const k of h)b.add(o(k,void 0,x,p,y));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);p.set(h,b);for(let k=0;k<h.length;k++)b[k]=o(h[k],k,x,p,y);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return p.set(h,b),c(b,h,x,p,y),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return p.set(h,b),c(b,h,x,p,y),b}if(typeof Blob<"u"&&h instanceof Blob){const b=new Blob([h],{type:h.type});return p.set(h,b),c(b,h,x,p,y),b}if(h instanceof Error){const b=new h.constructor;return p.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,c(b,h,x,p,y),b}if(h instanceof Boolean){const b=new Boolean(h.valueOf());return p.set(h,b),c(b,h,x,p,y),b}if(h instanceof Number){const b=new Number(h.valueOf());return p.set(h,b),c(b,h,x,p,y),b}if(h instanceof String){const b=new String(h.valueOf());return p.set(h,b),c(b,h,x,p,y),b}if(typeof h=="object"&&d(h)){const b=Object.create(Object.getPrototypeOf(h));return p.set(h,b),c(b,h,x,p,y),b}return h}function c(h,m,x=h,p,y){const v=[...Object.keys(m),...t.getSymbols(m)];for(let b=0;b<v.length;b++){const k=v[b],N=Object.getOwnPropertyDescriptor(h,k);(N==null||N.writable)&&(h[k]=o(m[k],k,x,p,y))}}function d(h){switch(r.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(r4)),r4}var L8;function GZ(){return L8||(L8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(t4)),t4}var M8;function YZ(){return M8||(M8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vI(),r=GZ();function a(n){return n=r.cloneDeep(n),i=>t.isMatch(i,n)}e.matches=a})(Yk)),Yk}var o4={},l4={},c4={},R8;function XZ(){return R8||(R8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI(),r=bI();function a(n,i){return t.cloneDeepWith(n,(s,o,c,d)=>{const h=i==null?void 0:i(s,o,c,d);if(h!==void 0)return h;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new n.constructor(n==null?void 0:n.valueOf());return t.copyProperties(m,n),m}case r.argumentsTag:{const m={};return t.copyProperties(m,n),m.length=n.length,m[Symbol.iterator]=n[Symbol.iterator],m}default:return}})}e.cloneDeepWith=a})(c4)),c4}var I8;function QZ(){return I8||(I8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XZ();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(l4)),l4}var u4={},d4={},F8;function kI(){return F8||(F8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(d4)),d4}var f4={},B8;function JZ(){return B8||(B8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(f4)),f4}var U8;function ZZ(){return U8||(U8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI(),r=kI(),a=JZ(),n=RN();function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=n.toPath(o):c=[o],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||a.isArguments(d))&&r.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=i})(u4)),u4}var z8;function eee(){return z8||(z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vI(),r=MN(),a=QZ(),n=IN(),i=ZZ();function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=a.cloneDeep(c),function(d){const h=n.get(d,o);return h===void 0?i.has(d,o):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=s})(o4)),o4}var q8;function tee(){return q8||(q8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mI(),r=HZ(),a=YZ(),n=eee();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?n.matchesProperty(s[0],s[1]):a.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(Kk)),Kk}var $8;function ree(){return $8||($8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UZ(),r=mI(),a=$Z(),n=tee();function i(s,o=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.iteratee(o)):[]}e.uniqBy=i})(Uk)),Uk}var h4,H8;function aee(){return H8||(H8=1,h4=ree().uniqBy),h4}var nee=aee();const W8=Fc(nee);function _I(e,t,r){return t===!0?W8(e,r):typeof t=="function"?W8(e,t):e}var m4={exports:{}},p4={},g4={exports:{}},x4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V8;function iee(){if(V8)return x4;V8=1;var e=dg();function t(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,n=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(m,x){var p=x(),y=a({inst:{value:p,getSnapshot:x}}),v=y[0].inst,b=y[1];return i(function(){v.value=p,v.getSnapshot=x,c(v)&&b({inst:v})},[m,p,x]),n(function(){return c(v)&&b({inst:v}),m(function(){c(v)&&b({inst:v})})},[m]),s(p),p}function c(m){var x=m.getSnapshot;m=m.value;try{var p=x();return!r(m,p)}catch{return!0}}function d(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return x4.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,x4}var K8;function see(){return K8||(K8=1,g4.exports=iee()),g4.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G8;function oee(){if(G8)return p4;G8=1;var e=dg(),t=see();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var a=typeof Object.is=="function"?Object.is:r,n=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return p4.useSyncExternalStoreWithSelector=function(d,h,m,x,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function k(O){if(!N){if(N=!0,_=O,O=x(O),p!==void 0&&v.hasValue){var L=v.value;if(p(L,O))return T=L}return T=O}if(L=T,a(_,O))return L;var U=x(O);return p!==void 0&&p(L,U)?(_=O,L):(_=O,T=U)}var N=!1,_,T,P=m===void 0?null:m;return[function(){return k(h())},P===null?void 0:function(){return k(P())}]},[h,m,x,p]);var b=n(d,y[0],y[1]);return s(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},p4}var Y8;function lee(){return Y8||(Y8=1,m4.exports=oee()),m4.exports}var cee=lee(),$N=j.createContext(null),uee=e=>e,_n=()=>{var e=j.useContext($N);return e?e.store.dispatch:uee},gb=()=>{},dee=()=>gb,fee=(e,t)=>e===t;function Yt(e){var t=j.useContext($N);return cee.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:dee,t?t.store.getState:gb,t?t.store.getState:gb,t?e:gb,fee)}function hee(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function mee(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function pee(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var X8=e=>Array.isArray(e)?e:[e];function gee(e){const t=Array.isArray(e[0])?e[0]:e;return pee(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function xee(e,t){const r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}var vee=class{constructor(e){this.value=e}deref(){return this.value}},yee=typeof WeakRef<"u"?WeakRef:vee,bee=0,Q8=1;function Cy(){return{s:bee,v:void 0,o:null,p:null}}function SI(e,t={}){let r=Cy();const{resultEqualityCheck:a}=t;let n,i=0;function s(){var m;let o=r;const{length:c}=arguments;for(let x=0,p=c;x<p;x++){const y=arguments[x];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const b=v.get(y);b===void 0?(o=Cy(),v.set(y,o)):o=b}else{let v=o.p;v===null&&(o.p=v=new Map);const b=v.get(y);b===void 0?(o=Cy(),v.set(y,o)):o=b}}const d=o;let h;if(o.s===Q8)h=o.v;else if(h=e.apply(null,arguments),i++,a){const x=((m=n==null?void 0:n.deref)==null?void 0:m.call(n))??n;x!=null&&a(x,h)&&(h=x,i!==0&&i--),n=typeof h=="object"&&h!==null||typeof h=="function"?new yee(h):h}return d.s=Q8,d.v=h,h}return s.clearCache=()=>{r=Cy(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function wee(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...n)=>{let i=0,s=0,o,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),hee(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...r,...c},{memoize:m,memoizeOptions:x=[],argsMemoize:p=SI,argsMemoizeOptions:y=[]}=h,v=X8(x),b=X8(y),k=gee(n),N=m(function(){return i++,d.apply(null,arguments)},...v),_=p(function(){s++;const P=xee(k,arguments);return o=N.apply(null,P),o},...b);return Object.assign(_,{resultFunc:d,memoizedResultFunc:N,dependencies:k,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:p})};return Object.assign(a,{withTypes:()=>a}),a}var Ye=wee(SI),kee=Object.assign((e,t=Ye)=>{mee(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(i=>e[i]);return t(a,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>kee}),v4={},y4={},b4={},J8;function _ee(){return J8||(J8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,n,i)=>{if(a!==n){const s=t(a),o=t(n);if(s===o&&s===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(b4)),b4}var w4={},k4={},Z8;function NI(){return Z8||(Z8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(k4)),k4}var eO;function See(){return eO||(eO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=n})(w4)),w4}var tO;function Nee(){return tO||(tO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_ee(),r=See(),a=RN();function n(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const d=(p,y)=>{let v=p;for(let b=0;b<y.length&&v!=null;++b)v=v[y[b]];return v},h=(p,y)=>y==null||p==null?y:typeof p=="object"&&"key"in p?Object.hasOwn(y,p.key)?y[p.key]:d(y,p.path):typeof p=="function"?p(y):Array.isArray(p)?d(y,p):typeof y=="object"?y[p]:y,m=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:a.toPath(p)}));return i.map(p=>({original:p,criteria:m.map(y=>h(y,p))})).slice().sort((p,y)=>{for(let v=0;v<m.length;v++){const b=t.compareValues(p.criteria[v],y.criteria[v],o[v]);if(b!==0)return b}return 0}).map(p=>p.original)}e.orderBy=n})(y4)),y4}var _4={},rO;function jee(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const n=[],i=Math.floor(a),s=(o,c)=>{for(let d=0;d<o.length;d++){const h=o[d];Array.isArray(h)&&c<i?s(h,c+1):n.push(h)}};return s(r,0),n}e.flatten=t})(_4)),_4}var S4={},aO;function jI(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kI(),r=qN(),a=pI(),n=xI();function i(s,o,c){return a.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?n.eq(c[o],s):!1}e.isIterateeCall=i})(S4)),S4}var nO;function Aee(){return nO||(nO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nee(),r=jee(),a=jI();function n(i,...s){const o=s.length;return o>1&&a.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&a.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=n})(v4)),v4}var N4,iO;function Tee(){return iO||(iO=1,N4=Aee().sortBy),N4}var Eee=Tee();const Z2=Fc(Eee);var AI=e=>e.legend.settings,Cee=e=>e.legend.size,Oee=e=>e.legend.payload,Pee=Ye([Oee,AI],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?Z2(a,r):a});function Dee(){return Yt(Pee)}var Oy=1;function TI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),a=j.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Oy||Math.abs(s.left-t.left)>Oy||Math.abs(s.top-t.top)>Oy||Math.abs(s.width-t.width)>Oy)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function fs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Lee=typeof Symbol=="function"&&Symbol.observable||"@@observable",sO=Lee,j4=()=>Math.random().toString(36).substring(7).split("").join("."),Mee={INIT:`@@redux/INIT${j4()}`,REPLACE:`@@redux/REPLACE${j4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${j4()}`},zb=Mee;function HN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EI(e,t,r){if(typeof e!="function")throw new Error(fs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fs(1));return r(EI)(e,t)}let a=e,n=t,i=new Map,s=i,o=0,c=!1;function d(){s===i&&(s=new Map,i.forEach((b,k)=>{s.set(k,b)}))}function h(){if(c)throw new Error(fs(3));return n}function m(b){if(typeof b!="function")throw new Error(fs(4));if(c)throw new Error(fs(5));let k=!0;d();const N=o++;return s.set(N,b),function(){if(k){if(c)throw new Error(fs(6));k=!1,d(),s.delete(N),i=null}}}function x(b){if(!HN(b))throw new Error(fs(7));if(typeof b.type>"u")throw new Error(fs(8));if(typeof b.type!="string")throw new Error(fs(17));if(c)throw new Error(fs(9));try{c=!0,n=a(n,b)}finally{c=!1}return(i=s).forEach(N=>{N()}),b}function p(b){if(typeof b!="function")throw new Error(fs(10));a=b,x({type:zb.REPLACE})}function y(){const b=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(fs(11));function N(){const T=k;T.next&&T.next(h())}return N(),{unsubscribe:b(N)}},[sO](){return this}}}return x({type:zb.INIT}),{dispatch:x,subscribe:m,getState:h,replaceReducer:p,[sO]:y}}function Ree(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:zb.INIT})>"u")throw new Error(fs(12));if(typeof r(void 0,{type:zb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fs(13))})}function CI(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const a=Object.keys(r);let n;try{Ree(r)}catch(i){n=i}return function(s={},o){if(n)throw n;let c=!1;const d={};for(let h=0;h<a.length;h++){const m=a[h],x=r[m],p=s[m],y=x(p,o);if(typeof y>"u")throw o&&o.type,new Error(fs(14));d[m]=y,c=c||y!==p}return c=c||a.length!==Object.keys(s).length,c?d:s}}function qb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function Iee(...e){return t=>(r,a)=>{const n=t(r,a);let i=()=>{throw new Error(fs(15))};const s={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},o=e.map(c=>c(s));return i=qb(...o)(n.dispatch),{...n,dispatch:i}}}function OI(e){return HN(e)&&"type"in e&&typeof e.type=="string"}var PI=Symbol.for("immer-nothing"),oO=Symbol.for("immer-draftable"),ul=Symbol.for("immer-state");function Oc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var u1=Object.getPrototypeOf;function zh(e){return!!e&&!!e[ul]}function z0(e){var t;return e?DI(e)||Array.isArray(e)||!!e[oO]||!!((t=e.constructor)!=null&&t[oO])||Q1(e)||tw(e):!1}var Fee=Object.prototype.constructor.toString(),lO=new WeakMap;function DI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=lO.get(r);return a===void 0&&(a=Function.toString.call(r),lO.set(r,a)),a===Fee}function $b(e,t,r=!0){ew(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)}):e.forEach((a,n)=>t(n,a,e))}function ew(e){const t=e[ul];return t?t.type_:Array.isArray(e)?1:Q1(e)?2:tw(e)?3:0}function z3(e,t){return ew(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LI(e,t,r){const a=ew(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function Bee(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Q1(e){return e instanceof Map}function tw(e){return e instanceof Set}function ah(e){return e.copy_||e.base_}function q3(e,t){if(Q1(e))return new Map(e);if(tw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DI(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[ul];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const s=n[i],o=a[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(a[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(u1(e),a)}else{const a=u1(e);if(a!==null&&r)return{...e};const n=Object.create(a);return Object.assign(n,e)}}function WN(e,t=!1){return rw(e)||zh(e)||!z0(e)||(ew(e)>1&&Object.defineProperties(e,{set:Py,add:Py,clear:Py,delete:Py}),Object.freeze(e),t&&Object.values(e).forEach(r=>WN(r,!0))),e}function Uee(){Oc(2)}var Py={value:Uee};function rw(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var zee={};function qh(e){const t=zee[e];return t||Oc(0,e),t}var d1;function MI(){return d1}function qee(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cO(e,t){t&&(qh("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $3(e){H3(e),e.drafts_.forEach($ee),e.drafts_=null}function H3(e){e===d1&&(d1=e.parent_)}function uO(e){return d1=qee(d1,e)}function $ee(e){const t=e[ul];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ul].modified_&&($3(t),Oc(4)),z0(e)&&(e=Hb(t,e),t.parent_||Wb(t,e)),t.patches_&&qh("Patches").generateReplacementPatches_(r[ul].base_,e,t.patches_,t.inversePatches_)):e=Hb(t,r,[]),$3(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PI?e:void 0}function Hb(e,t,r){if(rw(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[ul];if(!n)return $b(t,(i,s)=>fO(e,n,t,i,s,r),a),t;if(n.scope_!==e)return t;if(!n.modified_)return Wb(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),$b(s,(c,d)=>fO(e,n,i,c,d,r,o),a),Wb(e,i,!1),r&&e.patches_&&qh("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function fO(e,t,r,a,n,i,s){if(n==null||typeof n!="object"&&!s)return;const o=rw(n);if(!(o&&!s)){if(zh(n)){const c=i&&t&&t.type_!==3&&!z3(t.assigned_,a)?i.concat(a):void 0,d=Hb(e,n,c);if(LI(r,a,d),zh(d))e.canAutoFreeze_=!1;else return}else s&&r.add(n);if(z0(n)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===n&&o)return;Hb(e,n),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Q1(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Wb(e,n)}}}function Wb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&WN(t,r)}function Hee(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:MI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=VN;r&&(n=[a],i=f1);const{revoke:s,proxy:o}=Proxy.revocable(n,i);return a.draft_=o,a.revoke_=s,o}var VN={get(e,t){if(t===ul)return e;const r=ah(e);if(!z3(r,t))return Wee(e,r,t);const a=r[t];return e.finalized_||!z0(a)?a:a===A4(e.base_,t)?(T4(e),e.copy_[t]=V3(a,e)):a},has(e,t){return t in ah(e)},ownKeys(e){return Reflect.ownKeys(ah(e))},set(e,t,r){const a=RI(ah(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const n=A4(ah(e),t),i=n==null?void 0:n[ul];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Bee(r,n)&&(r!==void 0||z3(e.base_,t)))return!0;T4(e),W3(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return A4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,T4(e),W3(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ah(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){Oc(11)},getPrototypeOf(e){return u1(e.base_)},setPrototypeOf(){Oc(12)}},f1={};$b(VN,(e,t)=>{f1[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});f1.deleteProperty=function(e,t){return f1.set.call(this,e,t,void 0)};f1.set=function(e,t,r){return VN.set.call(this,e[0],t,r,e[0])};function A4(e,t){const r=e[ul];return(r?ah(r):e)[t]}function Wee(e,t,r){var n;const a=RI(t,r);return a?"value"in a?a.value:(n=a.get)==null?void 0:n.call(e.draft_):void 0}function RI(e,t){if(!(t in e))return;let r=u1(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=u1(r)}}function W3(e){e.modified_||(e.modified_=!0,e.parent_&&W3(e.parent_))}function T4(e){e.copy_||(e.copy_=q3(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Vee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...d){return s.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&Oc(6),a!==void 0&&typeof a!="function"&&Oc(7);let n;if(z0(t)){const i=uO(this),s=V3(t,void 0);let o=!0;try{n=r(s),o=!1}finally{o?$3(i):H3(i)}return cO(i,a),dO(n,i)}else if(!t||typeof t!="object"){if(n=r(t),n===void 0&&(n=t),n===PI&&(n=void 0),this.autoFreeze_&&WN(n,!0),a){const i=[],s=[];qh("Patches").generateReplacementPatches_(t,n,i,s),a(i,s)}return n}else Oc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let a,n;return[this.produce(t,r,(s,o)=>{a=s,n=o}),a,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){z0(e)||Oc(8),zh(e)&&(e=E0(e));const t=uO(this),r=V3(e,void 0);return r[ul].isManual_=!0,H3(t),r}finishDraft(e,t){const r=e&&e[ul];(!r||!r.isManual_)&&Oc(9);const{scope_:a}=r;return cO(a,t),dO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}r>-1&&(t=t.slice(r+1));const a=qh("Patches").applyPatches_;return zh(e)?a(e,t):this.produce(e,n=>a(n,t))}};function V3(e,t){const r=Q1(e)?qh("MapSet").proxyMap_(e,t):tw(e)?qh("MapSet").proxySet_(e,t):Hee(e,t);return(t?t.scope_:MI()).drafts_.push(r),r}function E0(e){return zh(e)||Oc(10,e),II(e)}function II(e){if(!z0(e)||rw(e))return e;const t=e[ul];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=q3(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=q3(e,!0);return $b(r,(n,i)=>{LI(r,n,II(i))},a),t&&(t.finalized_=!1),r}var K3=new Vee,FI=K3.produce,Kee=K3.setUseStrictIteration.bind(K3);function BI(e){return({dispatch:r,getState:a})=>n=>i=>typeof i=="function"?i(r,a,e):n(i)}var Gee=BI(),Yee=BI,Xee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qb:qb.apply(null,arguments)};function Kl(e,t){function r(...a){if(t){let n=t(...a);if(!n)throw new Error(ll(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>OI(a)&&a.type===e,r}var UI=class Mx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mx.prototype)}static get[Symbol.species](){return Mx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mx(...t[0].concat(this)):new Mx(...t.concat(this))}};function hO(e){return z0(e)?FI(e,()=>{}):e}function Dy(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Qee(e){return typeof e=="boolean"}var Jee=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=t??{};let s=new UI;return r&&(Qee(r)?s.push(Gee):s.push(Yee(r.extraArgument))),s},zI="RTK_autoBatch",Zs=()=>e=>({payload:e,meta:{[zI]:!0}}),mO=e=>t=>{setTimeout(t,e)},qI=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let n=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mO(10):e.type==="callback"?e.queueNotification:mO(e.timeout),d=()=>{s=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const m=()=>n&&h(),x=a.subscribe(m);return o.add(h),()=>{x(),o.delete(h)}},dispatch(h){var m;try{return n=!((m=h==null?void 0:h.meta)!=null&&m[zI]),i=!n,i&&(s||(s=!0,c(d))),a.dispatch(h)}finally{n=!0}}})},Zee=e=>function(r){const{autoBatch:a=!0}=r??{};let n=new UI(e);return a&&n.push(qI(typeof a=="object"?a:void 0)),n};function ete(e){const t=Jee(),{reducer:r=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(HN(r))o=CI(r);else throw new Error(ll(1));let c;typeof a=="function"?c=a(t):c=t();let d=qb;n&&(d=Xee({trace:!1,...typeof n=="object"&&n}));const h=Iee(...c),m=Zee(h);let x=typeof s=="function"?s(m):m();const p=d(...x);return EI(o,i,p)}function $I(e){const t={},r=[];let a;const n={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ll(28));if(o in t)throw new Error(ll(29));return t[o]=s,n},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),n},addMatcher(i,s){return r.push({matcher:i,reducer:s}),n},addDefaultCase(i){return a=i,n}};return e(n),[t,r,a]}Kee(!1);function tte(e){return typeof e=="function"}function rte(e,t){let[r,a,n]=$I(t),i;if(tte(e))i=()=>hO(e());else{const o=hO(e);i=()=>o}function s(o=i(),c){let d=[r[c.type],...a.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[n]),d.reduce((h,m)=>{if(m)if(zh(h)){const p=m(h,c);return p===void 0?h:p}else{if(z0(h))return FI(h,x=>m(x,c));{const x=m(h,c);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},o)}return s.getInitialState=i,s}var ate="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nte=(e=21)=>{let t="",r=e;for(;r--;)t+=ate[Math.random()*64|0];return t},ite=Symbol.for("rtk-slice-createasyncthunk");function ste(e,t){return`${e}/${t}`}function ote({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[ite];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(ll(11));const o=(typeof n.reducers=="function"?n.reducers(cte()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,P){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(ll(12));if(O in d.sliceCaseReducersByType)throw new Error(ll(13));return d.sliceCaseReducersByType[O]=P,h},addMatcher(T,P){return d.sliceMatchers.push({matcher:T,reducer:P}),h},exposeAction(T,P){return d.actionCreators[T]=P,h},exposeCaseReducer(T,P){return d.sliceCaseReducersByName[T]=P,h}};c.forEach(T=>{const P=o[T],O={reducerName:T,type:ste(i,T),createNotation:typeof n.reducers=="function"};dte(P)?hte(O,P,h,t):ute(O,P,h)});function m(){const[T={},P=[],O=void 0]=typeof n.extraReducers=="function"?$I(n.extraReducers):[n.extraReducers],L={...T,...d.sliceCaseReducersByType};return rte(n.initialState,U=>{for(let I in L)U.addCase(I,L[I]);for(let I of d.sliceMatchers)U.addMatcher(I.matcher,I.reducer);for(let I of P)U.addMatcher(I.matcher,I.reducer);O&&U.addDefaultCase(O)})}const x=T=>T,p=new Map,y=new WeakMap;let v;function b(T,P){return v||(v=m()),v(T,P)}function k(){return v||(v=m()),v.getInitialState()}function N(T,P=!1){function O(U){let I=U[T];return typeof I>"u"&&P&&(I=Dy(y,O,k)),I}function L(U=x){const I=Dy(p,P,()=>new WeakMap);return Dy(I,U,()=>{const K={};for(const[D,F]of Object.entries(n.selectors??{}))K[D]=lte(F,U,()=>Dy(y,U,k),P);return K})}return{reducerPath:T,getSelectors:L,get selectors(){return L(O)},selectSlice:O}}const _={name:i,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:k,...N(s),injectInto(T,{reducerPath:P,...O}={}){const L=P??s;return T.inject({reducerPath:L,reducer:b},O),{..._,...N(L,!0)}}};return _}}function lte(e,t,r,a){function n(i,...s){let o=t(i);return typeof o>"u"&&a&&(o=r()),e(o,...s)}return n.unwrapped=e,n}var fl=ote();function cte(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ute({type:e,reducerName:t,createNotation:r},a,n){let i,s;if("reducer"in a){if(r&&!fte(a))throw new Error(ll(17));i=a.reducer,s=a.prepare}else i=a;n.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Kl(e,s):Kl(e))}function dte(e){return e._reducerDefinitionType==="asyncThunk"}function fte(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hte({type:e,reducerName:t},r,a,n){if(!n)throw new Error(ll(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:d,options:h}=r,m=n(e,i,h);a.exposeAction(t,m),s&&a.addCase(m.fulfilled,s),o&&a.addCase(m.pending,o),c&&a.addCase(m.rejected,c),d&&a.addMatcher(m.settled,d),a.exposeCaseReducer(t,{fulfilled:s||Ly,pending:o||Ly,rejected:c||Ly,settled:d||Ly})}function Ly(){}var mte="task",HI="listener",WI="completed",KN="cancelled",pte=`task-${KN}`,gte=`task-${WI}`,G3=`${HI}-${KN}`,xte=`${HI}-${WI}`,aw=class{constructor(e){ua(this,"name","TaskAbortError");ua(this,"message");this.code=e,this.message=`${mte} ${KN} (reason: ${e})`}},GN=(e,t)=>{if(typeof e!="function")throw new TypeError(ll(32))},Vb=()=>{},VI=(e,t=Vb)=>(e.catch(t),e),KI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),jh=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ah=e=>{if(e.aborted){const{reason:t}=e;throw new aw(t)}};function GI(e,t){let r=Vb;return new Promise((a,n)=>{const i=()=>n(new aw(e.reason));if(e.aborted){i();return}r=KI(e,i),t.finally(()=>r()).then(a,n)}).finally(()=>{r=Vb})}var vte=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof aw?"cancelled":"rejected",error:r}}finally{t==null||t()}},Kb=e=>t=>VI(GI(e,t).then(r=>(Ah(e),r))),YI=e=>{const t=Kb(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Cp}=Object,pO={},nw="listenerMiddleware",yte=(e,t)=>{const r=a=>KI(e,()=>jh(a,e.reason));return(a,n)=>{GN(a);const i=new AbortController;r(i);const s=vte(async()=>{Ah(e),Ah(i.signal);const o=await a({pause:Kb(i.signal),delay:YI(i.signal),signal:i.signal});return Ah(i.signal),o},()=>jh(i,gte));return n!=null&&n.autoJoin&&t.push(s.catch(Vb)),{result:Kb(e)(s),cancel(){jh(i,pte)}}}},bte=(e,t)=>{const r=async(a,n)=>{Ah(t);let i=()=>{};const o=[new Promise((c,d)=>{let h=e({predicate:a,effect:(m,x)=>{x.unsubscribe(),c([m,x.getState(),x.getOriginalState()])}});i=()=>{h(),d()}})];n!=null&&o.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await GI(t,Promise.race(o));return Ah(t),c}finally{i()}};return(a,n)=>VI(r(a,n))},XI=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:i}=e;if(t)n=Kl(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(!n)throw new Error(ll(21));return GN(i),{predicate:n,type:t,effect:i}},QI=Cp(e=>{const{type:t,predicate:r,effect:a}=XI(e);return{id:nte(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ll(22))}}},{withTypes:()=>QI}),gO=(e,t)=>{const{type:r,effect:a,predicate:n}=XI(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===n)&&i.effect===a)},Y3=e=>{e.pending.forEach(t=>{jh(t,G3)})},wte=(e,t)=>()=>{for(const r of t.keys())Y3(r);e.clear()},xO=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},JI=Cp(Kl(`${nw}/add`),{withTypes:()=>JI}),kte=Kl(`${nw}/removeAll`),ZI=Cp(Kl(`${nw}/remove`),{withTypes:()=>ZI}),_te=(...e)=>{console.error(`${nw}/error`,...e)},J1=(e={})=>{const t=new Map,r=new Map,a=p=>{const y=r.get(p)??0;r.set(p,y+1)},n=p=>{const y=r.get(p)??1;y===1?r.delete(p):r.set(p,y-1)},{extra:i,onError:s=_te}=e;GN(s);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),y=>{p.unsubscribe(),y!=null&&y.cancelActive&&Y3(p)}),c=p=>{const y=gO(t,p)??QI(p);return o(y)};Cp(c,{withTypes:()=>c});const d=p=>{const y=gO(t,p);return y&&(y.unsubscribe(),p.cancelActive&&Y3(y)),!!y};Cp(d,{withTypes:()=>d});const h=async(p,y,v,b)=>{const k=new AbortController,N=bte(c,k.signal),_=[];try{p.pending.add(k),a(p),await Promise.resolve(p.effect(y,Cp({},v,{getOriginalState:b,condition:(T,P)=>N(T,P).then(Boolean),take:N,delay:YI(k.signal),pause:Kb(k.signal),extra:i,signal:k.signal,fork:yte(k.signal,_),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((T,P,O)=>{T!==k&&(jh(T,G3),O.delete(T))})},cancel:()=>{jh(k,G3),p.pending.delete(k)},throwIfCancelled:()=>{Ah(k.signal)}})))}catch(T){T instanceof aw||xO(s,T,{raisedBy:"effect"})}finally{await Promise.all(_),jh(k,xte),n(p),p.pending.delete(k)}},m=wte(t,r);return{middleware:p=>y=>v=>{if(!OI(v))return y(v);if(JI.match(v))return c(v.payload);if(kte.match(v)){m();return}if(ZI.match(v))return d(v.payload);let b=p.getState();const k=()=>{if(b===pO)throw new Error(ll(23));return b};let N;try{if(N=y(v),t.size>0){const _=p.getState(),T=Array.from(t.values());for(const P of T){let O=!1;try{O=P.predicate(v,_,b)}catch(L){O=!1,xO(s,L,{raisedBy:"predicate"})}O&&h(P,v,p,k)}}}finally{b=pO}return N},startListening:c,stopListening:d,clearListeners:m}};function ll(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ste={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eF=fl({name:"chartLayout",initialState:Ste,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,n,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(n=t.payload.bottom)!==null&&n!==void 0?n:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Nte,setLayout:jte,setChartSize:Ate,setScale:Tte}=eF.actions,Ete=eF.reducer;function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(a){Cte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Cte(e,t,r){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ote(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gb=Math.PI/180,Dte=e=>e*180/Math.PI,gi=(e,t,r,a)=>({x:e+Math.cos(-Gb*a)*r,y:t+Math.sin(-Gb*a)*r}),tF=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Lte=(e,t)=>{var{x:r,y:a}=e,{x:n,y:i}=t;return Math.sqrt((r-n)**2+(a-i)**2)},Mte=(e,t)=>{var{x:r,y:a}=e,{cx:n,cy:i}=t,s=Lte({x:r,y:a},{x:n,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-n)/s,c=Math.acos(o);return a>i&&(c=2*Math.PI-c),{radius:s,angle:Dte(c),angleInRadian:c}},Rte=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),n=Math.floor(r/360),i=Math.min(a,n);return{startAngle:t-i*360,endAngle:r-i*360}},Ite=(e,t)=>{var{startAngle:r,endAngle:a}=t,n=Math.floor(r/360),i=Math.floor(a/360),s=Math.min(n,i);return e+s*360},Fte=(e,t)=>{var{x:r,y:a}=e,{radius:n,angle:i}=Mte({x:r,y:a},t),{innerRadius:s,outerRadius:o}=t;if(n<s||n>o||n===0)return null;var{startAngle:c,endAngle:d}=Rte(t),h=i,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?yO(yO({},t),{},{radius:n,angle:Ite(h,t)}):null};function rF(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(a){Bte(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Bte(e,t,r){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ha(e,t,r){return un(e)||un(t)?r:Tu(t)?Uh(e,t,r):typeof t=="function"?t(e):r}var qte=(e,t,r,a,n)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<o;c++){var d=c>0?r[c-1].coordinate:r[o-1].coordinate,h=r[c].coordinate,m=c>=o-1?r[0].coordinate:r[c+1].coordinate,x=void 0;if(Zi(h-d)!==Zi(m-h)){var p=[];if(Zi(m-h)===Zi(n[1]-n[0])){x=m;var y=h+n[1]-n[0];p[0]=Math.min(y,(y+d)/2),p[1]=Math.max(y,(y+d)/2)}else{x=d;var v=m+n[1]-n[0];p[0]=Math.min(h,(v+h)/2),p[1]=Math.max(h,(v+h)/2)}var b=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>b[0]&&e<=b[1]||e>=p[0]&&e<=p[1]){({index:s}=r[c]);break}}else{var k=Math.min(d,m),N=Math.max(d,m);if(e>(k+h)/2&&e<=(N+h)/2){({index:s}=r[c]);break}}}else if(t){for(var _=0;_<o;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:s}=t[_]);break}}return s},$te=(e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Kt(e[i]))return ql(ql({},e),{},{[i]:e[i]+(a||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Kt(e[s]))return ql(ql({},e),{},{[s]:e[s]+(n||0)})}return e},Lu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",aF=(e,t,r,a)=>{if(a)return e.map(o=>o.coordinate);var n,i,s=e.map(o=>(o.coordinate===t&&(n=!0),o.coordinate===r&&(i=!0),o.coordinate));return n||s.push(t),i||s.push(r),s},nF=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:x,axisType:p}=e;if(!s)return null;var y=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=n==="category"&&s.bandwidth?s.bandwidth()/y:0;if(v=p==="angleAxis"&&i&&i.length>=2?Zi(i[0]-i[1])*2*v:v,m||x){var b=(m||x||[]).map((k,N)=>{var _=a?a.indexOf(k):k;return{coordinate:s(_)+v,value:k,offset:v,index:N}});return b.filter(k=>!cl(k.coordinate))}return c&&d?d.map((k,N)=>({coordinate:s(k)+v,value:k,index:N,offset:v})):s.ticks&&h!=null?s.ticks(h).map((k,N)=>({coordinate:s(k)+v,value:k,offset:v,index:N})):s.domain().map((k,N)=>({coordinate:s(k)+v,value:a?a[k]:k,index:N,offset:v}))},wO=1e-4,Hte=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-wO,i=Math.max(a[0],a[1])+wO,s=e(t[0]),o=e(t[r-1]);(s<n||s>i||o<n||o>i)&&e.domain([t[0],t[r-1]])}},Wte=(e,t)=>{if(!t||t.length!==2||!Kt(t[0])||!Kt(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!Kt(e[0])||e[0]<r)&&(n[0]=r),(!Kt(e[1])||e[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<r&&(n[1]=r),n},Vte=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0,s=0;s<t;++s){var o=cl(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=n,e[s][r][1]=n+o,n=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},Kte=e=>{var t=e.length;if(!(t<=0))for(var r=0,a=e[0].length;r<a;++r)for(var n=0,i=0;i<t;++i){var s=cl(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=n,e[i][r][1]=n+s,n=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Gte={sign:Vte,expand:vZ,none:tg,silhouette:yZ,wiggle:bZ,positive:Kte},Yte=(e,t,r)=>{var a=Gte[r],n=xZ().keys(t).value((i,s)=>+Ha(i,s,0)).order(F3).offset(a);return n(e)};function iF(e){return e==null?void 0:String(e)}function Yb(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!un(n[t.dataKey])){var o=fI(r,"value",n[t.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=Ha(n,un(s)?t.dataKey:s);return un(c)?null:t.scale(c)}var kO=e=>{var{axis:t,ticks:r,offset:a,bandSize:n,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+a:null;var o=Ha(i,t.dataKey,t.scale.domain()[s]);return un(o)?null:t.scale(o)-n/2+a},Xte=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return a<=0&&n>=0?0:n<0?n:a}return r[0]},Qte=e=>{var t=e.flat(2).filter(Kt);return[Math.min(...t),Math.max(...t)]},Jte=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Zte=(e,t,r)=>{if(e!=null)return Jte(Object.keys(e).reduce((a,n)=>{var i=e[n],{stackedData:s}=i,o=s.reduce((c,d)=>{var h=rF(d,t,r),m=Qte(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],a[0]),Math.max(o[1],a[1])]},[1/0,-1/0]))},_O=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$h=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=Z2(t,h=>h.coordinate),i=1/0,s=1,o=n.length;s<o;s++){var c=n[s],d=n[s-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function NO(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:i}=e;return ql(ql({},t),{},{dataKey:r,payload:a,value:n,name:i})}function yf(e,t){if(e)return String(e);if(typeof t=="string")return t}function ere(e,t,r,a,n){if(r==="horizontal"||r==="vertical"){var i=e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height;return i?{x:e,y:t}:null}return a?Fte({x:e,y:t},a):null}var tre=(e,t,r,a)=>{var n=t.find(d=>d&&d.index===r);if(n){if(e==="horizontal")return{x:n.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:n.coordinate};if(e==="centric"){var i=n.coordinate,{radius:s}=a;return ql(ql(ql({},a),gi(a.cx,a.cy,s,i)),{},{angle:i,radius:s})}var o=n.coordinate,{angle:c}=a;return ql(ql(ql({},a),gi(a.cx,a.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},rre=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Y0=e=>e.layout.width,X0=e=>e.layout.height,are=e=>e.layout.scale,sF=e=>e.layout.margin,iw=Ye(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sw=Ye(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oF="data-recharts-item-index",lF="data-recharts-item-data-key",Z1=60;function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(a){nre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nre(e,t,r){return(t=ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ire(e){var t=sre(e,"string");return typeof t=="symbol"?t:t+""}function sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ore=e=>e.brush.height;function lre(e){var t=sw(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:Z1;return r+n}return r},0)}function cre(e){var t=sw(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var n=typeof a.width=="number"?a.width:Z1;return r+n}return r},0)}function ure(e){var t=iw(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function dre(e){var t=iw(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var Mi=Ye([Y0,X0,sF,ore,lre,cre,ure,dre,AI,Cee],(e,t,r,a,n,i,s,o,c,d)=>{var h={left:(r.left||0)+n,right:(r.right||0)+i},m={top:(r.top||0)+s,bottom:(r.bottom||0)+o},x=My(My({},m),h),p=x.bottom;x.bottom+=a,x=$te(x,c,d);var y=e-x.left-x.right,v=t-x.top-x.bottom;return My(My({brushBottom:p},x),{},{width:Math.max(y,0),height:Math.max(v,0)})}),fre=Ye(Mi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),YN=Ye(Y0,X0,(e,t)=>({x:0,y:0,width:e,height:t})),hre=j.createContext(null),gs=()=>j.useContext(hre)!=null,ow=e=>e.brush,lw=Ye([ow,Mi,sF],(e,t,r)=>({height:e.height,x:Kt(e.x)?e.x:t.left,y:Kt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Kt(e.width)?e.width:t.width})),E4={},C4={},O4={},AO;function mre(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:n,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},m=()=>{d&&h(),v()};let x=null;const p=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,m()},a)},y=()=>{x!==null&&(clearTimeout(x),x=null)},v=()=>{y(),s=void 0,o=null},b=()=>{h()},k=function(...N){if(n!=null&&n.aborted)return;s=this,o=N;const _=x==null;p(),c&&_&&h()};return k.schedule=p,k.cancel=v,k.flush=b,n==null||n.addEventListener("abort",v,{once:!0}),k}e.debounce=t})(O4)),O4}var TO;function pre(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mre();function r(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,d=Array(2);s&&(d[0]="leading"),o&&(d[1]="trailing");let h,m=null;const x=t.debounce(function(...v){h=a.apply(this,v),m=null},n,{edges:d}),p=function(...v){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=a.apply(this,v),m=Date.now(),x.cancel(),x.schedule(),h):(x.apply(this,v),h)},y=()=>(x.flush(),h);return p.cancel=x.cancel,p.flush=y,p}e.debounce=r})(C4)),C4}var EO;function gre(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pre();function r(a,n=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(a,n,{leading:s,maxWait:n,trailing:o})}e.throttle=r})(E4)),E4}var P4,CO;function xre(){return CO||(CO=1,P4=gre().throttle),P4}var vre=xre();const yre=Fc(vre);var Xb=function(t,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},cF=(e,t,r)=>{var{width:a="100%",height:n="100%",aspect:i,maxHeight:s}=r,o=U0(a)?e:Number(a),c=U0(n)?t:Number(n);return i&&i>0&&(o?c=o/i:c&&(o=c*i),s&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},bre={width:0,height:0,overflow:"visible"},wre={width:0,overflowX:"visible"},kre={height:0,overflowY:"visible"},_re={},Sre=e=>{var{width:t,height:r}=e,a=U0(t),n=U0(r);return a&&n?bre:a?wre:n?kre:_re};function Nre(e){var{width:t,height:r,aspect:a}=e,n=t,i=r;return n===void 0&&i===void 0?(n="100%",i="100%"):n===void 0?n=a&&a>0?void 0:"100%":i===void 0&&(i=a&&a>0?void 0:"100%"),{width:n,height:i}}function vi(e){return Number.isFinite(e)}function rg(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function X3(){return X3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X3.apply(null,arguments)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(a){jre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jre(e,t,r){return(t=Are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uF=j.createContext({width:-1,height:-1});function dF(e){var{children:t,width:r,height:a}=e,n=j.useMemo(()=>({width:r,height:a}),[r,a]);return r<=0||a<=0?null:j.createElement(uF.Provider,{value:n},t)}var XN=()=>j.useContext(uF),Ere=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:n,height:i,minWidth:s=0,minHeight:o,maxHeight:c,children:d,debounce:h=0,id:m,className:x,onResize:p,style:y={}}=e,v=j.useRef(null),b=j.useRef();b.current=p,j.useImperativeHandle(t,()=>v.current);var[k,N]=j.useState({containerWidth:a.width,containerHeight:a.height}),_=j.useCallback((U,I)=>{N(K=>{var D=Math.round(U),F=Math.round(I);return K.containerWidth===D&&K.containerHeight===F?K:{containerWidth:D,containerHeight:F}})},[]);j.useEffect(()=>{var U=F=>{var H,{width:Y,height:ne}=F[0].contentRect;_(Y,ne),(H=b.current)===null||H===void 0||H.call(b,Y,ne)};h>0&&(U=yre(U,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(U),{width:K,height:D}=v.current.getBoundingClientRect();return _(K,D),I.observe(v.current),()=>{I.disconnect()}},[_,h]);var{containerWidth:T,containerHeight:P}=k;Xb(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:L}=cF(T,P,{width:n,height:i,aspect:r,maxHeight:c});return Xb(O>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,L,n,i,s,o,r),j.createElement("div",{id:m?"".concat(m):void 0,className:Br("recharts-responsive-container",x),style:PO(PO({},y),{},{width:n,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:v},j.createElement("div",{style:Sre({width:n,height:i})},j.createElement(dF,{width:O,height:L},d)))}),bu=j.forwardRef((e,t)=>{var r=XN();if(rg(r.width)&&rg(r.height))return e.children;var{width:a,height:n}=Nre({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=cF(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return Kt(i)&&Kt(s)?j.createElement(dF,{width:i,height:s},e.children):j.createElement(Ere,X3({},e,{width:a,height:n,ref:t}))}),cw=()=>{var e,t=gs(),r=Yt(fre),a=Yt(lw),n=(e=Yt(ow))===null||e===void 0?void 0:e.padding;return!t||!a||!n?r:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},Cre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fF=()=>{var e;return(e=Yt(Mi))!==null&&e!==void 0?e:Cre},QN=()=>Yt(Y0),JN=()=>Yt(X0),Ore=()=>Yt(e=>e.layout.margin),Jr=e=>e.layout.layoutType,ev=()=>Yt(Jr),uw=e=>{var t=_n(),r=gs(),{width:a,height:n}=e,i=XN(),s=a,o=n;return i&&(s=i.width>0?i.width:a,o=i.height>0?i.height:n),j.useEffect(()=>{!r&&rg(s)&&rg(o)&&t(Ate({width:s,height:o}))},[t,r,s,o]),null},Pre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hF=fl({name:"legend",initialState:Pre,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zs()},removeLegendPayload:{reducer(e,t){var r=E0(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zs()}}}),{setLegendSize:DO,setLegendSettings:Dre,addLegendPayload:mF,removeLegendPayload:pF}=hF.actions,Lre=hF.reducer,Mre=["contextPayload"];function Q3(){return Q3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Q3.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(a){ZN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZN(e,t,r){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rre(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fre(e,t){if(e==null)return{};var r,a,n=Bre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bre(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Ure(e){return e.value}function zre(e){var{contextPayload:t}=e,r=Fre(e,Mre),a=_I(t,e.payloadUniqBy,Ure),n=ag(ag({},r),{},{payload:a});return j.isValidElement(e.content)?j.cloneElement(e.content,n):typeof e.content=="function"?j.createElement(e.content,n):j.createElement(zN,n)}function qre(e,t,r,a,n,i){var{layout:s,align:o,verticalAlign:c}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?d={left:((a||0)-i.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?h={top:((n||0)-i.height)/2}:h=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ag(ag({},d),h)}function $re(e){var t=_n();return j.useEffect(()=>{t(Dre(e))},[t,e]),null}function Hre(e){var t=_n();return j.useEffect(()=>(t(DO(e)),()=>{t(DO({width:0,height:0}))}),[t,e]),null}function Wre(e){var t=Dee(),r=zJ(),a=Ore(),{width:n,height:i,wrapperStyle:s,portal:o}=e,[c,d]=TI([t]),h=QN(),m=JN();if(h==null||m==null)return null;var x=h-(a.left||0)-(a.right||0),p=Hh.getWidthOrHeight(e.layout,i,n,x),y=o?s:ag(ag({position:"absolute",width:(p==null?void 0:p.width)||n||"auto",height:(p==null?void 0:p.height)||i||"auto"},qre(s,e,a,h,m,c)),s),v=o??r;if(v==null)return null;var b=j.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},j.createElement($re,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(Hre,{width:c.width,height:c.height}),j.createElement(zre,Q3({},e,p,{margin:a,chartWidth:h,chartHeight:m,contextPayload:t})));return hM.createPortal(b,v)}class Hh extends j.PureComponent{static getWidthOrHeight(t,r,a,n){return t==="vertical"&&Kt(r)?{height:r}:t==="horizontal"?{width:a||n}:null}render(){return j.createElement(Wre,this.props)}}ZN(Hh,"displayName","Legend");ZN(Hh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function J3(){return J3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},J3.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function D4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(a){Vre(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vre(e,t,r){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kre(e){var t=Gre(e,"string");return typeof t=="symbol"?t:t+""}function Gre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yre(e){return Array.isArray(e)&&Tu(e[0])&&Tu(e[1])?e.join(" ~ "):e}var Xre=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:n={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:x=!1}=e,p=()=>{if(i&&i.length){var P={padding:0,margin:0},O=(o?Z2(i,o):i).map((L,U)=>{if(L.type==="none")return null;var I=L.formatter||s||Yre,{value:K,name:D}=L,F=K,H=D;if(I){var Y=I(K,D,L,U,i);if(Array.isArray(Y))[F,H]=Y;else if(Y!=null)F=Y;else return null}var ne=D4({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},a);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:ne},Tu(H)?j.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Tu(H)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},F),j.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},y=D4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=D4({margin:0},n),b=!un(h),k=b?h:"",N=Br("recharts-default-tooltip",c),_=Br("recharts-tooltip-label",d);b&&m&&i!==void 0&&i!==null&&(k=m(h,i));var T=x?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",J3({className:N,style:y},T),j.createElement("p",{className:_,style:v},j.isValidElement(k)?k:"".concat(k)),p())},wx="recharts-tooltip-wrapper",Qre={visibility:"hidden"};function Jre(e){var{coordinate:t,translateX:r,translateY:a}=e;return Br(wx,{["".concat(wx,"-right")]:Kt(r)&&t&&Kt(t.x)&&r>=t.x,["".concat(wx,"-left")]:Kt(r)&&t&&Kt(t.x)&&r<t.x,["".concat(wx,"-bottom")]:Kt(a)&&t&&Kt(t.y)&&a>=t.y,["".concat(wx,"-top")]:Kt(a)&&t&&Kt(t.y)&&a<t.y})}function RO(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=e;if(i&&Kt(i[a]))return i[a];var h=r[a]-o-(n>0?n:0),m=r[a]+n;if(t[a])return s[a]?h:m;var x=c[a];if(x==null)return 0;if(s[a]){var p=h,y=x;return p<y?Math.max(m,x):Math.max(h,x)}if(d==null)return 0;var v=m+o,b=x+d;return v>b?Math.max(h,x):Math.max(m,x)}function Zre(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function eae(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,d,h,m;return s.height>0&&s.width>0&&r?(h=RO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=RO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=Zre({translateX:h,translateY:m,useTranslate3d:o})):d=Qre,{cssProperties:d,cssClasses:Jre({translateX:h,translateY:m,coordinate:r})}}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(a){Z3(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z3(e,t,r){return(t=tae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tae(e){var t=rae(e,"string");return typeof t=="symbol"?t:t+""}function rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aae extends j.PureComponent{constructor(){super(...arguments),Z3(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Z3(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:n,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:x,viewBox:p,wrapperStyle:y,lastBoundingBox:v,innerRef:b,hasPortalFromProps:k}=this.props,{cssClasses:N,cssProperties:_}=eae({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:v.height,width:v.width},useTranslate3d:x,viewBox:p}),T=k?{}:Ry(Ry({transition:c&&t?"transform ".concat(a,"ms ").concat(n):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ry(Ry({},T),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},y);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:P,ref:b},i)}}var nae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Q0={devToolsEnabled:!1,isSsr:nae()},gF=()=>Yt(e=>e.rootProps.accessibilityLayer);function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},eS.apply(null,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(a){iae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=oae(e,"string");return typeof t=="symbol"?t:t+""}function oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UO={curveBasisClosed:sZ,curveBasisOpen:oZ,curveBasis:iZ,curveBumpX:WJ,curveBumpY:VJ,curveLinearClosed:lZ,curveLinear:Q2,curveMonotoneX:cZ,curveMonotoneY:uZ,curveNatural:dZ,curveStep:fZ,curveStepAfter:mZ,curveStepBefore:hZ},Iy=e=>vi(e.x)&&vi(e.y),kx=e=>e.x,_x=e=>e.y,lae=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Y1(e));return(r==="curveMonotone"||r==="curveBump")&&t?UO["".concat(r).concat(t==="vertical"?"Y":"X")]:UO[r]||Q2},cae=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:n,connectNulls:i=!1}=e,s=lae(t,n),o=i?r.filter(Iy):r,c;if(Array.isArray(a)){var d=i?a.filter(m=>Iy(m)):a,h=o.map((m,x)=>BO(BO({},m),{},{base:d[x]}));return n==="vertical"?c=Ey().y(_x).x1(kx).x0(m=>m.base.x):c=Ey().x(kx).y1(_x).y0(m=>m.base.y),c.defined(Iy).curve(s),c(h)}return n==="vertical"&&Kt(a)?c=Ey().y(_x).x1(kx).x0(a):Kt(a)?c=Ey().x(kx).y1(_x).y0(a):c=ZR().x(kx).y(_x),c.defined(Iy).curve(s),c(o)},Op=e=>{var{className:t,points:r,path:a,pathRef:n}=e;if((!r||!r.length)&&!a)return null;var i=r&&r.length?cae(e):a;return j.createElement("path",eS({},no(e),BN(e),{className:Br("recharts-curve",t),d:i===null?void 0:i,ref:n}))},uae=["x","y","top","left","width","height","className"];function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tS.apply(null,arguments)}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function dae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(a){fae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function fae(e,t,r){return(t=hae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hae(e){var t=mae(e,"string");return typeof t=="symbol"?t:t+""}function mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pae(e,t){if(e==null)return{};var r,a,n=gae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var xae=(e,t,r,a,n,i)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(i,",").concat(t,"h").concat(r),vae=e=>{var{x:t=0,y:r=0,top:a=0,left:n=0,width:i=0,height:s=0,className:o}=e,c=pae(e,uae),d=dae({x:t,y:r,top:a,left:n,width:i,height:s},c);return!Kt(t)||!Kt(r)||!Kt(i)||!Kt(s)||!Kt(a)||!Kt(n)?null:j.createElement("path",tS({},io(d),{className:Br("recharts-cross",o),d:xae(t,r,i,s,a,n)}))};function yae(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-n:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-n,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(a){wae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wae(e,t,r){return(t=kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kae(e){var t=_ae(e,"string");return typeof t=="symbol"?t:t+""}function _ae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(e,t){var r=bae({},e),a=t,n=Object.keys(t),i=n.reduce((s,o)=>(s[o]===void 0&&a[o]!==void 0&&(s[o]=a[o]),s),r);return i}function Sae(){}function Nae(e){return e!=null}function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(a){jae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jae(e,t,r){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xF=(e,t,r)=>e.map(a=>"".concat(Eae(a)," ").concat(t,"ms ").concat(r)).join(","),Cae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(n=>a.includes(n))),h1=(e,t)=>Object.keys(t).reduce((r,a)=>HO(HO({},r),{},{[a]:e(a,t[a])}),{});function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(a){Oae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Oae(e,t,r){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Dae(e,"string");return typeof t=="symbol"?t:t+""}function Dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qb=(e,t,r)=>e+(t-e)*r,rS=e=>{var{from:t,to:r}=e;return t!==r},vF=(e,t,r)=>{var a=h1((n,i)=>{if(rS(i)){var[s,o]=e(i.from,i.to,i.velocity);return hs(hs({},i),{},{from:s,velocity:o})}return i},t);return r<1?h1((n,i)=>rS(i)?hs(hs({},i),{},{velocity:Qb(i.velocity,a[n].velocity,r),from:Qb(i.from,a[n].from,r)}):i,t):vF(e,a,r-1)};function Lae(e,t,r,a,n,i){var s,o=a.reduce((x,p)=>hs(hs({},x),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>h1((x,p)=>p.from,o),d=()=>!Object.values(o).filter(rS).length,h=null,m=x=>{s||(s=x);var p=x-s,y=p/r.dt;o=vF(r,o,y),n(hs(hs(hs({},e),t),c())),s=x,d()||(h=i.setTimeout(m))};return()=>(h=i.setTimeout(m),()=>{h()})}function Mae(e,t,r,a,n,i,s){var o=null,c=n.reduce((m,x)=>hs(hs({},m),{},{[x]:[e[x],t[x]]}),{}),d,h=m=>{d||(d=m);var x=(m-d)/a,p=h1((v,b)=>Qb(...b,r(x)),c);if(i(hs(hs(hs({},e),t),p)),x<1)o=s.setTimeout(h);else{var y=h1((v,b)=>Qb(...b,r(1)),c);i(hs(hs(hs({},e),t),y))}};return()=>(o=s.setTimeout(h),()=>{o()})}const Rae=(e,t,r,a,n,i)=>{var s=Cae(e,t);return r.isStepper===!0?Lae(e,t,r,s,n,i):Mae(e,t,r,a,s,n,i)};var Jb=1e-4,yF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],bF=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),VO=(e,t)=>r=>{var a=yF(e,t);return bF(a,r)},Iae=(e,t)=>r=>{var a=yF(e,t),n=[...a.map((i,s)=>i*s).slice(1),0];return bF(n,r)},KO=function(){for(var t,r,a,n,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,a,r,n]=[0,0,1,1];break;case"ease":[t,a,r,n]=[.25,.1,.25,1];break;case"ease-in":[t,a,r,n]=[.42,0,1,1];break;case"ease-out":[t,a,r,n]=[.42,0,.58,1];break;case"ease-in-out":[t,a,r,n]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,a,r,n]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([t,a,r,n]=s);var d=VO(t,r),h=VO(a,n),m=Iae(t,r),x=y=>y>1?1:y<0?0:y,p=y=>{for(var v=y>1?1:y,b=v,k=0;k<8;++k){var N=d(b)-v,_=m(b);if(Math.abs(N-v)<Jb||_<Jb)return h(b);b=x(b-N/_)}return h(b)};return p.isStepper=!1,p},Fae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:n=17}=t,i=(s,o,c)=>{var d=-(s-o)*r,h=c*a,m=c+(d-h)*n/1e3,x=c*n/1e3+s;return Math.abs(x-o)<Jb&&Math.abs(m)<Jb?[o,0]:[x,m]};return i.isStepper=!0,i.dt=n,i},Bae=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KO(e);case"spring":return Fae();default:if(e.split("(")[0]==="cubic-bezier")return KO(e)}return typeof e=="function"?e:null};function Uae(e){var t,r=()=>null,a=!1,n=null,i=s=>{if(!a){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...d]=o;if(typeof c=="number"){n=e.setTimeout(i.bind(null,d),c);return}i(c),n=e.setTimeout(i.bind(null,d));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{a=!0},start:s=>{a=!1,n&&(n(),n=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class zae{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=s=>{s-a>=r?t(s):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function qae(){return Uae(new zae)}var $ae=j.createContext(qae);function Hae(e,t){var r=j.useContext($ae);return j.useMemo(()=>t??r(e),[e,t,r])}var Wae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},GO={t:0},L4={t:1};function vg(e){var t=Ri(e,Wae),{isActive:r,canBegin:a,duration:n,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:d}=t,h=Hae(t.animationId,t.animationManager),[m,x]=j.useState(r?GO:L4),p=j.useRef(null);return j.useEffect(()=>{r||x(L4)},[r]),j.useEffect(()=>{if(!r||!a)return Sae;var y=Rae(GO,L4,Bae(i),n,x,h.getTimeoutController()),v=()=>{p.current=y()};return h.start([c,s,v,n,o]),()=>{h.stop(),p.current&&p.current(),o()}},[r,a,n,i,s,c,o,h]),d(m.t)}function yg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(c1(t)),a=j.useRef(e);return a.current!==e&&(r.current=c1(t),a.current=e),r.current}var Vae=["radius"],Kae=["radius"];function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(a){Gae(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gae(e,t,r){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zb.apply(null,arguments)}function QO(e,t){if(e==null)return{};var r,a,n=Qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Qae(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var JO=(e,t,r,a,n)=>{var i=Math.min(Math.abs(r)/2,Math.abs(a)/2),s=a>=0?1:-1,o=r>=0?1:-1,c=a>=0&&r>=0||a<0&&r<0?1:0,d;if(i>0&&n instanceof Array){for(var h=[0,0,0,0],m=0,x=4;m<x;m++)h[m]=n[m]>i?i:n[m];d="M".concat(e,",").concat(t+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+o*h[0],",").concat(t)),d+="L ".concat(e+r-o*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*h[1])),d+="L ".concat(e+r,",").concat(t+a-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-o*h[2],",").concat(t+a)),d+="L ".concat(e+o*h[3],",").concat(t+a),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+a-s*h[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var p=Math.min(i,n);d="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+a-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+a,`
            L `).concat(e+o*p,",").concat(t+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+a-s*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},Jae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wF=e=>{var t=Ri(e,Jae),r=j.useRef(null),[a,n]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ae=r.current.getTotalLength();ae&&n(ae)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:d,className:h}=t,{animationEasing:m,animationDuration:x,animationBegin:p,isAnimationActive:y,isUpdateAnimationActive:v}=t,b=j.useRef(o),k=j.useRef(c),N=j.useRef(i),_=j.useRef(s),T=j.useMemo(()=>({x:i,y:s,width:o,height:c,radius:d}),[i,s,o,c,d]),P=yg(T,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var O=Br("recharts-rectangle",h);if(!v){var L=io(t),{radius:U}=L,I=QO(L,Vae);return j.createElement("path",Zb({},I,{radius:typeof d=="number"?d:void 0,className:O,d:JO(i,s,o,c,d)}))}var K=b.current,D=k.current,F=N.current,H=_.current,Y="0px ".concat(a===-1?1:a,"px"),ne="".concat(a,"px 0px"),X=xF(["strokeDasharray"],x,typeof m=="string"?m:void 0);return j.createElement(vg,{animationId:P,key:P,canBegin:a>0,duration:x,easing:m,isActive:v,begin:p},ae=>{var ue=$a(K,o,ae),se=$a(D,c,ae),be=$a(F,i,ae),J=$a(H,s,ae);r.current&&(b.current=ue,k.current=se,N.current=be,_.current=J);var M;y?ae>0?M={transition:X,strokeDasharray:ne}:M={strokeDasharray:Y}:M={strokeDasharray:ne};var z=io(t),{radius:q}=z,G=QO(z,Kae);return j.createElement("path",Zb({},G,{radius:typeof d=="number"?d:void 0,className:O,d:JO(be,J,ue,se,d),ref:r,style:XO(XO({},M),t.style)}))})};function kF(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:i}=e,s=gi(t,r,a,n),o=gi(t,r,a,i);return{points:[s,o],cx:t,cy:r,radius:a,startAngle:n,endAngle:i}}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},aS.apply(null,arguments)}var Zae=(e,t)=>{var r=Zi(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Fy=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,d=o*(s?1:-1)+a,h=Math.asin(o/d)/Gb,m=c?n:n+i*h,x=gi(t,r,d,m),p=gi(t,r,a,m),y=c?n-i*h:n,v=gi(t,r,d*Math.cos(h*Gb),y);return{center:x,circleTangency:p,lineTangency:v,theta:h}},_F=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:i,endAngle:s}=e,o=Zae(i,s),c=i+o,d=gi(t,r,n,i),h=gi(t,r,n,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=gi(t,r,a,i),p=gi(t,r,a,c);m+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(x.x,",").concat(x.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},ene=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:d}=e,h=Zi(d-c),{circleTangency:m,lineTangency:x,theta:p}=Fy({cx:t,cy:r,radius:n,angle:c,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:y,lineTangency:v,theta:b}=Fy({cx:t,cy:r,radius:n,angle:d,sign:-h,cornerRadius:i,cornerIsExternal:o}),k=o?Math.abs(c-d):Math.abs(c-d)-p-b;if(k<0)return s?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):_F({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:c,endAngle:d});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var{circleTangency:_,lineTangency:T,theta:P}=Fy({cx:t,cy:r,radius:a,angle:c,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:O,lineTangency:L,theta:U}=Fy({cx:t,cy:r,radius:a,angle:d,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),I=o?Math.abs(c-d):Math.abs(c-d)-P-U;if(I<0&&i===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},tne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SF=e=>{var t=Ri(e,tne),{cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=t;if(i<n||d===h)return null;var x=Br("recharts-sector",m),p=i-n,y=Ls(s,p,0,!0),v;return y>0&&Math.abs(d-h)<360?v=ene({cx:r,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(y,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h}):v=_F({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h}),j.createElement("path",aS({},io(t),{className:x,d:v}))};function rne(e,t,r){var a,n,i,s;if(e==="horizontal")a=t.x,i=a,n=r.top,s=r.top+r.height;else if(e==="vertical")n=t.y,s=n,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:d,outerRadius:h,angle:m}=t,x=gi(o,c,d,m),p=gi(o,c,h,m);a=x.x,n=x.y,i=p.x,s=p.y}else return kF(t);return[{x:a,y:n},{x:i,y:s}]}var M4={},R4={},I4={},ZO;function ane(){return ZO||(ZO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NI();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(I4)),I4}var e7;function nne(){return e7||(e7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ane();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(R4)),R4}var t7;function ine(){return t7||(t7=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jI(),r=nne();function a(n,i,s){s&&typeof s!="number"&&t.isIterateeCall(n,i,s)&&(i=s=void 0),n=r.toFinite(n),i===void 0?(i=n,n=0):i=r.toFinite(i),s=s===void 0?n<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-n)/(s||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=n,n+=s;return c}e.range=a})(M4)),M4}var F4,r7;function sne(){return r7||(r7=1,F4=ine().range),F4}var one=sne();const NF=Fc(one);function lf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function e6(e){let t,r,a;e.length!==2?(t=lf,r=(o,c)=>lf(e(o),c),a=(o,c)=>e(o)-c):(t=e===lf||e===lne?e:cne,r=e,a=e);function n(o,c,d=0,h=o.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;r(o[m],c)<0?d=m+1:h=m}while(d<h)}return d}function i(o,c,d=0,h=o.length){if(d<h){if(t(c,c)!==0)return h;do{const m=d+h>>>1;r(o[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(o,c,d=0,h=o.length){const m=n(o,c,d,h-1);return m>d&&a(o[m-1],c)>-a(o[m],c)?m-1:m}return{left:n,center:s,right:i}}function cne(){return 0}function jF(e){return e===null?NaN:+e}function*une(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const dne=e6(lf),tv=dne.right;e6(jF).center;class a7 extends Map{constructor(t,r=mne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,n]of t)this.set(a,n)}get(t){return super.get(n7(this,t))}has(t){return super.has(n7(this,t))}set(t,r){return super.set(fne(this,t),r)}delete(t){return super.delete(hne(this,t))}}function n7({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function fne({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function hne({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function mne(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pne(e=lf){if(e===lf)return AF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function AF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gne=Math.sqrt(50),xne=Math.sqrt(10),vne=Math.sqrt(2);function e2(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),s=i>=gne?10:i>=xne?5:i>=vne?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/s,o=Math.round(e*d),c=Math.round(t*d),o/d<e&&++o,c/d>t&&--c,d=-d):(d=Math.pow(10,n)*s,o=Math.round(e/d),c=Math.round(t/d),o*d<e&&++o,c*d>t&&--c),c<o&&.5<=r&&r<2?e2(e,t,r*2):[o,c,d]}function nS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[n,i,s]=a?e2(t,e,r):e2(e,t,r);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(a)if(s<0)for(let d=0;d<o;++d)c[d]=(i-d)/-s;else for(let d=0;d<o;++d)c[d]=(i-d)*s;else if(s<0)for(let d=0;d<o;++d)c[d]=(n+d)/-s;else for(let d=0;d<o;++d)c[d]=(n+d)*s;return c}function iS(e,t,r){return t=+t,e=+e,r=+r,e2(e,t,r)[2]}function sS(e,t,r){t=+t,e=+e,r=+r;const a=t<e,n=a?iS(t,e,r):iS(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function i7(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function s7(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function TF(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=n===void 0?AF:pne(n);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*m/c+x)),y=Math.min(a,Math.floor(t+(c-d)*m/c+x));TF(e,t,p,y,n)}const i=e[t];let s=r,o=a;for(Sx(e,r,t),n(e[a],i)>0&&Sx(e,r,a);s<o;){for(Sx(e,s,o),++s,--o;n(e[s],i)<0;)++s;for(;n(e[o],i)>0;)--o}n(e[r],i)===0?Sx(e,r,o):(++o,Sx(e,o,a)),o<=t&&(r=o+1),t<=o&&(a=o-1)}return e}function Sx(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function yne(e,t,r){if(e=Float64Array.from(une(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return s7(e);if(t>=1)return i7(e);var a,n=(a-1)*t,i=Math.floor(n),s=i7(TF(e,i).subarray(0,i+1)),o=s7(e.subarray(i+1));return s+(o-s)*(n-i)}}function bne(e,t,r=jF){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,i=Math.floor(n),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(n-i)}}function wne(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(n);++a<n;)i[a]=e+a*r;return i}function Ql(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function J0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const oS=Symbol("implicit");function t6(){var e=new a7,t=[],r=[],a=oS;function n(i){let s=e.get(i);if(s===void 0){if(a!==oS)return a;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return n.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new a7;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return t6(t,r).unknown(a)},Ql.apply(n,arguments),n}function r6(){var e=t6().unknown(void 0),t=e.domain,r=e.range,a=0,n=1,i,s,o=!1,c=0,d=0,h=.5;delete e.unknown;function m(){var x=t().length,p=n<a,y=p?n:a,v=p?a:n;i=(v-y)/Math.max(1,x-c+d*2),o&&(i=Math.floor(i)),y+=(v-y-i*(x-c))*h,s=i*(1-c),o&&(y=Math.round(y),s=Math.round(s));var b=wne(x).map(function(k){return y+i*k});return r(p?b.reverse():b)}return e.domain=function(x){return arguments.length?(t(x),m()):t()},e.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,m()):[a,n]},e.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,o=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(x){return arguments.length?(o=!!x,m()):o},e.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),m()):c},e.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),m()):c},e.paddingOuter=function(x){return arguments.length?(d=+x,m()):d},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),m()):h},e.copy=function(){return r6(t(),[a,n]).round(o).paddingInner(c).paddingOuter(d).align(h)},Ql.apply(m(),arguments)}function EF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EF(t())},e}function kne(){return EF(r6.apply(null,arguments).paddingInner(1))}function a6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CF(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function rv(){}var m1=.7,t2=1/m1,Pp="\\s*([+-]?\\d+)\\s*",p1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ne=/^#([0-9a-f]{3,8})$/,Sne=new RegExp(`^rgb\\(${Pp},${Pp},${Pp}\\)$`),Nne=new RegExp(`^rgb\\(${ju},${ju},${ju}\\)$`),jne=new RegExp(`^rgba\\(${Pp},${Pp},${Pp},${p1}\\)$`),Ane=new RegExp(`^rgba\\(${ju},${ju},${ju},${p1}\\)$`),Tne=new RegExp(`^hsl\\(${p1},${ju},${ju}\\)$`),Ene=new RegExp(`^hsla\\(${p1},${ju},${ju},${p1}\\)$`),o7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a6(rv,g1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l7,formatHex:l7,formatHex8:Cne,formatHsl:One,formatRgb:c7,toString:c7});function l7(){return this.rgb().formatHex()}function Cne(){return this.rgb().formatHex8()}function One(){return OF(this).formatHsl()}function c7(){return this.rgb().formatRgb()}function g1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_ne.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?u7(t):r===3?new Oo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?By(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?By(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Sne.exec(e))?new Oo(t[1],t[2],t[3],1):(t=Nne.exec(e))?new Oo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jne.exec(e))?By(t[1],t[2],t[3],t[4]):(t=Ane.exec(e))?By(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tne.exec(e))?h7(t[1],t[2]/100,t[3]/100,1):(t=Ene.exec(e))?h7(t[1],t[2]/100,t[3]/100,t[4]):o7.hasOwnProperty(e)?u7(o7[e]):e==="transparent"?new Oo(NaN,NaN,NaN,0):null}function u7(e){return new Oo(e>>16&255,e>>8&255,e&255,1)}function By(e,t,r,a){return a<=0&&(e=t=r=NaN),new Oo(e,t,r,a)}function Pne(e){return e instanceof rv||(e=g1(e)),e?(e=e.rgb(),new Oo(e.r,e.g,e.b,e.opacity)):new Oo}function lS(e,t,r,a){return arguments.length===1?Pne(e):new Oo(e,t,r,a??1)}function Oo(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}a6(Oo,lS,CF(rv,{brighter(e){return e=e==null?t2:Math.pow(t2,e),new Oo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?m1:Math.pow(m1,e),new Oo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Oo(Th(this.r),Th(this.g),Th(this.b),r2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d7,formatHex:d7,formatHex8:Dne,formatRgb:f7,toString:f7}));function d7(){return`#${hh(this.r)}${hh(this.g)}${hh(this.b)}`}function Dne(){return`#${hh(this.r)}${hh(this.g)}${hh(this.b)}${hh((isNaN(this.opacity)?1:this.opacity)*255)}`}function f7(){const e=r2(this.opacity);return`${e===1?"rgb(":"rgba("}${Th(this.r)}, ${Th(this.g)}, ${Th(this.b)}${e===1?")":`, ${e})`}`}function r2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Th(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hh(e){return e=Th(e),(e<16?"0":"")+e.toString(16)}function h7(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pc(e,t,r,a)}function OF(e){if(e instanceof Pc)return new Pc(e.h,e.s,e.l,e.opacity);if(e instanceof rv||(e=g1(e)),!e)return new Pc;if(e instanceof Pc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),i=Math.max(t,r,a),s=NaN,o=i-n,c=(i+n)/2;return o?(t===i?s=(r-a)/o+(r<a)*6:r===i?s=(a-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+n:2-i-n,s*=60):o=c>0&&c<1?0:s,new Pc(s,o,c,e.opacity)}function Lne(e,t,r,a){return arguments.length===1?OF(e):new Pc(e,t,r,a??1)}function Pc(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}a6(Pc,Lne,CF(rv,{brighter(e){return e=e==null?t2:Math.pow(t2,e),new Pc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?m1:Math.pow(m1,e),new Pc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new Oo(B4(e>=240?e-240:e+120,n,a),B4(e,n,a),B4(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new Pc(m7(this.h),Uy(this.s),Uy(this.l),r2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=r2(this.opacity);return`${e===1?"hsl(":"hsla("}${m7(this.h)}, ${Uy(this.s)*100}%, ${Uy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m7(e){return e=(e||0)%360,e<0?e+360:e}function Uy(e){return Math.max(0,Math.min(1,e||0))}function B4(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const n6=e=>()=>e;function Mne(e,t){return function(r){return e+r*t}}function Rne(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function Ine(e){return(e=+e)==1?PF:function(t,r){return r-t?Rne(t,r,e):n6(isNaN(t)?r:t)}}function PF(e,t){var r=t-e;return r?Mne(e,r):n6(isNaN(e)?t:e)}const p7=(function e(t){var r=Ine(t);function a(n,i){var s=r((n=lS(n)).r,(i=lS(i)).r),o=r(n.g,i.g),c=r(n.b,i.b),d=PF(n.opacity,i.opacity);return function(h){return n.r=s(h),n.g=o(h),n.b=c(h),n.opacity=d(h),n+""}}return a.gamma=e,a})(1);function Fne(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function Bne(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Une(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,n=new Array(a),i=new Array(r),s;for(s=0;s<a;++s)n[s]=bg(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<a;++s)i[s]=n[s](o);return i}}function zne(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function a2(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qne(e,t){var r={},a={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=bg(e[n],t[n]):a[n]=t[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var cS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U4=new RegExp(cS.source,"g");function $ne(e){return function(){return e}}function Hne(e){return function(t){return e(t)+""}}function Wne(e,t){var r=cS.lastIndex=U4.lastIndex=0,a,n,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(a=cS.exec(e))&&(n=U4.exec(t));)(i=n.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(a=a[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,c.push({i:s,x:a2(a,n)})),r=U4.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?Hne(c[0].x):$ne(t):(t=c.length,function(d){for(var h=0,m;h<t;++h)o[(m=c[h]).i]=m.x(d);return o.join("")})}function bg(e,t){var r=typeof t,a;return t==null||r==="boolean"?n6(t):(r==="number"?a2:r==="string"?(a=g1(t))?(t=a,p7):Wne:t instanceof g1?p7:t instanceof Date?zne:Bne(t)?Fne:Array.isArray(t)?Une:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qne:a2)(e,t)}function i6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vne(e,t){t===void 0&&(t=e,e=bg);for(var r=0,a=t.length-1,n=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(n,n=t[++r]);return function(s){var o=Math.max(0,Math.min(a-1,Math.floor(s*=a)));return i[o](s-o)}}function Kne(e){return function(){return e}}function n2(e){return+e}var g7=[0,1];function ro(e){return e}function uS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kne(isNaN(t)?NaN:.5)}function Gne(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Yne(e,t,r){var a=e[0],n=e[1],i=t[0],s=t[1];return n<a?(a=uS(n,a),i=r(s,i)):(a=uS(a,n),i=r(i,s)),function(o){return i(a(o))}}function Xne(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),i=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)n[s]=uS(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=tv(e,o,1,a)-1;return i[c](n[c](o))}}function av(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dw(){var e=g7,t=g7,r=bg,a,n,i,s=ro,o,c,d;function h(){var x=Math.min(e.length,t.length);return s!==ro&&(s=Gne(e[0],e[x-1])),o=x>2?Xne:Yne,c=d=null,m}function m(x){return x==null||isNaN(x=+x)?i:(c||(c=o(e.map(a),t,r)))(a(s(x)))}return m.invert=function(x){return s(n((d||(d=o(t,e.map(a),a2)))(x)))},m.domain=function(x){return arguments.length?(e=Array.from(x,n2),h()):e.slice()},m.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},m.rangeRound=function(x){return t=Array.from(x),r=i6,h()},m.clamp=function(x){return arguments.length?(s=x?!0:ro,h()):s!==ro},m.interpolate=function(x){return arguments.length?(r=x,h()):r},m.unknown=function(x){return arguments.length?(i=x,m):i},function(x,p){return a=x,n=p,h()}}function s6(){return dw()(ro,ro)}function Qne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function i2(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function ng(e){return e=i2(Math.abs(e)),e?e[1]:NaN}function Jne(e,t){return function(r,a){for(var n=r.length,i=[],s=0,o=e[0],c=0;n>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(r.substring(n-=o,n+o)),!((c+=o+1)>a));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Zne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x1(e){if(!(t=eie.exec(e)))throw new Error("invalid format: "+e);var t;return new o6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}x1.prototype=o6.prototype;function o6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}o6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tie(e){e:for(var t=e.length,r=1,a=-1,n;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(n+1):e}var DF;function rie(e,t){var r=i2(e,t);if(!r)return e+"";var a=r[0],n=r[1],i=n-(DF=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=a.length;return i===s?a:i>s?a+new Array(i-s+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+i2(e,Math.max(0,t+i-1))[0]}function x7(e,t){var r=i2(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const v7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>x7(e*100,t),r:x7,s:rie,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y7(e){return e}var b7=Array.prototype.map,w7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aie(e){var t=e.grouping===void 0||e.thousands===void 0?y7:Jne(b7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?y7:Zne(b7.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(m){m=x1(m);var x=m.fill,p=m.align,y=m.sign,v=m.symbol,b=m.zero,k=m.width,N=m.comma,_=m.precision,T=m.trim,P=m.type;P==="n"?(N=!0,P="g"):v7[P]||(_===void 0&&(_=12),T=!0,P="g"),(b||x==="0"&&p==="=")&&(b=!0,x="0",p="=");var O=v==="$"?r:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",L=v==="$"?a:/[%p]/.test(P)?s:"",U=v7[P],I=/[defgprs%]/.test(P);_=_===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function K(D){var F=O,H=L,Y,ne,X;if(P==="c")H=U(D)+H,D="";else{D=+D;var ae=D<0||1/D<0;if(D=isNaN(D)?c:U(Math.abs(D),_),T&&(D=tie(D)),ae&&+D==0&&y!=="+"&&(ae=!1),F=(ae?y==="("?y:o:y==="-"||y==="("?"":y)+F,H=(P==="s"?w7[8+DF/3]:"")+H+(ae&&y==="("?")":""),I){for(Y=-1,ne=D.length;++Y<ne;)if(X=D.charCodeAt(Y),48>X||X>57){H=(X===46?n+D.slice(Y+1):D.slice(Y))+H,D=D.slice(0,Y);break}}}N&&!b&&(D=t(D,1/0));var ue=F.length+D.length+H.length,se=ue<k?new Array(k-ue+1).join(x):"";switch(N&&b&&(D=t(se+D,se.length?k-H.length:1/0),se=""),p){case"<":D=F+D+H+se;break;case"=":D=F+se+D+H;break;case"^":D=se.slice(0,ue=se.length>>1)+F+D+H+se.slice(ue);break;default:D=se+F+D+H;break}return i(D)}return K.toString=function(){return m+""},K}function h(m,x){var p=d((m=x1(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(ng(x)/3)))*3,v=Math.pow(10,-y),b=w7[8+y/3];return function(k){return p(v*k)+b}}return{format:d,formatPrefix:h}}var zy,l6,LF;nie({thousands:",",grouping:[3],currency:["$",""]});function nie(e){return zy=aie(e),l6=zy.format,LF=zy.formatPrefix,zy}function iie(e){return Math.max(0,-ng(Math.abs(e)))}function sie(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ng(t)/3)))*3-ng(Math.abs(e)))}function oie(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ng(t)-ng(e))+1}function MF(e,t,r,a){var n=sS(e,t,r),i;switch(a=x1(a??",f"),a.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=sie(n,s))&&(a.precision=i),LF(a,s)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=oie(n,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=iie(n))&&(a.precision=i-(a.type==="%")*2);break}}return l6(a)}function bf(e){var t=e.domain;return e.ticks=function(r){var a=t();return nS(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var n=t();return MF(n[0],n[n.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),n=0,i=a.length-1,s=a[n],o=a[i],c,d,h=10;for(o<s&&(d=s,s=o,o=d,d=n,n=i,i=d);h-- >0;){if(d=iS(s,o,r),d===c)return a[n]=s,a[i]=o,t(a);if(d>0)s=Math.floor(s/d)*d,o=Math.ceil(o/d)*d;else if(d<0)s=Math.ceil(s*d)/d,o=Math.floor(o*d)/d;else break;c=d}return e},e}function RF(){var e=s6();return e.copy=function(){return av(e,RF())},Ql.apply(e,arguments),bf(e)}function IF(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,n2),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return IF(e).unknown(t)},e=arguments.length?Array.from(e,n2):[0,1],bf(r)}function FF(e,t){e=e.slice();var r=0,a=e.length-1,n=e[r],i=e[a],s;return i<n&&(s=r,r=a,a=s,s=n,n=i,i=s),e[r]=t.floor(n),e[a]=t.ceil(i),e}function k7(e){return Math.log(e)}function _7(e){return Math.exp(e)}function lie(e){return-Math.log(-e)}function cie(e){return-Math.exp(-e)}function uie(e){return isFinite(e)?+("1e"+e):e<0?0:e}function die(e){return e===10?uie:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fie(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function S7(e){return(t,r)=>-e(-t,r)}function c6(e){const t=e(k7,_7),r=t.domain;let a=10,n,i;function s(){return n=fie(a),i=die(a),r()[0]<0?(n=S7(n),i=S7(i),e(lie,cie)):e(k7,_7),t}return t.base=function(o){return arguments.length?(a=+o,s()):a},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let x=n(d),p=n(h),y,v;const b=o==null?10:+o;let k=[];if(!(a%1)&&p-x<b){if(x=Math.floor(x),p=Math.ceil(p),d>0){for(;x<=p;++x)for(y=1;y<a;++y)if(v=x<0?y/i(-x):y*i(x),!(v<d)){if(v>h)break;k.push(v)}}else for(;x<=p;++x)for(y=a-1;y>=1;--y)if(v=x>0?y/i(-x):y*i(x),!(v<d)){if(v>h)break;k.push(v)}k.length*2<b&&(k=nS(d,h,b))}else k=nS(x,p,Math.min(p-x,b)).map(i);return m?k.reverse():k},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=x1(c)).precision==null&&(c.trim=!0),c=l6(c)),o===1/0)return c;const d=Math.max(1,a*o/t.ticks().length);return h=>{let m=h/i(Math.round(n(h)));return m*a<a-.5&&(m*=a),m<=d?c(h):""}},t.nice=()=>r(FF(r(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),t}function BF(){const e=c6(dw()).domain([1,10]);return e.copy=()=>av(e,BF()).base(e.base()),Ql.apply(e,arguments),e}function N7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function j7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u6(e){var t=1,r=e(N7(t),j7(t));return r.constant=function(a){return arguments.length?e(N7(t=+a),j7(t)):t},bf(r)}function UF(){var e=u6(dw());return e.copy=function(){return av(e,UF()).constant(e.constant())},Ql.apply(e,arguments)}function A7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hie(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mie(e){return e<0?-e*e:e*e}function d6(e){var t=e(ro,ro),r=1;function a(){return r===1?e(ro,ro):r===.5?e(hie,mie):e(A7(r),A7(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,a()):r},bf(t)}function f6(){var e=d6(dw());return e.copy=function(){return av(e,f6()).exponent(e.exponent())},Ql.apply(e,arguments),e}function pie(){return f6.apply(null,arguments).exponent(.5)}function T7(e){return Math.sign(e)*e*e}function gie(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zF(){var e=s6(),t=[0,1],r=!1,a;function n(i){var s=gie(e(i));return isNaN(s)?a:r?Math.round(s):s}return n.invert=function(i){return e.invert(T7(i))},n.domain=function(i){return arguments.length?(e.domain(i),n):e.domain()},n.range=function(i){return arguments.length?(e.range((t=Array.from(i,n2)).map(T7)),n):t.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(e.clamp(i),n):e.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return zF(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Ql.apply(n,arguments),bf(n)}function qF(){var e=[],t=[],r=[],a;function n(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=bne(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?a:t[tv(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(lf),n()},i.range=function(s){return arguments.length?(t=Array.from(s),n()):t.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return qF().domain(e).range(t).unknown(a)},Ql.apply(i,arguments)}function $F(){var e=0,t=1,r=1,a=[.5],n=[0,1],i;function s(c){return c!=null&&c<=c?n[tv(a,c,0,r)]:i}function o(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(n=Array.from(c)).length-1,o()):n.slice()},s.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return a.slice()},s.copy=function(){return $F().domain([e,t]).range(n).unknown(i)},Ql.apply(bf(s),arguments)}function HF(){var e=[.5],t=[0,1],r,a=1;function n(i){return i!=null&&i<=i?t[tv(e,i,0,a)]:r}return n.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),n):e.slice()},n.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),n):t.slice()},n.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return HF().domain(e).range(t).unknown(r)},Ql.apply(n,arguments)}const z4=new Date,q4=new Date;function Ii(e,t,r,a){function n(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(e(i=new Date(+i)),i),n.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),n.round=i=>{const s=n(i),o=n.ceil(i);return i-s<o-i?s:o},n.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),n.range=(i,s,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let d;do c.push(d=new Date(+i)),t(i,o),e(i);while(d<i&&i<s);return c},n.filter=i=>Ii(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(n.count=(i,s)=>(z4.setTime(+i),q4.setTime(+s),e(z4),e(q4),Math.floor(r(z4,q4))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?s=>a(s)%i===0:s=>n.count(0,s)%i===0):n)),n}const s2=Ii(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);s2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ii(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):s2);s2.range;const _0=1e3,$l=_0*60,S0=$l*60,q0=S0*24,h6=q0*7,E7=q0*30,$4=q0*365,mh=Ii(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_0)},(e,t)=>(t-e)/_0,e=>e.getUTCSeconds());mh.range;const m6=Ii(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_0)},(e,t)=>{e.setTime(+e+t*$l)},(e,t)=>(t-e)/$l,e=>e.getMinutes());m6.range;const p6=Ii(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$l)},(e,t)=>(t-e)/$l,e=>e.getUTCMinutes());p6.range;const g6=Ii(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_0-e.getMinutes()*$l)},(e,t)=>{e.setTime(+e+t*S0)},(e,t)=>(t-e)/S0,e=>e.getHours());g6.range;const x6=Ii(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*S0)},(e,t)=>(t-e)/S0,e=>e.getUTCHours());x6.range;const nv=Ii(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$l)/q0,e=>e.getDate()-1);nv.range;const fw=Ii(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/q0,e=>e.getUTCDate()-1);fw.range;const WF=Ii(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/q0,e=>Math.floor(e/q0));WF.range;function om(e){return Ii(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*$l)/h6)}const hw=om(0),o2=om(1),xie=om(2),vie=om(3),ig=om(4),yie=om(5),bie=om(6);hw.range;o2.range;xie.range;vie.range;ig.range;yie.range;bie.range;function lm(e){return Ii(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/h6)}const mw=lm(0),l2=lm(1),wie=lm(2),kie=lm(3),sg=lm(4),_ie=lm(5),Sie=lm(6);mw.range;l2.range;wie.range;kie.range;sg.range;_ie.range;Sie.range;const v6=Ii(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());v6.range;const y6=Ii(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());y6.range;const $0=Ii(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$0.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ii(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$0.range;const H0=Ii(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());H0.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ii(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});H0.range;function VF(e,t,r,a,n,i){const s=[[mh,1,_0],[mh,5,5*_0],[mh,15,15*_0],[mh,30,30*_0],[i,1,$l],[i,5,5*$l],[i,15,15*$l],[i,30,30*$l],[n,1,S0],[n,3,3*S0],[n,6,6*S0],[n,12,12*S0],[a,1,q0],[a,2,2*q0],[r,1,h6],[t,1,E7],[t,3,3*E7],[e,1,$4]];function o(d,h,m){const x=h<d;x&&([d,h]=[h,d]);const p=m&&typeof m.range=="function"?m:c(d,h,m),y=p?p.range(d,+h+1):[];return x?y.reverse():y}function c(d,h,m){const x=Math.abs(h-d)/m,p=e6(([,,b])=>b).right(s,x);if(p===s.length)return e.every(sS(d/$4,h/$4,m));if(p===0)return s2.every(Math.max(sS(d,h,m),1));const[y,v]=s[x/s[p-1][2]<s[p][2]/x?p-1:p];return y.every(v)}return[o,c]}const[Nie,jie]=VF(H0,y6,mw,WF,x6,p6),[Aie,Tie]=VF($0,v6,hw,nv,g6,m6);function H4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function W4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Eie(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,d=jx(n),h=Ax(n),m=jx(i),x=Ax(i),p=jx(s),y=Ax(s),v=jx(o),b=Ax(o),k=jx(c),N=Ax(c),_={a:ae,A:ue,b:se,B:be,c:null,d:M7,e:M7,f:Jie,g:lse,G:use,H:Yie,I:Xie,j:Qie,L:KF,m:Zie,M:ese,p:J,q:M,Q:F7,s:B7,S:tse,u:rse,U:ase,V:nse,w:ise,W:sse,x:null,X:null,y:ose,Y:cse,Z:dse,"%":I7},T={a:z,A:q,b:G,B:re,c:null,d:R7,e:R7,f:pse,g:Nse,G:Ase,H:fse,I:hse,j:mse,L:YF,m:gse,M:xse,p:he,q:je,Q:F7,s:B7,S:vse,u:yse,U:bse,V:wse,w:kse,W:_se,x:null,X:null,y:Sse,Y:jse,Z:Tse,"%":I7},P={a:K,A:D,b:F,B:H,c:Y,d:D7,e:D7,f:Wie,g:P7,G:O7,H:L7,I:L7,j:zie,L:Hie,m:Uie,M:qie,p:I,q:Bie,Q:Kie,s:Gie,S:$ie,u:Lie,U:Mie,V:Rie,w:Die,W:Iie,x:ne,X,y:P7,Y:O7,Z:Fie,"%":Vie};_.x=O(r,_),_.X=O(a,_),_.c=O(t,_),T.x=O(r,T),T.X=O(a,T),T.c=O(t,T);function O(oe,Ne){return function(Me){var Q=[],Te=-1,Ae=0,de=oe.length,Qe,we,Ze;for(Me instanceof Date||(Me=new Date(+Me));++Te<de;)oe.charCodeAt(Te)===37&&(Q.push(oe.slice(Ae,Te)),(we=C7[Qe=oe.charAt(++Te)])!=null?Qe=oe.charAt(++Te):we=Qe==="e"?" ":"0",(Ze=Ne[Qe])&&(Qe=Ze(Me,we)),Q.push(Qe),Ae=Te+1);return Q.push(oe.slice(Ae,Te)),Q.join("")}}function L(oe,Ne){return function(Me){var Q=Nx(1900,void 0,1),Te=U(Q,oe,Me+="",0),Ae,de;if(Te!=Me.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(Ne&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ae=W4(Nx(Q.y,0,1)),de=Ae.getUTCDay(),Ae=de>4||de===0?l2.ceil(Ae):l2(Ae),Ae=fw.offset(Ae,(Q.V-1)*7),Q.y=Ae.getUTCFullYear(),Q.m=Ae.getUTCMonth(),Q.d=Ae.getUTCDate()+(Q.w+6)%7):(Ae=H4(Nx(Q.y,0,1)),de=Ae.getDay(),Ae=de>4||de===0?o2.ceil(Ae):o2(Ae),Ae=nv.offset(Ae,(Q.V-1)*7),Q.y=Ae.getFullYear(),Q.m=Ae.getMonth(),Q.d=Ae.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),de="Z"in Q?W4(Nx(Q.y,0,1)).getUTCDay():H4(Nx(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(de+5)%7:Q.w+Q.U*7-(de+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,W4(Q)):H4(Q)}}function U(oe,Ne,Me,Q){for(var Te=0,Ae=Ne.length,de=Me.length,Qe,we;Te<Ae;){if(Q>=de)return-1;if(Qe=Ne.charCodeAt(Te++),Qe===37){if(Qe=Ne.charAt(Te++),we=P[Qe in C7?Ne.charAt(Te++):Qe],!we||(Q=we(oe,Me,Q))<0)return-1}else if(Qe!=Me.charCodeAt(Q++))return-1}return Q}function I(oe,Ne,Me){var Q=d.exec(Ne.slice(Me));return Q?(oe.p=h.get(Q[0].toLowerCase()),Me+Q[0].length):-1}function K(oe,Ne,Me){var Q=p.exec(Ne.slice(Me));return Q?(oe.w=y.get(Q[0].toLowerCase()),Me+Q[0].length):-1}function D(oe,Ne,Me){var Q=m.exec(Ne.slice(Me));return Q?(oe.w=x.get(Q[0].toLowerCase()),Me+Q[0].length):-1}function F(oe,Ne,Me){var Q=k.exec(Ne.slice(Me));return Q?(oe.m=N.get(Q[0].toLowerCase()),Me+Q[0].length):-1}function H(oe,Ne,Me){var Q=v.exec(Ne.slice(Me));return Q?(oe.m=b.get(Q[0].toLowerCase()),Me+Q[0].length):-1}function Y(oe,Ne,Me){return U(oe,t,Ne,Me)}function ne(oe,Ne,Me){return U(oe,r,Ne,Me)}function X(oe,Ne,Me){return U(oe,a,Ne,Me)}function ae(oe){return s[oe.getDay()]}function ue(oe){return i[oe.getDay()]}function se(oe){return c[oe.getMonth()]}function be(oe){return o[oe.getMonth()]}function J(oe){return n[+(oe.getHours()>=12)]}function M(oe){return 1+~~(oe.getMonth()/3)}function z(oe){return s[oe.getUTCDay()]}function q(oe){return i[oe.getUTCDay()]}function G(oe){return c[oe.getUTCMonth()]}function re(oe){return o[oe.getUTCMonth()]}function he(oe){return n[+(oe.getUTCHours()>=12)]}function je(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Ne=O(oe+="",_);return Ne.toString=function(){return oe},Ne},parse:function(oe){var Ne=L(oe+="",!1);return Ne.toString=function(){return oe},Ne},utcFormat:function(oe){var Ne=O(oe+="",T);return Ne.toString=function(){return oe},Ne},utcParse:function(oe){var Ne=L(oe+="",!0);return Ne.toString=function(){return oe},Ne}}}var C7={"-":"",_:" ",0:"0"},ts=/^\s*\d+/,Cie=/^%/,Oie=/[\\^$*+?|[\]().{}]/g;function xa(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(t)+n:n)}function Pie(e){return e.replace(Oie,"\\$&")}function jx(e){return new RegExp("^(?:"+e.map(Pie).join("|")+")","i")}function Ax(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Die(e,t,r){var a=ts.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function Lie(e,t,r){var a=ts.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function Mie(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function Rie(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function Iie(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function O7(e,t,r){var a=ts.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function P7(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Fie(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function Bie(e,t,r){var a=ts.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function Uie(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function D7(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function zie(e,t,r){var a=ts.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function L7(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function qie(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function $ie(e,t,r){var a=ts.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function Hie(e,t,r){var a=ts.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function Wie(e,t,r){var a=ts.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Vie(e,t,r){var a=Cie.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function Kie(e,t,r){var a=ts.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Gie(e,t,r){var a=ts.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function M7(e,t){return xa(e.getDate(),t,2)}function Yie(e,t){return xa(e.getHours(),t,2)}function Xie(e,t){return xa(e.getHours()%12||12,t,2)}function Qie(e,t){return xa(1+nv.count($0(e),e),t,3)}function KF(e,t){return xa(e.getMilliseconds(),t,3)}function Jie(e,t){return KF(e,t)+"000"}function Zie(e,t){return xa(e.getMonth()+1,t,2)}function ese(e,t){return xa(e.getMinutes(),t,2)}function tse(e,t){return xa(e.getSeconds(),t,2)}function rse(e){var t=e.getDay();return t===0?7:t}function ase(e,t){return xa(hw.count($0(e)-1,e),t,2)}function GF(e){var t=e.getDay();return t>=4||t===0?ig(e):ig.ceil(e)}function nse(e,t){return e=GF(e),xa(ig.count($0(e),e)+($0(e).getDay()===4),t,2)}function ise(e){return e.getDay()}function sse(e,t){return xa(o2.count($0(e)-1,e),t,2)}function ose(e,t){return xa(e.getFullYear()%100,t,2)}function lse(e,t){return e=GF(e),xa(e.getFullYear()%100,t,2)}function cse(e,t){return xa(e.getFullYear()%1e4,t,4)}function use(e,t){var r=e.getDay();return e=r>=4||r===0?ig(e):ig.ceil(e),xa(e.getFullYear()%1e4,t,4)}function dse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xa(t/60|0,"0",2)+xa(t%60,"0",2)}function R7(e,t){return xa(e.getUTCDate(),t,2)}function fse(e,t){return xa(e.getUTCHours(),t,2)}function hse(e,t){return xa(e.getUTCHours()%12||12,t,2)}function mse(e,t){return xa(1+fw.count(H0(e),e),t,3)}function YF(e,t){return xa(e.getUTCMilliseconds(),t,3)}function pse(e,t){return YF(e,t)+"000"}function gse(e,t){return xa(e.getUTCMonth()+1,t,2)}function xse(e,t){return xa(e.getUTCMinutes(),t,2)}function vse(e,t){return xa(e.getUTCSeconds(),t,2)}function yse(e){var t=e.getUTCDay();return t===0?7:t}function bse(e,t){return xa(mw.count(H0(e)-1,e),t,2)}function XF(e){var t=e.getUTCDay();return t>=4||t===0?sg(e):sg.ceil(e)}function wse(e,t){return e=XF(e),xa(sg.count(H0(e),e)+(H0(e).getUTCDay()===4),t,2)}function kse(e){return e.getUTCDay()}function _se(e,t){return xa(l2.count(H0(e)-1,e),t,2)}function Sse(e,t){return xa(e.getUTCFullYear()%100,t,2)}function Nse(e,t){return e=XF(e),xa(e.getUTCFullYear()%100,t,2)}function jse(e,t){return xa(e.getUTCFullYear()%1e4,t,4)}function Ase(e,t){var r=e.getUTCDay();return e=r>=4||r===0?sg(e):sg.ceil(e),xa(e.getUTCFullYear()%1e4,t,4)}function Tse(){return"+0000"}function I7(){return"%"}function F7(e){return+e}function B7(e){return Math.floor(+e/1e3)}var fp,QF,JF;Ese({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ese(e){return fp=Eie(e),QF=fp.format,fp.parse,JF=fp.utcFormat,fp.utcParse,fp}function Cse(e){return new Date(e)}function Ose(e){return e instanceof Date?+e:+new Date(+e)}function b6(e,t,r,a,n,i,s,o,c,d){var h=s6(),m=h.invert,x=h.domain,p=d(".%L"),y=d(":%S"),v=d("%I:%M"),b=d("%I %p"),k=d("%a %d"),N=d("%b %d"),_=d("%B"),T=d("%Y");function P(O){return(c(O)<O?p:o(O)<O?y:s(O)<O?v:i(O)<O?b:a(O)<O?n(O)<O?k:N:r(O)<O?_:T)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?x(Array.from(O,Ose)):x().map(Cse)},h.ticks=function(O){var L=x();return e(L[0],L[L.length-1],O??10)},h.tickFormat=function(O,L){return L==null?P:d(L)},h.nice=function(O){var L=x();return(!O||typeof O.range!="function")&&(O=t(L[0],L[L.length-1],O??10)),O?x(FF(L,O)):h},h.copy=function(){return av(h,b6(e,t,r,a,n,i,s,o,c,d))},h}function Pse(){return Ql.apply(b6(Aie,Tie,$0,v6,hw,nv,g6,m6,mh,QF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dse(){return Ql.apply(b6(Nie,jie,H0,y6,mw,fw,x6,p6,mh,JF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pw(){var e=0,t=1,r,a,n,i,s=ro,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(n===0?.5:(m=(i(m)-r)*n,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),a=i(t=+t),n=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(x){var p,y;return arguments.length?([p,y]=x,s=m(p,y),d):[s(0),s(1)]}}return d.range=h(bg),d.rangeRound=h(i6),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(e),a=m(t),n=r===a?0:1/(a-r),d}}function wf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZF(){var e=bf(pw()(ro));return e.copy=function(){return wf(e,ZF())},J0.apply(e,arguments)}function eB(){var e=c6(pw()).domain([1,10]);return e.copy=function(){return wf(e,eB()).base(e.base())},J0.apply(e,arguments)}function tB(){var e=u6(pw());return e.copy=function(){return wf(e,tB()).constant(e.constant())},J0.apply(e,arguments)}function w6(){var e=d6(pw());return e.copy=function(){return wf(e,w6()).exponent(e.exponent())},J0.apply(e,arguments)}function Lse(){return w6.apply(null,arguments).exponent(.5)}function rB(){var e=[],t=ro;function r(a){if(a!=null&&!isNaN(a=+a))return t((tv(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let n of a)n!=null&&!isNaN(n=+n)&&e.push(n);return e.sort(lf),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,n)=>t(n/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>yne(e,i/a))},r.copy=function(){return rB(t).domain(e)},J0.apply(r,arguments)}function gw(){var e=0,t=.5,r=1,a=1,n,i,s,o,c,d=ro,h,m=!1,x;function p(v){return isNaN(v=+v)?x:(v=.5+((v=+h(v))-i)*(a*v<a*i?o:c),d(m?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,n=h(e=+e),i=h(t=+t),s=h(r=+r),o=n===i?0:.5/(i-n),c=i===s?0:.5/(s-i),a=i<n?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(m=!!v,p):m},p.interpolator=function(v){return arguments.length?(d=v,p):d};function y(v){return function(b){var k,N,_;return arguments.length?([k,N,_]=b,d=Vne(v,[k,N,_]),p):[d(0),d(.5),d(1)]}}return p.range=y(bg),p.rangeRound=y(i6),p.unknown=function(v){return arguments.length?(x=v,p):x},function(v){return h=v,n=v(e),i=v(t),s=v(r),o=n===i?0:.5/(i-n),c=i===s?0:.5/(s-i),a=i<n?-1:1,p}}function aB(){var e=bf(gw()(ro));return e.copy=function(){return wf(e,aB())},J0.apply(e,arguments)}function nB(){var e=c6(gw()).domain([.1,1,10]);return e.copy=function(){return wf(e,nB()).base(e.base())},J0.apply(e,arguments)}function iB(){var e=u6(gw());return e.copy=function(){return wf(e,iB()).constant(e.constant())},J0.apply(e,arguments)}function k6(){var e=d6(gw());return e.copy=function(){return wf(e,k6()).exponent(e.exponent())},J0.apply(e,arguments)}function Mse(){return k6.apply(null,arguments).exponent(.5)}const Rx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:r6,scaleDiverging:aB,scaleDivergingLog:nB,scaleDivergingPow:k6,scaleDivergingSqrt:Mse,scaleDivergingSymlog:iB,scaleIdentity:IF,scaleImplicit:oS,scaleLinear:RF,scaleLog:BF,scaleOrdinal:t6,scalePoint:kne,scalePow:f6,scaleQuantile:qF,scaleQuantize:$F,scaleRadial:zF,scaleSequential:ZF,scaleSequentialLog:eB,scaleSequentialPow:w6,scaleSequentialQuantile:rB,scaleSequentialSqrt:Lse,scaleSequentialSymlog:tB,scaleSqrt:pie,scaleSymlog:UF,scaleThreshold:HF,scaleTime:Pse,scaleUtc:Dse,tickFormat:MF},Symbol.toStringTag,{value:"Module"}));var kf=e=>e.chartData,_6=Ye([kf],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),iv=(e,t,r,a)=>a?_6(e):kf(e);function Wh(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(vi(t)&&vi(r))return!0}return!1}function U7(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function sB(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,n,i;if(vi(r))n=r;else if(typeof r=="function")return;if(vi(a))i=a;else if(typeof a=="function")return;var s=[n,i];if(Wh(s))return s}}function Rse(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(Wh(a))return U7(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[n,i]=e,s,o;if(n==="auto")t!=null&&(s=Math.min(...t));else if(Kt(n))s=n;else if(typeof n=="function")try{t!=null&&(s=n(t==null?void 0:t[0]))}catch{}else if(typeof n=="string"&&_O.test(n)){var c=_O.exec(n);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[0]-d}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Kt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&SO.test(i)){var h=SO.exec(i);if(h==null||t==null)o=void 0;else{var m=+h[1];o=t[1]+m}}else o=t==null?void 0:t[1];var x=[s,o];if(Wh(x))return t==null?x:U7(x,t,r)}}}var wg=1e9,Ise={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},N6,wn=!0,Gl="[DecimalError] ",Eh=Gl+"Invalid argument: ",S6=Gl+"Exponent out of range: ",kg=Math.floor,nh=Math.pow,Fse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nl,Yi=1e7,on=7,oB=9007199254740991,c2=kg(oB/on),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,r,a,n,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,n=e.d.length,t=0,r=a<n?a:n;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*on;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};zt.dividedBy=zt.div=function(e){return C0(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,r=t.constructor;return Xa(C0(t,new r(e),0,1),r.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return xi(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,r=this,a=r.constructor,n=a.precision,i=n+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(nl))throw Error(Gl+"NaN");if(r.s<1)throw Error(Gl+(r.s?"NaN":"-Infinity"));return r.eq(nl)?new a(0):(wn=!1,t=C0(v1(r,i),v1(e,i),i),wn=!0,Xa(t,n))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uB(t,e):lB(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(e=new a(e),!e.s)throw Error(Gl+"NaN");return r.s?(wn=!1,t=C0(r,e,0,1).times(e),wn=!0,r.minus(t)):Xa(new a(r),n)};zt.naturalExponential=zt.exp=function(){return cB(this)};zt.naturalLogarithm=zt.ln=function(){return v1(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lB(t,e):uB(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,r,a,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Eh+e);if(t=xi(n)+1,a=n.d.length-1,r=a*on+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};zt.squareRoot=zt.sqrt=function(){var e,t,r,a,n,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Gl+"NaN")}for(e=xi(o),wn=!1,n=Math.sqrt(+o),n==0||n==1/0?(t=wu(o.d),(t.length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=kg((e+1)/2)-(e<0||e%2),n==1/0?t="5e"+e:(t=n.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(n.toString()),r=c.precision,n=s=r+3;;)if(i=a,a=i.plus(C0(o,i,s+2)).times(.5),wu(i.d).slice(0,s)===(t=wu(a.d)).slice(0,s)){if(t=t.slice(s-3,s+1),n==s&&t=="4999"){if(Xa(i,r+1,0),i.times(i).eq(o)){a=i;break}}else if(t!="9999")break;s+=4}return wn=!0,Xa(a,r)};zt.times=zt.mul=function(e){var t,r,a,n,i,s,o,c,d,h=this,m=h.constructor,x=h.d,p=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,c=x.length,d=p.length,c<d&&(i=x,x=p,p=i,s=c,c=d,d=s),i=[],s=c+d,a=s;a--;)i.push(0);for(a=d;--a>=0;){for(t=0,n=c+a;n>a;)o=i[n]+p[a]*x[n-a-1]+t,i[n--]=o%Yi|0,t=o/Yi|0;i[n]=(i[n]+t)%Yi|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,wn?Xa(e,m.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(Eu(e,0,wg),t===void 0?t=a.rounding:Eu(t,0,8),Xa(r,e+xi(r)+1,t))};zt.toExponential=function(e,t){var r,a=this,n=a.constructor;return e===void 0?r=Vh(a,!0):(Eu(e,0,wg),t===void 0?t=n.rounding:Eu(t,0,8),a=Xa(new n(a),e+1,t),r=Vh(a,!0,e+1)),r};zt.toFixed=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?Vh(n):(Eu(e,0,wg),t===void 0?t=i.rounding:Eu(t,0,8),a=Xa(new i(n),e+xi(n)+1,t),r=Vh(a.abs(),!1,e+xi(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return Xa(new t(e),xi(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,r,a,n,i,s,o=this,c=o.constructor,d=12,h=+(e=new c(e));if(!e.s)return new c(nl);if(o=new c(o),!o.s){if(e.s<1)throw Error(Gl+"Infinity");return o}if(o.eq(nl))return o;if(a=c.precision,e.eq(nl))return Xa(o,a);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=h<0?-h:h)<=oB){for(n=new c(nl),t=Math.ceil(a/on+4),wn=!1;r%2&&(n=n.times(o),q7(n.d,t)),r=kg(r/2),r!==0;)o=o.times(o),q7(o.d,t);return wn=!0,e.s<0?new c(nl).div(n):Xa(n,a)}}else if(i<0)throw Error(Gl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,wn=!1,n=e.times(v1(o,a+d)),wn=!0,n=cB(n),n.s=i,n};zt.toPrecision=function(e,t){var r,a,n=this,i=n.constructor;return e===void 0?(r=xi(n),a=Vh(n,r<=i.toExpNeg||r>=i.toExpPos)):(Eu(e,1,wg),t===void 0?t=i.rounding:Eu(t,0,8),n=Xa(new i(n),e,t),r=xi(n),a=Vh(n,e<=r||r<=i.toExpNeg,e)),a};zt.toSignificantDigits=zt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Eu(e,1,wg),t===void 0?t=a.rounding:Eu(t,0,8)),Xa(new a(r),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xi(e),r=e.constructor;return Vh(e,t<=r.toExpNeg||t>=r.toExpPos)};function lB(e,t){var r,a,n,i,s,o,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),wn?Xa(t,m):t;if(c=e.d,d=t.d,s=e.e,n=t.e,c=c.slice(),i=s-n,i){for(i<0?(a=c,i=-i,o=d.length):(a=d,n=s,o=c.length),s=Math.ceil(m/on),o=s>o?s+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Yi|0,c[i]%=Yi;for(r&&(c.unshift(r),++n),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=n,wn?Xa(t,m):t}function Eu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Eh+e)}function wu(e){var t,r,a,n=e.length-1,i="",s=e[0];if(n>0){for(i+=s,t=1;t<n;t++)a=e[t]+"",r=on-a.length,r&&(i+=Hd(r)),i+=a;s=e[t],a=s+"",r=on-a.length,r&&(i+=Hd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var C0=(function(){function e(a,n){var i,s=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+s,a[o]=i%Yi|0,s=i/Yi|0;return s&&a.unshift(s),a}function t(a,n,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=n[o]){c=a[o]>n[o]?1:-1;break}return c}function r(a,n,i){for(var s=0;i--;)a[i]-=s,s=a[i]<n[i]?1:0,a[i]=s*Yi+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,s){var o,c,d,h,m,x,p,y,v,b,k,N,_,T,P,O,L,U,I=a.constructor,K=a.s==n.s?1:-1,D=a.d,F=n.d;if(!a.s)return new I(a);if(!n.s)throw Error(Gl+"Division by zero");for(c=a.e-n.e,L=F.length,P=D.length,p=new I(K),y=p.d=[],d=0;F[d]==(D[d]||0);)++d;if(F[d]>(D[d]||0)&&--c,i==null?N=i=I.precision:s?N=i+(xi(a)-xi(n))+1:N=i,N<0)return new I(0);if(N=N/on+2|0,d=0,L==1)for(h=0,F=F[0],N++;(d<P||h)&&N--;d++)_=h*Yi+(D[d]||0),y[d]=_/F|0,h=_%F|0;else{for(h=Yi/(F[0]+1)|0,h>1&&(F=e(F,h),D=e(D,h),L=F.length,P=D.length),T=L,v=D.slice(0,L),b=v.length;b<L;)v[b++]=0;U=F.slice(),U.unshift(0),O=F[0],F[1]>=Yi/2&&++O;do h=0,o=t(F,v,L,b),o<0?(k=v[0],L!=b&&(k=k*Yi+(v[1]||0)),h=k/O|0,h>1?(h>=Yi&&(h=Yi-1),m=e(F,h),x=m.length,b=v.length,o=t(m,v,x,b),o==1&&(h--,r(m,L<x?U:F,x))):(h==0&&(o=h=1),m=F.slice()),x=m.length,x<b&&m.unshift(0),r(v,m,b),o==-1&&(b=v.length,o=t(F,v,L,b),o<1&&(h++,r(v,L<b?U:F,b))),b=v.length):o===0&&(h++,v=[0]),y[d++]=h,o&&v[0]?v[b++]=D[T]||0:(v=[D[T]],b=1);while((T++<P||v[0]!==void 0)&&N--)}return y[0]||y.shift(),p.e=c,Xa(p,s?i+xi(p)+1:i)}})();function cB(e,t){var r,a,n,i,s,o,c=0,d=0,h=e.constructor,m=h.precision;if(xi(e)>16)throw Error(S6+xi(e));if(!e.s)return new h(nl);for(wn=!1,o=m,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(a=Math.log(nh(2,d))/Math.LN10*2+5|0,o+=a,r=n=i=new h(nl),h.precision=o;;){if(n=Xa(n.times(e),o),r=r.times(++c),s=i.plus(C0(n,r,o)),wu(s.d).slice(0,o)===wu(i.d).slice(0,o)){for(;d--;)i=Xa(i.times(i),o);return h.precision=m,t==null?(wn=!0,Xa(i,m)):i}i=s}}function xi(e){for(var t=e.e*on,r=e.d[0];r>=10;r/=10)t++;return t}function V4(e,t,r){if(t>e.LN10.sd())throw wn=!0,r&&(e.precision=r),Error(Gl+"LN10 precision limit exceeded");return Xa(new e(e.LN10),t)}function Hd(e){for(var t="";e--;)t+="0";return t}function v1(e,t){var r,a,n,i,s,o,c,d,h,m=1,x=10,p=e,y=p.d,v=p.constructor,b=v.precision;if(p.s<1)throw Error(Gl+(p.s?"NaN":"-Infinity"));if(p.eq(nl))return new v(0);if(t==null?(wn=!1,d=b):d=t,p.eq(10))return t==null&&(wn=!0),V4(v,d);if(d+=x,v.precision=d,r=wu(y),a=r.charAt(0),i=xi(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=wu(p.d),a=r.charAt(0),m++;i=xi(p),a>1?(p=new v("0."+r),i++):p=new v(a+"."+r.slice(1))}else return c=V4(v,d+2,b).times(i+""),p=v1(new v(a+"."+r.slice(1)),d-x).plus(c),v.precision=b,t==null?(wn=!0,Xa(p,b)):p;for(o=s=p=C0(p.minus(nl),p.plus(nl),d),h=Xa(p.times(p),d),n=3;;){if(s=Xa(s.times(h),d),c=o.plus(C0(s,new v(n),d)),wu(c.d).slice(0,d)===wu(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(V4(v,d+2,b).times(i+""))),o=C0(o,new v(m),d),v.precision=b,t==null?(wn=!0,Xa(o,b)):o;o=c,n+=2}}function z7(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(n=t.length;t.charCodeAt(n-1)===48;)--n;if(t=t.slice(a,n),t){if(n-=a,r=r-a-1,e.e=kg(r/on),e.d=[],a=(r+1)%on,r<0&&(a+=on),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=on;a<n;)e.d.push(+t.slice(a,a+=on));t=t.slice(a),a=on-t.length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),wn&&(e.e>c2||e.e<-c2))throw Error(S6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xa(e,t,r){var a,n,i,s,o,c,d,h,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(a=t-s,a<0)a+=on,n=t,d=m[h=0];else{if(h=Math.ceil((a+1)/on),i=m.length,h>=i)return e;for(d=i=m[h],s=1;i>=10;i/=10)s++;a%=on,n=a-on+s}if(r!==void 0&&(i=nh(10,s-n-1),o=d/i%10|0,c=t<0||m[h+1]!==void 0||d%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(a>0?n>0?d/nh(10,s-n):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=xi(e),m.length=1,t=t-i-1,m[0]=nh(10,(on-t%on)%on),e.e=kg(-t/on)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(a==0?(m.length=h,i=1,h--):(m.length=h+1,i=nh(10,on-a),m[h]=n>0?(d/nh(10,s-n)%nh(10,n)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==Yi&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=Yi)break;m[h--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if(wn&&(e.e>c2||e.e<-c2))throw Error(S6+xi(e));return e}function uB(e,t){var r,a,n,i,s,o,c,d,h,m,x=e.constructor,p=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),wn?Xa(t,p):t;if(c=e.d,m=t.d,a=t.e,d=e.e,c=c.slice(),s=d-a,s){for(h=s<0,h?(r=c,s=-s,o=m.length):(r=m,a=d,o=c.length),n=Math.max(Math.ceil(p/on),o)+2,s>n&&(s=n,r.length=1),r.reverse(),n=s;n--;)r.push(0);r.reverse()}else{for(n=c.length,o=m.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(c[n]!=m[n]){h=c[n]<m[n];break}s=0}for(h&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,n=m.length-o;n>0;--n)c[o++]=0;for(n=m.length;n>s;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=Yi-1;--c[i],c[n]+=Yi}c[n]-=m[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,wn?Xa(t,p):t):new x(0)}function Vh(e,t,r){var a,n=xi(e),i=wu(e.d),s=i.length;return t?(r&&(a=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Hd(a):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Hd(-n-1)+i,r&&(a=r-s)>0&&(i+=Hd(a))):n>=s?(i+=Hd(n+1-s),r&&(a=r-n-1)>0&&(i=i+"."+Hd(a))):((a=n+1)<s&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-s)>0&&(n+1===s&&(i+="."),i+=Hd(a))),e.s<0?"-"+i:i}function q7(e,t){if(e.length>t)return e.length=t,!0}function dB(e){var t,r,a;function n(i){var s=this;if(!(s instanceof n))return new n(i);if(s.constructor=n,i instanceof n){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Eh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return z7(s,i.toString())}else if(typeof i!="string")throw Error(Eh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Fse.test(i))z7(s,i);else throw Error(Eh+i)}if(n.prototype=zt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=dB,n.config=n.set=Bse,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return n.config(e),n}function Bse(e){if(!e||typeof e!="object")throw Error(Gl+"Object expected");var t,r,a,n=["precision",1,wg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if((a=e[r=n[t]])!==void 0)if(kg(a)===a&&a>=n[t+1]&&a<=n[t+2])this[r]=a;else throw Error(Eh+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Eh+r+": "+a);return this}var N6=dB(Ise);nl=new N6(1);const Ca=N6;var Use=e=>e,fB={},hB=e=>e===fB,$7=e=>function t(){return arguments.length===0||arguments.length===1&&hB(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},mB=(e,t)=>e===1?t:$7(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var i=a.filter(s=>s!==fB).length;return i>=e?t(...a):mB(e-i,$7(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var d=a.map(h=>hB(h)?o.shift():h);return t(...d,...o)}))}),xw=e=>mB(e.length,e),dS=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},zse=xw((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),qse=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return Use;var n=r.reverse(),i=n[0],s=n.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},fS=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),pB=e=>{var t=null,r=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t&&n.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=n,r=e(...n)),r}};function gB(e){var t;return e===0?t=1:t=Math.floor(new Ca(e).abs().log(10).toNumber())+1,t}function xB(e,t,r){for(var a=new Ca(e),n=0,i=[];a.lt(t)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}xw((e,t,r)=>{var a=+e,n=+t;return a+r*(n-a)});xw((e,t,r)=>{var a=t-+e;return a=a||1/0,(r-e)/a});xw((e,t,r)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});var vB=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},yB=(e,t,r)=>{if(e.lte(0))return new Ca(0);var a=gB(e.toNumber()),n=new Ca(10).pow(a),i=e.div(n),s=a!==1?.05:.1,o=new Ca(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(n);return t?new Ca(c.toNumber()):new Ca(Math.ceil(c.toNumber()))},$se=(e,t,r)=>{var a=new Ca(1),n=new Ca(e);if(!n.isint()&&r){var i=Math.abs(e);i<1?(a=new Ca(10).pow(gB(e)-1),n=new Ca(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new Ca(Math.floor(e)))}else e===0?n=new Ca(Math.floor((t-1)/2)):r||(n=new Ca(Math.floor(e)));var s=Math.floor((t-1)/2),o=qse(zse(c=>n.add(new Ca(c-s).mul(a)).toNumber()),dS);return o(0,t)},bB=function(t,r,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new Ca(0),tickMin:new Ca(0),tickMax:new Ca(0)};var s=yB(new Ca(r).sub(t).div(a-1),n,i),o;t<=0&&r>=0?o=new Ca(0):(o=new Ca(t).add(r).div(2),o=o.sub(new Ca(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new Ca(r).sub(o).div(s).toNumber()),h=c+d+1;return h>a?bB(t,r,a,n,i+1):(h<a&&(d=r>0?d+(a-h):d,c=r>0?c:c+(a-h)),{step:s,tickMin:o.sub(new Ca(c).mul(s)),tickMax:o.add(new Ca(d).mul(s))})};function Hse(e){var[t,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[s,o]=vB([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...dS(0,a-1).map(()=>1/0)]:[...dS(0,a-1).map(()=>-1/0),o];return t>r?fS(c):c}if(s===o)return $se(s,a,n);var{step:d,tickMin:h,tickMax:m}=bB(s,o,i,n,0),x=xB(h,m.add(new Ca(.1).mul(d)),d);return t>r?fS(x):x}function Wse(e,t){var[r,a]=e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=vB([r,a]);if(i===-1/0||s===1/0)return[r,a];if(i===s)return[i];var o=Math.max(t,2),c=yB(new Ca(s).sub(i).div(o-1),n,0),d=[...xB(new Ca(i),new Ca(s),c),s];return n===!1&&(d=d.map(h=>Math.round(h))),r>a?fS(d):d}var Vse=pB(Hse),Kse=pB(Wse),wB=e=>e.rootProps.maxBarSize,Gse=e=>e.rootProps.barGap,kB=e=>e.rootProps.barCategoryGap,Yse=e=>e.rootProps.barSize,sv=e=>e.rootProps.stackOffset,j6=e=>e.options.chartName,A6=e=>e.rootProps.syncId,_B=e=>e.rootProps.syncMethod,T6=e=>e.options.eventEmitter,w0={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Jo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},vw=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Xse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:w0.angleAxisId,includeHidden:!1,name:void 0,reversed:w0.reversed,scale:w0.scale,tick:w0.tick,tickCount:void 0,ticks:void 0,type:w0.type,unit:void 0},Qse={allowDataOverflow:Jo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jo.scale,tick:Jo.tick,tickCount:Jo.tickCount,ticks:void 0,type:Jo.type,unit:void 0},Jse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:w0.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:w0.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:w0.scale,tick:w0.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Zse={allowDataOverflow:Jo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Jo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Jo.scale,tick:Jo.tick,tickCount:Jo.tickCount,ticks:void 0,type:"category",unit:void 0},E6=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Jse:Xse,C6=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Zse:Qse,yw=e=>e.polarOptions,O6=Ye([Y0,X0,Mi],tF),SB=Ye([yw,O6],(e,t)=>{if(e!=null)return Ls(e.innerRadius,t,0)}),NB=Ye([yw,O6],(e,t)=>{if(e!=null)return Ls(e.outerRadius,t,t*.8)}),eoe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},jB=Ye([yw],eoe);Ye([E6,jB],vw);var AB=Ye([O6,SB,NB],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Ye([C6,AB],vw);var TB=Ye([Jr,yw,SB,NB,Y0,X0],(e,t,r,a,n,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:s,cy:o,startAngle:c,endAngle:d}=t;return{cx:Ls(s,n,n/2),cy:Ls(o,i,i/2),innerRadius:r,outerRadius:a,startAngle:c,endAngle:d,clockWise:!1}}}),Sn=(e,t)=>t,ov=(e,t,r)=>r;function bw(e){return e==null?void 0:e.id}var Fi=e=>{var t=Jr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_g=e=>e.tooltip.settings.axisId,Bi=e=>{var t=Fi(e),r=_g(e);return lv(e,t,r)},EB=Ye([Bi],e=>e==null?void 0:e.dataKey);function CB(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:a;if(!(d==null||d.length===0)){var h=bw(o);d.forEach((m,x)=>{var p=i==null||n?x:String(Ha(m,i,null)),y=Ha(m,o.dataKey,0),v;s.has(p)?v=s.get(p):v={},Object.assign(v,{[h]:y}),s.set(p,v)})}}),Array.from(s.values())}function ww(e){return e.stackId!=null&&e.dataKey!=null}var kw=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function _w(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(r),!0).forEach(function(a){toe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function toe(e,t,r){return(t=roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hS=[0,"auto"],Yo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},OB=(e,t)=>e.cartesianAxis.xAxis[t],Z0=(e,t)=>{var r=OB(e,t);return r??Yo},Xo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Z1},PB=(e,t)=>e.cartesianAxis.yAxis[t],ed=(e,t)=>{var r=PB(e,t);return r??Xo},noe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},P6=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??noe},Ln=(e,t,r)=>{switch(t){case"xAxis":return Z0(e,r);case"yAxis":return ed(e,r);case"zAxis":return P6(e,r);case"angleAxis":return E6(e,r);case"radiusAxis":return C6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ioe=(e,t,r)=>{switch(t){case"xAxis":return Z0(e,r);case"yAxis":return ed(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lv=(e,t,r)=>{switch(t){case"xAxis":return Z0(e,r);case"yAxis":return ed(e,r);case"angleAxis":return E6(e,r);case"radiusAxis":return C6(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DB=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function D6(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var cv=e=>e.graphicalItems.cartesianItems,soe=Ye([Sn,ov],D6),L6=(e,t,r)=>e.filter(r).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),uv=Ye([cv,Ln,soe],L6,{memoizeOptions:{resultEqualityCheck:_w}}),LB=Ye([uv],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ww)),MB=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ooe=Ye([uv],MB),M6=e=>e.map(t=>t.data).filter(Boolean).flat(1),loe=Ye([uv],M6,{memoizeOptions:{resultEqualityCheck:_w}}),R6=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},I6=Ye([loe,iv],R6),F6=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ha(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(n=>({value:Ha(n,a)}))):e.map(a=>({value:a})),Sw=Ye([I6,Ln,uv],F6);function RB(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function xb(e){if(Tu(e)||e instanceof Date){var t=Number(e);if(vi(t))return t}}function W7(e){if(Array.isArray(e)){var t=[xb(e[0]),xb(e[1])];return Wh(t)?t:void 0}var r=xb(e);if(r!=null)return[r,r]}function Sg(e){return e.map(xb).filter(Nae)}function coe(e,t,r){return!r||typeof t!="number"||cl(t)?[]:r.length?Sg(r.flatMap(a=>{var n=Ha(e,a.dataKey),i,s;if(Array.isArray(n)?[i,s]=n:i=s=n,!(!vi(i)||!vi(s)))return[t-i,t+s]})):[]}var uoe=Ye([LB,iv,Bi],CB),IB=(e,t,r)=>{var a={},n=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[s,o]=i,c=o.map(bw);return[s,{stackedData:Yte(e,c,r),graphicalItems:o}]}))},y1=Ye([uoe,LB,sv],IB),FB=(e,t,r,a)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(a==null&&r!=="zAxis"){var s=Zte(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},doe=Ye([Ln],e=>e.allowDataOverflow),B6=e=>{var t;if(e==null||!("domain"in e))return hS;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Sg(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:hS},U6=Ye([Ln],B6),z6=Ye([U6,doe],sB),foe=Ye([y1,kf,Sn,z6],FB,{memoizeOptions:{resultEqualityCheck:kw}}),Nw=e=>e.errorBars,hoe=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>RB(r,a)),d2=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r.filter(Boolean);if(n.length!==0){var i=n.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},q6=(e,t,r,a,n)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var d,h,m=(d=a[c.id])===null||d===void 0?void 0:d.filter(k=>RB(n,k)),x=Ha(o,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),p=coe(o,x,m);if(p.length>=2){var y=Math.min(...p),v=Math.max(...p);(i==null||y<i)&&(i=y),(s==null||v>s)&&(s=v)}var b=W7(x);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),s=s==null?b[1]:Math.max(s,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=W7(Ha(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),vi(i)&&vi(s))return[i,s]},moe=Ye([I6,Ln,ooe,Nw,Sn],q6,{memoizeOptions:{resultEqualityCheck:kw}});function poe(e){var{value:t}=e;if(Tu(t)||t instanceof Date)return t}var goe=(e,t,r)=>{var a=e.map(poe).filter(n=>n!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&dI(a))?NF(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},BB=e=>e.referenceElements.dots,Ng=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),xoe=Ye([BB,Sn,ov],Ng),UB=e=>e.referenceElements.areas,voe=Ye([UB,Sn,ov],Ng),zB=e=>e.referenceElements.lines,yoe=Ye([zB,Sn,ov],Ng),qB=(e,t)=>{var r=Sg(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},boe=Ye(xoe,Sn,qB),$B=(e,t)=>{var r=Sg(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},woe=Ye([voe,Sn],$B),HB=(e,t)=>{var r=Sg(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},koe=Ye(yoe,Sn,HB),_oe=Ye(boe,koe,woe,(e,t,r)=>d2(e,r,t)),$6=(e,t,r,a,n,i,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",d=c?d2(a,i,n):d2(i,n);return Rse(t,d,e.allowDataOverflow)},Soe=Ye([Ln,U6,z6,foe,moe,_oe,Jr,Sn],$6,{memoizeOptions:{resultEqualityCheck:kw}}),Noe=[0,1],H6=(e,t,r,a,n,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,d=Lu(t,i);return d&&o==null?NF(0,r.length):c==="category"?goe(a,e,d):n==="expand"?Noe:s}},W6=Ye([Ln,Jr,I6,Sw,sv,Sn,Soe],H6),WB=(e,t,r,a,n)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&n==="radiusAxis"?"band":t==="radial"&&n==="angleAxis"?"linear":s==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Y1(i));return o in Rx?o:"point"}}},jg=Ye([Ln,Jr,DB,j6,Sn],WB);function joe(e){if(e!=null){if(e in Rx)return Rx[e]();var t="scale".concat(Y1(e));if(t in Rx)return Rx[t]()}}function V6(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var n=joe(t);if(n!=null){var i=n.domain(r).range(a);return Hte(i),i}}}var K6=(e,t,r)=>{var a=B6(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Wh(e))return Vse(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wh(e))return Kse(e,t.tickCount,t.allowDecimals)}},G6=Ye([W6,lv,jg],K6),Y6=(e,t,r,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Wh(t)&&Array.isArray(r)&&r.length>0){var n=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(n,i),Math.max(s,o)]}return t},Aoe=Ye([Ln,W6,G6,Sn],Y6),Toe=Ye(Sw,Ln,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(Sg(e.map(o=>o.value))).sort((o,c)=>o-c);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var s=a[i+1]-a[i];r=Math.min(r,s)}return r/n}}),VB=Ye(Toe,Jr,kB,Mi,(e,t,r,a)=>a,(e,t,r,a,n)=>{if(!vi(e))return 0;var i=t==="vertical"?a.height:a.width;if(n==="gap")return e*i/2;if(n==="no-gap"){var s=Ls(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),Eoe=(e,t)=>{var r=Z0(e,t);return r==null||typeof r.padding!="string"?0:VB(e,"xAxis",t,r.padding)},Coe=(e,t)=>{var r=ed(e,t);return r==null||typeof r.padding!="string"?0:VB(e,"yAxis",t,r.padding)},Ooe=Ye(Z0,Eoe,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:n}=e;return typeof n=="string"?{left:t,right:t}:{left:((r=n.left)!==null&&r!==void 0?r:0)+t,right:((a=n.right)!==null&&a!==void 0?a:0)+t}}),Poe=Ye(ed,Coe,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:n}=e;return typeof n=="string"?{top:t,bottom:t}:{top:((r=n.top)!==null&&r!==void 0?r:0)+t,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+t}}),Doe=Ye([Mi,Ooe,lw,ow,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:i}=a;return n?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Loe=Ye([Mi,Jr,Poe,lw,ow,(e,t,r)=>r],(e,t,r,a,n,i)=>{var{padding:s}=n;return i?[a.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),dv=(e,t,r,a)=>{var n;switch(t){case"xAxis":return Doe(e,r,a);case"yAxis":return Loe(e,r,a);case"zAxis":return(n=P6(e,r))===null||n===void 0?void 0:n.range;case"angleAxis":return jB(e);case"radiusAxis":return AB(e,r);default:return}},KB=Ye([Ln,dv],vw),Ag=Ye([Ln,jg,Aoe,KB],V6);Ye([uv,Nw,Sn],hoe);function GB(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jw=(e,t)=>t,Aw=(e,t,r)=>r,Moe=Ye(iw,jw,Aw,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(GB)),Roe=Ye(sw,jw,Aw,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(GB)),YB=(e,t)=>({width:e.width,height:t.height}),Ioe=(e,t)=>{var r=typeof t.width=="number"?t.width:Z1;return{width:r,height:e.height}},XB=Ye(Mi,Z0,YB),Foe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Boe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Uoe=Ye(X0,Mi,Moe,jw,Aw,(e,t,r,a,n)=>{var i={},s;return r.forEach(o=>{var c=YB(t,o);s==null&&(s=Foe(t,a,e));var d=a==="top"&&!n||a==="bottom"&&n;i[o.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),i}),zoe=Ye(Y0,Mi,Roe,jw,Aw,(e,t,r,a,n)=>{var i={},s;return r.forEach(o=>{var c=Ioe(t,o);s==null&&(s=Boe(t,a,e));var d=a==="left"&&!n||a==="right"&&n;i[o.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),i}),qoe=(e,t)=>{var r=Z0(e,t);if(r!=null)return Uoe(e,r.orientation,r.mirror)},$oe=Ye([Mi,Z0,qoe,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var n=r==null?void 0:r[a];return n==null?{x:e.left,y:0}:{x:e.left,y:n}}}),Hoe=(e,t)=>{var r=ed(e,t);if(r!=null)return zoe(e,r.orientation,r.mirror)},Woe=Ye([Mi,ed,Hoe,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var n=r==null?void 0:r[a];return n==null?{x:0,y:e.top}:{x:n,y:e.top}}}),QB=Ye(Mi,ed,(e,t)=>{var r=typeof t.width=="number"?t.width:Z1;return{width:r,height:e.height}}),V7=(e,t,r)=>{switch(t){case"xAxis":return XB(e,r).width;case"yAxis":return QB(e,r).height;default:return}},JB=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:n,type:i,dataKey:s}=r,o=Lu(e,a),c=t.map(d=>d.value);if(s&&o&&i==="category"&&n&&dI(c))return c}},X6=Ye([Jr,Sw,Ln,Sn],JB),ZB=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:n,scale:i}=r,s=Lu(e,a);if(s&&(n==="number"||i!=="auto"))return t.map(o=>o.value)}},Q6=Ye([Jr,Sw,lv,Sn],ZB),K7=Ye([Jr,ioe,jg,Ag,X6,Q6,dv,G6,Sn],(e,t,r,a,n,i,s,o,c)=>{if(t==null)return null;var d=Lu(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:o,range:s,realScaleType:r,scale:a}}),Voe=(e,t,r,a,n,i,s,o,c)=>{if(!(t==null||a==null)){var d=Lu(e,c),{type:h,ticks:m,tickCount:x}=t,p=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=h==="category"&&a.bandwidth?a.bandwidth()/p:0;y=c==="angleAxis"&&i!=null&&i.length>=2?Zi(i[0]-i[1])*2*y:y;var v=m||n;if(v){var b=v.map((k,N)=>{var _=s?s.indexOf(k):k;return{index:N,coordinate:a(_)+y,value:k,offset:y}});return b.filter(k=>!cl(k.coordinate))}return d&&o?o.map((k,N)=>({coordinate:a(k)+y,value:k,index:N,offset:y})):a.ticks?a.ticks(x).map(k=>({coordinate:a(k)+y,value:k,offset:y})):a.domain().map((k,N)=>({coordinate:a(k)+y,value:s?s[k]:k,index:N,offset:y}))}},eU=Ye([Jr,lv,jg,Ag,G6,dv,X6,Q6,Sn],Voe),Koe=(e,t,r,a,n,i,s)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var o=Lu(e,s),{tickCount:c}=t,d=0;return d=s==="angleAxis"&&(a==null?void 0:a.length)>=2?Zi(a[0]-a[1])*2*d:d,o&&i?i.map((h,m)=>({coordinate:r(h)+d,value:h,index:m,offset:d})):r.ticks?r.ticks(c).map(h=>({coordinate:r(h)+d,value:h,offset:d})):r.domain().map((h,m)=>({coordinate:r(h)+d,value:n?n[h]:h,index:m,offset:d}))}},Cu=Ye([Jr,lv,Ag,dv,X6,Q6,Sn],Koe),Ou=Ye(Ln,Ag,(e,t)=>{if(!(e==null||t==null))return u2(u2({},e),{},{scale:t})}),Goe=Ye([Ln,jg,W6,KB],V6);Ye((e,t,r)=>P6(e,r),Goe,(e,t)=>{if(!(e==null||t==null))return u2(u2({},e),{},{scale:t})});var Yoe=Ye([Jr,iw,sw],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tU=e=>e.options.defaultTooltipEventType,rU=e=>e.options.validateTooltipEventTypes;function aU(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function J6(e,t){var r=tU(e),a=rU(e);return aU(t,r,a)}function Xoe(e){return Yt(t=>J6(t,e))}var nU=(e,t)=>{var r,a=Number(t);if(!(cl(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},Qoe=e=>e.tooltip.settings,Kd={active:!1,index:null,dataKey:void 0,coordinate:void 0},Joe={itemInteraction:{click:Kd,hover:Kd},axisInteraction:{click:Kd,hover:Kd},keyboardInteraction:Kd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iU=fl({name:"tooltip",initialState:Joe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zs()},removeTooltipEntrySettings:{reducer(e,t){var r=E0(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zs()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Zoe,removeTooltipEntrySettings:ele,setTooltipSettingsState:tle,setActiveMouseOverItemIndex:sU,mouseLeaveItem:rle,mouseLeaveChart:oU,setActiveClickItemIndex:ale,setMouseOverAxisIndex:lU,setMouseClickAxisIndex:nle,setSyncInteraction:mS,setKeyboardInteraction:pS}=iU.actions,ile=iU.reducer;function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function qy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(a){sle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sle(e,t,r){return(t=ole(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ole(e){var t=lle(e,"string");return typeof t=="symbol"?t:t+""}function lle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cle(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ule(e){return e.index!=null}var cU=(e,t,r,a)=>{if(t==null)return Kd;var n=cle(e,t,r);if(n==null)return Kd;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(ule(n)){if(i)return qy(qy({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return qy(qy({},Kd),{},{coordinate:n.coordinate})},Z6=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var a=Number(r);if(!vi(a))return r;var n=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(n,Math.min(a,i)))},uU=(e,t,r,a,n,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],d=c==null?void 0:o(c.positions,i);if(d!=null)return d;var h=n==null?void 0:n[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},dU=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var n;return r==="hover"?n=e.itemInteraction.hover.dataKey:n=e.itemInteraction.click.dataKey,n==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===n})},fv=e=>e.options.tooltipPayloadSearcher,Tg=e=>e.tooltip;function Y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function X7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(r),!0).forEach(function(a){dle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dle(e,t,r){return(t=fle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fle(e){var t=hle(e,"string");return typeof t=="symbol"?t:t+""}function hle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mle(e,t){return e??t}var fU=(e,t,r,a,n,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:h}=r,m=[];return e.reduce((x,p)=>{var y,{dataDefinedOnItem:v,settings:b}=p,k=mle(v,o),N=Array.isArray(k)?rF(k,d,h):k,_=(y=b==null?void 0:b.dataKey)!==null&&y!==void 0?y:a,T=b==null?void 0:b.nameKey,P;if(a&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?P=fI(N,a,n):P=i(N,t,c,T),Array.isArray(P))P.forEach(L=>{var U=X7(X7({},b),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});x.push(NO({tooltipEntrySettings:U,dataKey:L.dataKey,payload:L.payload,value:Ha(L.payload,L.dataKey),name:L.name}))});else{var O;x.push(NO({tooltipEntrySettings:b,dataKey:_,payload:P,value:Ha(P,_),name:(O=Ha(P,T))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return x},m)}},ej=Ye([Bi,Jr,DB,j6,Fi],WB),ple=Ye([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),gle=Ye([Fi,_g],D6),hv=Ye([ple,Bi,gle],L6,{memoizeOptions:{resultEqualityCheck:_w}}),xle=Ye([hv],e=>e.filter(ww)),vle=Ye([hv],M6,{memoizeOptions:{resultEqualityCheck:_w}}),Eg=Ye([vle,kf],R6),yle=Ye([xle,kf,Bi],CB),tj=Ye([Eg,Bi,hv],F6),hU=Ye([Bi],B6),ble=Ye([Bi],e=>e.allowDataOverflow),mU=Ye([hU,ble],sB),wle=Ye([hv],e=>e.filter(ww)),kle=Ye([yle,wle,sv],IB),_le=Ye([kle,kf,Fi,mU],FB),Sle=Ye([hv],MB),Nle=Ye([Eg,Bi,Sle,Nw,Fi],q6,{memoizeOptions:{resultEqualityCheck:kw}}),jle=Ye([BB,Fi,_g],Ng),Ale=Ye([jle,Fi],qB),Tle=Ye([UB,Fi,_g],Ng),Ele=Ye([Tle,Fi],$B),Cle=Ye([zB,Fi,_g],Ng),Ole=Ye([Cle,Fi],HB),Ple=Ye([Ale,Ole,Ele],d2),Dle=Ye([Bi,hU,mU,_le,Nle,Ple,Jr,Fi],$6),pU=Ye([Bi,Jr,Eg,tj,sv,Fi,Dle],H6),Lle=Ye([pU,Bi,ej],K6),Mle=Ye([Bi,pU,Lle,Fi],Y6),gU=e=>{var t=Fi(e),r=_g(e),a=!1;return dv(e,t,r,a)},xU=Ye([Bi,gU],vw),vU=Ye([Bi,ej,Mle,xU],V6),Rle=Ye([Jr,tj,Bi,Fi],JB),Ile=Ye([Jr,tj,Bi,Fi],ZB),Fle=(e,t,r,a,n,i,s,o)=>{if(t){var{type:c}=t,d=Lu(e,o);if(a){var h=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,m=c==="category"&&a.bandwidth?a.bandwidth()/h:0;return m=o==="angleAxis"&&n!=null&&(n==null?void 0:n.length)>=2?Zi(n[0]-n[1])*2*m:m,d&&s?s.map((x,p)=>({coordinate:a(x)+m,value:x,index:p,offset:m})):a.domain().map((x,p)=>({coordinate:a(x)+m,value:i?i[x]:x,index:p,offset:m}))}}},td=Ye([Jr,Bi,ej,vU,gU,Rle,Ile,Fi],Fle),rj=Ye([tU,rU,Qoe],(e,t,r)=>aU(r.shared,e,t)),yU=e=>e.tooltip.settings.trigger,aj=e=>e.tooltip.settings.defaultIndex,Tw=Ye([Tg,rj,yU,aj],cU),uf=Ye([Tw,Eg],Z6),bU=Ye([td,uf],nU),wU=Ye([Tw],e=>{if(e)return e.dataKey}),kU=Ye([Tg,rj,yU,aj],dU),Ble=Ye([Y0,X0,Jr,Mi,td,aj,kU,fv],uU),Ule=Ye([Tw,Ble],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zle=Ye([Tw],e=>e.active),qle=Ye([kU,uf,kf,EB,bU,fv,rj],fU),$le=Ye([qle],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Q7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function J7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q7(Object(r),!0).forEach(function(a){Hle(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hle(e,t,r){return(t=Wle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wle(e){var t=Vle(e,"string");return typeof t=="symbol"?t:t+""}function Vle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kle=()=>Yt(Bi),Gle=()=>{var e=Kle(),t=Yt(td),r=Yt(vU);return $h(J7(J7({},e),{},{scale:r}),t)},_U=()=>Yt(j6),nj=(e,t)=>t,SU=(e,t,r)=>r,ij=(e,t,r,a)=>a,Yle=Ye(td,e=>Z2(e,t=>t.coordinate)),sj=Ye([Tg,nj,SU,ij],cU),NU=Ye([sj,Eg],Z6),Xle=(e,t,r)=>{if(t!=null){var a=Tg(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},jU=Ye([Tg,nj,SU,ij],dU),f2=Ye([Y0,X0,Jr,Mi,td,ij,jU,fv],uU),Qle=Ye([sj,f2],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),AU=Ye(td,NU,nU),Jle=Ye([jU,NU,kf,EB,AU,fv,nj],fU),Zle=Ye([sj],e=>({isActive:e.active,activeIndex:e.index})),ece=(e,t,r,a,n,i,s,o)=>{if(!(!e||!t||!a||!n||!i)){var c=ere(e.chartX,e.chartY,t,r,o);if(c){var d=rre(c,t),h=qte(d,s,i,a,n),m=tre(t,i,h,c);return{activeIndex:String(h),activeCoordinate:m}}}};function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gS.apply(null,arguments)}function Z7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(r),!0).forEach(function(a){tce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tce(e,t,r){return(t=rce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rce(e){var t=ace(e,"string");return typeof t=="symbol"?t:t+""}function ace(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nce(e){var{coordinate:t,payload:r,index:a,offset:n,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:c,chartName:d}=e,h=t,m=r,x=a;if(!o||!h||d!=="ScatterChart"&&c!=="axis")return null;var p,y;if(d==="ScatterChart")p=h,y=vae;else if(d==="BarChart")p=yae(s,h,n,i),y=wF;else if(s==="radial"){var{cx:v,cy:b,radius:k,startAngle:N,endAngle:_}=kF(h);p={cx:v,cy:b,startAngle:N,endAngle:_,innerRadius:k,outerRadius:k},y=SF}else p={points:rne(s,h,n)},y=Op;var T=typeof o=="object"&&"className"in o?o.className:void 0,P=$y($y($y($y({stroke:"#ccc",pointerEvents:"none"},n),p),Bh(o)),{},{payload:m,payloadIndex:x,className:Br("recharts-tooltip-cursor",T)});return j.isValidElement(o)?j.cloneElement(o,P):j.createElement(y,P)}function ice(e){var t=Gle(),r=fF(),a=ev(),n=_U();return j.createElement(nce,gS({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:a,tooltipAxisBandSize:t,chartName:n}))}var TU=j.createContext(null),sce=()=>j.useContext(TU),K4={exports:{}},eP;function oce(){return eP||(eP=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var p=new n(h,m||c,x),y=r?r+d:d;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},o.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var x=0,p=m.length,y=new Array(p);x<p;x++)y[x]=m[x].fn;return y},o.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,h,m,x,p,y){var v=r?r+d:d;if(!this._events[v])return!1;var b=this._events[v],k=arguments.length,N,_;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,m),!0;case 4:return b.fn.call(b.context,h,m,x),!0;case 5:return b.fn.call(b.context,h,m,x,p),!0;case 6:return b.fn.call(b.context,h,m,x,p,y),!0}for(_=1,N=new Array(k-1);_<k;_++)N[_-1]=arguments[_];b.fn.apply(b.context,N)}else{var T=b.length,P;for(_=0;_<T;_++)switch(b[_].once&&this.removeListener(d,b[_].fn,void 0,!0),k){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,h);break;case 3:b[_].fn.call(b[_].context,h,m);break;case 4:b[_].fn.call(b[_].context,h,m,x);break;default:if(!N)for(P=1,N=new Array(k-1);P<k;P++)N[P-1]=arguments[P];b[_].fn.apply(b[_].context,N)}}return!0},o.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},o.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},o.prototype.removeListener=function(d,h,m,x){var p=r?r+d:d;if(!this._events[p])return this;if(!h)return s(this,p),this;var y=this._events[p];if(y.fn)y.fn===h&&(!x||y.once)&&(!m||y.context===m)&&s(this,p);else{for(var v=0,b=[],k=y.length;v<k;v++)(y[v].fn!==h||x&&!y[v].once||m&&y[v].context!==m)&&b.push(y[v]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},o.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&s(this,h)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(K4)),K4.exports}var lce=oce();const cce=Fc(lce);var b1=new cce,xS="recharts.syncEvent.tooltip",tP="recharts.syncEvent.brush";function mv(e,t){if(t){var r=Number.parseInt(t,10);if(!cl(r))return e==null?void 0:e[r]}}var uce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EU=fl({name:"options",initialState:uce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dce=EU.reducer,{createEventEmitter:fce}=EU.actions;function hce(e){return e.tooltip.syncInteraction}var mce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},CU=fl({name:"chartData",initialState:mce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:rP,setDataStartEndIndexes:pce,setComputedData:wAe}=CU.actions,gce=CU.reducer,xce=["x","y"];function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(a){vce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vce(e,t,r){return(t=yce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wce(e,t){if(e==null)return{};var r,a,n=kce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var OU=()=>{};function _ce(){var e=Yt(A6),t=Yt(T6),r=_n(),a=Yt(_B),n=Yt(td),i=ev(),s=cw(),o=Yt(c=>c.rootProps.className);j.useEffect(()=>{if(e==null)return OU;var c=(d,h,m)=>{if(t!==m&&e===d){if(a==="index"){var x;if(s&&h!==null&&h!==void 0&&(x=h.payload)!==null&&x!==void 0&&x.coordinate&&h.payload.sourceViewBox){var p=h.payload.coordinate,{x:y,y:v}=p,b=wce(p,xce),{x:k,y:N,width:_,height:T}=h.payload.sourceViewBox,P=hp(hp({},b),{},{x:s.x+(_?(y-k)/_:0)*s.width,y:s.y+(T?(v-N)/T:0)*s.height});r(hp(hp({},h),{},{payload:hp(hp({},h.payload),{},{coordinate:P})}))}else r(h);return}if(n!=null){var O;if(typeof a=="function"){var L={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=a(n,L);O=n[U]}else a==="value"&&(O=n.find(X=>String(X.value)===h.payload.label));var{coordinate:I}=h.payload;if(O==null||h.payload.active===!1||I==null||s==null){r(mS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:K,y:D}=I,F=Math.min(K,s.x+s.width),H=Math.min(D,s.y+s.height),Y={x:i==="horizontal"?O.coordinate:F,y:i==="horizontal"?H:O.coordinate},ne=mS({active:h.payload.active,coordinate:Y,dataKey:h.payload.dataKey,index:String(O.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});r(ne)}}};return b1.on(xS,c),()=>{b1.off(xS,c)}},[o,r,t,e,a,n,i,s])}function Sce(){var e=Yt(A6),t=Yt(T6),r=_n();j.useEffect(()=>{if(e==null)return OU;var a=(n,i,s)=>{t!==s&&e===n&&r(pce(i))};return b1.on(tP,a),()=>{b1.off(tP,a)}},[r,t,e])}function Nce(){var e=_n();j.useEffect(()=>{e(fce())},[e]),_ce(),Sce()}function jce(e,t,r,a,n,i){var s=Yt(p=>Xle(p,e,t)),o=Yt(T6),c=Yt(A6),d=Yt(_B),h=Yt(hce),m=h==null?void 0:h.active,x=cw();j.useEffect(()=>{if(!m&&c!=null&&o!=null){var p=mS({active:i,coordinate:r,dataKey:s,index:n,label:typeof a=="number"?String(a):a,sourceViewBox:x});b1.emit(xS,c,p,o)}},[m,r,s,n,a,o,c,d,i,x])}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(a){Ace(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ace(e,t,r){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tce(e){var t=Ece(e,"string");return typeof t=="symbol"?t:t+""}function Ece(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cce(e){return e.dataKey}function Oce(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(Xre,t)}var sP=[],Pce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Q0.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ku(e){var t=Ri(e,Pce),{active:r,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:s,filterNull:o,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:x,useTranslate3d:p,wrapperStyle:y,cursor:v,shared:b,trigger:k,defaultIndex:N,portal:_,axisId:T}=t,P=_n(),O=typeof N=="number"?String(N):N;j.useEffect(()=>{P(tle({shared:b,trigger:k,axisId:T,active:r,defaultIndex:O}))},[P,b,k,T,r,O]);var L=cw(),U=gF(),I=Xoe(b),{activeIndex:K,isActive:D}=Yt(G=>Zle(G,I,k,O)),F=Yt(G=>Jle(G,I,k,O)),H=Yt(G=>AU(G,I,k,O)),Y=Yt(G=>Qle(G,I,k,O)),ne=F,X=sce(),ae=r??D,[ue,se]=TI([ne,ae]),be=I==="axis"?H:void 0;jce(I,k,Y,be,K,ae);var J=_??X;if(J==null)return null;var M=ne??sP;ae||(M=sP),o&&M.length&&(M=_I(ne.filter(G=>G.value!=null&&(G.hide!==!0||t.includeHidden)),h,Cce));var z=M.length>0,q=j.createElement(aae,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:c,active:ae,coordinate:Y,hasPayload:z,offset:d,position:m,reverseDirection:x,useTranslate3d:p,viewBox:L,wrapperStyle:y,lastBoundingBox:ue,innerRef:se,hasPortalFromProps:!!_},Oce(s,iP(iP({},t),{},{payload:M,label:be,active:ae,coordinate:Y,accessibilityLayer:U})));return j.createElement(j.Fragment,null,hM.createPortal(q,J),ae&&j.createElement(ice,{cursor:v,tooltipEventType:I,coordinate:Y,payload:ne,index:K}))}var Cg=e=>null;Cg.displayName="Cell";function Dce(e,t,r){return(t=Lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lce(e){var t=Mce(e,"string");return typeof t=="symbol"?t:t+""}function Mce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rce{constructor(t){Dce(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ice(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(a){Fce(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fce(e,t,r){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=Uce(e,"string");return typeof t=="symbol"?t:t+""}function Uce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zce={cacheSize:2e3,enableCache:!0},PU=Ice({},zce),lP=new Rce(PU.cacheSize),qce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cP="recharts_measurement_span";function $ce(e,t){var r=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(o)}var uP=(e,t)=>{try{var r=document.getElementById(cP);r||(r=document.createElement("span"),r.setAttribute("id",cP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qce,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Hx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Q0.isSsr)return{width:0,height:0};if(!PU.enableCache)return uP(t,r);var a=$ce(t,r),n=lP.get(a);if(n)return n;var i=uP(t,r);return lP.set(a,i),i},dP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vce=Object.keys(DU),jp="NaN";function Kce(e,t){return e*DU[t]}class To{static parse(t){var r,[,a,n]=(r=Wce.exec(t))!==null&&r!==void 0?r:[];return new To(parseFloat(a),n??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,cl(t)&&(this.unit=""),r!==""&&!Hce.test(r)&&(this.num=NaN,this.unit=""),Vce.includes(r)&&(this.num=Kce(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new To(NaN,""):new To(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new To(NaN,""):new To(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new To(NaN,""):new To(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new To(NaN,""):new To(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cl(this.num)}}function LU(e){if(e.includes(jp))return jp;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,i]=(r=dP.exec(t))!==null&&r!==void 0?r:[],s=To.parse(a??""),o=To.parse(i??""),c=n==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return jp;t=t.replace(dP,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,x]=(d=fP.exec(t))!==null&&d!==void 0?d:[],p=To.parse(h??""),y=To.parse(x??""),v=m==="+"?p.add(y):p.subtract(y);if(v.isNaN())return jp;t=t.replace(fP,v.toString())}return t}var hP=/\(([^()]*)\)/;function Gce(e){for(var t=e,r;(r=hP.exec(t))!=null;){var[,a]=r;t=t.replace(hP,LU(a))}return t}function Yce(e){var t=e.replace(/\s+/g,"");return t=Gce(t),t=LU(t),t}function Xce(e){try{return Yce(e)}catch{return jp}}function G4(e){var t=Xce(e.slice(5,-1));return t===jp?"":t}var Qce=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Jce=["dx","dy","angle","className","breakAll"];function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vS.apply(null,arguments)}function mP(e,t){if(e==null)return{};var r,a,n=Zce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zce(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var MU=/[ \f\n\r\t\v\u2028\u2029]+/,RU=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];un(t)||(r?n=t.toString().split(""):n=t.toString().split(MU));var i=n.map(o=>({word:o,width:Hx(o,a).width})),s=r?0:Hx("",a).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},eue=(e,t,r,a,n)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,d=Kt(i),h=s,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((F,H)=>{var{word:Y,width:ne}=H,X=F[F.length-1];if(X&&(a==null||n||X.width+ne+r<Number(a)))X.words.push(Y),X.width+=ne+r;else{var ae={words:[Y],width:ne};F.push(ae)}return F},[])},x=m(t),p=K=>K.reduce((D,F)=>D.width>F.width?D:F);if(!d||n)return x;var y=x.length>i||p(x).width>Number(a);if(!y)return x;for(var v="",b=K=>{var D=h.slice(0,K),F=RU({breakAll:c,style:o,children:D+v}).wordsWithComputedWidth,H=m(F),Y=H.length>i||p(H).width>Number(a);return[Y,H]},k=0,N=h.length-1,_=0,T;k<=N&&_<=h.length-1;){var P=Math.floor((k+N)/2),O=P-1,[L,U]=b(O),[I]=b(P);if(!L&&!I&&(k=P+1),L&&I&&(N=P-1),!L&&I){T=U;break}_++}return T||x},pP=e=>{var t=un(e)?[]:e.toString().split(MU);return[{words:t}]},tue=e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:i,maxLines:s}=e;if((t||r)&&!Q0.isSsr){var o,c,d=RU({breakAll:i,children:a,style:n});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;o=h,c=m}else return pP(a);return eue({breakAll:i,children:a,maxLines:s,style:n},o,c,t,r)}return pP(a)},gP="#808080",Ew=j.forwardRef((e,t)=>{var{x:r=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:d=gP}=e,h=mP(e,Qce),m=j.useMemo(()=>tue({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:x,dy:p,angle:y,className:v,breakAll:b}=h,k=mP(h,Jce);if(!Tu(r)||!Tu(a)||m.length===0)return null;var N=r+(Kt(x)?x:0),_=a+(Kt(p)?p:0),T;switch(c){case"start":T=G4("calc(".concat(i,")"));break;case"middle":T=G4("calc(".concat((m.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:T=G4("calc(".concat(m.length-1," * -").concat(n,")"));break}var P=[];if(s){var O=m[0].width,{width:L}=h;P.push("scale(".concat(Kt(L)?L/O:1,")"))}return y&&P.push("rotate(".concat(y,", ").concat(N,", ").concat(_,")")),P.length&&(k.transform=P.join(" ")),j.createElement("text",vS({},io(k),{ref:t,x:N,y:_,className:Br("recharts-text",v),textAnchor:o,fill:d.includes("url")?gP:d}),m.map((U,I)=>{var K=U.words.join(b?"":" ");return j.createElement("tspan",{x:N,dy:I===0?T:n,key:"".concat(K,"-").concat(I)},K)}))});Ew.displayName="Text";var rue=["labelRef"];function aue(e,t){if(e==null)return{};var r,a,n=nue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(a){iue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iue(e,t,r){return(t=sue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k0.apply(null,arguments)}var IU=j.createContext(null),lue=e=>{var{x:t,y:r,width:a,height:n,children:i}=e,s=j.useMemo(()=>({x:t,y:r,width:a,height:n}),[t,r,a,n]);return j.createElement(IU.Provider,{value:s},i)},FU=()=>{var e=j.useContext(IU),t=cw();return e||t},cue=j.createContext(null),uue=()=>{var e=j.useContext(cue),t=Yt(TB);return e||t},due=e=>{var{value:t,formatter:r}=e,a=un(e.children)?t:e.children;return typeof r=="function"?r(a):a},oj=e=>e!=null&&typeof e=="function",fue=(e,t)=>{var r=Zi(t-e),a=Math.min(Math.abs(t-e),360);return r*a},hue=(e,t,r,a,n)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:x,clockWise:p}=n,y=(d+h)/2,v=fue(m,x),b=v>=0?1:-1,k,N;switch(t){case"insideStart":k=m+b*i,N=p;break;case"insideEnd":k=x-b*i,N=!p;break;case"end":k=x+b*i,N=p;break;default:throw new Error("Unsupported position ".concat(t))}N=v<=0?N:!N;var _=gi(o,c,y,k),T=gi(o,c,y,k+(N?1:-1)*359),P="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(T.x,",").concat(T.y),O=un(e.id)?c1("recharts-radial-line-"):e.id;return j.createElement("text",k0({},a,{dominantBaseline:"central",className:Br("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:O,d:P})),j.createElement("textPath",{xlinkHref:"#".concat(O)},r))},mue=(e,t,r)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,d=(o+c)/2;if(r==="outside"){var{x:h,y:m}=gi(a,n,s+t,d);return{x:h,y:m,textAnchor:h>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var x=(i+s)/2,{x:p,y}=gi(a,n,x,d);return{x:p,y,textAnchor:"middle",verticalAnchor:"middle"}},BU=e=>"cx"in e&&Kt(e.cx),pue=(e,t)=>{var{parentViewBox:r,offset:a,position:n}=e,i;r!=null&&!BU(r)&&(i=r);var{x:s,y:o,width:c,height:d}=t,h=d>=0?1:-1,m=h*a,x=h>0?"end":"start",p=h>0?"start":"end",y=c>=0?1:-1,v=y*a,b=y>0?"end":"start",k=y>0?"start":"end";if(n==="top"){var N={x:s+c/2,y:o-h*a,textAnchor:"middle",verticalAnchor:x};return ei(ei({},N),i?{height:Math.max(o-i.y,0),width:c}:{})}if(n==="bottom"){var _={x:s+c/2,y:o+d+m,textAnchor:"middle",verticalAnchor:p};return ei(ei({},_),i?{height:Math.max(i.y+i.height-(o+d),0),width:c}:{})}if(n==="left"){var T={x:s-v,y:o+d/2,textAnchor:b,verticalAnchor:"middle"};return ei(ei({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(n==="right"){var P={x:s+c+v,y:o+d/2,textAnchor:k,verticalAnchor:"middle"};return ei(ei({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var O=i?{width:c,height:d}:{};return n==="insideLeft"?ei({x:s+v,y:o+d/2,textAnchor:k,verticalAnchor:"middle"},O):n==="insideRight"?ei({x:s+c-v,y:o+d/2,textAnchor:b,verticalAnchor:"middle"},O):n==="insideTop"?ei({x:s+c/2,y:o+m,textAnchor:"middle",verticalAnchor:p},O):n==="insideBottom"?ei({x:s+c/2,y:o+d-m,textAnchor:"middle",verticalAnchor:x},O):n==="insideTopLeft"?ei({x:s+v,y:o+m,textAnchor:k,verticalAnchor:p},O):n==="insideTopRight"?ei({x:s+c-v,y:o+m,textAnchor:b,verticalAnchor:p},O):n==="insideBottomLeft"?ei({x:s+v,y:o+d-m,textAnchor:k,verticalAnchor:x},O):n==="insideBottomRight"?ei({x:s+c-v,y:o+d-m,textAnchor:b,verticalAnchor:x},O):n&&typeof n=="object"&&(Kt(n.x)||U0(n.x))&&(Kt(n.y)||U0(n.y))?ei({x:s+Ls(n.x,c),y:o+Ls(n.y,d),textAnchor:"end",verticalAnchor:"end"},O):ei({x:s+c/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},gue={offset:5};function Wd(e){var t=Ri(e,gue),{viewBox:r,position:a,value:n,children:i,content:s,className:o="",textBreakAll:c,labelRef:d}=t,h=uue(),m=FU(),x=a==="center"?m:h??m,p=r||x;if(!p||un(n)&&un(i)&&!j.isValidElement(s)&&typeof s!="function")return null;var y=ei(ei({},t),{},{viewBox:p});if(j.isValidElement(s)){var{labelRef:v}=y,b=aue(y,rue);return j.cloneElement(s,b)}var k;if(typeof s=="function"){if(k=j.createElement(s,y),j.isValidElement(k))return k}else k=due(t);var N=BU(p),_=io(t);if(N&&(a==="insideStart"||a==="insideEnd"||a==="end"))return hue(t,a,k,_,p);var T=N?mue(p,t.offset,t.position):pue(t,p);return j.createElement(Ew,k0({ref:d,className:Br("recharts-label",o)},_,T,{breakAll:c}),k)}Wd.displayName="Label";var xue=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?j.createElement(Wd,k0({key:"label-implicit"},a)):Tu(e)?j.createElement(Wd,k0({key:"label-implicit",value:e},a)):j.isValidElement(e)?e.type===Wd?j.cloneElement(e,ei({key:"label-implicit"},a)):j.createElement(Wd,k0({key:"label-implicit",content:e},a)):oj(e)?j.createElement(Wd,k0({key:"label-implicit",content:e},a)):e&&typeof e=="object"?j.createElement(Wd,k0({},e,{key:"label-implicit"},a)):null};function vue(e){var{label:t,labelRef:r}=e,a=FU();return xue(t,a,r)||null}var Y4={},X4={},vP;function yue(){return vP||(vP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(X4)),X4}var Q4={},yP;function bue(){return yP||(yP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Q4)),Q4}var bP;function wue(){return bP||(bP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yue(),r=bue(),a=qN();function n(i){if(a.isArrayLike(i))return t.last(r.toArray(i))}e.last=n})(Y4)),Y4}var J4,wP;function kue(){return wP||(wP=1,J4=wue().last),J4}var _ue=kue();const Sue=Fc(_ue);var Nue=["valueAccessor"],jue=["dataKey","clockWise","id","textBreakAll"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h2.apply(null,arguments)}function kP(e,t){if(e==null)return{};var r,a,n=Aue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Aue(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Tue=e=>Array.isArray(e.value)?Sue(e.value):e.value,UU=j.createContext(void 0),lj=UU.Provider,zU=j.createContext(void 0),Eue=zU.Provider;function Cue(){return j.useContext(UU)}function Oue(){return j.useContext(zU)}function vb(e){var{valueAccessor:t=Tue}=e,r=kP(e,Nue),{dataKey:a,clockWise:n,id:i,textBreakAll:s}=r,o=kP(r,jue),c=Cue(),d=Oue(),h=c||d;return!h||!h.length?null:j.createElement(Kn,{className:"recharts-label-list"},h.map((m,x)=>{var p,y=un(a)?t(m,x):Ha(m&&m.payload,a),v=un(i)?{}:{id:"".concat(i,"-").concat(x)};return j.createElement(Wd,h2({key:"label-".concat(x)},io(m),o,v,{fill:(p=r.fill)!==null&&p!==void 0?p:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:s,viewBox:m.viewBox,index:x}))}))}vb.displayName="LabelList";function Cw(e){var{label:t}=e;return t?t===!0?j.createElement(vb,{key:"labelList-implicit"}):j.isValidElement(t)||oj(t)?j.createElement(vb,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(vb,h2({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function yS(){return yS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yS.apply(null,arguments)}var cj=e=>{var{cx:t,cy:r,r:a,className:n}=e,i=Br("recharts-dot",n);return t===+t&&r===+r&&a===+a?j.createElement("circle",yS({},no(e),BN(e),{className:i,cx:t,cy:r,r:a})):null},qU=e=>e.graphicalItems.polarItems,Pue=Ye([Sn,ov],D6),Ow=Ye([qU,Ln,Pue],L6),Due=Ye([Ow],M6),Pw=Ye([Due,_6],R6),Lue=Ye([Pw,Ln,Ow],F6);Ye([Pw,Ln,Ow],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(n=>{var i,s=Ha(a,(i=t.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Ha(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var _P=()=>{},Mue=Ye([Pw,Ln,Ow,Nw,Sn],q6),Rue=Ye([Ln,U6,z6,_P,Mue,_P,Jr,Sn],$6),$U=Ye([Ln,Jr,Pw,Lue,sv,Sn,Rue],H6),Iue=Ye([$U,Ln,jg],K6);Ye([Ln,$U,Iue,Sn],Y6);var Fue={radiusAxis:{},angleAxis:{}},HU=fl({name:"polarAxis",initialState:Fue,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kAe,removeRadiusAxis:_Ae,addAngleAxis:SAe,removeAngleAxis:NAe}=HU.actions,Bue=HU.reducer;function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(a){Uue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Uue(e,t,r){return(t=zue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zue(e){var t=que(e,"string");return typeof t=="symbol"?t:t+""}function que(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ue=(e,t)=>t,uj=Ye([qU,$ue],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Hue=[],dj=(e,t,r)=>(r==null?void 0:r.length)===0?Hue:r,WU=Ye([_6,uj,dj],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=a,(!n||!n.length)&&r!=null&&(n=r.map(i=>NP(NP({},t.presentationProps),i.props))),n!=null)return n}}),Wue=Ye([WU,uj,dj],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,n)=>{var i,s=Ha(a,t.nameKey,t.name),o;return r!=null&&(i=r[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?o=a.fill:o=t.fill,{value:yf(s,t.dataKey),color:o,payload:a,type:t.legendType}})}),Vue=Ye([WU,uj,dj,Mi],(e,t,r,a)=>{if(!(t==null||e==null))return V0e({offset:a,pieSettings:t,displayedData:e,cells:r})}),Z4={exports:{}},qa={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function Kue(){if(jP)return qa;jP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case e:switch(v=v.type,v){case r:case n:case a:case c:case d:case x:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case m:case h:return v;case i:return v;default:return b}}case t:return b}}}return qa.ContextConsumer=i,qa.ContextProvider=s,qa.Element=e,qa.ForwardRef=o,qa.Fragment=r,qa.Lazy=m,qa.Memo=h,qa.Portal=t,qa.Profiler=n,qa.StrictMode=a,qa.Suspense=c,qa.SuspenseList=d,qa.isContextConsumer=function(v){return y(v)===i},qa.isContextProvider=function(v){return y(v)===s},qa.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},qa.isForwardRef=function(v){return y(v)===o},qa.isFragment=function(v){return y(v)===r},qa.isLazy=function(v){return y(v)===m},qa.isMemo=function(v){return y(v)===h},qa.isPortal=function(v){return y(v)===t},qa.isProfiler=function(v){return y(v)===n},qa.isStrictMode=function(v){return y(v)===a},qa.isSuspense=function(v){return y(v)===c},qa.isSuspenseList=function(v){return y(v)===d},qa.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===n||v===a||v===c||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===h||v.$$typeof===s||v.$$typeof===i||v.$$typeof===o||v.$$typeof===p||v.getModuleId!==void 0)},qa.typeOf=y,qa}var AP;function Gue(){return AP||(AP=1,Z4.exports=Kue()),Z4.exports}var Yue=Gue(),TP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",EP=null,e_=null,VU=e=>{if(e===EP&&Array.isArray(e_))return e_;var t=[];return j.Children.forEach(e,r=>{un(r)||(Yue.isFragment(r)?t=t.concat(VU(r.props.children)):t.push(r))}),e_=t,EP=e,t};function fj(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(n=>TP(n)):a=[TP(t)],VU(e).forEach(n=>{var i=Uh(n,"type.displayName")||Uh(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}var Dw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,t_={},CP;function Xue(){return CP||(CP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((n=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&n.writable)?!1:r.toString()===`[object ${i}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(t_)),t_}var r_,OP;function Que(){return OP||(OP=1,r_=Xue().isPlainObject),r_}var Jue=Que();const Zue=Fc(Jue);function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(a){e0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e0e(e,t,r){return(t=t0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t0e(e){var t=r0e(e,"string");return typeof t=="symbol"?t:t+""}function r0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m2.apply(null,arguments)}var LP=(e,t,r,a,n)=>{var i=r-a,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+n),s+="L ".concat(e+r-i/2-a,",").concat(t+n),s+="L ".concat(e,",").concat(t," Z"),s},a0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n0e=e=>{var t=Ri(e,a0e),{x:r,y:a,upperWidth:n,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,x=j.useRef(null),[p,y]=j.useState(-1),v=j.useRef(n),b=j.useRef(i),k=j.useRef(s),N=j.useRef(r),_=j.useRef(a),T=yg(e,"trapezoid-");if(j.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var Y=x.current.getTotalLength();Y&&y(Y)}catch{}},[]),r!==+r||a!==+a||n!==+n||i!==+i||s!==+s||n===0&&i===0||s===0)return null;var P=Br("recharts-trapezoid",o);if(!m)return j.createElement("g",null,j.createElement("path",m2({},io(t),{className:P,d:LP(r,a,n,i,s)})));var O=v.current,L=b.current,U=k.current,I=N.current,K=_.current,D="0px ".concat(p===-1?1:p,"px"),F="".concat(p,"px 0px"),H=xF(["strokeDasharray"],d,c);return j.createElement(vg,{animationId:T,key:T,canBegin:p>0,duration:d,easing:c,isActive:m,begin:h},Y=>{var ne=$a(O,n,Y),X=$a(L,i,Y),ae=$a(U,s,Y),ue=$a(I,r,Y),se=$a(K,a,Y);x.current&&(v.current=ne,b.current=X,k.current=ae,N.current=ue,_.current=se);var be=Y>0?{transition:H,strokeDasharray:F}:{strokeDasharray:D};return j.createElement("path",m2({},io(t),{className:P,d:LP(ue,se,ne,X,ae),ref:x,style:DP(DP({},be),t.style)}))})},i0e=["option","shapeType","propTransformer","activeClassName","isActive"];function s0e(e,t){if(e==null)return{};var r,a,n=o0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function p2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(a){l0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function l0e(e,t,r){return(t=c0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c0e(e){var t=u0e(e,"string");return typeof t=="symbol"?t:t+""}function u0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d0e(e,t){return p2(p2({},t),e)}function f0e(e,t){return e==="symbols"}function RP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(wF,r);case"trapezoid":return j.createElement(n0e,r);case"sector":return j.createElement(SF,r);case"symbols":if(f0e(t))return j.createElement(FN,r);break;default:return null}}function h0e(e){return j.isValidElement(e)?e.props:e}function KU(e){var{option:t,shapeType:r,propTransformer:a=d0e,activeClassName:n="recharts-active-shape",isActive:i}=e,s=s0e(e,i0e),o;if(j.isValidElement(t))o=j.cloneElement(t,p2(p2({},s),h0e(t)));else if(typeof t=="function")o=t(s);else if(Zue(t)&&typeof t!="boolean"){var c=a(t,s);o=j.createElement(RP,{shapeType:r,elementProps:c})}else{var d=s;o=j.createElement(RP,{shapeType:r,elementProps:d})}return i?j.createElement(Kn,{className:n},o):o}var hj=(e,t)=>{var r=_n();return(a,n)=>i=>{e==null||e(a,n,i),r(sU({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},mj=e=>{var t=_n();return(r,a)=>n=>{e==null||e(r,a,n),t(rle())}},pj=(e,t)=>{var r=_n();return(a,n)=>i=>{e==null||e(a,n,i),r(ale({activeIndex:String(n),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function Lw(e){var{fn:t,args:r}=e,a=_n(),n=gs();return j.useLayoutEffect(()=>{if(!n){var i=t(r);return a(Zoe(i)),()=>{a(ele(i))}}},[t,r,a,n]),null}var GU=()=>{};function gj(e){var{legendPayload:t}=e,r=_n(),a=gs();return j.useLayoutEffect(()=>a?GU:(r(mF(t)),()=>{r(pF(t))}),[r,a,t]),null}function m0e(e){var{legendPayload:t}=e,r=_n(),a=Yt(Jr);return j.useLayoutEffect(()=>a!=="centric"&&a!=="radial"?GU:(r(mF(t)),()=>{r(pF(t))}),[r,a,t]),null}var a_,p0e=()=>{var[e]=j.useState(()=>c1("uid-"));return e},g0e=(a_=SV.useId)!==null&&a_!==void 0?a_:p0e;function x0e(e,t){var r=g0e();return t||(e?"".concat(e,"-").concat(r):r)}var v0e=j.createContext(void 0),Mw=e=>{var{id:t,type:r,children:a}=e,n=x0e("recharts-".concat(r),t);return j.createElement(v0e.Provider,{value:n},a(n))},y0e={cartesianItems:[],polarItems:[]},YU=fl({name:"graphicalItems",initialState:y0e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zs()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,n=E0(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},prepare:Zs()},removeCartesianGraphicalItem:{reducer(e,t){var r=E0(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zs()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zs()},removePolarGraphicalItem:{reducer(e,t){var r=E0(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zs()}}}),{addCartesianGraphicalItem:b0e,replaceCartesianGraphicalItem:w0e,removeCartesianGraphicalItem:k0e,addPolarGraphicalItem:_0e,removePolarGraphicalItem:S0e}=YU.actions,N0e=YU.reducer;function xj(e){var t=_n(),r=j.useRef(null);return j.useLayoutEffect(()=>{r.current===null?t(b0e(e)):r.current!==e&&t(w0e({prev:r.current,next:e})),r.current=e},[t,e]),j.useLayoutEffect(()=>()=>{r.current&&(t(k0e(r.current)),r.current=null)},[t]),null}function j0e(e){var t=_n();return j.useLayoutEffect(()=>(t(_0e(e)),()=>{t(S0e(e))}),[t,e]),null}var A0e=["onMouseEnter","onClick","onMouseLeave"],T0e=["id"],E0e=["id"];function vj(e,t){if(e==null)return{};var r,a,n=C0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C0e(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(a){O0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function O0e(e,t,r){return(t=P0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P0e(e){var t=D0e(e,"string");return typeof t=="symbol"?t:t+""}function D0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},df.apply(null,arguments)}function L0e(e){var t=j.useMemo(()=>fj(e.children,Cg),[e.children]),r=Yt(a=>Wue(a,e.id,t));return r==null?null:j.createElement(m0e,{legendPayload:r})}function M0e(e){var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:i,fill:s,name:o,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:a.map(h=>h.tooltipPayload),positions:a.map(h=>h.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:yf(o,t),hide:c,type:d,color:s,unit:""}}}var R0e=(e,t)=>e>t?"start":e<t?"end":"middle",I0e=(e,t,r)=>Ls(typeof t=="function"?t(e):t,r,r*.8),F0e=(e,t,r)=>{var{top:a,left:n,width:i,height:s}=t,o=tF(i,s),c=n+Ls(e.cx,i,i/2),d=a+Ls(e.cy,s,s/2),h=Ls(e.innerRadius,o,0),m=I0e(r,e.outerRadius,o),x=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:m,maxRadius:x}},B0e=(e,t)=>{var r=Zi(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function U0e(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var z0e=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Br("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(Op,df({},t,{type:"linear",className:r}))},q0e=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),j.isValidElement(a)))return a;var n=Br("recharts-pie-label-text",U0e(e));return j.createElement(Ew,df({},t,{alignmentBaseline:"middle",className:n}),a)};function $0e(e){var{sectors:t,props:r,showLabels:a}=e,{label:n,labelLine:i,dataKey:s}=r;if(!a||!n||!t)return null;var o=no(r),c=Bh(n),d=Bh(i),h=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,m=t.map((x,p)=>{var y=(x.startAngle+x.endAngle)/2,v=gi(x.cx,x.cy,x.outerRadius+h,y),b=bn(bn(bn(bn({},o),x),{},{stroke:"none"},c),{},{index:p,textAnchor:R0e(v.x,x.cx)},v),k=bn(bn(bn(bn({},o),x),{},{fill:"none",stroke:x.fill},d),{},{index:p,points:[gi(x.cx,x.cy,x.outerRadius,y),v],key:"line"});return j.createElement(Kn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(p)},i&&z0e(i,k),q0e(n,b,Ha(x,s)))});return j.createElement(Kn,{className:"recharts-pie-labels"},m)}function H0e(e){var{sectors:t,props:r,showLabels:a}=e,{label:n}=r;return typeof n=="object"&&n!=null&&"position"in n?j.createElement(Cw,{label:n}):j.createElement($0e,{sectors:t,props:r,showLabels:a})}function W0e(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:n}=e,i=Yt(uf),{onMouseEnter:s,onClick:o,onMouseLeave:c}=n,d=vj(n,A0e),h=hj(s,n.dataKey),m=mj(c),x=pj(o,n.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var v=r&&String(y)===i,b=i?a:null,k=v?r:b,N=bn(bn({},p),{},{stroke:p.stroke,tabIndex:-1,[oF]:y,[lF]:n.dataKey});return j.createElement(Kn,df({key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},X1(d,p,y),{onMouseEnter:h(p,y),onMouseLeave:m(p,y),onClick:x(p,y)}),j.createElement(KU,df({option:k,isActive:v,shapeType:"sector"},N)))}))}function V0e(e){var t,{pieSettings:r,displayedData:a,cells:n,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:d,nameKey:h,tooltipType:m}=r,x=Math.abs(r.minAngle),p=B0e(o,c),y=Math.abs(p),v=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(O=>Ha(O,d,0)!==0).length,k=(y>=360?b:b-1)*v,N=y-b*x-k,_=a.reduce((O,L)=>{var U=Ha(L,d,0);return O+(Kt(U)?U:0)},0),T;if(_>0){var P;T=a.map((O,L)=>{var U=Ha(O,d,0),I=Ha(O,h,L),K=F0e(r,i,O),D=(Kt(U)?U:0)/_,F,H=bn(bn({},O),n&&n[L]&&n[L].props);L?F=P.endAngle+Zi(p)*v*(U!==0?1:0):F=o;var Y=F+Zi(p)*((U!==0?x:0)+D*N),ne=(F+Y)/2,X=(K.innerRadius+K.outerRadius)/2,ae=[{name:I,value:U,payload:H,dataKey:d,type:m}],ue=gi(K.cx,K.cy,X,ne);return P=bn(bn(bn(bn({},r.presentationProps),{},{percent:D,cornerRadius:s,name:I,tooltipPayload:ae,midAngle:ne,middleRadius:X,tooltipPosition:ue},H),K),{},{value:U,startAngle:F,endAngle:Y,payload:H,paddingAngle:Zi(p)*v}),P})}return T}function K0e(e){var{showLabels:t,sectors:r,children:a}=e,n=j.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return j.createElement(Eue,{value:t?n:void 0},a)}function G0e(e){var{props:t,previousSectorsRef:r}=e,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:d,onAnimationStart:h,onAnimationEnd:m}=t,x=yg(t,"recharts-pie-"),p=r.current,[y,v]=j.useState(!1),b=j.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),k=j.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);return j.createElement(K0e,{showLabels:!y,sectors:a},j.createElement(vg,{animationId:x,begin:i,duration:s,isActive:n,easing:o,onAnimationStart:k,onAnimationEnd:b,key:x},N=>{var _=[],T=a&&a[0],P=T==null?void 0:T.startAngle;return a==null||a.forEach((O,L)=>{var U=p&&p[L],I=L>0?Uh(O,"paddingAngle",0):0;if(U){var K=$a(U.endAngle-U.startAngle,O.endAngle-O.startAngle,N),D=bn(bn({},O),{},{startAngle:P+I,endAngle:P+K+I});_.push(D),P=D.endAngle}else{var{endAngle:F,startAngle:H}=O,Y=$a(0,F-H,N),ne=bn(bn({},O),{},{startAngle:P+I,endAngle:P+Y+I});_.push(ne),P=ne.endAngle}}),r.current=_,j.createElement(Kn,null,j.createElement(W0e,{sectors:_,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),j.createElement(H0e,{showLabels:!y,sectors:a,props:t}),t.children)}var Y0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Q0.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function X0e(e){var{id:t}=e,r=vj(e,T0e),{hide:a,className:n,rootTabIndex:i}=e,s=j.useMemo(()=>fj(e.children,Cg),[e.children]),o=Yt(h=>Vue(h,t,s)),c=j.useRef(null),d=Br("recharts-pie",n);return a||o==null?(c.current=null,j.createElement(Kn,{tabIndex:i,className:d})):j.createElement(j.Fragment,null,j.createElement(Lw,{fn:M0e,args:bn(bn({},e),{},{sectors:o})}),j.createElement(Kn,{tabIndex:i,className:d},j.createElement(G0e,{props:bn(bn({},r),{},{sectors:o}),previousSectorsRef:c})))}function yj(e){var t=Ri(e,Y0e),{id:r}=t,a=vj(t,E0e),n=no(a);return j.createElement(Mw,{id:r,type:"pie"},i=>j.createElement(j.Fragment,null,j.createElement(j0e,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),j.createElement(L0e,df({},a,{id:i})),j.createElement(X0e,df({},a,{id:i}))))}yj.displayName="Pie";function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(a){Q0e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Q0e(e,t,r){return(t=J0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J0e(e){var t=Z0e(e,"string");return typeof t=="symbol"?t:t+""}function Z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ede={xAxis:{},yAxis:{},zAxis:{}},XU=fl({name:"cartesianAxis",initialState:ede,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zs()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zs()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zs()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zs()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zs()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zs()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,n=e.yAxis[r];if(n){var i=n.widthHistory||[];if(i.length===3&&i[0]===i[2]&&a===i[1]&&a!==n.width&&Math.abs(a-i[0])<=1)return;var s=[...i,a].slice(-3);e.yAxis[r]=BP(BP({},e.yAxis[r]),{},{width:a,widthHistory:s})}}}}),{addXAxis:tde,removeXAxis:rde,addYAxis:ade,removeYAxis:nde,addZAxis:jAe,removeZAxis:AAe,updateYAxisWidth:ide}=XU.actions,sde=XU.reducer,ode=Ye([Mi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),lde=Ye([ode,Y0,X0],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Rw=()=>Yt(lde),cde=()=>Yt($le);function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function zP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(a){ude(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ude(e,t,r){return(t=dde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hde=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:n,dataKey:i}=e;if(n===!1||t.x==null||t.y==null)return null;var s=zP(zP({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Bh(n)),BN(n)),o;return j.isValidElement(n)?o=j.cloneElement(n,s):typeof n=="function"?o=n(s):o=j.createElement(cj,s),j.createElement(Kn,{className:"recharts-active-dot"},o)};function bS(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n}=e,i=Yt(uf),s=cde();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return un(o)?null:hde({point:o,childIndex:Number(i),mainColor:r,dataKey:n,activeDot:a})}var mde="Invariant failed";function pde(e,t){throw new Error(mde)}var gde=["x","y"];function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wS.apply(null,arguments)}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(a){xde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xde(e,t,r){return(t=vde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vde(e){var t=yde(e,"string");return typeof t=="symbol"?t:t+""}function yde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bde(e,t){if(e==null)return{};var r,a,n=wde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function kde(e,t){var{x:r,y:a}=e,n=bde(e,gde),i="".concat(r),s=parseInt(i,10),o="".concat(a),c=parseInt(o,10),d="".concat(t.height||n.height),h=parseInt(d,10),m="".concat(t.width||n.width),x=parseInt(m,10);return Tx(Tx(Tx(Tx(Tx({},t),n),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function bj(e){return j.createElement(KU,wS({shapeType:"rectangle",propTransformer:kde,activeClassName:"recharts-active-bar"},e))}var _de=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(Kt(t))return t;var i=Kt(a)||un(a);return i?t(a,n):(i||pde(),r)}},Sde={},QU=fl({name:"errorBars",initialState:Sde,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:n}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===a.dataKey&&i.direction===a.direction?n:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:TAe,replaceErrorBar:EAe,removeErrorBar:CAe}=QU.actions,Nde=QU.reducer,jde=["children"];function Ade(e,t){if(e==null)return{};var r,a,n=Tde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ede={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Cde=j.createContext(Ede);function JU(e){var{children:t}=e,r=Ade(e,jde);return j.createElement(Cde.Provider,{value:r},t)}function Iw(e,t){var r,a,n=Yt(d=>Z0(d,e)),i=Yt(d=>ed(d,t)),s=(r=n==null?void 0:n.allowDataOverflow)!==null&&r!==void 0?r:Yo.allowDataOverflow,o=(a=i==null?void 0:i.allowDataOverflow)!==null&&a!==void 0?a:Xo.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function wj(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,n=Rw(),{needClipX:i,needClipY:s,needClip:o}=Iw(t,r);if(!o)return null;var{x:c,y:d,width:h,height:m}=n;return j.createElement("clipPath",{id:"clipPath-".concat(a)},j.createElement("rect",{x:i?c:c-h/2,y:s?d:d-m/2,width:i?h:h*2,height:s?m:m*2}))}var Ode=["onMouseEnter","onMouseLeave","onClick"],Pde=["value","background","tooltipPosition"],Dde=["id"],Lde=["onMouseEnter","onClick","onMouseLeave"];function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ff.apply(null,arguments)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(a){Mde(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mde(e,t,r){return(t=Rde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rde(e){var t=Ide(e,"string");return typeof t=="symbol"?t:t+""}function Ide(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g2(e,t){if(e==null)return{};var r,a,n=Fde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fde(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Bde=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:yf(r,t),payload:e}]};function Ude(e){var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:yf(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function zde(e){var t=Yt(uf),{data:r,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=i,d=g2(i,Ode),h=hj(s,a),m=mj(o),x=pj(c,a);if(!n||r==null)return null;var p=Bh(n);return j.createElement(j.Fragment,null,r.map((y,v)=>{var{value:b,background:k,tooltipPosition:N}=y,_=g2(y,Pde);if(!k)return null;var T=h(y,v),P=m(y,v),O=x(y,v),L=eo(eo(eo(eo(eo({option:n,isActive:String(v)===t},_),{},{fill:"#eee"},k),p),X1(d,y,v)),{},{onMouseEnter:T,onMouseLeave:P,onClick:O,dataKey:a,index:v,className:"recharts-bar-background-rectangle"});return j.createElement(bj,ff({key:"background-bar-".concat(v)},L))}))}function qde(e){var{showLabels:t,children:r,rects:a}=e,n=a==null?void 0:a.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return eo(eo({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return j.createElement(lj,{value:t?n:void 0},r)}function $de(e){var{shape:t,activeBar:r,baseProps:a,entry:n,index:i,dataKey:s}=e,o=Yt(uf),c=Yt(wU),d=r&&String(i)===o&&(c==null||s===c),h=d?r:t;return j.createElement(bj,ff({},a,{name:String(a.name)},n,{isActive:d,option:h,index:i,dataKey:s}))}function Hde(e){var{shape:t,baseProps:r,entry:a,index:n,dataKey:i}=e;return j.createElement(bj,ff({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function Wde(e){var{data:t,props:r}=e,a=no(r),{id:n}=a,i=g2(a,Dde),{shape:s,dataKey:o,activeBar:c}=r,{onMouseEnter:d,onClick:h,onMouseLeave:m}=r,x=g2(r,Lde),p=hj(d,o),y=mj(m),v=pj(h,o);return t?j.createElement(j.Fragment,null,t.map((b,k)=>j.createElement(Kn,ff({key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(k),className:"recharts-bar-rectangle"},X1(x,b,k),{onMouseEnter:p(b,k),onMouseLeave:y(b,k),onClick:v(b,k)}),c?j.createElement($de,{shape:s,activeBar:c,baseProps:i,entry:b,index:k,dataKey:o}):j.createElement(Hde,{shape:s,baseProps:i,entry:b,index:k,dataKey:o})))):null}function Vde(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:d,onAnimationStart:h}=t,m=r.current,x=yg(t,"recharts-bar-"),[p,y]=j.useState(!1),v=!p,b=j.useCallback(()=>{typeof d=="function"&&d(),y(!1)},[d]),k=j.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return j.createElement(qde,{showLabels:v,rects:a},j.createElement(vg,{animationId:x,begin:s,duration:o,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:k,key:x},N=>{var _=N===1?a:a==null?void 0:a.map((T,P)=>{var O=m&&m[P];if(O)return eo(eo({},T),{},{x:$a(O.x,T.x,N),y:$a(O.y,T.y,N),width:$a(O.width,T.width,N),height:$a(O.height,T.height,N)});if(n==="horizontal"){var L=$a(0,T.height,N);return eo(eo({},T),{},{y:T.y+T.height-L,height:L})}var U=$a(0,T.width,N);return eo(eo({},T),{},{width:U})});return N>0&&(r.current=_??null),_==null?null:j.createElement(Kn,null,j.createElement(Wde,{props:t,data:_}))}),j.createElement(Cw,{label:t.label}),t.children)}function Kde(e){var t=j.useRef(null);return j.createElement(Vde,{previousRectanglesRef:t,props:e})}var ZU=0,Gde=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ha(e,t)}};class Yde extends j.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:n,xAxisId:i,yAxisId:s,needClip:o,background:c,id:d}=this.props;if(t||r==null)return null;var h=Br("recharts-bar",n),m=d;return j.createElement(Kn,{className:h,id:d},o&&j.createElement("defs",null,j.createElement(wj,{clipPathId:m,xAxisId:i,yAxisId:s})),j.createElement(Kn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},j.createElement(zde,{data:r,dataKey:a,background:c,allOtherBarProps:this.props}),j.createElement(Kde,this.props)))}}var Xde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Q0.isSsr,legendType:"rect",minPointSize:ZU,xAxisId:0,yAxisId:0};function Qde(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=Iw(t,r),x=ev(),p=gs(),y=fj(e.children,Cg),v=Yt(N=>Nfe(N,t,r,p,e.id,y));if(x!=="vertical"&&x!=="horizontal")return null;var b,k=v==null?void 0:v[0];return k==null||k.height==null||k.width==null?b=0:b=x==="vertical"?k.height/2:k.width/2,j.createElement(JU,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Gde,errorBarOffset:b},j.createElement(Yde,ff({},e,{layout:x,needClip:m,data:v,xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:d,isAnimationActive:h})))}function Jde(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:d,stackedData:h,displayedData:m,offset:x,cells:p,parentViewBox:y}=e,v=t==="horizontal"?o:s,b=h?v.scale.domain():null,k=Xte({numericAxis:v});return m.map((N,_)=>{var T,P,O,L,U,I;h?T=Wte(h[_],b):(T=Ha(N,r),Array.isArray(T)||(T=[k,T]));var K=_de(a,ZU)(T[1],_);if(t==="horizontal"){var D,[F,H]=[o.scale(T[0]),o.scale(T[1])];P=kO({axis:s,ticks:c,bandSize:i,offset:n.offset,entry:N,index:_}),O=(D=H??F)!==null&&D!==void 0?D:void 0,L=n.size;var Y=F-H;if(U=cl(Y)?0:Y,I={x:P,y:x.top,width:L,height:x.height},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var ne=Zi(U||K)*(Math.abs(K)-Math.abs(U));O-=ne,U+=ne}}else{var[X,ae]=[s.scale(T[0]),s.scale(T[1])];if(P=X,O=kO({axis:o,ticks:d,bandSize:i,offset:n.offset,entry:N,index:_}),L=ae-X,U=n.size,I={x:x.left,y:O,width:x.width,height:U},Math.abs(K)>0&&Math.abs(L)<Math.abs(K)){var ue=Zi(L||K)*(Math.abs(K)-Math.abs(L));L+=ue}}if(P==null||O==null||L==null||U==null)return null;var se=eo(eo({},N),{},{x:P,y:O,width:L,height:U,value:h?T:T[1],payload:N,background:I,tooltipPosition:{x:P+L/2,y:O+U/2},parentViewBox:y},p&&p[_]&&p[_].props);return se}).filter(Boolean)}function Zde(e){var t=Ri(e,Xde),r=gs();return j.createElement(Mw,{id:t.id,type:"bar"},a=>j.createElement(j.Fragment,null,j.createElement(gj,{legendPayload:Bde(t)}),j.createElement(Lw,{fn:Ude,args:t}),j.createElement(xj,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:iF(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),j.createElement(Qde,ff({},t,{id:a}))))}var Ch=j.memo(Zde);Ch.displayName="Bar";function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(a){efe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function efe(e,t,r){return(t=tfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tfe(e){var t=rfe(e,"string");return typeof t=="symbol"?t:t+""}function rfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var afe=(e,t)=>t,nfe=(e,t,r)=>r,ife=(e,t,r,a)=>a,sfe=(e,t,r,a,n)=>n,pv=Ye([cv,sfe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),ofe=Ye([pv],e=>e==null?void 0:e.maxBarSize),lfe=(e,t,r,a,n,i)=>i,WP=(e,t,r)=>{var a=r??e;if(!un(a))return Ls(a,t,0)},cfe=Ye([Jr,cv,afe,nfe,ife],(e,t,r,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),ufe=(e,t,r,a)=>{var n=Jr(e);return n==="horizontal"?y1(e,"yAxis",r,a):y1(e,"xAxis",t,a)},dfe=(e,t,r)=>{var a=Jr(e);return a==="horizontal"?V7(e,"xAxis",t):V7(e,"yAxis",r)},ffe=(e,t,r)=>{var a={},n=e.filter(ww),i=e.filter(d=>d.stackId==null),s=n.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),a),o=Object.entries(s).map(d=>{var[h,m]=d,x=m.map(y=>y.dataKey),p=WP(t,r,m[0].barSize);return{stackId:h,dataKeys:x,barSize:p}}),c=i.map(d=>{var h=[d.dataKey].filter(x=>x!=null),m=WP(t,r,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...o,...c]},hfe=Ye([cfe,Yse,dfe],ffe),mfe=(e,t,r,a,n)=>{var i,s,o=pv(e,t,r,a,n);if(o!=null){var c=Jr(e),d=wB(e),{maxBarSize:h}=o,m=un(h)?d:h,x,p;return c==="horizontal"?(x=Ou(e,"xAxis",t,a),p=Cu(e,"xAxis",t,a)):(x=Ou(e,"yAxis",r,a),p=Cu(e,"yAxis",r,a)),(i=(s=$h(x,p,!0))!==null&&s!==void 0?s:m)!==null&&i!==void 0?i:0}},ez=(e,t,r,a)=>{var n=Jr(e),i,s;return n==="horizontal"?(i=Ou(e,"xAxis",t,a),s=Cu(e,"xAxis",t,a)):(i=Ou(e,"yAxis",r,a),s=Cu(e,"yAxis",r,a)),$h(i,s)};function pfe(e,t,r,a,n){var i=a.length;if(!(i<1)){var s=Ls(e,r,0,!0),o,c=[];if(vi(a[0].barSize)){var d=!1,h=r/i,m=a.reduce((k,N)=>k+(N.barSize||0),0);m+=(i-1)*s,m>=r&&(m-=(i-1)*s,s=0),m>=r&&h>0&&(d=!0,h*=.9,m=i*h);var x=(r-m)/2>>0,p={offset:x-s,size:0};o=a.reduce((k,N)=>{var _,T={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:p.offset+p.size+s,size:d?h:(_=N.barSize)!==null&&_!==void 0?_:0}},P=[...k,T];return p=P[P.length-1].position,P},c)}else{var y=Ls(t,r,0,!0);r-2*y-(i-1)*s<=0&&(s=0);var v=(r-2*y-(i-1)*s)/i;v>1&&(v>>=0);var b=vi(n)?Math.min(v,n):v;o=a.reduce((k,N,_)=>[...k,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:y+(v+s)*_+(v-b)/2,size:b}}],c)}return o}}var gfe=(e,t,r,a,n,i,s)=>{var o=un(s)?t:s,c=pfe(r,a,n!==i?n:i,e,o);return n!==i&&c!=null&&(c=c.map(d=>Hy(Hy({},d),{},{position:Hy(Hy({},d.position),{},{offset:d.position.offset-n/2})}))),c},xfe=Ye([hfe,wB,Gse,kB,mfe,ez,ofe],gfe),vfe=(e,t,r,a)=>Ou(e,"xAxis",t,a),yfe=(e,t,r,a)=>Ou(e,"yAxis",r,a),bfe=(e,t,r,a)=>Cu(e,"xAxis",t,a),wfe=(e,t,r,a)=>Cu(e,"yAxis",r,a),kfe=Ye([xfe,pv],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),_fe=(e,t)=>{var r=bw(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(s=>s.key===r)}}}},Sfe=Ye([ufe,pv],_fe),Nfe=Ye([Mi,YN,vfe,yfe,bfe,wfe,kfe,Jr,iv,ez,Sfe,pv,lfe],(e,t,r,a,n,i,s,o,c,d,h,m,x)=>{var{chartData:p,dataStartIndex:y,dataEndIndex:v}=c;if(!(m==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||a==null||n==null||i==null||d==null)){var{data:b}=m,k;if(b!=null&&b.length>0?k=b:k=p==null?void 0:p.slice(y,v+1),k!=null)return Jde({layout:o,barSettings:m,pos:s,parentViewBox:t,bandSize:d,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:h,displayedData:k,offset:e,cells:x})}}),tz=e=>{var{chartData:t}=e,r=_n(),a=gs();return j.useEffect(()=>a?()=>{}:(r(rP(t)),()=>{r(rP(void 0))}),[t,r,a]),null},VP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rz=fl({name:"brush",initialState:VP,reducers:{setBrushSettings(e,t){return t.payload==null?VP:t.payload}}}),{setBrushSettings:OAe}=rz.actions,jfe=rz.reducer;function Afe(e,t,r){return(t=Tfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tfe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kj{static create(t){return new kj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],n=r[r.length-1];return a<=n?t>=a&&t<=n:t>=n&&t<=a}}Afe(kj,"EPS",1e-4);function Cfe(e){return(e%180+180)%180}var Ofe=function(t){var{width:r,height:a}=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Cfe(n),s=i*Math.PI/180,o=Math.atan(a/r),c=s>o&&s<Math.PI-o?a/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Pfe={dots:[],areas:[],lines:[]},az=fl({name:"referenceElements",initialState:Pfe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=E0(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=E0(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=E0(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:PAe,removeDot:DAe,addArea:LAe,removeArea:MAe,addLine:RAe,removeLine:IAe}=az.actions,Dfe=az.reducer,Lfe=j.createContext(void 0),Mfe=e=>{var{children:t}=e,[r]=j.useState("".concat(c1("recharts"),"-clip")),a=Rw();if(a==null)return null;var{x:n,y:i,width:s,height:o}=a;return j.createElement(Lfe.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:n,y:i,height:o,width:s}))),t)};function og(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function nz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],n=0;n<e.length;n+=t)a.push(e[n]);return a}function Rfe(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return Ofe(a,r)}function Ife(e,t,r){var a=r==="width",{x:n,y:i,width:s,height:o}=e;return t===1?{start:a?n:i,end:a?n+s:i+o}:{start:a?n+s:i+o,end:a?n:i}}function x2(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-n)<=0}function Ffe(e,t){return nz(e,t+1)}function Bfe(e,t,r,a,n){for(var i=(a||[]).slice(),{start:s,end:o}=t,c=0,d=1,h=s,m=function(){var y=a==null?void 0:a[c];if(y===void 0)return{v:nz(a,d)};var v=c,b,k=()=>(b===void 0&&(b=r(y,v)),b),N=y.coordinate,_=c===0||x2(e,N,k,h,o);_||(c=0,h=s,d+=1),_&&(h=N+e*(k()/2+n),c+=d)},x;d<=i.length;)if(x=m(),x)return x.v;return[]}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(a){Ufe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ufe(e,t,r){return(t=zfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zfe(e){var t=qfe(e,"string");return typeof t=="symbol"?t:t+""}function qfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $fe(e,t,r,a,n){for(var i=(a||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,d=function(x){var p=i[x],y,v=()=>(y===void 0&&(y=r(p,x)),y);if(x===s-1){var b=e*(p.coordinate+e*v()/2-c);i[x]=p=Ts(Ts({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate})}else i[x]=p=Ts(Ts({},p),{},{tickCoord:p.coordinate});var k=x2(e,p.tickCoord,v,o,c);k&&(c=p.tickCoord-e*(v()/2+n),i[x]=Ts(Ts({},p),{},{isShow:!0}))},h=s-1;h>=0;h--)d(h);return i}function Hfe(e,t,r,a,n,i){var s=(a||[]).slice(),o=s.length,{start:c,end:d}=t;if(i){var h=a[o-1],m=r(h,o-1),x=e*(h.coordinate+e*m/2-d);s[o-1]=h=Ts(Ts({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var p=x2(e,h.tickCoord,()=>m,c,d);p&&(d=h.tickCoord-e*(m/2+n),s[o-1]=Ts(Ts({},h),{},{isShow:!0}))}for(var y=i?o-1:o,v=function(N){var _=s[N],T,P=()=>(T===void 0&&(T=r(_,N)),T);if(N===0){var O=e*(_.coordinate-e*P()/2-c);s[N]=_=Ts(Ts({},_),{},{tickCoord:O<0?_.coordinate-O*e:_.coordinate})}else s[N]=_=Ts(Ts({},_),{},{tickCoord:_.coordinate});var L=x2(e,_.tickCoord,P,c,d);L&&(c=_.tickCoord+e*(P()/2+n),s[N]=Ts(Ts({},_),{},{isShow:!0}))},b=0;b<y;b++)v(b);return s}function _j(e,t,r){var{tick:a,ticks:n,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:d,unit:h,angle:m}=e;if(!n||!n.length||!a)return[];if(Kt(c)||Q0.isSsr){var x;return(x=Ffe(n,Kt(c)?c:0))!==null&&x!==void 0?x:[]}var p=[],y=o==="top"||o==="bottom"?"width":"height",v=h&&y==="width"?Hx(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(_,T)=>{var P=typeof d=="function"?d(_.value,T):_.value;return y==="width"?Rfe(Hx(P,{fontSize:t,letterSpacing:r}),v,m):Hx(P,{fontSize:t,letterSpacing:r})[y]},k=n.length>=2?Zi(n[1].coordinate-n[0].coordinate):1,N=Ife(i,k,y);return c==="equidistantPreserveStart"?Bfe(k,N,b,n,s):(c==="preserveStart"||c==="preserveStartEnd"?p=Hfe(k,N,b,n,s,c==="preserveStartEnd"):p=$fe(k,N,b,n,s),p.filter(_=>_.isShow))}var Wfe=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>s&&(s=m.width)}});var o=r?r.getBoundingClientRect().width:0,c=n+i,d=s+c+o+(r?a:0);return Math.round(d)}return 0},Vfe=["axisLine","width","height","className","hide","ticks"],Kfe=["viewBox"],Gfe=["viewBox"];function kS(e,t){if(e==null)return{};var r,a,n=Yfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yfe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kh.apply(null,arguments)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(a){Xfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Xfe(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=Jfe(e,"string");return typeof t=="symbol"?t:t+""}function Jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sj={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Zfe(e){var{x:t,y:r,width:a,height:n,orientation:i,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var d=Pi(Pi(Pi({},c),no(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!s||i==="bottom"&&s);d=Pi(Pi({},d),{},{x1:t,y1:r+h*n,x2:t+a,y2:r+h*n})}else{var m=+(i==="left"&&!s||i==="right"&&s);d=Pi(Pi({},d),{},{x1:t+m*a,y1:r,x2:t+m*a,y2:r+n})}return j.createElement("line",Kh({},d,{className:Br("recharts-cartesian-axis-line",Uh(o,"className"))}))}function ehe(e,t,r,a,n,i,s,o,c){var d,h,m,x,p,y,v=o?-1:1,b=e.tickSize||s,k=Kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=h=e.coordinate,x=r+ +!o*n,m=x-v*b,y=m-v*c,p=k;break;case"left":m=x=e.coordinate,h=t+ +!o*a,d=h-v*b,p=d-v*c,y=k;break;case"right":m=x=e.coordinate,h=t+ +o*a,d=h+v*b,p=d+v*c,y=k;break;default:d=h=e.coordinate,x=r+ +o*n,m=x+v*b,y=m+v*c,p=k;break}return{line:{x1:d,y1:m,x2:h,y2:x},tick:{x:p,y}}}function the(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function rhe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ahe(e){var{option:t,tickProps:r,value:a}=e,n,i=Br(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))n=j.cloneElement(t,Pi(Pi({},r),{},{className:i}));else if(typeof t=="function")n=t(Pi(Pi({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Br(s,t==null?void 0:t.className)),n=j.createElement(Ew,Kh({},r,{className:s}),a)}return n}function nhe(e){var{ticks:t=[],tick:r,tickLine:a,stroke:n,tickFormatter:i,unit:s,padding:o,tickTextProps:c,orientation:d,mirror:h,x:m,y:x,width:p,height:y,tickSize:v,tickMargin:b,fontSize:k,letterSpacing:N,getTicksConfig:_,events:T}=e,P=_j(Pi(Pi({},_),{},{ticks:t}),k,N),O=the(d,h),L=rhe(d,h),U=no(_),I=Bh(r),K={};typeof a=="object"&&(K=a);var D=Pi(Pi({},U),{},{fill:"none"},K),F=P.map((H,Y)=>{var{line:ne,tick:X}=ehe(H,m,x,p,y,d,v,h,b),ae=Pi(Pi(Pi(Pi({textAnchor:O,verticalAnchor:L},U),{},{stroke:"none",fill:n},I),X),{},{index:Y,payload:H,visibleTicksCount:P.length,tickFormatter:i,padding:o},c);return j.createElement(Kn,Kh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},X1(T,H,Y)),a&&j.createElement("line",Kh({},D,ne,{className:Br("recharts-cartesian-axis-tick-line",Uh(a,"className"))})),r&&j.createElement(ahe,{option:r,tickProps:ae,value:"".concat(typeof i=="function"?i(H.value,Y):H.value).concat(s||"")}))});return F.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},F):null}var ihe=j.forwardRef((e,t)=>{var{axisLine:r,width:a,height:n,className:i,hide:s,ticks:o}=e,c=kS(e,Vfe),[d,h]=j.useState(""),[m,x]=j.useState(""),p=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Wfe({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=j.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var k=b[0];if(k){var N=window.getComputedStyle(k),_=N.fontSize,T=N.letterSpacing;(_!==d||T!==m)&&(h(_),x(T))}}},[d,m]);return s||a!=null&&a<=0||n!=null&&n<=0?null:j.createElement(Kn,{className:Br("recharts-cartesian-axis",i),ref:y},j.createElement(Zfe,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:no(e)}),j.createElement(nhe,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:m,getTicksConfig:e,events:c}),j.createElement(lue,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(vue,{label:e.label,labelRef:e.labelRef}),e.children))}),she=j.memo(ihe,(e,t)=>{var{viewBox:r}=e,a=kS(e,Kfe),{viewBox:n}=t,i=kS(t,Gfe);return og(r,n)&&og(a,i)}),Nj=j.forwardRef((e,t)=>{var r=Ri(e,Sj);return j.createElement(she,Kh({},r,{ref:t}))});Nj.displayName="CartesianAxis";var ohe=["x1","y1","x2","y2","key"],lhe=["offset"],che=["xAxisId","yAxisId"],uhe=["xAxisId","yAxisId"];function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(a){dhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function dhe(e,t,r){return(t=fhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fhe(e){var t=hhe(e,"string");return typeof t=="symbol"?t:t+""}function hhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ph.apply(null,arguments)}function v2(e,t){if(e==null)return{};var r,a,n=mhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var phe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:n,width:i,height:s,ry:o}=e;return j.createElement("rect",{x:a,y:n,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iz(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:a,y1:n,x2:i,y2:s,key:o}=t,c=v2(t,ohe),d=no(c),{offset:h}=d,m=v2(d,lhe);r=j.createElement("line",ph({},m,{x1:a,y1:n,x2:i,y2:s,fill:"none",key:o}))}return r}function ghe(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=v2(e,che),c=n.map((d,h)=>{var m=Os(Os({},o),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(h),index:h});return iz(a,m)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function xhe(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:s}=e,o=v2(e,uhe),c=n.map((d,h)=>{var m=Os(Os({},o),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(h),index:h});return iz(a,m)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vhe(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=o.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var h=d.map((m,x)=>{var p=!d[x+1],y=p?n+s-m:d[x+1]-m;if(y<=0)return null;var v=x%t.length;return j.createElement("rect",{key:"react-".concat(x),y:m,x:a,height:y,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yhe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(m=>Math.round(m+n-n)).sort((m,x)=>m-x);n!==d[0]&&d.unshift(0);var h=d.map((m,x)=>{var p=!d[x+1],y=p?n+s-m:d[x+1]-m;if(y<=0)return null;var v=x%r.length;return j.createElement("rect",{key:"react-".concat(x),x:m,y:i,width:y,height:o,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bhe=(e,t)=>{var{xAxis:r,width:a,height:n,offset:i}=e;return aF(_j(Os(Os(Os({},Sj),r),{},{ticks:nF(r),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,t)},whe=(e,t)=>{var{yAxis:r,width:a,height:n,offset:i}=e;return aF(_j(Os(Os(Os({},Sj),r),{},{ticks:nF(r),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,t)},khe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function O0(e){var t=QN(),r=JN(),a=fF(),n=Os(Os({},Ri(e,khe)),{},{x:Kt(e.x)?e.x:a.left,y:Kt(e.y)?e.y:a.top,width:Kt(e.width)?e.width:a.width,height:Kt(e.height)?e.height:a.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:d,height:h,syncWithTicks:m,horizontalValues:x,verticalValues:p}=n,y=gs(),v=Yt(I=>K7(I,"xAxis",i,y)),b=Yt(I=>K7(I,"yAxis",s,y));if(!Kt(d)||d<=0||!Kt(h)||h<=0||!Kt(o)||o!==+o||!Kt(c)||c!==+c)return null;var k=n.verticalCoordinatesGenerator||bhe,N=n.horizontalCoordinatesGenerator||whe,{horizontalPoints:_,verticalPoints:T}=n;if((!_||!_.length)&&typeof N=="function"){var P=x&&x.length,O=N({yAxis:b?Os(Os({},b),{},{ticks:P?x:b.ticks}):void 0,width:t,height:r,offset:a},P?!0:m);Xb(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}if((!T||!T.length)&&typeof k=="function"){var L=p&&p.length,U=k({xAxis:v?Os(Os({},v),{},{ticks:L?p:v.ticks}):void 0,width:t,height:r,offset:a},L?!0:m);Xb(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(T=U)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(phe,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),j.createElement(vhe,ph({},n,{horizontalPoints:_})),j.createElement(yhe,ph({},n,{verticalPoints:T})),j.createElement(ghe,ph({},n,{offset:a,horizontalPoints:_,xAxis:v,yAxis:b})),j.createElement(xhe,ph({},n,{offset:a,verticalPoints:T,xAxis:v,yAxis:b})))}O0.displayName="CartesianGrid";var sz=(e,t,r,a)=>Ou(e,"xAxis",t,a),oz=(e,t,r,a)=>Cu(e,"xAxis",t,a),lz=(e,t,r,a)=>Ou(e,"yAxis",r,a),cz=(e,t,r,a)=>Cu(e,"yAxis",r,a),_he=Ye([Jr,sz,lz,oz,cz],(e,t,r,a,n)=>Lu(e,"xAxis")?$h(t,a,!1):$h(r,n,!1)),She=(e,t,r,a,n)=>n;function Nhe(e){return e.type==="line"}var jhe=Ye([cv,She],(e,t)=>e.filter(Nhe).find(r=>r.id===t)),Ahe=Ye([Jr,sz,lz,oz,cz,jhe,_he,iv],(e,t,r,a,n,i,s,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=o;if(!(i==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||s==null)){var{dataKey:m,data:x}=i,p;if(x!=null&&x.length>0?p=x:p=c==null?void 0:c.slice(d,h+1),p!=null)return Yhe({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:m,bandSize:s,displayedData:p})}});function uz(e){var t=Bh(e),r=3,a=2;if(t!=null){var{r:n,strokeWidth:i}=t,s=Number(n),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=a),{r:s,strokeWidth:o}}return{r,strokeWidth:a}}var The=["id"],Ehe=["type","layout","connectNulls","needClip"],Che=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(a){Ohe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ohe(e,t,r){return(t=Phe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jj(e,t){if(e==null)return{};var r,a,n=Lhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lhe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gh.apply(null,arguments)}var Mhe=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:yf(r,t),payload:e}]};function Rhe(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:yf(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var dz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ihe(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var Fhe=(e,t,r)=>{var a=r.reduce((m,x)=>m+x);if(!a)return dz(t,e);for(var n=Math.floor(e/a),i=e%a,s=t-e,o=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){o=[...r.slice(0,c),i-d];break}var h=o.length%2===0?[0,s]:[s];return[...Ihe(r,n),...o,...h].map(m=>"".concat(m,"px")).join(", ")};function Bhe(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Br("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(cj,Gh({},t,{className:a}))}return r}function Uhe(e,t){return e==null?!1:t?!0:e.length===1}function zhe(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:i,needClip:s}=a;if(!Uhe(r,n))return null;var{id:o}=a,c=jj(a,The),d=Dw(n),h=no(c),m=VR(n),x=r.map((y,v)=>{var b=Zo(Zo(Zo({key:"dot-".concat(v),r:3},h),m),{},{index:v,cx:y.x,cy:y.y,dataKey:i,value:y.value,payload:y.payload,points:r});return Bhe(n,b)}),p={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return j.createElement(Kn,Gh({className:"recharts-line-dots",key:"dots"},p),x)}function qhe(e){var{showLabels:t,children:r,points:a}=e,n=j.useMemo(()=>a==null?void 0:a.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Zo(Zo({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[a]);return j.createElement(lj,{value:t?n:null},r)}function QP(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:d}=i,h=jj(i,Ehe),m=Zo(Zo({},io(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:a,type:s,layout:o,connectNulls:c,strokeDasharray:n??i.strokeDasharray});return j.createElement(j.Fragment,null,(a==null?void 0:a.length)>1&&j.createElement(Op,Gh({},m,{pathRef:r})),j.createElement(zhe,{points:a,clipPathId:t,props:i}))}function $he(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Hhe(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:x,width:p,height:y,onAnimationEnd:v,onAnimationStart:b}=r,k=n.current,N=yg(r,"recharts-line-"),[_,T]=j.useState(!1),P=!_,O=j.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),L=j.useCallback(()=>{typeof b=="function"&&b(),T(!0)},[b]),U=$he(a.current),I=i.current;return j.createElement(qhe,{points:s,showLabels:P},r.children,j.createElement(vg,{animationId:N,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:O,onAnimationStart:L,key:N},K=>{var D=$a(I,U+I,K),F=Math.min(D,U),H;if(c)if(o){var Y="".concat(o).split(/[,\s]+/gim).map(ae=>parseFloat(ae));H=Fhe(F,U,Y)}else H=dz(U,F);else H=o==null?void 0:String(o);if(k){var ne=k.length/s.length,X=K===1?s:s.map((ae,ue)=>{var se=Math.floor(ue*ne);if(k[se]){var be=k[se];return Zo(Zo({},ae),{},{x:$a(be.x,ae.x,K),y:$a(be.y,ae.y,K)})}return x?Zo(Zo({},ae),{},{x:$a(p*2,ae.x,K),y:$a(y/2,ae.y,K)}):Zo(Zo({},ae),{},{x:ae.x,y:ae.y})});return n.current=X,j.createElement(QP,{props:r,points:X,clipPathId:t,pathRef:a,strokeDasharray:H})}return K>0&&U>0&&(n.current=s,i.current=F),j.createElement(QP,{props:r,points:s,clipPathId:t,pathRef:a,strokeDasharray:H})}),j.createElement(Cw,{label:r.label}))}function Whe(e){var{clipPathId:t,props:r}=e,a=j.useRef(null),n=j.useRef(0),i=j.useRef(null);return j.createElement(Hhe,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:i})}var Vhe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ha(e.payload,t)});class Khe extends j.Component{render(){var{hide:t,dot:r,points:a,className:n,xAxisId:i,yAxisId:s,top:o,left:c,width:d,height:h,id:m,needClip:x}=this.props;if(t)return null;var p=Br("recharts-line",n),y=m,{r:v,strokeWidth:b}=uz(r),k=Dw(r),N=v*2+b;return j.createElement(j.Fragment,null,j.createElement(Kn,{className:p},x&&j.createElement("defs",null,j.createElement(wj,{clipPathId:y,xAxisId:i,yAxisId:s}),!k&&j.createElement("clipPath",{id:"clipPath-dots-".concat(y)},j.createElement("rect",{x:c-N/2,y:o-N/2,width:d+N,height:h+N}))),j.createElement(JU,{xAxisId:i,yAxisId:s,data:a,dataPointFormatter:Vhe,errorBarOffset:0},j.createElement(Whe,{props:this.props,clipPathId:y}))),j.createElement(bS,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var fz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Q0.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Ghe(e){var t=Ri(e,fz),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:d,isAnimationActive:h,label:m,legendType:x,xAxisId:p,yAxisId:y,id:v}=t,b=jj(t,Che),{needClip:k}=Iw(p,y),N=Rw(),_=ev(),T=gs(),P=Yt(K=>Ahe(K,p,y,T,v));if(_!=="horizontal"&&_!=="vertical"||P==null||N==null)return null;var{height:O,width:L,x:U,y:I}=N;return j.createElement(Khe,Gh({},b,{id:v,connectNulls:o,dot:c,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:i,animationEasing:s,isAnimationActive:h,hide:d,label:m,legendType:x,xAxisId:p,yAxisId:y,points:P,layout:_,height:O,width:L,left:U,top:I,needClip:k}))}function Yhe(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((d,h)=>{var m=Ha(d,s);if(t==="horizontal"){var x=Yb({axis:r,ticks:n,bandSize:o,entry:d,index:h}),p=un(m)?null:a.scale(m);return{x,y:p,value:m,payload:d}}var y=un(m)?null:r.scale(m),v=Yb({axis:a,ticks:i,bandSize:o,entry:d,index:h});return y==null||v==null?null:{x:y,y:v,value:m,payload:d}}).filter(Boolean)}function Xhe(e){var t=Ri(e,fz),r=gs();return j.createElement(Mw,{id:t.id,type:"line"},a=>j.createElement(j.Fragment,null,j.createElement(gj,{legendPayload:Mhe(t)}),j.createElement(Lw,{fn:Rhe,args:t}),j.createElement(xj,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(Ghe,Gh({},t,{id:a}))))}var cf=j.memo(Xhe);cf.displayName="Line";var hz=(e,t,r,a)=>Ou(e,"xAxis",t,a),mz=(e,t,r,a)=>Cu(e,"xAxis",t,a),pz=(e,t,r,a)=>Ou(e,"yAxis",r,a),gz=(e,t,r,a)=>Cu(e,"yAxis",r,a),Qhe=Ye([Jr,hz,pz,mz,gz],(e,t,r,a,n)=>Lu(e,"xAxis")?$h(t,a,!1):$h(r,n,!1)),Jhe=(e,t,r,a,n)=>n,xz=Ye([cv,Jhe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Zhe=(e,t,r,a,n)=>{var i,s=xz(e,t,r,a,n);if(s!=null){var o=Jr(e),c=Lu(o,"xAxis"),d;if(c?d=y1(e,"yAxis",r,a):d=y1(e,"xAxis",t,a),d!=null){var{stackId:h}=s,m=bw(s);if(!(h==null||m==null)){var x=(i=d[h])===null||i===void 0?void 0:i.stackedData;return x==null?void 0:x.find(p=>p.key===m)}}}},eme=Ye([Jr,hz,pz,mz,gz,Zhe,iv,Qhe,xz],(e,t,r,a,n,i,s,o,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||n==null||a.length===0||n.length===0||o==null)){var{data:x}=c,p;if(x&&x.length>0?p=x:p=d==null?void 0:d.slice(h,m+1),p!=null){var y=void 0;return wme({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:h,areaSettings:c,stackedData:i,displayedData:p,chartBaseValue:y,bandSize:o})}}}),tme=["id"],rme=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function vz(e,t){if(e==null)return{};var r,a,n=ame(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ame(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(a){nme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nme(e,t,r){return(t=ime(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ime(e){var t=sme(e,"string");return typeof t=="symbol"?t:t+""}function sme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},P0.apply(null,arguments)}function y2(e,t){return e&&e!=="none"?e:t}var ome=e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:y2(a,n),value:yf(r,t),payload:e}]};function lme(e){var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:yf(s,t),hide:o,type:e.tooltipType,color:y2(a,i),unit:c}}}var cme=(e,t)=>{var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var a=Br("recharts-area-dot",typeof e!="boolean"?e.className:"");r=j.createElement(cj,P0({},t,{className:a}))}return r};function ume(e,t){return e==null?!1:t?!0:e.length===1}function dme(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:i,dataKey:s}=a;if(!ume(r,i))return null;var o=Dw(i),c=no(a),d=VR(i),h=r.map((x,p)=>{var y=N0(N0(N0({key:"dot-".concat(p),r:3},c),d),{},{index:p,cx:x.x,cy:x.y,dataKey:s,value:x.value,payload:x.payload,points:r});return cme(i,y)}),m={clipPath:n?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return j.createElement(Kn,P0({className:"recharts-area-dots"},m),h)}function fme(e){var{showLabels:t,children:r,points:a}=e,n=a.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return N0(N0({},s),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return j.createElement(lj,{value:t?n:null},r)}function ZP(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:i}=e,{layout:s,type:o,stroke:c,connectNulls:d,isRange:h}=i,{id:m}=i,x=vz(i,tme),p=no(x);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(Kn,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},j.createElement(Op,P0({},p,{id:m,points:t,connectNulls:d,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&j.createElement(Op,P0({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:t})),c!=="none"&&h&&j.createElement(Op,P0({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:r}))),j.createElement(dme,{points:t,props:x,clipPathId:n}))}function hme(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].y,s=a[a.length-1].y;if(!vi(i)||!vi(s))return null;var o=t*Math.abs(i-s),c=Math.max(...a.map(d=>d.x||0));return Kt(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),Kt(c)?j.createElement("rect",{x:0,y:i<s?i:i-o,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(o)}):null}function mme(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].x,s=a[a.length-1].x;if(!vi(i)||!vi(s))return null;var o=t*Math.abs(i-s),c=Math.max(...a.map(d=>d.y||0));return Kt(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),Kt(c)?j.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}function pme(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:i}=e;return r==="vertical"?j.createElement(hme,{alpha:t,points:a,baseLine:n,strokeWidth:i}):j.createElement(mme,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function gme(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:x,onAnimationEnd:p}=a,y=yg(a,"recharts-area-"),[v,b]=j.useState(!1),k=!v,N=j.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),_=j.useCallback(()=>{typeof x=="function"&&x(),b(!0)},[x]),T=n.current,P=i.current;return j.createElement(fme,{showLabels:k,points:s},a.children,j.createElement(vg,{animationId:y,begin:d,duration:h,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:_,key:y},O=>{if(T){var L=T.length/s.length,U=O===1?s:s.map((K,D)=>{var F=Math.floor(D*L);if(T[F]){var H=T[F];return N0(N0({},K),{},{x:$a(H.x,K.x,O),y:$a(H.y,K.y,O)})}return K}),I;return Kt(o)?I=$a(P,o,O):un(o)||cl(o)?I=$a(P,0,O):I=o.map((K,D)=>{var F=Math.floor(D*L);if(Array.isArray(P)&&P[F]){var H=P[F];return N0(N0({},K),{},{x:$a(H.x,K.x,O),y:$a(H.y,K.y,O)})}return K}),O>0&&(n.current=U,i.current=I),j.createElement(ZP,{points:U,baseLine:I,needClip:t,clipPathId:r,props:a})}return O>0&&(n.current=s,i.current=o),j.createElement(Kn,null,c&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(r)},j.createElement(pme,{alpha:O,points:s,baseLine:o,layout:a.layout,strokeWidth:a.strokeWidth}))),j.createElement(Kn,{clipPath:"url(#animationClipPath-".concat(r,")")},j.createElement(ZP,{points:s,baseLine:o,needClip:t,clipPathId:r,props:a})))}),j.createElement(Cw,{label:a.label}))}function xme(e){var{needClip:t,clipPathId:r,props:a}=e,n=j.useRef(null),i=j.useRef();return j.createElement(gme,{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i})}class vme extends j.PureComponent{render(){var{hide:t,dot:r,points:a,className:n,top:i,left:s,needClip:o,xAxisId:c,yAxisId:d,width:h,height:m,id:x,baseLine:p}=this.props;if(t)return null;var y=Br("recharts-area",n),v=x,{r:b,strokeWidth:k}=uz(r),N=Dw(r),_=b*2+k;return j.createElement(j.Fragment,null,j.createElement(Kn,{className:y},o&&j.createElement("defs",null,j.createElement(wj,{clipPathId:v,xAxisId:c,yAxisId:d}),!N&&j.createElement("clipPath",{id:"clipPath-dots-".concat(v)},j.createElement("rect",{x:s-_/2,y:i-_/2,width:h+_,height:m+_}))),j.createElement(xme,{needClip:o,clipPathId:v,props:this.props})),j.createElement(bS,{points:a,mainColor:y2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&j.createElement(bS,{points:p,mainColor:y2(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var yz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Q0.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function yme(e){var t,r=Ri(e,yz),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,fill:d,fillOpacity:h,hide:m,isAnimationActive:x,legendType:p,stroke:y,xAxisId:v,yAxisId:b}=r,k=vz(r,rme),N=ev(),_=_U(),{needClip:T}=Iw(v,b),P=gs(),{points:O,isRange:L,baseLine:U}=(t=Yt(Y=>eme(Y,v,b,P,e.id)))!==null&&t!==void 0?t:{},I=Rw();if(N!=="horizontal"&&N!=="vertical"||I==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:K,width:D,x:F,y:H}=I;return!O||!O.length?null:j.createElement(vme,P0({},k,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:s,baseLine:U,connectNulls:o,dot:c,fill:d,fillOpacity:h,height:K,hide:m,layout:N,isAnimationActive:x,isRange:L,legendType:p,needClip:T,points:O,stroke:y,width:D,left:F,top:H,xAxisId:v,yAxisId:b}))}var bme=(e,t,r,a,n)=>{var i=r??t;if(Kt(i))return i;var s=e==="horizontal"?n:a,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function wme(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:n,layout:i,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:x,bandSize:p}=e,y=n&&n.length,v=bme(i,s,r,o,c),b=i==="horizontal",k=!1,N=d.map((T,P)=>{var O;y?O=n[h+P]:(O=Ha(T,a),Array.isArray(O)?k=!0:O=[v,O]);var L=O[1]==null||y&&!t&&Ha(T,a)==null;return b?{x:Yb({axis:o,ticks:m,bandSize:p,entry:T,index:P}),y:L?null:c.scale(O[1]),value:O,payload:T}:{x:L?null:o.scale(O[1]),y:Yb({axis:c,ticks:x,bandSize:p,entry:T,index:P}),value:O,payload:T}}),_;return y||k?_=N.map(T=>{var P=Array.isArray(T.value)?T.value[0]:null;return b?{x:T.x,y:P!=null&&T.y!=null?c.scale(P):null,payload:T.payload}:{x:P!=null?o.scale(P):null,y:T.y,payload:T.payload}}):_=b?c.scale(v):o.scale(v),{points:N,baseLine:_,isRange:k}}function kme(e){var t=Ri(e,yz),r=gs();return j.createElement(Mw,{id:t.id,type:"area"},a=>j.createElement(j.Fragment,null,j.createElement(gj,{legendPayload:ome(t)}),j.createElement(Lw,{fn:lme,args:t}),j.createElement(xj,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:iF(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),j.createElement(yme,P0({},t,{id:a}))))}var bz=j.memo(kme);bz.displayName="Area";var _me=["dangerouslySetInnerHTML","ticks"],Sme=["id"],Nme=["domain"],jme=["domain"];function _S(){return _S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_S.apply(null,arguments)}function b2(e,t){if(e==null)return{};var r,a,n=Ame(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ame(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Tme(e){var t=_n();return j.useLayoutEffect(()=>(t(tde(e)),()=>{t(rde(e))}),[e,t]),null}var Eme=e=>{var{xAxisId:t,className:r}=e,a=Yt(YN),n=gs(),i="xAxis",s=Yt(b=>Ag(b,i,t,n)),o=Yt(b=>eU(b,i,t,n)),c=Yt(b=>XB(b,t)),d=Yt(b=>$oe(b,t)),h=Yt(b=>OB(b,t));if(c==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=e,p=b2(e,_me),{id:y}=h,v=b2(h,Sme);return j.createElement(Nj,_S({},p,v,{scale:s,x:d.x,y:d.y,width:c.width,height:c.height,className:Br("recharts-".concat(i," ").concat(i),r),viewBox:a,ticks:o}))},Cme={allowDataOverflow:Yo.allowDataOverflow,allowDecimals:Yo.allowDecimals,allowDuplicatedCategory:Yo.allowDuplicatedCategory,height:Yo.height,hide:!1,mirror:Yo.mirror,orientation:Yo.orientation,padding:Yo.padding,reversed:Yo.reversed,scale:Yo.scale,tickCount:Yo.tickCount,type:Yo.type,xAxisId:0},Ome=e=>{var t,r,a,n,i,s=Ri(e,Cme);return j.createElement(j.Fragment,null,j.createElement(Tme,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(a=s.angle)!==null&&a!==void 0?a:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(Eme,s))},Pme=(e,t)=>{var{domain:r}=e,a=b2(e,Nme),{domain:n}=t,i=b2(t,jme);return og(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(n)&&n.length===2?r[0]===n[0]&&r[1]===n[1]:og({domain:r},{domain:n}):!1},D0=j.memo(Ome,Pme);D0.displayName="XAxis";var Dme=["dangerouslySetInnerHTML","ticks"],Lme=["id"],Mme=["domain"],Rme=["domain"];function SS(){return SS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},SS.apply(null,arguments)}function w2(e,t){if(e==null)return{};var r,a,n=Ime(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ime(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Fme(e){var t=_n();return j.useLayoutEffect(()=>(t(ade(e)),()=>{t(nde(e))}),[e,t]),null}var Bme=e=>{var{yAxisId:t,className:r,width:a,label:n}=e,i=j.useRef(null),s=j.useRef(null),o=Yt(YN),c=gs(),d=_n(),h="yAxis",m=Yt(P=>Ag(P,h,t,c)),x=Yt(P=>QB(P,t)),p=Yt(P=>Woe(P,t)),y=Yt(P=>eU(P,h,t,c)),v=Yt(P=>PB(P,t));if(j.useLayoutEffect(()=>{if(!(a!=="auto"||!x||oj(n)||j.isValidElement(n)||v==null)){var P=i.current;if(P){var O=P.getCalculatedWidth();Math.round(x.width)!==Math.round(O)&&d(ide({id:t,width:O}))}}},[y,x,d,n,t,a,v]),x==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:k}=e,N=w2(e,Dme),{id:_}=v,T=w2(v,Lme);return j.createElement(Nj,SS({},N,T,{ref:i,labelRef:s,scale:m,x:p.x,y:p.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:x.width,height:x.height,className:Br("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:y}))},Ume={allowDataOverflow:Xo.allowDataOverflow,allowDecimals:Xo.allowDecimals,allowDuplicatedCategory:Xo.allowDuplicatedCategory,hide:!1,mirror:Xo.mirror,orientation:Xo.orientation,padding:Xo.padding,reversed:Xo.reversed,scale:Xo.scale,tickCount:Xo.tickCount,type:Xo.type,width:Xo.width,yAxisId:0},zme=e=>{var t,r,a,n,i,s=Ri(e,Ume);return j.createElement(j.Fragment,null,j.createElement(Fme,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(a=s.angle)!==null&&a!==void 0?a:0,minTickGap:(n=s.minTickGap)!==null&&n!==void 0?n:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(Bme,s))},qme=(e,t)=>{var{domain:r}=e,a=w2(e,Mme),{domain:n}=t,i=w2(t,Rme);return og(a,i)?Array.isArray(r)&&r.length===2&&Array.isArray(n)&&n.length===2?r[0]===n[0]&&r[1]===n[1]:og({domain:r},{domain:n}):!1},_u=j.memo(zme,qme);_u.displayName="YAxis";var n_={exports:{}},i_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function $me(){if(eD)return i_;eD=1;var e=dg();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,n=e.useRef,i=e.useEffect,s=e.useMemo,o=e.useDebugValue;return i_.useSyncExternalStoreWithSelector=function(c,d,h,m,x){var p=n(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=s(function(){function b(P){if(!k){if(k=!0,N=P,P=m(P),x!==void 0&&y.hasValue){var O=y.value;if(x(O,P))return _=O}return _=P}if(O=_,r(N,P))return O;var L=m(P);return x!==void 0&&x(O,L)?(N=P,O):(N=P,_=L)}var k=!1,N,_,T=h===void 0?null:h;return[function(){return b(d())},T===null?void 0:function(){return b(T())}]},[d,h,m,x]);var v=a(c,p[0],p[1]);return i(function(){y.hasValue=!0,y.value=v},[v]),o(v),v},i_}var tD;function Hme(){return tD||(tD=1,n_.exports=$me()),n_.exports}Hme();function Wme(e){e()}function Vme(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Wme(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){!a||e===null||(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}var rD={notify(){},get:()=>[]};function Kme(e,t){let r,a=rD,n=0,i=!1;function s(v){h();const b=a.subscribe(v);let k=!1;return()=>{k||(k=!0,b(),m())}}function o(){a.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return i}function h(){n++,r||(r=e.subscribe(c),a=Vme())}function m(){n--,r&&n===0&&(r(),r=void 0,a.clear(),a=rD)}function x(){i||(i=!0,h())}function p(){i&&(i=!1,m())}const y={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:x,tryUnsubscribe:p,getListeners:()=>a};return y}var Gme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yme=Gme(),Xme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qme=Xme(),Jme=()=>Yme||Qme?j.useLayoutEffect:j.useEffect,Zme=Jme(),s_=Symbol.for("react-redux-context"),o_=typeof globalThis<"u"?globalThis:{};function epe(){if(!j.createContext)return{};const e=o_[s_]??(o_[s_]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var tpe=epe();function rpe(e){const{children:t,context:r,serverState:a,store:n}=e,i=j.useMemo(()=>{const c=Kme(n);return{store:n,subscription:c,getServerState:a?()=>a:void 0}},[n,a]),s=j.useMemo(()=>n.getState(),[n]);Zme(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||tpe;return j.createElement(o.Provider,{value:i},t)}var ape=rpe,npe=(e,t)=>t,Aj=Ye([npe,Jr,TB,Fi,xU,td,Yle,Mi],ece),Tj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},wz=Kl("mouseClick"),kz=J1();kz.startListening({actionCreator:wz,effect:(e,t)=>{var r=e.payload,a=Aj(t.getState(),Tj(r));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(nle({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var NS=Kl("mouseMove"),_z=J1();_z.startListening({actionCreator:NS,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=J6(a,a.tooltip.settings.shared),i=Aj(a,Tj(r));n==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(lU({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(oU()))}});var aD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Sz=fl({name:"rootProps",initialState:aD,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:aD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),ipe=Sz.reducer,{updateOptions:spe}=Sz.actions,Nz=fl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ope}=Nz.actions,lpe=Nz.reducer,jz=Kl("keyDown"),Az=Kl("focus"),Ej=J1();Ej.startListening({actionCreator:jz,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(Z6(n,Eg(r))),o=td(r);if(i==="Enter"){var c=f2(r,"axis","hover",String(n.index));t.dispatch(pS({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=Yoe(r),h=d==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,x=s+m*h;if(!(o==null||x>=o.length||x<0)){var p=f2(r,"axis","hover",String(x));t.dispatch(pS({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Ej.startListening({actionCreator:Az,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&n.index==null){var i="0",s=f2(r,"axis","hover",String(i));t.dispatch(pS({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Ll=Kl("externalEvent"),Tz=J1();Tz.startListening({actionCreator:Ll,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),a={activeCoordinate:Ule(r),activeDataKey:wU(r),activeIndex:uf(r),activeLabel:bU(r),activeTooltipIndex:uf(r),isTooltipActive:zle(r)};e.payload.handler(a,e.payload.reactEvent)}}});var cpe=Ye([Tg],e=>e.tooltipItemPayloads),upe=Ye([cpe,fv,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(o=>o.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var s=t(i,r);return s}}}),Ez=Kl("touchMove"),Cz=J1();Cz.startListening({actionCreator:Ez,effect:(e,t)=>{var r=e.payload,a=t.getState(),n=J6(a,a.tooltip.settings.shared);if(n==="axis"){var i=Aj(a,Tj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(lU({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(oF),h=(s=c.getAttribute(lF))!==null&&s!==void 0?s:void 0,m=upe(t.getState(),d,h);t.dispatch(sU({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}});var dpe=CI({brush:jfe,cartesianAxis:sde,chartData:gce,errorBars:Nde,graphicalItems:N0e,layout:Ete,legend:Lre,options:dce,polarAxis:Bue,polarOptions:lpe,referenceElements:Dfe,rootProps:ipe,tooltip:ile}),fpe=function(t){return ete({reducer:dpe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([kz.middleware,_z.middleware,Ej.middleware,Tz.middleware,Cz.middleware]),enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(qI({type:"raf"}))},devTools:Q0.devToolsEnabled})};function Oz(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,n=gs(),i=j.useRef(null);if(n)return r;i.current==null&&(i.current=fpe(t));var s=$N;return j.createElement(ape,{context:s,store:i.current},r)}function Pz(e){var{layout:t,margin:r}=e,a=_n(),n=gs();return j.useEffect(()=>{n||(a(jte(t)),a(Nte(r)))},[a,n,t,r]),null}function Dz(e){var t=_n();return j.useEffect(()=>{t(spe(e))},[t,e]),null}var hpe=["children"];function mpe(e,t){if(e==null)return{};var r,a,n=ppe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ppe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},k2.apply(null,arguments)}var gpe={width:"100%",height:"100%",display:"block"},xpe=j.forwardRef((e,t)=>{var r=QN(),a=JN(),n=gF();if(!rg(r)||!rg(a))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,d,h;return typeof s.tabIndex=="number"?d=s.tabIndex:d=n?0:void 0,typeof s.role=="string"?h=s.role:h=n?"application":void 0,j.createElement(ON,k2({},s,{title:o,desc:c,role:h,tabIndex:d,width:r,height:a,style:gpe,ref:t}),i)}),vpe=e=>{var{children:t}=e,r=Yt(lw);if(!r)return null;var{width:a,height:n,y:i,x:s}=r;return j.createElement(ON,{width:a,height:n,x:s,y:i},t)},nD=j.forwardRef((e,t)=>{var{children:r}=e,a=mpe(e,hpe),n=gs();return n?j.createElement(vpe,null,r):j.createElement(xpe,k2({ref:t},a),r)});function ype(){var e=_n(),[t,r]=j.useState(null),a=Yt(are);return j.useEffect(()=>{if(t!=null){var n=t.getBoundingClientRect(),i=n.width/t.offsetWidth;vi(i)&&i!==a&&e(Tte(i))}},[t,e,a]),r}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(a){wpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wpe(e,t,r){return(t=kpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kpe(e){var t=_pe(e,"string");return typeof t=="symbol"?t:t+""}function _pe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yh.apply(null,arguments)}var Spe=()=>(Nce(),null);function _2(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Npe=j.forwardRef((e,t)=>{var r,a,n=j.useRef(null),[i,s]=j.useState({containerWidth:_2((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_2((a=e.style)===null||a===void 0?void 0:a.height)}),o=j.useCallback((d,h)=>{s(m=>{var x=Math.round(d),p=Math.round(h);return m.containerWidth===x&&m.containerHeight===p?m:{containerWidth:x,containerHeight:p}})},[]),c=j.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();o(h,m);var x=y=>{var{width:v,height:b}=y[0].contentRect;o(v,b)},p=new ResizeObserver(x);p.observe(d),n.current=p}},[t,o]);return j.useEffect(()=>()=>{var d=n.current;d!=null&&d.disconnect()},[o]),j.createElement(j.Fragment,null,j.createElement(uw,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Yh({ref:c},e)))}),jpe=j.forwardRef((e,t)=>{var{width:r,height:a}=e,[n,i]=j.useState({containerWidth:_2(r),containerHeight:_2(a)}),s=j.useCallback((c,d)=>{i(h=>{var m=Math.round(c),x=Math.round(d);return h.containerWidth===m&&h.containerHeight===x?h:{containerWidth:m,containerHeight:x}})},[]),o=j.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[t,s]);return j.createElement(j.Fragment,null,j.createElement(uw,{width:n.containerWidth,height:n.containerHeight}),j.createElement("div",Yh({ref:o},e)))}),Ape=j.forwardRef((e,t)=>{var{width:r,height:a}=e;return j.createElement(j.Fragment,null,j.createElement(uw,{width:r,height:a}),j.createElement("div",Yh({ref:t},e)))}),Tpe=j.forwardRef((e,t)=>{var{width:r,height:a}=e;return U0(r)||U0(a)?j.createElement(jpe,Yh({},e,{ref:t})):j.createElement(Ape,Yh({},e,{ref:t}))});function Epe(e){return e===!0?Npe:Tpe}var Cpe=j.forwardRef((e,t)=>{var{children:r,className:a,height:n,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:x,onTouchEnd:p,onTouchMove:y,onTouchStart:v,style:b,width:k,responsive:N,dispatchTouchEvents:_=!0}=e,T=j.useRef(null),P=_n(),[O,L]=j.useState(null),[U,I]=j.useState(null),K=ype(),D=XN(),F=(D==null?void 0:D.width)>0?D.width:k,H=(D==null?void 0:D.height)>0?D.height:n,Y=j.useCallback(oe=>{K(oe),typeof t=="function"&&t(oe),L(oe),I(oe),oe!=null&&(T.current=oe)},[K,t,L,I]),ne=j.useCallback(oe=>{P(wz(oe)),P(Ll({handler:i,reactEvent:oe}))},[P,i]),X=j.useCallback(oe=>{P(NS(oe)),P(Ll({handler:d,reactEvent:oe}))},[P,d]),ae=j.useCallback(oe=>{P(oU()),P(Ll({handler:h,reactEvent:oe}))},[P,h]),ue=j.useCallback(oe=>{P(NS(oe)),P(Ll({handler:m,reactEvent:oe}))},[P,m]),se=j.useCallback(()=>{P(Az())},[P]),be=j.useCallback(oe=>{P(jz(oe.key))},[P]),J=j.useCallback(oe=>{P(Ll({handler:s,reactEvent:oe}))},[P,s]),M=j.useCallback(oe=>{P(Ll({handler:o,reactEvent:oe}))},[P,o]),z=j.useCallback(oe=>{P(Ll({handler:c,reactEvent:oe}))},[P,c]),q=j.useCallback(oe=>{P(Ll({handler:x,reactEvent:oe}))},[P,x]),G=j.useCallback(oe=>{P(Ll({handler:v,reactEvent:oe}))},[P,v]),re=j.useCallback(oe=>{_&&P(Ez(oe)),P(Ll({handler:y,reactEvent:oe}))},[P,_,y]),he=j.useCallback(oe=>{P(Ll({handler:p,reactEvent:oe}))},[P,p]),je=Epe(N);return j.createElement(TU.Provider,{value:O},j.createElement(KR.Provider,{value:U},j.createElement(je,{width:F??(b==null?void 0:b.width),height:H??(b==null?void 0:b.height),className:Br("recharts-wrapper",a),style:bpe({position:"relative",cursor:"default",width:F,height:H},b),onClick:ne,onContextMenu:J,onDoubleClick:M,onFocus:se,onKeyDown:be,onMouseDown:z,onMouseEnter:X,onMouseLeave:ae,onMouseMove:ue,onMouseUp:q,onTouchEnd:he,onTouchMove:re,onTouchStart:G,ref:Y},j.createElement(Spe,null),r)))}),Ope=["width","height","responsive","children","className","style","compact","title","desc"];function Ppe(e,t){if(e==null)return{};var r,a,n=Dpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Dpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Lz=j.forwardRef((e,t)=>{var{width:r,height:a,responsive:n,children:i,className:s,style:o,compact:c,title:d,desc:h}=e,m=Ppe(e,Ope),x=no(m);return c?j.createElement(j.Fragment,null,j.createElement(uw,{width:r,height:a}),j.createElement(nD,{otherAttributes:x,title:d,desc:h},i)):j.createElement(Cpe,{className:s,style:o,width:r,height:a,responsive:n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(nD,{otherAttributes:x,title:d,desc:h,ref:t},j.createElement(Mfe,null,i)))});function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jS.apply(null,arguments)}var Lpe={top:5,right:5,bottom:5,left:5},Mpe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lpe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Fw=j.forwardRef(function(t,r){var a,n=Ri(t.categoricalChartProps,Mpe),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=t,h={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return j.createElement(Oz,{preloadedState:{options:h},reduxStoreName:(a=d.id)!==null&&a!==void 0?a:i},j.createElement(tz,{chartData:d.data}),j.createElement(Pz,{layout:n.layout,margin:n.margin}),j.createElement(Dz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),j.createElement(Lz,jS({},n,{ref:r})))}),Rpe=["axis"],Cj=j.forwardRef((e,t)=>j.createElement(Fw,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rpe,tooltipPayloadSearcher:mv,categoricalChartProps:e,ref:t})),Ipe=["axis","item"],AS=j.forwardRef((e,t)=>j.createElement(Fw,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ipe,tooltipPayloadSearcher:mv,categoricalChartProps:e,ref:t}));function Fpe(e){var t=_n();return j.useEffect(()=>{t(ope(e))},[t,e]),null}var Bpe=["layout"];function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},TS.apply(null,arguments)}function Upe(e,t){if(e==null)return{};var r,a,n=zpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zpe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var qpe={top:5,right:5,bottom:5,left:5},$pe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qpe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Hpe=j.forwardRef(function(t,r){var a,n=Ri(t.categoricalChartProps,$pe),{layout:i}=n,s=Upe(n,Bpe),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,m={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(Oz,{preloadedState:{options:m},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:o},j.createElement(tz,{chartData:n.data}),j.createElement(Pz,{layout:i,margin:n.margin}),j.createElement(Dz,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),j.createElement(Fpe,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),j.createElement(Lz,TS({},s,{ref:r})))}),Wpe=["item"],Vpe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mz=j.forwardRef((e,t)=>{var r=Ri(e,Vpe);return j.createElement(Hpe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wpe,tooltipPayloadSearcher:mv,categoricalChartProps:r,ref:t})}),Kpe=["axis"],Gpe=j.forwardRef((e,t)=>j.createElement(Fw,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Kpe,tooltipPayloadSearcher:mv,categoricalChartProps:e,ref:t})),Ype=["axis"],Xpe=j.forwardRef((e,t)=>j.createElement(Fw,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ype,tooltipPayloadSearcher:mv,categoricalChartProps:e,ref:t}));const Qpe=()=>{var T,P;const{sales:e,parts:t,cashTransactions:r,customers:a,paymentSources:n,employees:i,loans:s,currentBranchId:o}=yi(),[c,d]=j.useState(e.length===0),h=j.useMemo(()=>new Date().toISOString().slice(0,10),[]),m=()=>{OJ(),window.location.reload()},x=()=>{confirm("Bn c chc mun xa ton b d liu demo khng?")&&(PJ(),window.location.reload())},p=j.useMemo(()=>{const O=e.filter(K=>K.date.slice(0,10)===h),L=O.reduce((K,D)=>K+D.total,0),U=O.reduce((K,D)=>{const F=D.items.reduce((H,Y)=>H+(Y.costPrice||0)*Y.quantity,0);return K+(D.total-F)},0),I=new Set(O.map(K=>K.customer.phone||K.customer.name)).size;return{revenue:L,profit:U,customerCount:I,orderCount:O.length}},[e,h]),y=j.useMemo(()=>{const O=[];for(let L=6;L>=0;L--){const U=new Date;U.setDate(U.getDate()-L);const I=U.toISOString().slice(0,10),D=e.filter(H=>H.date.slice(0,10)===I).reduce((H,Y)=>H+Y.total,0),F=r.filter(H=>H.type==="expense"&&H.date.slice(0,10)===I).reduce((H,Y)=>H+Y.amount,0);O.push({date:U.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),revenue:D,expense:F,profit:D-F})}return O},[e,r]),v=j.useMemo(()=>{const O=r.filter(U=>U.type==="income").reduce((U,I)=>U+I.amount,0),L=r.filter(U=>U.type==="expense").reduce((U,I)=>U+I.amount,0);return[{name:"Thu",value:O,color:"#10b981"},{name:"Chi",value:L,color:"#ef4444"}]},[r]),b=j.useMemo(()=>{const O={};return e.forEach(L=>{L.items.forEach(U=>{O[U.partId]||(O[U.partId]={name:U.partName,quantity:0}),O[U.partId].quantity+=U.quantity})}),Object.values(O).sort((L,U)=>U.quantity-L.quantity).slice(0,5)},[e]),k=((T=n.find(O=>O.id==="cash"))==null?void 0:T.balance[o])||0,N=((P=n.find(O=>O.id==="bank"))==null?void 0:P.balance[o])||0,_=j.useMemo(()=>{const O=[],L=t.filter(I=>(I.stock[o]||0)<10);L.length>0&&O.push({type:"Tn kho thp",message:`${L.length} sn phm sp ht hng`,color:"text-orange-600 dark:text-orange-400"});const U=s.filter(I=>{const K=Math.ceil((new Date(I.endDate).getTime()-Date.now())/864e5);return K<=30&&K>0&&I.status==="active"});return U.length>0&&O.push({type:"N n hn",message:`${U.length} khon vay sp n hn`,color:"text-red-600 dark:text-red-400"}),k+N<1e7&&O.push({type:"S d thp",message:"S d ti khon di 10 triu",color:"text-amber-600 dark:text-amber-400"}),O},[t,s,k,N,o]);return u.jsxs("div",{className:"space-y-6",children:[c&&u.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-700 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-6 shadow-lg",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold text-blue-900 dark:text-blue-100 mb-2",children:" Cha c d liu"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:"H thng cha c d liu. Bn c th ti d liu mu  khm ph cc tnh nng hoc bt u nhp d liu thc t."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:m,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",children:[u.jsx(MR,{className:"w-5 h-5"})," Ti d liu mu"]}),u.jsx("button",{onClick:()=>d(!1),className:"px-6 py-3 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 border-2 border-slate-300 dark:border-slate-600 rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-600 transition-all duration-200",children:"B qua"})]})]}),u.jsx("div",{className:"hidden md:block text-6xl",children:u.jsx(Lb,{className:"w-16 h-16 text-blue-600 dark:text-blue-400"})})]})}),e.length>0&&u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:x,className:"px-4 py-2 text-sm bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-300 dark:border-red-700 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors inline-flex items-center gap-2",children:[u.jsx(BR,{className:"w-4 h-4"})," Xa tt c d liu"]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Wy,{title:"Doanh thu hm nay",value:Be(p.revenue),subtitle:`${p.orderCount} n hng`,colorKey:"blue",icon:u.jsx(fh,{className:"w-5 h-5"})}),u.jsx(Wy,{title:"Li nhun hm nay",value:Be(p.profit),subtitle:`${p.customerCount} khch hng`,colorKey:"emerald",icon:u.jsx(Mb,{className:"w-5 h-5"})}),u.jsx(Wy,{title:"Tin mt",value:Be(k),subtitle:"Qu tin mt",colorKey:"amber",icon:u.jsx($x,{className:"w-5 h-5"})}),u.jsx(Wy,{title:"Ngn hng",value:Be(N),subtitle:"Ti khon ngn hng",colorKey:"violet",icon:u.jsx(jN,{className:"w-5 h-5"})})]}),_.length>0&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[u.jsx(UR,{className:"w-5 h-5 text-amber-500"})," Cnh bo"]}),u.jsx("div",{className:"space-y-2",children:_.map((O,L)=>u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[O.type,":"]})," ",u.jsx("span",{className:O.color,children:O.message})]}),u.jsx("button",{className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 text-sm font-medium",children:"Xem chi tit "})]},L))})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Doanh thu & Chi ph 7 ngy gn y"}),u.jsx(bu,{width:"100%",height:250,children:u.jsxs(Cj,{data:y,children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:O=>Be(O)}),u.jsx(Hh,{}),u.jsx(cf,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,name:"Doanh thu"}),u.jsx(cf,{type:"monotone",dataKey:"expense",stroke:"#ef4444",strokeWidth:2,name:"Chi ph"}),u.jsx(cf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:2,name:"Li nhun"})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"T l Thu/Chi"}),u.jsx(bu,{width:"100%",height:250,children:u.jsxs(Mz,{children:[u.jsx(yj,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:({name:O,percent:L})=>`${O}: ${(L*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:v.map((O,L)=>u.jsx(Cg,{fill:O.color},`cell-${L}`))}),u.jsx(ku,{formatter:O=>Be(O)})]})}),u.jsxs("div",{className:"mt-4 flex justify-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),u.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Thu: ",Be(v[0].value)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),u.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Chi: ",Be(v[1].value)]})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Top 5 sn phm bn chy"}),u.jsx(bu,{width:"100%",height:250,children:u.jsxs(AS,{data:b,children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"name",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"}}),u.jsx(Ch,{dataKey:"quantity",fill:"#3b82f6",name:"S lng bn"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(TJ,{className:"w-5 h-5 text-yellow-500"}),"Top 10 Khch hng VIP"]}),u.jsx("div",{className:"space-y-3",children:j.useMemo(()=>{const O={};return e.forEach(L=>{const U=L.customer.phone||L.customer.name;O[U]||(O[U]={name:L.customer.name,phone:L.customer.phone,total:0}),O[U].total+=L.total}),Object.values(O).sort((L,U)=>U.total-L.total).slice(0,10).map((L,U)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white font-bold text-sm",children:U+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:L.name}),L.phone&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:L.phone})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:Be(L.total)}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tng chi tiu"})]})]},U))},[e])})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(Lb,{className:"w-5 h-5 text-blue-500"}),"So snh 3 thng gn y"]}),u.jsx(bu,{width:"100%",height:300,children:u.jsxs(AS,{data:j.useMemo(()=>{const O=[],L=new Date;for(let U=2;U>=0;U--){const I=new Date(L.getFullYear(),L.getMonth()-U,1),K=I.toISOString().slice(0,7),D=I.toLocaleDateString("vi-VN",{month:"short",year:"numeric"}),F=e.filter(ne=>ne.date.startsWith(K)),H=F.reduce((ne,X)=>ne+X.total,0),Y=F.length;O.push({month:D,revenue:H,orders:Y})}return O},[e]),children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"month",stroke:"#94a3b8"}),u.jsx(_u,{yAxisId:"left",stroke:"#3b82f6"}),u.jsx(_u,{yAxisId:"right",orientation:"right",stroke:"#10b981"}),u.jsx(ku,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:(O,L)=>L==="revenue"?Be(O):O}),u.jsx(Hh,{}),u.jsx(Ch,{yAxisId:"left",dataKey:"revenue",fill:"#3b82f6",name:"Doanh thu"}),u.jsx(Ch,{yAxisId:"right",dataKey:"orders",fill:"#10b981",name:"S n"})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng khch hng"}),u.jsx(l1,{className:"w-5 h-5 text-slate-500"})]}),u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:a.length}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[a.filter(O=>O.segment==="VIP").length," VIP"]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng nhn vin"}),u.jsx(Db,{className:"w-5 h-5 text-slate-500"})]}),u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:i.filter(O=>O.status==="active").length}),u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"ang lm vic"})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Tng sn phm"}),u.jsx(Hl,{className:"w-5 h-5 text-slate-500"})]}),u.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:t.reduce((O,L)=>O+(L.stock[o]||0),0)}),u.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[t.length," loi sn phm"]})]})]})]})},Jpe={blue:{card:"bg-white dark:bg-slate-800 border border-blue-100 dark:border-blue-900/40",icon:"bg-blue-500/15 text-blue-600 dark:text-blue-400",accent:"text-blue-600 dark:text-blue-400"},emerald:{card:"bg-white dark:bg-slate-800 border border-emerald-100 dark:border-emerald-900/40",icon:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-400",accent:"text-emerald-600 dark:text-emerald-400"},amber:{card:"bg-white dark:bg-slate-800 border border-amber-100 dark:border-amber-900/40",icon:"bg-amber-500/15 text-amber-600 dark:text-amber-400",accent:"text-amber-600 dark:text-amber-400"},violet:{card:"bg-white dark:bg-slate-800 border border-violet-100 dark:border-violet-900/40",icon:"bg-violet-500/15 text-violet-600 dark:text-violet-400",accent:"text-violet-600 dark:text-violet-400"}},Wy=({title:e,value:t,subtitle:r,colorKey:a,icon:n})=>{const i=Jpe[a];return u.jsxs("div",{className:`${i.card} rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:e}),u.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t})]}),u.jsx("div",{className:`w-10 h-10 rounded-lg ${i.icon} flex items-center justify-center`,children:n})]}),u.jsx("p",{className:`text-sm ${i.accent}`,children:r})]})},Zpe={"sale.delete":["owner","manager"],"part.update_price":["owner","manager"],"settings.update":["owner","manager"],"finance.view":["owner","manager"],"payroll.view":["owner","manager"],"analytics.view":["owner","manager"],"reports.view":["owner","manager","staff"],"employees.view":["owner","manager"],"debt.view":["owner","manager"]};function Rz(e,t){return e?Zpe[t].includes(e):!1}const Bw="parts";async function ege(){try{const{data:e,error:t}=await Pa.from(Bw).select("*").order("name");return t?Ar({code:"supabase",message:"Khng th ti danh sch ph tng",cause:t}):Is(e||[])}catch(e){return Ar({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function tge(e){try{if(!e.name)return Ar({code:"validation",message:"Thiu tn ph tng"});const t={name:e.name,sku:e.sku||`SKU-${Date.now()}`,stock:e.stock||{CN1:0},retailPrice:e.retailPrice||{CN1:0},wholesalePrice:e.wholesalePrice||{CN1:0},category:e.category,description:e.description,warrantyPeriod:e.warrantyPeriod,costPrice:e.costPrice||{CN1:0},vatRate:e.vatRate??.1},{data:r,error:a}=await Pa.from(Bw).insert([t]).select().single();return a||!r?Ar({code:"supabase",message:"To ph tng tht bi",cause:a}):Is(r)}catch(t){return Ar({code:"network",message:"Li kt ni khi to ph tng",cause:t})}}async function rge(e,t){try{const{data:r,error:a}=await Pa.from(Bw).update(t).eq("id",e).select().single();return a||!r?Ar({code:"supabase",message:"Cp nht ph tng tht bi",cause:a}):Is(r)}catch(r){return Ar({code:"network",message:"Li kt ni khi cp nht ph tng",cause:r})}}async function age(e){try{const{error:t}=await Pa.from(Bw).delete().eq("id",e);return t?Ar({code:"supabase",message:"Xa ph tng tht bi",cause:t}):Is({id:e})}catch(t){return Ar({code:"network",message:"Li kt ni khi xa ph tng",cause:t})}}const Oj=()=>pg({queryKey:["partsRepo"],queryFn:async()=>{const e=await ege();if(!e.ok)throw e.error;return e.data}}),nge=()=>{const e=so();return Du({mutationFn:tge,onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),Nt.success(" to ph tng")},onError:t=>Nt.error(Co(t))})},Iz=()=>{const e=so();return Du({mutationFn:({id:t,updates:r})=>rge(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),Nt.success(" cp nht ph tng")},onError:t=>Nt.error(Co(t))})},ige=()=>{const e=so();return Du({mutationFn:({id:t})=>age(t),onSuccess:()=>{e.invalidateQueries({queryKey:["partsRepo"]}),Nt.success(" xa ph tng")},onError:t=>Nt.error(Co(t))})},Fz="sales";async function sge(){try{const{data:e,error:t}=await Pa.from(Fz).select("*").order("date",{ascending:!1});return t?Ar({code:"supabase",message:"Khng th ti danh sch ha n",cause:t}):Is(e||[])}catch(e){return Ar({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function oge(e){try{if(!e.items||!e.items.length)return Ar({code:"validation",message:"Thiu danh sch hng ha"});if(!e.total&&e.total!==0)return Ar({code:"validation",message:"Thiu tng tin"});if(!e.paymentMethod)return Ar({code:"validation",message:"Thiu phng thc thanh ton"});const t={id:e.id,date:e.date||new Date().toISOString(),items:e.items,subtotal:e.subtotal??e.items.reduce((n,i)=>n+i.sellingPrice*i.quantity,0),discount:e.discount??0,total:e.total,customer:e.customer||{name:"Khch l"},paymentMethod:e.paymentMethod,userId:e.userId||"unknown",userName:e.userName||"Unknown",branchId:e.branchId||"CN1",cashTransactionId:e.cashTransactionId},{data:r,error:a}=await Pa.from(Fz).insert([t]).select().single();return a||!r?Ar({code:"supabase",message:"To ha n tht bi",cause:a}):Is(r)}catch(t){return Ar({code:"network",message:"Li kt ni khi to ha n",cause:t})}}const Bz=()=>pg({queryKey:["salesRepo"],queryFn:async()=>{const e=await sge();if(!e.ok)throw e.error;return e.data}}),lge=()=>{const e=so();return Du({mutationFn:t=>oge(t),onSuccess:()=>{e.invalidateQueries({queryKey:["salesRepo"]}),Nt.success(" to ha n")},onError:t=>Nt.error(Co(t))})},cge="inventory_transactions";async function uge(e){try{if(!e.partId||!e.partName)return Ar({code:"validation",message:"Thiu thng tin ph tng"});if(!e.quantity||e.quantity<=0)return Ar({code:"validation",message:"S lng phi > 0"});if(!e.branchId)return Ar({code:"validation",message:"Thiu chi nhnh"});if(!e.type)return Ar({code:"validation",message:"Thiu loi giao dch kho"});const t=e.unitPrice??0,r=e.totalPrice??t*e.quantity,a={type:e.type,partId:e.partId,partName:e.partName,quantity:e.quantity,date:e.date||new Date().toISOString(),unitPrice:t||null,totalPrice:r,branchId:e.branchId,notes:e.notes,saleId:e.saleId,workOrderId:e.workOrderId},{data:n,error:i}=await Pa.from(cge).insert([a]).select().single();return i||!n?Ar({code:"supabase",message:"Ghi lch s kho tht bi",cause:i}):Is(n)}catch(t){return Ar({code:"network",message:"Li kt ni khi ghi lch s kho",cause:t})}}const Uz=()=>{const e=so();return Du({mutationFn:t=>uge(t),onSuccess:()=>{e.invalidateQueries({queryKey:["inventoryTxRepo"]}),Nt.success(" ghi lch s kho")},onError:t=>Nt.error(Co(t))})};function sD(e){const t=document.getElementById(e);if(!t)return;const r=window.open("","_blank","width=800,height=600");r&&(r.document.write(`<!doctype html><html><head><title>Print</title>
  <style>
    body{font-family: Arial, Helvetica, sans-serif;}
    @media print{ .no-print{ display:none } }
  </style>
  </head><body>${t.outerHTML}</body></html>`),r.document.close(),r.focus(),r.print(),r.close())}const dge=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0z"})}),Xh=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),fge=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),zz=e=>u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,...e,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),hge=e=>pg({queryKey:["cashTxRepo",e],queryFn:async()=>{const t=await WQ(e);if(!t.ok)throw t.error;return t.data}}),Pj=()=>{const e=so();return Du({mutationFn:t=>E3(t),onSuccess:()=>{e.invalidateQueries({queryKey:["cashTxRepo"]}),Nt.success(" ghi thu/chi")},onError:t=>Nt.error(Co(t))})},Dj=()=>{const e=so();return Du({mutationFn:({id:t,branchId:r,delta:a})=>C3(t,r,a),onSuccess:()=>{e.invalidateQueries({queryKey:["paymentSourcesRepo"]})},onError:t=>Nt.error(Co(t))})},mge=({isOpen:e,onClose:t,sales:r,currentBranchId:a,onPrintReceipt:n,onEditSale:i,onDeleteSale:s})=>{const[o,c]=j.useState("today"),[d,h]=j.useState(""),[m,x]=j.useState("all"),[p,y]=j.useState("newest"),[v,b]=j.useState(Qa(new Date,!0)),[k,N]=j.useState(Qa(new Date,!0)),_=j.useMemo(()=>{let P=r.filter(I=>I.branchId===a);const O=new Date,L=new Date(O.getFullYear(),O.getMonth(),O.getDate()),U=new Date(O.getFullYear(),O.getMonth(),O.getDate(),23,59,59);switch(o){case"today":P=P.filter(X=>{const ae=new Date(X.date);return ae>=L&&ae<=U});break;case"yesterday":const I=new Date(O);I.setDate(I.getDate()-1);const K=new Date(I.getFullYear(),I.getMonth(),I.getDate()),D=new Date(I.getFullYear(),I.getMonth(),I.getDate(),23,59,59);P=P.filter(X=>{const ae=new Date(X.date);return ae>=K&&ae<=D});break;case"7days":const F=new Date(O);F.setDate(F.getDate()-7),P=P.filter(X=>new Date(X.date)>=F);break;case"30days":const H=new Date(O);H.setDate(H.getDate()-30),P=P.filter(X=>new Date(X.date)>=H);break;case"custom":const Y=new Date(v),ne=new Date(k+"T23:59:59");P=P.filter(X=>{const ae=new Date(X.date);return ae>=Y&&ae<=ne});break}return d&&(P=P.filter(I=>I.id.toLowerCase().includes(d.toLowerCase())||I.customer.name.toLowerCase().includes(d.toLowerCase()))),P.sort((I,K)=>{switch(p){case"newest":return new Date(K.date).getTime()-new Date(I.date).getTime();case"oldest":return new Date(I.date).getTime()-new Date(K.date).getTime();default:return 0}}),P},[r,a,o,d,m,p,v,k]),T=j.useMemo(()=>{const P=_.reduce((I,K)=>I+K.total,0),O=_.reduce((I,K)=>I+(K.total-K.discount),0),L=P>0?O/P*100:0,U=_.length;return{revenue:P,profit:O,profitMargin:L,orderCount:U}},[_]);return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Lch s ha n"}),u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"today",label:"Hm nay"},{key:"yesterday",label:"Hm qua"},{key:"7days",label:"7 ngy"},{key:"30days",label:"30 ngy"},{key:"custom",label:"Ty chnh"}].map(P=>u.jsx("button",{onClick:()=>c(P.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===P.key?"bg-blue-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"}`,children:P.label},P.key))}),o==="custom"&&u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsx("input",{type:"date",value:v,onChange:P=>b(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u.jsx("span",{className:"text-slate-500",children:"n"}),u.jsx("input",{type:"date",value:k,onChange:P=>N(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx("div",{className:"flex-1 min-w-64",children:u.jsx("input",{type:"text",placeholder:"Tm m ha n hoc tn khch hng",value:d,onChange:P=>h(P.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsxs("select",{value:m,onChange:P=>x(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"all",children:"Tt c"}),u.jsx("option",{value:"completed",children:"Hon thnh"}),u.jsx("option",{value:"cancelled",children:" hy"})]}),u.jsxs("select",{value:p,onChange:P=>y(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"newest",children:"Mi nht"}),u.jsx("option",{value:"oldest",children:"C nht"})]})]})]}),u.jsxs("div",{className:"p-6 grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:"Doanh thu"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:Be(T.revenue)})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Li nhun gp"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Be(T.profit)})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium",children:"GM%"}),u.jsxs("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:[T.profitMargin.toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium",children:"S ha n"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:T.orderCount})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:_.length===0?u.jsx("div",{className:"text-center py-12 text-slate-400",children:"Khng c ha n no ph hp vi b lc hin ti."}):u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"M"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"THI GIAN"}),u.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"TNG"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"SL HNG"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"KHCH HNG"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"THANH TON"}),u.jsx("th",{className:"text-center px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"THAO TC"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:_.map(P=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:P.id})}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:Qa(new Date(P.date),!1)}),u.jsx("div",{className:"text-xs text-slate-500",children:new Date(P.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:Be(P.total)}),P.discount>0&&u.jsxs("div",{className:"text-xs text-slate-500",children:["Gim: ",Be(P.discount)]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:P.items.reduce((O,L)=>O+L.quantity,0)})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:P.customer.name}),P.customer.phone&&u.jsx("div",{className:"text-xs text-slate-500",children:P.customer.phone})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P.paymentMethod==="cash"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}`,children:P.paymentMethod==="cash"?"Tin mt":"Chuyn khon"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{onClick:()=>n(P),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"In li ha n",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})})}),u.jsx("button",{onClick:()=>i(P),className:"p-2 text-amber-600 hover:bg-amber-50 dark:text-amber-400 dark:hover:bg-amber-900/20 rounded-lg transition-colors",title:"Chnh sa ha n",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>s(P.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Xa ha n",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},P.id))})]})}),u.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[u.jsx("div",{className:"text-sm text-slate-500",children:"Trang 1 / 1"}),u.jsxs("div",{className:"text-sm text-slate-500",children:["Hin th ",_.length," ha n"]})]})]})}):null},pge=()=>{const{customers:e,upsertCustomer:t,cartItems:r,setCartItems:a,clearCart:n,deleteSale:i,currentBranchId:s,finalizeSale:o,setCashTransactions:c,setPaymentSources:d}=yi(),{data:h=[],isLoading:m,error:x}=Oj(),{data:p=[],isLoading:y,error:v}=Bz(),{mutateAsync:b}=lge(),{mutateAsync:k}=Iz(),{mutateAsync:N}=Uz(),{mutateAsync:_}=Pj(),{mutateAsync:T}=Dj(),[P,O]=j.useState(""),[L,U]=j.useState(""),[I,K]=j.useState(null),[D,F]=j.useState(!1),[H,Y]=j.useState(0),[ne,X]=j.useState("amount"),[ae,ue]=j.useState(0),[se,be]=j.useState(!1),[J,M]=j.useState(!1),[z,q]=j.useState({name:"",phone:"",vehicleModel:"",licensePlate:""}),[G,re]=j.useState(""),[he,je]=j.useState(""),[oe,Ne]=j.useState(""),[Me,Q]=j.useState([]),[Te,Ae]=j.useState(0),[de,Qe]=j.useState(null),[we,Ze]=j.useState(null),[Xe,gt]=j.useState(0),ot=j.useCallback(qe=>{var Rr,Er;const bt=((Rr=qe.retailPrice)==null?void 0:Rr[s])??0,kt=((Er=qe.stock)==null?void 0:Er[s])??0,gr=r.find(Mt=>Mt.partId===qe.id);if(gr){const Mt=gr.quantity+1;if(Mt>kt){Nt.error(`Khng  hng! Tn kho: ${kt}`);return}a(sr=>sr.map(Hr=>Hr.partId===qe.id?{...Hr,quantity:Mt}:Hr))}else{if(kt<1){Nt.error("Sn phm  ht hng!");return}const Mt={partId:qe.id,partName:qe.name,sku:qe.sku,quantity:1,sellingPrice:bt,stockSnapshot:kt,discount:0};a(sr=>[...sr,Mt])}},[r,a,s]),Ct=j.useCallback(qe=>{a(bt=>bt.filter(kt=>kt.partId!==qe))},[a]),Pt=j.useCallback((qe,bt)=>{if(bt<=0){Ct(qe);return}const kt=r.find(gr=>gr.partId===qe);if(kt&&bt>kt.stockSnapshot){Nt.error(`Khng  hng! Tn kho: ${kt.stockSnapshot}`);return}a(gr=>gr.map(Rr=>Rr.partId===qe?{...Rr,quantity:bt}:Rr))},[r,a,Ct]),Dt=j.useMemo(()=>r.reduce((qe,bt)=>qe+bt.sellingPrice*bt.quantity,0),[r]),er=j.useMemo(()=>Math.max(0,Dt-H),[Dt,H]),ar=j.useMemo(()=>Me.reduce((qe,bt)=>qe+bt.sellingPrice*bt.quantity,0),[Me]),$r=j.useMemo(()=>Math.max(0,ar-Te),[ar,Te]),qt=j.useMemo(()=>Me.reduce((qe,bt)=>qe+bt.quantity,0),[Me]),Lt=j.useMemo(()=>m||x?[]:P?h.filter(qe=>qe.name.toLowerCase().includes(P.toLowerCase())||qe.sku.toLowerCase().includes(P.toLowerCase())):h,[h,P,m,x]),vt=j.useMemo(()=>L?e.filter(qe=>{var bt;return qe.name.toLowerCase().includes(L.toLowerCase())||((bt=qe.phone)==null?void 0:bt.includes(L))||!1}).slice(0,10):e.slice(0,10),[e,L]),Tt=()=>{if(!z.name||!z.phone){alert("Vui lng nhp tn v s in thoi");return}if(e.find(kt=>kt.phone===z.phone)){alert("S in thoi ny  tn ti!");return}const bt={id:`CUST-${Date.now()}`,name:z.name,phone:z.phone,vehicleModel:z.vehicleModel,licensePlate:z.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()};t(bt),K(bt),U(bt.name),q({name:"",phone:"",vehicleModel:"",licensePlate:""}),M(!1)},Dr=qe=>{re(qe.id),je(qe.customer.name),Ne(qe.customer.phone||""),Q(qe.items),Ae(qe.discount||0),setTimeout(()=>{sD("last-receipt")},100)},{profile:Ft}=G0(),At=qe=>{if(!Rz(Ft==null?void 0:Ft.role,"sale.delete")){Nt.error("Bn khng c quyn xa ha n");return}if(!confirm("Xc nhn xa ha n ny? Hnh ng ny khng th hon tc."))return;const bt=p.find(kt=>kt.id===qe)||null;i(qe),Nt.success(" xa ha n thnh cng!"),Au((Ft==null?void 0:Ft.id)||null,{action:"sale.delete",tableName:"sales",recordId:qe,oldData:bt,newData:null})},ir=qe=>{if(confirm("M li ha n ny  chnh sa? Gi hng hin ti s b xa.")){if(n(),qe.items.forEach(bt=>{const kt=h.find(gr=>gr.id===bt.partId);if(kt)for(let gr=0;gr<bt.quantity;gr++)ot(kt)}),qe.customer.id){const bt=e.find(kt=>kt.id===qe.customer.id);bt&&(K(bt),U(bt.name))}else je(qe.customer.name),Ne(qe.customer.phone||"");Y(qe.discount||0),be(!1),alert("Ha n  c ti vo gi hng  chnh sa")}},Tr=async()=>{var qe,bt;if(r.length===0){alert("Vui lng thm sn phm vo gi hng");return}if(!de){alert("Vui lng chn phng thc thanh ton");return}if(!we){alert("Vui lng chn hnh thc thanh ton");return}if(we==="partial"&&Xe<=0){alert("Vui lng nhp s tin khch tr");return}try{for(const sr of r){const Hr=h.find(Ui=>Ui.id===sr.partId);if(!Hr){Nt.error(`Khng tm thy sn phm: ${sr.partName}`);return}const en=((qe=Hr.stock)==null?void 0:qe[s])??0;if(sr.quantity>en){Nt.error(`Khng  hng cho ${Hr.name}. Tn kho: ${en}`);return}}const kt=`SALE-${Date.now()}`,gr=r.reduce((sr,Hr)=>sr+Hr.sellingPrice*Hr.quantity,0),Rr=r.reduce((sr,Hr)=>sr+(Hr.discount||0),0),Er=Math.max(0,gr-Rr-H),Mt={id:I==null?void 0:I.id,name:(I==null?void 0:I.name)||he||"Khch l",phone:(I==null?void 0:I.phone)||oe};re(kt),je(Mt.name),Ne(Mt.phone||""),Q([...r]),Ae(H+Rr),!I&&oe&&he&&(e.find(Hr=>Hr.phone===oe)||t({id:`CUST-${Date.now()}`,name:he,phone:oe,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()})),await b({id:kt,date:new Date().toISOString(),items:r,subtotal:gr,discount:H+Rr,total:Er,customer:Mt,paymentMethod:de,userId:"local-user",userName:"Local User",branchId:s}),Au((Ft==null?void 0:Ft.id)||null,{action:"sale.create",tableName:"sales",recordId:kt,oldData:null,newData:{items:r,subtotal:gr,discount:H+Rr,total:Er,customer:Mt,paymentMethod:de,branchId:s}});for(const sr of r){const Hr=h.find(oi=>oi.id===sr.partId);if(!Hr)continue;const en=((bt=Hr.stock)==null?void 0:bt[s])??0,Ui=Math.max(0,en-sr.quantity);try{await k({id:Hr.id,updates:{stock:{...Hr.stock,[s]:Ui}}}),await N({type:"Xut kho",partId:Hr.id,partName:Hr.name,quantity:sr.quantity,date:new Date().toISOString(),unitPrice:sr.sellingPrice,totalPrice:sr.sellingPrice*sr.quantity,branchId:s,notes:"Bn hng",saleId:kt})}catch(oi){console.error("Li cp nht tn kho",Hr.id,oi),Nt.error(`Cp nht tn kho tht bi cho ${Hr.name}`)}}await _({type:"income",amount:Er,branchId:s,paymentSourceId:de,notes:"Thu tin bn hng",category:"sale_income",saleId:kt,recipient:Mt.name}),await T({id:de,branchId:s,delta:Er}),K(null),U(""),Y(0),ue(0),X("amount"),Qe(null),Ze(null),gt(0),n(),setTimeout(()=>{sD("last-receipt")},100)}catch(kt){console.error("Error finalizing sale:",kt),Nt.error("C li khi to ha n. Vui lng th li.")}};return j.useEffect(()=>{const qe=bt=>{bt.target.closest(".customer-dropdown-container")||F(!1)};return document.addEventListener("mousedown",qe),()=>document.removeEventListener("mousedown",qe)},[]),u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[u.jsxs("div",{className:"flex h-screen",children:[u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"text",placeholder:"Tm theo tn sn phm hoc SKU...",value:P,onChange:qe=>O(qe.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500"})}),u.jsxs("button",{onClick:()=>be(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg whitespace-nowrap transition-colors inline-flex items-center gap-2",children:[u.jsx(Lb,{className:"w-4 h-4"}),"Lch s bn hng"]})]})}),u.jsx("div",{className:"flex-1 p-6 overflow-y-auto bg-slate-50 dark:bg-slate-900",children:Lt.length===0?u.jsxs("div",{className:"text-center text-slate-400 mt-20",children:[u.jsx("div",{className:"mb-4 flex items-center justify-center",children:u.jsx(Hl,{className:"w-16 h-16 text-slate-300"})}),u.jsx("div",{className:"text-xl font-medium mb-2",children:P?"Khng tm thy sn phm no":"Cha c sn phm"}),u.jsx("div",{className:"text-sm",children:P?"Hy th mt t kha tm kim khc":"Vui lng thm sn phm vo h thng"})]}):u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:Lt.map(qe=>{var Rr,Er;const bt=((Rr=qe.retailPrice)==null?void 0:Rr[s])??0,kt=((Er=qe.stock)==null?void 0:Er[s])??0,gr=kt<=0;return u.jsx("button",{onClick:()=>!gr&&ot(qe),disabled:gr,className:`group relative p-4 rounded-xl border transition-all duration-200 ${gr?"bg-primary-bg/50 border-primary-border opacity-50 cursor-not-allowed":"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-700 dark:to-slate-800 border-blue-200 dark:border-slate-600 hover:shadow-xl hover:scale-105"}`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("div",{className:"w-20 h-20 bg-orange-100 dark:bg-orange-600/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:u.jsx(Hl,{className:"w-10 h-10 text-orange-500 dark:text-orange-300"})})}),u.jsxs("div",{className:"text-left mb-2 flex-1",children:[u.jsx("h3",{className:"font-semibold text-base text-primary-text line-clamp-2 mb-1",title:qe.name,children:qe.name}),u.jsxs("div",{className:"text-xs text-tertiary-text",children:["SKU: ",qe.sku]})]}),u.jsxs("div",{className:"flex justify-between items-end mt-auto",children:[u.jsx("div",{className:"text-left",children:u.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Be(bt)})}),u.jsx("div",{className:"text-right",children:u.jsx("span",{className:`inline-flex items-center justify-center min-w-[2.5rem] px-2 py-1 text-xs font-bold rounded-md ${gr?"bg-red-600 text-white":kt<=5?"bg-orange-600 text-white":"bg-green-600 text-white"}`,children:gr?"Ht":kt})})]})]})},qe.id)})})})]}),u.jsxs("div",{className:"w-96 bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"customer-dropdown-container",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Chn khch hng"}),u.jsxs("div",{className:"relative flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Tm theo tn hoc s in thoi...",value:L,onChange:qe=>U(qe.target.value),onFocus:()=>F(!0),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500"}),u.jsx("button",{onClick:()=>M(!0),className:"px-3 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center transition-colors",title:"Thm khch hng mi",children:u.jsx(Xh,{className:"w-5 h-5"})}),D&&vt.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 max-h-40 overflow-y-auto bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg shadow-lg",children:vt.map(qe=>u.jsxs("button",{onClick:()=>{K(qe),U(qe.name),F(!1)},className:"w-full text-left px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-600 border-b border-slate-100 dark:border-slate-600 last:border-b-0",children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:qe.name}),qe.phone&&u.jsx("div",{className:"text-sm text-slate-500",children:qe.phone})]},qe.id))})]}),I&&u.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[u.jsx("div",{className:"font-medium text-blue-900 dark:text-blue-100",children:I.name}),I.phone&&u.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:I.phone}),u.jsx("button",{onClick:()=>{K(null),U("")},className:"text-xs text-blue-600 hover:text-blue-800 mt-1",children:"Xa khch hng"})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Gi hng"}),u.jsxs("span",{className:"text-sm text-slate-500",children:["(",r.length," sn phm)"]})]}),r.length===0?u.jsxs("div",{className:"text-center text-slate-400 py-12",children:[u.jsx("div",{className:"mb-2 flex items-center justify-center",children:u.jsx(FR,{className:"w-10 h-10 text-slate-300"})}),u.jsx("div",{className:"text-sm",children:"Gi hng trng"}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Chn sn phm  thm vo gi"})]}):u.jsx("div",{className:"space-y-3",children:r.map(qe=>u.jsxs("div",{className:"flex items-center gap-3 p-3 border border-slate-200 dark:border-slate-600 rounded-lg",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center",children:u.jsx(Hl,{className:"w-6 h-6 text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:qe.partName}),u.jsxs("div",{className:"text-xs text-slate-500",children:["SKU: ",qe.sku]}),u.jsx("div",{className:"text-sm text-blue-600 font-semibold",children:Be(qe.sellingPrice)})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>Pt(qe.partId,Math.max(1,qe.quantity-1)),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"-"}),u.jsx("span",{className:"w-8 text-center font-medium text-sm",children:qe.quantity}),u.jsx("button",{onClick:()=>Pt(qe.partId,qe.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"+"}),u.jsx("button",{onClick:()=>Ct(qe.partId),className:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 rounded-full text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 ml-1",children:""})]})]},qe.partId))})]}),r.length>0&&u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[u.jsxs("div",{className:"p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm text-slate-600 dark:text-slate-400",children:[u.jsx("span",{children:"Tng tin hng"}),u.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Be(Dt)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:ne==="amount"?H:ae,onChange:qe=>{const bt=Number(qe.target.value)||0;if(ne==="amount")Y(Math.min(bt,Dt));else{const kt=Math.min(bt,100);ue(kt),Y(Math.round(Dt*kt/100))}},className:"w-20 px-2 py-1 text-right text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"0",min:"0",max:ne==="amount"?Dt:100}),u.jsxs("select",{value:ne,onChange:qe=>{const bt=qe.target.value;X(bt),Y(0),ue(0)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{value:"amount",children:""}),u.jsx("option",{value:"percent",children:"%"})]})]})]}),ne==="percent"&&u.jsx("div",{className:"flex gap-1 justify-end",children:[5,10,15,20].map(qe=>u.jsxs("button",{onClick:()=>{ue(qe),Y(Math.round(Dt*qe/100))},className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-700 dark:text-slate-300 rounded transition-colors",children:[qe,"%"]},qe))}),ne==="percent"&&ae>0&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-right",children:["= ",Be(H)]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"font-bold text-slate-900 dark:text-slate-100",children:"Khch phi tr"}),u.jsxs("span",{className:"font-bold text-xl text-slate-900 dark:text-slate-100",children:[Be(Math.max(0,er-H))," "]})]})]}),u.jsxs("div",{className:"px-4 pb-3",children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:["Phng thc thanh ton ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("button",{onClick:()=>Qe("cash"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border-2 transition-all ${de==="cash"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:[u.jsx(OR,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Tin mt"})]}),u.jsxs("button",{onClick:()=>Qe("bank"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg border-2 transition-all ${de==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:[u.jsx(sJ,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Chuyn khon"})]})]})]}),de&&u.jsxs("div",{className:"px-4 pb-3",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Hnh thc"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>{Ze("full"),gt(0)},className:`px-3 py-2 text-sm rounded-lg border transition-all ${we==="full"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Thanh ton "}),u.jsx("button",{onClick:()=>Ze("partial"),className:`px-3 py-2 text-sm rounded-lg border transition-all ${we==="partial"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Thanh ton 1 phn"}),u.jsx("button",{onClick:()=>{Ze("note"),gt(0)},className:`px-3 py-2 text-sm rounded-lg border transition-all ${we==="note"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 font-semibold":"border-slate-300 dark:border-slate-600 hover:border-slate-400"}`,children:"Ghi n"})]})]}),we==="partial"&&u.jsxs("div",{className:"px-4 pb-3",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"S tin khch tr"}),u.jsx("input",{type:"number",value:Xe,onChange:qe=>gt(Number(qe.target.value)||0),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700",placeholder:"0"}),u.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Cn li:"," ",Be(Math.max(0,er-H-Xe))," ",""]})]}),u.jsxs("div",{className:"px-4 pb-3 space-y-2",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",children:"Thi gian bn hng"}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"salesTime",defaultChecked:!0,className:"w-4 h-4 text-pink-600 focus:ring-pink-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Thi gian hin ti"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"salesTime",className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ty chnh"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Ghi ch ring cho n hng"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"ng thi in ho n"})]})]}),u.jsxs("div",{className:"p-4 pt-0 flex gap-3",children:[u.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 font-medium rounded-lg transition-colors",children:"LU NHP"}),u.jsx("button",{onClick:Tr,disabled:!de||!we,className:`flex-1 px-4 py-3 font-bold rounded-lg transition-all ${de&&we?"bg-orange-500 hover:bg-orange-600 text-white shadow-lg hover:shadow-xl":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-500 cursor-not-allowed"}`,children:"XUT BN"})]})]})]})]}),u.jsx(mge,{isOpen:se,onClose:()=>be(!1),sales:p,currentBranchId:s,onPrintReceipt:Dr,onEditSale:ir,onDeleteSale:At}),G&&u.jsx("div",{id:"last-receipt",className:"hidden print:block",children:u.jsxs("div",{style:{width:"148mm",minHeight:"210mm",margin:"0 auto",padding:"15mm",fontFamily:"Arial, sans-serif",fontSize:"12px",backgroundColor:"white",color:"#000",boxSizing:"border-box"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",borderBottom:"2px solid #333",paddingBottom:"15px"},children:[u.jsx("img",{src:"https://raw.githubusercontent.com/Nhan-Lam-SmartCare/Motocare/main/public/logo.png",alt:"Nhn-Lm SmartCare",style:{width:"120px",height:"120px",margin:"0 auto 10px",display:"block"},onError:qe=>{qe.currentTarget.style.display="none"}}),u.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",margin:"0 0 8px 0",color:"#c92a2a"},children:"Nhn-Lm SmartCare"}),u.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.6"},children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(xJ,{className:"w-4 h-4","aria-hidden":"true"}),u.jsx("span",{children:"a ch: 4p Ph Li B, Ph Thun B, Hng Ng, ng Thp"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),u.jsx("span",{children:"in thoi: 0947747907"})]})]})]}),u.jsxs("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"6px",padding:"10px 12px",marginBottom:"20px",fontSize:"11px"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"6px"},children:" Thng tin chuyn khon:"}),u.jsxs("div",{style:{lineHeight:"1.6"},children:[u.jsxs("div",{children:[" Ngn hng: ",u.jsx("strong",{children:"NH Lin Vit (LPBank)"})]}),u.jsxs("div",{children:[" S ti khon: ",u.jsx("strong",{children:"LAMVOT"})]}),u.jsxs("div",{children:[" Ch ti khon: ",u.jsx("strong",{children:"VO THANH LAM"})]})]})]}),u.jsxs("div",{style:{textAlign:"center",marginBottom:"15px"},children:[u.jsx("h2",{style:{fontSize:"18px",fontWeight:"bold",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"1px"},children:"HA N BN HNG"}),u.jsxs("div",{style:{fontSize:"11px",color:"#666"},children:["S: ",u.jsx("strong",{style:{color:"#000"},children:G})," - Ngy:"," ",u.jsx("strong",{style:{color:"#000"},children:Qa(new Date,!0)})]})]}),u.jsx("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:u.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.8"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Khch hng:"})," ",he||"Khch l"]}),oe&&u.jsxs("div",{children:[u.jsx("strong",{children:"in thoi:"})," ",oe]})]})}),u.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"15px",fontSize:"11px"},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"#f1f3f5",borderTop:"2px solid #333",borderBottom:"2px solid #333"},children:[u.jsx("th",{style:{textAlign:"center",padding:"8px 4px",width:"8%",fontWeight:"bold"},children:"STT"}),u.jsx("th",{style:{textAlign:"left",padding:"8px 6px",width:"37%",fontWeight:"bold"},children:"Tn sn phm"}),u.jsx("th",{style:{textAlign:"center",padding:"8px 4px",width:"10%",fontWeight:"bold"},children:"SL"}),u.jsx("th",{style:{textAlign:"right",padding:"8px 6px",width:"20%",fontWeight:"bold"},children:"n gi"}),u.jsx("th",{style:{textAlign:"right",padding:"8px 6px",width:"25%",fontWeight:"bold"},children:"Thnh tin"})]})}),u.jsx("tbody",{children:Me.map((qe,bt)=>u.jsx(Da.Fragment,{children:u.jsxs("tr",{style:{borderBottom:"1px solid #e9ecef"},children:[u.jsx("td",{style:{textAlign:"center",padding:"10px 4px",verticalAlign:"top"},children:bt+1}),u.jsxs("td",{style:{padding:"10px 6px",verticalAlign:"top"},children:[u.jsx("div",{style:{fontWeight:"600",marginBottom:"3px"},children:qe.partName}),u.jsxs("div",{style:{fontSize:"9px",color:"#868e96"},children:["SKU: ",qe.sku]})]}),u.jsx("td",{style:{textAlign:"center",padding:"10px 4px",verticalAlign:"top",fontWeight:"600"},children:qe.quantity}),u.jsx("td",{style:{textAlign:"right",padding:"10px 6px",verticalAlign:"top"},children:Be(qe.sellingPrice)}),u.jsx("td",{style:{textAlign:"right",padding:"10px 6px",verticalAlign:"top",fontWeight:"600"},children:Be(qe.sellingPrice*qe.quantity)})]})},qe.partId))})]}),u.jsx("div",{style:{borderTop:"2px solid #333",paddingTop:"12px",marginBottom:"15px"},children:u.jsx("table",{style:{width:"100%",fontSize:"12px"},children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsxs("td",{style:{padding:"6px 0",textAlign:"right"},children:["Tng cng (",qt," sn phm):"]}),u.jsx("td",{style:{padding:"6px 0 6px 20px",textAlign:"right",width:"30%",fontWeight:"600"},children:Be(ar)})]}),Te>0&&u.jsxs("tr",{children:[u.jsx("td",{style:{padding:"6px 0",textAlign:"right",color:"#c92a2a"},children:"Gim gi:"}),u.jsxs("td",{style:{padding:"6px 0 6px 20px",textAlign:"right",fontWeight:"600",color:"#c92a2a"},children:["-",Be(Te)]})]}),u.jsxs("tr",{style:{borderTop:"1px solid #dee2e6",fontSize:"14px"},children:[u.jsx("td",{style:{padding:"10px 0",textAlign:"right",fontWeight:"bold"},children:"TNG THANH TON:"}),u.jsx("td",{style:{padding:"10px 0 10px 20px",textAlign:"right",fontWeight:"bold",fontSize:"16px",color:"#2f9e44"},children:Be($r)})]})]})})}),u.jsxs("div",{style:{marginBottom:"20px",padding:"10px 12px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"11px"},children:[u.jsxs("div",{style:{marginBottom:"4px"},children:[u.jsx("strong",{children:"Hnh thc thanh ton:"})," ",de==="cash"?"Tin mt":"Chuyn khon"]}),u.jsx("div",{style:{fontStyle:"italic",color:"#495057"},children:we==="full"?"  thanh ton ":we==="partial"?`Thanh ton mt phn: ${Be(Xe)}`:"Ghi n"})]}),u.jsx("div",{style:{marginTop:"30px",borderTop:"1px solid #dee2e6",paddingTop:"20px"},children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px"},children:[u.jsxs("div",{style:{textAlign:"center",width:"40%"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"50px",fontSize:"12px"},children:"Khch hng"}),u.jsx("div",{style:{fontStyle:"italic",color:"#868e96"},children:"(K v ghi r h tn)"})]}),u.jsxs("div",{style:{textAlign:"center",width:"40%"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"50px",fontSize:"12px"},children:"Ngi bn hng"}),u.jsx("div",{style:{fontStyle:"italic",color:"#868e96"},children:"(K v ghi r h tn)"})]})]})}),u.jsxs("div",{style:{textAlign:"center",marginTop:"25px",paddingTop:"15px",borderTop:"1px dashed #adb5bd",fontSize:"11px",fontStyle:"italic",color:"#495057"},children:[u.jsxs("div",{style:{marginBottom:"5px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[u.jsx("span",{style:{display:"inline-flex"},children:"*"}),"Cm n qu khch  s dng dch v",u.jsx("span",{style:{display:"inline-flex"},children:"*"})]}),u.jsx("div",{children:"Hn gp li qu khch!"})]})]})}),J&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thm khch hng mi"}),u.jsx("button",{onClick:()=>{M(!1),q({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx(zz,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn khch hng ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:z.name,onChange:qe=>q({...z,name:qe.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"Nhp tn khch hng"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["S in thoi ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",value:z.phone,onChange:qe=>q({...z,phone:qe.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"Nhp s in thoi"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dng xe"}),u.jsx("input",{type:"text",value:z.vehicleModel,onChange:qe=>q({...z,vehicleModel:qe.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"VD: Honda SH 2023"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bin s xe"}),u.jsx("input",{type:"text",value:z.licensePlate,onChange:qe=>q({...z,licensePlate:qe.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500",placeholder:"VD: 30A-12345"})]})]}),u.jsxs("div",{className:"flex gap-2 p-4 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>{M(!1),q({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600",children:"Hy"}),u.jsx("button",{onClick:Tt,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Lu"})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var S2={};S2.version="0.18.5";var qz=1252,gge=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Lj={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Mj=function(e){gge.indexOf(e)!=-1&&(qz=Lj[0]=e)};function xge(){Mj(1252)}var Dc=function(e){Mj(e)};function Rj(){Dc(1200),xge()}function oD(e){for(var t=[],r=0,a=e.length;r<a;++r)t[r]=e.charCodeAt(r);return t}function vge(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function $z(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Ix=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?vge(e.slice(2)):t==254&&r==255?$z(e.slice(2)):t==65279?e.slice(1):e},Vy=function(t){return String.fromCharCode(t)},lD=function(t){return String.fromCharCode(t)},w1,af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function k1(e){for(var t="",r=0,a=0,n=0,i=0,s=0,o=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,a=e.charCodeAt(d++),s=(r&3)<<4|a>>4,n=e.charCodeAt(d++),o=(a&15)<<2|n>>6,c=n&63,isNaN(a)?o=c=64:isNaN(n)&&(c=64),t+=af.charAt(i)+af.charAt(s)+af.charAt(o)+af.charAt(c);return t}function dl(e){var t="",r=0,a=0,n=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=af.indexOf(e.charAt(d++)),s=af.indexOf(e.charAt(d++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=af.indexOf(e.charAt(d++)),a=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(a)),c=af.indexOf(e.charAt(d++)),n=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(n));return t}var Vr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),rd=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function hf(e){return Vr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function cD(e){return Vr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var il=function(t){return Vr?rd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Uw(e){if(typeof ArrayBuffer>"u")return il(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a!=e.length;++a)r[a]=e.charCodeAt(a)&255;return t}function _f(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function yge(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function Ij(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Ij(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ji=Vr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:rd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var a=new Uint8Array(r),n=0;for(t=0,r=0;t<e.length;r+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)a.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";a.set(new Uint8Array(e[t]),r)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function bge(e){for(var t=[],r=0,a=e.length+250,n=hf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)n[r++]=s;else if(s<2048)n[r++]=192|s>>6&31,n[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;n[r++]=240|s>>8&7,n[r++]=128|s>>2&63,n[r++]=128|o>>6&15|(s&3)<<4,n[r++]=128|o&63}else n[r++]=224|s>>12&15,n[r++]=128|s>>6&63,n[r++]=128|s&63;r>a&&(t.push(n.slice(0,r)),r=0,n=hf(65535),a=65530)}return t.push(n.slice(0,r)),Ji(t)}var ao=/\u0000/g,Fx=/[\u0001-\u0006]/g;function Dp(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Lc(e,t){var r=""+e;return r.length>=t?r:Wn("0",t-r.length)+r}function Fj(e,t){var r=""+e;return r.length>=t?r:Wn(" ",t-r.length)+r}function N2(e,t){var r=""+e;return r.length>=t?r:r+Wn(" ",t-r.length)}function wge(e,t){var r=""+Math.round(e);return r.length>=t?r:Wn("0",t-r.length)+r}function kge(e,t){var r=""+e;return r.length>=t?r:Wn("0",t-r.length)+r}var uD=Math.pow(2,32);function mp(e,t){if(e>uD||e<-uD)return wge(e,t);var r=Math.round(e);return kge(r,t)}function j2(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],l_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _ge(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var yr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},fD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Sge={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function A2(e,t,r){for(var a=e<0?-1:1,n=e*a,i=0,s=1,o=0,c=1,d=0,h=0,m=Math.floor(n);d<t&&(m=Math.floor(n),o=m*s+i,h=m*d+c,!(n-m<5e-8));)n=1/(n-m),i=s,s=o,c=d,d=h;if(h>t&&(d>t?(h=c,o=i):(h=d,o=s)),!r)return[0,a*o,h];var x=Math.floor(a*o/h);return[x,a*o-x*h,h]}function gh(e,t,r){if(e>2958465||e<0)return null;var a=e|0,n=Math.floor(86400*(e-a)),i=0,s=[],o={D:a,T:n,u:86400*(e-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(a+=1462),o.u>.9999&&(o.u=0,++n==86400&&(o.T=n=0,++a,++o.D)),a===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(a===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var c=new Date(1900,0,1);c.setDate(c.getDate()+a-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),a<60&&(i=(i+6)%7),r&&(i=Cge(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=i,o}var Hz=new Date(1899,11,31,0,0,0),Nge=Hz.getTime(),jge=new Date(1900,2,1,0,0,0);function Wz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=jge&&(r+=1440*60*1e3),(r-(Nge+(e.getTimezoneOffset()-Hz.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Bj(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Age(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Tge(e){var t=e<0?12:11,r=Bj(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Ege(e){var t=Bj(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function _1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Tge(e):t===10?r=e.toFixed(10).substr(0,12):r=Ege(e),Bj(Age(r.toUpperCase()))}function Qh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):_1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Yl(14,Wz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Cge(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Oge(e,t,r,a){var n="",i=0,s=0,o=r.y,c,d=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,d=2;break;default:c=o%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return l_[r.m-1][1];case 5:return l_[r.m-1][0];default:return l_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return dD[r.q][0];default:return dD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Lc(r.S,t.length):(a>=2?s=a===3?1e3:100:s=a===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(n=Lc(i,2+a),t==="ss"?n.substr(0,2):"."+n.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=o,d=1;break}var h=d>0?Lc(c,d):"";return h}function nf(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,a=e.substr(0,r);r!=e.length;r+=t)a+=(a.length>0?",":"")+e.substr(r,t);return a}var Vz=/%/g;function Pge(e,t,r){var a=t.replace(Vz,""),n=t.length-a.length;return L0(e,a,r*Math.pow(10,2*n))+Wn("%",n)}function Dge(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return L0(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Kz(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Kz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,h){return c+d+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Gz=/# (\?+)( ?)\/( ?)(\d+)/;function Lge(e,t,r){var a=parseInt(e[4],10),n=Math.round(t*a),i=Math.floor(n/a),s=n-i*a,o=a;return r+(i===0?"":""+i)+" "+(s===0?Wn(" ",e[1].length+1+e[4].length):Fj(s,e[1].length)+e[2]+"/"+e[3]+Lc(o,e[4].length))}function Mge(e,t,r){return r+(t===0?"":""+t)+Wn(" ",e[1].length+2+e[4].length)}var Yz=/^#*0*\.([0#]+)/,Xz=/\).*[0#]/,Qz=/\(###\) ###\\?-####/;function Qs(e){for(var t="",r,a=0;a!=e.length;++a)switch(r=e.charCodeAt(a)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function hD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function mD(e,t){var r=e-Math.floor(e),a=Math.pow(10,t);return t<(""+Math.round(r*a)).length?0:Math.round(r*a)}function Rge(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Ige(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ml(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Xz)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ml("n",a,r):"("+Ml("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Dge(e,t,r);if(t.indexOf("%")!==-1)return Pge(e,t,r);if(t.indexOf("E")!==-1)return Kz(t,r);if(t.charCodeAt(0)===36)return"$"+Ml(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,s,o,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+mp(c,t.length);if(t.match(/^[#?]+$/))return n=mp(r,0),n==="0"&&(n=""),n.length>t.length?n:Qs(t.substr(0,t.length-n.length))+n;if(i=t.match(Gz))return Lge(i,c,d);if(t.match(/^#+0+$/))return d+mp(c,t.length-t.indexOf("0"));if(i=t.match(Yz))return n=hD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Qs(i[1])).replace(/\.$/,"."+Qs(i[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Wn("0",Qs(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+hD(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+nf(mp(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ml(e,t,-r):nf(""+(Math.floor(r)+Rge(r,i[1].length)))+"."+Lc(mD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ml(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Dp(Ml(e,t.replace(/[\\-]/g,""),r)),s=0,Dp(Dp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<n.length?n.charAt(s++):y==="0"?"0":""}));if(t.match(Qz))return n=Ml(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=A2(c,Math.pow(10,s)-1,!1),n=""+d,h=L0("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=N2(o[2],s),h.length<i[4].length&&(h=Qs(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=A2(c,Math.pow(10,s)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Fj(o[1],s)+i[2]+"/"+i[3]+N2(o[2],s):Wn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=mp(r,0),t.length<=n.length?n:Qs(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var m=t.indexOf(".")-s,x=t.length-n.length-m;return Qs(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=mD(r,i[1].length),r<0?"-"+Ml(e,t,-r):nf(Ige(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Lc(0,3-y.length):"")+y})+"."+Lc(s,i[1].length);switch(t){case"###,##0.00":return Ml(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=nf(mp(c,0));return p!=="0"?d+p:"";case"###,###.00":return Ml(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ml(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Fge(e,t,r){for(var a=t.length-1;t.charCodeAt(a-1)===44;)--a;return L0(e,t.substr(0,a),r/Math.pow(10,3*(t.length-a)))}function Bge(e,t,r){var a=t.replace(Vz,""),n=t.length-a.length;return L0(e,a,r*Math.pow(10,2*n))+Wn("%",n)}function Jz(e,t){var r,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Jz(e,-t);var n=e.indexOf(".");n===-1&&(n=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%n;if(i<0&&(i+=n),r=(t/Math.pow(10,i)).toPrecision(a+1+(n+i)%n),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,d,h){return c+d+h.substr(0,(n+i)%n)+"."+h.substr(i)+"E"})}else r=t.toExponential(a);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function hu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Xz)){var a=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hu("n",a,r):"("+hu("n",a,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Fge(e,t,r);if(t.indexOf("%")!==-1)return Bge(e,t,r);if(t.indexOf("E")!==-1)return Jz(t,r);if(t.charCodeAt(0)===36)return"$"+hu(e,t.substr(t.charAt(1)==" "?2:1),r);var n,i,s,o,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Lc(c,t.length);if(t.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>t.length?n:Qs(t.substr(0,t.length-n.length))+n;if(i=t.match(Gz))return Mge(i,c,d);if(t.match(/^#+0+$/))return d+Lc(c,t.length-t.indexOf("0"));if(i=t.match(Yz))return n=(""+r).replace(/^([^\.]+)$/,"$1."+Qs(i[1])).replace(/\.$/,"."+Qs(i[1])),n=n.replace(/\.(\d*)$/,function(y,v){return"."+v+Wn("0",Qs(i[1]).length-v.length)}),t.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+nf(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hu(e,t,-r):nf(""+r)+"."+Wn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return hu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Dp(hu(e,t.replace(/[\\-]/g,""),r)),s=0,Dp(Dp(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<n.length?n.charAt(s++):y==="0"?"0":""}));if(t.match(Qz))return n=hu(e,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=A2(c,Math.pow(10,s)-1,!1),n=""+d,h=L0("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),n+=h+i[2]+"/"+i[3],h=N2(o[2],s),h.length<i[4].length&&(h=Qs(i[4].substr(i[4].length-h.length))+h),n+=h,n;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=A2(c,Math.pow(10,s)-1,!0),d+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Fj(o[1],s)+i[2]+"/"+i[3]+N2(o[2],s):Wn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return n=""+r,t.length<=n.length?n:Qs(t.substr(0,t.length-n.length))+n;if(i=t.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=n.indexOf(".");var m=t.indexOf(".")-s,x=t.length-n.length-m;return Qs(t.substr(0,m)+n+t.substr(t.length-x))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+hu(e,t,-r):nf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Lc(0,3-y.length):"")+y})+"."+Lc(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=nf(""+c);return p!=="0"?d+p:"";default:if(t.match(/\.[0#?]*$/))return hu(e,t.slice(0,t.lastIndexOf(".")),r)+Qs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function L0(e,t,r){return(r|0)===r?hu(e,t,r):Ml(e,t,r)}function Uge(e){for(var t=[],r=!1,a=0,n=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:t[t.length]=e.substr(n,a-n),n=a+1}if(t[t.length]=e.substr(n),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Zz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Og(e){for(var t=0,r="",a="";t<e.length;)switch(r=e.charAt(t)){case"G":j2(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(a=r;e.charAt(t++)!=="]"&&t<e.length;)a+=e.charAt(t);if(a.match(Zz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function zge(e,t,r,a){for(var n=[],i="",s=0,o="",c="t",d,h,m,x="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!j2(e,s))throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(m=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(m);n[n.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),y=p==="("||p===")"?p:"t";n[n.length]={t:y,v:p},++s;break;case"_":n[n.length]={t:"t",v:" "},s+=2;break;case"@":n[n.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(d==null&&(d=gh(t,r,e.charAt(s+1)==="2"),d==null))return"";n[n.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=gh(t,r),d==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=x),n[n.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var v={t:o,v:o};if(d==null&&(d=gh(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(d!=null&&(v.v=d.H>=12?"P":"A"),v.t="T",x="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(d!=null&&(v.v=d.H>=12?"PM":"AM"),v.t="T",s+=5,x="h"):e.substr(s,5).toUpperCase()==="/"?(d!=null&&(v.v=d.H>=12?"":""),v.t="T",s+=5,x="h"):(v.t="t",++s),d==null&&v.t==="T")return"";n[n.length]=v,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Zz)){if(d==null&&(d=gh(t,r),d==null))return"";n[n.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Og(e)||(n[n.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;n[n.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;n[n.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;n[n.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":n[n.length]={t:a===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);n[n.length]={t:"D",v:i};break;case" ":n[n.length]={t:o,v:o},++s;break;case"$":n[n.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);n[n.length]={t:"t",v:o},++s;break}var b=0,k=0,N;for(s=n.length-1,c="t";s>=0;--s)switch(n[s].t){case"h":case"H":n[s].t=x,c="h",b<1&&(b=1);break;case"s":(N=n[s].v.match(/\.0+$/))&&(k=Math.max(k,N[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=n[s].t;break;case"m":c==="s"&&(n[s].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&n[s].v.match(/[Hh]/)&&(b=1),b<2&&n[s].v.match(/[Mm]/)&&(b=2),b<3&&n[s].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",T;for(s=0;s<n.length;++s)switch(n[s].t){case"t":case"T":case" ":case"D":break;case"X":n[s].v="",n[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[s].v=Oge(n[s].t.charCodeAt(0),n[s].v,d,k),n[s].t="t";break;case"n":case"?":for(T=s+1;n[T]!=null&&((o=n[T].t)==="?"||o==="D"||(o===" "||o==="t")&&n[T+1]!=null&&(n[T+1].t==="?"||n[T+1].t==="t"&&n[T+1].v==="/")||n[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(n[T].v==="/"||n[T].v===" "&&n[T+1]!=null&&n[T+1].t=="?"));)n[s].v+=n[T].v,n[T]={v:"",t:";"},++T;_+=n[s].v,s=T-1;break;case"G":n[s].t="t",n[s].v=Qh(t,r);break}var P="",O,L;if(_.length>0){_.charCodeAt(0)==40?(O=t<0&&_.charCodeAt(0)===45?-t:t,L=L0("n",_,O)):(O=t<0&&a>1?-t:t,L=L0("n",_,O),O<0&&n[0]&&n[0].t=="t"&&(L=L.substr(1),n[0].v="-"+n[0].v)),T=L.length-1;var U=n.length;for(s=0;s<n.length;++s)if(n[s]!=null&&n[s].t!="t"&&n[s].v.indexOf(".")>-1){U=s;break}var I=n.length;if(U===n.length&&L.indexOf("E")===-1){for(s=n.length-1;s>=0;--s)n[s]==null||"n?".indexOf(n[s].t)===-1||(T>=n[s].v.length-1?(T-=n[s].v.length,n[s].v=L.substr(T+1,n[s].v.length)):T<0?n[s].v="":(n[s].v=L.substr(0,T+1),T=-1),n[s].t="t",I=s);T>=0&&I<n.length&&(n[I].v=L.substr(0,T+1)+n[I].v)}else if(U!==n.length&&L.indexOf("E")===-1){for(T=L.indexOf(".")-1,s=U;s>=0;--s)if(!(n[s]==null||"n?".indexOf(n[s].t)===-1)){for(h=n[s].v.indexOf(".")>-1&&s===U?n[s].v.indexOf(".")-1:n[s].v.length-1,P=n[s].v.substr(h+1);h>=0;--h)T>=0&&(n[s].v.charAt(h)==="0"||n[s].v.charAt(h)==="#")&&(P=L.charAt(T--)+P);n[s].v=P,n[s].t="t",I=s}for(T>=0&&I<n.length&&(n[I].v=L.substr(0,T+1)+n[I].v),T=L.indexOf(".")+1,s=U;s<n.length;++s)if(!(n[s]==null||"n?(".indexOf(n[s].t)===-1&&s!==U)){for(h=n[s].v.indexOf(".")>-1&&s===U?n[s].v.indexOf(".")+1:0,P=n[s].v.substr(0,h);h<n[s].v.length;++h)T<L.length&&(P+=L.charAt(T++));n[s].v=P,n[s].t="t",I=s}}}for(s=0;s<n.length;++s)n[s]!=null&&"n?".indexOf(n[s].t)>-1&&(O=a>1&&t<0&&s>0&&n[s-1].v==="-"?-t:t,n[s].v=L0(n[s].t,n[s].v,O),n[s].t="t");var K="";for(s=0;s!==n.length;++s)n[s]!=null&&(K+=n[s].v);return K}var pD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function qge(e,t){var r=Uge(e),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(pD),o=r[1].match(pD);return gD(t,s)?[a,r[0]]:gD(t,o)?[a,r[1]]:[a,r[s!=null&&o!=null?2:1]]}return[a,i]}function Yl(e,t,r){r==null&&(r={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?a=r.dateNF:a=e;break;case"number":e==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:yr)[e],a==null&&(a=r.table&&r.table[fD[e]]||yr[fD[e]]),a==null&&(a=Sge[e]||"General");break}if(j2(a,0))return Qh(t,r);t instanceof Date&&(t=Wz(t,r.date1904));var n=qge(a,t);if(j2(n[1]))return Qh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return zge(n[1],t,r,n[0])}function M0(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(yr[r]==null){t<0&&(t=r);continue}if(yr[r]==e){t=r;break}}t<0&&(t=391)}return yr[t]=e,t}function zw(e){for(var t=0;t!=392;++t)e[t]!==void 0&&M0(e[t],t)}function Pg(){yr=_ge()}var $ge={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},eq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Hge(e){var t=typeof e=="number"?yr[e]:e;return t=t.replace(eq,"(\\d+)"),new RegExp("^"+t+"$")}function Wge(e,t,r){var a=-1,n=-1,i=-1,s=-1,o=-1,c=-1;(t.match(eq)||[]).forEach(function(m,x){var p=parseInt(r[x+1],10);switch(m.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:n=p;break}}),c>=0&&o==-1&&n>=0&&(o=n,n=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?d:a==-1&&n==-1&&i==-1?h:d+"T"+h}var Vge=(function(){var e={};e.version="1.2.0";function t(){for(var L=0,U=new Array(256),I=0;I!=256;++I)L=I,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,U[I]=L;return typeof Int32Array<"u"?new Int32Array(U):U}var r=t();function a(L){var U=0,I=0,K=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(K=0;K!=256;++K)D[K]=L[K];for(K=0;K!=256;++K)for(I=L[K],U=256+K;U<4096;U+=256)I=D[U]=I>>>8^L[I&255];var F=[];for(K=1;K!=16;++K)F[K-1]=typeof Int32Array<"u"?D.subarray(K*256,K*256+256):D.slice(K*256,K*256+256);return F}var n=a(r),i=n[0],s=n[1],o=n[2],c=n[3],d=n[4],h=n[5],m=n[6],x=n[7],p=n[8],y=n[9],v=n[10],b=n[11],k=n[12],N=n[13],_=n[14];function T(L,U){for(var I=U^-1,K=0,D=L.length;K<D;)I=I>>>8^r[(I^L.charCodeAt(K++))&255];return~I}function P(L,U){for(var I=U^-1,K=L.length-15,D=0;D<K;)I=_[L[D++]^I&255]^N[L[D++]^I>>8&255]^k[L[D++]^I>>16&255]^b[L[D++]^I>>>24]^v[L[D++]]^y[L[D++]]^p[L[D++]]^x[L[D++]]^m[L[D++]]^h[L[D++]]^d[L[D++]]^c[L[D++]]^o[L[D++]]^s[L[D++]]^i[L[D++]]^r[L[D++]];for(K+=15;D<K;)I=I>>>8^r[(I^L[D++])&255];return~I}function O(L,U){for(var I=U^-1,K=0,D=L.length,F=0,H=0;K<D;)F=L.charCodeAt(K++),F<128?I=I>>>8^r[(I^F)&255]:F<2048?(I=I>>>8^r[(I^(192|F>>6&31))&255],I=I>>>8^r[(I^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,H=L.charCodeAt(K++)&1023,I=I>>>8^r[(I^(240|F>>8&7))&255],I=I>>>8^r[(I^(128|F>>2&63))&255],I=I>>>8^r[(I^(128|H>>6&15|(F&3)<<4))&255],I=I>>>8^r[(I^(128|H&63))&255]):(I=I>>>8^r[(I^(224|F>>12&15))&255],I=I>>>8^r[(I^(128|F>>6&63))&255],I=I>>>8^r[(I^(128|F&63))&255]);return~I}return e.table=r,e.bstr=T,e.buf=P,e.str=O,e})(),hr=(function(){var t={};t.version="1.2.1";function r(te,ke){for(var me=te.split("/"),pe=ke.split("/"),xe=0,Se=0,Ue=Math.min(me.length,pe.length);xe<Ue;++xe){if(Se=me[xe].length-pe[xe].length)return Se;if(me[xe]!=pe[xe])return me[xe]<pe[xe]?-1:1}return me.length-pe.length}function a(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:a(te.slice(0,-1));var ke=te.lastIndexOf("/");return ke===-1?te:te.slice(0,ke+1)}function n(te){if(te.charAt(te.length-1)=="/")return n(te.slice(0,-1));var ke=te.lastIndexOf("/");return ke===-1?te:te.slice(ke+1)}function i(te,ke){typeof ke=="string"&&(ke=new Date(ke));var me=ke.getHours();me=me<<6|ke.getMinutes(),me=me<<5|ke.getSeconds()>>>1,te.write_shift(2,me);var pe=ke.getFullYear()-1980;pe=pe<<4|ke.getMonth()+1,pe=pe<<5|ke.getDate(),te.write_shift(2,pe)}function s(te){var ke=te.read_shift(2)&65535,me=te.read_shift(2)&65535,pe=new Date,xe=me&31;me>>>=5;var Se=me&15;me>>>=4,pe.setMilliseconds(0),pe.setFullYear(me+1980),pe.setMonth(Se-1),pe.setDate(xe);var Ue=ke&31;ke>>>=5;var tt=ke&63;return ke>>>=6,pe.setHours(ke),pe.setMinutes(tt),pe.setSeconds(Ue<<1),pe}function o(te){ms(te,0);for(var ke={},me=0;te.l<=te.length-4;){var pe=te.read_shift(2),xe=te.read_shift(2),Se=te.l+xe,Ue={};switch(pe){case 21589:me=te.read_shift(1),me&1&&(Ue.mtime=te.read_shift(4)),xe>5&&(me&2&&(Ue.atime=te.read_shift(4)),me&4&&(Ue.ctime=te.read_shift(4))),Ue.mtime&&(Ue.mt=new Date(Ue.mtime*1e3));break}te.l=Se,ke[pe]=Ue}return ke}var c;function d(){return c||(c={})}function h(te,ke){if(te[0]==80&&te[1]==75)return gr(te,ke);if((te[0]|32)==109&&(te[1]|32)==105)return nr(te,ke);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var me=3,pe=512,xe=0,Se=0,Ue=0,tt=0,$e=0,He=[],Ve=te.slice(0,512);ms(Ve,0);var mt=m(Ve);switch(me=mt[0],me){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(mt[1]==0)return gr(te,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}pe!==512&&(Ve=te.slice(0,pe),ms(Ve,28));var yt=te.slice(0,pe);x(Ve,me);var Et=Ve.read_shift(4,"i");if(me===3&&Et!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Et);Ve.l+=4,Ue=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),tt=Ve.read_shift(4,"i"),xe=Ve.read_shift(4,"i"),$e=Ve.read_shift(4,"i"),Se=Ve.read_shift(4,"i");for(var xt=-1,_t=0;_t<109&&(xt=Ve.read_shift(4,"i"),!(xt<0));++_t)He[_t]=xt;var Bt=p(te,pe);b($e,Se,Bt,pe,He);var va=N(Bt,Ue,He,pe);va[Ue].name="!Directory",xe>0&&tt!==H&&(va[tt].name="!MiniFAT"),va[He[0]].name="!FAT",va.fat_addrs=He,va.ssz=pe;var Wr={},ka=[],as=[],Ro=[];_(Ue,va,Bt,ka,xe,Wr,as,tt),y(as,Ro,ka),ka.shift();var Io={FileIndex:as,FullPaths:Ro};return ke&&ke.raw&&(Io.raw={header:yt,sectors:Bt}),Io}function m(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(Y,"Header Signature: "),te.l+=16;var ke=te.read_shift(2,"u");return[te.read_shift(2,"u"),ke]}function x(te,ke){var me=9;switch(te.l+=2,me=te.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function p(te,ke){for(var me=Math.ceil(te.length/ke)-1,pe=[],xe=1;xe<me;++xe)pe[xe-1]=te.slice(xe*ke,(xe+1)*ke);return pe[me-1]=te.slice(me*ke),pe}function y(te,ke,me){for(var pe=0,xe=0,Se=0,Ue=0,tt=0,$e=me.length,He=[],Ve=[];pe<$e;++pe)He[pe]=Ve[pe]=pe,ke[pe]=me[pe];for(;tt<Ve.length;++tt)pe=Ve[tt],xe=te[pe].L,Se=te[pe].R,Ue=te[pe].C,He[pe]===pe&&(xe!==-1&&He[xe]!==xe&&(He[pe]=He[xe]),Se!==-1&&He[Se]!==Se&&(He[pe]=He[Se])),Ue!==-1&&(He[Ue]=pe),xe!==-1&&pe!=He[pe]&&(He[xe]=He[pe],Ve.lastIndexOf(xe)<tt&&Ve.push(xe)),Se!==-1&&pe!=He[pe]&&(He[Se]=He[pe],Ve.lastIndexOf(Se)<tt&&Ve.push(Se));for(pe=1;pe<$e;++pe)He[pe]===pe&&(Se!==-1&&He[Se]!==Se?He[pe]=He[Se]:xe!==-1&&He[xe]!==xe&&(He[pe]=He[xe]));for(pe=1;pe<$e;++pe)if(te[pe].type!==0){if(tt=pe,tt!=He[tt])do tt=He[tt],ke[pe]=ke[tt]+"/"+ke[pe];while(tt!==0&&He[tt]!==-1&&tt!=He[tt]);He[pe]=-1}for(ke[0]+="/",pe=1;pe<$e;++pe)te[pe].type!==2&&(ke[pe]+="/")}function v(te,ke,me){for(var pe=te.start,xe=te.size,Se=[],Ue=pe;me&&xe>0&&Ue>=0;)Se.push(ke.slice(Ue*F,Ue*F+F)),xe-=F,Ue=lh(me,Ue*4);return Se.length===0?nt(0):Ji(Se).slice(0,te.size)}function b(te,ke,me,pe,xe){var Se=H;if(te===H){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ue=me[te],tt=(pe>>>2)-1;if(!Ue)return;for(var $e=0;$e<tt&&(Se=lh(Ue,$e*4))!==H;++$e)xe.push(Se);b(lh(Ue,pe-4),ke-1,me,pe,xe)}}function k(te,ke,me,pe,xe){var Se=[],Ue=[];xe||(xe=[]);var tt=pe-1,$e=0,He=0;for($e=ke;$e>=0;){xe[$e]=!0,Se[Se.length]=$e,Ue.push(te[$e]);var Ve=me[Math.floor($e*4/pe)];if(He=$e*4&tt,pe<4+He)throw new Error("FAT boundary crossed: "+$e+" 4 "+pe);if(!te[Ve])break;$e=lh(te[Ve],He)}return{nodes:Se,data:TD([Ue])}}function N(te,ke,me,pe){var xe=te.length,Se=[],Ue=[],tt=[],$e=[],He=pe-1,Ve=0,mt=0,yt=0,Et=0;for(Ve=0;Ve<xe;++Ve)if(tt=[],yt=Ve+ke,yt>=xe&&(yt-=xe),!Ue[yt]){$e=[];var xt=[];for(mt=yt;mt>=0;){xt[mt]=!0,Ue[mt]=!0,tt[tt.length]=mt,$e.push(te[mt]);var _t=me[Math.floor(mt*4/pe)];if(Et=mt*4&He,pe<4+Et)throw new Error("FAT boundary crossed: "+mt+" 4 "+pe);if(!te[_t]||(mt=lh(te[_t],Et),xt[mt]))break}Se[yt]={nodes:tt,data:TD([$e])}}return Se}function _(te,ke,me,pe,xe,Se,Ue,tt){for(var $e=0,He=pe.length?2:0,Ve=ke[te].data,mt=0,yt=0,Et;mt<Ve.length;mt+=128){var xt=Ve.slice(mt,mt+128);ms(xt,64),yt=xt.read_shift(2),Et=Vj(xt,0,yt-He),pe.push(Et);var _t={name:Et,type:xt.read_shift(1),color:xt.read_shift(1),L:xt.read_shift(4,"i"),R:xt.read_shift(4,"i"),C:xt.read_shift(4,"i"),clsid:xt.read_shift(16),state:xt.read_shift(4,"i"),start:0,size:0},Bt=xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2);Bt!==0&&(_t.ct=T(xt,xt.l-8));var va=xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2);va!==0&&(_t.mt=T(xt,xt.l-8)),_t.start=xt.read_shift(4,"i"),_t.size=xt.read_shift(4,"i"),_t.size<0&&_t.start<0&&(_t.size=_t.type=0,_t.start=H,_t.name=""),_t.type===5?($e=_t.start,xe>0&&$e!==H&&(ke[$e].name="!StreamData")):_t.size>=4096?(_t.storage="fat",ke[_t.start]===void 0&&(ke[_t.start]=k(me,_t.start,ke.fat_addrs,ke.ssz)),ke[_t.start].name=_t.name,_t.content=ke[_t.start].data.slice(0,_t.size)):(_t.storage="minifat",_t.size<0?_t.size=0:$e!==H&&_t.start!==H&&ke[$e]&&(_t.content=v(_t,ke[$e].data,(ke[tt]||{}).data))),_t.content&&ms(_t.content,0),Se[Et]=_t,Ue.push(_t)}}function T(te,ke){return new Date((tl(te,ke+4)/1e7*Math.pow(2,32)+tl(te,ke)/1e7-11644473600)*1e3)}function P(te,ke){return d(),h(c.readFileSync(te),ke)}function O(te,ke){var me=ke&&ke.type;switch(me||Vr&&Buffer.isBuffer(te)&&(me="buffer"),me||"base64"){case"file":return P(te,ke);case"base64":return h(il(dl(te)),ke);case"binary":return h(il(te),ke)}return h(te,ke)}function L(te,ke){var me=ke||{},pe=me.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=pe+"/",te.FileIndex[0]={name:pe,type:5}),me.CLSID&&(te.FileIndex[0].clsid=me.CLSID),U(te)}function U(te){var ke="Sh33tJ5";if(!hr.find(te,"/"+ke)){var me=nt(4);me[0]=55,me[1]=me[3]=50,me[2]=54,te.FileIndex.push({name:ke,type:2,content:me,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+ke),I(te)}}function I(te,ke){L(te);for(var me=!1,pe=!1,xe=te.FullPaths.length-1;xe>=0;--xe){var Se=te.FileIndex[xe];switch(Se.type){case 0:pe?me=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(Se.R*Se.L*Se.C)&&(me=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!ke)){var Ue=new Date(1987,1,19),tt=0,$e=Object.create?Object.create(null):{},He=[];for(xe=0;xe<te.FullPaths.length;++xe)$e[te.FullPaths[xe]]=!0,te.FileIndex[xe].type!==0&&He.push([te.FullPaths[xe],te.FileIndex[xe]]);for(xe=0;xe<He.length;++xe){var Ve=a(He[xe][0]);pe=$e[Ve],pe||(He.push([Ve,{name:n(Ve).replace("/",""),type:1,clsid:X,ct:Ue,mt:Ue,content:null}]),$e[Ve]=!0)}for(He.sort(function(Et,xt){return r(Et[0],xt[0])}),te.FullPaths=[],te.FileIndex=[],xe=0;xe<He.length;++xe)te.FullPaths[xe]=He[xe][0],te.FileIndex[xe]=He[xe][1];for(xe=0;xe<He.length;++xe){var mt=te.FileIndex[xe],yt=te.FullPaths[xe];if(mt.name=n(yt).replace("/",""),mt.L=mt.R=mt.C=-(mt.color=1),mt.size=mt.content?mt.content.length:0,mt.start=0,mt.clsid=mt.clsid||X,xe===0)mt.C=He.length>1?1:-1,mt.size=0,mt.type=5;else if(yt.slice(-1)=="/"){for(tt=xe+1;tt<He.length&&a(te.FullPaths[tt])!=yt;++tt);for(mt.C=tt>=He.length?-1:tt,tt=xe+1;tt<He.length&&a(te.FullPaths[tt])!=a(yt);++tt);mt.R=tt>=He.length?-1:tt,mt.type=1}else a(te.FullPaths[xe+1]||"")==a(yt)&&(mt.R=xe+1),mt.type=2}}}function K(te,ke){var me=ke||{};if(me.fileType=="mad")return Mo(te,me);switch(I(te),me.fileType){case"zip":return Er(te,me)}var pe=(function(Et){for(var xt=0,_t=0,Bt=0;Bt<Et.FileIndex.length;++Bt){var va=Et.FileIndex[Bt];if(va.content){var Wr=va.content.length;Wr>0&&(Wr<4096?xt+=Wr+63>>6:_t+=Wr+511>>9)}}for(var ka=Et.FullPaths.length+3>>2,as=xt+7>>3,Ro=xt+127>>7,Io=as+_t+ka+Ro,Bs=Io+127>>7,$c=Bs<=109?0:Math.ceil((Bs-109)/127);Io+Bs+$c+127>>7>Bs;)$c=++Bs<=109?0:Math.ceil((Bs-109)/127);var Yn=[1,$c,Bs,Ro,ka,_t,xt,0];return Et.FileIndex[0].size=xt<<6,Yn[7]=(Et.FileIndex[0].start=Yn[0]+Yn[1]+Yn[2]+Yn[3]+Yn[4]+Yn[5])+(Yn[6]+7>>3),Yn})(te),xe=nt(pe[7]<<9),Se=0,Ue=0;{for(Se=0;Se<8;++Se)xe.write_shift(1,ne[Se]);for(Se=0;Se<8;++Se)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),Se=0;Se<3;++Se)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,pe[2]),xe.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:H),xe.write_shift(4,pe[3]),xe.write_shift(-4,pe[1]?pe[0]-1:H),xe.write_shift(4,pe[1]),Se=0;Se<109;++Se)xe.write_shift(-4,Se<pe[2]?pe[1]+Se:-1)}if(pe[1])for(Ue=0;Ue<pe[1];++Ue){for(;Se<236+Ue*127;++Se)xe.write_shift(-4,Se<pe[2]?pe[1]+Se:-1);xe.write_shift(-4,Ue===pe[1]-1?H:Ue+1)}var tt=function(Et){for(Ue+=Et;Se<Ue-1;++Se)xe.write_shift(-4,Se+1);Et&&(++Se,xe.write_shift(-4,H))};for(Ue=Se=0,Ue+=pe[1];Se<Ue;++Se)xe.write_shift(-4,ae.DIFSECT);for(Ue+=pe[2];Se<Ue;++Se)xe.write_shift(-4,ae.FATSECT);tt(pe[3]),tt(pe[4]);for(var $e=0,He=0,Ve=te.FileIndex[0];$e<te.FileIndex.length;++$e)Ve=te.FileIndex[$e],Ve.content&&(He=Ve.content.length,!(He<4096)&&(Ve.start=Ue,tt(He+511>>9)));for(tt(pe[6]+7>>3);xe.l&511;)xe.write_shift(-4,ae.ENDOFCHAIN);for(Ue=Se=0,$e=0;$e<te.FileIndex.length;++$e)Ve=te.FileIndex[$e],Ve.content&&(He=Ve.content.length,!(!He||He>=4096)&&(Ve.start=Ue,tt(He+63>>6)));for(;xe.l&511;)xe.write_shift(-4,ae.ENDOFCHAIN);for(Se=0;Se<pe[4]<<2;++Se){var mt=te.FullPaths[Se];if(!mt||mt.length===0){for($e=0;$e<17;++$e)xe.write_shift(4,0);for($e=0;$e<3;++$e)xe.write_shift(4,-1);for($e=0;$e<12;++$e)xe.write_shift(4,0);continue}Ve=te.FileIndex[Se],Se===0&&(Ve.start=Ve.size?Ve.start-1:H);var yt=Se===0&&me.root||Ve.name;if(He=2*(yt.length+1),xe.write_shift(64,yt,"utf16le"),xe.write_shift(2,He),xe.write_shift(1,Ve.type),xe.write_shift(1,Ve.color),xe.write_shift(-4,Ve.L),xe.write_shift(-4,Ve.R),xe.write_shift(-4,Ve.C),Ve.clsid)xe.write_shift(16,Ve.clsid,"hex");else for($e=0;$e<4;++$e)xe.write_shift(4,0);xe.write_shift(4,Ve.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Ve.start),xe.write_shift(4,Ve.size),xe.write_shift(4,0)}for(Se=1;Se<te.FileIndex.length;++Se)if(Ve=te.FileIndex[Se],Ve.size>=4096)if(xe.l=Ve.start+1<<9,Vr&&Buffer.isBuffer(Ve.content))Ve.content.copy(xe,xe.l,0,Ve.size),xe.l+=Ve.size+511&-512;else{for($e=0;$e<Ve.size;++$e)xe.write_shift(1,Ve.content[$e]);for(;$e&511;++$e)xe.write_shift(1,0)}for(Se=1;Se<te.FileIndex.length;++Se)if(Ve=te.FileIndex[Se],Ve.size>0&&Ve.size<4096)if(Vr&&Buffer.isBuffer(Ve.content))Ve.content.copy(xe,xe.l,0,Ve.size),xe.l+=Ve.size+63&-64;else{for($e=0;$e<Ve.size;++$e)xe.write_shift(1,Ve.content[$e]);for(;$e&63;++$e)xe.write_shift(1,0)}if(Vr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function D(te,ke){var me=te.FullPaths.map(function($e){return $e.toUpperCase()}),pe=me.map(function($e){var He=$e.split("/");return He[He.length-($e.slice(-1)=="/"?2:1)]}),xe=!1;ke.charCodeAt(0)===47?(xe=!0,ke=me[0].slice(0,-1)+ke):xe=ke.indexOf("/")!==-1;var Se=ke.toUpperCase(),Ue=xe===!0?me.indexOf(Se):pe.indexOf(Se);if(Ue!==-1)return te.FileIndex[Ue];var tt=!Se.match(Fx);for(Se=Se.replace(ao,""),tt&&(Se=Se.replace(Fx,"!")),Ue=0;Ue<me.length;++Ue)if((tt?me[Ue].replace(Fx,"!"):me[Ue]).replace(ao,"")==Se||(tt?pe[Ue].replace(Fx,"!"):pe[Ue]).replace(ao,"")==Se)return te.FileIndex[Ue];return null}var F=64,H=-2,Y="d0cf11e0a1b11ae1",ne=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ue(te,ke,me){d();var pe=K(te,me);c.writeFileSync(ke,pe)}function se(te){for(var ke=new Array(te.length),me=0;me<te.length;++me)ke[me]=String.fromCharCode(te[me]);return ke.join("")}function be(te,ke){var me=K(te,ke);switch(ke&&ke.type||"buffer"){case"file":return d(),c.writeFileSync(ke.filename,me),me;case"binary":return typeof me=="string"?me:se(me);case"base64":return k1(typeof me=="string"?me:se(me));case"buffer":if(Vr)return Buffer.isBuffer(me)?me:rd(me);case"array":return typeof me=="string"?il(me):me}return me}var J;function M(te){try{var ke=te.InflateRaw,me=new ke;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)J=te;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function z(te,ke){if(!J)return bt(te,ke);var me=J.InflateRaw,pe=new me,xe=pe._processChunk(te.slice(te.l),pe._finishFlushFlag);return te.l+=pe.bytesRead,xe}function q(te){return J?J.deflateRawSync(te):vt(te)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(te){var ke=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var oe=typeof Uint8Array<"u",Ne=oe?new Uint8Array(256):[],Me=0;Me<256;++Me)Ne[Me]=je(Me);function Q(te,ke){var me=Ne[te&255];return ke<=8?me>>>8-ke:(me=me<<8|Ne[te>>8&255],ke<=16?me>>>16-ke:(me=me<<8|Ne[te>>16&255],me>>>24-ke))}function Te(te,ke){var me=ke&7,pe=ke>>>3;return(te[pe]|(me<=6?0:te[pe+1]<<8))>>>me&3}function Ae(te,ke){var me=ke&7,pe=ke>>>3;return(te[pe]|(me<=5?0:te[pe+1]<<8))>>>me&7}function de(te,ke){var me=ke&7,pe=ke>>>3;return(te[pe]|(me<=4?0:te[pe+1]<<8))>>>me&15}function Qe(te,ke){var me=ke&7,pe=ke>>>3;return(te[pe]|(me<=3?0:te[pe+1]<<8))>>>me&31}function we(te,ke){var me=ke&7,pe=ke>>>3;return(te[pe]|(me<=1?0:te[pe+1]<<8))>>>me&127}function Ze(te,ke,me){var pe=ke&7,xe=ke>>>3,Se=(1<<me)-1,Ue=te[xe]>>>pe;return me<8-pe||(Ue|=te[xe+1]<<8-pe,me<16-pe)||(Ue|=te[xe+2]<<16-pe,me<24-pe)||(Ue|=te[xe+3]<<24-pe),Ue&Se}function Xe(te,ke,me){var pe=ke&7,xe=ke>>>3;return pe<=5?te[xe]|=(me&7)<<pe:(te[xe]|=me<<pe&255,te[xe+1]=(me&7)>>8-pe),ke+3}function gt(te,ke,me){var pe=ke&7,xe=ke>>>3;return me=(me&1)<<pe,te[xe]|=me,ke+1}function ot(te,ke,me){var pe=ke&7,xe=ke>>>3;return me<<=pe,te[xe]|=me&255,me>>>=8,te[xe+1]=me,ke+8}function Ct(te,ke,me){var pe=ke&7,xe=ke>>>3;return me<<=pe,te[xe]|=me&255,me>>>=8,te[xe+1]=me&255,te[xe+2]=me>>>8,ke+16}function Pt(te,ke){var me=te.length,pe=2*me>ke?2*me:ke+5,xe=0;if(me>=ke)return te;if(Vr){var Se=cD(pe);if(te.copy)te.copy(Se);else for(;xe<te.length;++xe)Se[xe]=te[xe];return Se}else if(oe){var Ue=new Uint8Array(pe);if(Ue.set)Ue.set(te);else for(;xe<me;++xe)Ue[xe]=te[xe];return Ue}return te.length=pe,te}function Dt(te){for(var ke=new Array(te),me=0;me<te;++me)ke[me]=0;return ke}function er(te,ke,me){var pe=1,xe=0,Se=0,Ue=0,tt=0,$e=te.length,He=oe?new Uint16Array(32):Dt(32);for(Se=0;Se<32;++Se)He[Se]=0;for(Se=$e;Se<me;++Se)te[Se]=0;$e=te.length;var Ve=oe?new Uint16Array($e):Dt($e);for(Se=0;Se<$e;++Se)He[xe=te[Se]]++,pe<xe&&(pe=xe),Ve[Se]=0;for(He[0]=0,Se=1;Se<=pe;++Se)He[Se+16]=tt=tt+He[Se-1]<<1;for(Se=0;Se<$e;++Se)tt=te[Se],tt!=0&&(Ve[Se]=He[tt+16]++);var mt=0;for(Se=0;Se<$e;++Se)if(mt=te[Se],mt!=0)for(tt=Q(Ve[Se],pe)>>pe-mt,Ue=(1<<pe+4-mt)-1;Ue>=0;--Ue)ke[tt|Ue<<mt]=mt&15|Se<<4;return pe}var ar=oe?new Uint16Array(512):Dt(512),$r=oe?new Uint16Array(32):Dt(32);if(!oe){for(var qt=0;qt<512;++qt)ar[qt]=0;for(qt=0;qt<32;++qt)$r[qt]=0}(function(){for(var te=[],ke=0;ke<32;ke++)te.push(5);er(te,$r,32);var me=[];for(ke=0;ke<=143;ke++)me.push(8);for(;ke<=255;ke++)me.push(9);for(;ke<=279;ke++)me.push(7);for(;ke<=287;ke++)me.push(8);er(me,ar,288)})();var Lt=(function(){for(var ke=oe?new Uint8Array(32768):[],me=0,pe=0;me<he.length-1;++me)for(;pe<he[me+1];++pe)ke[pe]=me;for(;pe<32768;++pe)ke[pe]=29;var xe=oe?new Uint8Array(259):[];for(me=0,pe=0;me<re.length-1;++me)for(;pe<re[me+1];++pe)xe[pe]=me;function Se(tt,$e){for(var He=0;He<tt.length;){var Ve=Math.min(65535,tt.length-He),mt=He+Ve==tt.length;for($e.write_shift(1,+mt),$e.write_shift(2,Ve),$e.write_shift(2,~Ve&65535);Ve-- >0;)$e[$e.l++]=tt[He++]}return $e.l}function Ue(tt,$e){for(var He=0,Ve=0,mt=oe?new Uint16Array(32768):[];Ve<tt.length;){var yt=Math.min(65535,tt.length-Ve);if(yt<10){for(He=Xe($e,He,+(Ve+yt==tt.length)),He&7&&(He+=8-(He&7)),$e.l=He/8|0,$e.write_shift(2,yt),$e.write_shift(2,~yt&65535);yt-- >0;)$e[$e.l++]=tt[Ve++];He=$e.l*8;continue}He=Xe($e,He,+(Ve+yt==tt.length)+2);for(var Et=0;yt-- >0;){var xt=tt[Ve];Et=(Et<<5^xt)&32767;var _t=-1,Bt=0;if((_t=mt[Et])&&(_t|=Ve&-32768,_t>Ve&&(_t-=32768),_t<Ve))for(;tt[_t+Bt]==tt[Ve+Bt]&&Bt<250;)++Bt;if(Bt>2){xt=xe[Bt],xt<=22?He=ot($e,He,Ne[xt+1]>>1)-1:(ot($e,He,3),He+=5,ot($e,He,Ne[xt-23]>>5),He+=3);var va=xt<8?0:xt-4>>2;va>0&&(Ct($e,He,Bt-re[xt]),He+=va),xt=ke[Ve-_t],He=ot($e,He,Ne[xt]>>3),He-=3;var Wr=xt<4?0:xt-2>>1;Wr>0&&(Ct($e,He,Ve-_t-he[xt]),He+=Wr);for(var ka=0;ka<Bt;++ka)mt[Et]=Ve&32767,Et=(Et<<5^tt[Ve])&32767,++Ve;yt-=Bt-1}else xt<=143?xt=xt+48:He=gt($e,He,1),He=ot($e,He,Ne[xt]),mt[Et]=Ve&32767,++Ve}He=ot($e,He,0)-1}return $e.l=(He+7)/8|0,$e.l}return function($e,He){return $e.length<8?Se($e,He):Ue($e,He)}})();function vt(te){var ke=nt(50+Math.floor(te.length*1.1)),me=Lt(te,ke);return ke.slice(0,me)}var Tt=oe?new Uint16Array(32768):Dt(32768),Dr=oe?new Uint16Array(32768):Dt(32768),Ft=oe?new Uint16Array(128):Dt(128),At=1,ir=1;function Tr(te,ke){var me=Qe(te,ke)+257;ke+=5;var pe=Qe(te,ke)+1;ke+=5;var xe=de(te,ke)+4;ke+=4;for(var Se=0,Ue=oe?new Uint8Array(19):Dt(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,He=oe?new Uint8Array(8):Dt(8),Ve=oe?new Uint8Array(8):Dt(8),mt=Ue.length,yt=0;yt<xe;++yt)Ue[G[yt]]=Se=Ae(te,ke),$e<Se&&($e=Se),He[Se]++,ke+=3;var Et=0;for(He[0]=0,yt=1;yt<=$e;++yt)Ve[yt]=Et=Et+He[yt-1]<<1;for(yt=0;yt<mt;++yt)(Et=Ue[yt])!=0&&(tt[yt]=Ve[Et]++);var xt=0;for(yt=0;yt<mt;++yt)if(xt=Ue[yt],xt!=0){Et=Ne[tt[yt]]>>8-xt;for(var _t=(1<<7-xt)-1;_t>=0;--_t)Ft[Et|_t<<xt]=xt&7|yt<<3}var Bt=[];for($e=1;Bt.length<me+pe;)switch(Et=Ft[we(te,ke)],ke+=Et&7,Et>>>=3){case 16:for(Se=3+Te(te,ke),ke+=2,Et=Bt[Bt.length-1];Se-- >0;)Bt.push(Et);break;case 17:for(Se=3+Ae(te,ke),ke+=3;Se-- >0;)Bt.push(0);break;case 18:for(Se=11+we(te,ke),ke+=7;Se-- >0;)Bt.push(0);break;default:Bt.push(Et),$e<Et&&($e=Et);break}var va=Bt.slice(0,me),Wr=Bt.slice(me);for(yt=me;yt<286;++yt)va[yt]=0;for(yt=pe;yt<30;++yt)Wr[yt]=0;return At=er(va,Tt,286),ir=er(Wr,Dr,30),ke}function qe(te,ke){if(te[0]==3&&!(te[1]&3))return[hf(ke),2];for(var me=0,pe=0,xe=cD(ke||1<<18),Se=0,Ue=xe.length>>>0,tt=0,$e=0;(pe&1)==0;){if(pe=Ae(te,me),me+=3,pe>>>1)pe>>1==1?(tt=9,$e=5):(me=Tr(te,me),tt=At,$e=ir);else{me&7&&(me+=8-(me&7));var He=te[me>>>3]|te[(me>>>3)+1]<<8;if(me+=32,He>0)for(!ke&&Ue<Se+He&&(xe=Pt(xe,Se+He),Ue=xe.length);He-- >0;)xe[Se++]=te[me>>>3],me+=8;continue}for(;;){!ke&&Ue<Se+32767&&(xe=Pt(xe,Se+32767),Ue=xe.length);var Ve=Ze(te,me,tt),mt=pe>>>1==1?ar[Ve]:Tt[Ve];if(me+=mt&15,mt>>>=4,(mt>>>8&255)===0)xe[Se++]=mt;else{if(mt==256)break;mt-=257;var yt=mt<8?0:mt-4>>2;yt>5&&(yt=0);var Et=Se+re[mt];yt>0&&(Et+=Ze(te,me,yt),me+=yt),Ve=Ze(te,me,$e),mt=pe>>>1==1?$r[Ve]:Dr[Ve],me+=mt&15,mt>>>=4;var xt=mt<4?0:mt-2>>1,_t=he[mt];for(xt>0&&(_t+=Ze(te,me,xt),me+=xt),!ke&&Ue<Et&&(xe=Pt(xe,Et+100),Ue=xe.length);Se<Et;)xe[Se]=xe[Se-_t],++Se}}}return ke?[xe,me+7>>>3]:[xe.slice(0,Se),me+7>>>3]}function bt(te,ke){var me=te.slice(te.l||0),pe=qe(me,ke);return te.l+=pe[1],pe[0]}function kt(te,ke){if(te)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function gr(te,ke){var me=te;ms(me,0);var pe=[],xe=[],Se={FileIndex:pe,FullPaths:xe};L(Se,{root:ke.root});for(var Ue=me.length-4;(me[Ue]!=80||me[Ue+1]!=75||me[Ue+2]!=5||me[Ue+3]!=6)&&Ue>=0;)--Ue;me.l=Ue+4,me.l+=4;var tt=me.read_shift(2);me.l+=6;var $e=me.read_shift(4);for(me.l=$e,Ue=0;Ue<tt;++Ue){me.l+=20;var He=me.read_shift(4),Ve=me.read_shift(4),mt=me.read_shift(2),yt=me.read_shift(2),Et=me.read_shift(2);me.l+=8;var xt=me.read_shift(4),_t=o(me.slice(me.l+mt,me.l+mt+yt));me.l+=mt+yt+Et;var Bt=me.l;me.l=xt+4,Rr(me,He,Ve,Se,_t),me.l=Bt}return Se}function Rr(te,ke,me,pe,xe){te.l+=2;var Se=te.read_shift(2),Ue=te.read_shift(2),tt=s(te);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var $e=te.read_shift(4),He=te.read_shift(4),Ve=te.read_shift(4),mt=te.read_shift(2),yt=te.read_shift(2),Et="",xt=0;xt<mt;++xt)Et+=String.fromCharCode(te[te.l++]);if(yt){var _t=o(te.slice(te.l,te.l+yt));(_t[21589]||{}).mt&&(tt=_t[21589].mt),((xe||{})[21589]||{}).mt&&(tt=xe[21589].mt)}te.l+=yt;var Bt=te.slice(te.l,te.l+He);switch(Ue){case 8:Bt=z(te,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ue)}var va=!1;Se&8&&($e=te.read_shift(4),$e==134695760&&($e=te.read_shift(4),va=!0),He=te.read_shift(4),Ve=te.read_shift(4)),He!=ke&&kt(va,"Bad compressed size: "+ke+" != "+He),Ve!=me&&kt(va,"Bad uncompressed size: "+me+" != "+Ve),bi(pe,Et,Bt,{unsafe:!0,mt:tt})}function Er(te,ke){var me=ke||{},pe=[],xe=[],Se=nt(1),Ue=me.compression?8:0,tt=0,$e=0,He=0,Ve=0,mt=0,yt=te.FullPaths[0],Et=yt,xt=te.FileIndex[0],_t=[],Bt=0;for($e=1;$e<te.FullPaths.length;++$e)if(Et=te.FullPaths[$e].slice(yt.length),xt=te.FileIndex[$e],!(!xt.size||!xt.content||Et=="Sh33tJ5")){var va=Ve,Wr=nt(Et.length);for(He=0;He<Et.length;++He)Wr.write_shift(1,Et.charCodeAt(He)&127);Wr=Wr.slice(0,Wr.l),_t[mt]=Vge.buf(xt.content,0);var ka=xt.content;Ue==8&&(ka=q(ka)),Se=nt(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,tt),Se.write_shift(2,Ue),xt.mt?i(Se,xt.mt):Se.write_shift(4,0),Se.write_shift(-4,_t[mt]),Se.write_shift(4,ka.length),Se.write_shift(4,xt.content.length),Se.write_shift(2,Wr.length),Se.write_shift(2,0),Ve+=Se.length,pe.push(Se),Ve+=Wr.length,pe.push(Wr),Ve+=ka.length,pe.push(ka),Se=nt(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,tt),Se.write_shift(2,Ue),Se.write_shift(4,0),Se.write_shift(-4,_t[mt]),Se.write_shift(4,ka.length),Se.write_shift(4,xt.content.length),Se.write_shift(2,Wr.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,va),Bt+=Se.l,xe.push(Se),Bt+=Wr.length,xe.push(Wr),++mt}return Se=nt(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,mt),Se.write_shift(2,mt),Se.write_shift(4,Bt),Se.write_shift(4,Ve),Se.write_shift(2,0),Ji([Ji(pe),Ji(xe),Se])}var Mt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function sr(te,ke){if(te.ctype)return te.ctype;var me=te.name||"",pe=me.match(/\.([^\.]+)$/);return pe&&Mt[pe[1]]||ke&&(pe=(me=ke).match(/[\.\\]([^\.\\])+$/),pe&&Mt[pe[1]])?Mt[pe[1]]:"application/octet-stream"}function Hr(te){for(var ke=k1(te),me=[],pe=0;pe<ke.length;pe+=76)me.push(ke.slice(pe,pe+76));return me.join(`\r
`)+`\r
`}function en(te){var ke=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Ve=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],pe=ke.split(`\r
`),xe=0;xe<pe.length;++xe){var Se=pe[xe];if(Se.length==0){me.push("");continue}for(var Ue=0;Ue<Se.length;){var tt=76,$e=Se.slice(Ue,Ue+tt);$e.charAt(tt-1)=="="?tt--:$e.charAt(tt-2)=="="?tt-=2:$e.charAt(tt-3)=="="&&(tt-=3),$e=Se.slice(Ue,Ue+tt),Ue+=tt,Ue<Se.length&&($e+="="),me.push($e)}}return me.join(`\r
`)}function Ui(te){for(var ke=[],me=0;me<te.length;++me){for(var pe=te[me];me<=te.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+te[++me];ke.push(pe)}for(var xe=0;xe<ke.length;++xe)ke[xe]=ke[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return il(ke.join(`\r
`))}function oi(te,ke,me){for(var pe="",xe="",Se="",Ue,tt=0;tt<10;++tt){var $e=ke[tt];if(!$e||$e.match(/^\s*$/))break;var He=$e.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":pe=He[2].trim();break;case"content-type":Se=He[2].trim();break;case"content-transfer-encoding":xe=He[2].trim();break}}switch(++tt,xe.toLowerCase()){case"base64":Ue=il(dl(ke.slice(tt).join("")));break;case"quoted-printable":Ue=Ui(ke.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Ve=bi(te,pe.slice(me.length),Ue,{unsafe:!0});Se&&(Ve.ctype=Se)}function nr(te,ke){if(se(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=ke&&ke.root||"",pe=(Vr&&Buffer.isBuffer(te)?te.toString("binary"):se(te)).split(`\r
`),xe=0,Se="";for(xe=0;xe<pe.length;++xe)if(Se=pe[xe],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),me||(me=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),Se.slice(0,me.length)!=me););var Ue=(pe[1]||"").match(/boundary="(.*?)"/);if(!Ue)throw new Error("MAD cannot find boundary");var tt="--"+(Ue[1]||""),$e=[],He=[],Ve={FileIndex:$e,FullPaths:He};L(Ve);var mt,yt=0;for(xe=0;xe<pe.length;++xe){var Et=pe[xe];Et!==tt&&Et!==tt+"--"||(yt++&&oi(Ve,pe.slice(mt,xe),me),mt=xe)}return Ve}function Mo(te,ke){var me=ke||{},pe=me.boundary||"SheetJS";pe="------="+pe;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],Se=te.FullPaths[0],Ue=Se,tt=te.FileIndex[0],$e=1;$e<te.FullPaths.length;++$e)if(Ue=te.FullPaths[$e].slice(Se.length),tt=te.FileIndex[$e],!(!tt.size||!tt.content||Ue=="Sh33tJ5")){Ue=Ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Bt){return"_x"+Bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Bt){return"_u"+Bt.charCodeAt(0).toString(16)+"_"});for(var He=tt.content,Ve=Vr&&Buffer.isBuffer(He)?He.toString("binary"):se(He),mt=0,yt=Math.min(1024,Ve.length),Et=0,xt=0;xt<=yt;++xt)(Et=Ve.charCodeAt(xt))>=32&&Et<128&&++mt;var _t=mt>=yt*4/5;xe.push(pe),xe.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Ue),xe.push("Content-Transfer-Encoding: "+(_t?"quoted-printable":"base64")),xe.push("Content-Type: "+sr(tt,Ue)),xe.push(""),xe.push(_t?en(Ve):Hr(Ve))}return xe.push(pe+`--\r
`),xe.join(`\r
`)}function oo(te){var ke={};return L(ke,te),ke}function bi(te,ke,me,pe){var xe=pe&&pe.unsafe;xe||L(te);var Se=!xe&&hr.find(te,ke);if(!Se){var Ue=te.FullPaths[0];ke.slice(0,Ue.length)==Ue?Ue=ke:(Ue.slice(-1)!="/"&&(Ue+="/"),Ue=(Ue+ke).replace("//","/")),Se={name:n(ke),type:2},te.FileIndex.push(Se),te.FullPaths.push(Ue),xe||hr.utils.cfb_gc(te)}return Se.content=me,Se.size=me?me.length:0,pe&&(pe.CLSID&&(Se.clsid=pe.CLSID),pe.mt&&(Se.mt=pe.mt),pe.ct&&(Se.ct=pe.ct)),Se}function rs(te,ke){L(te);var me=hr.find(te,ke);if(me){for(var pe=0;pe<te.FileIndex.length;++pe)if(te.FileIndex[pe]==me)return te.FileIndex.splice(pe,1),te.FullPaths.splice(pe,1),!0}return!1}function Ma(te,ke,me){L(te);var pe=hr.find(te,ke);if(pe){for(var xe=0;xe<te.FileIndex.length;++xe)if(te.FileIndex[xe]==pe)return te.FileIndex[xe].name=n(me),te.FullPaths[xe]=me,!0}return!1}function hn(te){I(te,!0)}return t.find=D,t.read=O,t.parse=h,t.write=be,t.writeFile=ue,t.utils={cfb_new:oo,cfb_add:bi,cfb_del:rs,cfb_mov:Ma,cfb_gc:hn,ReadShift:Wx,CheckField:kq,prep_blob:ms,bconcat:Ji,use_zlib:M,_deflateRaw:vt,_inflateRaw:bt,consts:ae},t})();function Kge(e){return typeof e=="string"?Uw(e):Array.isArray(e)?yge(e):e}function gv(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Uw(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var a=r=="utf8"?Su(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,e);if(typeof Blob<"u"){var n=new Blob([Kge(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(typeof saveAs<"u")return saveAs(n,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=_f(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Gge(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Gn(e){for(var t=Object.keys(e),r=[],a=0;a<t.length;++a)Object.prototype.hasOwnProperty.call(e,t[a])&&r.push(t[a]);return r}function xD(e,t){for(var r=[],a=Gn(e),n=0;n!==a.length;++n)r[e[a[n]][t]]==null&&(r[e[a[n]][t]]=a[n]);return r}function qw(e){for(var t=[],r=Gn(e),a=0;a!==r.length;++a)t[e[r[a]]]=r[a];return t}function $w(e){for(var t=[],r=Gn(e),a=0;a!==r.length;++a)t[e[r[a]]]=parseInt(r[a],10);return t}function Yge(e){for(var t=[],r=Gn(e),a=0;a!==r.length;++a)t[e[r[a]]]==null&&(t[e[r[a]]]=[]),t[e[r[a]]].push(r[a]);return t}var T2=new Date(1899,11,30,0,0,0);function Li(e,t){var r=e.getTime(),a=T2.getTime()+(e.getTimezoneOffset()-T2.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var tq=new Date,Xge=T2.getTime()+(tq.getTimezoneOffset()-T2.getTimezoneOffset())*6e4,vD=tq.getTimezoneOffset();function Hw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Xge),t.getTimezoneOffset()!==vD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-vD)*6e4),t}function Qge(e){var t=0,r=0,a=!1,n=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=n.length;++i)if(n[i]){switch(r=1,i>3&&(a=!0),n[i].slice(n[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[i].slice(n[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(n[i],10)}return t}var yD=new Date("2017-02-19T19:06:09.000Z"),rq=isNaN(yD.getFullYear())?new Date("2/19/17"):yD,Jge=rq.getFullYear()==2017;function dn(e,t){var r=new Date(e);if(Jge)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rq.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return e.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Jh(e,t){if(Vr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Su(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Su($z(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Su(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Su(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var a=[],n=0;n!=e.length;++n)a.push(String.fromCharCode(e[n]));return a.join("")}function fn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=fn(e[r]));return t}function Wn(e,t){for(var r="";r.length<t;)r+=e;return r}function Mc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,i){return r=-r,i}),!isNaN(t=Number(a)))?t/r:t}var Zge=["january","february","march","april","may","june","july","august","september","october","november","december"];function lg(e){var t=new Date(e),r=new Date(NaN),a=t.getYear(),n=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Zge.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||i>1)&&a!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var exe=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(e||typeof a=="string")return r.split(a);for(var i=r.split(a),s=[i[0]],o=1;o<i.length;++o)s.push(n),s.push(i[o]);return s}})();function aq(e){return e?e.content&&e.type?Jh(e.content,!0):e.data?Ix(e.data):e.asNodeBuffer&&Vr?Ix(e.asNodeBuffer().toString("binary")):e.asBinary?Ix(e.asBinary()):e._data&&e._data.getContent?Ix(Jh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function nq(e){if(!e)return null;if(e.data)return oD(e.data);if(e.asNodeBuffer&&Vr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?oD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function txe(e){return e&&e.name.slice(-4)===".bin"?nq(e):aq(e)}function Fl(e,t){for(var r=e.FullPaths||Gn(e.files),a=t.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==s||n==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function Uj(e,t){var r=Fl(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function hi(e,t,r){if(!r)return txe(Uj(e,t));if(!t)return null;try{return hi(e,t)}catch{return null}}function sl(e,t,r){if(!r)return aq(Uj(e,t));if(!t)return null;try{return sl(e,t)}catch{return null}}function rxe(e,t,r){return nq(Uj(e,t))}function bD(e){for(var t=e.FullPaths||Gn(e.files),r=[],a=0;a<t.length;++a)t[a].slice(-1)!="/"&&r.push(t[a].replace(/^Root Entry[\/]/,""));return r.sort()}function Fr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var a;return Vr?a=rd(r):a=bge(r),hr.utils.cfb_add(e,t,a)}hr.utils.cfb_add(e,t,r)}else e.file(t,r)}function zj(){return hr.utils.cfb_new()}function iq(e,t){switch(t.type){case"base64":return hr.read(e,{type:"base64"});case"binary":return hr.read(e,{type:"binary"});case"buffer":case"array":return hr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Bx(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var a=e.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var si=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,axe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,wD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,nxe=/<[^>]*>/g,Fs=si.match(wD)?wD:nxe,ixe=/<\w*:/,sxe=/<(\/?)\w+:/;function kr(e,t,r){for(var a={},n=0,i=0;n!==e.length&&!((i=e.charCodeAt(n))===32||i===10||i===13);++n);if(t||(a[0]=e.slice(0,n)),n===e.length)return a;var s=e.match(axe),o=0,c="",d=0,h="",m="",x=1;if(s)for(d=0;d!=s.length;++d){for(m=s[d],i=0;i!=m.length&&m.charCodeAt(i)!==61;++i);for(h=m.slice(0,i).trim();m.charCodeAt(i+1)==32;)++i;for(x=(n=m.charCodeAt(i+1))==34||n==39?1:0,c=m.slice(i+1+x,m.length-x),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),a[h]=c,a[h.toLowerCase()]=c;else{var p=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(a[p]&&h.slice(o-3,o)=="ext")continue;a[p]=c,a[p.toLowerCase()]=c}}return a}function Mu(e){return e.replace(sxe,"<$1")}var sq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qj=qw(sq),da=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",i=n.indexOf("<![CDATA[");if(i==-1)return n.replace(e,function(o,c){return sq[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=n.indexOf("]]>");return r(n.slice(0,i))+n.slice(i+9,s)+r(n.slice(s+3))}})(),$j=/[&<>'"]/g,oxe=/[\u0000-\u0008\u000b-\u001f]/g;function La(e){var t=e+"";return t.replace($j,function(r){return qj[r]}).replace(oxe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function kD(e){return La(e).replace(/ /g,"_x0020_")}var oq=/[\u0000-\u001f]/g;function Hj(e){var t=e+"";return t.replace($j,function(r){return qj[r]}).replace(/\n/g,"<br/>").replace(oq,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function lxe(e){var t=e+"";return t.replace($j,function(r){return qj[r]}).replace(oq,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var _D=(function(){var e=/&#(\d+);/g;function t(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,t)}})();function cxe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ln(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function c_(e){for(var t="",r=0,a=0,n=0,i=0,s=0,o=0;r<e.length;){if(a=e.charCodeAt(r++),a<128){t+=String.fromCharCode(a);continue}if(n=e.charCodeAt(r++),a>191&&a<224){s=(a&31)<<6,s|=n&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),a<240){t+=String.fromCharCode((a&15)<<12|(n&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((a&7)<<18|(n&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function SD(e){var t=hf(2*e.length),r,a,n=1,i=0,s=0,o;for(a=0;a<e.length;a+=n)n=1,(o=e.charCodeAt(a))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(a+1)&63),n=2):o<240?(r=(o&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),n=3):(n=4,r=(o&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function ND(e){return rd(e,"binary").toString("utf8")}var Ky="foo bar baz",Wa=Vr&&(ND(Ky)==c_(Ky)&&ND||SD(Ky)==c_(Ky)&&SD)||c_,Su=Vr?function(e){return rd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,a=0,n=0;r<e.length;)switch(a=e.charCodeAt(r++),!0){case a<128:t.push(String.fromCharCode(a));break;case a<2048:t.push(String.fromCharCode(192+(a>>6))),t.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=e.charCodeAt(r++)-56320+(a<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)));break;default:t.push(String.fromCharCode(224+(a>>12))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)))}return t.join("")},S1=(function(){var e={};return function(r,a){var n=r+"|"+(a||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}})(),lq=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<e.length;++n)a=a.replace(e[n][0],e[n][1]);return a}})(),uxe=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),dxe=/<\/?(?:vt:)?variant>/g,fxe=/<(?:vt:)([^>]*)>([\s\S]*)</;function jD(e,t){var r=kr(e),a=e.match(uxe(r.baseType))||[],n=[];if(a.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(i){var s=i.replace(dxe,"").match(fxe);s&&n.push({v:Wa(s[2]),t:s[1]})}),n}var cq=/(^\s|\s$|\n)/;function ps(e,t){return"<"+e+(t.match(cq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function N1(e){return Gn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function wt(e,t,r){return"<"+e+(r!=null?N1(r):"")+(t!=null?(t.match(cq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ES(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function hxe(e,t){switch(typeof e){case"string":var r=wt("vt:lpwstr",La(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return wt((e|0)==e?"vt:i4":"vt:r8",La(String(e)));case"boolean":return wt("vt:bool",e?"true":"false")}if(e instanceof Date)return wt("vt:filetime",ES(e));throw new Error("Unable to serialize "+e)}function Wj(e){if(Vr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Wa(_f(Ij(e)));throw new Error("Bad input format: expected Buffer or string")}var j1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Di={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},cm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],el={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function mxe(e,t){for(var r=1-2*(e[t+7]>>>7),a=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),n=e[t+6]&15,i=5;i>=0;--i)n=n*256+e[t+i];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function pxe(e,t,r){var a=(t<0||1/t==-1/0?1:0)<<7,n=0,i=0,s=a?-t:t;isFinite(s)?s==0?n=i=0:(n=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-n),n<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?n=-1022:(i-=Math.pow(2,52),n+=1023)):(n=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(n&15)<<4|i&15,e[r+7]=n>>4|a}var AD=function(e){for(var t=[],r=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var n=0,i=e[0][a].length;n<i;n+=r)t.push.apply(t,e[0][a].slice(n,n+r));return t},TD=Vr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:rd(t)})):AD(e)}:AD,ED=function(e,t,r){for(var a=[],n=t;n<r;n+=2)a.push(String.fromCharCode(j0(e,n)));return a.join("").replace(ao,"")},Vj=Vr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ao,""):ED(e,t,r)}:ED,CD=function(e,t,r){for(var a=[],n=t;n<t+r;++n)a.push(("0"+e[n].toString(16)).slice(-2));return a.join("")},uq=Vr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):CD(e,t,r)}:CD,OD=function(e,t,r){for(var a=[],n=t;n<r;n++)a.push(String.fromCharCode(_p(e,n)));return a.join("")},xv=Vr?function(t,r,a){return Buffer.isBuffer(t)?t.toString("utf8",r,a):OD(t,r,a)}:OD,dq=function(e,t){var r=tl(e,t);return r>0?xv(e,t+4,t+4+r-1):""},fq=dq,hq=function(e,t){var r=tl(e,t);return r>0?xv(e,t+4,t+4+r-1):""},mq=hq,pq=function(e,t){var r=2*tl(e,t);return r>0?xv(e,t+4,t+4+r-1):""},gq=pq,xq=function(t,r){var a=tl(t,r);return a>0?Vj(t,r+4,r+4+a):""},vq=xq,yq=function(e,t){var r=tl(e,t);return r>0?xv(e,t+4,t+4+r):""},bq=yq,wq=function(e,t){return mxe(e,t)},E2=wq,Kj=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Vr&&(fq=function(t,r){if(!Buffer.isBuffer(t))return dq(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},mq=function(t,r){if(!Buffer.isBuffer(t))return hq(t,r);var a=t.readUInt32LE(r);return a>0?t.toString("utf8",r+4,r+4+a-1):""},gq=function(t,r){if(!Buffer.isBuffer(t))return pq(t,r);var a=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a-1)},vq=function(t,r){if(!Buffer.isBuffer(t))return xq(t,r);var a=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+a)},bq=function(t,r){if(!Buffer.isBuffer(t))return yq(t,r);var a=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+a)},E2=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):wq(t,r)},Kj=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var _p=function(e,t){return e[t]},j0=function(e,t){return e[t+1]*256+e[t]},gxe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},tl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},lh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},xxe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Wx(e,t){var r="",a,n,i=[],s,o,c,d;switch(t){case"dbcs":if(d=this.l,Vr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(j0(this,d)),d+=2;e*=2;break;case"utf8":r=xv(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Vj(this,this.l,this.l+e);break;case"wstr":return Wx.call(this,e,"dbcs");case"lpstr-ansi":r=fq(this,this.l),e=4+tl(this,this.l);break;case"lpstr-cp":r=mq(this,this.l),e=4+tl(this,this.l);break;case"lpwstr":r=gq(this,this.l),e=4+2*tl(this,this.l);break;case"lpp4":e=4+tl(this,this.l),r=vq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+tl(this,this.l),r=bq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=_p(this,this.l+e++))!==0;)i.push(Vy(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=j0(this,this.l+e))!==0;)i.push(Vy(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return s=_p(this,d),this.l=d+1,o=Wx.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Vy(j0(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return s=_p(this,d),this.l=d+1,o=Wx.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Vy(_p(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return a=_p(this,this.l),this.l++,a;case 2:return a=(t==="i"?gxe:j0)(this,this.l),this.l+=2,a;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(a=(e>0?lh:xxe)(this,this.l),this.l+=4,a):(n=tl(this,this.l),this.l+=4,n);case 8:case-8:if(t==="f")return e==8?n=E2(this,this.l):n=E2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:r=uq(this,this.l,e);break}}return this.l+=e,r}var vxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},yxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},bxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function wxe(e,t,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=t.length;++n)bxe(this,t.charCodeAt(n),this.l+2*n);a=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=t.charCodeAt(n)&255;a=t.length}else if(r==="hex"){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var s=t.charCodeAt(n);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=t&255;break;case 2:a=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:a=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:a=4,vxe(this,t,this.l);break;case 8:if(a=8,r==="f"){pxe(this,t,this.l);break}case 16:break;case-4:a=4,yxe(this,t,this.l);break}return this.l+=a,this}function kq(e,t){var r=uq(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ms(e,t){e.l=t,e.read_shift=Wx,e.chk=kq,e.write_shift=wxe}function Rs(e,t){e.l+=t}function nt(e){var t=hf(e);return ms(t,0),t}function ad(e,t,r){if(e){var a,n,i;ms(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var d=P1[o]||P1[65535];for(a=e.read_shift(1),i=a&127,n=1;n<4&&a&128;++n)i+=((a=e.read_shift(1))&127)<<7*n;c=e.l+i;var h=d.f&&d.f(e,i,r);if(e.l=c,t(h,d,o))return}}}function Po(){var e=[],t=Vr?256:2048,r=function(d){var h=nt(d);return ms(h,0),h},a=r(t),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(n(),a=r(Math.max(d+1,t)))},s=function(){return n(),Ji(e)},o=function(d){n(),a=d,a.l==null&&(a.l=a.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function ht(e,t,r,a){var n=+t,i;if(!isNaN(n)){a||(a=P1[n].p||(r||[]).length||0),i=1+(n>=128?1:0)+1,a>=128&&++i,a>=16384&&++i,a>=2097152&&++i;var s=e.next(i);n<=127?s.write_shift(1,n):(s.write_shift(1,(n&127)+128),s.write_shift(1,n>>7));for(var o=0;o!=4;++o)if(a>=128)s.write_shift(1,(a&127)+128),a>>=7;else{s.write_shift(1,a);break}a>0&&Kj(r)&&e.push(r)}}function Vx(e,t,r){var a=fn(e);if(t.s?(a.cRel&&(a.c+=t.s.c),a.rRel&&(a.r+=t.s.r)):(a.cRel&&(a.c+=t.c),a.rRel&&(a.r+=t.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function PD(e,t,r){var a=fn(e);return a.s=Vx(a.s,t.s,r),a.e=Vx(a.e,t.s,r),a}function Kx(e,t){if(e.cRel&&e.c<0)for(e=fn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=br(e);return!e.cRel&&e.cRel!=null&&(r=Sxe(r)),!e.rRel&&e.rRel!=null&&(r=kxe(r)),r}function u_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Pn(e.s.c)+":"+(e.e.cRel?"":"$")+Pn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ii(e.s.r)+":"+(e.e.rRel?"":"$")+ii(e.e.r):Kx(e.s,t.biff)+":"+Kx(e.e,t.biff)}function Gj(e){return parseInt(_xe(e),10)-1}function ii(e){return""+(e+1)}function kxe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _xe(e){return e.replace(/\$(\d+)$/,"$1")}function Yj(e){for(var t=Nxe(e),r=0,a=0;a!==t.length;++a)r=26*r+t.charCodeAt(a)-64;return r-1}function Pn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Sxe(e){return e.replace(/^([A-Z])/,"$$$1")}function Nxe(e){return e.replace(/^\$([A-Z])/,"$1")}function jxe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Dn(e){for(var t=0,r=0,a=0;a<e.length;++a){var n=e.charCodeAt(a);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:t-1}}function br(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Do(e){var t=e.indexOf(":");return t==-1?{s:Dn(e),e:Dn(e)}:{s:Dn(e.slice(0,t)),e:Dn(e.slice(t+1))}}function Mr(e,t){return typeof t>"u"||typeof t=="number"?Mr(e.s,e.e):(typeof e!="string"&&(e=br(e)),typeof t!="string"&&(t=br(t)),e==t?e:e+":"+t)}function fa(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,i=e.length;for(r=0;a<i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.s.c=--r,r=0;a<i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(t.s.r=--r,a===i||n!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++a,r=0;a!=i&&!((n=e.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(t.e.c=--r,r=0;a!=i&&!((n=e.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return t.e.r=--r,t}function DD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Yl(e.z,r?Li(t):t)}catch{}try{return e.w=Yl((e.XF||{}).numFmtId||(r?14:0),r?Li(t):t)}catch{return""+t}}function W0(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?nd[e.v]||e.v:t==null?DD(e,e.v):DD(e,t))}function Sf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",a={};return a[r]=e,{SheetNames:[r],Sheets:a}}function _q(e,t,r){var a=r||{},n=e?Array.isArray(e):a.dense,i=e||(n?[]:{}),s=0,o=0;if(i&&a.origin!=null){if(typeof a.origin=="number")s=a.origin;else{var c=typeof a.origin=="string"?Dn(a.origin):a.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=fa(i["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(d.e.r=s=h.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=t[m].length;++x)if(!(typeof t[m][x]>"u")){var p={v:t[m][x]},y=s+m,v=o+x;if(d.s.r>y&&(d.s.r=y),d.s.c>v&&(d.s.c=v),d.e.r<y&&(d.e.r=y),d.e.c<v&&(d.e.c=v),t[m][x]&&typeof t[m][x]=="object"&&!Array.isArray(t[m][x])&&!(t[m][x]instanceof Date))p=t[m][x];else if(Array.isArray(p.v)&&(p.f=t[m][x][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||yr[14],a.cellDates?(p.t="d",p.w=Yl(p.z,Li(p.v))):(p.t="n",p.v=Li(p.v),p.w=Yl(p.z,p.v))):p.t="s";if(n)i[y]||(i[y]=[]),i[y][v]&&i[y][v].z&&(p.z=i[y][v].z),i[y][v]=p;else{var b=br({c:v,r:y});i[b]&&i[b].z&&(p.z=i[b].z),i[b]=p}}}return d.s.c<1e7&&(i["!ref"]=Mr(d)),i}function Dg(e,t){return _q(null,e,t)}function Axe(e){return e.read_shift(4,"i")}function Rc(e,t){return t||(t=nt(4)),t.write_shift(4,e),t}function Ms(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function es(e,t){var r=!1;return t==null&&(r=!0,t=nt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Txe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Exe(e,t){return t||(t=nt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Xj(e,t){var r=e.l,a=e.read_shift(1),n=Ms(e),i=[],s={t:n,h:n};if((a&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(Txe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function Cxe(e,t){var r=!1;return t==null&&(r=!0,t=nt(15+4*e.t.length)),t.write_shift(1,0),es(e.t,t),r?t.slice(0,t.l):t}var Oxe=Xj;function Pxe(e,t){var r=!1;return t==null&&(r=!0,t=nt(23+4*e.t.length)),t.write_shift(1,1),es(e.t,t),t.write_shift(4,1),Exe({},t),r?t.slice(0,t.l):t}function Jl(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function um(e,t){return t==null&&(t=nt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function dm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function fm(e,t){return t==null&&(t=nt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Dxe=Ms,Sq=es;function Qj(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function C2(e,t){var r=!1;return t==null&&(r=!0,t=nt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Lxe=Ms,CS=Qj,Jj=C2;function Zj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,a=t[0]&2;e.l+=4;var n=a===0?E2([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):lh(t,0)>>2;return r?n/100:n}function Nq(e,t){t==null&&(t=nt(4));var r=0,a=0,n=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)t.write_shift(-4,((r?n:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function jq(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Mxe(e,t){return t||(t=nt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var hm=jq,Lg=Mxe;function Ds(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Zh(e,t){return(t||nt(8)).write_shift(8,e,"f")}function Rxe(e){var t={},r=e.read_shift(1),a=r>>>1,n=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=n;var d=Oh[n];d&&(t.rgb=T1(d));break;case 2:t.rgb=T1([s,o,c]);break;case 3:t.theme=n;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function O2(e,t){if(t||(t=nt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var a=e.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),t.write_shift(1,parseInt(a.slice(0,2),16)),t.write_shift(1,parseInt(a.slice(2,4),16)),t.write_shift(1,parseInt(a.slice(4,6),16)),t.write_shift(1,255)}return t}function Ixe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Fxe(e,t){t||(t=nt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Aq(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Bxe(e){return Aq(e,1)}function Uxe(e){return Aq(e,2)}var eA=2,Eo=3,Gy=11,LD=12,P2=19,Yy=64,zxe=65,qxe=71,$xe=4108,Hxe=4126,Xi=80,Tq=81,Wxe=[Xi,Tq],OS={1:{n:"CodePage",t:eA},2:{n:"Category",t:Xi},3:{n:"PresentationFormat",t:Xi},4:{n:"ByteCount",t:Eo},5:{n:"LineCount",t:Eo},6:{n:"ParagraphCount",t:Eo},7:{n:"SlideCount",t:Eo},8:{n:"NoteCount",t:Eo},9:{n:"HiddenCount",t:Eo},10:{n:"MultimediaClipCount",t:Eo},11:{n:"ScaleCrop",t:Gy},12:{n:"HeadingPairs",t:$xe},13:{n:"TitlesOfParts",t:Hxe},14:{n:"Manager",t:Xi},15:{n:"Company",t:Xi},16:{n:"LinksUpToDate",t:Gy},17:{n:"CharacterCount",t:Eo},19:{n:"SharedDoc",t:Gy},22:{n:"HyperlinksChanged",t:Gy},23:{n:"AppVersion",t:Eo,p:"version"},24:{n:"DigSig",t:zxe},26:{n:"ContentType",t:Xi},27:{n:"ContentStatus",t:Xi},28:{n:"Language",t:Xi},29:{n:"Version",t:Xi},255:{},2147483648:{n:"Locale",t:P2},2147483651:{n:"Behavior",t:P2},1919054434:{}},PS={1:{n:"CodePage",t:eA},2:{n:"Title",t:Xi},3:{n:"Subject",t:Xi},4:{n:"Author",t:Xi},5:{n:"Keywords",t:Xi},6:{n:"Comments",t:Xi},7:{n:"Template",t:Xi},8:{n:"LastAuthor",t:Xi},9:{n:"RevNumber",t:Xi},10:{n:"EditTime",t:Yy},11:{n:"LastPrinted",t:Yy},12:{n:"CreatedDate",t:Yy},13:{n:"ModifiedDate",t:Yy},14:{n:"PageCount",t:Eo},15:{n:"WordCount",t:Eo},16:{n:"CharCount",t:Eo},17:{n:"Thumbnail",t:qxe},18:{n:"Application",t:Xi},19:{n:"DocSecurity",t:Eo},255:{},2147483648:{n:"Locale",t:P2},2147483651:{n:"Behavior",t:P2},1919054434:{}},MD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Vxe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Kxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Gxe=Kxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Oh=fn(Gxe),nd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Eq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},DS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Xy={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function tA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Yxe(e){var t=tA();if(!e||!e.match)return t;var r={};if((e.match(Fs)||[]).forEach(function(a){var n=kr(a);switch(n[0].replace(ixe,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":t[DS[n.ContentType]]!==void 0&&t[DS[n.ContentType]].push(n.PartName);break}}),t.xmlns!==Di.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function Cq(e,t){var r=Yge(DS),a=[],n;a[a.length]=si,a[a.length]=wt("Types",null,{xmlns:Di.CT,"xmlns:xsd":Di.xsd,"xmlns:xsi":Di.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return wt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(n=e[c][0],a[a.length]=wt("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Xy[c][t.bookType]||Xy[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(d){a[a.length]=wt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Xy[c][t.bookType]||Xy[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(d){a[a.length]=wt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Gr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function A1(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Gx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var a={};return(e.match(Fs)||[]).forEach(function(n){var i=kr(n);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Bx(i.Target,t);r[o]=s,a[i.Id]=s}}),r["!id"]=a,r}function Lp(e){var t=[si,wt("Relationships",null,{xmlns:Di.RELS})];return Gn(e["!id"]).forEach(function(r){t[t.length]=wt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ea(e,t,r,a,n,i){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=a,n.Target=r,[Gr.HLINK,Gr.XPATH,Gr.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}var Xxe="application/vnd.oasis.opendocument.spreadsheet";function Qxe(e,t){for(var r=Wj(e),a,n;a=j1.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=kr(a[0],!1),n.path=="/"&&n.type!==Xxe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw a}}function Jxe(e){var t=[si];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function RD(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Zxe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function e1e(e){var t=[si];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(RD(e[r][0],e[r][1])),t.push(Zxe("",e[r][0]));return t.push(RD("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Oq(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+S2.version+"</meta:generator></office:meta></office:document-meta>"}var Wl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],t1e=(function(){for(var e=new Array(Wl.length),t=0;t<Wl.length;++t){var r=Wl[t],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e})();function Pq(e){var t={};e=Wa(e);for(var r=0;r<Wl.length;++r){var a=Wl[r],n=e.match(t1e[r]);n!=null&&n.length>0&&(t[a[1]]=da(n[1])),a[2]==="date"&&t[a[1]]&&(t[a[1]]=dn(t[a[1]]))}return t}function d_(e,t,r,a,n){n[e]!=null||t==null||t===""||(n[e]=t,t=La(t),a[a.length]=r?wt(e,t,r):ps(e,t))}function Dq(e,t){var r=t||{},a=[si,wt("cp:coreProperties",null,{"xmlns:cp":Di.CORE_PROPS,"xmlns:dc":Di.dc,"xmlns:dcterms":Di.dcterms,"xmlns:dcmitype":Di.dcmitype,"xmlns:xsi":Di.xsi})],n={};if(!e&&!r.Props)return a.join("");e&&(e.CreatedDate!=null&&d_("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ES(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),e.ModifiedDate!=null&&d_("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ES(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var i=0;i!=Wl.length;++i){var s=Wl[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&d_(s[0],o,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var Ph=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Lq=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Mq(e,t,r,a){var n=[];if(typeof e=="string")n=jD(e,a);else for(var i=0;i<e.length;++i)n=n.concat(e[i].map(function(h){return{v:h}}));var s=typeof t=="string"?jD(t,a).map(function(h){return h.v}):t,o=0,c=0;if(s.length>0)for(var d=0;d!==n.length;d+=2){switch(c=+n[d+1].v,n[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function r1e(e,t,r){var a={};return t||(t={}),e=Wa(e),Ph.forEach(function(n){var i=(e.match(S1(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=da(i));break;case"bool":t[n[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(a[n[1]]=s[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&Mq(a.HeadingPairs,a.TitlesOfParts,t,r),t}function Rq(e){var t=[],r=wt;return e||(e={}),e.Application="SheetJS",t[t.length]=si,t[t.length]=wt("Properties",null,{xmlns:Di.EXT_PROPS,"xmlns:vt":Di.vt}),Ph.forEach(function(a){if(e[a[1]]!==void 0){var n;switch(a[2]){case"string":n=La(String(e[a[1]]));break;case"bool":n=e[a[1]]?"true":"false";break}n!==void 0&&(t[t.length]=r(a[0],n))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(a){return"<vt:lpstr>"+La(a)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var a1e=/<[^>]+>[^<]*/g;function n1e(e,t){var r={},a="",n=e.match(a1e);if(n)for(var i=0;i!=n.length;++i){var s=n[i],o=kr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":a=da(o.name);break;case"</property>":a=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),d=c[0].slice(4),h=c[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[a]=da(h);break;case"bool":r[a]=ln(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(h,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(h);break;case"filetime":case"date":r[a]=dn(h);break;case"cy":case"error":r[a]=da(h);break;default:if(d.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,d,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function Iq(e){var t=[si,wt("Properties",null,{xmlns:Di.CUST_PROPS,"xmlns:vt":Di.vt})];if(!e)return t.join("");var r=1;return Gn(e).forEach(function(n){++r,t[t.length]=wt("property",hxe(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:La(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var LS={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},f_;function i1e(e,t,r){f_||(f_=qw(LS)),t=f_[t]||t,e[t]=r}function s1e(e,t){var r=[];return Gn(LS).map(function(a){for(var n=0;n<Wl.length;++n)if(Wl[n][1]==a)return Wl[n];for(n=0;n<Ph.length;++n)if(Ph[n][1]==a)return Ph[n];throw a}).forEach(function(a){if(e[a[1]]!=null){var n=t&&t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:e[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(ps(LS[a[1]]||a[1],n))}}),wt("DocumentProperties",r.join(""),{xmlns:el.o})}function o1e(e,t){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return e&&Gn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Wl.length;++s)if(i==Wl[s][1])return;for(s=0;s<Ph.length;++s)if(i==Ph[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),n.push(wt(kD(i),o,{"dt:dt":c}))}}),t&&Gn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),n.push(wt(kD(i),s,{"dt:dt":o}))}}),"<"+a+' xmlns="'+el.o+'">'+n.join("")+"</"+a+">"}function rA(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function l1e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var i=a/Math.pow(2,32)|0;i>0&&(a=a%Math.pow(2,32),n+=i);var s=nt(8);return s.write_shift(4,a),s.write_shift(4,n),s}function Fq(e,t,r){var a=e.l,n=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-a&3;)++e.l;return n}function Bq(e,t,r){var a=e.read_shift(0,"lpwstr");return a}function Uq(e,t,r){return t===31?Bq(e):Fq(e,t,r)}function MS(e,t,r){return Uq(e,t,r===!1?0:4)}function c1e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Uq(e,t,0)}function u1e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a){var n=e.l;r[a]=e.read_shift(0,"lpwstr").replace(ao,""),e.l-n&2&&(e.l+=2)}return r}function d1e(e){for(var t=e.read_shift(4),r=[],a=0;a!=t;++a)r[a]=e.read_shift(0,"lpstr-cp").replace(ao,"");return r}function f1e(e){var t=e.l,r=D2(e,Tq);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var a=D2(e,Eo);return[r,a]}function h1e(e){for(var t=e.read_shift(4),r=[],a=0;a<t/2;++a)r.push(f1e(e));return r}function ID(e,t){for(var r=e.read_shift(4),a={},n=0;n!=r;++n){var i=e.read_shift(4),s=e.read_shift(4);a[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(ao,"").replace(Fx,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function zq(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function m1e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function D2(e,t,r){var a=e.read_shift(2),n,i=r||{};if(e.l+=2,t!==LD&&a!==t&&Wxe.indexOf(t)===-1&&!((t&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+t+" saw "+a);switch(t===LD?a:t){case 2:return n=e.read_shift(2,"i"),i.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i"),n;case 11:return e.read_shift(4)!==0;case 19:return n=e.read_shift(4),n;case 30:return Fq(e,a,4).replace(ao,"");case 31:return Bq(e);case 64:return rA(e);case 65:return zq(e);case 71:return m1e(e);case 80:return MS(e,a,!i.raw).replace(ao,"");case 81:return c1e(e,a).replace(ao,"");case 4108:return h1e(e);case 4126:case 4127:return a==4127?u1e(e):d1e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}}function FD(e,t){var r=nt(4),a=nt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:a.write_shift(-4,t);break;case 5:a=nt(8),a.write_shift(8,t,"f");break;case 11:a.write_shift(4,t?1:0);break;case 64:a=l1e(t);break;case 31:case 80:for(a=nt(4+2*(t.length+1)+(t.length%2?0:2)),a.write_shift(4,t.length+1),a.write_shift(0,t,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ji([r,a])}function BD(e,t){var r=e.l,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0,o=0,c=-1,d={};for(s=0;s!=n;++s){var h=e.read_shift(4),m=e.read_shift(4);i[s]=[h,m+r]}i.sort(function(N,_){return N[1]-_[1]});var x={};for(s=0;s!=n;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var y=t[i[s][0]];if(x[y.n]=D2(e,y.t,{raw:!0}),y.p==="version"&&(x[y.n]=String(x[y.n]>>16)+"."+("0000"+String(x[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(x[y.n]){case 0:x[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Dc(o=x[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[y.n])}}else if(i[s][0]===1){if(o=x.CodePage=D2(e,eA),Dc(o),c!==-1){var v=e.l;e.l=i[c][1],d=ID(e,o),e.l=v}}else if(i[s][0]===0){if(o===0){c=s,e.l=i[s+1][1];continue}d=ID(e,o)}else{var b=d[i[s][0]],k;switch(e[e.l]){case 65:e.l+=4,k=zq(e);break;case 30:e.l+=4,k=MS(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,k=MS(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,k=e.read_shift(4,"i");break;case 19:e.l+=4,k=e.read_shift(4);break;case 5:e.l+=4,k=e.read_shift(8,"f");break;case 11:e.l+=4,k=Zn(e,4);break;case 64:e.l+=4,k=dn(rA(e));break;default:throw new Error("unparsed value: "+e[e.l])}x[b]=k}}return e.l=r+a,x}var qq=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function p1e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function UD(e,t,r){var a=nt(8),n=[],i=[],s=8,o=0,c=nt(8),d=nt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),n.push(d),s+=8+c.length,!t){d=nt(8),d.write_shift(4,0),n.unshift(d);var h=[nt(4)];for(h[0].write_shift(4,e.length),o=0;o<e.length;++o){var m=e[o][0];for(c=nt(8+2*(m.length+1)+(m.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,m.length+1),c.write_shift(0,m,"dbcs");c.l!=c.length;)c.write_shift(1,0);h.push(c)}c=Ji(h),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(qq.indexOf(e[o][0])>-1||Lq.indexOf(e[o][0])>-1)&&e[o][1]!=null){var x=e[o][1],p=0;if(t){p=+t[e[o][0]];var y=r[p];if(y.p=="version"&&typeof x=="string"){var v=x.split(".");x=(+v[0]<<16)+(+v[1]||0)}c=FD(y.t,x)}else{var b=p1e(x);b==-1&&(b=31,x=String(x)),c=FD(b,x)}i.push(c),d=nt(8),d.write_shift(4,t?p:2+o),n.push(d),s+=8+c.length}var k=8*(i.length+1);for(o=0;o<i.length;++o)n[o].write_shift(4,k),k+=i[o].length;return a.write_shift(4,s),a.write_shift(4,i.length),Ji([a].concat(n).concat(i))}function zD(e,t,r){var a=e.content;if(!a)return{};ms(a,0);var n,i,s,o,c=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),h=a.read_shift(16);if(h!==hr.utils.consts.HEADER_CLSID&&h!==r)throw new Error("Bad PropertySet CLSID "+h);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(i=a.read_shift(16),o=a.read_shift(4),n===1&&o!==a.l)throw new Error("Length mismatch: "+o+" !== "+a.l);n===2&&(s=a.read_shift(16),c=a.read_shift(4));var m=BD(a,t),x={SystemIdentifier:d};for(var p in m)x[p]=m[p];if(x.FMTID=i,n===1)return x;if(c-a.l==2&&(a.l+=2),a.l!==c)throw new Error("Length mismatch 2: "+a.l+" !== "+c);var y;try{y=BD(a,null)}catch{}for(p in y)x[p]=y[p];return x.FMTID=[i,s],x}function qD(e,t,r,a,n,i){var s=nt(n?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,hr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,n?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,n?68:48);var c=UD(e,r,a);if(o.push(c),n){var d=UD(n,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(d)}return Ji(o)}function Ud(e,t){return e.read_shift(t),null}function g1e(e,t){t||(t=nt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function x1e(e,t,r){for(var a=[],n=e.l+t;e.l<n;)a.push(r(e,n-e.l));if(n!==e.l)throw new Error("Slurp error");return a}function Zn(e,t){return e.read_shift(t)===1}function Js(e,t){return t||(t=nt(2)),t.write_shift(2,+!!e),t}function mi(e){return e.read_shift(2,"u")}function Ul(e,t){return t||(t=nt(2)),t.write_shift(2,e),t}function $q(e,t){return x1e(e,t,mi)}function v1e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Hq(e,t,r){return r||(r=nt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function vv(e,t,r){var a=e.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var s=a?e.read_shift(a,n):"";return s}function y1e(e){var t=e.read_shift(2),r=e.read_shift(1),a=r&4,n=r&8,i=1+(r&1),s=0,o,c={};n&&(s=e.read_shift(2)),a&&(o=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,d);return n&&(e.l+=4*s),a&&(e.l+=o),c.t=h,n||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function b1e(e){var t=e.t||"",r=nt(3);r.write_shift(2,t.length),r.write_shift(1,1);var a=nt(2*t.length);a.write_shift(2*t.length,t,"utf16le");var n=[r,a];return Ji(n)}function em(e,t,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var n=e.read_shift(1);return n===0?a=e.read_shift(t,"sbcs-cont"):a=e.read_shift(t,"dbcs-cont"),a}function yv(e,t,r){var a=e.read_shift(r&&r.biff==2?1:2);return a===0?(e.l++,""):em(e,a,r)}function mm(e,t,r){if(r.biff>5)return yv(e,t,r);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Wq(e,t,r){return r||(r=nt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function w1e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function k1e(e){var t=e.read_shift(4),r=e.l,a=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=r);var n=e.read_shift((a?t-24:t)>>1,"utf16le").replace(ao,"");return a&&(e.l+=24),n}function _1e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(ao,"");return r+s}function S1e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return k1e(e);case"0303000000000000c000000000000046":return _1e(e);default:throw new Error("Unsupported Moniker "+r)}}function Qy(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ao,""):"";return r}function $D(e,t){t||(t=nt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function N1e(e,t){var r=e.l+t,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=e.read_shift(2);e.l+=2;var i,s,o,c,d="",h,m;n&16&&(i=Qy(e,r-e.l)),n&128&&(s=Qy(e,r-e.l)),(n&257)===257&&(o=Qy(e,r-e.l)),(n&257)===1&&(c=S1e(e,r-e.l)),n&8&&(d=Qy(e,r-e.l)),n&32&&(h=e.read_shift(16)),n&64&&(m=rA(e)),e.l=r;var x=s||o||c||"";x&&d&&(x+="#"+d),x||(x="#"+d),n&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var p={Target:x};return h&&(p.guid=h),m&&(p.time=m),i&&(p.Tooltip=i),p}function j1e(e){var t=nt(512),r=0,a=e.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),i=n>-1?31:23;switch(a.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)a=a.slice(1),$D(a,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=n>-1?a.slice(0,n):a;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&$D(n>-1?a.slice(n+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;a.slice(c*3,c*3+3)=="../"||a.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,a.length-3*c+1),r=0;r<a.length-3*c;++r)t.write_shift(1,a.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Vq(e){var t=e.read_shift(1),r=e.read_shift(1),a=e.read_shift(1),n=e.read_shift(1);return[t,r,a,n]}function Kq(e,t){var r=Vq(e);return r[3]=0,r}function Ru(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{r:t,c:r,ixfe:a}}function tm(e,t,r,a){return a||(a=nt(6)),a.write_shift(2,e),a.write_shift(2,t),a.write_shift(2,r||0),a}function A1e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function T1e(e,t,r){return t===0?"":mm(e,t,r)}function E1e(e,t,r){var a=r.biff>8?4:2,n=e.read_shift(a),i=e.read_shift(a,"i"),s=e.read_shift(a,"i");return[n,i,s]}function Gq(e){var t=e.read_shift(2),r=Zj(e);return[t,r]}function C1e(e,t,r){e.l+=4,t-=4;var a=e.l+t,n=vv(e,t,r),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,n}function Ww(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2);return{s:{c:a,r:t},e:{c:n,r}}}function Yq(e,t){return t||(t=nt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Xq(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(1),n=e.read_shift(1);return{s:{c:a,r:t},e:{c:n,r}}}var O1e=Xq;function Qq(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[r,t,a]}function P1e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function D1e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ks(e){e.l+=2,e.l+=e.read_shift(2)}var L1e={0:ks,4:ks,5:ks,6:ks,7:D1e,8:ks,9:ks,10:ks,11:ks,12:ks,13:P1e,14:ks,15:ks,16:ks,17:ks,18:ks,19:ks,20:ks,21:Qq};function M1e(e,t){for(var r=e.l+t,a=[];e.l<r;){var n=e.read_shift(2);e.l-=2;try{a.push(L1e[n](e,r-e.l))}catch{return e.l=r,a}}return e.l!=r&&(e.l=r),a}function Jy(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function aA(e,t,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=nt(n);return i.write_shift(2,a),i.write_shift(2,t),n>4&&i.write_shift(2,29282),n>6&&i.write_shift(2,1997),n>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function R1e(e,t){return t===0||e.read_shift(2),1200}function I1e(e,t,r){if(r.enc)return e.l+=t,"";var a=e.l,n=mm(e,0,r);return e.read_shift(t+a-e.l),n}function F1e(e,t){var r=!t||t.biff==8,a=nt(r?112:54);for(a.write_shift(t.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function B1e(e,t,r){var a=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function U1e(e,t,r){var a=e.read_shift(4),n=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=vv(e,0,r);return s.length===0&&(s="Sheet1"),{pos:a,hs:n,dt:i,name:s}}function z1e(e,t){var r=!t||t.biff>=8?2:1,a=nt(8+r*e.name.length);a.write_shift(4,e.pos),a.write_shift(1,e.hs||0),a.write_shift(1,e.dt),a.write_shift(1,e.name.length),t.biff>=8&&a.write_shift(1,1),a.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function q1e(e,t){for(var r=e.l+t,a=e.read_shift(4),n=e.read_shift(4),i=[],s=0;s!=n&&e.l<r;++s)i.push(y1e(e));return i.Count=a,i.Unique=n,i}function $1e(e,t){var r=nt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var a=[],n=0;n<e.length;++n)a[n]=b1e(e[n]);var i=Ji([r].concat(a));return i.parts=[r.length].concat(a.map(function(s){return s.length})),i}function H1e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function W1e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(t.level=a&7),a&32&&(t.hidden=!0),a&64&&(t.hpt=r/20),t}function V1e(e){var t=A1e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function K1e(e){return e.read_shift(2),e.read_shift(4)}function HD(e,t,r){var a=0;r&&r.biff==2||(a=e.read_shift(2));var n=e.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,n]}function G1e(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),d=e.read_shift(2);return{Pos:[t,r],Dim:[a,n],Flags:i,CurTab:s,FirstTab:o,Selected:c,TabRatio:d}}function Y1e(){var e=nt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function X1e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function Q1e(e){var t=nt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function J1e(){}function Z1e(e,t,r){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=vv(e,0,r),a}function eve(e,t){var r=e.name||"Arial",a=t&&t.biff==5,n=a?15+r.length:16+2*r.length,i=nt(n);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),a||i.write_shift(1,1),i.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),i}function tve(e){var t=Ru(e);return t.isst=e.read_shift(4),t}function rve(e,t,r,a){var n=nt(10);return tm(e,t,a,n),n.write_shift(4,r),n}function ave(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=e.l+t,n=Ru(e);r.biff==2&&e.l++;var i=yv(e,a-e.l,r);return n.val=i,n}function nve(e,t,r,a,n){var i=!n||n.biff==8,s=nt(8+ +i+(1+i)*r.length);return tm(e,t,a,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function ive(e,t,r){var a=e.read_shift(2),n=mm(e,0,r);return[a,n]}function sve(e,t,r,a){var n=r&&r.biff==5;a||(a=nt(n?3+t.length:5+2*t.length)),a.write_shift(2,e),a.write_shift(n?1:2,t.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var i=a.length>a.l?a.slice(0,a.l):a;return i.l==null&&(i.l=i.length),i}var ove=mm;function WD(e,t,r){var a=e.l+t,n=r.biff==8||!r.biff?4:2,i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(2),c=e.read_shift(2);return e.l=a,{s:{r:i,c:o},e:{r:s,c}}}function lve(e,t){var r=t.biff==8||!t.biff?4:2,a=nt(2*r+6);return a.write_shift(r,e.s.r),a.write_shift(r,e.e.r+1),a.write_shift(2,e.s.c),a.write_shift(2,e.e.c+1),a.write_shift(2,0),a}function cve(e){var t=e.read_shift(2),r=e.read_shift(2),a=Gq(e);return{r:t,c:r,ixfe:a[0],rknum:a[1]}}function uve(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(Gq(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:s,rkrec:i}}function dve(e,t){for(var r=e.l+t-2,a=e.read_shift(2),n=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:s,ixfe:i}}function fve(e,t,r,a){var n={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return n.patternType=Vxe[o>>26],a.cellStyles&&(n.alc=i&7,n.fWrap=i>>3&1,n.alcV=i>>4&7,n.fJustLast=i>>7&1,n.trot=i>>8&255,n.cIndent=i>>16&15,n.fShrinkToFit=i>>20&1,n.iReadOrder=i>>22&2,n.fAtrNum=i>>26&1,n.fAtrFnt=i>>27&1,n.fAtrAlc=i>>28&1,n.fAtrBdr=i>>29&1,n.fAtrPat=i>>30&1,n.fAtrProt=i>>31&1,n.dgLeft=s&15,n.dgRight=s>>4&15,n.dgTop=s>>8&15,n.dgBottom=s>>12&15,n.icvLeft=s>>16&127,n.icvRight=s>>23&127,n.grbitDiag=s>>30&3,n.icvTop=o&127,n.icvBottom=o>>7&127,n.icvDiag=o>>14&127,n.dgDiag=o>>21&15,n.icvFore=c&127,n.icvBack=c>>7&127,n.fsxButton=c>>14&1),n}function hve(e,t,r){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,t-=6,a.data=fve(e,t,a.fStyle,r),a}function VD(e,t,r,a){var n=r&&r.biff==5;a||(a=nt(n?16:20)),a.write_shift(2,0),e.style?(a.write_shift(2,e.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,e.numFmtId||0),a.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&n&&(i|=1024),a.write_shift(4,i),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function mve(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function pve(e){var t=nt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function KD(e,t,r){var a=Ru(e);(r.biff==2||t==9)&&++e.l;var n=v1e(e);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function gve(e,t,r,a,n,i){var s=nt(8);return tm(e,t,a,s),Hq(r,i,s),s}function xve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=Ru(e),n=Ds(e);return a.val=n,a}function vve(e,t,r,a){var n=nt(14);return tm(e,t,a,n),Zh(r,n),n}var GD=T1e;function yve(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,n];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=em(e,i),o=[];a>e.l;)o.push(yv(e));return[i,n,s,o]}function YD(e,t,r){var a=e.read_shift(2),n,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=C1e(e,t-2,r)),i.body=n||e.read_shift(t-2),typeof n=="string"&&(i.Name=n),i}var bve=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function XD(e,t,r){var a=e.l+t,n=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var d=em(e,s,r);n&32&&(d=bve[d.charCodeAt(0)]);var h=a-e.l;r&&r.biff==2&&--h;var m=a==e.l||o===0||!(h>0)?[]:Mwe(e,h,r,o);return{chKey:i,Name:d,itab:c,rgce:m}}function Jq(e,t,r){if(r.biff<8)return wve(e,t,r);for(var a=[],n=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)a.push(E1e(e,r.biff>8?12:6,r));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return a}function wve(e,t,r){e[e.l+1]==3&&e[e.l]++;var a=vv(e,t,r);return a.charCodeAt(0)==3?a.slice(1):a}function kve(e,t,r){if(r.biff<8){e.l+=t;return}var a=e.read_shift(2),n=e.read_shift(2),i=em(e,a,r),s=em(e,n,r);return[i,s]}function _ve(e,t,r){var a=Xq(e);e.l++;var n=e.read_shift(1);return t-=8,[Rwe(e,t,r),n,a]}function QD(e,t,r){var a=O1e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[a,Dwe(e,t,r)]}function Sve(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,a=e.read_shift(4);return[t,r,a]}function Nve(e,t,r){if(!(r.biff<8)){var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=mm(e,0,r);return r.biff<8&&e.read_shift(1),[{r:a,c:n},o,s,i]}}function jve(e,t,r){return Nve(e,t,r)}function Ave(e,t){for(var r=[],a=e.read_shift(2);a--;)r.push(Ww(e));return r}function Tve(e){var t=nt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Yq(e[r],t);return t}function Eve(e,t,r){if(r&&r.biff<8)return Ove(e,t,r);var a=Qq(e),n=M1e(e,t-22,a[1]);return{cmo:a,ft:n}}var Cve={8:function(e,t){var r=e.l+t;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var n=e.read_shift(1);return e.l+=n,e.l=r,{fmt:a}}};function Ove(e,t,r){e.l+=4;var a=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Cve[a]||Rs)(e,t,r)),{cmo:[n,a,i],ft:s}}function Pve(e,t,r){var a=e.l,n="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=w1e(e,6,r);var o=e.read_shift(2);e.read_shift(2),mi(e,2);var c=e.read_shift(2);e.l+=c;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var h=e[e.l],m=em(e,e.lens[d+1]-e.lens[d]-1);if(n+=m,n.length>=(h?o:2*o))break}if(n.length!==o&&n.length!==o*2)throw new Error("cchText: "+o+" != "+n.length);return e.l=a+t,{t:n}}catch{return e.l=a+t,{t:n}}}function Dve(e,t){var r=Ww(e);e.l+=16;var a=N1e(e,t-24);return[r,a]}function Lve(e){var t=nt(24),r=Dn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(a[n],16));return Ji([t,j1e(e[1])])}function Mve(e,t){e.read_shift(2);var r=Ww(e),a=e.read_shift((t-10)/2,"dbcs-cont");return a=a.replace(ao,""),[r,a]}function Rve(e){var t=e[1].Tooltip,r=nt(10+2*(t.length+1));r.write_shift(2,2048);var a=Dn(e[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<t.length;++n)r.write_shift(2,t.charCodeAt(n));return r.write_shift(2,0),r}function Ive(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=MD[r]||r,r=e.read_shift(2),t[1]=MD[r]||r,t}function Fve(e){return e||(e=nt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Bve(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Kq(e));return r}function Uve(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Kq(e));return r}function zve(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Zq(e,t,r){if(!r.cellStyles)return Rs(e,t);var a=r&&r.biff>=12?4:2,n=e.read_shift(a),i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(2);a==2&&(e.l+=2);var d={s:n,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function qve(e,t){var r=nt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var a=0;return e.hidden&&(a|=1),r.write_shift(1,a),a=e.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function $ve(e,t){var r={};return t<32||(e.l+=16,r.header=Ds(e),r.footer=Ds(e),e.l+=2),r}function Hve(e,t,r){var a={area:!1};if(r.biff!=5)return e.l+=t,a;var n=e.read_shift(1);return e.l+=3,n&16&&(a.area=!0),a}function Wve(e){for(var t=nt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Vve=Ru,Kve=$q,Gve=yv;function Yve(e){var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n={fmt:t,env:r,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,n}function Xve(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=Ru(e);++e.l;var n=mm(e,t-7,r);return a.t="str",a.val=n,a}function Qve(e){var t=Ru(e);++e.l;var r=Ds(e);return t.t="n",t.val=r,t}function Jve(e,t,r){var a=nt(15);return _v(a,e,t),a.write_shift(8,r,"f"),a}function Zve(e){var t=Ru(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function eye(e,t,r){var a=nt(9);return _v(a,e,t),a.write_shift(2,r),a}function tye(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function rye(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function aye(e,t,r){var a=e.l+t,n=Ru(e),i=e.read_shift(2),s=em(e,i,r);return e.l=a,n.t="str",n.val=s,n}var nye=[2,3,48,49,131,139,140,245],RS=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=qw({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var d=[],h=hf(1);switch(c.type){case"base64":h=il(dl(o));break;case"binary":h=il(o);break;case"buffer":case"array":h=o;break}ms(h,0);var m=h.read_shift(1),x=!!(m&136),p=!1,y=!1;switch(m){case 2:break;case 3:break;case 48:p=!0,x=!0;break;case 49:p=!0,x=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var v=0,b=521;m==2&&(v=h.read_shift(2)),h.l+=3,m!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),m!=2&&(b=h.read_shift(2));var k=h.read_shift(2),N=c.codepage||1252;m!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(N=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var _=[],T={},P=Math.min(h.length,m==2?521:b-10-(p?264:0)),O=y?32:11;h.l<P&&h[h.l]!=13;)switch(T={},T.name=w1.utils.decode(N,h.slice(h.l,h.l+O)).replace(/[\u0000\r\n].*$/g,""),h.l+=O,T.type=String.fromCharCode(h.read_shift(1)),m!=2&&!y&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),m==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&_.push(T),m!=2&&(h.l+=y?13:14),T.type){case"B":(!p||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=b-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=b;var L=0,U=0;for(d[0]=[],U=0;U!=_.length;++U)d[0][U]=_[U].name;for(;v-- >0;){if(h[h.l]===42){h.l+=k;continue}for(++h.l,d[++L]=[],U=0,U=0;U!=_.length;++U){var I=h.slice(h.l,h.l+_[U].len);h.l+=_[U].len,ms(I,0);var K=w1.utils.decode(N,I);switch(_[U].type){case"C":K.trim().length&&(d[L][U]=K.replace(/\s+$/,""));break;case"D":K.length===8?d[L][U]=new Date(+K.slice(0,4),+K.slice(4,6)-1,+K.slice(6,8)):d[L][U]=K;break;case"F":d[L][U]=parseFloat(K.trim());break;case"+":case"I":d[L][U]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(K.trim().toUpperCase()){case"Y":case"T":d[L][U]=!0;break;case"N":case"F":d[L][U]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+K+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));d[L][U]="##MEMO##"+(y?parseInt(K.trim(),10):I.read_shift(4));break;case"N":K=K.replace(/\u0000/g,"").trim(),K&&K!="."&&(d[L][U]=+K||0);break;case"@":d[L][U]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":d[L][U]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":d[L][U]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[L][U]=-I.read_shift(-8,"f");break;case"B":if(p&&_[U].len==8){d[L][U]=I.read_shift(8,"f");break}case"G":case"P":I.l+=_[U].len;break;case"0":if(_[U].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[U].type)}}}if(m!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=_,d}function a(o,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Dg(r(o,d),d);return h["!cols"]=d.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete d.DBF,h}function n(o,c){try{return Sf(a(o,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var d=c||{};if(+d.codepage>=0&&Dc(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Po(),m=R2(o,{header:1,raw:!0,cellDates:!0}),x=m[0],p=m.slice(1),y=o["!cols"]||[],v=0,b=0,k=0,N=1;for(v=0;v<x.length;++v){if(((y[v]||{}).DBF||{}).name){x[v]=y[v].DBF.name,++k;continue}if(x[v]!=null){if(++k,typeof x[v]=="number"&&(x[v]=x[v].toString(10)),typeof x[v]!="string")throw new Error("DBF Invalid column name "+x[v]+" |"+typeof x[v]+"|");if(x.indexOf(x[v])!==v){for(b=0;b<1024;++b)if(x.indexOf(x[v]+"_"+b)==-1){x[v]+="_"+b;break}}}}var _=fa(o["!ref"]),T=[],P=[],O=[];for(v=0;v<=_.e.c-_.s.c;++v){var L="",U="",I=0,K=[];for(b=0;b<p.length;++b)p[b][v]!=null&&K.push(p[b][v]);if(K.length==0||x[v]==null){T[v]="?";continue}for(b=0;b<K.length;++b){switch(typeof K[b]){case"number":U="B";break;case"string":U="C";break;case"boolean":U="L";break;case"object":U=K[b]instanceof Date?"D":"C";break;default:U="C"}I=Math.max(I,String(K[b]).length),L=L&&L!=U?"C":U}I>250&&(I=250),U=((y[v]||{}).DBF||{}).type,U=="C"&&y[v].DBF.len>I&&(I=y[v].DBF.len),L=="B"&&U=="N"&&(L="N",O[v]=y[v].DBF.dec,I=y[v].DBF.len),P[v]=L=="C"||U=="N"?I:i[L]||0,N+=P[v],T[v]=L}var D=h.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*k),D.write_shift(2,N),v=0;v<4;++v)D.write_shift(4,0);for(D.write_shift(4,0|(+t[qz]||3)<<8),v=0,b=0;v<x.length;++v)if(x[v]!=null){var F=h.next(32),H=(x[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,H,"sbcs"),F.write_shift(1,T[v]=="?"?"C":T[v],"sbcs"),F.write_shift(4,b),F.write_shift(1,P[v]||i[T[v]]||0),F.write_shift(1,O[v]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),b+=P[v]||i[T[v]]||0}var Y=h.next(264);for(Y.write_shift(4,13),v=0;v<65;++v)Y.write_shift(4,0);for(v=0;v<p.length;++v){var ne=h.next(N);for(ne.write_shift(1,0),b=0;b<x.length;++b)if(x[b]!=null)switch(T[b]){case"L":ne.write_shift(1,p[v][b]==null?63:p[v][b]?84:70);break;case"B":ne.write_shift(8,p[v][b]||0,"f");break;case"N":var X="0";for(typeof p[v][b]=="number"&&(X=p[v][b].toFixed(O[b]||0)),k=0;k<P[b]-X.length;++k)ne.write_shift(1,32);ne.write_shift(1,X,"sbcs");break;case"D":p[v][b]?(ne.write_shift(4,("0000"+p[v][b].getFullYear()).slice(-4),"sbcs"),ne.write_shift(2,("00"+(p[v][b].getMonth()+1)).slice(-2),"sbcs"),ne.write_shift(2,("00"+p[v][b].getDate()).slice(-2),"sbcs")):ne.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(p[v][b]!=null?p[v][b]:"").slice(0,P[b]);for(ne.write_shift(1,ae,"sbcs"),k=0;k<P[b]-ae.length;++k)ne.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:n,to_sheet:a,from_sheet:s}})(),e$=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Gn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(x,p){var y=e[p];return typeof y=="number"?lD(y):y},a=function(x,p,y){var v=p.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?x:lD(v)};e["|"]=254;function n(x,p){switch(p.type){case"base64":return i(dl(x),p);case"binary":return i(x,p);case"buffer":return i(Vr&&Buffer.isBuffer(x)?x.toString("binary"):_f(x),p);case"array":return i(Jh(x),p)}throw new Error("Unrecognized type "+p.type)}function i(x,p){var y=x.split(/[\n\r]+/),v=-1,b=-1,k=0,N=0,_=[],T=[],P=null,O={},L=[],U=[],I=[],K=0,D;for(+p.codepage>=0&&Dc(+p.codepage);k!==y.length;++k){K=0;var F=y[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(t,r),H=F.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),Y=H[0],ne;if(F.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&T.push(F.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,ae=!1,ue=!1,se=!1,be=-1,J=-1;for(N=1;N<H.length;++N)switch(H[N].charAt(0)){case"A":break;case"X":b=parseInt(H[N].slice(1))-1,ae=!0;break;case"Y":for(v=parseInt(H[N].slice(1))-1,ae||(b=0),D=_.length;D<=v;++D)_[D]=[];break;case"K":ne=H[N].slice(1),ne.charAt(0)==='"'?ne=ne.slice(1,ne.length-1):ne==="TRUE"?ne=!0:ne==="FALSE"?ne=!1:isNaN(Mc(ne))?isNaN(lg(ne).getDate())||(ne=dn(ne)):(ne=Mc(ne),P!==null&&Og(P)&&(ne=Hw(ne))),X=!0;break;case"E":se=!0;var M=Mp(H[N].slice(1),{r:v,c:b});_[v][b]=[_[v][b],M];break;case"S":ue=!0,_[v][b]=[_[v][b],"S5S"];break;case"G":break;case"R":be=parseInt(H[N].slice(1))-1;break;case"C":J=parseInt(H[N].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}if(X&&(_[v][b]&&_[v][b].length==2?_[v][b][0]=ne:_[v][b]=ne,P=null),ue){if(se)throw new Error("SYLK shared formula cannot have own formula");var z=be>-1&&_[be][J];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");_[v][b][1]=v$(z[1],{r:v-be,c:b-J})}break;case"F":var q=0;for(N=1;N<H.length;++N)switch(H[N].charAt(0)){case"X":b=parseInt(H[N].slice(1))-1,++q;break;case"Y":for(v=parseInt(H[N].slice(1))-1,D=_.length;D<=v;++D)_[D]=[];break;case"M":K=parseInt(H[N].slice(1))/20;break;case"F":break;case"G":break;case"P":P=T[parseInt(H[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=H[N].slice(1).split(" "),D=parseInt(I[0],10);D<=parseInt(I[1],10);++D)K=parseInt(I[2],10),U[D-1]=K===0?{hidden:!0}:{wch:K},mf(U[D-1]);break;case"C":b=parseInt(H[N].slice(1))-1,U[b]||(U[b]={});break;case"R":v=parseInt(H[N].slice(1))-1,L[v]||(L[v]={}),K>0?(L[v].hpt=K,L[v].hpx=ug(K)):K===0&&(L[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}q<1&&(P=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+F)}}return L.length>0&&(O["!rows"]=L),U.length>0&&(O["!cols"]=U),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,O]}function s(x,p){var y=n(x,p),v=y[0],b=y[1],k=Dg(v,p);return Gn(b).forEach(function(N){k[N]=b[N]}),k}function o(x,p){return Sf(s(x,p),p)}function c(x,p,y,v){var b="C;Y"+(y+1)+";X"+(v+1)+";K";switch(x.t){case"n":b+=x.v||0,x.f&&!x.F&&(b+=";E"+cA(x.f,{r:y,c:v}));break;case"b":b+=x.v?"TRUE":"FALSE";break;case"e":b+=x.w||x.v;break;case"d":b+='"'+(x.w||x.v)+'"';break;case"s":b+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(x,p){p.forEach(function(y,v){var b="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=E1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=C1(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&x.push(b)})}function h(x,p){p.forEach(function(y,v){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*O1(y.hpx)+";"),b.length>2&&x.push(b+"R"+(v+1))})}function m(x,p){var y=["ID;PWXL;N;E"],v=[],b=fa(x["!ref"]),k,N=Array.isArray(x),_=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),x["!cols"]&&d(y,x["!cols"]),x["!rows"]&&h(y,x["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var T=b.s.r;T<=b.e.r;++T)for(var P=b.s.c;P<=b.e.c;++P){var O=br({r:T,c:P});k=N?(x[T]||[])[P]:x[O],!(!k||k.v==null&&(!k.f||k.F))&&v.push(c(k,x,T,P))}return y.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:m}})(),t$=(function(){function e(i,s){switch(s.type){case"base64":return t(dl(i),s);case"binary":return t(i,s);case"buffer":return t(Vr&&Buffer.isBuffer(i)?i.toString("binary"):_f(i),s);case"array":return t(Jh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,d=-1,h=0,m=[];h!==o.length;++h){if(o[h].trim()==="BOT"){m[++c]=[],d=0;continue}if(!(c<0)){var x=o[h].trim().split(","),p=x[0],y=x[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+p){case-1:if(v==="BOT"){m[++c]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?m[c][d]=!0:v==="FALSE"?m[c][d]=!1:isNaN(Mc(y))?isNaN(lg(y).getDate())?m[c][d]=y:m[c][d]=dn(y):m[c][d]=Mc(y),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),m[c][d++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(m=m.slice(0,s.sheetRows)),m}function r(i,s){return Dg(e(i,s),s)}function a(i,s){return Sf(r(i,s),s)}var n=(function(){var i=function(c,d,h,m,x){c.push(d),c.push(h+","+m),c.push('"'+x.replace(/"/g,'""')+'"')},s=function(c,d,h,m){c.push(d+","+h),c.push(d==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var d=[],h=fa(c["!ref"]),m,x=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,h.e.r-h.s.r+1,""),i(d,"TUPLES",0,h.e.c-h.s.c+1,""),i(d,"DATA",0,0,"");for(var p=h.s.r;p<=h.e.r;++p){s(d,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var v=br({r:p,c:y});if(m=x?(c[p]||[])[y]:c[v],!m){s(d,1,0,"");continue}switch(m.t){case"n":var b=m.w;!b&&m.v!=null&&(b=m.v),b==null?m.f&&!m.F?s(d,1,0,"="+m.f):s(d,1,0,""):s(d,0,b,"V");break;case"b":s(d,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":s(d,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Yl(m.z||yr[14],Li(dn(m.v)))),s(d,0,m.w,"V");break;default:s(d,1,0,"")}}}s(d,-1,0,"EOD");var k=`\r
`,N=d.join(k);return N}})();return{to_workbook:a,to_sheet:r,from_sheet:n}})(),r$=(function(){function e(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,x){for(var p=m.split(`
`),y=-1,v=-1,b=0,k=[];b!==p.length;++b){var N=p[b].trim().split(":");if(N[0]==="cell"){var _=Dn(N[1]);if(k.length<=_.r)for(y=k.length;y<=_.r;++y)k[y]||(k[y]=[]);switch(y=_.r,v=_.c,N[2]){case"t":k[y][v]=e(N[3]);break;case"v":k[y][v]=+N[3];break;case"vtf":var T=N[N.length-1];case"vtc":switch(N[3]){case"nl":k[y][v]=!!+N[4];break;default:k[y][v]=+N[4];break}N[2]=="vtf"&&(k[y][v]=[k[y][v],T])}}}return x&&x.sheetRows&&(k=k.slice(0,x.sheetRows)),k}function a(m,x){return Dg(r(m,x),x)}function n(m,x){return Sf(a(m,x),x)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(m){if(!m||!m["!ref"])return"";for(var x=[],p=[],y,v="",b=Do(m["!ref"]),k=Array.isArray(m),N=b.s.r;N<=b.e.r;++N)for(var _=b.s.c;_<=b.e.c;++_)if(v=br({r:N,c:_}),y=k?(m[N]||[])[_]:m[v],!(!y||y.v==null||y.t==="z")){switch(p=["cell",v,"t"],y.t){case"s":case"str":p.push(t(y.v));break;case"n":y.f?(p[2]="vtf",p[3]="n",p[4]=y.v,p[5]=t(y.f)):(p[2]="v",p[3]=y.v);break;case"b":p[2]="vt"+(y.f?"f":"c"),p[3]="nl",p[4]=y.v?"1":"0",p[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var T=Li(dn(y.v));p[2]="vtc",p[3]="nd",p[4]=""+T,p[5]=y.w||Yl(y.z||yr[14],T);break;case"e":continue}x.push(p.join(":"))}return x.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(m){return[i,s,o,s,d(m),c].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:h}})(),cg=(function(){function e(h,m,x,p,y){y.raw?m[x][p]=h:h===""||(h==="TRUE"?m[x][p]=!0:h==="FALSE"?m[x][p]=!1:isNaN(Mc(h))?isNaN(lg(h).getDate())?m[x][p]=h:m[x][p]=dn(h):m[x][p]=Mc(h))}function t(h,m){var x=m||{},p=[];if(!h||h.length===0)return p;for(var y=h.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var b=10,k=0,N=0;N<=v;++N)k=y[N].indexOf(" "),k==-1?k=y[N].length:k++,b=Math.max(b,k);for(N=0;N<=v;++N){p[N]=[];var _=0;for(e(y[N].slice(0,b).trim(),p,N,_,x),_=1;_<=(y[N].length-b)/10+1;++_)e(y[N].slice(b+(_-1)*10,b+_*10).trim(),p,N,_,x)}return x.sheetRows&&(p=p.slice(0,x.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(h){for(var m={},x=!1,p=0,y=0;p<h.length;++p)(y=h.charCodeAt(p))==34?x=!x:!x&&y in r&&(m[y]=(m[y]||0)+1);y=[];for(p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.push([m[p],p]);if(!y.length){m=a;for(p in m)Object.prototype.hasOwnProperty.call(m,p)&&y.push([m[p],p])}return y.sort(function(v,b){return v[0]-b[0]||a[v[1]]-a[b[1]]}),r[y.pop()[1]]||44}function i(h,m){var x=m||{},p="",y=x.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(p=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(p=h.charAt(4),h=h.slice(6)):p=n(h.slice(0,1024)):x&&x.FS?p=x.FS:p=n(h.slice(0,1024));var b=0,k=0,N=0,_=0,T=0,P=p.charCodeAt(0),O=!1,L=0,U=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var I=x.dateNF!=null?Hge(x.dateNF):null;function K(){var D=h.slice(_,T),F={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)F.t="z";else if(x.raw)F.t="s",F.v=D;else if(D.trim().length===0)F.t="s",F.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(F.t="s",F.v=D.slice(2,-1).replace(/""/g,'"')):y2e(D)?(F.t="n",F.f=D.slice(1)):(F.t="s",F.v=D);else if(D=="TRUE")F.t="b",F.v=!0;else if(D=="FALSE")F.t="b",F.v=!1;else if(!isNaN(N=Mc(D)))F.t="n",x.cellText!==!1&&(F.w=D),F.v=N;else if(!isNaN(lg(D).getDate())||I&&D.match(I)){F.z=x.dateNF||yr[14];var H=0;I&&D.match(I)&&(D=Wge(D,x.dateNF,D.match(I)||[]),H=1),x.cellDates?(F.t="d",F.v=dn(D,H)):(F.t="n",F.v=Li(dn(D,H))),x.cellText!==!1&&(F.w=Yl(F.z,F.v instanceof Date?Li(F.v):F.v)),x.cellNF||delete F.z}else F.t="s",F.v=D;if(F.t=="z"||(x.dense?(y[b]||(y[b]=[]),y[b][k]=F):y[br({c:k,r:b})]=F),_=T+1,U=h.charCodeAt(_),v.e.c<k&&(v.e.c=k),v.e.r<b&&(v.e.r=b),L==P)++k;else if(k=0,++b,x.sheetRows&&x.sheetRows<=b)return!0}e:for(;T<h.length;++T)switch(L=h.charCodeAt(T)){case 34:U===34&&(O=!O);break;case P:case 10:case 13:if(!O&&K())break e;break}return T-_>0&&K(),y["!ref"]=Mr(v),y}function s(h,m){return!(m&&m.PRN)||m.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,m):Dg(t(h,m),m)}function o(h,m){var x="",p=m.type=="string"?[0,0,0,0]:xA(h,m);switch(m.type){case"base64":x=dl(h);break;case"binary":x=h;break;case"buffer":m.codepage==65001?x=h.toString("utf8"):m.codepage&&typeof w1<"u"||(x=Vr&&Buffer.isBuffer(h)?h.toString("binary"):_f(h));break;case"array":x=Jh(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+m.type)}return p[0]==239&&p[1]==187&&p[2]==191?x=Wa(x.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?x=Wa(x):m.type=="binary"&&typeof w1<"u",x.slice(0,19)=="socialcalc:version:"?r$.to_sheet(m.type=="string"?x:Wa(x),m):s(x,m)}function c(h,m){return Sf(o(h,m),m)}function d(h){for(var m=[],x=fa(h["!ref"]),p,y=Array.isArray(h),v=x.s.r;v<=x.e.r;++v){for(var b=[],k=x.s.c;k<=x.e.c;++k){var N=br({r:v,c:k});if(p=y?(h[v]||[])[k]:h[N],!p||p.v==null){b.push("          ");continue}for(var _=(p.w||(W0(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";b.push(_+(k===0?" ":""))}m.push(b.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:d}})();function iye(e,t){var r=t||{},a=!!r.WTF;r.WTF=!0;try{var n=e$.to_workbook(e,r);return r.WTF=a,n}catch(i){if(r.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return cg.to_workbook(e,t)}}var Dh=(function(){function e(M,z,q){if(M){ms(M,M.l||0);for(var G=q.Enum||be;M.l<M.length;){var re=M.read_shift(2),he=G[re]||G[65535],je=M.read_shift(2),oe=M.l+je,Ne=he.f&&he.f(M,je,q);if(M.l=oe,z(Ne,he,re))return}}}function t(M,z){switch(z.type){case"base64":return r(il(dl(M)),z);case"binary":return r(il(M),z);case"buffer":case"array":return r(M,z)}throw"Unsupported type "+z.type}function r(M,z){if(!M)return M;var q=z||{},G=q.dense?[]:{},re="Sheet1",he="",je=0,oe={},Ne=[],Me=[],Q={s:{r:0,c:0},e:{r:0,c:0}},Te=q.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)q.Enum=be,e(M,function(we,Ze,Xe){switch(Xe){case 0:q.vers=we,we>=4096&&(q.qpro=!0);break;case 6:Q=we;break;case 204:we&&(he=we);break;case 222:he=we;break;case 15:case 51:q.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:Xe==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=q.dateNF||yr[14],q.cellDates&&(we[1].t="d",we[1].v=Hw(we[1].v))),q.qpro&&we[3]>je&&(G["!ref"]=Mr(Q),oe[re]=G,Ne.push(re),G=q.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},je=we[3],re=he||"Sheet"+(je+1),he="");var gt=q.dense?(G[we[0].r]||[])[we[0].c]:G[br(we[0])];if(gt){gt.t=we[1].t,gt.v=we[1].v,we[1].z!=null&&(gt.z=we[1].z),we[1].f!=null&&(gt.f=we[1].f);break}q.dense?(G[we[0].r]||(G[we[0].r]=[]),G[we[0].r][we[0].c]=we[1]):G[br(we[0])]=we[1];break}},q);else if(M[2]==26||M[2]==14)q.Enum=J,M[2]==14&&(q.qpro=!0,M.l=0),e(M,function(we,Ze,Xe){switch(Xe){case 204:re=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>je&&(G["!ref"]=Mr(Q),oe[re]=G,Ne.push(re),G=q.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},je=we[3],re="Sheet"+(je+1)),Te>0&&we[0].r>=Te)break;q.dense?(G[we[0].r]||(G[we[0].r]=[]),G[we[0].r][we[0].c]=we[1]):G[br(we[0])]=we[1],Q.e.c<we[0].c&&(Q.e.c=we[0].c),Q.e.r<we[0].r&&(Q.e.r=we[0].r);break;case 27:we[14e3]&&(Me[we[14e3][0]]=we[14e3][1]);break;case 1537:Me[we[0]]=we[1],we[0]==je&&(re=we[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(G["!ref"]=Mr(Q),oe[he||re]=G,Ne.push(he||re),!Me.length)return{SheetNames:Ne,Sheets:oe};for(var Ae={},de=[],Qe=0;Qe<Me.length;++Qe)oe[Ne[Qe]]?(de.push(Me[Qe]||Ne[Qe]),Ae[Me[Qe]]=oe[Me[Qe]]||oe[Ne[Qe]]):(de.push(Me[Qe]),Ae[Me[Qe]]={"!ref":"A1"});return{SheetNames:de,Sheets:Ae}}function a(M,z){var q=z||{};if(+q.codepage>=0&&Dc(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Po(),re=fa(M["!ref"]),he=Array.isArray(M),je=[];St(G,0,i(1030)),St(G,6,c(re));for(var oe=Math.min(re.e.r,8191),Ne=re.s.r;Ne<=oe;++Ne)for(var Me=ii(Ne),Q=re.s.c;Q<=re.e.c;++Q){Ne===re.s.r&&(je[Q]=Pn(Q));var Te=je[Q]+Me,Ae=he?(M[Ne]||[])[Q]:M[Te];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?St(G,13,p(Ne,Q,Ae.v)):St(G,14,v(Ne,Q,Ae.v));else{var de=W0(Ae);St(G,15,m(Ne,Q,de.slice(0,239)))}}return St(G,1),G.end()}function n(M,z){var q=z||{};if(+q.codepage>=0&&Dc(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Po();St(G,0,s(M));for(var re=0,he=0;re<M.SheetNames.length;++re)(M.Sheets[M.SheetNames[re]]||{})["!ref"]&&St(G,27,se(M.SheetNames[re],he++));var je=0;for(re=0;re<M.SheetNames.length;++re){var oe=M.Sheets[M.SheetNames[re]];if(!(!oe||!oe["!ref"])){for(var Ne=fa(oe["!ref"]),Me=Array.isArray(oe),Q=[],Te=Math.min(Ne.e.r,8191),Ae=Ne.s.r;Ae<=Te;++Ae)for(var de=ii(Ae),Qe=Ne.s.c;Qe<=Ne.e.c;++Qe){Ae===Ne.s.r&&(Q[Qe]=Pn(Qe));var we=Q[Qe]+de,Ze=Me?(oe[Ae]||[])[Qe]:oe[we];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")St(G,23,K(Ae,Qe,je,Ze.v));else{var Xe=W0(Ze);St(G,22,L(Ae,Qe,je,Xe.slice(0,239)))}}++je}}return St(G,1),G.end()}function i(M){var z=nt(2);return z.write_shift(2,M),z}function s(M){var z=nt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var q=0,G=0,re=0,he=0;he<M.SheetNames.length;++he){var je=M.SheetNames[he],oe=M.Sheets[je];if(!(!oe||!oe["!ref"])){++re;var Ne=Do(oe["!ref"]);q<Ne.e.r&&(q=Ne.e.r),G<Ne.e.c&&(G=Ne.e.c)}}return q>8191&&(q=8191),z.write_shift(2,q),z.write_shift(1,re),z.write_shift(1,G),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(M,z,q){var G={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&q.qpro?(G.s.c=M.read_shift(1),M.l++,G.s.r=M.read_shift(2),G.e.c=M.read_shift(1),M.l++,G.e.r=M.read_shift(2),G):(G.s.c=M.read_shift(2),G.s.r=M.read_shift(2),z==12&&q.qpro&&(M.l+=2),G.e.c=M.read_shift(2),G.e.r=M.read_shift(2),z==12&&q.qpro&&(M.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(M){var z=nt(8);return z.write_shift(2,M.s.c),z.write_shift(2,M.s.r),z.write_shift(2,M.e.c),z.write_shift(2,M.e.r),z}function d(M,z,q){var G=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(G[0].c=M.read_shift(1),G[3]=M.read_shift(1),G[0].r=M.read_shift(2),M.l+=2):(G[2]=M.read_shift(1),G[0].c=M.read_shift(2),G[0].r=M.read_shift(2)),G}function h(M,z,q){var G=M.l+z,re=d(M,z,q);if(re[1].t="s",q.vers==20768){M.l++;var he=M.read_shift(1);return re[1].v=M.read_shift(he,"utf8"),re}return q.qpro&&M.l++,re[1].v=M.read_shift(G-M.l,"cstr"),re}function m(M,z,q){var G=nt(7+q.length);G.write_shift(1,255),G.write_shift(2,z),G.write_shift(2,M),G.write_shift(1,39);for(var re=0;re<G.length;++re){var he=q.charCodeAt(re);G.write_shift(1,he>=128?95:he)}return G.write_shift(1,0),G}function x(M,z,q){var G=d(M,z,q);return G[1].v=M.read_shift(2,"i"),G}function p(M,z,q){var G=nt(7);return G.write_shift(1,255),G.write_shift(2,z),G.write_shift(2,M),G.write_shift(2,q,"i"),G}function y(M,z,q){var G=d(M,z,q);return G[1].v=M.read_shift(8,"f"),G}function v(M,z,q){var G=nt(13);return G.write_shift(1,255),G.write_shift(2,z),G.write_shift(2,M),G.write_shift(8,q,"f"),G}function b(M,z,q){var G=M.l+z,re=d(M,z,q);if(re[1].v=M.read_shift(8,"f"),q.qpro)M.l=G;else{var he=M.read_shift(2);T(M.slice(M.l,M.l+he),re),M.l+=he}return re}function k(M,z,q){var G=z&32768;return z&=-32769,z=(G?M:0)+(z>=8192?z-16384:z),(G?"":"$")+(q?Pn(z):ii(z))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(M,z){ms(M,0);for(var q=[],G=0,re="",he="",je="",oe="";M.l<M.length;){var Ne=M[M.l++];switch(Ne){case 0:q.push(M.read_shift(8,"f"));break;case 1:he=k(z[0].c,M.read_shift(2),!0),re=k(z[0].r,M.read_shift(2),!1),q.push(he+re);break;case 2:{var Me=k(z[0].c,M.read_shift(2),!0),Q=k(z[0].r,M.read_shift(2),!1);he=k(z[0].c,M.read_shift(2),!0),re=k(z[0].r,M.read_shift(2),!1),q.push(Me+Q+":"+he+re)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(M.read_shift(2));break;case 6:{for(var Te="";Ne=M[M.l++];)Te+=String.fromCharCode(Ne);q.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:oe=q.pop(),je=q.pop(),q.push(["AND","OR"][Ne-20]+"("+je+","+oe+")");break;default:if(Ne<32&&_[Ne])oe=q.pop(),je=q.pop(),q.push(je+_[Ne]+oe);else if(N[Ne]){if(G=N[Ne][1],G==69&&(G=M[M.l++]),G>q.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+q.join("|")+"|");return}var Ae=q.slice(-G);q.length-=G,q.push(N[Ne][0]+"("+Ae.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}q.length==1?z[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function P(M){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=M.read_shift(2),z[3]=M[M.l++],z[0].c=M[M.l++],z}function O(M,z){var q=P(M);return q[1].t="s",q[1].v=M.read_shift(z-4,"cstr"),q}function L(M,z,q,G){var re=nt(6+G.length);re.write_shift(2,M),re.write_shift(1,q),re.write_shift(1,z),re.write_shift(1,39);for(var he=0;he<G.length;++he){var je=G.charCodeAt(he);re.write_shift(1,je>=128?95:je)}return re.write_shift(1,0),re}function U(M,z){var q=P(M);q[1].v=M.read_shift(2);var G=q[1].v>>1;if(q[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return q[1].v=G,q}function I(M,z){var q=P(M),G=M.read_shift(4),re=M.read_shift(4),he=M.read_shift(2);if(he==65535)return G===0&&re===3221225472?(q[1].t="e",q[1].v=15):G===0&&re===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var je=he&32768;return he=(he&32767)-16446,q[1].v=(1-je*2)*(re*Math.pow(2,he+32)+G*Math.pow(2,he)),q}function K(M,z,q,G){var re=nt(14);if(re.write_shift(2,M),re.write_shift(1,q),re.write_shift(1,z),G==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var he=0,je=0,oe=0,Ne=0;return G<0&&(he=1,G=-G),je=Math.log2(G)|0,G/=Math.pow(2,je-31),Ne=G>>>0,(Ne&2147483648)==0&&(G/=2,++je,Ne=G>>>0),G-=Ne,Ne|=2147483648,Ne>>>=0,G*=Math.pow(2,32),oe=G>>>0,re.write_shift(4,oe),re.write_shift(4,Ne),je+=16383+(he?32768:0),re.write_shift(2,je),re}function D(M,z){var q=I(M);return M.l+=z-14,q}function F(M,z){var q=P(M),G=M.read_shift(4);return q[1].v=G>>6,q}function H(M,z){var q=P(M),G=M.read_shift(8,"f");return q[1].v=G,q}function Y(M,z){var q=H(M);return M.l+=z-10,q}function ne(M,z){return M[M.l+z-1]==0?M.read_shift(z,"cstr"):""}function X(M,z){var q=M[M.l++];q>z-1&&(q=z-1);for(var G="";G.length<q;)G+=String.fromCharCode(M[M.l++]);return G}function ae(M,z,q){if(!(!q.qpro||z<21)){var G=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var re=M.read_shift(z-21,"cstr");return[G,re]}}function ue(M,z){for(var q={},G=M.l+z;M.l<G;){var re=M.read_shift(2);if(re==14e3){for(q[re]=[0,""],q[re][0]=M.read_shift(2);M[M.l];)q[re][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return q}function se(M,z){var q=nt(5+M.length);q.write_shift(2,14e3),q.write_shift(2,z);for(var G=0;G<M.length;++G){var re=M.charCodeAt(G);q[q.l++]=re>127?95:re}return q[q.l++]=0,q}var be={0:{n:"BOF",f:mi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ne},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:U},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ne},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:t}})();function sye(e){var t={},r=e.match(Fs),a=0,n=!1;if(r)for(;a!=r.length;++a){var i=kr(r[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=Lj[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(i[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+i[0])}}return t}var oye=(function(){var e=S1("t"),t=S1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:da(s[1])},c=i.match(t);return c&&(o.s=sye(c[1])),o}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(s){return s.replace(a,"").split(n).map(r).filter(function(o){return o.v})}})(),lye=(function(){var t=/(\r\n|\n)/g;function r(n,i,s){var o=[];n.u&&o.push("text-decoration: underline;"),n.uval&&o.push("text-underline-style:"+n.uval+";"),n.sz&&o.push("font-size:"+n.sz+"pt;"),n.outline&&o.push("text-effect: outline;"),n.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),n.b&&(i.push("<b>"),s.push("</b>")),n.i&&(i.push("<i>"),s.push("</i>")),n.strike&&(i.push("<s>"),s.push("</s>"));var c=n.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),n}function a(n){var i=[[],n.v,[]];return n.v?(n.s&&r(n.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}})(),cye=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,uye=/<(?:\w+:)?r>/,dye=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function nA(e,t){var r=t?t.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=da(Wa(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Wa(e),r&&(a.h=Hj(a.t))):e.match(uye)&&(a.r=Wa(e),a.t=da(Wa((e.replace(dye,"").match(cye)||[]).join("").replace(Fs,""))),r&&(a.h=lye(oye(a.r)))),a):{t:""}}var fye=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,hye=/<(?:\w+:)?(?:si|sstItem)>/g,mye=/<\/(?:\w+:)?(?:si|sstItem)>/;function pye(e,t){var r=[],a="";if(!e)return r;var n=e.match(fye);if(n){a=n[2].replace(hye,"").split(mye);for(var i=0;i!=a.length;++i){var s=nA(a[i].trim(),t);s!=null&&(r[r.length]=s)}n=kr(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var gye=/^\s|\s$|[\t\n\r]/;function a$(e,t){if(!t.bookSST)return"";var r=[si];r[r.length]=wt("sst",null,{xmlns:cm[0],count:e.Count,uniqueCount:e.Unique});for(var a=0;a!=e.length;++a)if(e[a]!=null){var n=e[a],i="<si>";n.r?i+=n.r:(i+="<t",n.t||(n.t=""),n.t.match(gye)&&(i+=' xml:space="preserve"'),i+=">"+La(n.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function xye(e){return[e.read_shift(4),e.read_shift(4)]}function vye(e,t){var r=[],a=!1;return ad(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(s.T,!a||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function yye(e,t){return t||(t=nt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var bye=Cxe;function wye(e){var t=Po();ht(t,159,yye(e));for(var r=0;r<e.length;++r)ht(t,19,bye(e[r]));return ht(t,160),t.end()}function n$(e){for(var t=[],r=e.split(""),a=0;a<r.length;++a)t[a]=r[a].charCodeAt(0);return t}function R0(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function kye(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=R0(e,4),t.U=R0(e,4),t.W=R0(e,4),t}function _ye(e){for(var t=e.read_shift(4),r=e.l+t-4,a={},n=e.read_shift(4),i=[];n-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return a}function Sye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(_ye(e));return t}function Nye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function jye(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=R0(e,4),t.U=R0(e,4),t.W=R0(e,4),t}function Aye(e){var t=jye(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function i$(e,t){var r=e.l+t,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,a}function s$(e,t){var r={},a=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,a),e.l=a,r}function Tye(e){var t=R0(e);switch(t.Minor){case 2:return[t.Minor,Eye(e)];case 3:return[t.Minor,Cye()];case 4:return[t.Minor,Oye(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Eye(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),a=i$(e,r),n=s$(e,e.length-e.l);return{t:"Std",h:a,v:n}}function Cye(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Oye(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),a={};return r.replace(Fs,function(i){var s=kr(i);switch(Mu(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){a[o]=s[o]});break;case"<dataIntegrity":a.encryptedHmacKey=s.encryptedHmacKey,a.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(s);break;default:throw s[0]}}),a}function Pye(e,t){var r={},a=r.EncryptionVersionInfo=R0(e,4);if(t-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=e.read_shift(4),t-=4;var n=e.read_shift(4);return t-=4,r.EncryptionHeader=i$(e,n),t-=n,r.EncryptionVerifier=s$(e,t),r}function Dye(e){var t={},r=t.EncryptionVersionInfo=R0(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function iA(e){var t=0,r,a=n$(e),n=a.length+1,i,s,o,c,d;for(r=hf(n),r[0]=a.length,i=1;i!=n;++i)r[i]=a[i-1];for(i=n-1;i>=0;--i)s=r[i],o=(t&16384)===0?0:1,c=t<<1&32767,d=o|c,t=d^s;return t^52811}var o$=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(s){return(s/2|s*128)&255},n=function(s,o){return a(s^o)},i=function(s){for(var o=t[s.length-1],c=104,d=s.length-1;d>=0;--d)for(var h=s[d],m=0;m!=7;++m)h&64&&(o^=r[c]),h*=2,--c;return o};return function(s){for(var o=n$(s),c=i(o),d=o.length,h=hf(16),m=0;m!=16;++m)h[m]=0;var x,p,y;for((d&1)===1&&(x=c>>8,h[d]=n(e[0],x),--d,x=c&255,p=o[o.length-1],h[d]=n(p,x));d>0;)--d,x=c>>8,h[d]=n(o[d],x),--d,x=c&255,h[d]=n(o[d],x);for(d=15,y=15-o.length;y>0;)x=c>>8,h[d]=n(e[y],x),--d,--y,x=c&255,h[d]=n(o[d],x),--d,--y;return h}})(),Lye=function(e,t,r,a,n){n||(n=t),a||(a=o$(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=a[r],s=(s>>5|s<<3)&255,n[i]=s,++r;return[n,r,a]},Mye=function(e){var t=0,r=o$(e);return function(a){var n=Lye("",a,t,r);return t=n[1],n[0]}};function Rye(e,t,r,a){var n={key:mi(e),verificationBytes:mi(e)};return r.password&&(n.verifier=iA(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=Mye(r.password)),n}function Iye(e,t,r){var a=r||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=Dye(e):a.Data=Pye(e,t),a}function Fye(e,t,r){var a={Type:r.biff>=8?e.read_shift(2):0};return a.Type?Iye(e,t-2,a):Rye(e,r.biff>=8?t:t-2,r,a),a}var l$=(function(){function e(n,i){switch(i.type){case"base64":return t(dl(n),i);case"binary":return t(n,i);case"buffer":return t(Vr&&Buffer.isBuffer(n)?n.toString("binary"):_f(n),i);case"array":return t(Jh(n),i)}throw new Error("Unrecognized type "+i.type)}function t(n,i){var s=i||{},o=s.dense?[]:{},c=n.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,m){Array.isArray(o)&&(o[m]=[]);for(var x=/\\\w+\b/g,p=0,y,v=-1;y=x.exec(h);){switch(y[0]){case"\\cell":var b=h.slice(p,x.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++v,b.length){var k={v:b,t:"s"};Array.isArray(o)?o[m][v]=k:o[br({r:m,c:v})]=k}break}p=x.lastIndex}v>d.e.c&&(d.e.c=v)}),o["!ref"]=Mr(d),o}function r(n,i){return Sf(e(n,i),i)}function a(n){for(var i=["{\\rtf1\\ansi"],s=fa(n["!ref"]),o,c=Array.isArray(n),d=s.s.r;d<=s.e.r;++d){i.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var m=br({r:d,c:h});o=c?(n[d]||[])[h]:n[m],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(W0(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:a}})();function Bye(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function T1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Uye(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,n=Math.max(t,r,a),i=Math.min(t,r,a),s=n-i;if(s===0)return[0,0,t];var o=0,c=0,d=n+i;switch(c=s/(d>1?2-d:d),n){case t:o=((r-a)/s+6)%6;break;case r:o=(a-t)/s+2;break;case a:o=(t-r)/s+4;break}return[o/6,c,d/2]}function zye(e){var t=e[0],r=e[1],a=e[2],n=r*2*(a<.5?a:1-a),i=a-n/2,s=[i,i,i],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=n*o,s[0]+=n,s[1]+=c;break;case 1:c=n*(2-o),s[0]+=c,s[1]+=n;break;case 2:c=n*(o-2),s[1]+=n,s[2]+=c;break;case 3:c=n*(4-o),s[1]+=c,s[2]+=n;break;case 4:c=n*(o-4),s[2]+=n,s[0]+=c;break;case 5:c=n*(6-o),s[2]+=c,s[0]+=n;break}for(var d=0;d!=3;++d)s[d]=Math.round(s[d]*255);return s}function L2(e,t){if(t===0)return e;var r=Uye(Bye(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),T1(zye(r))}var c$=6,qye=15,$ye=1,Ps=c$;function E1(e){return Math.floor((e+Math.round(128/Ps)/256)*Ps)}function C1(e){return Math.floor((e-5)/Ps*100+.5)/100}function M2(e){return Math.round((e*Ps+5)/Ps*256)/256}function h_(e){return M2(C1(E1(e)))}function sA(e){var t=Math.abs(e-h_(e)),r=Ps;if(t>.005)for(Ps=$ye;Ps<qye;++Ps)Math.abs(e-h_(e))<=t&&(t=Math.abs(e-h_(e)),r=Ps);Ps=r}function mf(e){e.width?(e.wpx=E1(e.width),e.wch=C1(e.wpx),e.MDW=Ps):e.wpx?(e.wch=C1(e.wpx),e.width=M2(e.wch),e.MDW=Ps):typeof e.wch=="number"&&(e.width=M2(e.wch),e.wpx=E1(e.width),e.MDW=Ps),e.customWidth&&delete e.customWidth}var Hye=96,u$=Hye;function O1(e){return e*96/u$}function ug(e){return e*u$/96}var Wye={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Vye(e,t,r,a){t.Borders=[];var n={},i=!1;(e[0].match(Fs)||[]).forEach(function(s){var o=kr(s);switch(Mu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},o.diagonalUp&&(n.diagonalUp=ln(o.diagonalUp)),o.diagonalDown&&(n.diagonalDown=ln(o.diagonalDown)),t.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Kye(e,t,r,a){t.Fills=[];var n={},i=!1;(e[0].match(Fs)||[]).forEach(function(s){var o=kr(s);switch(Mu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},t.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":o.patternType&&(n.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),o.indexed&&(n.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(n.bgColor.theme=parseInt(o.theme,10)),o.tint&&(n.bgColor.tint=parseFloat(o.tint)),o.rgb&&(n.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),o.theme&&(n.fgColor.theme=parseInt(o.theme,10)),o.tint&&(n.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(n.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Gye(e,t,r,a){t.Fonts=[];var n={},i=!1;(e[0].match(Fs)||[]).forEach(function(s){var o=kr(s);switch(Mu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(n),n={};break;case"<name":o.val&&(n.name=Wa(o.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=o.val?ln(o.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=o.val?ln(o.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(o.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=o.val?ln(o.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=o.val?ln(o.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=o.val?ln(o.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=o.val?ln(o.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=o.val?ln(o.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":o.val&&(n.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(n.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(n.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(n.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Lj[parseInt(o.val,10)];break;case"<color":if(n.color||(n.color={}),o.auto&&(n.color.auto=ln(o.auto)),o.rgb)n.color.rgb=o.rgb.slice(-6);else if(o.indexed){n.color.index=parseInt(o.indexed,10);var c=Oh[n.color.index];n.color.index==81&&(c=Oh[1]),c||(c=Oh[1]),n.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(n.color.theme=parseInt(o.theme,10),o.tint&&(n.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=L2(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Yye(e,t,r){t.NumberFmt=[];for(var a=Gn(yr),n=0;n<a.length;++n)t.NumberFmt[a[n]]=yr[a[n]];var i=e[0].match(Fs);if(i)for(n=0;n<i.length;++n){var s=kr(i[n]);switch(Mu(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=da(Wa(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}M0(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Xye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&(t[t.length]=wt("numFmt",null,{numFmtId:a,formatCode:La(e[a])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Zy=["numFmtId","fillId","fontId","borderId","xfId"],eb=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Qye(e,t,r){t.CellXf=[];var a,n=!1;(e[0].match(Fs)||[]).forEach(function(i){var s=kr(i),o=0;switch(Mu(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=s,delete a[0],o=0;o<Zy.length;++o)a[Zy[o]]&&(a[Zy[o]]=parseInt(a[Zy[o]],10));for(o=0;o<eb.length;++o)a[eb[o]]&&(a[eb[o]]=ln(a[eb[o]]));if(t.NumberFmt&&a.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[a.numFmtId]==t.NumberFmt[o]){a.numFmtId=o;break}}t.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=ln(s.wrapText)),a.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Jye(e){var t=[];return t[t.length]=wt("cellXfs",null),e.forEach(function(r){t[t.length]=wt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Zye=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,d){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(t))&&Yye(m,h,d),(m=o.match(n))&&Gye(m,h,c,d),(m=o.match(a))&&Kye(m,h,c,d),(m=o.match(i))&&Vye(m,h,c,d),(m=o.match(r))&&Qye(m,h,d),h}})();function d$(e,t){var r=[si,wt("styleSheet",null,{xmlns:cm[0],"xmlns:vt":Di.vt})],a;return e.SSF&&(a=Xye(e.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=Jye(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function ebe(e,t){var r=e.read_shift(2),a=Ms(e);return[r,a]}function tbe(e,t,r){r||(r=nt(6+4*t.length)),r.write_shift(2,e),es(t,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function rbe(e,t,r){var a={};a.sz=e.read_shift(2)/20;var n=Ixe(e);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(a.underline=s);var o=e.read_shift(1);o>0&&(a.family=o);var c=e.read_shift(1);switch(c>0&&(a.charset=c),e.l++,a.color=Rxe(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Ms(e),a}function abe(e,t){t||(t=nt(153)),t.write_shift(2,e.sz*20),Fxe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),O2(e.color,t);var a=0;return a=2,t.write_shift(1,a),es(e.name,t),t.length>t.l?t.slice(0,t.l):t}var nbe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],m_,ibe=Rs;function JD(e,t){t||(t=nt(84)),m_||(m_=qw(nbe));var r=m_[e.patternType];r==null&&(r=40),t.write_shift(4,r);var a=0;if(r!=40)for(O2({auto:1},t),O2({auto:1},t);a<12;++a)t.write_shift(4,0);else{for(;a<4;++a)t.write_shift(4,0);for(;a<12;++a)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function sbe(e,t){var r=e.l+t,a=e.read_shift(2),n=e.read_shift(2);return e.l=r,{ixfe:a,numFmtId:n}}function f$(e,t,r){r||(r=nt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ex(e,t){return t||(t=nt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var obe=Rs;function lbe(e,t){return t||(t=nt(51)),t.write_shift(1,0),Ex(null,t),Ex(null,t),Ex(null,t),Ex(null,t),Ex(null,t),t.length>t.l?t.slice(0,t.l):t}function cbe(e,t){return t||(t=nt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),C2(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ube(e,t,r){var a=nt(2052);return a.write_shift(4,e),C2(t,a),C2(r,a),a.length>a.l?a.slice(0,a.l):a}function dbe(e,t,r){var a={};a.NumberFmt=[];for(var n in yr)a.NumberFmt[n]=yr[n];a.CellXf=[],a.Fonts=[];var i=[],s=!1;return ad(e,function(c,d,h){switch(h){case 44:a.NumberFmt[c[0]]=c[1],M0(c[1],c[0]);break;case 43:a.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=L2(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(h),s=!0;break;case 38:i.pop(),s=!1;break;default:if(d.T>0)i.push(h);else if(d.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),a}function fbe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&++r}),r!=0&&(ht(e,615,Rc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&ht(e,44,tbe(n,t[n]))}),ht(e,616))}}function hbe(e){var t=1;ht(e,611,Rc(t)),ht(e,43,abe({sz:12,color:{theme:1},name:"Calibri",family:2})),ht(e,612)}function mbe(e){var t=2;ht(e,603,Rc(t)),ht(e,45,JD({patternType:"none"})),ht(e,45,JD({patternType:"gray125"})),ht(e,604)}function pbe(e){var t=1;ht(e,613,Rc(t)),ht(e,46,lbe()),ht(e,614)}function gbe(e){var t=1;ht(e,626,Rc(t)),ht(e,47,f$({numFmtId:0},65535)),ht(e,627)}function xbe(e,t){ht(e,617,Rc(t.length)),t.forEach(function(r){ht(e,47,f$(r,0))}),ht(e,618)}function vbe(e){var t=1;ht(e,619,Rc(t)),ht(e,48,cbe({xfId:0,name:"Normal"})),ht(e,620)}function ybe(e){var t=0;ht(e,505,Rc(t)),ht(e,506)}function bbe(e){var t=0;ht(e,508,ube(t,"TableStyleMedium9","PivotStyleMedium4")),ht(e,509)}function wbe(e,t){var r=Po();return ht(r,278),fbe(r,e.SSF),hbe(r),mbe(r),pbe(r),gbe(r),xbe(r,t.cellXfs),vbe(r),ybe(r),bbe(r),ht(r,279),r.end()}var kbe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _be(e,t,r){t.themeElements.clrScheme=[];var a={};(e[0].match(Fs)||[]).forEach(function(n){var i=kr(n);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[kbe.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Sbe(){}function Nbe(){}var jbe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Abe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Tbe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ebe(e,t,r){t.themeElements={};var a;[["clrScheme",jbe,_be],["fontScheme",Abe,Sbe],["fmtScheme",Tbe,Nbe]].forEach(function(n){if(!(a=e.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,t,r)})}var Cbe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function h$(e,t){(!e||e.length===0)&&(e=oA());var r,a={};if(!(r=e.match(Cbe)))throw new Error("themeElements not found in theme");return Ebe(r[0],a,t),a.raw=e,a}function oA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[si];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Obe(e,t,r){var a=e.l+t,n=e.read_shift(4);if(n!==124226){if(!r.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var s;try{s=iq(i,{type:"array"})}catch{return}var o=sl(s,"theme/theme/theme1.xml",!0);if(o)return h$(o,r)}}function Pbe(e){return e.read_shift(4)}function Dbe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Lbe(e,4);break;case 2:t.xclrValue=Vq(e);break;case 3:t.xclrValue=Pbe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Lbe(e,t){return Rs(e,t)}function Mbe(e,t){return Rs(e,t)}function Rbe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,a=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=Dbe(e);break;case 6:a[1]=Mbe(e,r);break;case 14:case 15:a[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return a}function Ibe(e,t){var r=e.l+t;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),i=[];n-- >0;)i.push(Rbe(e,r-e.l));return{ixfe:a,ext:i}}function Fbe(e,t){t.forEach(function(r){r[0]})}function Bbe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ms(e)}}function Ube(e){var t=nt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),es(e.name,t),t.slice(0,t.l)}function zbe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function qbe(e){var t=nt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function $be(e,t){var r=nt(8+2*t.length);return r.write_shift(4,e),es(t,r),r.slice(0,r.l)}function Hbe(e){return e.l+=4,e.read_shift(4)!=0}function Wbe(e,t){var r=nt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Vbe(e,t,r){var a={Types:[],Cell:[],Value:[]},n=r||{},i=[],s=!1,o=2;return ad(e,function(c,d,h){switch(h){case 335:a.Types.push({name:c.name});break;case 51:c.forEach(function(m){o==1?a.Cell.push({type:a.Types[m[0]-1].name,index:m[1]}):o==0&&a.Value.push({type:a.Types[m[0]-1].name,index:m[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(h),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!d.T){if(!s||n.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),a}function Kbe(){var e=Po();return ht(e,332),ht(e,334,Rc(1)),ht(e,335,Ube({name:"XLDAPR",version:12e4,flags:3496657072})),ht(e,336),ht(e,339,$be(1,"XLDAPR")),ht(e,52),ht(e,35,Rc(514)),ht(e,4096,Rc(0)),ht(e,4097,Ul(1)),ht(e,36),ht(e,53),ht(e,340),ht(e,337,Wbe(1)),ht(e,51,qbe([[1,0]])),ht(e,338),ht(e,333),e.end()}function Gbe(e,t,r){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var n=!1,i=2,s;return e.replace(Fs,function(o){var c=kr(o);switch(Mu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==c.name&&(s=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[c.t-1].name,index:+c.v}):i==0&&a.Value.push({type:a.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),a}function m$(){var e=[si];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ybe(e){var t=[];if(!e)return t;var r=1;return(e.match(Fs)||[]).forEach(function(a){var n=kr(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n);break}}),t}function Xbe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=br(r);var a=e.read_shift(1);return a&2&&(t.l="1"),a&8&&(t.a="1"),t}function Qbe(e,t,r){var a=[];return ad(e,function(i,s,o){switch(o){case 63:a.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),a}function Jbe(e,t,r,a){if(!e)return e;var n=a||{},i=!1;ad(e,function(o,c,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||n.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},n)}function Zbe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Ap=1024;function p$(e,t){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[wt("xml",null,{"xmlns:v":el.v,"xmlns:o":el.o,"xmlns:x":el.x,"xmlns:mv":el.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];Ap<e*1e3;)Ap+=1e3;return t.forEach(function(i){var s=Dn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=wt("v:fill",c,o),h={on:"t",obscured:"t"};++Ap,n=n.concat(["<v:shape"+N1({id:"_x0000_s"+Ap,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,wt("v:shadow",null,h),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ps("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ps("x:AutoFill","False"),ps("x:Row",String(s.r)),ps("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function ZD(e,t,r,a){var n=Array.isArray(e),i;t.forEach(function(s){var o=Dn(s.ref);if(n?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},n?e[o.r][o.c]=i:e[s.ref]=i;var c=fa(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var d=Mr(c);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var h={a:s.author,t:s.t,r:s.r,T:r};s.h&&(h.h=s.h);for(var m=i.c.length-1;m>=0;--m){if(!r&&i.c[m].T)return;r&&!i.c[m].T&&i.c.splice(m,1)}if(r&&a){for(m=0;m<a.length;++m)if(h.a==a[m].id){h.a=a[m].name||h.a;break}}i.c.push(h)})}function e2e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=kr(o[0]),d={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=Dn(c.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var m=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!m&&!!m[1]&&nA(m[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(d.h=x.h),a.push(d)}}}}),a}function g$(e){var t=[si,wt("comments",null,{xmlns:cm[0]})],r=[];return t.push("<authors>"),e.forEach(function(a){a[1].forEach(function(n){var i=La(n.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),t.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(a){var n=0,i=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(c){c.a&&(n=r.indexOf(La(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),i.length<=1)t.push(ps("t",La(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(ps("t",La(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function t2e(e,t){var r=[],a=!1,n={},i=0;return e.replace(Fs,function(o,c){var d=kr(o);switch(Mu(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":n.t=e.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return o}),r}function r2e(e,t,r){var a=[si,wt("ThreadedComments",null,{xmlns:Di.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(n){var i="";(n[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),a.push(wt("threadedComment",ps("text",s.t||""),c))})}),a.push("</ThreadedComments>"),a.join("")}function a2e(e,t){var r=[],a=!1;return e.replace(Fs,function(i){var s=kr(i);switch(Mu(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function n2e(e){var t=[si,wt("personList",null,{xmlns:Di.TCMNT,"xmlns:x":cm[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,a){t.push(wt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function i2e(e){var t={};t.iauthor=e.read_shift(4);var r=hm(e);return t.rfx=r.s,t.ref=br(r.s),e.l+=16,t}function s2e(e,t){return t==null&&(t=nt(36)),t.write_shift(4,e[1].iauthor),Lg(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var o2e=Ms;function l2e(e){return es(e.slice(0,54))}function c2e(e,t){var r=[],a=[],n={},i=!1;return ad(e,function(o,c,d){switch(d){case 632:a.push(o);break;case 635:n=o;break;case 637:n.t=o.t,n.h=o.h,n.r=o.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,t.sheetRows&&n.rfx&&t.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function u2e(e){var t=Po(),r=[];return ht(t,628),ht(t,630),e.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),ht(t,632,l2e(n.a)))})}),ht(t,631),ht(t,633),e.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var i={s:Dn(a[0]),e:Dn(a[0])};ht(t,635,s2e([i,n])),n.t&&n.t.length>0&&ht(t,637,Pxe(n)),ht(t,636),delete n.iauthor})}),ht(t,634),ht(t,629),t.end()}var d2e="application/vnd.ms-office.vbaProject";function f2e(e){var t=hr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");hr.utils.cfb_add(t,n,e.FileIndex[a].content)}}),hr.write(t)}function h2e(e,t){t.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&hr.utils.cfb_add(e,n,t.FileIndex[a].content)}})}var x$=["xlsb","xlsm","xlam","biff8","xla"];function m2e(){return{"!type":"dialog"}}function p2e(){return{"!type":"dialog"}}function g2e(){return{"!type":"macro"}}function x2e(){return{"!type":"macro"}}var Mp=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(a,n,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=t.c:--h,c?d+=t.r:--d,n+(o?"":"$")+Pn(h)+(c?"":"$")+ii(d)}return function(n,i){return t=i,n.replace(e,r)}})(),lA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cA=(function(){return function(t,r){return t.replace(lA,function(a,n,i,s,o,c){var d=Yj(s)-(i?0:r.c),h=Gj(c)-(o?0:r.r),m=h==0?"":o?h+1:"["+h+"]",x=d==0?"":i?d+1:"["+d+"]";return n+"R"+m+"C"+x})}})();function v$(e,t){return e.replace(lA,function(r,a,n,i,s,o){return a+(n=="$"?n+i:Pn(Yj(i)+t.c))+(s=="$"?s+o:ii(Gj(o)+t.r))})}function v2e(e,t,r){var a=Do(t),n=a.s,i=Dn(r),s={r:i.r-n.r,c:i.c-n.c};return v$(e,s)}function y2e(e){return e.length!=1}function eL(e){return e.replace(/_xlfn\./g,"")}function fi(e){e.l+=1}function pf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function y$(e,t,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return b$(e);r.biff==12&&(a=4)}var n=e.read_shift(a),i=e.read_shift(a),s=pf(e),o=pf(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function b$(e){var t=pf(e),r=pf(e),a=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:a,cRel:t[1],rRel:t[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function b2e(e,t,r){if(r.biff<8)return b$(e);var a=e.read_shift(r.biff==12?4:2),n=e.read_shift(r.biff==12?4:2),i=pf(e),s=pf(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:n,c:s[0],cRel:s[1],rRel:s[2]}}}function w$(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return w2e(e);var a=e.read_shift(r&&r.biff==12?4:2),n=pf(e);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function w2e(e){var t=pf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function k2e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function _2e(e,t,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return S2e(e);var n=e.read_shift(a>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;n>524287;)n-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:n,c:i,cRel:s,rRel:o}}function S2e(e){var t=e.read_shift(2),r=e.read_shift(1),a=(t&32768)>>15,n=(t&16384)>>14;return t&=16383,a==1&&t>=8192&&(t=t-16384),n==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:n,rRel:a}}function N2e(e,t,r){var a=(e[e.l++]&96)>>5,n=y$(e,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function j2e(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=y$(e,i,r);return[a,n,s]}function A2e(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function T2e(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,n]}function E2e(e,t,r){var a=(e[e.l++]&96)>>5,n=b2e(e,t-1,r);return[a,n]}function C2e(e,t,r){var a=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[a]}function tL(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function O2e(e,t,r){e.l+=2;for(var a=e.read_shift(r&&r.biff==2?1:2),n=[],i=0;i<=a;++i)n.push(e.read_shift(r&&r.biff==2?1:2));return n}function P2e(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function D2e(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(r&&r.biff==2?1:2)]}function L2e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function M2e(e,t,r){var a=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[a]}function k$(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function R2e(e){return e.read_shift(2),k$(e)}function I2e(e){return e.read_shift(2),k$(e)}function F2e(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=w$(e,0,r);return[a,n]}function B2e(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=_2e(e,0,r);return[a,n]}function U2e(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=w$(e,0,r);return[a,n,i]}function z2e(e,t,r){var a=(e[e.l]&96)>>5;e.l+=1;var n=e.read_shift(r&&r.biff<=3?1:2);return[Hwe[n],N$[n],a]}function q2e(e,t,r){var a=e[e.l++],n=e.read_shift(1),i=r&&r.biff<=3?[a==88?-1:0,e.read_shift(1)]:$2e(e);return[n,(i[0]===0?N$:$we)[i[1]]]}function $2e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function H2e(e,t,r){e.l+=r&&r.biff==2?3:4}function W2e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function V2e(e){return e.l++,nd[e.read_shift(1)]}function K2e(e){return e.l++,e.read_shift(2)}function G2e(e){return e.l++,e.read_shift(1)!==0}function Y2e(e){return e.l++,Ds(e)}function X2e(e,t,r){return e.l++,vv(e,t-1,r)}function Q2e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Zn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=nd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ds(e);break;case 2:r[1]=mm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function J2e(e,t,r){for(var a=e.read_shift(r.biff==12?4:2),n=[],i=0;i!=a;++i)n.push((r.biff==12?hm:Ww)(e));return n}function Z2e(e,t,r){var a=0,n=0;r.biff==12?(a=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),a=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var i=0,s=[];i!=a&&(s[i]=[]);++i)for(var o=0;o!=n;++o)s[i][o]=Q2e(e,r.biff);return s}function ewe(e,t,r){var a=e.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,i=e.read_shift(n);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function twe(e,t,r){if(r.biff==5)return rwe(e);var a=e.read_shift(1)>>>5&3,n=e.read_shift(2),i=e.read_shift(4);return[a,n,i]}function rwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[t,r,a]}function awe(e,t,r){var a=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function nwe(e,t,r){var a=e.read_shift(1)>>>5&3,n=e.read_shift(r&&r.biff==2?1:2);return[a,n]}function iwe(e,t,r){var a=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[a]}function swe(e,t,r){var a=(e[e.l++]&96)>>5,n=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,n]}var owe=Rs,lwe=Rs,cwe=Rs;function bv(e,t,r){return e.l+=2,[k2e(e)]}function uA(e){return e.l+=6,[]}var uwe=bv,dwe=uA,fwe=uA,hwe=bv;function _$(e){return e.l+=2,[mi(e),e.read_shift(2)&1]}var mwe=bv,pwe=_$,gwe=uA,xwe=bv,vwe=bv,ywe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function bwe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(4),n=e.read_shift(2),i=e.read_shift(2),s=ywe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:a,c:n,C:i}}function wwe(e){return e.l+=2,[e.read_shift(4)]}function kwe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function _we(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Swe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Nwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function jwe(e){return e.l+=4,[0,0]}var rL={1:{n:"PtgExp",f:W2e},2:{n:"PtgTbl",f:cwe},3:{n:"PtgAdd",f:fi},4:{n:"PtgSub",f:fi},5:{n:"PtgMul",f:fi},6:{n:"PtgDiv",f:fi},7:{n:"PtgPower",f:fi},8:{n:"PtgConcat",f:fi},9:{n:"PtgLt",f:fi},10:{n:"PtgLe",f:fi},11:{n:"PtgEq",f:fi},12:{n:"PtgGe",f:fi},13:{n:"PtgGt",f:fi},14:{n:"PtgNe",f:fi},15:{n:"PtgIsect",f:fi},16:{n:"PtgUnion",f:fi},17:{n:"PtgRange",f:fi},18:{n:"PtgUplus",f:fi},19:{n:"PtgUminus",f:fi},20:{n:"PtgPercent",f:fi},21:{n:"PtgParen",f:fi},22:{n:"PtgMissArg",f:fi},23:{n:"PtgStr",f:X2e},26:{n:"PtgSheet",f:kwe},27:{n:"PtgEndSheet",f:_we},28:{n:"PtgErr",f:V2e},29:{n:"PtgBool",f:G2e},30:{n:"PtgInt",f:K2e},31:{n:"PtgNum",f:Y2e},32:{n:"PtgArray",f:C2e},33:{n:"PtgFunc",f:z2e},34:{n:"PtgFuncVar",f:q2e},35:{n:"PtgName",f:ewe},36:{n:"PtgRef",f:F2e},37:{n:"PtgArea",f:N2e},38:{n:"PtgMemArea",f:awe},39:{n:"PtgMemErr",f:owe},40:{n:"PtgMemNoMem",f:lwe},41:{n:"PtgMemFunc",f:nwe},42:{n:"PtgRefErr",f:iwe},43:{n:"PtgAreaErr",f:A2e},44:{n:"PtgRefN",f:B2e},45:{n:"PtgAreaN",f:E2e},46:{n:"PtgMemAreaN",f:Swe},47:{n:"PtgMemNoMemN",f:Nwe},57:{n:"PtgNameX",f:twe},58:{n:"PtgRef3d",f:U2e},59:{n:"PtgArea3d",f:j2e},60:{n:"PtgRefErr3d",f:swe},61:{n:"PtgAreaErr3d",f:T2e},255:{}},Awe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Twe={1:{n:"PtgElfLel",f:_$},2:{n:"PtgElfRw",f:xwe},3:{n:"PtgElfCol",f:uwe},6:{n:"PtgElfRwV",f:vwe},7:{n:"PtgElfColV",f:hwe},10:{n:"PtgElfRadical",f:mwe},11:{n:"PtgElfRadicalS",f:gwe},13:{n:"PtgElfColS",f:dwe},15:{n:"PtgElfColSV",f:fwe},16:{n:"PtgElfRadicalLel",f:pwe},25:{n:"PtgList",f:bwe},29:{n:"PtgSxName",f:wwe},255:{}},Ewe={0:{n:"PtgAttrNoop",f:jwe},1:{n:"PtgAttrSemi",f:M2e},2:{n:"PtgAttrIf",f:D2e},4:{n:"PtgAttrChoose",f:O2e},8:{n:"PtgAttrGoto",f:P2e},16:{n:"PtgAttrSum",f:H2e},32:{n:"PtgAttrBaxcel",f:tL},33:{n:"PtgAttrBaxcel",f:tL},64:{n:"PtgAttrSpace",f:R2e},65:{n:"PtgAttrSpaceSemi",f:I2e},128:{n:"PtgAttrIfError",f:L2e},255:{}};function wv(e,t,r,a){if(a.biff<8)return Rs(e,t);for(var n=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Z2e(e,0,a),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=J2e(e,r[s][1],a),i.push(r[s][2]);break;case"PtgExp":a&&a.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=n-e.l,t!==0&&i.push(Rs(e,t)),i}function kv(e,t,r){for(var a=e.l+t,n,i,s=[];a!=e.l;)t=a-e.l,i=e[e.l],n=rL[i]||rL[Awe[i]],(i===24||i===25)&&(n=(i===24?Twe:Ewe)[e[e.l+1]]),!n||!n.f?Rs(e,t):s.push([n.n,n.f(e,t,r)]);return s}function Cwe(e){for(var t=[],r=0;r<e.length;++r){for(var a=e[r],n=[],i=0;i<a.length;++i){var s=a[i];if(s)switch(s[0]){case 2:n.push('"'+s[1].replace(/"/g,'""')+'"');break;default:n.push(s[1])}else n.push("")}t.push(n.join(","))}return t.join(";")}var Owe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Pwe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function S$(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(e[a[0]][0]){case 357:return n=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(n=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function aL(e,t,r){var a=S$(e,t,r);return a=="#REF"?a:Pwe(a,r)}function Cs(e,t,r,a,n){var i=n&&n.biff||8,s={s:{c:0,r:0}},o=[],c,d,h,m=0,x=0,p,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,b="",k=0,N=e[0].length;k<N;++k){var _=e[0][k];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),d=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:b=Wn(" ",e[0][v][1][1]);break;case 1:b=Wn("\r",e[0][v][1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}d=d+b,v=-1}o.push(d+Owe[_[0]]+c);break;case"PtgIsect":c=o.pop(),d=o.pop(),o.push(d+" "+c);break;case"PtgUnion":c=o.pop(),d=o.pop(),o.push(d+","+c);break;case"PtgRange":c=o.pop(),d=o.pop(),o.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Vx(_[1][1],s,n),o.push(Kx(h,i));break;case"PtgRefN":h=r?Vx(_[1][1],r,n):_[1][1],o.push(Kx(h,i));break;case"PtgRef3d":m=_[1][1],h=Vx(_[1][2],s,n),y=aL(a,m,n),o.push(y+"!"+Kx(h,i));break;case"PtgFunc":case"PtgFuncVar":var T=_[1][0],P=_[1][1];T||(T=0),T&=127;var O=T==0?[]:o.slice(-T);o.length-=T,P==="User"&&(P=O.shift()),o.push(P+"("+O.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":p=PD(_[1][1],r?{s:r}:s,n),o.push(u_(p,n));break;case"PtgArea":p=PD(_[1][1],s,n),o.push(u_(p,n));break;case"PtgArea3d":m=_[1][1],p=_[1][2],y=aL(a,m,n),o.push(y+"!"+u_(p,n));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=_[1][2];var L=(a.names||[])[x-1]||(a[0]||[])[x],U=L?L.Name:"SH33TJSNAME"+String(x);U&&U.slice(0,6)=="_xlfn."&&!n.xlfn&&(U=U.slice(6)),o.push(U);break;case"PtgNameX":var I=_[1][1];x=_[1][2];var K;if(n.biff<=5)I<0&&(I=-I),a[I]&&(K=a[I][x]);else{var D="";if(((a[I]||[])[0]||[])[0]==14849||(((a[I]||[])[0]||[])[0]==1025?a[I][x]&&a[I][x].itab>0&&(D=a.SheetNames[a[I][x].itab-1]+"!"):D=a.SheetNames[x-1]+"!"),a[I]&&a[I][x])D+=a[I][x].Name;else if(a[0]&&a[0][x])D+=a[0][x].Name;else{var F=(S$(a,I,n)||"").split(";;");F[x-1]?D=F[x-1]:D+="SH33TJSERRX"}o.push(D);break}K||(K={Name:"SH33TJSERRY"}),o.push(K.Name);break;case"PtgParen":var H="(",Y=")";if(v>=0){switch(b="",e[0][v][1][0]){case 2:H=Wn(" ",e[0][v][1][1])+H;break;case 3:H=Wn("\r",e[0][v][1][1])+H;break;case 4:Y=Wn(" ",e[0][v][1][1])+Y;break;case 5:Y=Wn("\r",e[0][v][1][1])+Y;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(H+o.pop()+Y);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:_[1][1],r:_[1][0]};var ne={c:r.c,r:r.r};if(a.sharedf[br(h)]){var X=a.sharedf[br(h)];o.push(Cs(X,s,ne,a,n))}else{var ae=!1;for(c=0;c!=a.arrayf.length;++c)if(d=a.arrayf[c],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){o.push(Cs(d[1],s,ne,a,n)),ae=!0;break}ae||o.push(_[1])}break;case"PtgArray":o.push("{"+Cwe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&ue.indexOf(e[0][k][0])==-1){_=e[0][v];var se=!0;switch(_[1][0]){case 4:se=!1;case 0:b=Wn(" ",_[1][1]);break;case 5:se=!1;case 1:b=Wn("\r",_[1][1]);break;default:if(b="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((se?b:"")+o.pop()+(se?"":b)),v=-1}}if(o.length>1&&n.WTF)throw new Error("bad formula stack");return o[0]}function Dwe(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,s=e.read_shift(n);if(s==65535)return[[],Rs(e,t-2)];var o=kv(e,s,r);return t!==s+n&&(i=wv(e,t-s-n,o,r)),e.l=a,[o,i]}function Lwe(e,t,r){var a=e.l+t,n=r.biff==2?1:2,i,s=e.read_shift(n);if(s==65535)return[[],Rs(e,t-2)];var o=kv(e,s,r);return t!==s+n&&(i=wv(e,t-s-n,o,r)),e.l=a,[o,i]}function Mwe(e,t,r,a){var n=e.l+t,i=kv(e,a,r),s;return n!==e.l&&(s=wv(e,n-e.l,i,r)),[i,s]}function Rwe(e,t,r){var a=e.l+t,n,i=e.read_shift(2),s=kv(e,i,r);return i==65535?[[],Rs(e,t-2)]:(t!==i+2&&(n=wv(e,a-i-2,s,r)),[s,n])}function Iwe(e){var t;if(j0(e,e.l+6)!==65535)return[Ds(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Fwe(e){if(e==null){var t=nt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Zh(e);return Zh(0)}function p_(e,t,r){var a=e.l+t,n=Ru(e);r.biff==2&&++e.l;var i=Iwe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Lwe(e,a-e.l,r);return{cell:n,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function Bwe(e,t,r,a,n){var i=tm(t,r,n),s=Fwe(e.v),o=nt(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var d=nt(e.bf.length),h=0;h<e.bf.length;++h)d[h]=e.bf[h];var m=Ji([i,s,o,d]);return m}function Vw(e,t,r){var a=e.read_shift(4),n=kv(e,a,r),i=e.read_shift(4),s=i>0?wv(e,i,n,r):null;return[n,s]}var Uwe=Vw,Kw=Vw,zwe=Vw,qwe=Vw,$we={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},N$={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Hwe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function nL(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function Wwe(e){var t="of:="+e.replace(lA,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function g_(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Vwe(e){return e.replace(/\./,"!")}var Yx={},Rp={},Xx=typeof Map<"u";function dA(e,t,r){var a=0,n=e.length;if(r){if(Xx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Xx?r.get(t):r[t];a<i.length;++a)if(e[i[a]].t===t)return e.Count++,i[a]}}else for(;a<n;++a)if(e[a].t===t)return e.Count++,a;return e[n]={t},e.Count++,e.Unique++,r&&(Xx?(r.has(t)||r.set(t,[]),r.get(t).push(n)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(n))),n}function Gw(e,t){var r={min:e+1,max:e+1},a=-1;return t.MDW&&(Ps=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?a=C1(t.wpx):t.wch!=null&&(a=t.wch),a>-1?(r.width=M2(a),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Lh(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Nf(e,t,r){var a=r.revssf[t.z!=null?t.z:"General"],n=60,i=e.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){M0(t.z,n),r.ssf[n]=t.z,r.revssf[t.z]=a=n;break}}for(n=0;n!=i;++n)if(e[n].numFmtId===a)return n;return e[i]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function j$(e,t,r,a,n,i){try{a.cellNF&&(e.z=yr[t])}catch(o){if(a.WTF)throw o}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=dn(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(yr[t]==null&&M0($ge[t]||"General",t),e.t==="e")e.w=e.w||nd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_1(e.v);else if(e.t==="d"){var s=Li(e.v);(s|0)===s?e.w=s.toString(10):e.w=_1(s)}else{if(e.v===void 0)return"";e.w=Qh(e.v,Rp)}else e.t==="d"?e.w=Yl(t,Li(e.v),Rp):e.w=Yl(t,e.v,Rp)}catch(o){if(a.WTF)throw o}if(a.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=L2(n.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=n.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=L2(n.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=n.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(a.WTF&&i.Fills)throw o}}}function Kwe(e,t,r){if(e&&e["!ref"]){var a=fa(e["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Gwe(e,t){var r=fa(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Mr(r))}var Ywe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Xwe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Qwe=/<(?:\w:)?hyperlink [^>]*>/mg,Jwe=/"(\w*:\w*)"/,Zwe=/<(?:\w:)?col\b[^>]*[\/]?>/g,e5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,t5e=/<(?:\w:)?pageMargins[^>]*\/>/g,A$=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,r5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,a5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function n5e(e,t,r,a,n,i,s){if(!e)return e;a||(a={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",m=e.match(Xwe);m?(d=e.slice(0,m.index),h=e.slice(m.index+m[0].length)):d=h=e;var x=d.match(A$);x?fA(x[0],o,n,r):(x=d.match(r5e))&&s5e(x[0],x[1]||"",o,n,r);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var y=d.slice(p,p+50).match(Jwe);y&&Gwe(o,y[1])}var v=d.match(a5e);v&&v[1]&&y5e(v[1],n);var b=[];if(t.cellStyles){var k=d.match(Zwe);k&&m5e(b,k)}m&&k5e(m[1],o,t,c,i,s);var N=h.match(e5e);N&&(o["!autofilter"]=g5e(N[0]));var _=[],T=h.match(Ywe);if(T)for(p=0;p!=T.length;++p)_[p]=fa(T[p].slice(T[p].indexOf('"')+1));var P=h.match(Qwe);P&&d5e(o,P,a);var O=h.match(t5e);if(O&&(o["!margins"]=f5e(kr(O[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Mr(c)),t.sheetRows>0&&o["!ref"]){var L=fa(o["!ref"]);t.sheetRows<=+L.e.r&&(L.e.r=t.sheetRows-1,L.e.r>c.e.r&&(L.e.r=c.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>c.e.c&&(L.e.c=c.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Mr(L))}return b.length>0&&(o["!cols"]=b),_.length>0&&(o["!merges"]=_),o}function i5e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Mr(e[r])+'"/>';return t+"</mergeCells>"}function fA(e,t,r,a){var n=kr(e);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=da(Wa(n.codeName)))}function s5e(e,t,r,a,n){fA(e.slice(0,e.indexOf(">")),r,a,n)}function o5e(e,t,r,a,n){var i=!1,s={},o=null;if(a.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Su(La(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+wt("outlinePr",null,d)}!i&&!o||(n[n.length]=wt("sheetPr",o,s))}var l5e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],c5e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function u5e(e){var t={sheet:1};return l5e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),c5e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=iA(e.password).toString(16).toUpperCase()),wt("sheetProtection",null,t)}function d5e(e,t,r){for(var a=Array.isArray(e),n=0;n!=t.length;++n){var i=kr(Wa(t[n]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+da(i.location))):(i.Target="#"+da(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=fa(i.ref),c=o.s.r;c<=o.e.r;++c)for(var d=o.s.c;d<=o.e.c;++d){var h=br({c:d,r:c});a?(e[c]||(e[c]=[]),e[c][d]||(e[c][d]={t:"z",v:void 0}),e[c][d].l=i):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=i)}}}function f5e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function h5e(e){return Lh(e),wt("pageMargins",null,e)}function m5e(e,t){for(var r=!1,a=0;a!=t.length;++a){var n=kr(t[a],!0);n.hidden&&(n.hidden=ln(n.hidden));var i=parseInt(n.min,10)-1,s=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,sA(n.width)),mf(n);i<=s;)e[i++]=fn(n)}}function p5e(e,t){for(var r=["<cols>"],a,n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=wt("col",null,Gw(n,a)));return r[r.length]="</cols>",r.join("")}function g5e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function x5e(e,t,r,a){var n=typeof e.ref=="string"?e.ref:Mr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Do(n);s.s.r==s.e.r&&(s.e.r=Do(t["!ref"]).e.r,n=Mr(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==a){c.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),wt("autoFilter",null,{ref:n})}var v5e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function y5e(e,t){t.Views||(t.Views=[{}]),(e.match(v5e)||[]).forEach(function(r,a){var n=kr(r);t.Views[a]||(t.Views[a]={}),+n.zoomScale&&(t.Views[a].zoom=+n.zoomScale),ln(n.rightToLeft)&&(t.Views[a].RTL=!0)})}function b5e(e,t,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,n),{})}function w5e(e,t,r,a){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var n="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=nd[e.v];break;case"d":a&&a.cellDates?n=dn(e.v,-1).toISOString():(e=fn(e),e.t="n",n=""+(e.v=Li(dn(e.v)))),typeof e.z>"u"&&(e.z=yr[14]);break;default:n=e.v;break}var o=ps("v",La(n)),c={r:t},d=Nf(a.cellXfs,e,a);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){o=ps("v",""+dA(a.Strings,e.v,a.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=wt("f",La(e.f),h)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),wt("c",o,c)}var k5e=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,i=S1("v"),s=S1("f");return function(c,d,h,m,x,p){for(var y=0,v="",b=[],k=[],N=0,_=0,T=0,P="",O,L,U=0,I=0,K,D,F=0,H=0,Y=Array.isArray(p.CellXf),ne,X=[],ae=[],ue=Array.isArray(d),se=[],be={},J=!1,M=!!h.sheetStubs,z=c.split(t),q=0,G=z.length;q!=G;++q){v=z[q].trim();var re=v.length;if(re!==0){var he=0;e:for(y=0;y<re;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(h&&h.cellStyles){if(L=kr(v.slice(he,y),!0),U=L.r!=null?parseInt(L.r,10):U+1,I=-1,h.sheetRows&&h.sheetRows<U)continue;be={},J=!1,L.ht&&(J=!0,be.hpt=parseFloat(L.ht),be.hpx=ug(be.hpt)),L.hidden=="1"&&(J=!0,be.hidden=!0),L.outlineLevel!=null&&(J=!0,be.level=+L.outlineLevel),J&&(se[U-1]=be)}break;case"<":he=y;break}if(he>=y)break;if(L=kr(v.slice(he,y),!0),U=L.r!=null?parseInt(L.r,10):U+1,I=-1,!(h.sheetRows&&h.sheetRows<U)){m.s.r>U-1&&(m.s.r=U-1),m.e.r<U-1&&(m.e.r=U-1),h&&h.cellStyles&&(be={},J=!1,L.ht&&(J=!0,be.hpt=parseFloat(L.ht),be.hpx=ug(be.hpt)),L.hidden=="1"&&(J=!0,be.hidden=!0),L.outlineLevel!=null&&(J=!0,be.level=+L.outlineLevel),J&&(se[U-1]=be)),b=v.slice(y).split(e);for(var je=0;je!=b.length&&b[je].trim().charAt(0)=="<";++je);for(b=b.slice(je),y=0;y!=b.length;++y)if(v=b[y].trim(),v.length!==0){if(k=v.match(r),N=y,_=0,T=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,k!=null&&k.length===2){for(N=0,P=k[1],_=0;_!=P.length&&!((T=P.charCodeAt(_)-64)<1||T>26);++_)N=26*N+T;--N,I=N}else++I;for(_=0;_!=v.length&&v.charCodeAt(_)!==62;++_);if(++_,L=kr(v.slice(0,_),!0),L.r||(L.r=br({r:U-1,c:I})),P=v.slice(_),O={t:""},(k=P.match(i))!=null&&k[1]!==""&&(O.v=da(k[1])),h.cellFormula){if((k=P.match(s))!=null&&k[1]!==""){if(O.f=da(Wa(k[1])).replace(/\r\n/g,`
`),h.xlfn||(O.f=eL(O.f)),k[0].indexOf('t="array"')>-1)O.F=(P.match(n)||[])[1],O.F.indexOf(":")>-1&&X.push([fa(O.F),O.F]);else if(k[0].indexOf('t="shared"')>-1){D=kr(k[0]);var oe=da(Wa(k[1]));h.xlfn||(oe=eL(oe)),ae[parseInt(D.si,10)]=[D,oe,L.r]}}else(k=P.match(/<f[^>]*\/>/))&&(D=kr(k[0]),ae[D.si]&&(O.f=v2e(ae[D.si][1],ae[D.si][2],L.r)));var Ne=Dn(L.r);for(_=0;_<X.length;++_)Ne.r>=X[_][0].s.r&&Ne.r<=X[_][0].e.r&&Ne.c>=X[_][0].s.c&&Ne.c<=X[_][0].e.c&&(O.F=X[_][1])}if(L.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(M)O.t="z";else continue;else O.t=L.t||"n";switch(m.s.c>I&&(m.s.c=I),m.e.c<I&&(m.e.c=I),O.t){case"n":if(O.v==""||O.v==null){if(!M)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!M)continue;O.t="z"}else K=Yx[parseInt(O.v,10)],O.v=K.t,O.r=K.r,h.cellHTML&&(O.h=K.h);break;case"str":O.t="s",O.v=O.v!=null?Wa(O.v):"",h.cellHTML&&(O.h=Hj(O.v));break;case"inlineStr":k=P.match(a),O.t="s",k!=null&&(K=nA(k[1]))?(O.v=K.t,h.cellHTML&&(O.h=K.h)):O.v="";break;case"b":O.v=ln(O.v);break;case"d":h.cellDates?O.v=dn(O.v,1):(O.v=Li(dn(O.v,1)),O.t="n");break;case"e":(!h||h.cellText!==!1)&&(O.w=O.v),O.v=Eq[O.v];break}if(F=H=0,ne=null,Y&&L.s!==void 0&&(ne=p.CellXf[L.s],ne!=null&&(ne.numFmtId!=null&&(F=ne.numFmtId),h.cellStyles&&ne.fillId!=null&&(H=ne.fillId))),j$(O,F,H,h,x,p),h.cellDates&&Y&&O.t=="n"&&Og(yr[F])&&(O.t="d",O.v=Hw(O.v)),L.cm&&h.xlmeta){var Me=(h.xlmeta.Cell||[])[+L.cm-1];Me&&Me.type=="XLDAPR"&&(O.D=!0)}if(ue){var Q=Dn(L.r);d[Q.r]||(d[Q.r]=[]),d[Q.r][Q.c]=O}else d[L.r]=O}}}}se.length>0&&(d["!rows"]=se)}})();function _5e(e,t,r,a){var n=[],i=[],s=fa(e["!ref"]),o="",c,d="",h=[],m=0,x=0,p=e["!rows"],y=Array.isArray(e),v={r:d},b,k=-1;for(x=s.s.c;x<=s.e.c;++x)h[x]=Pn(x);for(m=s.s.r;m<=s.e.r;++m){for(i=[],d=ii(m),x=s.s.c;x<=s.e.c;++x){c=h[x]+d;var N=y?(e[m]||[])[x]:e[c];N!==void 0&&(o=w5e(N,c,e,t))!=null&&i.push(o)}(i.length>0||p&&p[m])&&(v={r:d},p&&p[m]&&(b=p[m],b.hidden&&(v.hidden=1),k=-1,b.hpx?k=O1(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(v.ht=k,v.customHeight=1),b.level&&(v.outlineLevel=b.level)),n[n.length]=wt("row",i.join(""),v))}if(p)for(;m<p.length;++m)p&&p[m]&&(v={r:m+1},b=p[m],b.hidden&&(v.hidden=1),k=-1,b.hpx?k=O1(b.hpx):b.hpt&&(k=b.hpt),k>-1&&(v.ht=k,v.customHeight=1),b.level&&(v.outlineLevel=b.level),n[n.length]=wt("row","",v));return n.join("")}function T$(e,t,r,a){var n=[si,wt("worksheet",null,{xmlns:cm[0],"xmlns:r":Di.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",h=fa(d);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),d=Mr(h)}a||(a={}),c["!comments"]=[];var m=[];o5e(c,r,e,t,n),n[n.length]=wt("dimension",null,{ref:d}),n[n.length]=b5e(c,t,e,r),t.sheetFormat&&(n[n.length]=wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(n[n.length]=p5e(c,c["!cols"])),n[s=n.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=_5e(c,t),o.length>0&&(n[n.length]=o)),n.length>s+1&&(n[n.length]="</sheetData>",n[s]=n[s].replace("/>",">")),c["!protect"]&&(n[n.length]=u5e(c["!protect"])),c["!autofilter"]!=null&&(n[n.length]=x5e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(n[n.length]=i5e(c["!merges"]));var x=-1,p,y=-1;return c["!links"].length>0&&(n[n.length]="<hyperlinks>",c["!links"].forEach(function(v){v[1].Target&&(p={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=Ea(a,-1,La(v[1].Target).replace(/#.*$/,""),Gr.HLINK),p["r:id"]="rId"+y),(x=v[1].Target.indexOf("#"))>-1&&(p.location=La(v[1].Target.slice(x+1))),v[1].Tooltip&&(p.tooltip=La(v[1].Tooltip)),n[n.length]=wt("hyperlink",null,p))}),n[n.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(n[n.length]=h5e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(n[n.length]=ps("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),m.length>0&&(y=Ea(a,-1,"../drawings/drawing"+(e+1)+".xml",Gr.DRAW),n[n.length]=wt("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=m),c["!comments"].length>0&&(y=Ea(a,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Gr.VML),n[n.length]=wt("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function S5e(e,t){var r={},a=e.l+t;r.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=n/20),r}function N5e(e,t,r){var a=nt(145),n=(r["!rows"]||[])[e]||{};a.write_shift(4,e),a.write_shift(4,0);var i=320;n.hpx?i=O1(n.hpx)*20:n.hpt&&(i=n.hpt*20),a.write_shift(2,i),a.write_shift(1,0);var s=0;n.level&&(s|=n.level),n.hidden&&(s|=16),(n.hpx||n.hpt)&&(s|=32),a.write_shift(1,s),a.write_shift(1,0);var o=0,c=a.l;a.l+=4;for(var d={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var m=-1,x=-1,p=h<<10;p<h+1<<10;++p){d.c=p;var y=Array.isArray(r)?(r[d.r]||[])[d.c]:r[br(d)];y&&(m<0&&(m=p),x=p)}m<0||(++o,a.write_shift(4,m),a.write_shift(4,x))}var v=a.l;return a.l=c,a.write_shift(4,o),a.l=v,a.length>a.l?a.slice(0,a.l):a}function j5e(e,t,r,a){var n=N5e(a,r,t);(n.length>17||(t["!rows"]||[])[a])&&ht(e,0,n)}var A5e=hm,T5e=Lg;function E5e(){}function C5e(e,t){var r={},a=e[e.l];return++e.l,r.above=!(a&64),r.left=!(a&128),e.l+=18,r.name=Dxe(e),r}function O5e(e,t,r){r==null&&(r=nt(84+4*e.length));var a=192;t&&(t.above&&(a&=-65),t.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return O2({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Sq(e,r),r.slice(0,r.l)}function P5e(e){var t=Jl(e);return[t]}function D5e(e,t,r){return r==null&&(r=nt(8)),um(t,r)}function L5e(e){var t=dm(e);return[t]}function M5e(e,t,r){return r==null&&(r=nt(4)),fm(t,r)}function R5e(e){var t=Jl(e),r=e.read_shift(1);return[t,r,"b"]}function I5e(e,t,r){return r==null&&(r=nt(9)),um(t,r),r.write_shift(1,e.v?1:0),r}function F5e(e){var t=dm(e),r=e.read_shift(1);return[t,r,"b"]}function B5e(e,t,r){return r==null&&(r=nt(5)),fm(t,r),r.write_shift(1,e.v?1:0),r}function U5e(e){var t=Jl(e),r=e.read_shift(1);return[t,r,"e"]}function z5e(e,t,r){return r==null&&(r=nt(9)),um(t,r),r.write_shift(1,e.v),r}function q5e(e){var t=dm(e),r=e.read_shift(1);return[t,r,"e"]}function $5e(e,t,r){return r==null&&(r=nt(8)),fm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function H5e(e){var t=Jl(e),r=e.read_shift(4);return[t,r,"s"]}function W5e(e,t,r){return r==null&&(r=nt(12)),um(t,r),r.write_shift(4,t.v),r}function V5e(e){var t=dm(e),r=e.read_shift(4);return[t,r,"s"]}function K5e(e,t,r){return r==null&&(r=nt(8)),fm(t,r),r.write_shift(4,t.v),r}function G5e(e){var t=Jl(e),r=Ds(e);return[t,r,"n"]}function Y5e(e,t,r){return r==null&&(r=nt(16)),um(t,r),Zh(e.v,r),r}function E$(e){var t=dm(e),r=Ds(e);return[t,r,"n"]}function X5e(e,t,r){return r==null&&(r=nt(12)),fm(t,r),Zh(e.v,r),r}function Q5e(e){var t=Jl(e),r=Zj(e);return[t,r,"n"]}function J5e(e,t,r){return r==null&&(r=nt(12)),um(t,r),Nq(e.v,r),r}function Z5e(e){var t=dm(e),r=Zj(e);return[t,r,"n"]}function eke(e,t,r){return r==null&&(r=nt(8)),fm(t,r),Nq(e.v,r),r}function tke(e){var t=Jl(e),r=Xj(e);return[t,r,"is"]}function rke(e){var t=Jl(e),r=Ms(e);return[t,r,"str"]}function ake(e,t,r){return r==null&&(r=nt(12+4*e.v.length)),um(t,r),es(e.v,r),r.length>r.l?r.slice(0,r.l):r}function nke(e){var t=dm(e),r=Ms(e);return[t,r,"str"]}function ike(e,t,r){return r==null&&(r=nt(8+4*e.v.length)),fm(t,r),es(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ske(e,t,r){var a=e.l+t,n=Jl(e);n.r=r["!row"];var i=e.read_shift(1),s=[n,i,"b"];if(r.cellFormula){e.l+=2;var o=Kw(e,a-e.l,r);s[3]=Cs(o,null,n,r.supbooks,r)}else e.l=a;return s}function oke(e,t,r){var a=e.l+t,n=Jl(e);n.r=r["!row"];var i=e.read_shift(1),s=[n,i,"e"];if(r.cellFormula){e.l+=2;var o=Kw(e,a-e.l,r);s[3]=Cs(o,null,n,r.supbooks,r)}else e.l=a;return s}function lke(e,t,r){var a=e.l+t,n=Jl(e);n.r=r["!row"];var i=Ds(e),s=[n,i,"n"];if(r.cellFormula){e.l+=2;var o=Kw(e,a-e.l,r);s[3]=Cs(o,null,n,r.supbooks,r)}else e.l=a;return s}function cke(e,t,r){var a=e.l+t,n=Jl(e);n.r=r["!row"];var i=Ms(e),s=[n,i,"str"];if(r.cellFormula){e.l+=2;var o=Kw(e,a-e.l,r);s[3]=Cs(o,null,n,r.supbooks,r)}else e.l=a;return s}var uke=hm,dke=Lg;function fke(e,t){return t==null&&(t=nt(4)),t.write_shift(4,e),t}function hke(e,t){var r=e.l+t,a=hm(e),n=Qj(e),i=Ms(e),s=Ms(e),o=Ms(e);e.l=r;var c={rfx:a,relId:n,loc:i,display:o};return s&&(c.Tooltip=s),c}function mke(e,t){var r=nt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Lg({s:Dn(e[0]),e:Dn(e[0])},r),Jj("rId"+t,r);var a=e[1].Target.indexOf("#"),n=a==-1?"":e[1].Target.slice(a+1);return es(n||"",r),es(e[1].Tooltip||"",r),es("",r),r.slice(0,r.l)}function pke(){}function gke(e,t,r){var a=e.l+t,n=jq(e),i=e.read_shift(1),s=[n];if(s[2]=i,r.cellFormula){var o=Uwe(e,a-e.l,r);s[1]=o}else e.l=a;return s}function xke(e,t,r){var a=e.l+t,n=hm(e),i=[n];if(r.cellFormula){var s=qwe(e,a-e.l,r);i[1]=s,e.l=a}else e.l=a;return i}function vke(e,t,r){r==null&&(r=nt(18));var a=Gw(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return t.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),t.level&&(n|=t.level<<8),r.write_shift(2,n),r}var C$=["left","right","top","bottom","header","footer"];function yke(e){var t={};return C$.forEach(function(r){t[r]=Ds(e)}),t}function bke(e,t){return t==null&&(t=nt(48)),Lh(e),C$.forEach(function(r){Zh(e[r],t)}),t}function wke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function kke(e,t,r){r==null&&(r=nt(30));var a=924;return(((t||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function _ke(e){var t=nt(24);return t.write_shift(4,4),t.write_shift(4,1),Lg(e,t),t}function Ske(e,t){return t==null&&(t=nt(66)),t.write_shift(2,e.password?iA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function Nke(){}function jke(){}function Ake(e,t,r,a,n,i,s){if(!e)return e;var o=t||{};a||(a={"!id":{}});var c=o.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,x=!1,p,y,v,b,k,N,_,T,P,O=[];o.biff=12,o["!row"]=0;var L=0,U=!1,I=[],K={},D=o.supbooks||n.supbooks||[[]];if(D.sharedf=K,D.arrayf=I,D.SheetNames=n.SheetNames||n.Sheets.map(function(ue){return ue.name}),!o.supbooks&&(o.supbooks=D,n.Names))for(var F=0;F<n.Names.length;++F)D[0][F+1]=n.Names[F];var H=[],Y=[],ne=!1;P1[16]={n:"BrtShortReal",f:E$};var X;if(ad(e,function(se,be,J){if(!x)switch(J){case 148:d=se;break;case 0:p=se,o.sheetRows&&o.sheetRows<=p.r&&(x=!0),T=ii(b=p.r),o["!row"]=p.r,(se.hidden||se.hpt||se.level!=null)&&(se.hpt&&(se.hpx=ug(se.hpt)),Y[se.r]=se);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:se[2]},se[2]){case"n":y.v=se[1];break;case"s":_=Yx[se[1]],y.v=_.t,y.r=_.r;break;case"b":y.v=!!se[1];break;case"e":y.v=se[1],o.cellText!==!1&&(y.w=nd[y.v]);break;case"str":y.t="s",y.v=se[1];break;case"is":y.t="s",y.v=se[1].t;break}if((v=s.CellXf[se[0].iStyleRef])&&j$(y,v.numFmtId,null,o,i,s),k=se[0].c==-1?k+1:se[0].c,o.dense?(c[b]||(c[b]=[]),c[b][k]=y):c[Pn(k)+T]=y,o.cellFormula){for(U=!1,L=0;L<I.length;++L){var M=I[L];p.r>=M[0].s.r&&p.r<=M[0].e.r&&k>=M[0].s.c&&k<=M[0].e.c&&(y.F=Mr(M[0]),U=!0)}!U&&se.length>3&&(y.f=se[3])}if(h.s.r>p.r&&(h.s.r=p.r),h.s.c>k&&(h.s.c=k),h.e.r<p.r&&(h.e.r=p.r),h.e.c<k&&(h.e.c=k),o.cellDates&&v&&y.t=="n"&&Og(yr[v.numFmtId])){var z=gh(y.v);z&&(y.t="d",y.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}X&&(X.type=="XLDAPR"&&(y.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;y={t:"z",v:void 0},k=se[0].c==-1?k+1:se[0].c,o.dense?(c[b]||(c[b]=[]),c[b][k]=y):c[Pn(k)+T]=y,h.s.r>p.r&&(h.s.r=p.r),h.s.c>k&&(h.s.c=k),h.e.r<p.r&&(h.e.r=p.r),h.e.c<k&&(h.e.c=k),X&&(X.type=="XLDAPR"&&(y.D=!0),X=void 0);break;case 176:O.push(se);break;case 49:X=((o.xlmeta||{}).Cell||[])[se-1];break;case 494:var q=a["!id"][se.relId];for(q?(se.Target=q.Target,se.loc&&(se.Target+="#"+se.loc),se.Rel=q):se.relId==""&&(se.Target="#"+se.loc),b=se.rfx.s.r;b<=se.rfx.e.r;++b)for(k=se.rfx.s.c;k<=se.rfx.e.c;++k)o.dense?(c[b]||(c[b]=[]),c[b][k]||(c[b][k]={t:"z",v:void 0}),c[b][k].l=se):(N=br({c:k,r:b}),c[N]||(c[N]={t:"z",v:void 0}),c[N].l=se);break;case 426:if(!o.cellFormula)break;I.push(se),P=o.dense?c[b][k]:c[Pn(k)+T],P.f=Cs(se[1],h,{r:p.r,c:k},D,o),P.F=Mr(se[0]);break;case 427:if(!o.cellFormula)break;K[br(se[0].s)]=se[1],P=o.dense?c[b][k]:c[Pn(k)+T],P.f=Cs(se[1],h,{r:p.r,c:k},D,o);break;case 60:if(!o.cellStyles)break;for(;se.e>=se.s;)H[se.e--]={width:se.w/256,hidden:!!(se.flags&1),level:se.level},ne||(ne=!0,sA(se.w/256)),mf(H[se.e+1]);break;case 161:c["!autofilter"]={ref:Mr(se)};break;case 476:c["!margins"]=se;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),se.name&&(n.Sheets[r].CodeName=se.name),(se.above||se.left)&&(c["!outline"]={above:se.above,left:se.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),se.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!be.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(c["!ref"]=Mr(d||h)),o.sheetRows&&c["!ref"]){var ae=fa(c["!ref"]);o.sheetRows<=+ae.e.r&&(ae.e.r=o.sheetRows-1,ae.e.r>h.e.r&&(ae.e.r=h.e.r),ae.e.r<ae.s.r&&(ae.s.r=ae.e.r),ae.e.c>h.e.c&&(ae.e.c=h.e.c),ae.e.c<ae.s.c&&(ae.s.c=ae.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Mr(ae))}return O.length>0&&(c["!merges"]=O),H.length>0&&(c["!cols"]=H),Y.length>0&&(c["!rows"]=Y),c}function Tke(e,t,r,a,n,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=fn(t),t.z=t.z||yr[14],t.v=Li(dn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:a};switch(c.s=Nf(n.cellXfs,t,n),t.l&&i["!links"].push([br(c),t.l]),t.c&&i["!comments"].push([br(c),t.c]),t.t){case"s":case"str":return n.bookSST?(o=dA(n.Strings,t.v,n.revStrings),c.t="s",c.v=o,s?ht(e,18,K5e(t,c)):ht(e,7,W5e(t,c))):(c.t="str",s?ht(e,17,ike(t,c)):ht(e,6,ake(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?ht(e,13,eke(t,c)):ht(e,2,J5e(t,c)):s?ht(e,16,X5e(t,c)):ht(e,5,Y5e(t,c)),!0;case"b":return c.t="b",s?ht(e,15,B5e(t,c)):ht(e,4,I5e(t,c)),!0;case"e":return c.t="e",s?ht(e,14,$5e(t,c)):ht(e,3,z5e(t,c)),!0}return s?ht(e,12,M5e(t,c)):ht(e,1,D5e(t,c)),!0}function Eke(e,t,r,a){var n=fa(t["!ref"]||"A1"),i,s="",o=[];ht(e,145);var c=Array.isArray(t),d=n.e.r;t["!rows"]&&(d=Math.max(n.e.r,t["!rows"].length-1));for(var h=n.s.r;h<=d;++h){s=ii(h),j5e(e,t,n,h);var m=!1;if(h<=n.e.r)for(var x=n.s.c;x<=n.e.c;++x){h===n.s.r&&(o[x]=Pn(x)),i=o[x]+s;var p=c?(t[h]||[])[x]:t[i];if(!p){m=!1;continue}m=Tke(e,p,h,x,a,t,m)}}ht(e,146)}function Cke(e,t){!t||!t["!merges"]||(ht(e,177,fke(t["!merges"].length)),t["!merges"].forEach(function(r){ht(e,176,dke(r))}),ht(e,178))}function Oke(e,t){!t||!t["!cols"]||(ht(e,390),t["!cols"].forEach(function(r,a){r&&ht(e,60,vke(a,r))}),ht(e,391))}function Pke(e,t){!t||!t["!ref"]||(ht(e,648),ht(e,649,_ke(fa(t["!ref"]))),ht(e,650))}function Dke(e,t,r){t["!links"].forEach(function(a){if(a[1].Target){var n=Ea(r,-1,a[1].Target.replace(/#.*$/,""),Gr.HLINK);ht(e,494,mke(a,n))}}),delete t["!links"]}function Lke(e,t,r,a){if(t["!comments"].length>0){var n=Ea(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Gr.VML);ht(e,551,Jj("rId"+n)),t["!legacy"]=n}}function Mke(e,t,r,a){if(t["!autofilter"]){var n=t["!autofilter"],i=typeof n.ref=="string"?n.ref:Mr(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Do(i);o.s.r==o.e.r&&(o.e.r=Do(t["!ref"]).e.r,i=Mr(o));for(var c=0;c<s.length;++c){var d=s[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==a){d.Ref="'"+r.SheetNames[a]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+i}),ht(e,161,Lg(fa(i))),ht(e,162)}}function Rke(e,t,r){ht(e,133),ht(e,137,kke(t,r)),ht(e,138),ht(e,134)}function Ike(e,t){t["!protect"]&&ht(e,535,Ske(t["!protect"]))}function Fke(e,t,r,a){var n=Po(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=fa(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],ht(n,129),(r.vbaraw||s["!outline"])&&ht(n,147,O5e(o,s["!outline"])),ht(n,148,T5e(c)),Rke(n,s,r.Workbook),Oke(n,s),Eke(n,s,e,t),Ike(n,s),Mke(n,s,r,e),Cke(n,s),Dke(n,s,a),s["!margins"]&&ht(n,476,bke(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Pke(n,s),Lke(n,s,e,a),ht(n,130),n.end()}function Bke(e){var t=[],r=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var n=da((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[t,n,a]}function Uke(e,t,r,a,n,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,c=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var x=Bke(m);h.s.r=h.s.c=0,h.e.c=o,d=Pn(o),x[0].forEach(function(p,y){s[d+ii(y)]={t:"n",v:p,z:x[1]},c=y}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(s["!ref"]=Mr(h)),s}function zke(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(A$);return o&&fA(o[0],i,n,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function qke(e,t){e.l+=10;var r=Ms(e);return{name:r}}function $ke(e,t,r,a,n){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ad(e,function(c,d,h){switch(h){case 550:i["!rel"]=c;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),c.name&&(n.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var hA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Hke=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Wke=[],Vke=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function iL(e,t){for(var r=0;r!=e.length;++r)for(var a=e[r],n=0;n!=t.length;++n){var i=t[n];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=ln(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function sL(e,t){for(var r=0;r!=t.length;++r){var a=t[r];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=ln(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function O$(e){sL(e.WBProps,hA),sL(e.CalcPr,Vke),iL(e.WBView,Hke),iL(e.Sheets,Wke),Rp.date1904=ln(e.WBProps.date1904)}function Kke(e){return!e.Workbook||!e.Workbook.WBProps?"false":ln(e.Workbook.WBProps.date1904)?"true":"false"}var Gke="][*?/\\".split("");function P$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Gke.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Yke(e,t,r){e.forEach(function(a,n){P$(a);for(var i=0;i<n;++i)if(a==e[i])throw new Error("Duplicate Sheet Name: "+a);if(r){var s=t&&t[n]&&t[n].CodeName||a;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Xke(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Yke(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Kwe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Qke=/<\w+:workbook/;function Jke(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",i={},s=0;if(e.replace(Fs,function(c,d){var h=kr(c);switch(Mu(h[0])){case"<?xml":break;case"<workbook":c.match(Qke)&&(n="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=h[n];break;case"</workbook>":break;case"<fileVersion":delete h[0],r.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":hA.forEach(function(m){if(h[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=ln(h[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(h[m[0]],10);break;default:r.WBProps[m[0]]=h[m[0]]}}),h.codeName&&(r.WBProps.CodeName=Wa(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],r.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=da(Wa(h.name)),delete h[0],r.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Wa(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),ln(h.hidden||"0")&&(i.Hidden=!0),s=d+c.length;break;case"</definedName>":i.Ref=da(Wa(e.slice(s,d))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],r.CalcPr=h;break;case"<calcPr/>":delete h[0],r.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),cm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return O$(r),r}function D$(e){var t=[si];t[t.length]=wt("workbook",null,{xmlns:cm[0],"xmlns:r":Di.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(hA.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(a[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(a.codeName=e.Workbook.WBProps.CodeName,delete a.CodeName)),t[t.length]=wt("workbookPr",null,a);var n=e.Workbook&&e.Workbook.Sheets||[],i=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!n[i]||!n[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:La(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),n[i])switch(n[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=wt("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=wt("definedName",La(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Zke(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=CS(e),r.name=Ms(e),r}function e4e(e,t){return t||(t=nt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Jj(e.strRelID,t),es(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function t4e(e,t){var r={},a=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var n=t>8?Ms(e):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function r4e(e,t){t||(t=nt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Sq(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function a4e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function n4e(e,t,r){var a=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),i=Lxe(e),s=zwe(e,0,r),o=Qj(e);e.l=a;var c={Name:i,Ptg:s};return n<268435455&&(c.Sheet=n),o&&(c.Comment=o),c}function i4e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],P1[16]={n:"BrtFRTArchID$",f:a4e},ad(e,function(c,d,h){switch(h){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Cs(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,c]):s[0]=[h,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(h),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(h),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!d.T){if(!n||t.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),O$(r),r.Names=i,r.supbooks=s,r}function s4e(e,t){ht(e,143);for(var r=0;r!=t.SheetNames.length;++r){var a=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ht(e,156,e4e(n))}ht(e,144)}function o4e(e,t){t||(t=nt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return es("SheetJS",t),es(S2.version,t),es(S2.version,t),es("7262",t),t.length>t.l?t.slice(0,t.l):t}function l4e(e,t){t||(t=nt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function c4e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,a=0,n=-1,i=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&i==-1&&(i=a);i>n||(ht(e,135),ht(e,158,l4e(n)),ht(e,136))}}function u4e(e,t){var r=Po();return ht(r,131),ht(r,128,o4e()),ht(r,153,r4e(e.Workbook&&e.Workbook.WBProps||null)),c4e(r,e),s4e(r,e),ht(r,132),r.end()}function d4e(e,t,r){return t.slice(-4)===".bin"?i4e(e,r):Jke(e,r)}function f4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?Ake(e,a,r,n,i,s,o):n5e(e,a,r,n,i,s,o)}function h4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?$ke(e,a,r,n,i):zke(e,a,r,n,i)}function m4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?g2e():x2e()}function p4e(e,t,r,a,n,i,s,o){return t.slice(-4)===".bin"?m2e():p2e()}function g4e(e,t,r,a){return t.slice(-4)===".bin"?dbe(e,r,a):Zye(e,r,a)}function x4e(e,t,r){return h$(e,r)}function v4e(e,t,r){return t.slice(-4)===".bin"?vye(e,r):pye(e,r)}function y4e(e,t,r){return t.slice(-4)===".bin"?c2e(e,r):e2e(e,r)}function b4e(e,t,r){return t.slice(-4)===".bin"?Qbe(e):Ybe(e)}function w4e(e,t,r,a){return r.slice(-4)===".bin"?Jbe(e,t,r,a):void 0}function k4e(e,t,r){return t.slice(-4)===".bin"?Vbe(e,t,r):Gbe(e,t,r)}function _4e(e,t,r){return(t.slice(-4)===".bin"?u4e:D$)(e)}function S4e(e,t,r,a,n){return(t.slice(-4)===".bin"?Fke:T$)(e,r,a,n)}function N4e(e,t,r){return(t.slice(-4)===".bin"?wbe:d$)(e,r)}function j4e(e,t,r){return(t.slice(-4)===".bin"?wye:a$)(e,r)}function A4e(e,t,r){return(t.slice(-4)===".bin"?u2e:g$)(e)}function T4e(e){return(e.slice(-4)===".bin"?Kbe:m$)()}var L$=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,M$=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function kc(e,t){var r=e.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=e.match(L$),i,s,o,c;if(n)for(c=0;c!=n.length;++c)i=n[c].match(M$),(s=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),a[o]=i[2].slice(1,i[2].length-1));return a}function E4e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var a=e.match(L$),n,i,s,o;if(a)for(o=0;o!=a.length;++o)n=a[o].match(M$),(i=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?s="xmlns"+n[1].slice(6):s=n[1].slice(i+1),r[s]=n[2].slice(1,n[2].length-1));return r}var Qx;function C4e(e,t){var r=Qx[e]||da(e);return r==="General"?Qh(t):Yl(r,t)}function O4e(e,t,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=ln(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=dn(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[da(t)]=n}function P4e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||nd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_1(e.v):e.w=Qh(e.v):e.w=C4e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var a=Qx[t]||t||"General";if(r.cellNF&&(e.z=a),r.cellDates&&e.t=="n"&&Og(a)){var n=gh(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(i){if(r.WTF)throw i}}}function D4e(e,t,r){if(r.cellStyles&&t.Interior){var a=t.Interior;a.Pattern&&(a.patternType=Wye[a.Pattern]||a.Pattern)}e[t.ID]=t}function L4e(e,t,r,a,n,i,s,o,c,d){var h="General",m=a.StyleID,x={};d=d||{};var p=[],y=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&s&&(m=s.StyleID);i[m]!==void 0&&(i[m].nf&&(h=i[m].nf),i[m].Interior&&p.push(i[m].Interior),!!i[m].Parent);)m=i[m].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=ln(e);break;case"String":a.t="s",a.r=_D(da(e)),a.v=e.indexOf("<")>-1?da(t||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(dn(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),a.v!==a.v?a.v=da(e):a.v<60&&(a.v=a.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=Eq[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&t==""?a.t="z":(a.t="s",a.v=_D(t||e));break}if(P4e(a,h,d),d.cellFormula!==!1)if(a.Formula){var v=da(a.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),a.f=Mp(v,n),delete a.Formula,a.ArrayRange=="RC"?a.F=Mp("RC:RC",n):a.ArrayRange&&(a.F=Mp(a.ArrayRange,n),c.push([fa(a.F),a.F]))}else for(y=0;y<c.length;++y)n.r>=c[y][0].s.r&&n.r<=c[y][0].e.r&&n.c>=c[y][0].s.c&&n.c<=c[y][0].e.c&&(a.F=c[y][1]);d.cellStyles&&(p.forEach(function(b){!x.patternType&&b.patternType&&(x.patternType=b.patternType)}),a.s=x),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function M4e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function x_(e,t){var r=t||{};Pg();var a=Ix(Wj(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Wa(a));var n=a.slice(0,1024).toLowerCase(),i=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var s=fn(r);return s.type="string",cg.to_workbook(a,s)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ze){n.indexOf("<"+Ze)>=0&&(i=!0)}),i)return b_e(a,r);Qx={"General Number":"General","General Date":yr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":yr[15],"Short Date":yr[14],"Long Time":yr[19],"Medium Time":yr[18],"Short Time":yr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:yr[2],Standard:yr[4],Percent:yr[10],Scientific:yr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],d,h={},m=[],x=r.dense?[]:{},p="",y={},v={},b=kc('<Data ss:Type="String">'),k=0,N=0,_=0,T={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},O={},L="",U=0,I=[],K={},D={},F=0,H=[],Y=[],ne={},X=[],ae,ue=!1,se=[],be=[],J={},M=0,z=0,q={Sheets:[],WBProps:{date1904:!1}},G={};j1.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";o=j1.exec(a);)switch(o[3]=(re=o[3]).toLowerCase()){case"data":if(re=="data"){if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?L4e(a.slice(k,o.index),L,b,c[c.length-1][0]=="comment"?ne:y,{c:N,r:_},P,X[N],v,se,r):(L="",b=kc(o[0]),k=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(Y.length>0&&(y.c=Y),(!r.sheetRows||r.sheetRows>_)&&y.v!==void 0&&(r.dense?(x[_]||(x[_]=[]),x[_][N]=y):x[Pn(N)+ii(_)]=y),y.HRef&&(y.l={Target:da(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(M=N+(parseInt(y.MergeAcross,10)|0),z=_+(parseInt(y.MergeDown,10)|0),I.push({s:{c:N,r:_},e:{c:M,r:z}})),!r.sheetStubs)y.MergeAcross?N=M+1:++N;else if(y.MergeAcross||y.MergeDown){for(var he=N;he<=M;++he)for(var je=_;je<=z;++je)(he>N||je>_)&&(r.dense?(x[je]||(x[je]=[]),x[je][he]={t:"z"}):x[Pn(he)+ii(je)]={t:"z"});N=M+1}else++N;else y=E4e(o[0]),y.Index&&(N=+y.Index-1),N<T.s.c&&(T.s.c=N),N>T.e.c&&(T.e.c=N),o[0].slice(-2)==="/>"&&++N,Y=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<T.s.r&&(T.s.r=_),_>T.e.r&&(T.e.r=_),o[0].slice(-2)==="/>"&&(v=kc(o[0]),v.Index&&(_=+v.Index-1)),N=0,++_):(v=kc(o[0]),v.Index&&(_=+v.Index-1),J={},(v.AutoFitHeight=="0"||v.Height)&&(J.hpx=parseInt(v.Height,10),J.hpt=O1(J.hpx),be[_]=J),v.Hidden=="1"&&(J.hidden=!0,be[_]=J));break;case"worksheet":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));m.push(p),T.s.r<=T.e.r&&T.s.c<=T.e.c&&(x["!ref"]=Mr(T),r.sheetRows&&r.sheetRows<=T.e.r&&(x["!fullref"]=x["!ref"],T.e.r=r.sheetRows-1,x["!ref"]=Mr(T))),I.length&&(x["!merges"]=I),X.length>0&&(x["!cols"]=X),be.length>0&&(x["!rows"]=be),h[p]=x}else T={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=N=0,c.push([o[3],!1]),d=kc(o[0]),p=da(d.Name),x=r.dense?[]:{},I=[],se=[],be=[],G={name:p,Hidden:0},q.Sheets.push(G);break;case"table":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),X=[],ue=!1}break;case"style":o[1]==="/"?D4e(P,O,r):O=kc(o[0]);break;case"numberformat":O.nf=da(kc(o[0]).Format||"General"),Qx[O.nf]&&(O.nf=Qx[O.nf]);for(var oe=0;oe!=392&&yr[oe]!=O.nf;++oe);if(oe==392){for(oe=57;oe!=392;++oe)if(yr[oe]==null){M0(O.nf,oe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ae=kc(o[0]),ae.Hidden&&(ae.hidden=!0,delete ae.Hidden),ae.Width&&(ae.wpx=parseInt(ae.Width,10)),!ue&&ae.wpx>10){ue=!0,Ps=c$;for(var Ne=0;Ne<X.length;++Ne)X[Ne]&&mf(X[Ne])}ue&&mf(ae),X[ae.Index-1||X.length]=ae;for(var Me=0;Me<+ae.Span;++Me)X[X.length]=fn(ae);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var Q=kr(o[0]),Te={Name:Q.Name,Ref:Mp(Q.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Te.Sheet=q.Sheets.length-1),q.Names.push(Te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?L+=a.slice(U,o.index):U=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=kc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?i1e(K,re,a.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"));M4e(ne),Y.push(ne)}else c.push([o[3],!1]),d=kc(o[0]),ne={a:d.Author};break;case"autofilter":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=kc(o[0]);x["!autofilter"]={ref:Mp(Ae.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((d=c.pop())[0]!==o[3])throw new Error("Bad state: "+d.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return dL(a,r);var de=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(a.slice(F,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else F=o.index+o[0].length;break;case"header":x["!margins"]||Lh(x["!margins"]={},"xlml"),isNaN(+kr(o[0]).Margin)||(x["!margins"].header=+kr(o[0]).Margin);break;case"footer":x["!margins"]||Lh(x["!margins"]={},"xlml"),isNaN(+kr(o[0]).Margin)||(x["!margins"].footer=+kr(o[0]).Margin);break;case"pagemargins":var Qe=kr(o[0]);x["!margins"]||Lh(x["!margins"]={},"xlml"),isNaN(+Qe.Top)||(x["!margins"].top=+Qe.Top),isNaN(+Qe.Left)||(x["!margins"].left=+Qe.Left),isNaN(+Qe.Right)||(x["!margins"].right=+Qe.Right),isNaN(+Qe.Bottom)||(x["!margins"].bottom=+Qe.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?O4e(D,re,H,a.slice(F,o.index)):(H=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var we={};return!r.bookSheets&&!r.bookProps&&(we.Sheets=h),we.SheetNames=m,we.Workbook=q,we.SSF=fn(yr),we.Props=K,we.Custprops=D,we}function IS(e,t){switch(pA(t=t||{}),t.type||"base64"){case"base64":return x_(dl(e),t);case"binary":case"buffer":case"file":return x_(e,t);case"array":return x_(_f(e),t)}}function R4e(e,t){var r=[];return e.Props&&r.push(s1e(e.Props,t)),e.Custprops&&r.push(o1e(e.Props,e.Custprops)),r.join("")}function I4e(){return""}function F4e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(a,n){var i=[];i.push(wt("NumberFormat",null,{"ss:Format":La(yr[a.numFmtId])}));var s={"ss:ID":"s"+(21+n)};r.push(wt("Style",i.join(""),s))}),wt("Styles",r.join(""))}function R$(e){return wt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+cA(e.Ref,{r:0,c:0})})}function B4e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],a=0;a<t.length;++a){var n=t[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(R$(n)))}return wt("Names",r.join(""))}function U4e(e,t,r,a){if(!e||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,i=[],s=0;s<n.length;++s){var o=n[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(R$(o)))}return i.join("")}function z4e(e,t,r,a){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(wt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(wt("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(wt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(wt("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(a.Workbook.Sheets[i]&&!a.Workbook.Sheets[i].Hidden);++i);i==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(ps("ProtectContents","True")),e["!protect"].objects&&n.push(ps("ProtectObjects","True")),e["!protect"].scenarios&&n.push(ps("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?n.push(ps("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&n.push(ps("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&n.push("<"+s[1]+"/>")})),n.length==0?"":wt("WorksheetOptions",n.join(""),{xmlns:el.x})}function q4e(e){return e.map(function(t){var r=cxe(t.t||""),a=wt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",a,{"ss:Author":t.a})}).join("")}function $4e(e,t,r,a,n,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+La(cA(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=Dn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=La(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=La(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],h=0;h!=d.length;++h)d[h].s.c!=s.c||d[h].s.r!=s.r||(d[h].e.c>d[h].s.c&&(o["ss:MergeAcross"]=d[h].e.c-d[h].s.c),d[h].e.r>d[h].s.r&&(o["ss:MergeDown"]=d[h].e.r-d[h].s.r));var m="",x="";switch(e.t){case"z":if(!a.sheetStubs)return"";break;case"n":m="Number",x=String(e.v);break;case"b":m="Boolean",x=e.v?"1":"0";break;case"e":m="Error",x=nd[e.v];break;case"d":m="DateTime",x=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||yr[14]);break;case"s":m="String",x=lxe(e.v||"");break}var p=Nf(a.cellXfs,e,a);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var y=e.v!=null?x:"",v=e.t=="z"?"":'<Data ss:Type="'+m+'">'+y+"</Data>";return(e.c||[]).length>0&&(v+=q4e(e.c)),wt("Cell",v,o)}function H4e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ug(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function W4e(e,t,r,a){if(!e["!ref"])return"";var n=fa(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(b,k){mf(b);var N=!!b.width,_=Gw(k,b),T={"ss:Index":k+1};N&&(T["ss:Width"]=E1(_.width)),b.hidden&&(T["ss:Hidden"]="1"),o.push(wt("Column",null,T))});for(var c=Array.isArray(e),d=n.s.r;d<=n.e.r;++d){for(var h=[H4e(d,(e["!rows"]||[])[d])],m=n.s.c;m<=n.e.c;++m){var x=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>m)&&!(i[s].s.r>d)&&!(i[s].e.c<m)&&!(i[s].e.r<d)){(i[s].s.c!=m||i[s].s.r!=d)&&(x=!0);break}if(!x){var p={r:d,c:m},y=br(p),v=c?(e[d]||[])[m]:e[y];h.push($4e(v,y,e,t,r,a,p))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function V4e(e,t,r){var a=[],n=r.SheetNames[e],i=r.Sheets[n],s=i?U4e(i,t,e,r):"";return s.length>0&&a.push("<Names>"+s+"</Names>"),s=i?W4e(i,t,e,r):"",s.length>0&&a.push("<Table>"+s+"</Table>"),a.push(z4e(i,t,e,r)),a.join("")}function K4e(e,t){t||(t={}),e.SSF||(e.SSF=fn(yr)),e.SSF&&(Pg(),zw(e.SSF),t.revssf=$w(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Nf(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(R4e(e,t)),r.push(I4e()),r.push(""),r.push("");for(var a=0;a<e.SheetNames.length;++a)r.push(wt("Worksheet",V4e(a,t,e),{"ss:Name":La(e.SheetNames[a])}));return r[2]=F4e(e,t),r[3]=B4e(e),si+wt("Workbook",r.join(""),{xmlns:el.ss,"xmlns:o":el.o,"xmlns:x":el.x,"xmlns:ss":el.ss,"xmlns:dt":el.dt,"xmlns:html":el.html})}function G4e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Bxe(r),r.length-r.l<=4)return t;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(t.UnicodeClipboardFormat=Uxe(r),a=r.read_shift(4),a==0||a>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Y4e=[60,1084,2066,2165,2175];function X4e(e,t,r,a,n){var i=a,s=[],o=r.slice(r.l,r.l+i);if(n&&n.enc&&n.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(o)}s.push(o),r.l+=i;for(var c=j0(r,r.l),d=FS[c],h=0;d!=null&&Y4e.indexOf(c)>-1;)i=j0(r,r.l+2),h=r.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=r.slice(h,r.l+4+i),s.push(o),r.l+=4+i,d=FS[c=j0(r,r.l)];var m=Ji(s);ms(m,0);var x=0;m.lens=[];for(var p=0;p<s.length;++p)m.lens.push(x),x+=s[p].length;if(m.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+m.length+" < "+a;return t.f(m,m.length,n)}function uu(e,t,r){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=yr[a])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||nd[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=_1(e.v):e.w=Qh(e.v):e.w=Yl(a,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&a&&e.t=="n"&&Og(yr[a]||String(a))){var n=gh(e.v);n&&(e.t="d",e.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function tb(e,t,r){return{v:e,ixfe:t,t:r}}function Q4e(e,t){var r={opts:{}},a={},n=t.dense?[]:{},i={},s={},o=null,c=[],d="",h={},m,x="",p,y,v,b,k={},N=[],_,T,P=[],O=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},U={},I=function(vt){return vt<8?Oh[vt]:vt<64&&O[vt-8]||Oh[vt]},K=function(vt,Tt,Dr){var Ft=Tt.XF.data;if(!(!Ft||!Ft.patternType||!Dr||!Dr.cellStyles)){Tt.s={},Tt.s.patternType=Ft.patternType;var At;(At=T1(I(Ft.icvFore)))&&(Tt.s.fgColor={rgb:At}),(At=T1(I(Ft.icvBack)))&&(Tt.s.bgColor={rgb:At})}},D=function(vt,Tt,Dr){if(!(J>1)&&!(Dr.sheetRows&&vt.r>=Dr.sheetRows)){if(Dr.cellStyles&&Tt.XF&&Tt.XF.data&&K(vt,Tt,Dr),delete Tt.ixfe,delete Tt.XF,m=vt,x=br(vt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),vt.r<s.s.r&&(s.s.r=vt.r),vt.c<s.s.c&&(s.s.c=vt.c),vt.r+1>s.e.r&&(s.e.r=vt.r+1),vt.c+1>s.e.c&&(s.e.c=vt.c+1),Dr.cellFormula&&Tt.f){for(var Ft=0;Ft<N.length;++Ft)if(!(N[Ft][0].s.c>vt.c||N[Ft][0].s.r>vt.r)&&!(N[Ft][0].e.c<vt.c||N[Ft][0].e.r<vt.r)){Tt.F=Mr(N[Ft][0]),(N[Ft][0].s.c!=vt.c||N[Ft][0].s.r!=vt.r)&&delete Tt.f,Tt.f&&(Tt.f=""+Cs(N[Ft][1],s,vt,se,F));break}}Dr.dense?(n[vt.r]||(n[vt.r]=[]),n[vt.r][vt.c]=Tt):n[x]=Tt}},F={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var H,Y=[],ne=[],X=[],ae=[],ue=!1,se=[];se.SheetNames=F.snames,se.sharedf=F.sharedf,se.arrayf=F.arrayf,se.names=[],se.XTI=[];var be=0,J=0,M=0,z=[],q=[],G;F.codepage=1200,Dc(1200);for(var re=!1;e.l<e.length-1;){var he=e.l,je=e.read_shift(2);if(je===0&&be===10)break;var oe=e.l===e.length?0:e.read_shift(2),Ne=FS[je];if(Ne&&Ne.f){if(t.bookSheets&&be===133&&je!==133)break;if(be=je,Ne.r===2||Ne.r==12){var Me=e.read_shift(2);if(oe-=2,!F.enc&&Me!==je&&((Me&255)<<8|Me>>8)!==je)throw new Error("rt mismatch: "+Me+"!="+je);Ne.r==12&&(e.l+=10,oe-=10)}var Q={};if(je===10?Q=Ne.f(e,oe,F):Q=X4e(je,Ne,e,oe,F),J==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(je){case 34:r.opts.Date1904=L.WBProps.date1904=Q;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=Q,!t.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=Q;break;case 66:var Te=Number(Q);switch(Te){case 21010:Te=1200;break;case 32768:Te=1e4;break;case 32769:Te=1252;break}Dc(F.codepage=Te),re=!0;break;case 317:F.rrtabid=Q;break;case 25:F.winlocked=Q;break;case 439:r.opts.RefreshAll=Q;break;case 12:r.opts.CalcCount=Q;break;case 16:r.opts.CalcDelta=Q;break;case 17:r.opts.CalcIter=Q;break;case 13:r.opts.CalcMode=Q;break;case 14:r.opts.CalcPrecision=Q;break;case 95:r.opts.CalcSaveRecalc=Q;break;case 15:F.CalcRefMode=Q;break;case 2211:r.opts.FullCalc=Q;break;case 129:Q.fDialog&&(n["!type"]="dialog"),Q.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),Q.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:P.push(Q);break;case 430:se.push([Q]),se[se.length-1].XTI=[];break;case 35:case 547:se[se.length-1].push(Q);break;case 24:case 536:G={Name:Q.Name,Ref:Cs(Q.rgce,s,null,se,F)},Q.itab>0&&(G.Sheet=Q.itab-1),se.names.push(G),se[0]||(se[0]=[],se[0].XTI=[]),se[se.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(q[Q.itab-1]={ref:Mr(Q.rgce[0][0][1][2])});break;case 22:F.ExternCount=Q;break;case 23:se.length==0&&(se[0]=[],se[0].XTI=[]),se[se.length-1].XTI=se[se.length-1].XTI.concat(Q),se.XTI=se.XTI.concat(Q);break;case 2196:if(F.biff<8)break;G!=null&&(G.Comment=Q[1]);break;case 18:n["!protect"]=Q;break;case 19:Q!==0&&F.WTF&&console.error("Password verifier: "+Q);break;case 133:i[Q.pos]=Q,F.snames.push(Q.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,n["!ref"]=Mr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ae=s.e.r;s.e.r=t.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Mr(s),s.e.r=Ae}s.e.r++,s.e.c++}Y.length>0&&(n["!merges"]=Y),ne.length>0&&(n["!objects"]=ne),X.length>0&&(n["!cols"]=X),ae.length>0&&(n["!rows"]=ae),L.Sheets.push(U)}d===""?h=n:a[d]=n,n=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[je]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),F.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(F.biff=5,re=!0,Dc(F.codepage=28591)),F.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(F.biff=2),J++)break;if(n=t.dense?[]:{},F.biff<8&&!re&&(re=!0,Dc(F.codepage=t.codepage||1252)),F.biff<5||Q.BIFFVer==0&&Q.dt==4096){d===""&&(d="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:e.l-oe,name:d};i[de.pos]=de,F.snames.push(d)}else d=(i[he]||{name:""}).name;Q.dt==32&&(n["!type"]="chart"),Q.dt==64&&(n["!type"]="macro"),Y=[],ne=[],F.arrayf=N=[],X=[],ae=[],ue=!1,U={Hidden:(i[he]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(t.dense?(n[Q.r]||[])[Q.c]:n[br({c:Q.c,r:Q.r})])&&++Q.c,_={ixfe:Q.ixfe,XF:P[Q.ixfe]||{},v:Q.val,t:"n"},M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Q.c,r:Q.r},_,t);break;case 5:case 517:_={ixfe:Q.ixfe,XF:P[Q.ixfe],v:Q.val,t:Q.t},M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Q.c,r:Q.r},_,t);break;case 638:_={ixfe:Q.ixfe,XF:P[Q.ixfe],v:Q.rknum,t:"n"},M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Q.c,r:Q.r},_,t);break;case 189:for(var Qe=Q.c;Qe<=Q.C;++Qe){var we=Q.rkrec[Qe-Q.c][0];_={ixfe:we,XF:P[we],v:Q.rkrec[Qe-Q.c][1],t:"n"},M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Qe,r:Q.r},_,t)}break;case 6:case 518:case 1030:{if(Q.val=="String"){o=Q;break}if(_=tb(Q.val,Q.cell.ixfe,Q.tt),_.XF=P[_.ixfe],t.cellFormula){var Ze=Q.formula;if(Ze&&Ze[0]&&Ze[0][0]&&Ze[0][0][0]=="PtgExp"){var Xe=Ze[0][0][1][0],gt=Ze[0][0][1][1],ot=br({r:Xe,c:gt});k[ot]?_.f=""+Cs(Q.formula,s,Q.cell,se,F):_.F=((t.dense?(n[Xe]||[])[gt]:n[ot])||{}).F}else _.f=""+Cs(Q.formula,s,Q.cell,se,F)}M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D(Q.cell,_,t),o=Q}break;case 7:case 519:if(o)o.val=Q,_=tb(Q,o.cell.ixfe,"s"),_.XF=P[_.ixfe],t.cellFormula&&(_.f=""+Cs(o.formula,s,o.cell,se,F)),M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(Q);var Ct=br(Q[0].s);if(p=t.dense?(n[Q[0].s.r]||[])[Q[0].s.c]:n[Ct],t.cellFormula&&p){if(!o||!Ct||!p)break;p.f=""+Cs(Q[1],s,Q[0],se,F),p.F=Mr(Q[0])}}break;case 1212:{if(!t.cellFormula)break;if(x){if(!o)break;k[br(o.cell)]=Q[0],p=t.dense?(n[o.cell.r]||[])[o.cell.c]:n[br(o.cell)],(p||{}).f=""+Cs(Q[0],s,m,se,F)}}break;case 253:_=tb(c[Q.isst].t,Q.ixfe,"s"),c[Q.isst].h&&(_.h=c[Q.isst].h),_.XF=P[_.ixfe],M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Q.c,r:Q.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:Q.ixfe,XF:P[Q.ixfe],t:"z"},M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Q.c,r:Q.r},_,t));break;case 190:if(t.sheetStubs)for(var Pt=Q.c;Pt<=Q.C;++Pt){var Dt=Q.ixfe[Pt-Q.c];_={ixfe:Dt,XF:P[Dt],t:"z"},M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Pt,r:Q.r},_,t)}break;case 214:case 516:case 4:_=tb(Q.val,Q.ixfe,"s"),_.XF=P[_.ixfe],M>0&&(_.z=z[_.ixfe>>8&63]),uu(_,t,r.opts.Date1904),D({c:Q.c,r:Q.r},_,t);break;case 0:case 512:J===1&&(s=Q);break;case 252:c=Q;break;case 1054:if(F.biff==4){z[M++]=Q[1];for(var er=0;er<M+163&&yr[er]!=Q[1];++er);er>=163&&M0(Q[1],M+163)}else M0(Q[1],Q[0]);break;case 30:{z[M++]=Q;for(var ar=0;ar<M+163&&yr[ar]!=Q;++ar);ar>=163&&M0(Q,M+163)}break;case 229:Y=Y.concat(Q);break;case 93:ne[Q.cmo[0]]=F.lastobj=Q;break;case 438:F.lastobj.TxO=Q;break;case 127:F.lastobj.ImData=Q;break;case 440:for(b=Q[0].s.r;b<=Q[0].e.r;++b)for(v=Q[0].s.c;v<=Q[0].e.c;++v)p=t.dense?(n[b]||[])[v]:n[br({c:v,r:b})],p&&(p.l=Q[1]);break;case 2048:for(b=Q[0].s.r;b<=Q[0].e.r;++b)for(v=Q[0].s.c;v<=Q[0].e.c;++v)p=t.dense?(n[b]||[])[v]:n[br({c:v,r:b})],p&&p.l&&(p.l.Tooltip=Q[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;p=t.dense?(n[Q[0].r]||[])[Q[0].c]:n[br(Q[0])];var $r=ne[Q[2]];p||(t.dense?(n[Q[0].r]||(n[Q[0].r]=[]),p=n[Q[0].r][Q[0].c]={t:"z"}):p=n[br(Q[0])]={t:"z"},s.e.r=Math.max(s.e.r,Q[0].r),s.s.r=Math.min(s.s.r,Q[0].r),s.e.c=Math.max(s.e.c,Q[0].c),s.s.c=Math.min(s.s.c,Q[0].c)),p.c||(p.c=[]),y={a:Q[1],t:$r.TxO.t},p.c.push(y)}break;case 2173:Fbe(P[Q.ixfe],Q.ext);break;case 125:{if(!F.cellStyles)break;for(;Q.e>=Q.s;)X[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},ue||(ue=!0,sA(Q.w/256)),mf(X[Q.e+1])}break;case 520:{var qt={};Q.level!=null&&(ae[Q.r]=qt,qt.level=Q.level),Q.hidden&&(ae[Q.r]=qt,qt.hidden=!0),Q.hpt&&(ae[Q.r]=qt,qt.hpt=Q.hpt,qt.hpx=ug(Q.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||Lh(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[je]]=Q;break;case 161:n["!margins"]||Lh(n["!margins"]={}),n["!margins"].header=Q.header,n["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(L.Views[0].RTL=!0);break;case 146:O=Q;break;case 2198:H=Q;break;case 140:T=Q;break;case 442:d?U.CodeName=Q||U.name:L.WBProps.CodeName=Q||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+je.toString(16)),e.l+=oe}return r.SheetNames=Gn(i).sort(function(Lt,vt){return Number(Lt)-Number(vt)}).map(function(Lt){return i[Lt].name}),t.bookSheets||(r.Sheets=a),!r.SheetNames.length&&h["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=h)):r.Preamble=h,r.Sheets&&q.forEach(function(Lt,vt){r.Sheets[r.SheetNames[vt]]["!autofilter"]=Lt}),r.Strings=c,r.SSF=fn(yr),F.enc&&(r.Encryption=F.enc),H&&(r.Themes=H),r.Metadata={},T!==void 0&&(r.Metadata.Country=T),se.names.length>0&&(L.Names=se.names),r.Workbook=L,r}var Jx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function J4e(e,t,r){var a=hr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=zD(a,OS,Jx.DSI);for(var i in n)t[i]=n[i]}catch(d){if(r.WTF)throw d}var s=hr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=zD(s,PS,Jx.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(d){if(r.WTF)throw d}t.HeadingPairs&&t.TitlesOfParts&&(Mq(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Z4e(e,t){var r=[],a=[],n=[],i=0,s,o=xD(OS,"n"),c=xD(PS,"n");if(e.Props)for(s=Gn(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?a:n).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Gn(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?a:n).push([s[i],e.Custprops[s[i]]]);var d=[];for(i=0;i<n.length;++i)qq.indexOf(n[i][0])>-1||Lq.indexOf(n[i][0])>-1||n[i][1]!=null&&d.push(n[i]);a.length&&hr.utils.cfb_add(t,"/SummaryInformation",qD(a,Jx.SI,c,PS)),(r.length||d.length)&&hr.utils.cfb_add(t,"/DocumentSummaryInformation",qD(r,Jx.DSI,o,OS,d.length?d:null,Jx.UDI))}function I$(e,t){t||(t={}),pA(t),Rj(),t.codepage&&Mj(t.codepage);var r,a;if(e.FullPaths){if(hr.find(e,"/encryption"))throw new Error("File is password-protected");r=hr.find(e,"!CompObj"),a=hr.find(e,"/Workbook")||hr.find(e,"/Book")}else{switch(t.type){case"base64":e=il(dl(e));break;case"binary":e=il(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ms(e,0),a={content:e}}var n,i;if(r&&G4e(r),t.bookProps&&!t.bookSheets)n={};else{var s=Vr?"buffer":"array";if(a&&a.content)n=Q4e(a.content,t);else if((i=hr.find(e,"PerfectOffice_MAIN"))&&i.content)n=Dh.to_workbook(i.content,(t.type=s,t));else if((i=hr.find(e,"NativeContent_MAIN"))&&i.content)n=Dh.to_workbook(i.content,(t.type=s,t));else throw(i=hr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&hr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=f2e(e))}var o={};return e.FullPaths&&J4e(e,o,t),n.Props=n.Custprops=o,t.bookFiles&&(n.cfb=e),n}function e_e(e,t){var r=t||{},a=hr.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return hr.utils.cfb_add(a,n,F$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Z4e(e,a),r.biff==8&&e.vbaraw&&h2e(a,hr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),a}var P1={0:{f:S5e},1:{f:P5e},2:{f:Q5e},3:{f:U5e},4:{f:R5e},5:{f:G5e},6:{f:rke},7:{f:H5e},8:{f:cke},9:{f:lke},10:{f:ske},11:{f:oke},12:{f:L5e},13:{f:Z5e},14:{f:q5e},15:{f:F5e},16:{f:E$},17:{f:nke},18:{f:V5e},19:{f:Xj},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:n4e},40:{},42:{},43:{f:rbe},44:{f:ebe},45:{f:ibe},46:{f:obe},47:{f:sbe},48:{},49:{f:Axe},50:{},51:{f:zbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Zq},62:{f:tke},63:{f:Xbe},64:{f:Nke},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Rs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:C5e},148:{f:A5e,p:16},151:{f:pke},152:{},153:{f:t4e},154:{},155:{},156:{f:Zke},157:{},158:{},159:{T:1,f:xye},160:{T:-1},161:{T:1,f:hm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:uke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bbe},336:{T:-1},337:{f:Hbe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:CS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Jq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gke},427:{f:xke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:yke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:E5e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:CS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:o2e},633:{T:1},634:{T:-1},635:{T:1,f:i2e},636:{T:-1},637:{f:Oxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:qke},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:jke},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},FS={6:{f:p_},10:{f:Ud},12:{f:mi},13:{f:mi},14:{f:Zn},15:{f:Zn},16:{f:Ds},17:{f:Zn},18:{f:Zn},19:{f:mi},20:{f:GD},21:{f:GD},23:{f:Jq},24:{f:XD},25:{f:Zn},26:{},27:{},28:{f:jve},29:{},34:{f:Zn},35:{f:YD},38:{f:Ds},39:{f:Ds},40:{f:Ds},41:{f:Ds},42:{f:Zn},43:{f:Zn},47:{f:Fye},49:{f:Z1e},51:{f:mi},60:{},61:{f:G1e},64:{f:Zn},65:{f:J1e},66:{f:mi},77:{},80:{},81:{},82:{},85:{f:mi},89:{},90:{},91:{},92:{f:I1e},93:{f:Eve},94:{},95:{f:Zn},96:{},97:{},99:{f:Zn},125:{f:Zq},128:{f:mve},129:{f:B1e},130:{f:mi},131:{f:Zn},132:{f:Zn},133:{f:U1e},134:{},140:{f:Ive},141:{f:mi},144:{},146:{f:Uve},151:{},152:{},153:{},154:{},155:{},156:{f:mi},157:{},158:{},160:{f:Kve},161:{f:$ve},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:uve},190:{f:dve},193:{f:Ud},197:{},198:{},199:{},200:{},201:{},202:{f:Zn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:mi},220:{},221:{f:Zn},222:{},224:{f:hve},225:{f:R1e},226:{f:Ud},227:{},229:{f:Ave},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:q1e},253:{f:tve},255:{f:H1e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$q},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Zn},353:{f:Ud},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:yve},431:{f:Zn},432:{},433:{},434:{},437:{},438:{f:Pve},439:{f:Zn},440:{f:Dve},441:{},442:{f:yv},443:{},444:{f:mi},445:{},446:{},448:{f:Ud},449:{f:K1e,r:2},450:{f:Ud},512:{f:WD},513:{f:Vve},515:{f:xve},516:{f:ave},517:{f:KD},519:{f:Gve},520:{f:W1e},523:{},545:{f:QD},549:{f:HD},566:{},574:{f:X1e},638:{f:cve},659:{},1048:{},1054:{f:ive},1084:{},1212:{f:_ve},2048:{f:Mve},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Jy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ud},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:zve,r:12},2173:{f:Ibe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Zn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:kve,r:12},2197:{},2198:{f:Obe,r:12},2199:{},2200:{},2201:{},2202:{f:Sve,r:12},2203:{f:Ud},2204:{},2205:{},2206:{},2207:{},2211:{f:V1e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:mi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Hve},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Bve},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:WD},1:{},2:{f:Zve},3:{f:Qve},4:{f:Xve},5:{f:KD},7:{f:tye},8:{},9:{f:Jy},11:{},22:{f:mi},30:{f:ove},31:{},32:{},33:{f:QD},36:{},37:{f:HD},50:{f:rye},62:{},52:{},67:{},68:{f:mi},69:{},86:{},126:{},127:{f:Yve},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:aye},223:{},234:{},354:{},421:{},518:{f:p_},521:{f:Jy},536:{f:XD},547:{f:YD},561:{},579:{},1030:{f:p_},1033:{f:Jy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function St(e,t,r,a){var n=t;if(!isNaN(n)){var i=a||(r||[]).length||0,s=e.next(4);s.write_shift(2,n),s.write_shift(2,i),i>0&&Kj(r)&&e.push(r)}}function t_e(e,t,r,a){var n=(r||[]).length||0;if(n<=8224)return St(e,t,r,n);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,d=0;d+(s[o]||8224)<=8224;)d+=s[o]||8224,o++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<n;){for(h=e.next(4),h.write_shift(2,60),d=0;d+(s[o]||8224)<=8224;)d+=s[o]||8224,o++;h.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function _v(e,t,r){return e||(e=nt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function r_e(e,t,r,a){var n=nt(9);return _v(n,e,t),Hq(r,a||"b",n),n}function a_e(e,t,r){var a=nt(8+2*r.length);return _v(a,e,t),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function n_e(e,t,r,a){if(t.v!=null)switch(t.t){case"d":case"n":var n=t.t=="d"?Li(dn(t.v)):t.v;n==(n|0)&&n>=0&&n<65536?St(e,2,eye(r,a,n)):St(e,3,Jve(r,a,n));return;case"b":case"e":St(e,5,r_e(r,a,t.v,t.t));return;case"s":case"str":St(e,4,a_e(r,a,(t.v||"").slice(0,255)));return}St(e,1,_v(null,r,a))}function i_e(e,t,r,a){var n=Array.isArray(t),i=fa(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(a.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Mr(i)}for(var d=i.s.r;d<=i.e.r;++d){o=ii(d);for(var h=i.s.c;h<=i.e.c;++h){d===i.s.r&&(c[h]=Pn(h)),s=c[h]+o;var m=n?(t[d]||[])[h]:t[s];m&&n_e(e,m,d,h)}}}function s_e(e,t){for(var r=t||{},a=Po(),n=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(n=i);if(n==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return St(a,r.biff==4?1033:r.biff==3?521:9,aA(e,16,r)),i_e(a,e.Sheets[e.SheetNames[n]],n,r),St(a,10),a.end()}function o_e(e,t,r){St(e,49,eve({sz:12,name:"Arial"},r))}function l_e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)t[n]!=null&&St(e,1054,sve(n,t[n],r))})}function c_e(e,t){var r=nt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),St(e,2151,r),r=nt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Yq(fa(t["!ref"]||"A1"),r),r.write_shift(4,4),St(e,2152,r)}function u_e(e,t){for(var r=0;r<16;++r)St(e,224,VD({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(a){St(e,224,VD(a,0,t))})}function d_e(e,t){for(var r=0;r<t["!links"].length;++r){var a=t["!links"][r];St(e,440,Lve(a)),a[1].Tooltip&&St(e,2048,Rve(a))}delete t["!links"]}function f_e(e,t){if(t){var r=0;t.forEach(function(a,n){++r<=256&&a&&St(e,125,qve(Gw(n,a),n))})}}function h_e(e,t,r,a,n){var i=16+Nf(n.cellXfs,t,n);if(t.v==null&&!t.bf){St(e,513,tm(r,a,i));return}if(t.bf)St(e,6,Bwe(t,r,a,n,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Li(dn(t.v)):t.v;St(e,515,vve(r,a,s,i));break;case"b":case"e":St(e,517,gve(r,a,t.v,i,n,t.t));break;case"s":case"str":if(n.bookSST){var o=dA(n.Strings,t.v,n.revStrings);St(e,253,rve(r,a,o,i))}else St(e,516,nve(r,a,(t.v||"").slice(0,255),i,n));break;default:St(e,513,tm(r,a,i))}}function m_e(e,t,r){var a=Po(),n=r.SheetNames[e],i=r.Sheets[n]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,h,m="",x=[],p=fa(i["!ref"]||"A1"),y=d?65536:16384;if(p.e.c>255||p.e.r>=y){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,y-1)}St(a,2057,aA(r,16,t)),St(a,13,Ul(1)),St(a,12,Ul(100)),St(a,15,Js(!0)),St(a,17,Js(!1)),St(a,16,Zh(.001)),St(a,95,Js(!0)),St(a,42,Js(!1)),St(a,43,Js(!1)),St(a,130,Ul(1)),St(a,128,pve()),St(a,131,Js(!1)),St(a,132,Js(!1)),d&&f_e(a,i["!cols"]),St(a,512,lve(p,t)),d&&(i["!links"]=[]);for(var v=p.s.r;v<=p.e.r;++v){m=ii(v);for(var b=p.s.c;b<=p.e.c;++b){v===p.s.r&&(x[b]=Pn(b)),h=x[b]+m;var k=c?(i[v]||[])[b]:i[h];k&&(h_e(a,k,v,b,t),d&&k.l&&i["!links"].push([h,k.l]))}}var N=o.CodeName||o.name||n;return d&&St(a,574,Q1e((s.Views||[])[0])),d&&(i["!merges"]||[]).length&&St(a,229,Tve(i["!merges"])),d&&d_e(a,i),St(a,442,Wq(N)),d&&c_e(a,i),St(a,10),a.end()}function p_e(e,t,r){var a=Po(),n=(e||{}).Workbook||{},i=n.Sheets||[],s=n.WBProps||{},o=r.biff==8,c=r.biff==5;if(St(a,2057,aA(e,5,r)),r.bookType=="xla"&&St(a,135),St(a,225,o?Ul(1200):null),St(a,193,g1e(2)),c&&St(a,191),c&&St(a,192),St(a,226),St(a,92,F1e("SheetJS",r)),St(a,66,Ul(o?1200:1252)),o&&St(a,353,Ul(0)),o&&St(a,448),St(a,317,Wve(e.SheetNames.length)),o&&e.vbaraw&&St(a,211),o&&e.vbaraw){var d=s.CodeName||"ThisWorkbook";St(a,442,Wq(d))}St(a,156,Ul(17)),St(a,25,Js(!1)),St(a,18,Js(!1)),St(a,19,Ul(0)),o&&St(a,431,Js(!1)),o&&St(a,444,Ul(0)),St(a,61,Y1e()),St(a,64,Js(!1)),St(a,141,Ul(0)),St(a,34,Js(Kke(e)=="true")),St(a,14,Js(!0)),o&&St(a,439,Js(!1)),St(a,218,Ul(0)),o_e(a,e,r),l_e(a,e.SSF,r),u_e(a,r),o&&St(a,352,Js(!1));var h=a.end(),m=Po();o&&St(m,140,Fve()),o&&r.Strings&&t_e(m,252,$1e(r.Strings)),St(m,10);var x=m.end(),p=Po(),y=0,v=0;for(v=0;v<e.SheetNames.length;++v)y+=(o?12:11)+(o?2:1)*e.SheetNames[v].length;var b=h.length+y+x.length;for(v=0;v<e.SheetNames.length;++v){var k=i[v]||{};St(p,133,z1e({pos:b,hs:k.Hidden||0,dt:0,name:e.SheetNames[v]},r)),b+=t[v].length}var N=p.end();if(y!=N.length)throw new Error("BS8 "+y+" != "+N.length);var _=[];return h.length&&_.push(h),N.length&&_.push(N),x.length&&_.push(x),Ji(_)}function g_e(e,t){var r=t||{},a=[];e&&!e.SSF&&(e.SSF=fn(yr)),e&&e.SSF&&(Pg(),zw(e.SSF),r.revssf=$w(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,gA(r),r.cellXfs=[],Nf(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)a[a.length]=m_e(n,r,e);return a.unshift(p_e(e,a,r)),Ji(a)}function F$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var a=e.Sheets[e.SheetNames[r]];if(!(!a||!a["!ref"])){var n=Do(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return g_e(e,t);case 4:case 3:case 2:return s_e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function oL(e,t){var r=t||{},a=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var n=e.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=n.index,o=i&&i.index||e.length,c=exe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,m=0,x=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(s=0;s<c.length;++s){var v=c[s].trim(),b=v.slice(0,3).toLowerCase();if(b=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}h=0;continue}if(!(b!="<td"&&b!="<th")){var k=v.split(/<\/t[dh]>/i);for(o=0;o<k.length;++o){var N=k[o].trim();if(N.match(/<t[dh]/i)){for(var _=N,T=0;_.charAt(0)=="<"&&(T=_.indexOf(">"))>-1;)_=_.slice(T+1);for(var P=0;P<y.length;++P){var O=y[P];O.s.c==h&&O.s.r<d&&d<=O.e.r&&(h=O.e.c+1,P=-1)}var L=kr(N.slice(0,N.indexOf(">")));x=L.colspan?+L.colspan:1,((m=+L.rowspan)>1||x>1)&&y.push({s:{r:d,c:h},e:{r:d+(m||1)-1,c:h+x-1}});var U=L.t||L["data-t"]||"";if(!_.length){h+=x;continue}if(_=lq(_),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>h&&(p.s.c=h),p.e.c<h&&(p.e.c=h),!_.length){h+=x;continue}var I={t:"s",v:_};r.raw||!_.trim().length||U=="s"||(_==="TRUE"?I={t:"b",v:!0}:_==="FALSE"?I={t:"b",v:!1}:isNaN(Mc(_))?isNaN(lg(_).getDate())||(I={t:"d",v:dn(_)},r.cellDates||(I={t:"n",v:Li(I.v)}),I.z=r.dateNF||yr[14]):I={t:"n",v:Mc(_)}),r.dense?(a[d]||(a[d]=[]),a[d][h]=I):a[br({r:d,c:h})]=I,h+=x}}}}return a["!ref"]=Mr(p),y.length&&(a["!merges"]=y),a}function x_e(e,t,r,a){for(var n=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,d=0;d<n.length;++d)if(!(n[d].s.r>r||n[d].s.c>s)&&!(n[d].e.r<r||n[d].e.c<s)){if(n[d].s.r<r||n[d].s.c<s){o=-1;break}o=n[d].e.r-n[d].s.r+1,c=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var h=br({r,c:s}),m=a.dense?(e[r]||[])[s]:e[h],x=m&&m.v!=null&&(m.h||Hj(m.w||(W0(m),m.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),a.editable?x='<span contenteditable="true">'+x+"</span>":m&&(p["data-t"]=m&&m.t||"z",m.v!=null&&(p["data-v"]=m.v),m.z!=null&&(p["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+m.l.Target+'">'+x+"</a>")),p.id=(a.id||"sjs")+"-"+h,i.push(wt("td",x,p))}}var y="<tr>";return y+i.join("")+"</tr>"}var v_e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',y_e="</body></html>";function b_e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Sf(oL(r[0],t),t);var a=yA();return r.forEach(function(n,i){bA(a,oL(n,t),"Sheet"+(i+1))}),a}function w_e(e,t,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function B$(e,t){var r=t||{},a=r.header!=null?r.header:v_e,n=r.footer!=null?r.footer:y_e,i=[a],s=Do(e["!ref"]);r.dense=Array.isArray(e),i.push(w_e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(x_e(e,s,o,r));return i.push("</table>"+n),i.join("")}function U$(e,t,r){var a=r||{},n=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var s=typeof a.origin=="string"?Dn(a.origin):a.origin;n=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(a.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:i}};if(e["!ref"]){var h=Do(e["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),n==-1&&(d.e.r=n=h.e.r+1)}var m=[],x=0,p=e["!rows"]||(e["!rows"]=[]),y=0,v=0,b=0,k=0,N=0,_=0;for(e["!cols"]||(e["!cols"]=[]);y<o.length&&v<c;++y){var T=o[y];if(lL(T)){if(a.display)continue;p[v]={hidden:!0}}var P=T.children;for(b=k=0;b<P.length;++b){var O=P[b];if(!(a.display&&lL(O))){var L=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):lq(O.innerHTML),U=O.getAttribute("data-z")||O.getAttribute("z");for(x=0;x<m.length;++x){var I=m[x];I.s.c==k+i&&I.s.r<v+n&&v+n<=I.e.r&&(k=I.e.c+1-i,x=-1)}_=+O.getAttribute("colspan")||1,((N=+O.getAttribute("rowspan")||1)>1||_>1)&&m.push({s:{r:v+n,c:k+i},e:{r:v+n+(N||1)-1,c:k+i+(_||1)-1}});var K={t:"s",v:L},D=O.getAttribute("data-t")||O.getAttribute("t")||"";L!=null&&(L.length==0?K.t=D||"z":a.raw||L.trim().length==0||D=="s"||(L==="TRUE"?K={t:"b",v:!0}:L==="FALSE"?K={t:"b",v:!1}:isNaN(Mc(L))?isNaN(lg(L).getDate())||(K={t:"d",v:dn(L)},a.cellDates||(K={t:"n",v:Li(K.v)}),K.z=a.dateNF||yr[14]):K={t:"n",v:Mc(L)})),K.z===void 0&&U!=null&&(K.z=U);var F="",H=O.getElementsByTagName("A");if(H&&H.length)for(var Y=0;Y<H.length&&!(H[Y].hasAttribute("href")&&(F=H[Y].getAttribute("href"),F.charAt(0)!="#"));++Y);F&&F.charAt(0)!="#"&&(K.l={Target:F}),a.dense?(e[v+n]||(e[v+n]=[]),e[v+n][k+i]=K):e[br({c:k+i,r:v+n})]=K,d.e.c<k+i&&(d.e.c=k+i),k+=_}}++v}return m.length&&(e["!merges"]=(e["!merges"]||[]).concat(m)),d.e.r=Math.max(d.e.r,v-1+n),e["!ref"]=Mr(d),v>=c&&(e["!fullref"]=Mr((d.e.r=o.length-y+v-1+n,d))),e}function z$(e,t){var r=t||{},a=r.dense?[]:{};return U$(a,e,t)}function k_e(e,t){return Sf(z$(e,t),t)}function lL(e){var t="",r=__e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function __e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function S_e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=da(t.replace(/<[^>]*>/g,""));return[r]}var cL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function q$(e,t){var r=t||{},a=Wj(e),n=[],i,s,o={name:""},c="",d=0,h,m,x={},p=[],y=r.dense?[]:{},v,b,k={value:""},N="",_=0,T=[],P=-1,O=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},U=0,I={},K=[],D={},F=0,H=0,Y=[],ne=1,X=1,ae=[],ue={Names:[]},se={},be=["",""],J=[],M={},z="",q=0,G=!1,re=!1,he=0;for(j1.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=j1.exec(a);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?y["!ref"]=Mr(L):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=L.e.r&&(y["!fullref"]=y["!ref"],L.e.r=r.sheetRows-1,y["!ref"]=Mr(L)),K.length&&(y["!merges"]=K),Y.length&&(y["!rows"]=Y),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),p.push(h.name),x[h.name]=y,re=!1):v[0].charAt(v[0].length-2)!=="/"&&(h=kr(v[0],!1),P=O=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,y=r.dense?[]:{},K=[],Y=[],re=!0);break;case"table-row-group":v[1]==="/"?--U:++U;break;case"table-row":case"":if(v[1]==="/"){P+=ne,ne=1;break}if(m=kr(v[0],!1),m.?P=m.-1:P==-1&&(P=0),ne=+m["number-rows-repeated"]||1,ne<10)for(he=0;he<ne;++he)U>0&&(Y[P+he]={level:U});O=-1;break;case"covered-table-cell":v[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(y[P]||(y[P]=[]),y[P][O]={t:"z"}):y[br({r:P,c:O})]={t:"z"}),N="",T=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++O,k=kr(v[0],!1),X=parseInt(k["number-columns-repeated"]||"1",10),b={t:"z",v:null},k.formula&&r.cellFormula!=!1&&(b.f=nL(da(k.formula))),(k.||k["value-type"])=="string"&&(b.t="s",b.v=da(k["string-value"]||""),r.dense?(y[P]||(y[P]=[]),y[P][O]=b):y[br({r:P,c:O})]=b),O+=X-1;else if(v[1]!=="/"){++O,N="",_=0,T=[],X=1;var je=ne?P+ne-1:P;if(O>L.e.c&&(L.e.c=O),O<L.s.c&&(L.s.c=O),P<L.s.r&&(L.s.r=P),je>L.e.r&&(L.e.r=je),k=kr(v[0],!1),J=[],M={},b={t:k.||k["value-type"],v:null},r.cellFormula)if(k.formula&&(k.formula=da(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(F=parseInt(k["number-matrix-rows-spanned"],10)||0,H=parseInt(k["number-matrix-columns-spanned"],10)||0,D={s:{r:P,c:O},e:{r:P+F-1,c:O+H-1}},b.F=Mr(D),ae.push([D,b.F])),k.formula)b.f=nL(k.formula);else for(he=0;he<ae.length;++he)P>=ae[he][0].s.r&&P<=ae[he][0].e.r&&O>=ae[he][0].s.c&&O<=ae[he][0].e.c&&(b.F=ae[he][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(F=parseInt(k["number-rows-spanned"],10)||0,H=parseInt(k["number-columns-spanned"],10)||0,D={s:{r:P,c:O},e:{r:P+F-1,c:O+H-1}},K.push(D)),k["number-columns-repeated"]&&(X=parseInt(k["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=ln(k["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(k.value);break;case"percentage":b.t="n",b.v=parseFloat(k.value);break;case"currency":b.t="n",b.v=parseFloat(k.value);break;case"date":b.t="d",b.v=dn(k["date-value"]),r.cellDates||(b.t="n",b.v=Li(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=Qge(k["time-value"])/86400,r.cellDates&&(b.t="d",b.v=Hw(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(k.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",k["string-value"]!=null&&(N=da(k["string-value"]),T=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(G=!1,b.t==="s"&&(b.v=N||"",T.length&&(b.R=T),G=_==0),se.Target&&(b.l=se),J.length>0&&(b.c=J,J=[]),N&&r.cellText!==!1&&(b.w=N),G&&(b.t="z",delete b.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var oe=0;oe<ne;++oe){if(X=parseInt(k["number-columns-repeated"]||"1",10),r.dense)for(y[P+oe]||(y[P+oe]=[]),y[P+oe][O]=oe==0?b:fn(b);--X>0;)y[P+oe][O+X]=fn(b);else for(y[br({r:P+oe,c:O})]=b;--X>0;)y[br({r:P+oe,c:O+X})]=fn(b);L.e.c<=O&&(L.e.c=O)}X=parseInt(k["number-columns-repeated"]||"1",10),O+=X-1,X=0,b={},N="",T=[]}se={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i;M.t=N,T.length&&(M.R=T),M.a=z,J.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);z="",q=0,N="",_=0,T=[];break;case"creator":v[1]==="/"?z=a.slice(q,v.index):q=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);N="",_=0,T=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(I[o.name]=c,(i=n.pop())[0]!==v[3])throw"Bad state: "+i}else v[0].charAt(v[0].length-2)!=="/"&&(c="",o=kr(v[0],!1),n.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":s=kr(v[0],!1),c+=cL[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":s=kr(v[0],!1),c+=cL[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":c+=a.slice(d,v.index);break}else d=v.index+v[0].length;break;case"named-range":s=kr(v[0],!1),be=g_(s["cell-range-address"]);var Ne={Name:s.name,Ref:be[0]+"!"+be[1]};re&&(Ne.Sheet=p.length),ue.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(v[1]==="/"&&(!k||!k["string-value"])){var Me=S_e(a.slice(_,v.index));N=(N.length>0?N+`
`:"")+Me[0]}else kr(v[0],!1),_=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{be=g_(kr(v[0])["target-range-address"]),x[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(se=kr(v[0],!1),!se.href)break;se.Target=da(se.href),delete se.href,se.Target.charAt(0)=="#"&&se.Target.indexOf(".")>-1?(be=g_(se.Target.slice(1)),se.Target="#"+be[0]+"!"+be[1]):se.Target.match(/^\.\.[\\\/]/)&&(se.Target=se.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var Q={Sheets:x,SheetNames:p,Workbook:ue};return r.bookSheets&&delete Q.Sheets,Q}function uL(e,t){t=t||{},Fl(e,"META-INF/manifest.xml")&&Qxe(hi(e,"META-INF/manifest.xml"),t);var r=sl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=q$(Wa(r),t);return Fl(e,"meta.xml")&&(a.Props=Pq(hi(e,"meta.xml"))),a}function dL(e,t){return q$(e,t)}var N_e=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+N1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return si+t}})(),fL=(function(){var e=function(i){return La(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(i,s,o){var c=[];c.push('      <table:table table:name="'+La(s.SheetNames[o])+`" table:style-name="ta1">
`);var d=0,h=0,m=Do(i["!ref"]||"A1"),x=i["!merges"]||[],p=0,y=Array.isArray(i);if(i["!cols"])for(h=0;h<=m.e.c;++h)c.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",b=i["!rows"]||[];for(d=0;d<m.s.r;++d)v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=m.e.r;++d){for(v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",c.push("        <table:table-row"+v+`>
`),h=0;h<m.s.c;++h)c.push(t);for(;h<=m.e.c;++h){var k=!1,N={},_="";for(p=0;p!=x.length;++p)if(!(x[p].s.c>h)&&!(x[p].s.r>d)&&!(x[p].e.c<h)&&!(x[p].e.r<d)){(x[p].s.c!=h||x[p].s.r!=d)&&(k=!0),N["table:number-columns-spanned"]=x[p].e.c-x[p].s.c+1,N["table:number-rows-spanned"]=x[p].e.r-x[p].s.r+1;break}if(k){c.push(r);continue}var T=br({r:d,c:h}),P=y?(i[d]||[])[h]:i[T];if(P&&P.f&&(N["table:formula"]=La(Wwe(P.f)),P.F&&P.F.slice(0,T.length)==T)){var O=Do(P.F);N["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,N["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!P){c.push(t);continue}switch(P.t){case"b":_=P.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=P.v?"true":"false";break;case"n":_=P.w||String(P.v||0),N["office:value-type"]="float",N["office:value"]=P.v||0;break;case"s":case"str":_=P.v==null?"":P.v,N["office:value-type"]="string";break;case"d":_=P.w||dn(P.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=dn(P.v).toISOString(),N["table:style-name"]="ce1";break;default:c.push(t);continue}var L=e(_);if(P.l&&P.l.Target){var U=P.l.Target;U=U.charAt(0)=="#"?"#"+Vwe(U.slice(1)):U,U.charAt(0)!="#"&&!U.match(/^\w+:/)&&(U="../"+U),L=wt("text:a",L,{"xlink:href":U.replace(/&/g,"&amp;")})}c.push("          "+wt("table:table-cell",wt("text:p",L,{}),N)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},n=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var h=0;h<d["!cols"].length;++h)if(d["!cols"][h]){var m=d["!cols"][h];if(m.width==null&&m.wpx==null&&m.wch==null)continue;mf(m),m.ods=o;var x=d["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+x+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(d){return s.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var h=0;h<d["!rows"].length;++h)if(d["!rows"][h]){d["!rows"][h].ods=c;var m=d["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[si],d=N1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=N1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+d+h+`>
`),c.push(Oq().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),n(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var m=0;m!=s.SheetNames.length;++m)c.push(a(s.Sheets[s.SheetNames[m]],s,m));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}})();function $$(e,t){if(t.bookType=="fods")return fL(e,t);var r=zj(),a="",n=[],i=[];return a="mimetype",Fr(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Fr(r,a,fL(e,t)),n.push([a,"text/xml"]),i.push([a,"ContentFile"]),a="styles.xml",Fr(r,a,N_e(e,t)),n.push([a,"text/xml"]),i.push([a,"StylesFile"]),a="meta.xml",Fr(r,a,si+Oq()),n.push([a,"text/xml"]),i.push([a,"MetadataFile"]),a="manifest.rdf",Fr(r,a,e1e(i)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Fr(r,a,Jxe(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function rm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BS(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Wa(_f(e))}function j_e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):il(Su(e))}function A_e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var a=0;a<t.length;++a)if(e[r+a]!=t[a])continue e;return!0}return!1}function gf(e){var t=e.reduce(function(n,i){return n+i.length},0),r=new Uint8Array(t),a=0;return e.forEach(function(n){r.set(n,a),a+=n.length}),r}function hL(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function T_e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,a=e[t+14]&1,n=t+13;n>=t;--n)a=a*256+e[n];return(e[t+15]&128?-a:a)*Math.pow(10,r-6176)}function E_e(e,t,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);e[t+15]|=a>>7,e[t+14]|=(a&127)<<1;for(var i=0;n>=1;++i,n/=256)e[t+i]=n&255;e[t+15]|=r>=0?0:128}function D1(e,t){var r=t?t[0]:0,a=e[r]&127;e:if(e[r++]>=128&&(a|=(e[r]&127)<<7,e[r++]<128||(a|=(e[r]&127)<<14,e[r++]<128)||(a|=(e[r]&127)<<21,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(a+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),a}function Ta(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Vn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function pa(e){for(var t=[],r=[0];r[0]<e.length;){var a=r[0],n=D1(e,r),i=n&7;n=Math.floor(n/8);var s=0,o;if(n==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=D1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(n," at offset ").concat(a))}var d={data:o,type:i};t[n]==null?t[n]=[d]:t[n].push(d)}return t}function ds(e){var t=[];return e.forEach(function(r,a){r.forEach(function(n){n.data&&(t.push(Ta(a*8+n.type)),n.type==2&&t.push(Ta(n.data.length)),t.push(n.data))})}),gf(t)}function mA(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Rl(e){for(var t,r=[],a=[0];a[0]<e.length;){var n=D1(e,a),i=pa(e.slice(a[0],a[0]+n));a[0]+=n;var s={id:Vn(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=pa(o.data),d=Vn(c[3][0].data);s.messages.push({meta:c,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(t=i[3])!=null&&t[0]&&(s.merge=Vn(i[3][0].data)>>>0>0),r.push(s)}return r}function pp(e){var t=[];return e.forEach(function(r){var a=[];a[1]=[{data:Ta(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Ta(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(s){n.push(s.data),s.meta[3]=[{type:0,data:Ta(s.data.length)}],a[2].push({data:ds(s.meta),type:2})});var i=ds(a);t.push(Ta(i.length)),t.push(i),n.forEach(function(s){return t.push(s)})}),gf(t)}function C_e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],a=D1(t,r),n=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}n.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),n=[gf(n)],c==0)throw new Error("Invalid offset 0");if(c>n[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(n.push(n[0].slice(-c)),d-=c;d>=n[n.length-1].length;)n.push(n[n.length-1]),d-=n[n.length-1].length;n.push(n[0].slice(-c,-c+d))}}var h=gf(n);if(h.length!=a)throw new Error("Unexpected length: ".concat(h.length," != ").concat(a));return h}function Il(e){for(var t=[],r=0;r<e.length;){var a=e[r++],n=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(C_e(a,e.slice(r,r+n))),r+=n}if(r!==e.length)throw new Error("data is not a valid framed stream!");return gf(t)}function gp(e){for(var t=[],r=0;r<e.length;){var a=Math.min(e.length-r,268435455),n=new Uint8Array(4);t.push(n);var i=Ta(a),s=i.length;t.push(i),a<=60?(s++,t.push(new Uint8Array([a-1<<2]))):a<=256?(s+=2,t.push(new Uint8Array([240,a-1&255]))):a<=65536?(s+=3,t.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(s+=4,t.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(s+=5,t.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),t.push(e.slice(r,r+a)),s+=a,n[0]=0,n[1]=s&255,n[2]=s>>8&255,n[3]=s>>16&255,r+=a}return gf(t)}function O_e(e,t,r,a){var n=rm(e),i=n.getUint32(4,!0),s=(a>1?12:8)+hL(i&(a>1?3470:398))*4,o=-1,c=-1,d=NaN,h=new Date(2001,0,1);i&512&&(o=n.getUint32(s,!0),s+=4),s+=hL(i&(a>1?12288:4096))*4,i&16&&(c=n.getUint32(s,!0),s+=4),i&32&&(d=n.getFloat64(s,!0),s+=8),i&64&&(h.setTime(h.getTime()+n.getFloat64(s,!0)*1e3),s+=8);var m;switch(e[2]){case 0:break;case 2:m={t:"n",v:d};break;case 3:m={t:"s",v:t[c]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(c>-1)m={t:"s",v:t[c]};else if(!isNaN(d))m={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return m}function P_e(e,t,r){var a=rm(e),n=a.getUint32(8,!0),i=12,s=-1,o=-1,c=NaN,d=NaN,h=new Date(2001,0,1);n&1&&(c=T_e(e,i),i+=16),n&2&&(d=a.getFloat64(i,!0),i+=8),n&4&&(h.setTime(h.getTime()+a.getFloat64(i,!0)*1e3),i+=8),n&8&&(o=a.getUint32(i,!0),i+=4),n&16&&(s=a.getUint32(i,!0),i+=4);var m;switch(e[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:t[o]};break;case 5:m={t:"d",v:h};break;case 6:m={t:"b",v:d>0};break;case 7:m={t:"n",v:d/86400};break;case 8:m={t:"e",v:0};break;case 9:if(s>-1)m={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(n&31," : ").concat(e.slice(0,4)))}return m}function v_(e,t){var r=new Uint8Array(32),a=rm(r),n=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,E_e(r,n,e.v),i|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,e.v?1:0,!0),i|=2,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(8,i,!0),r.slice(0,n)}function y_(e,t){var r=new Uint8Array(32),a=rm(r),n=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,a.setFloat64(n,e.v,!0),i|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,e.v?1:0,!0),i|=32,n+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,a.setUint32(n,t.indexOf(e.v),!0),i|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return a.setUint32(4,i,!0),r.slice(0,n)}function D_e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return O_e(e,t,r,e[0]);case 5:return P_e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Es(e){var t=pa(e);return D1(t[1][0].data)}function mL(e,t){var r=pa(t.data),a=Vn(r[1][0].data),n=r[3],i=[];return(n||[]).forEach(function(s){var o=pa(s.data),c=Vn(o[1][0].data)>>>0;switch(a){case 1:i[c]=BS(o[3][0].data);break;case 8:{var d=e[Es(o[9][0].data)][0],h=pa(d.data),m=e[Es(h[1][0].data)][0],x=Vn(m.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var p=pa(m.data);i[c]=p[3].map(function(y){return BS(y.data)}).join("")}break}}),i}function L_e(e,t){var r,a,n,i,s,o,c,d,h,m,x,p,y,v,b=pa(e),k=Vn(b[1][0].data)>>>0,N=Vn(b[2][0].data)>>>0,_=((a=(r=b[8])==null?void 0:r[0])==null?void 0:a.data)&&Vn(b[8][0].data)>0||!1,T,P;if((i=(n=b[7])==null?void 0:n[0])!=null&&i.data&&t!=0)T=(o=(s=b[7])==null?void 0:s[0])==null?void 0:o.data,P=(d=(c=b[6])==null?void 0:c[0])==null?void 0:d.data;else if((m=(h=b[4])==null?void 0:h[0])!=null&&m.data&&t!=1)T=(p=(x=b[4])==null?void 0:x[0])==null?void 0:p.data,P=(v=(y=b[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=_?4:1,L=rm(T),U=[],I=0;I<T.length/2;++I){var K=L.getUint16(I*2,!0);K<65535&&U.push([I,K])}if(U.length!=N)throw"Expected ".concat(N," cells, found ").concat(U.length);var D=[];for(I=0;I<U.length-1;++I)D[U[I][0]]=P.subarray(U[I][1]*O,U[I+1][1]*O);return U.length>=1&&(D[U[U.length-1][0]]=P.subarray(U[U.length-1][1]*O)),{R:k,cells:D}}function M_e(e,t){var r,a=pa(t.data),n=(r=a==null?void 0:a[7])!=null&&r[0]?Vn(a[7][0].data)>>>0>0?1:0:-1,i=mA(a[5],function(s){return L_e(s,n)});return{nrows:Vn(a[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,d){if(s[o.R][d])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(d));s[o.R][d]=c}),s},[])}}function R_e(e,t,r){var a,n=pa(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Vn(n[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(i.e.c=(Vn(n[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=Mr(i);var s=pa(n[4][0].data),o=mL(e,e[Es(s[4][0].data)][0]),c=(a=s[17])!=null&&a[0]?mL(e,e[Es(s[17][0].data)][0]):[],d=pa(s[3][0].data),h=0;d[1].forEach(function(m){var x=pa(m.data),p=e[Es(x[2][0].data)][0],y=Vn(p.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=M_e(e,p);v.data.forEach(function(b,k){b.forEach(function(N,_){var T=br({r:h+k,c:_}),P=D_e(N,o,c);P&&(r[T]=P)})}),h+=v.nrows})}function I_e(e,t){var r=pa(t.data),a={"!ref":"A1"},n=e[Es(r[2][0].data)],i=Vn(n[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return R_e(e,n[0],a),a}function F_e(e,t){var r,a=pa(t.data),n={name:(r=a[1])!=null&&r[0]?BS(a[1][0].data):"",sheets:[]},i=mA(a[2],Es);return i.forEach(function(s){e[s].forEach(function(o){var c=Vn(o.meta[1][0].data);c==6e3&&n.sheets.push(I_e(e,o))})}),n}function B_e(e,t){var r=yA(),a=pa(t.data),n=mA(a[1],Es);if(n.forEach(function(i){e[i].forEach(function(s){var o=Vn(s.meta[1][0].data);if(o==2){var c=F_e(e,s);c.sheets.forEach(function(d,h){bA(r,d,h==0?c.name:c.name+"_"+h,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function b_(e){var t,r,a,n,i={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var d;try{d=Il(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var h;try{h=Rl(d)}catch(m){return console.log("## "+(m.message||m))}h.forEach(function(m){i[m.id]=m.messages,s.push(m.id)})}}),!s.length)throw new Error("File has no messages");var o=((n=(a=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&Vn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(c){i[c].forEach(function(d){var h=Vn(d.meta[1][0].data)>>>0;if(h==1)if(!o)o=d;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return B_e(i,o)}function U_e(e,t,r){var a,n,i,s;if(!((a=e[6])!=null&&a[0])||!((n=e[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&Vn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,d=rm(e[7][0].data),h=0,m=[],x=rm(e[4][0].data),p=0,y=[],v=0;v<t.length;++v){if(t[v]==null){d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535);continue}d.setUint16(v*2,h,!0),x.setUint16(v*2,p,!0);var b,k;switch(typeof t[v]){case"string":b=v_({t:"s",v:t[v]},r),k=y_({t:"s",v:t[v]},r);break;case"number":b=v_({t:"n",v:t[v]},r),k=y_({t:"n",v:t[v]},r);break;case"boolean":b=v_({t:"b",v:t[v]},r),k=y_({t:"b",v:t[v]},r);break;default:throw new Error("Unsupported value "+t[v])}m.push(b),h+=b.length,y.push(k),p+=k.length,++c}for(e[2][0].data=Ta(c);v<e[7][0].data.length/2;++v)d.setUint16(v*2,65535,!0),x.setUint16(v*2,65535,!0);return e[6][0].data=gf(m),e[3][0].data=gf(y),c}function z_e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=Do(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Mr(a)));var i=R2(r,{range:a,header:1}),s=["~Sh33tJ5~"];i.forEach(function(z){return z.forEach(function(q){typeof q=="string"&&s.push(q)})});var o={},c=[],d=hr.read(t.numbers,{type:"base64"});d.FileIndex.map(function(z,q){return[z,d.FullPaths[q]]}).forEach(function(z){var q=z[0],G=z[1];if(q.type==2&&q.name.match(/\.iwa/)){var re=q.content,he=Il(re),je=Rl(he);je.forEach(function(oe){c.push(oe.id),o[oe.id]={deps:[],location:G,type:Vn(oe.messages[0].meta[1][0].data)}})}}),c.sort(function(z,q){return z-q});var h=c.filter(function(z){return z>1}).map(function(z){return[z,Ta(z)]});d.FileIndex.map(function(z,q){return[z,d.FullPaths[q]]}).forEach(function(z){var q=z[0];if(z[1],!!q.name.match(/\.iwa/)){var G=Rl(Il(q.content));G.forEach(function(re){re.messages.forEach(function(he){h.forEach(function(je){re.messages.some(function(oe){return Vn(oe.meta[1][0].data)!=11006&&A_e(oe.data,je[1])})&&o[je[0]].deps.push(re.id)})})})}});for(var m=hr.find(d,o[1].location),x=Rl(Il(m.content)),p,y=0;y<x.length;++y){var v=x[y];v.id==1&&(p=v)}var b=Es(pa(p.messages[0].data)[1][0].data);for(m=hr.find(d,o[b].location),x=Rl(Il(m.content)),y=0;y<x.length;++y)v=x[y],v.id==b&&(p=v);for(b=Es(pa(p.messages[0].data)[2][0].data),m=hr.find(d,o[b].location),x=Rl(Il(m.content)),y=0;y<x.length;++y)v=x[y],v.id==b&&(p=v);for(b=Es(pa(p.messages[0].data)[2][0].data),m=hr.find(d,o[b].location),x=Rl(Il(m.content)),y=0;y<x.length;++y)v=x[y],v.id==b&&(p=v);var k=pa(p.messages[0].data);{k[6][0].data=Ta(a.e.r+1),k[7][0].data=Ta(a.e.c+1);var N=Es(k[46][0].data),_=hr.find(d,o[N].location),T=Rl(Il(_.content));{for(var P=0;P<T.length&&T[P].id!=N;++P);if(T[P].id!=N)throw"Bad ColumnRowUIDMapArchive";var O=pa(T[P].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var L=0;L<=a.e.c;++L){var U=[];U[1]=U[2]=[{type:0,data:Ta(L+420690)}],O[1].push({type:2,data:ds(U)}),O[2].push({type:0,data:Ta(L)}),O[3].push({type:0,data:Ta(L)})}O[4]=[],O[5]=[],O[6]=[];for(var I=0;I<=a.e.r;++I)U=[],U[1]=U[2]=[{type:0,data:Ta(I+726270)}],O[4].push({type:2,data:ds(U)}),O[5].push({type:0,data:Ta(I)}),O[6].push({type:0,data:Ta(I)});T[P].messages[0].data=ds(O)}_.content=gp(pp(T)),_.size=_.content.length,delete k[46];var K=pa(k[4][0].data);{K[7][0].data=Ta(a.e.r+1);var D=pa(K[1][0].data),F=Es(D[2][0].data);_=hr.find(d,o[F].location),T=Rl(Il(_.content));{if(T[0].id!=F)throw"Bad HeaderStorageBucket";var H=pa(T[0].messages[0].data);for(I=0;I<i.length;++I){var Y=pa(H[2][0].data);Y[1][0].data=Ta(I),Y[4][0].data=Ta(i[I].length),H[2][I]={type:H[2][0].type,data:ds(Y)}}T[0].messages[0].data=ds(H)}_.content=gp(pp(T)),_.size=_.content.length;var ne=Es(K[2][0].data);_=hr.find(d,o[ne].location),T=Rl(Il(_.content));{if(T[0].id!=ne)throw"Bad HeaderStorageBucket";for(H=pa(T[0].messages[0].data),L=0;L<=a.e.c;++L)Y=pa(H[2][0].data),Y[1][0].data=Ta(L),Y[4][0].data=Ta(a.e.r+1),H[2][L]={type:H[2][0].type,data:ds(Y)};T[0].messages[0].data=ds(H)}_.content=gp(pp(T)),_.size=_.content.length;var X=Es(K[4][0].data);(function(){for(var z=hr.find(d,o[X].location),q=Rl(Il(z.content)),G,re=0;re<q.length;++re){var he=q[re];he.id==X&&(G=he)}var je=pa(G.messages[0].data);{je[3]=[];var oe=[];s.forEach(function(Q,Te){oe[1]=[{type:0,data:Ta(Te)}],oe[2]=[{type:0,data:Ta(1)}],oe[3]=[{type:2,data:j_e(Q)}],je[3].push({type:2,data:ds(oe)})})}G.messages[0].data=ds(je);var Ne=pp(q),Me=gp(Ne);z.content=Me,z.size=z.content.length})();var ae=pa(K[3][0].data);{var ue=ae[1][0];delete ae[2];var se=pa(ue.data);{var be=Es(se[2][0].data);(function(){for(var z=hr.find(d,o[be].location),q=Rl(Il(z.content)),G,re=0;re<q.length;++re){var he=q[re];he.id==be&&(G=he)}var je=pa(G.messages[0].data);{delete je[6],delete ae[7];var oe=new Uint8Array(je[5][0].data);je[5]=[];for(var Ne=0,Me=0;Me<=a.e.r;++Me){var Q=pa(oe);Ne+=U_e(Q,i[Me],s),Q[1][0].data=Ta(Me),je[5].push({data:ds(Q),type:2})}je[1]=[{type:0,data:Ta(a.e.c+1)}],je[2]=[{type:0,data:Ta(a.e.r+1)}],je[3]=[{type:0,data:Ta(Ne)}],je[4]=[{type:0,data:Ta(a.e.r+1)}]}G.messages[0].data=ds(je);var Te=pp(q),Ae=gp(Te);z.content=Ae,z.size=z.content.length})()}ue.data=ds(se)}K[3][0].data=ds(ae)}k[4][0].data=ds(K)}p.messages[0].data=ds(k);var J=pp(x),M=gp(J);return m.content=M,m.size=m.content.length,d}function H$(e){return function(r){for(var a=0;a!=e.length;++a){var n=e[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function pA(e){H$([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function gA(e){H$([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function q_e(e){return Gr.WS.indexOf(e)>-1?"sheet":e==Gr.CS?"chart":e==Gr.DS?"dialog":e==Gr.MS?"macro":e&&e.length?e:"sheet"}function $_e(e,t){if(!e)return 0;try{e=t.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,q_e(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function H_e(e,t,r,a,n,i,s,o,c,d,h,m){try{i[a]=Gx(sl(e,r,!0),t);var x=hi(e,t),p;switch(o){case"sheet":p=f4e(x,t,n,c,i[a],d,h,m);break;case"chart":if(p=h4e(x,t,n,c,i[a],d,h,m),!p||!p["!drawel"])break;var y=Bx(p["!drawel"].Target,t),v=A1(y),b=Zbe(sl(e,y,!0),Gx(sl(e,v,!0),y)),k=Bx(b,y),N=A1(k);p=Uke(sl(e,k,!0),k,c,Gx(sl(e,N,!0),k),d,p);break;case"macro":p=m4e(x,t,n,c,i[a],d,h,m);break;case"dialog":p=p4e(x,t,n,c,i[a],d,h,m);break;default:throw new Error("Unrecognized sheet type "+o)}s[a]=p;var _=[];i&&i[a]&&Gn(i[a]).forEach(function(T){var P="";if(i[a][T].Type==Gr.CMNT){P=Bx(i[a][T].Target,t);var O=y4e(hi(e,P,!0),P,c);if(!O||!O.length)return;ZD(p,O,!1)}i[a][T].Type==Gr.TCMNT&&(P=Bx(i[a][T].Target,t),_=_.concat(t2e(hi(e,P,!0),c)))}),_&&_.length&&ZD(p,_,!0,c.people||[])}catch(T){if(c.WTF)throw T}}function Dl(e){return e.charAt(0)=="/"?e.slice(1):e}function W_e(e,t){if(Pg(),t=t||{},pA(t),Fl(e,"META-INF/manifest.xml")||Fl(e,"objectdata.xml"))return uL(e,t);if(Fl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof b_<"u"){if(e.FileIndex)return b_(e);var r=hr.utils.cfb_new();return bD(e).forEach(function(Y){Fr(r,Y,rxe(e,Y))}),b_(r)}throw new Error("Unsupported NUMBERS file")}if(!Fl(e,"[Content_Types].xml"))throw Fl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=bD(e),n=Yxe(sl(e,"[Content_Types].xml")),i=!1,s,o;if(n.workbooks.length===0&&(o="xl/workbook.xml",hi(e,o,!0)&&n.workbooks.push(o)),n.workbooks.length===0){if(o="xl/workbook.bin",!hi(e,o,!0))throw new Error("Could not find workbook");n.workbooks.push(o),i=!0}n.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},d={};if(!t.bookSheets&&!t.bookProps){if(Yx=[],n.sst)try{Yx=v4e(hi(e,Dl(n.sst)),n.sst,t)}catch(Y){if(t.WTF)throw Y}t.cellStyles&&n.themes.length&&(c=x4e(sl(e,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],t)),n.style&&(d=g4e(hi(e,Dl(n.style)),n.style,c,t))}n.links.map(function(Y){try{var ne=Gx(sl(e,A1(Dl(Y))),Y);return w4e(hi(e,Dl(Y)),ne,Y,t)}catch{}});var h=d4e(hi(e,Dl(n.workbooks[0])),n.workbooks[0],t),m={},x="";n.coreprops.length&&(x=hi(e,Dl(n.coreprops[0]),!0),x&&(m=Pq(x)),n.extprops.length!==0&&(x=hi(e,Dl(n.extprops[0]),!0),x&&r1e(x,m,t)));var p={};(!t.bookSheets||t.bookProps)&&n.custprops.length!==0&&(x=sl(e,Dl(n.custprops[0]),!0),x&&(p=n1e(x,t)));var y={};if((t.bookSheets||t.bookProps)&&(h.Sheets?s=h.Sheets.map(function(ne){return ne.name}):m.Worksheets&&m.SheetNames.length>0&&(s=m.SheetNames),t.bookProps&&(y.Props=m,y.Custprops=p),t.bookSheets&&typeof s<"u"&&(y.SheetNames=s),t.bookSheets?y.SheetNames:t.bookProps))return y;s={};var v={};t.bookDeps&&n.calcchain&&(v=b4e(hi(e,Dl(n.calcchain)),n.calcchain));var b=0,k={},N,_;{var T=h.Sheets;m.Worksheets=T.length,m.SheetNames=[];for(var P=0;P!=T.length;++P)m.SheetNames[P]=T[P].name}var O=i?"bin":"xml",L=n.workbooks[0].lastIndexOf("/"),U=(n.workbooks[0].slice(0,L+1)+"_rels/"+n.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");Fl(e,U)||(U="xl/_rels/workbook."+O+".rels");var I=Gx(sl(e,U,!0),U.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(t.xlmeta=k4e(hi(e,Dl(n.metadata[0])),n.metadata[0],t)),(n.people||[]).length>=1&&(t.people=a2e(hi(e,Dl(n.people[0])),t)),I&&(I=$_e(I,h.Sheets));var K=hi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=m.Worksheets;++b){var D="sheet";if(I&&I[b]?(N="xl/"+I[b][1].replace(/[\/]?xl\//,""),Fl(e,N)||(N=I[b][1]),Fl(e,N)||(N=U.replace(/_rels\/.*$/,"")+I[b][1]),D=I[b][2]):(N="xl/worksheets/sheet"+(b+1-K)+"."+O,N=N.replace(/sheet0\./,"sheet.")),_=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(m.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==b&&(F=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==m.SheetNames[b].toLowerCase()&&(F=1);if(!F)continue e}}H_e(e,N,_,m.SheetNames[b],b,k,s,D,t,h,c,d)}return y={Directory:n,Workbook:h,Props:m,Custprops:p,Deps:v,Sheets:s,SheetNames:m.SheetNames,Strings:Yx,Styles:d,Themes:c,SSF:fn(yr)},t&&t.bookFiles&&(e.files?(y.keys=a,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(Y,ne){Y=Y.replace(/^Root Entry[\/]/,""),y.keys.push(Y),y.files[Y]=e.FileIndex[ne]}))),t&&t.bookVBA&&(n.vba.length>0?y.vbaraw=hi(e,Dl(n.vba[0]),!0):n.defaults&&n.defaults.bin===d2e&&(y.vbaraw=hi(e,"xl/vbaProject.bin",!0))),y}function V_e(e,t){var r=t||{},a="Workbook",n=hr.find(e,a);try{if(a="/!DataSpaces/Version",n=hr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(kye(n.content),a="/!DataSpaces/DataSpaceMap",n=hr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=Sye(n.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=hr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var s=Nye(n.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=hr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);Aye(n.content)}catch{}if(a="/EncryptionInfo",n=hr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=Tye(n.content);if(a="/EncryptedPackage",n=hr.find(e,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],n.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function K_e(e,t){return t.bookType=="ods"?$$(e,t):t.bookType=="numbers"?z_e(e,t):t.bookType=="xlsb"?G_e(e,t):Y_e(e,t)}function G_e(e,t){Ap=1024,e&&!e.SSF&&(e.SSF=fn(yr)),e&&e.SSF&&(Pg(),zw(e.SSF),t.revssf=$w(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Xx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",a=x$.indexOf(t.bookType)>-1,n=tA();gA(t=t||{});var i=zj(),s="",o=0;if(t.cellXfs=[],Nf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Fr(i,s,Dq(e.Props,t)),n.coreprops.push(s),Ea(t.rels,2,s,Gr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,s,Rq(e.Props)),n.extprops.push(s),Ea(t.rels,3,s,Gr.EXT_PROPS),e.Custprops!==e.Props&&Gn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Fr(i,s,Iq(e.Custprops)),n.custprops.push(s),Ea(t.rels,4,s,Gr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var h={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],x=(m||{})["!type"]||"sheet";switch(x){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Fr(i,s,S4e(o-1,s,t,e,h)),n.sheets.push(s),Ea(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Gr.WS[0])}if(m){var p=m["!comments"],y=!1,v="";p&&p.length>0&&(v="xl/comments"+o+"."+r,Fr(i,v,A4e(p,v)),n.comments.push(v),Ea(h,-1,"../comments"+o+"."+r,Gr.CMNT),y=!0),m["!legacy"]&&y&&Fr(i,"xl/drawings/vmlDrawing"+o+".vml",p$(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Fr(i,A1(s),Lp(h))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Fr(i,s,j4e(t.Strings,s,t)),n.strs.push(s),Ea(t.wbrels,-1,"sharedStrings."+r,Gr.SST)),s="xl/workbook."+r,Fr(i,s,_4e(e,s)),n.workbooks.push(s),Ea(t.rels,1,s,Gr.WB),s="xl/theme/theme1.xml",Fr(i,s,oA(e.Themes,t)),n.themes.push(s),Ea(t.wbrels,-1,"theme/theme1.xml",Gr.THEME),s="xl/styles."+r,Fr(i,s,N4e(e,s,t)),n.styles.push(s),Ea(t.wbrels,-1,"styles."+r,Gr.STY),e.vbaraw&&a&&(s="xl/vbaProject.bin",Fr(i,s,e.vbaraw),n.vba.push(s),Ea(t.wbrels,-1,"vbaProject.bin",Gr.VBA)),s="xl/metadata."+r,Fr(i,s,T4e(s)),n.metadata.push(s),Ea(t.wbrels,-1,"metadata."+r,Gr.XLMETA),Fr(i,"[Content_Types].xml",Cq(n,t)),Fr(i,"_rels/.rels",Lp(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",Lp(t.wbrels)),delete t.revssf,delete t.ssf,i}function Y_e(e,t){Ap=1024,e&&!e.SSF&&(e.SSF=fn(yr)),e&&e.SSF&&(Pg(),zw(e.SSF),t.revssf=$w(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Xx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",a=x$.indexOf(t.bookType)>-1,n=tA();gA(t=t||{});var i=zj(),s="",o=0;if(t.cellXfs=[],Nf(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Fr(i,s,Dq(e.Props,t)),n.coreprops.push(s),Ea(t.rels,2,s,Gr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,s,Rq(e.Props)),n.extprops.push(s),Ea(t.rels,3,s,Gr.EXT_PROPS),e.Custprops!==e.Props&&Gn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Fr(i,s,Iq(e.Custprops)),n.custprops.push(s),Ea(t.rels,4,s,Gr.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var m={"!id":{}},x=e.Sheets[e.SheetNames[o-1]],p=(x||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Fr(i,s,T$(o-1,t,e,m)),n.sheets.push(s),Ea(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Gr.WS[0])}if(x){var y=x["!comments"],v=!1,b="";if(y&&y.length>0){var k=!1;y.forEach(function(N){N[1].forEach(function(_){_.T==!0&&(k=!0)})}),k&&(b="xl/threadedComments/threadedComment"+o+"."+r,Fr(i,b,r2e(y,h,t)),n.threadedcomments.push(b),Ea(m,-1,"../threadedComments/threadedComment"+o+"."+r,Gr.TCMNT)),b="xl/comments"+o+"."+r,Fr(i,b,g$(y)),n.comments.push(b),Ea(m,-1,"../comments"+o+"."+r,Gr.CMNT),v=!0}x["!legacy"]&&v&&Fr(i,"xl/drawings/vmlDrawing"+o+".vml",p$(o,x["!comments"])),delete x["!comments"],delete x["!legacy"]}m["!id"].rId1&&Fr(i,A1(s),Lp(m))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Fr(i,s,a$(t.Strings,t)),n.strs.push(s),Ea(t.wbrels,-1,"sharedStrings."+r,Gr.SST)),s="xl/workbook."+r,Fr(i,s,D$(e)),n.workbooks.push(s),Ea(t.rels,1,s,Gr.WB),s="xl/theme/theme1.xml",Fr(i,s,oA(e.Themes,t)),n.themes.push(s),Ea(t.wbrels,-1,"theme/theme1.xml",Gr.THEME),s="xl/styles."+r,Fr(i,s,d$(e,t)),n.styles.push(s),Ea(t.wbrels,-1,"styles."+r,Gr.STY),e.vbaraw&&a&&(s="xl/vbaProject.bin",Fr(i,s,e.vbaraw),n.vba.push(s),Ea(t.wbrels,-1,"vbaProject.bin",Gr.VBA)),s="xl/metadata."+r,Fr(i,s,m$()),n.metadata.push(s),Ea(t.wbrels,-1,"metadata."+r,Gr.XLMETA),h.length>1&&(s="xl/persons/person.xml",Fr(i,s,n2e(h)),n.people.push(s),Ea(t.wbrels,-1,"persons/person.xml",Gr.PEOPLE)),Fr(i,"[Content_Types].xml",Cq(n,t)),Fr(i,"_rels/.rels",Lp(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",Lp(t.wbrels)),delete t.revssf,delete t.ssf,i}function xA(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=dl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function X_e(e,t){return hr.find(e,"EncryptedPackage")?V_e(e,t):I$(e,t)}function Q_e(e,t){var r,a=e,n=t||{};return n.type||(n.type=Vr&&Buffer.isBuffer(e)?"buffer":"base64"),r=iq(a,n),W_e(r,n)}function W$(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return IS(e.slice(r),t);default:break e}return cg.to_workbook(e,t)}function J_e(e,t){var r="",a=xA(e,t);switch(t.type){case"base64":r=dl(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Jh(e);break;default:throw new Error("Unrecognized type "+t.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Wa(r)),t.type="binary",W$(r,t)}function Z_e(e,t){var r=e;return t.type=="base64"&&(r=dl(r)),r=w1.utils.decode(1200,r.slice(2),"str"),t.type="binary",W$(r,t)}function e3e(e){return e.match(/[^\x00-\x7F]/)?Su(e):e}function w_(e,t,r,a){return a?(r.type="string",cg.to_workbook(e,r)):cg.to_workbook(t,r)}function US(e,t){Rj();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return US(new Uint8Array(e),(r=fn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=e,n=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Rp={},r.dateNF&&(Rp.dateNF=r.dateNF),r.type||(r.type=Vr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Vr?"buffer":"binary",a=Gge(e),typeof Uint8Array<"u"&&!Vr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,a=e3e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=fn(r),r.type="array",US(Ij(a),r)}switch((n=xA(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return X_e(hr.read(a,r),r);break;case 9:if(n[1]<=8)return I$(a,r);break;case 60:return IS(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return iye(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return t$.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?Q_e(a,r):w_(e,a,r,i);case 239:return n[3]===60?IS(a,r):w_(e,a,r,i);case 255:if(n[1]===254)return Z_e(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return Dh.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Dh.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return RS.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return l$.to_workbook(a,r);break;case 10:case 13:case 32:return J_e(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nye.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?RS.to_workbook(a,r):w_(e,a,r,i)}function V$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return gv(t.file,hr.write(e,{type:Vr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return hr.write(e,t)}function t3e(e,t){var r=fn(t||{}),a=K_e(e,r);return r3e(a,r)}function r3e(e,t){var r={},a=Vr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=a;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?hr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(t.type=="binary"||t.type=="base64")return n;n=new Uint8Array(Uw(n))}return t.password&&typeof encrypt_agile<"u"?V$(encrypt_agile(n,t.password),t):t.type==="file"?gv(t.file,n):t.type=="string"?Wa(n):n}function a3e(e,t){var r=t||{},a=e_e(e,r);return V$(a,r)}function mu(e,t,r){r||(r="");var a=r+e;switch(t.type){case"base64":return k1(Su(a));case"binary":return Su(a);case"string":return e;case"file":return gv(t.file,a,"utf8");case"buffer":return Vr?rd(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):mu(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function n3e(e,t){switch(t.type){case"base64":return k1(e);case"binary":return e;case"string":return e;case"file":return gv(t.file,e,"binary");case"buffer":return Vr?rd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function rb(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",a=0;a<e.length;++a)r+=String.fromCharCode(e[a]);return t.type=="base64"?k1(r):t.type=="string"?Wa(r):r;case"file":return gv(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function K$(e,t){Rj(),Xke(e);var r=fn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=K$(e,r);return r.type="array",Uw(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=e.SheetNames.indexOf(r.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return mu(K4e(e,r),r);case"slk":case"sylk":return mu(e$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"htm":case"html":return mu(B$(e.Sheets[e.SheetNames[n]],r),r);case"txt":return n3e(G$(e.Sheets[e.SheetNames[n]],r),r);case"csv":return mu(vA(e.Sheets[e.SheetNames[n]],r),r,"\uFEFF");case"dif":return mu(t$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"dbf":return rb(RS.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"prn":return mu(cg.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"rtf":return mu(l$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"eth":return mu(r$.from_sheet(e.Sheets[e.SheetNames[n]],r),r);case"fods":return mu($$(e,r),r);case"wk1":return rb(Dh.sheet_to_wk1(e.Sheets[e.SheetNames[n]],r),r);case"wk3":return rb(Dh.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),rb(F$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),a3e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return t3e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function i3e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function pm(e,t,r){var a={};return a.type="file",a.file=t,i3e(a),K$(e,a)}function s3e(e,t,r,a,n,i,s,o){var c=ii(r),d=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,x=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:r,enumerable:!1})}catch{x.__rowNum__=r}else x.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var y=s?e[r][p]:e[a[p]+c];if(y===void 0||y.t===void 0){if(d===void 0)continue;i[p]!=null&&(x[i[p]]=d);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(i[p]!=null){if(v==null)if(y.t=="e"&&v===null)x[i[p]]=null;else if(d!==void 0)x[i[p]]=d;else if(h&&v===null)x[i[p]]=null;else continue;else x[i[p]]=h&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:W0(y,v,o);v!=null&&(m=!1)}}return{row:x,isempty:m}}function R2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},h=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof h){case"string":c=fa(h);break;case"number":c=fa(e["!ref"]),c.s.r=h;break;default:c=h}a>0&&(n=0);var m=ii(c.s.r),x=[],p=[],y=0,v=0,b=Array.isArray(e),k=c.s.r,N=0,_={};b&&!e[k]&&(e[k]=[]);var T=d.skipHidden&&e["!cols"]||[],P=d.skipHidden&&e["!rows"]||[];for(N=c.s.c;N<=c.e.c;++N)if(!(T[N]||{}).hidden)switch(x[N]=Pn(N),r=b?e[k][N]:e[x[N]+m],a){case 1:i[N]=N-c.s.c;break;case 2:i[N]=x[N];break;case 3:i[N]=d.header[N-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=W0(r,null,d),v=_[s]||0,!v)_[s]=1;else{do o=s+"_"+v++;while(_[o]);_[s]=v,_[o]=1}i[N]=o}for(k=c.s.r+n;k<=c.e.r;++k)if(!(P[k]||{}).hidden){var O=s3e(e,c,k,x,a,i,b,d);(O.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[y++]=O.row)}return p.length=y,p}var pL=/"/g;function o3e(e,t,r,a,n,i,s,o){for(var c=!0,d=[],h="",m=ii(r),x=t.s.c;x<=t.e.c;++x)if(a[x]){var p=o.dense?(e[r]||[])[x]:e[a[x]+m];if(p==null)h="";else if(p.v!=null){c=!1,h=""+(o.rawNumbers&&p.t=="n"?p.v:W0(p,null,o));for(var y=0,v=0;y!==h.length;++y)if((v=h.charCodeAt(y))===n||v===i||v===34||o.forceQuotes){h='"'+h.replace(pL,'""')+'"';break}h=="ID"&&(h='"ID"')}else p.f!=null&&!p.F?(c=!1,h="="+p.f,h.indexOf(",")>=0&&(h='"'+h.replace(pL,'""')+'"')):h="";d.push(h)}return o.blankrows===!1&&c?null:d.join(s)}function vA(e,t){var r=[],a=t??{};if(e==null||e["!ref"]==null)return"";var n=fa(e["!ref"]),i=a.FS!==void 0?a.FS:",",s=i.charCodeAt(0),o=a.RS!==void 0?a.RS:`
`,c=o.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",m=[];a.dense=Array.isArray(e);for(var x=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],y=n.s.c;y<=n.e.c;++y)(x[y]||{}).hidden||(m[y]=Pn(y));for(var v=0,b=n.s.r;b<=n.e.r;++b)(p[b]||{}).hidden||(h=o3e(e,n,b,m,s,c,i,a),h!=null&&(a.strip&&(h=h.replace(d,"")),(h||a.blankrows!==!1)&&r.push((v++?o:"")+h)));return delete a.dense,r.join("")}function G$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vA(e,t);return r}function l3e(e){var t="",r,a="";if(e==null||e["!ref"]==null)return[];var n=fa(e["!ref"]),i="",s=[],o,c=[],d=Array.isArray(e);for(o=n.s.c;o<=n.e.c;++o)s[o]=Pn(o);for(var h=n.s.r;h<=n.e.r;++h)for(i=ii(h),o=n.s.c;o<=n.e.c;++o)if(t=s[o]+i,r=d?(e[h]||[])[o]:e[t],a="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;a=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}c[c.length]=t+"="+a}return c}function Y$(e,t,r){var a=r||{},n=+!a.skipHeader,i=e||{},s=0,o=0;if(i&&a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var c=typeof a.origin=="string"?Dn(a.origin):a.origin;s=c.r,o=c.c}var d,h={s:{c:0,r:0},e:{c:o,r:s+t.length-1+n}};if(i["!ref"]){var m=fa(i["!ref"]);h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),s==-1&&(s=m.e.r+1,h.e.r=s+t.length-1+n)}else s==-1&&(s=0,h.e.r=t.length-1+n);var x=a.header||[],p=0;t.forEach(function(v,b){Gn(v).forEach(function(k){(p=x.indexOf(k))==-1&&(x[p=x.length]=k);var N=v[k],_="z",T="",P=br({c:o+p,r:s+b+n});d=L1(i,P),N&&typeof N=="object"&&!(N instanceof Date)?i[P]=N:(typeof N=="number"?_="n":typeof N=="boolean"?_="b":typeof N=="string"?_="s":N instanceof Date?(_="d",a.cellDates||(_="n",N=Li(N)),T=a.dateNF||yr[14]):N===null&&a.nullError&&(_="e",N=0),d?(d.t=_,d.v=N,delete d.w,delete d.R,T&&(d.z=T)):i[P]=d={t:_,v:N},T&&(d.z=T))})}),h.e.c=Math.max(h.e.c,o+x.length-1);var y=ii(s);if(n)for(p=0;p<x.length;++p)i[Pn(p+o)+y]={t:"s",v:x[p]};return i["!ref"]=Mr(h),i}function c3e(e,t){return Y$(null,e,t)}function L1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var a=Dn(t);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?L1(e,br(t)):L1(e,br({r:t,c:r||0}))}function u3e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function yA(){return{SheetNames:[],Sheets:{}}}function bA(e,t,r,a){var n=1;if(!r)for(;n<=65535&&e.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);n=i&&+i[2]||0;var s=i&&i[1]||r;for(++n;n<=65535&&e.SheetNames.indexOf(r=s+n)!=-1;++n);}if(P$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function d3e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=u3e(e,t);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[a].Hidden=r}function f3e(e,t){return e.z=t,e}function X$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function h3e(e,t,r){return X$(e,"#"+t,r)}function m3e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function p3e(e,t,r,a){for(var n=typeof t!="string"?t:fa(t),i=typeof t=="string"?t:Mr(t),s=n.s.r;s<=n.e.r;++s)for(var o=n.s.c;o<=n.e.c;++o){var c=L1(e,s,o);c.t="n",c.F=i,delete c.v,s==n.s.r&&o==n.s.c&&(c.f=r,a&&(c.D=!0))}return e}var qr={encode_col:Pn,encode_row:ii,encode_cell:br,encode_range:Mr,decode_col:Yj,decode_row:Gj,split_cell:jxe,decode_cell:Dn,decode_range:Do,format_cell:W0,sheet_add_aoa:_q,sheet_add_json:Y$,sheet_add_dom:U$,aoa_to_sheet:Dg,json_to_sheet:c3e,table_to_sheet:z$,table_to_book:k_e,sheet_to_csv:vA,sheet_to_txt:G$,sheet_to_json:R2,sheet_to_html:B$,sheet_to_formulae:l3e,sheet_to_row_object_array:R2,sheet_get_cell:L1,book_new:yA,book_append_sheet:bA,book_set_sheet_visibility:d3e,cell_set_number_format:f3e,cell_set_hyperlink:X$,cell_set_internal_link:h3e,cell_add_comment:m3e,sheet_set_array_formula:p3e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const g3e=(e,t,r="inventory-export.xlsx")=>{const a=e.map((s,o)=>{var c;return{STT:o+1,"Tn sn phm":s.name,SKU:s.sku,"Danh mc":s.category||"","Tn kho":s.stock[t]||0,"Gi bn l":s.retailPrice[t]||0,"Gi bn s":((c=s.wholesalePrice)==null?void 0:c[t])||0,"Gi tr tn":(s.stock[t]||0)*(s.retailPrice[t]||0),"M t":s.description||""}}),n=qr.json_to_sheet(a);n["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:20},{wch:10},{wch:15},{wch:15},{wch:15},{wch:40}];const i=qr.book_new();qr.book_append_sheet(i,n,"Tn kho"),pm(i,r)},x3e=(e="inventory-template.xlsx")=>{const t=[{"Tn sn phm":"VD: Nht Motul 7100 10W40",SKU:"MOTUL-7100","Danh mc":"Nht ng c","S lng nhp":50,"Gi bn l":18e4,"Gi bn s":15e4,"M t":"Nht cao cp cho xe cn tay"}],r=qr.json_to_sheet(t);r["!cols"]=[{wch:30},{wch:15},{wch:20},{wch:15},{wch:15},{wch:15},{wch:40}];const a=qr.book_new();qr.book_append_sheet(a,r,"Template"),pm(a,e)},v3e=(e,t)=>new Promise((r,a)=>{const n=new FileReader;n.onload=i=>{var s;try{const o=(s=i.target)==null?void 0:s.result,c=US(o,{type:"binary"}),d=c.SheetNames[0],h=c.Sheets[d],x=qr.sheet_to_json(h).map(p=>{const y=p["Tn sn phm"]||p["Ten san pham"]||p.name||"",v=p.SKU||p.sku||"",b=p["Danh mc"]||p["Danh muc"]||p.category||void 0,k=parseInt(p["S lng nhp"]||p["So luong nhap"]||p.quantity||"0")||0,N=parseFloat(p["Gi bn l"]||p["Gia ban le"]||p.retailPrice||"0")||0,_=parseFloat(p["Gi bn s"]||p["Gia ban si"]||p.wholesalePrice||"0")||0,T=p["M t"]||p["Mo ta"]||p.description||void 0;if(!y||!v)throw new Error("Dng thiu thng tin bt buc: Tn sn phm hoc SKU");return{name:y,sku:v,category:b,quantity:k,retailPrice:N,wholesalePrice:_,description:T}});r(x)}catch(o){a(o)}},n.onerror=()=>{a(new Error("Li c file"))},n.readAsBinaryString(e)}),Q$=()=>{const[e,t]=j.useState({isOpen:!1,title:"",message:"",confirmText:"Xc nhn",cancelText:"Hy",confirmColor:"blue",resolve:null}),r=j.useCallback(i=>new Promise(s=>{t({isOpen:!0,...i,resolve:s})}),[]),a=j.useCallback(()=>{var i;(i=e.resolve)==null||i.call(e,!0),t(s=>({...s,isOpen:!1,resolve:null}))},[e.resolve]),n=j.useCallback(()=>{var i;(i=e.resolve)==null||i.call(e,!1),t(s=>({...s,isOpen:!1,resolve:null}))},[e.resolve]);return{confirm:r,confirmState:e,handleConfirm:a,handleCancel:n}},J$=({isOpen:e,title:t,message:r,confirmText:a="Xc nhn",cancelText:n="Hy",confirmColor:i="blue",onConfirm:s,onCancel:o})=>{if(!e)return null;const c={red:"bg-red-600 hover:bg-red-700",blue:"bg-blue-600 hover:bg-blue-700",green:"bg-emerald-600 hover:bg-emerald-700"};return u.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100] p-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-2xl max-w-md w-full animate-scaleIn",children:[u.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i==="red"?"bg-red-100 dark:bg-red-900/30":i==="green"?"bg-emerald-100 dark:bg-emerald-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:i==="red"?u.jsx("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):i==="green"?u.jsx("svg",{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):u.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:t})]})}),u.jsx("div",{className:"p-6",children:u.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:r})}),u.jsxs("div",{className:"flex justify-end gap-3 p-6 bg-slate-50 dark:bg-slate-900/50 rounded-b-lg",children:[u.jsx("button",{onClick:o,className:"px-4 py-2.5 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors font-medium",children:n}),u.jsx("button",{onClick:s,className:`px-4 py-2.5 text-white rounded-lg transition-colors font-medium ${c[i]}`,children:a})]})]})})},y3e={async getParts(){const{data:e,error:t}=await Pa.from("parts").select("*").order("name");if(t)throw t;return e}},Z$=()=>pg({queryKey:["parts"],queryFn:y3e.getParts,staleTime:300*1e3,gcTime:600*1e3}),Yw="categories";async function b3e(){try{const{data:e,error:t}=await Pa.from(Yw).select("*").order("name");return t?Ar({code:"supabase",message:"Khng th ti danh mc",cause:t}):Is(e||[])}catch(e){return Ar({code:"network",message:"Li kt ni ti my ch",cause:e})}}async function w3e(e){try{if(!e.name)return Ar({code:"validation",message:"Thiu tn danh mc"});const t={name:e.name,icon:e.icon,color:e.color},{data:r,error:a}=await Pa.from(Yw).insert([t]).select().single();return a||!r?Ar({code:"supabase",message:"To danh mc tht bi",cause:a}):Is(r)}catch(t){return Ar({code:"network",message:"Li kt ni khi to danh mc",cause:t})}}async function k3e(e,t){try{const{data:r,error:a}=await Pa.from(Yw).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return a||!r?Ar({code:"supabase",message:"Cp nht danh mc tht bi",cause:a}):Is(r)}catch(r){return Ar({code:"network",message:"Li kt ni khi cp nht danh mc",cause:r})}}async function _3e(e){try{const{error:t}=await Pa.from(Yw).delete().eq("id",e);return t?Ar({code:"supabase",message:"Xa danh mc tht bi",cause:t}):Is({id:e})}catch(t){return Ar({code:"network",message:"Li kt ni khi xa danh mc",cause:t})}}const S3e=()=>pg({queryKey:["categories"],queryFn:async()=>{const e=await b3e();if(!e.ok)throw e.error;return e.data}}),N3e=()=>{const e=so();return Du({mutationFn:async t=>{const r=await w3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Nt.success(" to danh mc")},onError:t=>Nt.error((t==null?void 0:t.message)||"Li to danh mc")})},j3e=()=>{const e=so();return Du({mutationFn:async({id:t,updates:r})=>{const a=await k3e(t,r);if(!a.ok)throw a.error;return a.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Nt.success(" cp nht danh mc")},onError:t=>Nt.error((t==null?void 0:t.message)||"Li cp nht danh mc")})},A3e=()=>{const e=so();return Du({mutationFn:async({id:t})=>{const r=await _3e(t);if(!r.ok)throw r.error;return r.data},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),Nt.success(" xa danh mc")},onError:t=>Nt.error((t==null?void 0:t.message)||"Li xa danh mc")})},eH=()=>{const{data:e=[]}=Z$(),{data:t=[],isLoading:r,isError:a,refetch:n}=S3e(),i=N3e(),s=j3e(),o=A3e(),[c,d]=j.useState(!1),[h,m]=j.useState(null),[x,p]=j.useState(""),[y,v]=j.useState("#3b82f6"),[b,k]=j.useState("package"),{confirm:N,confirmState:_,handleConfirm:T,handleCancel:P}=Q$(),O=j.useMemo(()=>t.map(H=>({id:H.id,name:H.name,icon:H.icon||"package",color:H.color||"#3b82f6",count:e.filter(Y=>Y.category===H.name).length})),[t,e]),L=async()=>{if(!x.trim()){Nt.warning("Vui lng nhp tn danh mc");return}if(O.some(Y=>Y.name.toLowerCase()===x.toLowerCase())){Nt.warning("Danh mc ny  tn ti");return}try{await i.mutateAsync({name:x,icon:b,color:y}),p(""),d(!1)}catch(Y){Nt.error(Co(Y))}},U=async(H,Y)=>{if(!Y.trim()){Nt.warning("Vui lng nhp tn danh mc mi");return}const ne=t.find(X=>X.name===H);if(!ne){Nt.error("Khng tm thy danh mc  i tn");return}try{await s.mutateAsync({id:ne.id,updates:{name:Y}}),m(null)}catch(X){Nt.error(Co(X))}},I=async H=>{const Y=e.filter(ae=>ae.category===H).length;if(!await N({title:"Xc nhn xa danh mc",message:`Bn c chc chn mun xa danh mc "${H}"? ${Y} sn phm trong danh mc ny s khng cn danh mc.`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"}))return;const X=t.find(ae=>ae.name===H);if(!X){Nt.error("Khng tm thy danh mc");return}try{await o.mutateAsync({id:X.id})}catch(ae){Nt.error(Co(ae))}},K=[{value:"#3b82f6",label:"Xanh dng"},{value:"#10b981",label:"Xanh l"},{value:"#f59e0b",label:"Vng"},{value:"#ef4444",label:""},{value:"#8b5cf6",label:"Tm"},{value:"#ec4899",label:"Hng"},{value:"#06b6d4",label:"Cyan"},{value:"#f97316",label:"Cam"}],D={package:u.jsx(Hl,{className:"w-5 h-5"}),wrench:u.jsx(EN,{className:"w-5 h-5"}),settings:u.jsx(AN,{className:"w-5 h-5"}),hammer:u.jsx(cJ,{className:"w-5 h-5"}),cog:u.jsx(iJ,{className:"w-5 h-5"}),bolt:u.jsx(rJ,{className:"w-5 h-5"}),bike:u.jsx(PR,{className:"w-5 h-5"}),car:u.jsx(aJ,{className:"w-5 h-5"}),disc:u.jsx(oJ,{className:"w-5 h-5"}),battery:u.jsx(tJ,{className:"w-5 h-5"}),lightbulb:u.jsx(fJ,{className:"w-5 h-5"}),palette:u.jsx(RR,{className:"w-5 h-5"})},F=Object.keys(D);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-[#0f172a]",children:[u.jsx("div",{className:"bg-white dark:bg-[#1e293b] shadow-sm border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Danh mc sn phm"}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Qun l cc danh mc phn loi sn phm"})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:[u.jsx(Xh,{className:"w-5 h-5"}),"Thm danh mc"]})]})}),r&&u.jsx("div",{className:"p-6 text-sm text-slate-500 dark:text-slate-400",children:"ang ti danh mc..."}),a&&u.jsxs("div",{className:"p-6 text-sm text-red-500",children:["Li ti d liu."," ",u.jsx("button",{onClick:()=>n(),className:"underline",children:"Th li"})]}),u.jsx("div",{className:"px-6 py-4 bg-white dark:bg-[#1e293b] border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Tng danh mc"}),u.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:O.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-4 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Tng sn phm"}),u.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100 mt-1",children:e.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-4 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:"Cha phn loi"}),u.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100 mt-1",children:e.filter(H=>!H.category).length})]})]})}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[O.map(H=>u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-5 hover:shadow-md transition-shadow",children:[u.jsx("div",{className:"flex items-start justify-between mb-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"text-3xl",children:H.icon}),u.jsxs("div",{children:[h===H.name?u.jsx("input",{type:"text",defaultValue:H.name,onKeyDown:Y=>{Y.key==="Enter"?U(H.name,Y.currentTarget.value):Y.key==="Escape"&&m(null)},onBlur:Y=>U(H.name,Y.target.value),autoFocus:!0,className:"px-2 py-1 border border-blue-500 rounded text-sm font-semibold text-slate-900 dark:text-slate-100 dark:bg-[#0f172a]"}):u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:H.name}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-0.5",children:[H.count," sn phm"]})]})]})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{onClick:()=>m(H.name),className:"flex-1 px-3 py-1.5 text-sm border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"i tn"}),u.jsx("button",{onClick:()=>I(H.name),className:"flex-1 px-3 py-1.5 text-sm border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 rounded hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Xa"})]})]},H.name)),O.length===0&&u.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-center",children:[u.jsx("div",{className:"mb-4 text-slate-400 dark:text-slate-500",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-16 h-16",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9-4.5 9 4.5v9l-9 4.5-9-4.5v-9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9 4.5 9-4.5"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v9"})]})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Cha c danh mc no"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Thm danh mc u tin  phn loi sn phm"}),u.jsx("button",{onClick:()=>d(!0),className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",children:"Thm danh mc"})]})]})}),c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Thm danh mc mi"}),u.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn danh mc"}),u.jsx("input",{type:"text",value:x,onChange:H=>p(H.target.value),placeholder:"VD: Ph tng xe my",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Biu tng"}),u.jsx("div",{className:"grid grid-cols-6 gap-2",children:F.map(H=>u.jsx("button",{onClick:()=>k(H),className:`p-3 border rounded-lg transition-colors flex items-center justify-center ${b===H?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:D[H]},H))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mu sc"}),u.jsx("div",{className:"grid grid-cols-4 gap-2",children:K.map(H=>u.jsx("button",{onClick:()=>v(H.value),className:`p-3 rounded-lg border-2 transition-all ${y===H.value?"border-slate-900 dark:border-slate-100 scale-110":"border-transparent"}`,style:{backgroundColor:H.value},title:H.label,children:u.jsx("div",{className:"w-full h-6"})},H.value))})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Hy"}),u.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Thm danh mc"})]})]})}),u.jsx(J$,{isOpen:_.isOpen,title:_.title,message:_.message,confirmText:_.confirmText,cancelText:_.cancelText,confirmColor:_.confirmColor,onConfirm:T,onCancel:P})]})},tH=()=>{const{parts:e,sales:t,workOrders:r,customers:a,currentBranchId:n}=yi(),[i,s]=j.useState(""),[o,c]=j.useState("all"),[d,h]=j.useState(null),[m,x]=j.useState("all"),[p,y]=j.useState(null),v=j.useMemo(()=>{const _=new Set;return e.forEach(T=>{T.category&&_.add(T.category)}),Array.from(_).sort()},[e]),b=j.useMemo(()=>e.filter(_=>{var P,O;if(i){const L=i.toLowerCase(),U=_.name.toLowerCase().includes(L),I=(P=_.sku)==null?void 0:P.toLowerCase().includes(L),K=(O=_.description)==null?void 0:O.toLowerCase().includes(L);if(!U&&!I&&!K)return!1}if(o!=="all"&&_.category!==o)return!1;if(d){const L=_.retailPrice[n]||0;if(L<d.min||L>d.max)return!1}const T=_.stock[n]||0;return!(m==="in-stock"&&T<=0||m==="low-stock"&&T>10||m==="out-of-stock"&&T>0)}),[e,i,o,d,m,n]),N=p?(_=>{const T=e.find(I=>I.id===_);if(!T)return null;const P=t.filter(I=>I.items.some(K=>K.partId===_)),O=r.filter(I=>{var K;return(K=I.partsUsed)==null?void 0:K.some(D=>D.partId===_)}),L=P.reduce((I,K)=>{const D=K.items.find(F=>F.partId===_);return I+((D==null?void 0:D.quantity)||0)},0),U=P.reduce((I,K)=>{const D=K.items.find(F=>F.partId===_);return I+((D==null?void 0:D.sellingPrice)||0)*((D==null?void 0:D.quantity)||0)},0);return{part:T,salesCount:P.length,totalSold:L,revenue:U,lastSold:P.length>0?P.sort((I,K)=>new Date(K.date).getTime()-new Date(I.date).getTime())[0].date:null,workOrdersCount:O.length}})(p):null;return u.jsxs("div",{className:"h-full flex bg-slate-50 dark:bg-[#0f172a]",children:[u.jsxs("div",{className:"w-96 bg-white dark:bg-[#1e293b] border-r border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Tra cu sn phm"}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tm kim v xem chi tit sn phm"})]}),u.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),placeholder:"Tm theo tn, SKU, m t...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 placeholder-slate-400"})}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Danh mc"}),u.jsxs("select",{value:o,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100",children:[u.jsx("option",{value:"all",children:"Tt c danh mc"}),v.map(_=>u.jsx("option",{value:_,children:_},_))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn kho"}),u.jsx("div",{className:"space-y-2",children:[{value:"all",label:"Tt c"},{value:"in-stock",label:"Cn hng"},{value:"low-stock",label:"Sp ht (10)"},{value:"out-of-stock",label:"Ht hng"}].map(_=>u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"stock",value:_.value,checked:m===_.value,onChange:T=>x(T.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:_.label})]},_.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Khong gi"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",placeholder:"T",onChange:_=>h(T=>({min:Number(_.target.value)||0,max:(T==null?void 0:T.max)||999999999})),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 text-sm"}),u.jsx("input",{type:"number",placeholder:"n",onChange:_=>h(T=>({min:(T==null?void 0:T.min)||0,max:Number(_.target.value)||999999999})),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-slate-100 text-sm"})]}),d&&u.jsx("button",{onClick:()=>h(null),className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Xa b lc gi"})]})]}),u.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Tm thy"," ",u.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:b.length})," ","sn phm"]})})]})]}),u.jsx("div",{className:"flex-1 flex flex-col",children:u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(_=>{const T=_.stock[n]||0,P=_.retailPrice[n]||0;return u.jsx("div",{onClick:()=>y(_.id),className:`bg-white dark:bg-[#1e293b] rounded-lg shadow-sm border-2 transition-all cursor-pointer ${p===_.id?"border-blue-500 shadow-md":"border-slate-200 dark:border-slate-700 hover:shadow-md"}`,children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:_.name}),T<=0?u.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs rounded",children:"Ht hng"}):T<=10?u.jsx("span",{className:"px-2 py-0.5 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs rounded",children:"Sp ht"}):u.jsx("span",{className:"px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 text-xs rounded",children:"Cn hng"})]}),u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:["SKU: ",_.sku]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tn kho"}),u.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:T})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gi bn"}),u.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Be(P)})]})]}),_.category&&u.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:u.jsxs("span",{className:"text-xs text-slate-600 dark:text-slate-400 flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9-4.5 9 4.5v9l-9 4.5-9-4.5v-9z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5l9 4.5 9-4.5"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v9"})]}),_.category]})})]})},_.id)})}),b.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[u.jsx("div",{className:"mb-4 text-slate-400 dark:text-slate-500",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-16 h-16",children:[u.jsx("circle",{cx:"11",cy:"11",r:"7"}),u.jsx("path",{d:"m21 21-4.35-4.35"})]})}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Khng tm thy sn phm"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Th thay i b lc hoc t kha tm kim"})]})]})}),N&&u.jsxs("div",{className:"w-96 bg-white dark:bg-[#1e293b] border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chi tit sn phm"}),u.jsx("button",{onClick:()=>y(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:N.part.name}),u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["SKU: ",N.part.sku]})]}),N.part.description&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"M t"}),u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:N.part.description})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Tn kho"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:N.part.stock[n]||0})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Gi bn l"}),u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Be(N.part.retailPrice[n]||0)})]})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Thng k bn hng"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-4 rounded-lg",children:[u.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1",children:"Tng  bn"}),u.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:N.totalSold})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-4 rounded-lg",children:[u.jsx("div",{className:"text-sm text-emerald-600 dark:text-emerald-400 mb-1",children:"Doanh thu"}),u.jsx("div",{className:"text-2xl font-bold text-emerald-900 dark:text-emerald-100",children:Be(N.revenue)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-4 rounded-lg",children:[u.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400 mb-1",children:"S n hng"}),u.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:N.salesCount})]}),N.lastSold&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Bn gn nht"}),u.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300",children:Qa(N.lastSold)})]}),N.workOrdersCount>0&&u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Lnh sa cha"}),u.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:N.workOrdersCount})]})]})]})]})]})},T3e=({isOpen:e,onClose:t,onSave:r})=>{const[a,n]=j.useState(""),[i,s]=j.useState(""),[o,c]=j.useState(""),[d,h]=j.useState("1"),[m,x]=j.useState("0"),[p,y]=j.useState("0"),[v,b]=j.useState("1"),[k,N]=j.useState("thng"),_=()=>{if(!a.trim()){Nt.warning("Vui lng nhp tn sn phm");return}r({name:a.trim(),description:i.trim(),category:o||"Cha phn loi",quantity:parseInt(d)||1,importPrice:parseFloat(m)||0,retailPrice:parseFloat(p)||0,warranty:parseInt(v)||0,warrantyUnit:k}),n(""),s(""),c(""),h("1"),x("0"),y("0"),b("1"),N("thng")};return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Thm sn phm mi"}),u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn sn phm ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:a,onChange:T=>n(T.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"Nhp tn sn phm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M t"}),u.jsx("textarea",{value:i,onChange:T=>s(T.target.value),rows:3,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"M t sn phm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Danh mc sn phm"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"",children:"-- Chn hoc to mi --"}),u.jsx("option",{value:"Ph tng",children:"Ph tng"}),u.jsx("option",{value:"Vng bi",children:"Vng bi"}),u.jsx("option",{value:"Nht",children:"Nht"}),u.jsx("option",{value:"n",children:"n"}),u.jsx("option",{value:"Lp xe",children:"Lp xe"})]}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600",children:u.jsx("span",{className:"text-xl text-slate-600 dark:text-slate-300",children:"+"})})]})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Thng tin nhp kho:"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"S lng:"}),u.jsx("input",{type:"number",value:d,onChange:T=>h(T.target.value),min:"1",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Gi nhp:"}),u.jsx("input",{type:"number",value:m,onChange:T=>x(T.target.value),min:"0",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Gi bn l:"}),u.jsx("input",{type:"number",value:p,onChange:T=>y(T.target.value),min:"0",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bo hnh"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",value:v,onChange:T=>b(T.target.value),min:"0",className:"w-24 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u.jsxs("select",{value:k,onChange:T=>N(T.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"thng",children:"thng"}),u.jsx("option",{value:"nm",children:"nm"}),u.jsx("option",{value:"ngy",children:"ngy"})]})]})]})]})}),u.jsx("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700",children:u.jsx("button",{onClick:_,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg font-medium",children:"Lu v Thm vo gi hng"})})]})}):null},E3e=({isOpen:e,onClose:t,parts:r,currentBranchId:a,onSave:n})=>{const[i,s]=j.useState(""),[o,c]=j.useState(""),[d,h]=j.useState(!1),[m,x]=j.useState([]),[p,y]=j.useState(null),[v,b]=j.useState(null),[k,N]=j.useState(0),[_,T]=j.useState(0),[P,O]=j.useState("amount"),[L,U]=j.useState(0),I=j.useMemo(()=>{const ue=i.toLowerCase();return i?r.filter(se=>se.name.toLowerCase().includes(ue)||se.sku.toLowerCase().includes(ue)):r},[r,i]),K=ue=>{const se=m.find(be=>be.partId===ue.id);x(se?be=>be.map(J=>J.partId===ue.id?{...J,quantity:J.quantity+1}:J):[...m,{partId:ue.id,partName:ue.name,sku:ue.sku,quantity:1,importPrice:0,sellingPrice:ue.retailPrice[a]||0}]),s("")},D=(ue,se,be)=>{x(J=>J.map(M=>M.partId===ue?{...M,[se]:be}:M))},F=ue=>{x(se=>se.filter(be=>be.partId!==ue))},H=j.useMemo(()=>m.reduce((ue,se)=>ue+se.importPrice*se.quantity,0),[m]),Y=j.useMemo(()=>Math.max(0,H-_),[H,_]),{profile:ne}=G0(),X=()=>{if(!Rz(ne==null?void 0:ne.role,"part.update_price")){Nt.error("Bn khng c quyn cp nht gi");return}if(m.length===0){Nt.warning("Vui lng chn sn phm nhp kho");return}n(m,o,Y,""),x([]),c(""),s(""),T(0),U(0),O("amount")},ae=ue=>{const se={partId:`temp-${Date.now()}`,partName:ue.name,sku:`SKU-${Date.now()}`,quantity:ue.quantity,importPrice:ue.importPrice,sellingPrice:ue.retailPrice};x([...m,se]),h(!1)};return e?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-hidden flex",children:[u.jsxs("div",{className:"flex-1 flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 text-2xl",children:""}),u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Chn sn phm nhp kho"})]}),u.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:[u.jsx("span",{className:"text-xl",children:"+"}),u.jsx("span",{children:"Thm sn phm mi"})]})]}),u.jsx("div",{className:"p-6 bg-white dark:bg-slate-800",children:u.jsx("input",{type:"text",placeholder:"Tm theo tn sn phm, SKU...",value:i,onChange:ue=>s(ue.target.value),className:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:I.length===0?u.jsx("div",{className:"text-center text-slate-500 py-8",children:"Khng tm thy sn phm no"}):u.jsx("div",{className:"space-y-2",children:I.map(ue=>u.jsxs("div",{onClick:()=>K(ue),className:"p-4 bg-white dark:bg-slate-800 rounded-lg hover:bg-blue-50 dark:hover:bg-slate-700 cursor-pointer border border-slate-200 dark:border-slate-600 transition-colors",children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:ue.name}),u.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["SKU: ",ue.sku]})]},ue.id))})})]}),u.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-800 border-l border-slate-200 dark:border-slate-700 flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nh cung cp (NCC):"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",placeholder:"Tm nh cung cp",value:o,onChange:ue=>c(ue.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u.jsx("button",{className:"w-10 h-10 flex items-center justify-center bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600",children:u.jsx("span",{className:"text-xl text-slate-600 dark:text-slate-300",children:"+"})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Gi hng nhp kho"}),u.jsxs("span",{className:"text-sm text-slate-500",children:["(",m.length," sn phm)"]})]}),m.length===0?u.jsxs("div",{className:"text-center text-slate-400 py-12",children:[u.jsx("div",{className:"text-4xl mb-2",children:u.jsx(Hl,{className:"w-10 h-10 mx-auto text-slate-300"})}),u.jsx("div",{className:"text-sm",children:"Gi hng trng"}),u.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Chn sn phm  thm vo gi"})]}):u.jsx("div",{className:"space-y-3",children:m.map(ue=>u.jsxs("div",{className:"border border-slate-200 dark:border-slate-600 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center flex-shrink-0",children:u.jsx(Hl,{className:"w-6 h-6 text-slate-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:ue.partName}),u.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["SKU: ",ue.sku]})]}),u.jsx("button",{onClick:()=>F(ue.partId),className:"w-8 h-8 flex items-center justify-center bg-red-100 dark:bg-red-900/20 rounded-full text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30 flex-shrink-0",title:"Xa",children:""})]}),u.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"S lng:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>D(ue.partId,"quantity",Math.max(1,ue.quantity-1)),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"-"}),u.jsx("span",{className:"w-8 text-center font-medium text-sm text-slate-900 dark:text-slate-100",children:ue.quantity}),u.jsx("button",{onClick:()=>D(ue.partId,"quantity",ue.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-slate-100 dark:bg-slate-600 rounded-full text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-500",children:"+"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi nhp:"}),u.jsx("input",{type:"number",value:ue.importPrice,onChange:se=>D(ue.partId,"importPrice",parseFloat(se.target.value)||0),className:"w-32 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"Gi bn:"}),u.jsx("input",{type:"number",value:ue.sellingPrice,onChange:se=>D(ue.partId,"sellingPrice",parseFloat(se.target.value)||0),className:"w-32 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm text-right focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Thnh tin:"}),u.jsx("span",{className:"font-bold text-sm text-blue-600 dark:text-blue-400",children:Be(ue.importPrice*ue.quantity)})]})]})]},ue.partId))})]}),u.jsxs("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700 space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[u.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Tng tin hng"}),u.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:Be(Y)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gim gi:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:P==="amount"?_||"":L,onChange:ue=>{const se=Number(ue.target.value)||0;if(P==="amount")se>H?(Nt.warning("Gim gi khng c ln hn tng tin!"),T(H)):T(se);else{const be=Math.min(se,100);U(be),T(Math.round(H*be/100))}},placeholder:"0",className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",min:"0",max:P==="amount"?H:100}),u.jsxs("select",{value:P,onChange:ue=>{const se=ue.target.value;O(se),T(0),U(0)},className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{value:"amount",children:""}),u.jsx("option",{value:"percent",children:"%"})]})]})]}),P==="percent"&&u.jsx("div",{className:"flex gap-1 justify-end",children:[5,10,15,20].map(ue=>u.jsxs("button",{onClick:()=>{U(ue),T(Math.round(H*ue/100))},className:"px-2 py-1 text-xs bg-slate-100 dark:bg-slate-700 hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-700 dark:text-slate-300 rounded transition-colors",children:[ue,"%"]},ue))}),P==="percent"&&L>0&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-right",children:["= ",Be(_)]})]}),u.jsxs("div",{className:"flex justify-between items-center text-xl font-bold pt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("span",{className:"text-slate-900 dark:text-slate-100",children:"Khch phi tr"}),u.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:Be(Y)})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:["Phng thc thanh ton ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:()=>y("cash"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${p==="cash"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),u.jsx("span",{className:"font-medium",children:"Tin mt"})]}),u.jsxs("button",{onClick:()=>y("bank"),className:`flex items-center justify-center gap-2 px-4 py-3 border-2 rounded-lg transition-all ${p==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-6 h-6",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("path",{d:"M2 10h20"}),u.jsx("path",{d:"M6 14h4"})]}),u.jsx("span",{className:"font-medium",children:"Chuyn khon"})]})]})]}),p&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-3",children:"Hnh thc"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsx("button",{onClick:()=>{b("full"),N(0)},className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${v==="full"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Thanh ton "}),u.jsx("button",{onClick:()=>b("partial"),className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${v==="partial"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Thanh ton 1 phn"}),u.jsx("button",{onClick:()=>{b("note"),N(0)},className:`px-3 py-2.5 border-2 rounded-lg text-sm font-medium transition-all ${v==="note"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:border-slate-400"}`,children:"Ghi n"})]})]}),v==="partial"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin khch tr"}),u.jsx("input",{type:"number",value:k,onChange:ue=>N(parseFloat(ue.target.value)||0),className:"w-full px-3 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-right text-lg font-medium",placeholder:"0"}),u.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Cn li:"," ",Be(Math.max(0,Y-k))," "]})]}),p&&v&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hch ton:"}),u.jsxs("select",{className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{children:"Mua hng/nhp kho"}),u.jsx("option",{children:"Nhp tr hng"}),u.jsx("option",{children:"Khc"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{onClick:t,className:"flex-1 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-900 dark:text-slate-100 px-4 py-3 rounded-lg font-medium transition-colors",children:"LU NHP"}),u.jsx("button",{onClick:()=>{if(!p){Nt.warning("Vui lng chn phng thc thanh ton");return}if(!v){Nt.warning("Vui lng chn hnh thc thanh ton");return}if(v==="partial"&&k<=0){Nt.warning("Vui lng nhp s tin khch tr");return}X()},disabled:!p||!v||v==="partial"&&k<=0,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 rounded-lg font-medium transition-colors disabled:bg-slate-300 disabled:text-slate-500 disabled:cursor-not-allowed dark:disabled:bg-slate-600 dark:disabled:text-slate-400",children:"NHP KHO"})]})]})]})]})}),u.jsx(T3e,{isOpen:d,onClose:()=>h(!1),onSave:ae})]}):null},C3e=({transactions:e})=>{const[t,r]=j.useState("7days"),[a,n]=j.useState(Qa(new Date,!0)),[i,s]=j.useState(Qa(new Date,!0)),[o,c]=j.useState(""),d=j.useMemo(()=>{let m=[...e];const x=new Date;switch(t){case"7days":const p=new Date(x.getTime()-6048e5);m=m.filter(b=>new Date(b.date)>=p);break;case"30days":const y=new Date(x.getTime()-720*60*60*1e3);m=m.filter(b=>new Date(b.date)>=y);break;case"thisMonth":const v=new Date(x.getFullYear(),x.getMonth(),1);m=m.filter(b=>new Date(b.date)>=v);break;case"custom":m=m.filter(b=>{const k=new Date(b.date);return k>=new Date(a)&&k<=new Date(i)});break}if(o){const p=o.toLowerCase();m=m.filter(y=>y.partName.toLowerCase().includes(p)||y.notes&&y.notes.toLowerCase().includes(p))}return m.sort((p,y)=>new Date(y.date).getTime()-new Date(p.date).getTime())},[e,t,a,i,o]),h=j.useMemo(()=>d.reduce((m,x)=>m+x.totalPrice,0),[d]);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Lch s nhp kho"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"7days",label:"7 ngy qua"},{key:"30days",label:"30 ngy qua"},{key:"thisMonth",label:"Thng ny"},{key:"custom",label:"Ty chn"}].map(m=>u.jsx("button",{onClick:()=>r(m.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t===m.key?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:m.label},m.key))}),t==="custom"&&u.jsxs("div",{className:"flex gap-4 mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"T ngy"}),u.jsx("input",{type:"date",value:a,onChange:m=>n(m.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"n ngy"}),u.jsx("input",{type:"date",value:i,onChange:m=>s(m.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]}),u.jsx("input",{type:"text",placeholder:"Nh cung cp, SKU, tn ph tng...",value:o,onChange:m=>c(m.target.value),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Tng s tin:"," ",u.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:d.length})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tng gi tr"}),u.jsx("div",{className:"text-lg font-bold text-blue-600",children:Be(h)})]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-100 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ngy"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Nh cung cp"}),u.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ni dung"}),u.jsx("th",{className:"text-right px-6 py-3 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"S tin"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:d.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"Khng c d liu"})}):d.map(m=>{var x;return u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:Qa(new Date(m.date),!1)}),u.jsx("div",{className:"text-xs text-slate-500",children:new Date(m.date).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:m.notes&&m.notes.includes("NCC:")&&((x=m.notes.split("NCC:")[1])==null?void 0:x.trim())||"Cha r"})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.partName}),u.jsxs("div",{className:"text-xs text-slate-500",children:["SL: ",m.quantity]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:Be(m.totalPrice)})})]},m.id)})})]})}),u.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:u.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Hin th ",d.length," kt qu"]})})]})},O3e=()=>{const{currentBranchId:e,inventoryTransactions:t}=yi(),{mutateAsync:r}=Uz(),[a,n]=j.useState("stock"),[i,s]=j.useState(!1),[o,c]=j.useState(""),[d,h]=j.useState("all"),[m,x]=j.useState([]),[p,y]=j.useState(null),[v,b]=j.useState(!1),{confirm:k,confirmState:N,handleConfirm:_,handleCancel:T}=Q$(),{data:P=[],isLoading:O,isError:L,refetch:U}=Oj(),I=j.useMemo(()=>{const z=o.toLowerCase();let q=P.filter(G=>G.name.toLowerCase().includes(z)||G.sku.toLowerCase().includes(z));return d!=="all"&&(q=q.filter(G=>G.category===d)),q},[P,o,d]),K=j.useMemo(()=>P.reduce((z,q)=>{const G=q.stock[e]||0,re=q.retailPrice[e]||0;return z+G*re},0),[P,e]),D=j.useMemo(()=>P.reduce((z,q)=>z+(q.stock[e]||0),0),[P,e]),F=Iz(),H=nge(),Y=ige(),{profile:ne}=G0(),X=j.useCallback((z,q,G,re)=>{z.forEach(he=>{const je=P.find(oe=>oe.id===he.partId);if(je){const oe=je.stock[e]||0;F.mutate({id:he.partId,updates:{stock:{...je.stock,[e]:oe+he.quantity},retailPrice:{...je.retailPrice,[e]:he.sellingPrice}}}),r({type:"Nhp kho",partId:he.partId,partName:he.partName,quantity:he.quantity,date:new Date().toISOString(),unitPrice:he.importPrice,totalPrice:he.importPrice*he.quantity,branchId:e,notes:`NCC: ${q}`}),je.retailPrice[e]!==he.sellingPrice&&Au((ne==null?void 0:ne.id)||null,{action:"part.update_price",tableName:"parts",recordId:je.id,oldData:{retailPrice:je.retailPrice[e]},newData:{retailPrice:he.sellingPrice}})}}),s(!1),Nt.success("Nhp kho thnh cng!"),Au((ne==null?void 0:ne.id)||null,{action:"inventory.receipt",tableName:"inventory_transactions",oldData:null,newData:{supplier:q,items:z.map(he=>({partId:he.partId,quantity:he.quantity,importPrice:he.importPrice,sellingPrice:he.sellingPrice})),totalAmount:G}})},[P,e,F,r,ne==null?void 0:ne.id]),ae=z=>{x(z?I.map(q=>q.id):[])},ue=(z,q)=>{x(q?[...m,z]:m.filter(G=>G!==z))},se=async z=>{const q=P.find(re=>re.id===z);!q||!await k({title:"Xc nhn xa",message:`Bn c chc chn mun xa sn phm "${q.name}"?`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"})||(Y.mutate({id:z}),x(re=>re.filter(he=>he!==z)),Nt.success(` xa sn phm "${q.name}"`))},be=async()=>{if(m.length===0){Nt.warning("Vui lng chn t nht mt sn phm");return}await k({title:"Xc nhn xa",message:`Bn c chc chn mun xa ${m.length} sn phm  chn? Hnh ng ny khng th hon tc.`,confirmText:"Xa",cancelText:"Hy",confirmColor:"red"})&&(m.forEach(q=>Y.mutate({id:q})),x([]),Nt.success(` xa ${m.length} sn phm`))},J=()=>{try{const z=new Date,q=`ton-kho-${z.getDate()}-${z.getMonth()+1}-${z.getFullYear()}.xlsx`;g3e(P,e,q),Nt.success("Xut file Excel thnh cng!")}catch(z){console.error("Export error:",z),Nt.error("C li khi xut file Excel")}},M=()=>{try{x3e(),Nt.success("Ti template thnh cng! Vui lng in thng tin v import li.")}catch(z){console.error("Template download error:",z),Nt.error("C li khi ti template")}};return u.jsxs("div",{className:"h-full flex flex-col bg-secondary-bg",children:[u.jsx("div",{className:"bg-primary-bg border-b border-primary-border px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsx("div",{className:"flex gap-2",children:[{key:"stock",label:"Tn kho",icon:u.jsx(Hl,{className:"w-4 h-4"})},{key:"categories",label:"Danh mc",icon:u.jsx(MR,{className:"w-4 h-4"})},{key:"lookup",label:"Tra cu",icon:u.jsx(IR,{className:"w-4 h-4"})},{key:"history",label:"Lch s",icon:u.jsx(G1,{className:"w-4 h-4"})}].map(z=>u.jsx("button",{onClick:()=>n(z.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===z.key?"bg-blue-600 text-white":"text-secondary-text hover:bg-tertiary-bg"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[z.icon,z.label]})},z.key))}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:"+"}),u.jsx("span",{children:"To phiu nhp"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Chuyn kho"})]}),u.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Xut Excel"})]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Nhp CSV"})]})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a==="stock"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"bg-accent-blue-bg rounded-lg px-5 py-3 border border-accent-blue-border min-w-[140px]",children:[u.jsx("div",{className:"text-xs text-accent-blue-text mb-1",children:"Tng SL tn"}),u.jsx("div",{className:"text-xl font-bold text-primary-text",children:D})]}),u.jsxs("div",{className:"bg-accent-green-bg rounded-lg px-5 py-3 border border-accent-green-border min-w-[180px]",children:[u.jsx("div",{className:"text-xs text-accent-green-text mb-1",children:"Gi tr tn"}),u.jsx("div",{className:"text-xl font-bold text-accent-green-text",children:Be(K)})]})]}),u.jsxs("div",{className:"flex gap-3 flex-1",children:[u.jsx("input",{type:"text",placeholder:"Tm kim theo tn hoc SKU...",value:o,onChange:z=>c(z.target.value),className:"flex-1 px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-primary-text placeholder-tertiary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors"}),u.jsxs("select",{value:d,onChange:z=>h(z.target.value),className:"px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-secondary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors",children:[u.jsx("option",{value:"all",children:"Cn hng"}),u.jsx("option",{value:"lowStock",children:"Sp ht"}),u.jsx("option",{value:"outOfStock",children:"Ht hng"})]}),u.jsx("select",{className:"px-4 py-2.5 border border-secondary-border rounded-lg bg-primary-bg text-secondary-text focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-colors",children:u.jsx("option",{children:"Tt c danh mc"})})]})]}),u.jsxs("div",{className:"rounded-lg overflow-hidden border border-primary-border",children:[m.length>0&&u.jsxs("div",{className:"px-6 py-3 bg-blue-100 dark:bg-blue-900/30 border-b border-primary-border flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[" chn ",m.length," sn phm"]}),u.jsxs("button",{onClick:be,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xa  chn"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-tertiary-bg",children:u.jsxs("tr",{className:"border-b border-primary-border",children:[u.jsx("th",{className:"px-6 py-4 text-center w-12",children:u.jsx("input",{type:"checkbox",checked:m.length===I.length&&I.length>0,onChange:z=>ae(z.target.checked),className:"w-4 h-4 text-blue-600 rounded border-secondary-border focus:ring-blue-500"})}),u.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"STT"}),u.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Tn sn phm"}),u.jsx("th",{className:"text-left px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Danh mc"}),u.jsx("th",{className:"text-center px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Tn kho"}),u.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi bn"}),u.jsx("th",{className:"text-right px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Gi tr"}),u.jsx("th",{className:"text-center px-6 py-4 text-xs font-semibold text-secondary-text uppercase tracking-wider",children:"Thao tc"})]})}),u.jsx("tbody",{className:"bg-primary-bg divide-y divide-primary-border",children:I.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:8,className:"px-6 py-8 text-center text-tertiary-text",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("div",{className:"text-lg",children:"Khng c sn phm no"}),u.jsx("div",{className:"text-sm",children:"Hy th mt b lc khc hoc thm sn phm mi"})]})}):I.map((z,q)=>{const G=z.stock[e]||0,re=z.retailPrice[e]||0,he=G*re,je=m.includes(z.id);return u.jsxs("tr",{className:`border-b border-primary-border hover:bg-tertiary-bg transition-colors ${je?"bg-blue-900/20 dark:bg-blue-900/20":""}`,children:[u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("input",{type:"checkbox",checked:je,onChange:oe=>ue(z.id,oe.target.checked),className:"w-4 h-4 text-blue-600 rounded border-secondary-border focus:ring-blue-500"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-text",children:q+1}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-primary-text",children:z.name}),u.jsxs("div",{className:"text-xs text-tertiary-text",children:["SKU: ",z.sku]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-text",children:z.category}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-bold rounded ${G===0?"text-red-600 dark:text-red-400":G<10?"text-yellow-600 dark:text-yellow-400":"text-emerald-600 dark:text-emerald-400"}`,children:G})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-primary-text",children:Be(re)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-semibold text-primary-text",children:Be(he)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{onClick:()=>y(z),className:"p-1.5 text-blue-400 hover:bg-blue-500/20 rounded transition-colors",title:"Chnh sa",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>se(z.id),className:"p-1.5 text-red-400 hover:bg-red-500/20 rounded transition-colors",title:"Xa",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},z.id)})})]})})]})]}),a==="history"&&u.jsx(C3e,{transactions:t}),a==="categories"&&u.jsx("div",{className:"bg-[#0f172a] -m-6",children:u.jsx(eH,{})}),a==="lookup"&&u.jsx("div",{className:"bg-[#0f172a] -m-6",children:u.jsx(tH,{})})]}),u.jsx(E3e,{isOpen:i,onClose:()=>s(!1),parts:P,currentBranchId:e,onSave:X}),p&&u.jsx(D3e,{part:p,onClose:()=>y(null),onSave:z=>{F.mutate({id:z.id,updates:z}),y(null)},currentBranchId:e}),v&&u.jsx(P3e,{onClose:()=>b(!1),onDownloadTemplate:M,onImport:async z=>{try{const q=await v3e(z,e);q.forEach(re=>{const he=P.find(je=>je.sku===re.sku);he?F.mutate({id:he.id,updates:{stock:{...he.stock,[e]:(he.stock[e]||0)+re.quantity},retailPrice:{...he.retailPrice,[e]:re.retailPrice},wholesalePrice:{...he.wholesalePrice,[e]:re.wholesalePrice}}}):H.mutate({name:re.name,sku:re.sku,category:re.category,description:re.description,stock:{[e]:re.quantity},retailPrice:{[e]:re.retailPrice},wholesalePrice:{[e]:re.wholesalePrice}})});const G=new Date().toISOString();q.forEach(re=>{const he=P.find(je=>je.sku===re.sku);he&&r({type:"Nhp kho",date:G,branchId:e,partId:he.id,partName:re.name,quantity:re.quantity,unitPrice:re.retailPrice,totalPrice:re.quantity*re.retailPrice,notes:"Nhp kho t file Excel"})}),b(!1),Nt.success(`Import thnh cng ${q.length} sn phm!`)}catch(q){console.error("Import error:",q),Nt.error(`Li import: ${q}`)}}}),u.jsx(J$,{isOpen:N.isOpen,title:N.title,message:N.message,confirmText:N.confirmText,cancelText:N.cancelText,confirmColor:N.confirmColor,onConfirm:_,onCancel:T})]})},P3e=({onClose:e,onDownloadTemplate:t,onImport:r})=>{const[a,n]=j.useState(null),[i,s]=j.useState(!1),o=d=>{var m,x;const h=(m=d.target.files)==null?void 0:m[0];if(h){const p=(x=h.name.split(".").pop())==null?void 0:x.toLowerCase();p==="xlsx"||p==="xls"||p==="csv"?n(h):Nt.warning("Vui lng chn file Excel (.xlsx, .xls) hoc CSV (.csv)")}},c=async()=>{if(!a){Nt.warning("Vui lng chn file  import");return}s(!0);try{await r(a)}finally{s(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Nhp tn kho t Excel/CSV"}),u.jsx("button",{onClick:e,disabled:i,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 disabled:opacity-50",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Hng dn s dng"}),u.jsxs("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1 list-decimal list-inside",children:[u.jsx("li",{children:"Ti file template mu"}),u.jsx("li",{children:"in thng tin sn phm vo file"}),u.jsx("li",{children:"Lu file v chn  import"})]}),u.jsx("button",{onClick:t,className:"mt-3 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:" Ti Template Excel"})]})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn file  import"}),u.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6 text-center",children:[u.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:o,disabled:i,className:"hidden",id:"file-upload"}),u.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex flex-col items-center",children:[u.jsx("svg",{className:"w-12 h-12 text-slate-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Click  chn file Excel hoc CSV"}),a&&u.jsxs("span",{className:"mt-2 text-sm font-medium text-blue-600 dark:text-blue-400",children:[" ",a.name]})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Hy"}),u.jsx("button",{onClick:c,disabled:!a||i,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"ang x l...":"Import"})]})]})]})})},D3e=({part:e,onClose:t,onSave:r,currentBranchId:a})=>{var o;const[n,i]=j.useState({name:e.name,category:e.category||"",retailPrice:e.retailPrice[a]||0,wholesalePrice:((o=e.wholesalePrice)==null?void 0:o[a])||0}),s=c=>{if(c.preventDefault(),!n.name.trim()){Nt.warning("Vui lng nhp tn sn phm");return}r({id:e.id,name:n.name.trim(),category:n.category.trim()||void 0,retailPrice:{...e.retailPrice,[a]:n.retailPrice},wholesalePrice:{...e.wholesalePrice,[a]:n.wholesalePrice}})};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:"Chnh sa sn phm"}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:s,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Tn sn phm ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:n.name,onChange:c=>i({...n,name:c.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Danh mc"}),u.jsx("input",{type:"text",value:n.category,onChange:c=>i({...n,category:c.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",placeholder:"VD: Nht ng c, Lp xe, Phanh..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi bn l"}),u.jsx("input",{type:"number",value:n.retailPrice,onChange:c=>i({...n,retailPrice:Number(c.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gi bn s"}),u.jsx("input",{type:"number",value:n.wholesalePrice,onChange:c=>i({...n,wholesalePrice:Number(c.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",min:"0"})]})]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:u.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:[u.jsx("div",{className:"font-medium mb-1",children:"Lu :"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsxs("li",{children:["Tn kho hin ti:"," ",u.jsx("strong",{children:e.stock[a]||0})]}),u.jsx("li",{children:' thay i tn kho, vui lng s dng chc nng "To phiu nhp" hoc "Chuyn kho"'})]})]})}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Lu thay i"})]})]})]})})};function L3e(){const{parts:e,customers:t,employees:r,upsertCustomer:a,setCashTransactions:n,setPaymentSources:i,paymentSources:s,currentBranchId:o,workOrders:c,setWorkOrders:d}=yi(),[h,m]=j.useState(!1),[x,p]=j.useState(!1),[y,v]=j.useState(void 0),[b,k]=j.useState(""),[N,_]=j.useState("all"),[T,P]=j.useState("all"),O=[{id:"oil-change",name:"Thay du ng c",description:"Thay du v lc du ng c",duration:30,laborCost:3e5,parts:[{name:"Du ng c 10W40",quantity:1,price:12e4,unit:"chai"},{name:"Lc du",quantity:1,price:3e4,unit:"ci"}]},{id:"brake-service",name:"Sa phanh",description:"Thay m phanh v bo dng h thng phanh",duration:45,laborCost:505e3,parts:[{name:"M phanh trc",quantity:2,price:16e4,unit:"ci"},{name:"M phanh sau",quantity:2,price:12e4,unit:"ci"},{name:"Du phanh",quantity:1,price:25e3,unit:"chai"}]},{id:"cleaning",name:"V sinh kim phun",description:"V sinh v hiu chnh kim phun xng",duration:60,laborCost:15e4,parts:[{name:"Dung dch v sinh kim phun",quantity:1,price:5e4,unit:"chai"}]},{id:"oil-box",name:"Thay nht hp s",description:"Thay du hp s v kim tra",duration:25,laborCost:14e4,parts:[{name:"Du hp s",quantity:1,price:6e4,unit:"chai"}]},{id:"bug-check",name:"Thay bugi",description:"Thay bugi v kim tra h thng nh la",duration:20,laborCost:85e3,parts:[{name:"Bugi",quantity:1,price:35e3,unit:"ci"}]},{id:"full-maintenance",name:"Bo dng tng qut",description:"Bo dng nh k y ",duration:90,laborCost:57e4,parts:[{name:"Du ng c 10W40",quantity:1,price:12e4,unit:"chai"},{name:"Lc du",quantity:1,price:3e4,unit:"ci"},{name:"Lc khng kh",quantity:1,price:25e3,unit:"ci"},{name:"Bugi",quantity:1,price:35e3,unit:"ci"},{name:"Du hp s",quantity:1,price:6e4,unit:"chai"}]}],L=j.useMemo(()=>{let D=c;return T==="pending"?D=D.filter(F=>F.status==="Tip nhn"):T==="inProgress"?D=D.filter(F=>F.status==="ang sa"):T==="done"?D=D.filter(F=>F.status===" sa xong"):T==="delivered"&&(D=D.filter(F=>F.status==="Tr my")),b&&(D=D.filter(F=>{var H,Y;return F.customerName.toLowerCase().includes(b.toLowerCase())||((H=F.vehicleModel)==null?void 0:H.toLowerCase().includes(b.toLowerCase()))||((Y=F.licensePlate)==null?void 0:Y.toLowerCase().includes(b.toLowerCase()))})),D.sort((F,H)=>new Date(H.creationDate).getTime()-new Date(F.creationDate).getTime())},[c,T,b]),U=j.useMemo(()=>{const D=c.filter(ae=>ae.status==="Tip nhn").length,F=c.filter(ae=>ae.status==="ang sa").length,H=c.filter(ae=>ae.status===" sa xong").length,Y=c.filter(ae=>ae.status==="Tr my").length,ne=c.filter(ae=>ae.paymentStatus==="paid"&&new Date(ae.creationDate).toDateString()===new Date().toDateString()).reduce((ae,ue)=>ae+ue.total,0),X=c.filter(ae=>ae.paymentStatus==="paid"&&new Date(ae.creationDate).toDateString()===new Date().toDateString()).reduce((ae,ue)=>{var se;return ae+(ue.total-(((se=ue.partsUsed)==null?void 0:se.reduce((be,J)=>be+J.price*J.quantity,0))||0))},0);return{pending:D,inProgress:F,done:H,delivered:Y,todayRevenue:ne,todayProfit:X}},[c]),I=D=>{v(D||{id:"",customerName:"",customerPhone:"",vehicleModel:"",licensePlate:"",issueDescription:"",technicianName:"",status:"Tip nhn",laborCost:0,discount:0,partsUsed:[],total:0,branchId:o,paymentStatus:"unpaid",creationDate:new Date().toISOString()}),m(!0)},K=D=>{const F={id:"",customerName:"",customerPhone:"",vehicleModel:"",licensePlate:"",issueDescription:D.description,laborCost:D.laborCost,partsUsed:D.parts.map((H,Y)=>({partId:`TEMPLATE-${Y}`,partName:H.name,sku:"",quantity:H.quantity,price:H.price})),status:"Tip nhn",paymentStatus:"unpaid",discount:0,total:0,creationDate:new Date().toISOString(),branchId:o,technicianName:""};v(F),p(!1),m(!0)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-6",children:[u.jsx(xp,{label:"Tip nhn",value:U.pending,icon:u.jsx(SN,{className:"w-5 h-5"}),color:"blue"}),u.jsx(xp,{label:"ang sa",value:U.inProgress,icon:u.jsx(EN,{className:"w-5 h-5"}),color:"orange"}),u.jsx(xp,{label:" sa xong",value:U.done,icon:u.jsx(DR,{className:"w-5 h-5"}),color:"green"}),u.jsx(xp,{label:"Tr my",value:U.delivered,icon:u.jsx(wJ,{className:"w-5 h-5"}),color:"purple"}),u.jsx(xp,{label:"Doanh thu hm nay",value:`${Be(U.todayRevenue).replace("","")}`,icon:u.jsx(NN,{className:"w-5 h-5"}),color:"green"}),u.jsx(xp,{label:"Li nhun hm nay",value:`${Be(U.todayProfit).replace("","")}`,icon:u.jsx(Mb,{className:"w-5 h-5"}),color:"blue"})]}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("div",{className:"flex-1 min-w-[200px]",children:u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Tm theo m, tn, ST, xe, bin s...",value:b,onChange:D=>k(D.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100 placeholder-slate-400"}),u.jsx(IR,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400","aria-hidden":"true"})]})}),u.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("option",{children:"Tt c ngy"}),u.jsx("option",{children:"Hm nay"}),u.jsx("option",{children:"7 ngy qua"}),u.jsx("option",{children:"30 ngy qua"})]}),u.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("option",{children:"Tt c KTV"}),u.jsx("option",{children:"KTV 1"}),u.jsx("option",{children:"KTV 2"})]}),u.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("option",{children:"Tt c thanh ton"}),u.jsx("option",{children:" thanh ton"}),u.jsx("option",{children:"Cha thanh ton"})]}),u.jsxs("button",{className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"Xem bo co",children:[u.jsx(Mb,{className:"w-4 h-4"})," Bo co"]}),u.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"M danh sch mu sa cha",children:[u.jsx(G1,{className:"w-4 h-4"})," Mu SC"]}),u.jsxs("button",{onClick:()=>I(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"To phiu sa cha mi",children:[u.jsx(pb,{className:"w-4 h-4"})," Thm Phiu"]}),u.jsxs("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium flex items-center gap-2","aria-label":"Gi SMS nhc khch hng",children:[u.jsx(SJ,{className:"w-4 h-4"})," SMS QH"]})]})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center border-b border-slate-200 dark:border-slate-700",children:[u.jsx(Cx,{label:"Tt c",active:T==="all",onClick:()=>P("all")}),u.jsx(Cx,{label:"Tip nhn",active:T==="pending",onClick:()=>P("pending")}),u.jsx(Cx,{label:"ang sa",active:T==="inProgress",onClick:()=>P("inProgress")}),u.jsx(Cx,{label:" sa xong",active:T==="done",onClick:()=>P("done")}),u.jsx(Cx,{label:"Tr my",active:T==="delivered",onClick:()=>P("delivered")}),u.jsx("div",{className:"ml-auto px-4 py-3",children:u.jsx(H1,{to:"/service-history",className:"px-3 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded text-sm flex items-center gap-1 transition-colors",children:" Lch s SC"})})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"M Phiu"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Khch hng"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Xe"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Ngy to"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Trng thi"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"Tng chi ph"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"Hnh ng"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:L.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400",children:"Khng c phiu sa cha no."})}):L.map(D=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[u.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:["#",D.id.slice(-6)]}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:D.customerName}),u.jsx("div",{className:"text-xs text-slate-500",children:D.customerPhone})]}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:D.vehicleModel||"N/A"}),u.jsx("div",{className:"text-xs text-slate-500",children:D.licensePlate||""})]}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:Qa(D.creationDate,!0)}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(R3e,{status:D.status})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-slate-900 dark:text-slate-100",children:Be(D.total)}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("button",{onClick:()=>I(D),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs",children:"Xem"})})]},D.id))})]})})]}),x&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Mu sa cha thng dng"}),u.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-slate-600","aria-label":"ng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"Chn mu sa cha  t ng in thng tin vo phiu sa cha"}),u.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:O.map(D=>u.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-4 hover:shadow-md transition",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:D.name}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:D.description}),u.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[D.duration," pht"]})]}),u.jsx("div",{className:"text-right",children:u.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Be(D.laborCost+D.parts.reduce((F,H)=>F+H.price*H.quantity,0))})})]}),u.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-700",children:[u.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Ph tng cn thit:"}),D.parts.map((F,H)=>u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[u.jsxs("span",{children:[F.name," x",F.quantity," ",F.unit]}),u.jsx("span",{children:Be(F.price*F.quantity)})]},H)),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{onClick:()=>K(D),className:"flex-1 px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm",children:"p dng mu"}),u.jsx("button",{className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded text-sm",children:"To mi"}),u.jsx("button",{className:"px-3 py-1.5 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded text-sm",children:"Sa mu"})]})]})]},D.id))})]})]})}),h&&y&&u.jsx(M3e,{order:y,onClose:()=>{m(!1),v(void 0)},onSave:D=>{if(D.id&&(y!=null&&y.id))d(F=>F.map(H=>H.id===D.id?D:H));else{const F={...D,id:Date.now().toString()};d(H=>[...H,F])}m(!1),v(void 0)},parts:e,customers:t,employees:r,upsertCustomer:a,setCashTransactions:n,setPaymentSources:i,paymentSources:s,currentBranchId:o})]})}const M3e=({order:e,onClose:t,onSave:r,parts:a,customers:n,employees:i,upsertCustomer:s,setCashTransactions:o,setPaymentSources:c,paymentSources:d,currentBranchId:h})=>{const[m,x]=j.useState(()=>e!=null&&e.id?e:{id:(e==null?void 0:e.id)||"",customerName:(e==null?void 0:e.customerName)||"",customerPhone:(e==null?void 0:e.customerPhone)||"",vehicleModel:(e==null?void 0:e.vehicleModel)||"",licensePlate:(e==null?void 0:e.licensePlate)||"",issueDescription:(e==null?void 0:e.issueDescription)||"",technicianName:(e==null?void 0:e.technicianName)||"",status:(e==null?void 0:e.status)||"Tip nhn",laborCost:(e==null?void 0:e.laborCost)||0,discount:(e==null?void 0:e.discount)||0,partsUsed:(e==null?void 0:e.partsUsed)||[],total:(e==null?void 0:e.total)||0,branchId:(e==null?void 0:e.branchId)||h,paymentStatus:(e==null?void 0:e.paymentStatus)||"unpaid",creationDate:(e==null?void 0:e.creationDate)||new Date().toISOString()}),[p,y]=j.useState(""),[v,b]=j.useState([]),[k,N]=j.useState(!1),[_,T]=j.useState(0),[P,O]=j.useState(!1),[L,U]=j.useState(0),[I,K]=j.useState(!1),[D,F]=j.useState(!1),[H,Y]=j.useState({name:"",phone:"",vehicleModel:"",licensePlate:""}),[ne,X]=j.useState(""),[ae,ue]=j.useState(!1),[se,be]=j.useState([]),[J,M]=j.useState({description:"",quantity:1,price:0});j.useEffect(()=>{e!=null&&e.partsUsed?b(e.partsUsed):b([]),e!=null&&e.customerName?X(e.customerName):X(""),e!=null&&e.additionalServices?be(e.additionalServices):be([]),e!=null&&e.depositAmount?(U(e.depositAmount),K(!0)):(U(0),K(!1)),e!=null&&e.additionalPayment?(T(e.additionalPayment),O(!0)):(T(0),O(!1))},[e]);const z=n.filter(we=>{var Ze;return we.name.toLowerCase().includes(ne.toLowerCase())||((Ze=we.phone)==null?void 0:Ze.toLowerCase().includes(ne.toLowerCase()))});j.useEffect(()=>{const we=Ze=>{Ze.target.closest(".customer-search-container")||ue(!1)};return document.addEventListener("mousedown",we),()=>document.removeEventListener("mousedown",we)},[]);const q=v.reduce((we,Ze)=>we+(Ze.price||0)*(Ze.quantity||0),0),G=se.reduce((we,Ze)=>we+(Ze.price||0)*(Ze.quantity||0),0),re=(m.laborCost||0)+q+G,he=m.discount||0,je=Math.max(0,re-he);console.log("Tinh toan:",{laborCost:m.laborCost,partsTotal:q,servicesTotal:G,subtotal:re,discount:he,total:je});const oe=L||0,Ne=P?_:0,Me=oe+Ne,Q=Math.max(0,je-Me),Te=()=>{m.customerName&&m.customerPhone&&(n.find(gt=>gt.phone===m.customerPhone)||s({id:`CUST-${Date.now()}`,name:m.customerName,phone:m.customerPhone,vehicleModel:m.vehicleModel,licensePlate:m.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}));let we="unpaid";Me>=je?we="paid":Me>0&&(we="partial");const Ze={id:m.id||`WO-${Date.now()}`,customerName:m.customerName||"",customerPhone:m.customerPhone||"",vehicleModel:m.vehicleModel||"",licensePlate:m.licensePlate||"",issueDescription:m.issueDescription||"",technicianName:m.technicianName||"",status:m.status||"Tip nhn",laborCost:m.laborCost||0,discount:he,partsUsed:v,additionalServices:se.length>0?se:void 0,total:je,branchId:h,depositAmount:L>0?L:void 0,depositDate:L>0&&!(e!=null&&e.depositDate)?new Date().toISOString():e==null?void 0:e.depositDate,paymentStatus:we,paymentMethod:m.paymentMethod,additionalPayment:Ne>0?Ne:void 0,totalPaid:Me>0?Me:void 0,remainingAmount:Q,creationDate:m.creationDate||new Date().toISOString()};if(L>0&&!(e!=null&&e.depositAmount)&&m.paymentMethod){const Xe=`DEP-${Date.now()}`;o(gt=>[...gt,{id:Xe,type:"deposit",category:"service_deposit",amount:L,date:new Date().toISOString(),description:`t cc sa cha #${Ze.id.slice(-6)} - ${m.customerName}`,branchId:h,paymentSource:m.paymentMethod,reference:Ze.id}]),c(gt=>gt.map(ot=>ot.id===m.paymentMethod?{...ot,balance:{...ot.balance,[h]:(ot.balance[h]||0)+L}}:ot)),Ze.depositTransactionId=Xe}if(Ne>0&&m.paymentMethod){const Xe=`PAY-${Date.now()}`;o(gt=>[...gt,{id:Xe,type:"income",category:"service_income",amount:Ne,date:new Date().toISOString(),description:`Thu tin sa cha #${Ze.id.slice(-6)} - ${m.customerName}`,branchId:h,paymentSource:m.paymentMethod,reference:Ze.id}]),c(gt=>gt.map(ot=>ot.id===m.paymentMethod?{...ot,balance:{...ot.balance,[h]:(ot.balance[h]||0)+Ne}}:ot)),Ze.cashTransactionId=Xe,Ze.paymentDate=new Date().toISOString()}r(Ze)},Ae=we=>{const Ze=v.find(Xe=>Xe.partId===we.id);b(Ze?v.map(Xe=>Xe.partId===we.id?{...Xe,quantity:Xe.quantity+1}:Xe):[...v,{partId:we.id,partName:we.name,sku:we.sku||"",quantity:1,price:we.retailPrice[h]||0}]),N(!1),y("")},de=j.useMemo(()=>a.filter(we=>{var Xe;return(((Xe=we.stock)==null?void 0:Xe[h])||0)>0}),[a,h]),Qe=j.useMemo(()=>p.trim()?de.filter(we=>{var Ze;return we.name.toLowerCase().includes(p.toLowerCase())||((Ze=we.sku)==null?void 0:Ze.toLowerCase().includes(p.toLowerCase()))}):[],[de,p]);return u.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between rounded-t-xl flex-shrink-0",children:[u.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:m.id?"Chi tit phiu sa cha":"To phiu sa cha mi"}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto flex-1",children:[u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Thng tin Khch hng & S c"}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Khch hng ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative customer-search-container",children:[u.jsx("input",{type:"text",placeholder:"Tm khch hng...",value:ne,onChange:we=>{X(we.target.value),ue(!0),x({...m,customerName:we.target.value})},onFocus:()=>ue(!0),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),ae&&ne&&z.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:z.map(we=>u.jsxs("button",{type:"button",onClick:()=>{x({...m,customerName:we.name,customerPhone:we.phone}),X(we.name),ue(!1)},className:"w-full text-left px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-600 text-sm border-b border-slate-200 dark:border-slate-600 last:border-0",children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:we.name}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:we.phone})]},we.id))})]}),u.jsx("button",{type:"button",onClick:()=>F(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium text-xl",title:"Thm khch hng mi",children:"+"})]}),m.customerName&&m.customerPhone&&u.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:m.customerName}),u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),m.customerPhone]})}),(m.vehicleModel||m.licensePlate)&&u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[u.jsx("circle",{cx:"6",cy:"17",r:"2"}),u.jsx("circle",{cx:"18",cy:"17",r:"2"}),u.jsx("path",{d:"M4 17h2l4-6h2l2 3h4"})]}),m.vehicleModel," ",m.licensePlate&&`- ${m.licensePlate}`]})})]}),u.jsx("button",{type:"button",onClick:()=>{X(""),x({...m,customerName:"",customerPhone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-red-500 text-sm flex items-center",title:"Xa khch hng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4","aria-hidden":"true",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S KM hin ti"}),u.jsx("input",{type:"number",placeholder:"15000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M t s c"}),u.jsx("textarea",{rows:4,placeholder:"Bo dng nh k, thay nht...",value:m.issueDescription||"",onChange:we=>x({...m,issueDescription:we.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Chi tit Dch v"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trng thi"}),u.jsxs("select",{value:m.status||"Tip nhn",onChange:we=>x({...m,status:we.target.value}),className:`w-full px-3 py-2 border rounded-lg font-medium ${m.status==="Tip nhn"?"bg-blue-100 dark:bg-blue-900/30 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-300":m.status==="ang sa"?"bg-orange-100 dark:bg-orange-900/30 border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300":m.status===" sa xong"?"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300":"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700 text-green-700 dark:text-green-300"}`,children:[u.jsx("option",{value:"Tip nhn",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"Tip nhn"}),u.jsx("option",{value:"ang sa",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"ang sa"}),u.jsx("option",{value:" sa xong",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:" sa xong"}),u.jsx("option",{value:"Tr my",className:"bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",children:"Tr my"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"K thut vin"}),u.jsxs("select",{value:m.technicianName||"",onChange:we=>x({...m,technicianName:we.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",children:[u.jsx("option",{value:"",children:"-- Chn k thut vin --"}),i.filter(we=>we.branchId===h&&we.status==="active"&&we.department==="K thut").map(we=>u.jsx("option",{value:we.name,children:we.name},we.id))]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ph dch v (Cng th)"}),u.jsx("input",{type:"number",placeholder:"100.000",value:m.laborCost||"",onChange:we=>x({...m,laborCost:Number(we.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ghi ch ni b"}),u.jsx("textarea",{rows:4,placeholder:"VD: Khch yu cu kim tra thm h thng in",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 resize-none"})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Ph tng s dng"}),u.jsx("button",{onClick:()=>N(!k),className:"px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm flex items-center gap-1",children:" Thm ph tng"})]}),k&&u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Tm kim ph tng theo tn hoc SKU...",value:p,onChange:we=>y(we.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100",autoFocus:!0}),p&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10",children:Qe.length===0?u.jsx("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Khng tm thy ph tng"}):Qe.slice(0,10).map(we=>u.jsxs("button",{onClick:()=>Ae(we),className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-600 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:we.name}),u.jsx("div",{className:"text-xs text-slate-500",children:we.sku})]}),u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100",children:Be(we.retailPrice[h]||0)})]},we.id))})]}),u.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"Tn"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"SL"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:".Gi"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"T.Tin"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-600",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-slate-400",children:"Cha c ph tng no"})}):v.map((we,Ze)=>u.jsxs("tr",{className:"bg-white dark:bg-slate-800",children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-slate-100",children:we.partName}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("input",{type:"number",min:"1",value:we.quantity,onChange:Xe=>{const gt=Number(Xe.target.value);b(v.map((ot,Ct)=>Ct===Ze?{...ot,quantity:gt}:ot))},className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-900 dark:text-slate-100",children:Be(we.price)}),u.jsx("td",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:Be(we.price*we.quantity)}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("button",{onClick:()=>b(v.filter((Xe,gt)=>gt!==Ze)),className:"text-red-500 hover:text-red-700","aria-label":"Xa ph tng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M9 6V4h6v2m-7 4v8m4-8v8m4-8v8"})})})})]},Ze))})]})})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Bo gi (Gia cng, t hng)"}),u.jsx("div",{className:"border border-slate-300 dark:border-slate-600 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-600 dark:text-slate-300",children:"M t"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:"SL"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"n gi"}),u.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-slate-600 dark:text-slate-300",children:"Thnh tin"}),u.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-slate-600 dark:text-slate-300",children:u.jsx("button",{onClick:()=>{J.description&&J.price>0&&(be([...se,{...J,id:`SRV-${Date.now()}`}]),M({description:"",quantity:1,price:0}))},className:"px-2 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded text-xs",children:"Thm"})})]})}),u.jsxs("tbody",{children:[se.map(we=>u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-slate-100",children:we.description}),u.jsx("td",{className:"px-4 py-2 text-center text-sm text-slate-900 dark:text-slate-100",children:we.quantity}),u.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-900 dark:text-slate-100",children:Be(we.price)}),u.jsx("td",{className:"px-4 py-2 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:Be(we.price*we.quantity)}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("button",{onClick:()=>be(se.filter(Ze=>Ze.id!==we.id)),className:"text-red-500 hover:text-red-700 text-sm","aria-label":"Xa dch v",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6h18M9 6V4h6v2m-7 4v8m4-8v8m4-8v8"})})})})]},we.id)),u.jsxs("tr",{className:"bg-white dark:bg-slate-800",children:[u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"text",placeholder:"M t...",value:J.description,onChange:we=>M({...J,description:we.target.value}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"number",value:J.quantity,onChange:we=>M({...J,quantity:Number(we.target.value)}),className:"w-16 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-center bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("td",{className:"px-4 py-2",children:u.jsx("input",{type:"number",placeholder:"n gi",value:J.price||"",onChange:we=>M({...J,price:Number(we.target.value)}),className:"w-full px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-400",children:J.price>0?Be(J.price*J.quantity):"Thnh tin"}),u.jsx("td",{className:"px-4 py-2 text-center"})]})]})]})})]}),u.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs("div",{className:"space-y-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Thanh ton"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:I,onChange:we=>{K(we.target.checked),we.target.checked||U(0)},disabled:!!(e!=null&&e.depositAmount),className:"w-4 h-4"}),u.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["t cc"," ",e!=null&&e.depositAmount?`( cc: ${Be(e.depositAmount)})`:""]})]}),I&&!(e!=null&&e.depositAmount)&&u.jsx("div",{className:"pl-6",children:u.jsx("input",{type:"number",placeholder:"S tin t cc",value:L||"",onChange:we=>U(Number(we.target.value)),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})}),u.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2 block",children:"Phng thc thanh ton:"}),u.jsxs("div",{className:"flex items-center gap-4 pl-2",children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:m.paymentMethod==="cash",onChange:we=>x({...m,paymentMethod:"cash"}),className:"w-4 h-4"}),u.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-slate-700 dark:text-slate-300",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Tin mt"]})]}),u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:m.paymentMethod==="bank",onChange:we=>x({...m,paymentMethod:"bank"}),className:"w-4 h-4"}),u.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-slate-700 dark:text-slate-300",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21h18M3 10h18M7 6h10l2 4H5l2-4Zm2 4v11m6-11v11"})}),"Chuyn khon"]})]})]})]}),u.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3"}),m.status==="Tr my"&&u.jsxs(u.Fragment,{children:[u.jsxs("label",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:P,onChange:we=>{O(we.target.checked),we.target.checked||T(0)},className:"w-4 h-4"}),u.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Thanh ton khi tr xe"})]}),P&&u.jsxs("div",{className:"pl-6 space-y-2",children:[u.jsx("label",{className:"text-xs text-slate-600 dark:text-slate-400",children:"S tin thanh ton thm:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",placeholder:"0",value:_||"",onChange:we=>T(Number(we.target.value)),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),u.jsx("button",{onClick:()=>T(0),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"0%"}),u.jsx("button",{onClick:()=>T(Math.round(Q*.5)),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"50%"}),u.jsx("button",{onClick:()=>T(Q),className:"px-3 py-1.5 bg-slate-200 dark:bg-slate-600 hover:bg-slate-300 dark:hover:bg-slate-500 text-slate-700 dark:text-slate-200 rounded text-xs font-medium",children:"100%"})]})]})]})]}),m.status!=="Tr my"&&u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:'* Thanh ton khi tr xe ch kh dng khi trng thi l "Tr my"'})]}),u.jsxs("div",{className:"space-y-3 bg-slate-50 dark:bg-slate-700/30 border border-slate-200 dark:border-slate-700 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Tng kt"}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ph dch v:"}),u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:Be(m.laborCost||0)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tin ph tng:"}),u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:Be(q)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Gia cng/t hng:"}),u.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:Be(G)})]}),u.jsx("div",{className:"pt-2 border-t border-slate-300 dark:border-slate-600",children:u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-red-600 font-medium",children:"Gim gi:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",placeholder:"0",value:m.discount||"",onChange:we=>x({...m,discount:Number(we.target.value)}),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded text-right bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"}),u.jsxs("select",{className:"px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{children:""}),u.jsx("option",{children:"%"})]})]})]})}),u.jsxs("div",{className:"pt-2 border-t-2 border-slate-400 dark:border-slate-500",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:"Tng cng:"}),u.jsx("span",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:Be(je)})]}),(oe>0||Ne>0)&&u.jsxs("div",{className:"space-y-1 pt-2 border-t border-slate-300 dark:border-slate-600",children:[oe>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:" t cc:"}),u.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",Be(oe)]})]}),Ne>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Thanh ton thm:"}),u.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["-",Be(Ne)]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-300 dark:border-slate-600",children:[u.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:Q>0?"Cn phi thu:":" thanh ton "}),u.jsx("span",{className:`text-lg font-bold ${Q>0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:Be(Q)})]})]})]})]})]})})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-end gap-3 bg-slate-50 dark:bg-slate-800/50 rounded-b-xl flex-shrink-0",children:[u.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-lg",children:"Hy"}),u.jsx("button",{onClick:Te,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",children:"Lu Phiu"})]})]}),D&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl w-full max-w-md p-6 m-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:"Thm khch hng"}),u.jsx("button",{onClick:()=>{F(!1),Y({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"ng",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tn khch"}),u.jsx("input",{type:"text",placeholder:"Nhp tn khch",value:H.name,onChange:we=>Y({...H,name:we.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),u.jsx("input",{type:"tel",placeholder:"VD: 09xxxx",value:H.phone,onChange:we=>Y({...H,phone:we.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Xe"}),u.jsx("input",{type:"text",placeholder:"Dng xe",value:H.vehicleModel,onChange:we=>Y({...H,vehicleModel:we.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Bin s"}),u.jsx("input",{type:"text",placeholder:"VD: 59A1-123.45",value:H.licensePlate,onChange:we=>Y({...H,licensePlate:we.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6",children:[u.jsx("button",{onClick:()=>{F(!1),Y({name:"",phone:"",vehicleModel:"",licensePlate:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Hy"}),u.jsx("button",{onClick:()=>{if(H.name&&H.phone){const we=`CUST-${Date.now()}`;s({id:we,name:H.name,phone:H.phone,vehicleModel:H.vehicleModel,licensePlate:H.licensePlate,status:"active",segment:"New",loyaltyPoints:0,totalSpent:0,visitCount:1,lastVisit:new Date().toISOString(),created_at:new Date().toISOString()}),x({...m,customerName:H.name,customerPhone:H.phone,vehicleModel:H.vehicleModel,licensePlate:H.licensePlate}),X(H.name),F(!1),Y({name:"",phone:"",vehicleModel:"",licensePlate:""})}},className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",disabled:!H.name||!H.phone,children:"Lu"})]})]})})]})},xp=({label:e,value:t,icon:r,color:a})=>{const n={blue:"bg-blue-500/20 text-blue-600 dark:text-blue-400",orange:"bg-orange-500/20 text-orange-600 dark:text-orange-400",green:"bg-green-500/20 text-green-600 dark:text-green-400",purple:"bg-purple-500/20 text-purple-600 dark:text-purple-400"};return u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-12 h-12 rounded-lg ${n[a]} flex items-center justify-center`,children:r}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e}),u.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:t})]})]})})},Cx=({label:e,active:t,onClick:r})=>u.jsx("button",{onClick:r,className:`px-6 py-3 text-sm font-medium border-b-2 transition ${t?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:e}),R3e=({status:e})=>{const t={"Tip nhn":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400","ang sa":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"," sa xong":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400","Tr my":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"};return u.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${t[e]}`,children:e})},I3e=({currentBranchId:e})=>{const{workOrders:t}=yi(),[r,a]=j.useState(""),[n,i]=j.useState("all"),[s,o]=j.useState(""),[c,d]=j.useState(""),[h,m]=j.useState(1),x=20,p=j.useMemo(()=>t.filter(N=>{var _,T,P,O,L,U;if(N.branchId!==e)return!1;if(r){const I=r.toLowerCase();if(![(_=N.id)==null?void 0:_.toLowerCase(),(T=N.customerName)==null?void 0:T.toLowerCase(),(P=N.customerPhone)==null?void 0:P.toLowerCase(),(O=N.vehicleModel)==null?void 0:O.toLowerCase(),(L=N.licensePlate)==null?void 0:L.toLowerCase(),(U=N.issueDescription)==null?void 0:U.toLowerCase()].some(D=>D==null?void 0:D.includes(I)))return!1}return!(n!=="all"&&N.status!==n||s&&N.creationDate<s||c&&N.creationDate>c)}).sort((N,_)=>new Date(_.creationDate||0).getTime()-new Date(N.creationDate||0).getTime()),[t,r,n,s,c,e]),y=Math.ceil(p.length/x),v=p.slice((h-1)*x,h*x),b=()=>{const _=[["M Phiu","Ngy to","Khch hng","Xe","Bin s","Trng thi","Tng chi ph"].join(","),...p.map(O=>{var L,U;return[`#${((L=O.id)==null?void 0:L.slice(-6))||""}`,Qa(O.creationDate,!0),O.customerName||"",O.vehicleModel||"",O.licensePlate||"",O.status||"",((U=O.total)==null?void 0:U.toString())||"0"].join(",")})].join(`
`),T=new Blob([_],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a");if(P.download!==void 0){const O=URL.createObjectURL(T);P.setAttribute("href",O),P.setAttribute("download",`lich-su-sua-chua-${new Date().toISOString().split("T")[0]}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)}},k=({status:N})=>{const _={"Tip nhn":{bg:"bg-blue-100 dark:bg-blue-900/20",text:"text-blue-700 dark:text-blue-300"},"ang sa":{bg:"bg-orange-100 dark:bg-orange-900/20",text:"text-orange-700 dark:text-orange-300"}," sa xong":{bg:"bg-purple-100 dark:bg-purple-900/20",text:"text-purple-700 dark:text-purple-300"},"Tr my":{bg:"bg-green-100 dark:bg-green-900/20",text:"text-green-700 dark:text-green-300"}},T=_[N]||_["Tip nhn"];return u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.bg} ${T.text}`,children:N})};return u.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 min-h-screen",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4 sm:mb-0",children:"Lch s sa cha"}),u.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium flex items-center gap-2",children:" Xut CSV"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Tm theo m, tn, ST, xe, bin s...",value:r,onChange:N=>a(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("div",{children:u.jsxs("select",{value:n,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm",children:[u.jsx("option",{value:"all",children:"Tt c trng thi"}),u.jsx("option",{value:"Tip nhn",children:"Tip nhn"}),u.jsx("option",{value:"ang sa",children:"ang sa"}),u.jsx("option",{value:" sa xong",children:" sa xong"}),u.jsx("option",{value:"Tr my",children:"Tr my"})]})}),u.jsx("div",{children:u.jsx("input",{type:"date",value:s,onChange:N=>o(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})}),u.jsx("div",{children:u.jsx("input",{type:"date",value:c,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 text-sm"})})]}),u.jsxs("div",{className:"mb-4 text-sm text-slate-600 dark:text-slate-400",children:["Hin th ",v.length," / ",p.length," phiu sa cha"]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"M Phiu"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Ngy to"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Khch hng"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Xe"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Bin s"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Trng thi"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:"Tng chi ph"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400",children:"Khng c phiu sa cha no."})}):v.map((N,_)=>{var T;return u.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/30 ${_%2===0?"bg-white dark:bg-slate-800":"bg-slate-50/50 dark:bg-slate-700/20"}`,children:[u.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:["#",((T=N.id)==null?void 0:T.slice(-6))||""]}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-300",children:Qa(N.creationDate,!0)}),u.jsxs("td",{className:"px-4 py-3",children:[u.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100 font-medium",children:N.customerName||"N/A"}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:N.customerPhone||""})]}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:N.vehicleModel||"N/A"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:N.licensePlate||"N/A"}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(k,{status:N.status||"Tip nhn"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold text-slate-900 dark:text-slate-100",children:Be(N.total||0)})]},N.id)})})]})}),y>1&&u.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 border-t border-slate-200 dark:border-slate-700 sm:px-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Trang ",h," / ",y]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>m(Math.max(1,h-1)),disabled:h===1,className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),Array.from({length:Math.min(5,y)},(N,_)=>{const T=Math.max(1,Math.min(h-2+_,y-4+_));return u.jsx("button",{onClick:()=>m(T),className:`px-3 py-1 text-sm rounded ${h===T?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300"}`,children:T},T)}),u.jsx("button",{onClick:()=>m(Math.min(y,h+1)),disabled:h===y,className:"px-3 py-1 text-sm bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})})]})]})},F3e=e=>{const t=e.loyaltyPoints||0,r=e.totalSpent||0,a=e.visitCount||0,n=e.lastVisit?new Date(e.lastVisit):new Date,i=Math.floor((Date.now()-n.getTime())/(1e3*60*60*24));return t>=5e3||r>=2e7||a>=20?"VIP":t>=2e3||r>=1e7||a>=10?"Loyal":i>180&&a>0?"Lost":i>90&&a>0?"At Risk":a>=2&&a<10?"Potential":"New"},B3e=()=>{const{customers:e,upsertCustomer:t,setCustomers:r}=yi(),[a,n]=j.useState(""),[i,s]=j.useState(null),[o,c]=j.useState(!1),[d,h]=j.useState("customers"),[m,x]=j.useState("all");j.useEffect(()=>{let b=!1;const k=e.map(N=>{if(!N.segment){const _=F3e(N);return b=!0,{...N,segment:_}}return N});b&&r(k)},[e.length]);const p=j.useMemo(()=>{const b=a.toLowerCase();let k=e.filter(N=>N.name.toLowerCase().includes(b)||N.phone&&N.phone.includes(b));if(m!=="all"){const _={vip:"VIP",loyal:"Loyal",potential:"Potential","at-risk":"At Risk",lost:"Lost",new:"New"}[m];k=k.filter(T=>T.segment===_)}return k},[e,a,m]),y=b=>{confirm("Xc nhn xo khch hng ny?")&&r(k=>k.filter(N=>N.id!==b))},v=j.useMemo(()=>{const b=e.length,k=e.filter(N=>N.status==="active").length;return{total:b,active:k,newThisMonth:e.filter(N=>{if(!N.created_at)return!1;const _=new Date(N.created_at),T=new Date;return _.getMonth()===T.getMonth()&&_.getFullYear()===T.getFullYear()}).length,revenue:0,vip:e.filter(N=>N.segment==="VIP").length,loyal:e.filter(N=>N.segment==="Loyal").length,potential:e.filter(N=>N.segment==="Potential").length,atRisk:e.filter(N=>N.segment==="At Risk").length,lost:e.filter(N=>N.segment==="Lost").length,new:e.filter(N=>N.segment==="New").length}},[e]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center px-6",children:[u.jsxs("button",{onClick:()=>h("customers"),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors ${d==="customers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[u.jsx(dge,{className:"w-5 h-5"}),u.jsxs("span",{children:["Khch hng (",v.total,")"]})]}),u.jsxs("button",{onClick:()=>h("suppliers"),className:`flex items-center gap-2 px-4 py-4 border-b-2 font-medium text-sm transition-colors ${d==="suppliers"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),u.jsx("span",{children:"Nh cung cp (0)"})]})]})}),d==="customers"?u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Tm theo tn, ST, bin s xe...",value:a,onChange:b=>n(b.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("span",{children:"Upload DS"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),u.jsx("span",{children:"Nhc BD"})]}),u.jsxs("button",{onClick:()=>s({}),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(Xh,{className:"w-5 h-5"}),u.jsx("span",{children:"Thm KH"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Thng k khch hng"})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Tng khch hng"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-3xl font-bold",children:v.total}),u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1",children:"0 hot ng"})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-1",children:"Khch mi thng ny"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-3xl font-bold",children:v.newThisMonth}),u.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs mt-1",children:" 0.0% so vi thng trc"})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium mb-1",children:"Doanh thu trung bnh"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-3xl font-bold",children:"0 "}),u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs mt-1",children:"/ khch hng"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-1",children:"Cn chm sc"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-3xl font-bold",children:v.atRisk}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"0  tim nng"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phn khc khch hng"})]}),u.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border-2 border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs font-medium mb-1",children:"VIP"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:v.vip}),u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs font-medium mb-1",children:"Loyal"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:v.loyal}),u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs font-medium mb-1",children:"Potential"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:v.potential}),u.jsx("div",{className:"text-green-600 dark:text-green-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-800",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs font-medium mb-1",children:"At Risk"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:v.atRisk}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs font-medium mb-1",children:"Lost"}),u.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:v.lost}),u.jsx("div",{className:"text-red-600 dark:text-red-400 text-xs mt-1",children:"0.0%"})]}),u.jsxs("div",{className:"bg-cyan-50 dark:bg-cyan-900/20 rounded-lg p-4 border-2 border-cyan-200 dark:border-cyan-800",children:[u.jsx("div",{className:"text-cyan-600 dark:text-cyan-400 text-xs font-medium mb-1",children:"New"}),u.jsx("div",{className:"text-cyan-900 dark:text-cyan-100 text-2xl font-bold",children:v.new}),u.jsx("div",{className:"text-cyan-600 dark:text-cyan-400 text-xs mt-1",children:"0.0%"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("svg",{className:"w-5 h-5 text-slate-600 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phn loi khch hng"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="all"?"bg-blue-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:"Tt c khch hng"}),u.jsxs("button",{onClick:()=>x("vip"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="vip"?"bg-purple-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-purple-500 mr-2"}),"VIP - Khch hng qu"]}),u.jsxs("button",{onClick:()=>x("loyal"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="loyal"?"bg-blue-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-2"}),"Trung thnh"]}),u.jsxs("button",{onClick:()=>x("potential"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="potential"?"bg-green-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500 mr-2"}),"Tim nng"]}),u.jsxs("button",{onClick:()=>x("at-risk"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="at-risk"?"bg-orange-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-orange-500 mr-2"}),"Cn chm sc"]}),u.jsxs("button",{onClick:()=>x("lost"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="lost"?"bg-red-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 mr-2"})," mt"]}),u.jsxs("button",{onClick:()=>x("new"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="new"?"bg-cyan-600 text-white":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-cyan-500 mr-2"}),"Khch mi"]})]})]}),p.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("svg",{className:"w-16 h-16 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Khng c khch hng no."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(b=>{const k={VIP:{bg:"bg-gradient-to-br from-purple-400 to-purple-600 dark:from-purple-500 dark:to-purple-700",text:"VIP",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3 7 5 5-5 5 19-5L3 7Z"})})},Loyal:{bg:"bg-gradient-to-br from-blue-400 to-blue-600 dark:from-blue-500 dark:to-blue-700",text:"Trung thnh",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75 6.825 20.995l.99-5.766L3.63 11.255l5.807-.844L12 5l2.563 5.411 5.807.844-4.186 3.974.99 5.766L12 17.75Z"})})},Potential:{bg:"bg-gradient-to-br from-green-400 to-green-600 dark:from-green-500 dark:to-green-700",text:"Tim nng",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v5m0 0c1.886-1.257 4.63-1.034 6 1-1.886 1.257-1.886 3.743 0 5-1.37 2.034-4.114 2.257-6 1m0-12c-1.886-1.257-4.63-1.034-6 1 1.886 1.257 1.886 3.743 0 5 1.37 2.034 4.114 2.257 6 1m0 0v5"})})},"At Risk":{bg:"bg-gradient-to-br from-orange-400 to-orange-600 dark:from-orange-500 dark:to-orange-700",text:"Cn chm sc",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})})},Lost:{bg:"bg-gradient-to-br from-red-400 to-red-600 dark:from-red-500 dark:to-red-700",text:" mt",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 9-6 6m0-6 6 6M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})},New:{bg:"bg-gradient-to-br from-cyan-400 to-cyan-600 dark:from-cyan-500 dark:to-cyan-700",text:"Khch mi",icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v2m0 4v2m0 4v2m0 4v2M4.93 4.93l1.414 1.414M7.757 12l-1.414 1.414M4.93 19.07l1.414-1.414M19.07 4.93l-1.414 1.414M16.243 12l1.414 1.414M19.07 19.07l-1.414-1.414M2 12h2m4 0h2m4 0h2m4 0h2"})})}},N=b.segment?k[b.segment]:{bg:"bg-gradient-to-br from-slate-400 to-slate-600 dark:from-slate-500 dark:to-slate-700",text:"Khch hng",icon:u.jsx(TN,{className:"w-6 h-6"})},_=b.loyaltyPoints||0,T=Math.min(_/1e4*100,100);return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-shadow",children:[u.jsxs("div",{className:`${N.bg} p-4 text-white relative`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl flex items-center justify-center",children:N.icon}),u.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 bg-white/20 rounded-full backdrop-blur",children:N.text})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>s(b),className:"p-1.5 bg-white/20 hover:bg-white/30 rounded-lg transition-colors backdrop-blur",title:"Chnh sa",children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),u.jsx("button",{onClick:()=>y(b.id),className:"p-1.5 bg-white/20 hover:bg-red-500 rounded-lg transition-colors backdrop-blur",title:"Xa",children:u.jsx(fge,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold mb-1",children:b.name}),u.jsx("div",{className:"flex items-center gap-2 text-sm opacity-90",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15 .828 0 1.5-.672 1.5-1.5v-2.25a1.5 1.5 0 00-1.5-1.5h-1.158a1.5 1.5 0 00-1.092.468l-.936.996a1.5 1.5 0 01-1.392.444 12.035 12.035 0 01-7.29-7.29 1.5 1.5 0 01.444-1.392l.996-.936a1.5 1.5 0 00.468-1.092V6.75A1.5 1.5 0 006.75 5.25H4.5c-.828 0-1.5.672-1.5 1.5z"})}),b.phone||""]})})]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[b.vehicleModel&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:u.jsx(PR,{className:"w-4 h-4"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:b.vehicleModel}),b.licensePlate&&u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Bin s: ",b.licensePlate]})]})]}),u.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg p-3 border border-amber-200 dark:border-amber-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),u.jsx("span",{className:"text-xs font-semibold text-amber-900 dark:text-amber-200",children:"IM TCH LY"})]}),u.jsx("span",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:_.toLocaleString()})]}),u.jsx("div",{className:"mb-1",children:u.jsx("div",{className:"h-2 bg-amber-200 dark:bg-amber-900/50 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-amber-400 to-amber-600 transition-all duration-500",style:{width:`${T}%`}})})}),u.jsx("div",{className:"text-[10px] text-amber-700 dark:text-amber-300 text-right",children:"Mc tiu: 10,000 im"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:b.visitCount||0}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Ln n"})]}),u.jsxs("div",{className:"text-center border-x border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[((b.totalSpent||0)/1e6).toFixed(1),"M"]}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Chi tiu"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-[10px] font-semibold text-slate-700 dark:text-slate-300",children:b.lastVisit?`${Math.floor((Date.now()-new Date(b.lastVisit).getTime())/(1e3*60*60*24))} ngy`:""}),u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gh cui"})]})]})]})]},b.id)})})]}):u.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:"Tm theo tn hoc s in thoi...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:["Tng: ",u.jsx("span",{className:"font-bold",children:"0"})," nh cung cp"]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsx("span",{children:"Upload CSV"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(Xh,{className:"w-5 h-5"}),u.jsx("span",{children:"Thm mi"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("svg",{className:"w-16 h-16 text-slate-300 dark:text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Cha c nh cung cp."})]})]}),i&&u.jsx(U3e,{customer:i,onSave:t,onClose:()=>s(null)}),o&&u.jsx(z3e,{onClose:()=>c(!1)})]})},U3e=({customer:e,onSave:t,onClose:r})=>{const[a,n]=j.useState(e.name||""),[i,s]=j.useState(e.phone||""),[o,c]=j.useState(e.vehicleModel||""),[d,h]=j.useState(e.licensePlate||""),m=x=>{x.preventDefault(),a.trim()&&(t({id:e.id,name:a.trim(),phone:i.trim(),vehicleModel:o.trim(),licensePlate:d.trim()}),r())};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-white",children:e.id?"Sa khch hng":"Thm khch hng"}),u.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tn khch"}),u.jsx("input",{type:"text",placeholder:"Nhp tn khch",required:!0,value:a,onChange:x=>n(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"S in thoi"}),u.jsx("input",{type:"text",placeholder:"VD: 09xxxx",value:i,onChange:x=>s(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Xe"}),u.jsx("input",{type:"text",placeholder:"Dng xe",value:o,onChange:x=>c(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Bin s"}),u.jsx("input",{type:"text",placeholder:"VD: 59A1-123.45",value:d,onChange:x=>h(x.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),u.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[u.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 bg-primary-bg hover:bg-tertiary-bg text-primary-text border border-primary-border rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Lu"})]})]})]})})},z3e=({onClose:e})=>{const{setCustomers:t}=yi(),r=j.useRef(null),[a,n]=j.useState([]),[i,s]=j.useState(""),o=d=>{var x;const h=(x=d.target.files)==null?void 0:x[0];if(!h)return;s("");const m=new FileReader;m.onload=p=>{var T;const y=(T=p.target)==null?void 0:T.result;if(!y)return;const v=y.split(`
`).map(P=>P.trim()).filter(Boolean);if(v.length===0){s("File CSV trng.");return}const b=v[0].toLowerCase(),N=b.includes("name")||b.includes("phone")||b.includes("tn")||b.includes("st")?v.slice(1):v,_=[];for(const P of N){const O=P.split(",").map(L=>L.trim());O.length===0||!O[0]||_.push({name:O[0],phone:O[1]||void 0})}if(_.length===0){s("Khng tm thy d liu hp l trong CSV.");return}n(_)},m.readAsText(h)},c=()=>{if(a.length===0)return;const d=a.map(h=>({id:`CUS-${Date.now()}-${Math.random().toString(16).slice(2)}`,name:h.name,phone:h.phone,created_at:new Date().toISOString()}));t(h=>[...d,...h]),alert(` import ${d.length} khch hng.`),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import khch hng t CSV"}),u.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700",children:u.jsx(zz,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"space-y-3 text-sm",children:[u.jsxs("p",{className:"text-slate-600",children:["Chn file CSV vi ct u tin l ",u.jsx("strong",{children:"tn khch hng"}),", ct th hai l ",u.jsx("strong",{children:"s in thoi"})," (ty chn)."]}),u.jsx("p",{className:"text-slate-600 text-xs",children:'Dng u tin nu cha "name", "phone", "tn", "st" s t ng b qua (header).'}),u.jsx("input",{ref:r,type:"file",accept:".csv",onChange:o,className:"block w-full text-sm"}),i&&u.jsx("div",{className:"text-red-600 text-xs",children:i}),a.length>0&&u.jsxs("div",{className:"border rounded p-3 bg-slate-50 dark:bg-slate-900 max-h-64 overflow-y-auto",children:[u.jsxs("div",{className:"font-semibold mb-2",children:["Xem trc (",a.length," khch hng):"]}),u.jsxs("table",{className:"w-full text-xs",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-left border-b",children:[u.jsx("th",{className:"p-1",children:"Tn"}),u.jsx("th",{className:"p-1",children:"ST"})]})}),u.jsxs("tbody",{children:[a.slice(0,20).map((d,h)=>u.jsxs("tr",{className:"border-b",children:[u.jsx("td",{className:"p-1",children:d.name}),u.jsx("td",{className:"p-1",children:d.phone||"--"})]},h)),a.length>20&&u.jsx("tr",{children:u.jsxs("td",{colSpan:2,className:"p-1 text-slate-500",children:["... v ",a.length-20," khch hng na"]})})]})]})]}),u.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded hover:bg-slate-50",children:"Hu"}),u.jsxs("button",{disabled:a.length===0,onClick:c,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",a.length>0&&`(${a.length})`]})]})]})]})})},q3e=()=>{const{customers:e,suppliers:t,customerDebts:r,supplierDebts:a,currentBranchId:n,setCashTransactions:i,cashTransactions:s,setPaymentSources:o,paymentSources:c,payCustomerDebts:d,paySupplierDebts:h}=yi(),[m,x]=j.useState("customer"),[p,y]=j.useState(""),[v,b]=j.useState(!1),[k,N]=j.useState(!1),[_,T]=j.useState([]),[P,O]=j.useState([]),[L,U]=j.useState(!1),I=j.useMemo(()=>r.filter(be=>be.branchId===n),[r,n]),K=j.useMemo(()=>a.filter(be=>be.branchId===n),[a,n]),D=j.useMemo(()=>{if(!p)return I;const be=p.toLowerCase();return I.filter(J=>{var M,z;return J.customerName.toLowerCase().includes(be)||((M=J.phone)==null?void 0:M.includes(be))||((z=J.licensePlate)==null?void 0:z.toLowerCase().includes(be))})},[I,p]),F=j.useMemo(()=>{if(!p)return K;const be=p.toLowerCase();return K.filter(J=>J.supplierName.toLowerCase().includes(be))},[K,p]),H=j.useMemo(()=>I.reduce((be,J)=>be+J.remainingAmount,0),[I]),Y=j.useMemo(()=>K.reduce((be,J)=>be+J.remainingAmount,0),[K]),ne=j.useMemo(()=>_.reduce((be,J)=>{const M=I.find(z=>z.customerId===J);return be+((M==null?void 0:M.remainingAmount)||0)},0),[_,I]),X=j.useMemo(()=>P.reduce((be,J)=>{const M=K.find(z=>z.supplierId===J);return be+((M==null?void 0:M.remainingAmount)||0)},0),[P,K]),ae=(be,J)=>{T(J?[..._,be]:_.filter(M=>M!==be))},ue=(be,J)=>{O(J?[...P,be]:P.filter(M=>M!==be))},se=()=>{U(!0)};return u.jsxs("div",{className:"h-full flex flex-col bg-secondary-bg",children:[u.jsx("div",{className:"bg-primary-bg border-b border-primary-border",children:u.jsx("div",{className:"flex items-center justify-between px-6",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>x("customer"),className:`px-6 py-4 font-medium text-sm transition-all ${m==="customer"?"text-cyan-600 dark:text-cyan-400 border-b-2 border-cyan-600 dark:border-cyan-400":"text-secondary-text hover:text-primary-text"}`,children:"Cng n khch hng"}),u.jsx("button",{onClick:()=>x("supplier"),className:`px-6 py-4 font-medium text-sm transition-all ${m==="supplier"?"text-cyan-600 dark:text-cyan-400 border-b-2 border-cyan-600 dark:border-cyan-400":"text-secondary-text hover:text-primary-text"}`,children:"Cng n nh cung cp"})]})})}),u.jsx("div",{className:"bg-primary-bg px-6 py-4 border-b border-primary-border",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx("svg",{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"text",placeholder:m==="customer"?"Tm ST / Tn KH / Tn sn phm / IMEI":"Tm tn / ST nh cung cp",value:p,onChange:be=>y(be.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-primary-bg border border-secondary-border rounded-lg text-primary-text placeholder-tertiary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsxs("div",{className:"text-secondary-text text-sm",children:["Tng cng n:"," ",u.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:Be(m==="customer"?H:Y)})]}),u.jsxs("button",{onClick:()=>m==="customer"?b(!0):N(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(Xh,{className:"w-5 h-5"}),u.jsx("span",{children:m==="customer"?"Th n":"Chi tr n"})]}),u.jsx("button",{className:"p-2.5 text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})}),u.jsx("div",{className:"flex-1 overflow-auto",children:m==="customer"?u.jsx("div",{className:"p-6",children:D.length===0?u.jsx("div",{className:"text-center py-12 text-tertiary-text",children:"Khng c cng n."}):u.jsx("div",{className:"space-y-3",children:D.map(be=>u.jsx("div",{className:"bg-primary-bg border border-primary-border rounded-lg p-4 hover:border-secondary-border transition-colors shadow-sm",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("input",{type:"checkbox",checked:_.includes(be.customerId),onChange:J=>ae(be.customerId,J.target.checked),className:"mt-1 w-4 h-4 rounded border-secondary-border text-cyan-600 focus:ring-cyan-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("h3",{className:"text-primary-text font-semibold text-lg",children:be.customerName})}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"text-cyan-600 dark:text-cyan-400",children:["Phone: ",be.phone||"--"]}),u.jsxs("div",{className:"text-cyan-600 dark:text-cyan-400",children:["n Hng: ",be.licensePlate||"--"]}),u.jsxs("div",{className:"text-tertiary-text",children:["Ngy to n:"," ",Qa(new Date(be.createdDate))]})]})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"NI DUNG"}),u.jsx("div",{className:"text-primary-text text-sm",children:be.description})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"S TIN"}),u.jsx("div",{className:"text-primary-text font-semibold",children:Be(be.totalAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:" TR"}),u.jsx("div",{className:"text-primary-text font-semibold",children:Be(be.paidAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"CN N"}),u.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold text-lg",children:Be(be.remainingAmount)})]})}),u.jsx("button",{className:"ml-4 p-2 text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},be.customerId))})}):u.jsx("div",{className:"p-6",children:F.length===0?u.jsx("div",{className:"text-center py-12 text-tertiary-text",children:"Khng c cng n."}):u.jsx("div",{className:"space-y-3",children:F.map(be=>u.jsx("div",{className:"bg-primary-bg border border-primary-border rounded-lg p-4 hover:border-secondary-border transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[u.jsx("input",{type:"checkbox",checked:P.includes(be.supplierId),onChange:J=>ue(be.supplierId,J.target.checked),className:"mt-1 w-4 h-4 rounded border-secondary-border bg-primary-bg text-cyan-600 focus:ring-cyan-500 focus:ring-offset-0"}),u.jsx("div",{className:"flex-1",children:u.jsx("div",{className:"flex items-center gap-2 mb-1",children:u.jsx("h3",{className:"text-primary-text font-semibold text-lg",children:be.supplierName})})})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"NI DUNG"}),u.jsx("div",{className:"text-primary-text text-sm",children:be.description})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"S TIN"}),u.jsx("div",{className:"text-primary-text font-semibold",children:Be(be.totalAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:" TR"}),u.jsx("div",{className:"text-primary-text font-semibold",children:Be(be.paidAmount)})]})}),u.jsx("div",{className:"text-right ml-8",children:u.jsxs("div",{className:"mb-2",children:[u.jsx("div",{className:"text-tertiary-text text-xs mb-1",children:"CN N"}),u.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold text-lg",children:Be(be.remainingAmount)})]})}),u.jsx("button",{className:"ml-4 p-2 text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},be.supplierId))})})}),(m==="customer"&&_.length>0||m==="supplier"&&P.length>0)&&u.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50",children:u.jsxs("button",{onClick:se,className:"flex items-center gap-3 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold shadow-2xl transition-all hover:scale-105",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("span",{children:[" chn"," ",m==="customer"?_.length:P.length," ","n"]}),u.jsx("span",{className:"mx-2",children:"|"}),u.jsxs("span",{className:"text-xl font-bold",children:["Tr ht n (",Be(m==="customer"?ne:X),")"]})]})}),v&&u.jsx($3e,{customers:e,customerDebts:r,onClose:()=>b(!1),onCollect:be=>{const M={id:`CT-${Date.now()}`,type:"income",date:be.timestamp,amount:be.amount,recipient:be.customerName,notes:`Thu n khch hng - ${be.customerName}`,paymentSourceId:be.paymentMethod,branchId:n,category:"debt_collection"};i([M,...s]),o(c.map(z=>z.id===be.paymentMethod?{...z,balance:{...z.balance,[n]:(z.balance[n]||0)+be.amount}}:z)),b(!1)}}),L&&u.jsx(W3e,{isOpen:L,onClose:()=>{U(!1)},selectedDebts:m==="customer"?I.filter(be=>_.includes(be.customerId)):K.filter(be=>P.includes(be.supplierId)),totalAmount:m==="customer"?ne:X,debtType:m,onConfirm:(be,J)=>{m==="customer"?(d(_,be,J),T([])):(h(P,be,J),O([])),U(!1),Nt.success(` thanh ton thnh cng ${Be(m==="customer"?ne:X)} qua ${be==="cash"?"Tin mt":"Chuyn khon"}`)}}),k&&u.jsx(H3e,{suppliers:t,supplierDebts:a,onClose:()=>N(!1),onPay:be=>{const M={id:`CT-${Date.now()}`,type:"expense",date:be.timestamp,amount:be.amount,recipient:be.supplierName,notes:`Tr n nh cung cp - ${be.supplierName}`,paymentSourceId:be.paymentMethod,branchId:n,category:"debt_payment"};i([M,...s]),o(c.map(z=>z.id===be.paymentMethod?{...z,balance:{...z.balance,[n]:(z.balance[n]||0)-be.amount}}:z)),N(!1)}})]})},$3e=({customers:e,customerDebts:t,onClose:r,onCollect:a})=>{const[n,i]=j.useState(""),[s,o]=j.useState("0"),[c,d]=j.useState("cash"),[h,m]=j.useState(new Date().toLocaleString("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(" "," ")),x=j.useMemo(()=>t.find(v=>v.customerId===n),[n,t]),p=(x==null?void 0:x.remainingAmount)||0,y=v=>{v.preventDefault();const b=e.find(k=>k.id===n);b&&a&&a({customerName:b.name,amount:parseFloat(s),paymentMethod:c,timestamp:h}),r()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-secondary-bg rounded-xl shadow-2xl max-w-lg w-full border border-primary-border",children:[u.jsx("div",{className:"px-6 py-4 border-b border-primary-border",children:u.jsx("h2",{className:"text-xl font-semibold text-primary-text",children:"Thu n khch hng"})}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tm kim v chn mt khch hng ang n"}),u.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Chn khch hng..."}),t.map(v=>u.jsxs("option",{value:v.customerId,children:[v.customerName," - ",Be(v.remainingAmount)]},v.customerId))]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text",children:"Nhp s tin thanh ton"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 text-sm",children:Be(parseFloat(s)||0)})]}),u.jsx("input",{type:"number",value:s,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-tertiary-text",children:"Cn n:"}),u.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:Be(p)})]}),u.jsx("button",{type:"button",onClick:()=>o(p.toString()),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 text-sm mt-1",children:"in s cn n"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:c==="cash",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:c==="bank",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu thu"}),u.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsx("button",{type:"submit",disabled:!n||parseFloat(s)<=0,className:"w-full py-3 bg-primary-bg hover:bg-tertiary-bg text-primary-text rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"To phiu thu"})]}),u.jsx("div",{className:"px-6 py-4 border-t border-primary-border flex justify-end",children:u.jsx("button",{onClick:r,className:"px-6 py-2 text-secondary-text hover:text-primary-text transition-colors",children:"ng"})})]})})},H3e=({suppliers:e,supplierDebts:t,onClose:r,onPay:a})=>{const[n,i]=j.useState(""),[s,o]=j.useState("0"),[c,d]=j.useState("cash"),[h,m]=j.useState(new Date().toLocaleString("sv-SE",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(" "," ")),x=j.useMemo(()=>t.find(v=>v.supplierId===n),[n,t]),p=(x==null?void 0:x.remainingAmount)||0,y=v=>{v.preventDefault();const b=e.find(k=>k.id===n);b&&a&&a({supplierName:b.name,amount:parseFloat(s),paymentMethod:c,timestamp:h}),r()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-secondary-bg rounded-xl shadow-2xl max-w-lg w-full border border-primary-border",children:[u.jsx("div",{className:"px-6 py-4 border-b border-primary-border",children:u.jsx("h2",{className:"text-xl font-semibold text-primary-text",children:"Chi tr n nh cung cp"})}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Tm kim v chn mt nh cung cp ang n"}),u.jsxs("select",{value:n,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Chn nh cung cp..."}),t.map(v=>u.jsxs("option",{value:v.supplierId,children:[v.supplierName," - ",Be(v.remainingAmount)]},v.supplierId))]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text",children:"Nhp s tin thanh ton"}),u.jsx("span",{className:"text-cyan-600 dark:text-cyan-400 text-sm",children:Be(parseFloat(s)||0)})]}),u.jsx("input",{type:"number",value:s,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-tertiary-text",children:"Cn n:"}),u.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:Be(p)})]}),u.jsx("button",{type:"button",onClick:()=>o(p.toString()),className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-700 dark:hover:text-cyan-300 text-sm mt-1",children:"in s cn n"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:c==="cash",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:c==="bank",onChange:v=>d(v.target.value),className:"w-4 h-4 text-cyan-600 bg-primary-bg border-secondary-border focus:ring-cyan-500"}),u.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu chi"}),u.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),className:"w-full px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg text-primary-text focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),u.jsx("button",{type:"submit",disabled:!n||parseFloat(s)<=0,className:"w-full py-3 bg-primary-bg hover:bg-tertiary-bg text-primary-text rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"To phiu chi"})]}),u.jsx("div",{className:"px-6 py-4 border-t border-primary-border flex justify-end",children:u.jsx("button",{onClick:r,className:"px-6 py-2 text-secondary-text hover:text-primary-text transition-colors",children:"ng"})})]})})},W3e=({isOpen:e,onClose:t,selectedDebts:r,totalAmount:a,debtType:n,onConfirm:i})=>{const[s,o]=j.useState(null),[c,d]=j.useState(()=>{const m=new Date,x=String(m.getDate()).padStart(2,"0"),p=String(m.getMonth()+1).padStart(2,"0"),y=m.getFullYear(),v=String(m.getHours()).padStart(2,"0"),b=String(m.getMinutes()).padStart(2,"0");return`${x}-${p}-${y} ${v}:${b}`});if(!e)return null;const h=m=>{if(m.preventDefault(),!s){Nt.warning("Vui lng chn hnh thc thanh ton");return}const[x,p]=c.split(" "),[y,v,b]=x.split("-"),[k,N]=p.split(":"),_=new Date(parseInt(b),parseInt(v)-1,parseInt(y),parseInt(k),parseInt(N)).toISOString();i(s,_)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-secondary-bg rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-primary-border",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("h2",{className:"text-xl font-semibold text-primary-text",children:["Tr ht n (",n==="customer"?"nhiu n hng":"nhiu nh cung cp",")"]})]}),u.jsx("button",{onClick:t,className:"text-secondary-text hover:text-primary-text transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("form",{onSubmit:h,className:"p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"-"}),u.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"Chi tit"}),u.jsx("span",{className:"text-sm font-medium text-secondary-text",children:"S tin"})]}),u.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map((m,x)=>{const p="customerName"in m,y=p?m.customerName:m.supplierName,v=m.description;return u.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-tertiary-bg rounded",children:[u.jsx("span",{className:"text-sm text-tertiary-text",children:x+1}),u.jsxs("div",{className:"flex-1 mx-3",children:[u.jsx("div",{className:"text-sm font-medium text-primary-text",children:v}),u.jsx("div",{className:"text-xs text-tertiary-text",children:y})]}),u.jsx("span",{className:"text-sm font-semibold text-primary-text",children:Be(m.remainingAmount)})]},x)})}),u.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-primary-border",children:[u.jsx("span",{className:"font-semibold text-primary-text",children:"TNG"}),u.jsx("span",{className:"text-lg font-bold text-red-500",children:Be(a)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-3",children:"Hnh thc thanh ton:"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:s==="cash",onChange:m=>o(m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-primary-text",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"paymentMethod",value:"bank",checked:s==="bank",onChange:m=>o(m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-primary-text",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-secondary-text mb-2",children:"Thi gian to phiu thu"}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-primary-bg border border-secondary-border rounded-lg",children:[u.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),className:"flex-1 bg-transparent text-primary-text outline-none"}),u.jsx("svg",{className:"w-5 h-5 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),u.jsx("svg",{className:"w-5 h-5 text-tertiary-text",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 border border-secondary-border text-secondary-text rounded-lg hover:bg-primary-bg transition-colors font-medium",children:"NG"}),u.jsx("button",{type:"submit",disabled:!s,className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600",children:"TO PHIU THU"})]})]})]})})},rH=()=>{const{cashTransactions:e,paymentSources:t,currentBranchId:r,setCashTransactions:a,setPaymentSources:n}=yi();G0();const i=Pj(),s=Dj(),[o,c]=j.useState("all"),[d,h]=j.useState("all"),[m,x]=j.useState("month"),[p,y]=j.useState(!1),v=j.useMemo(()=>{let k=e.filter(T=>T.branchId===r);o!=="all"&&(k=k.filter(T=>T.type===o)),d!=="all"&&(k=k.filter(T=>T.paymentSourceId===d));const N=new Date,_=new Date(N.getFullYear(),N.getMonth(),N.getDate());switch(m){case"today":k=k.filter(O=>new Date(O.date)>=_);break;case"week":const T=new Date(_);T.setDate(T.getDate()-7),k=k.filter(O=>new Date(O.date)>=T);break;case"month":const P=new Date(_);P.setMonth(P.getMonth()-1),k=k.filter(O=>new Date(O.date)>=P);break}return k.sort((T,P)=>new Date(P.date).getTime()-new Date(T.date).getTime())},[e,r,o,d,m]),b=j.useMemo(()=>{var O,L;const k=v.filter(U=>U.type==="income").reduce((U,I)=>U+I.amount,0),N=v.filter(U=>U.type==="expense").reduce((U,I)=>U+I.amount,0),_=k-N,T=((O=t.find(U=>U.id==="cash"))==null?void 0:O.balance[r])||0,P=((L=t.find(U=>U.id==="bank"))==null?void 0:L.balance[r])||0;return{income:k,expense:N,balance:_,cashBalance:T,bankBalance:P,totalBalance:T+P}},[v,t,r]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"S qu"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Theo di thu chi tin mt v chuyn khon"})]}),u.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),u.jsx("span",{children:"Thm giao dch"})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),u.jsx("span",{children:"Thu"})]}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Be(b.income)})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),u.jsx("span",{children:"Chi"})]}),u.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:Be(b.expense)})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Chnh lch"}),u.jsx("div",{className:`text-2xl font-bold ${b.balance>=0?"text-blue-900 dark:text-blue-100":"text-red-600 dark:text-red-400"}`,children:Be(b.balance)})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border-2 border-amber-200 dark:border-amber-800",children:[u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:"Tin mt"}),u.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:Be(b.cashBalance)})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border-2 border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-purple-600 dark:text-purple-400 text-sm font-medium mb-2",children:"Ngn hng"}),u.jsx("div",{className:"text-purple-900 dark:text-purple-100 text-2xl font-bold",children:Be(b.bankBalance)})]})]}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Loi:"}),u.jsx("div",{className:"flex gap-2",children:[{value:"all",label:"Tt c"},{value:"income",label:"Thu"},{value:"expense",label:"Chi"}].map(k=>u.jsx("button",{onClick:()=>c(k.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${o===k.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:k.label},k.value))})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ngun tin:"}),u.jsxs("select",{value:d,onChange:k=>h(k.target.value),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-sm text-slate-900 dark:text-white",children:[u.jsx("option",{value:"all",children:"Tt c"}),u.jsx("option",{value:"cash",children:"Tin mt"}),u.jsx("option",{value:"bank",children:"Ngn hng"})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thi gian:"}),u.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Hm nay"},{value:"week",label:"7 ngy"},{value:"month",label:"30 ngy"},{value:"all",label:"Tt c"}].map(k=>u.jsx("button",{onClick:()=>x(k.value),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${m===k.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:k.label},k.value))})]})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngy"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Loi"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Danh mc"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"i tng"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ni dung"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngun tin"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"S tin"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:v.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400",children:"Khng c giao dch no"})}):v.map(k=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100",children:Qa(new Date(k.date))}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${k.type==="income"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:k.type==="income"?" Thu":" Chi"})}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:V3e(k.category)}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-slate-100 font-medium",children:k.recipient||"--"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:k.notes||"--"}),u.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:k.paymentSourceId==="cash"?"Tin mt":"Ngn hng"}),u.jsxs("td",{className:`px-4 py-3 text-right text-sm font-semibold ${k.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[k.type==="income"?"+":"-",Be(k.amount)]}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("button",{className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]},k.id))})]})})]}),p&&u.jsx(K3e,{onClose:()=>y(!1),onSave:async k=>{if(!k.amount||k.amount<=0){Nt.warning("S tin phi > 0");return}try{const N=await i.mutateAsync({type:k.type,amount:k.amount,branchId:r,paymentSourceId:k.paymentSourceId,date:k.date,notes:k.notes,category:k.category,recipient:k.recipient});if(N!=null&&N.ok){a(T=>[N.data,...T]);const _=k.type==="income"?k.amount:-k.amount;await s.mutateAsync({id:k.paymentSourceId,branchId:r,delta:_}),n(T=>T.map(P=>P.id===k.paymentSourceId?{...P,balance:{...P.balance,[r]:(P.balance[r]||0)+_}}:P)),Nt.success(" thm giao dch s qu"),y(!1)}else N!=null&&N.error&&Nt.error(N.error.message||"Ghi giao dch tht bi")}catch(N){Nt.error((N==null?void 0:N.message)||"Li khng xc nh")}}})]})},V3e=e=>e?{sale_income:"Bn hng",service_income:"Dch v",other_income:"Thu khc",inventory_purchase:"Mua hng",salary:"Lng nhn vin",loan_payment:"Tr n vay",debt_collection:"Thu n khch hng",debt_payment:"Tr n nh cung cp",sale_refund:"Hon tr",other_expense:"Chi khc"}[e]||e:"--",K3e=({onClose:e,onSave:t})=>{const[r,a]=j.useState("income"),[n,i]=j.useState("0"),[s,o]=j.useState(""),[c,d]=j.useState("cash"),[h,m]=j.useState(""),[x,p]=j.useState(""),[y,v]=j.useState(new Date().toISOString().split("T")[0]),b=_=>{_.preventDefault(),t({type:r,amount:parseFloat(n),category:s,paymentSourceId:c,recipient:h,notes:x,date:new Date(y).toISOString()})},k=[{value:"sale_income",label:"Tin bn hng"},{value:"service_income",label:"Tin dch v"},{value:"other_income",label:"Thu nhp khc"}],N=[{value:"inventory_purchase",label:"Mua hng"},{value:"salary",label:"Lng nhn vin"},{value:"rent",label:"Tin thu mt bng"},{value:"utilities",label:"in nc"},{value:"sale_refund",label:"Hon tr khch hng"},{value:"other_expense",label:"Chi ph khc"}];return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm giao dch"})}),u.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loi giao dch"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"income",checked:r==="income",onChange:_=>a(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Thu tin"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"expense",checked:r==="expense",onChange:_=>a(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Chi tin"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin"}),u.jsx("input",{type:"number",value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Danh mc"}),u.jsxs("select",{value:s,onChange:_=>o(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0,children:[u.jsx("option",{value:"",children:"Chn danh mc"}),(r==="income"?k:N).map(_=>u.jsx("option",{value:_.value,children:_.label},_.value))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"i tng"}),u.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value),placeholder:r==="income"?"Thu tin t ai?":"Chi tin cho ai?",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngun tin"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"cash",checked:c==="cash",onChange:_=>d(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"bank",checked:c==="bank",onChange:_=>d(_.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Ngn hng"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy giao dch"}),u.jsx("input",{type:"date",value:y,onChange:_=>v(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ni dung"}),u.jsx("textarea",{value:x,onChange:_=>p(_.target.value),rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",placeholder:"Ghi ch v giao dch..."})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Lu giao dch"})]})]})]})})},aH=()=>{const{loans:e,upsertLoan:t,upsertLoanPayment:r,currentBranchId:a,setCashTransactions:n,cashTransactions:i,setPaymentSources:s,paymentSources:o}=yi(),[c,d]=j.useState(!1),[h,m]=j.useState(!1),[x,p]=j.useState(null),y=j.useMemo(()=>{const b=e.reduce((P,O)=>P+O.principal,0),k=e.reduce((P,O)=>P+O.remainingAmount,0),N=b-k,_=e.filter(P=>P.status==="active").length,T=e.filter(P=>P.status==="overdue").length;return{totalLoans:b,totalRemaining:k,totalPaid:N,activeLoans:_,overdueLoans:T}},[e]),v=j.useMemo(()=>({active:e.filter(b=>b.status==="active"),overdue:e.filter(b=>b.status==="overdue"),paid:e.filter(b=>b.status==="paid")}),[e]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Qun l vn & vay"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Theo di cc khon vay v lch tr n"})]}),u.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(Xh,{className:"w-5 h-5"}),u.jsx("span",{children:"Thm khon vay"})]})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border-2 border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Tng vay"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:Be(y.totalLoans)})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border-2 border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:"Cn n"}),u.jsx("div",{className:"text-red-900 dark:text-red-100 text-2xl font-bold",children:Be(y.totalRemaining)})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border-2 border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:" tr"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Be(y.totalPaid)})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border-2 border-amber-200 dark:border-amber-800",children:[u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:"ang vay"}),u.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:y.activeLoans}),u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs mt-1",children:"khon"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border-2 border-orange-200 dark:border-orange-800",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-2",children:"Qu hn"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:y.overdueLoans}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"khon"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cc khon vay ang hot ng"}),v.active.length===0?u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center text-slate-500 dark:text-slate-400",children:"Khng c khon vay no ang hot ng"}):u.jsx("div",{className:"grid gap-4",children:v.active.map(b=>u.jsx(k_,{loan:b,onPayment:()=>{p(b),m(!0)}},b.id))})]}),v.overdue.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400 mb-4",children:"Cc khon vay qu hn"}),u.jsx("div",{className:"grid gap-4",children:v.overdue.map(b=>u.jsx(k_,{loan:b,onPayment:()=>{p(b),m(!0)},isOverdue:!0},b.id))})]}),v.paid.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cc khon vay  thanh ton"}),u.jsx("div",{className:"grid gap-4",children:v.paid.map(b=>u.jsx(k_,{loan:b,isPaid:!0},b.id))})]})]}),c&&u.jsx(G3e,{onClose:()=>d(!1),onSave:b=>{t(b),d(!1)}}),h&&x&&u.jsx(Y3e,{loan:x,onClose:()=>{m(!1),p(null)},onSave:b=>{t({...x,remainingAmount:b.remainingAmount,status:b.remainingAmount===0?"paid":x.status}),r(b);const N={id:`CT-${Date.now()}`,type:"expense",date:b.paymentDate,amount:b.totalAmount,recipient:x.lenderName,notes:`Tr n vay - ${x.lenderName} (Gc: ${Be(b.principalAmount)}, Li: ${Be(b.interestAmount)})`,paymentSourceId:b.paymentMethod,branchId:a,category:"loan_payment"};n([N,...i]),s(o.map(_=>_.id===b.paymentMethod?{..._,balance:{..._.balance,[a]:(_.balance[a]||0)-b.totalAmount}}:_)),m(!1),p(null)}})]})},k_=({loan:e,onPayment:t,isOverdue:r,isPaid:a})=>{const n=(e.principal-e.remainingAmount)/e.principal*100,i=Math.ceil((new Date(e.endDate).getTime()-new Date().getTime())/(1e3*60*60*24));return u.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-lg border-2 p-6 ${r?"border-orange-300 dark:border-orange-700":a?"border-green-300 dark:border-green-700":"border-slate-200 dark:border-slate-700"}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:e.lenderName}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.loanType==="bank"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":e.loanType==="personal"?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:e.loanType==="bank"?"Ngn hng":e.loanType==="personal"?"C nhn":"Khc"})]}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:e.purpose})]}),!a&&u.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Tr n"})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"S tin vay"}),u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:Be(e.principal)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Cn n"}),u.jsx("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:Be(e.remainingAmount)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Li sut"}),u.jsxs("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:[e.interestRate,"%/nm"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Tr hng thng"}),u.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:Be(e.monthlyPayment)})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-2",children:[u.jsxs("span",{children:[" tr ",n.toFixed(1),"%"]}),u.jsx("span",{children:!a&&(r?"Qu hn":i>0?`Cn ${i} ngy`:"n hn hm nay")})]}),u.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all ${r?"bg-orange-500":a?"bg-green-500":"bg-blue-500"}`,style:{width:`${n}%`}})})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[u.jsxs("span",{children:["Ngy vay: ",Qa(new Date(e.startDate))]}),u.jsxs("span",{children:["n hn: ",Qa(new Date(e.endDate))]})]})]})},G3e=({onClose:e,onSave:t})=>{const[r,a]=j.useState(""),[n,i]=j.useState("bank"),[s,o]=j.useState("0"),[c,d]=j.useState("0"),[h,m]=j.useState("12"),[x,p]=j.useState(new Date().toISOString().split("T")[0]),[y,v]=j.useState(""),[b,k]=j.useState(""),N=_=>{_.preventDefault();const T=parseFloat(s),P=parseFloat(c),O=parseInt(h),L=P/100/12,U=T*(L*Math.pow(1+L,O))/(Math.pow(1+L,O)-1),I=new Date(x),K=new Date(I);K.setMonth(K.getMonth()+O);const D={lenderName:r,loanType:n,principal:T,interestRate:P,term:O,startDate:I.toISOString(),endDate:K.toISOString(),remainingAmount:T,monthlyPayment:isNaN(U)?0:U,status:"active",purpose:y,collateral:b};t(D)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-2xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] overflow-y-auto",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700 sticky top-0 bg-white dark:bg-slate-800",children:u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm khon vay mi"})}),u.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ngn hng/Ngi cho vay *"}),u.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Loi vay *"}),u.jsxs("select",{value:n,onChange:_=>i(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",children:[u.jsx("option",{value:"bank",children:"Ngn hng"}),u.jsx("option",{value:"personal",children:"C nhn"}),u.jsx("option",{value:"other",children:"Khc"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S tin vay *"}),u.jsx("input",{type:"number",value:s,onChange:_=>o(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Li sut (%/nm) *"}),u.jsx("input",{type:"number",step:"0.1",value:c,onChange:_=>d(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"K hn (thng) *"}),u.jsx("input",{type:"number",value:h,onChange:_=>m(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy vay *"}),u.jsx("input",{type:"date",value:x,onChange:_=>p(_.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mc ch vay"}),u.jsx("input",{type:"text",value:y,onChange:_=>v(_.target.value),placeholder:"V d: M rng ca hng, mua thit b...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ti sn th chp"}),u.jsx("input",{type:"text",value:b,onChange:_=>k(_.target.value),placeholder:"V d: S  nh, giy t xe...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Thm khon vay"})]})]})]})})},Y3e=({loan:e,onClose:t,onSave:r})=>{const[a,n]=j.useState(e.monthlyPayment.toString()),[i,s]=j.useState("0"),[o,c]=j.useState("bank"),[d,h]=j.useState(new Date().toISOString().split("T")[0]),[m,x]=j.useState(""),p=parseFloat(a)+parseFloat(i),y=e.remainingAmount-parseFloat(a),v=b=>{b.preventDefault();const k={id:`LOANPAY-${Date.now()}`,loanId:e.id,paymentDate:new Date(d).toISOString(),principalAmount:parseFloat(a),interestAmount:parseFloat(i),totalAmount:p,remainingAmount:Math.max(0,y),paymentMethod:o,notes:m,branchId:e.branchId};r(k)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:["Tr n - ",e.lenderName]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["Cn n: ",Be(e.remainingAmount)]})]}),u.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tin gc *"}),u.jsx("input",{type:"number",value:a,onChange:b=>n(b.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tin li"}),u.jsx("input",{type:"number",value:i,onChange:b=>s(b.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tng tin tr:"}),u.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:Be(p)})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cn li sau khi tr:"}),u.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:Be(Math.max(0,y))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hnh thc thanh ton"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"cash",checked:o==="cash",onChange:b=>c(b.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Tin mt"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",value:"bank",checked:o==="bank",onChange:b=>c(b.target.value),className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-slate-900 dark:text-white",children:"Chuyn khon"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy tr"}),u.jsx("input",{type:"date",value:d,onChange:b=>h(b.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi ch"}),u.jsx("textarea",{value:m,onChange:b=>x(b.target.value),rows:2,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Xc nhn tr n"})]})]})]})})},X3e=()=>{const[e,t]=j.useState("cashbook");return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-800 dark:to-slate-900 rounded-lg shadow-lg border border-primary-border p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"flex items-center gap-2 text-2xl font-bold text-primary-text mb-2",children:[u.jsx(bJ,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"}),"Qun l Ti chnh"]}),u.jsx("p",{className:"text-secondary-text",children:"Qun l s qu, khon vay v cc giao dch ti chnh"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:()=>t("cashbook"),className:`px-6 py-3 rounded-lg font-medium transition-all shadow-md ${e==="cashbook"?"bg-blue-600 text-white shadow-blue-500/50 scale-105":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx($x,{className:"w-4 h-4"})," S qu"]}),u.jsxs("button",{onClick:()=>t("loans"),className:`px-6 py-3 rounded-lg font-medium transition-all shadow-md ${e==="loans"?"bg-cyan-600 text-white shadow-cyan-500/50 scale-105":"bg-primary-bg text-secondary-text border border-primary-border hover:bg-tertiary-bg"}`,children:[u.jsx(OR,{className:"w-4 h-4"})," Khon vay"]})]})]})}),u.jsxs("div",{children:[e==="cashbook"&&u.jsx(rH,{}),e==="loans"&&u.jsx(aH,{})]})]})},nH=()=>{const{employees:e,payrollRecords:t,upsertEmployee:r,upsertPayrollRecord:a,currentBranchId:n}=yi(),{mutateAsync:i}=Pj(),{mutateAsync:s}=Dj(),[o,c]=j.useState(new Date().toISOString().slice(0,7)),[d,h]=j.useState("employees"),[m,x]=j.useState(!1),[p,y]=j.useState(!1),v=j.useMemo(()=>t.filter(k=>k.month===o),[t,o]),b=j.useMemo(()=>{const k=e.filter(O=>O.status==="active").length,N=v.reduce((O,L)=>O+L.baseSalary,0),_=v.reduce((O,L)=>O+L.netSalary,0),T=v.filter(O=>O.paymentStatus==="paid").length,P=v.filter(O=>O.paymentStatus==="pending").length;return{totalEmployees:k,totalBaseSalary:N,totalNetSalary:_,paidCount:T,pendingCount:P}},[e,v]);return u.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("div",{className:"px-6 py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Qun l lng"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Qun l nhn vin v tnh lng"})]}),u.jsxs("button",{onClick:()=>d==="employees"?x(!0):y(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:[u.jsx(Xh,{className:"w-5 h-5"}),u.jsx("span",{children:d==="employees"?"Thm nhn vin":"Tnh lng thng"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>h("employees"),className:`px-4 py-2 rounded-t-lg font-medium text-sm transition-colors ${d==="employees"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:["Danh sch nhn vin (",e.filter(k=>k.status==="active").length,")"]}),u.jsx("button",{onClick:()=>h("payroll"),className:`px-4 py-2 rounded-t-lg font-medium text-sm transition-colors ${d==="payroll"?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-b-2 border-blue-600":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:"Bng lng"})]})]})}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:d==="employees"?u.jsx(Q3e,{employees:e,onEdit:k=>console.log("Edit",k)}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chn thng"}),u.jsx("input",{type:"month",value:o,onChange:k=>c(k.target.value),className:"px-4 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]})}),u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-2",children:"Tng lng c bn"}),u.jsx("div",{className:"text-blue-900 dark:text-blue-100 text-2xl font-bold",children:Be(b.totalBaseSalary)})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-green-600 dark:text-green-400 text-sm font-medium mb-2",children:"Tng lng thc nhn"}),u.jsx("div",{className:"text-green-900 dark:text-green-100 text-2xl font-bold",children:Be(b.totalNetSalary)})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border border-amber-200 dark:border-amber-800",children:[u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-sm font-medium mb-2",children:" tr lng"}),u.jsx("div",{className:"text-amber-900 dark:text-amber-100 text-2xl font-bold",children:b.paidCount}),u.jsx("div",{className:"text-amber-600 dark:text-amber-400 text-xs mt-1",children:"nhn vin"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-sm font-medium mb-2",children:"Cha tr"}),u.jsx("div",{className:"text-orange-900 dark:text-orange-100 text-2xl font-bold",children:b.pendingCount}),u.jsx("div",{className:"text-orange-600 dark:text-orange-400 text-xs mt-1",children:"nhn vin"})]})]})]}),u.jsx(J3e,{payroll:v,onMarkAsPaid:async(k,N)=>{const _=t.find(T=>T.id===k);_&&(a({..._,paymentStatus:"paid",paymentDate:new Date().toISOString(),paymentMethod:N}),await i({type:"expense",amount:_.netSalary,branchId:n,paymentSourceId:N,category:"salary",payrollRecordId:_.id,recipient:_.employeeName,notes:`Tr lng thng ${o} - ${_.employeeName}`,date:new Date().toISOString()}),await s({id:N,branchId:n,delta:-_.netSalary}))}})]})}),m&&u.jsx(Z3e,{onClose:()=>x(!1),onSave:k=>{r(k),x(!1)}}),p&&u.jsx(eSe,{employees:e.filter(k=>k.status==="active"),month:o,onClose:()=>y(!1),onSave:k=>{k.forEach(N=>a(N)),y(!1)}})]})},Q3e=({employees:e,onEdit:t})=>e.length===0?u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cha c nhn vin no"})}):u.jsx("div",{className:"grid gap-4",children:e.map(r=>u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:r.name}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"}`,children:r.status==="active"?"ang lm":"Ngh vic"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Chc v:"," "]}),u.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:r.position})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Lng:"," "]}),u.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:Be(r.baseSalary)})]}),u.jsxs("div",{children:[u.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["ST:"," "]}),u.jsx("span",{className:"text-slate-900 dark:text-white font-medium",children:r.phone||"--"})]})]})]}),u.jsx("button",{onClick:()=>t(r),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded-lg text-sm font-medium transition-colors",children:"Sa"})]})},r.id))}),J3e=({payroll:e,onMarkAsPaid:t})=>{const[r,a]=j.useState(!1),[n,i]=j.useState(null);return e.length===0?u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-12 text-center",children:u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Cha c bng lng cho thng ny"})}):u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thng"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Pht"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"BHXH"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thu"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thc nhn"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Trng thi"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:e.map(s=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-medium",children:s.employeeName}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white",children:Be(s.baseSalary)}),u.jsxs("td",{className:"px-4 py-3 text-right text-green-600 dark:text-green-400",children:["+",Be(s.bonus)]}),u.jsxs("td",{className:"px-4 py-3 text-right text-red-600 dark:text-red-400",children:["-",Be(s.deduction)]}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-400",children:Be(s.socialInsurance)}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-600 dark:text-slate-400",children:Be(s.personalIncomeTax)}),u.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold",children:Be(s.netSalary)}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"}`,children:s.paymentStatus==="paid"?" tr":"Cha tr"})}),u.jsx("td",{className:"px-4 py-3 text-center",children:s.paymentStatus==="pending"&&t&&u.jsx("button",{onClick:()=>{i(s),a(!0)},className:"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded-md text-xs font-medium transition-colors",children:" tr lng"})})]},s.id))})]}),r&&n&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Xc nhn tr lng"})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Nhn vin"}),u.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n.employeeName}),u.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-2",children:Be(n.netSalary)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hnh thc thanh ton"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>{t&&t(n.id,"cash"),a(!1),i(null)},className:"flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Tin mt"]}),u.jsxs("button",{onClick:()=>{t&&t(n.id,"bank"),a(!1),i(null)},className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21h18M3 10h18M7 6h10l2 4H5l2-4Zm2 4v11m6-11v11"})}),"Chuyn khon"]})]})]})]}),u.jsx("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700",children:u.jsx("button",{onClick:()=>{a(!1),i(null)},className:"w-full px-4 py-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"})})]})})]})},Z3e=({onClose:e,onSave:t})=>{const[r,a]=j.useState(""),[n,i]=j.useState(""),[s,o]=j.useState(""),[c,d]=j.useState("0"),[h,m]=j.useState(new Date().toISOString().split("T")[0]),x=p=>{p.preventDefault();const y={name:r,phone:n,position:s,baseSalary:parseFloat(c),startDate:new Date(h).toISOString(),status:"active"};t(y)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Thm nhn vin mi"})}),u.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"H v tn *"}),u.jsx("input",{type:"text",value:r,onChange:p=>a(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S in thoi"}),u.jsx("input",{type:"tel",value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chc v *"}),u.jsx("input",{type:"text",value:s,onChange:p=>o(p.target.value),placeholder:"V d: K thut vin, Nhn vin bn hng...",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Lng c bn *"}),u.jsx("input",{type:"number",value:c,onChange:p=>d(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ngy vo lm *"}),u.jsx("input",{type:"date",value:h,onChange:p=>m(p.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Thm nhn vin"})]})]})]})})},eSe=({employees:e,month:t,onClose:r,onSave:a})=>{const[n,i]=j.useState(e.map(y=>({employeeId:y.id,employeeName:y.name,baseSalary:y.baseSalary,bonus:0,deduction:0}))),s=(y,v)=>{i(b=>b.map(k=>k.employeeId===y?{...k,bonus:parseFloat(v)||0}:k))},o=(y,v)=>{i(b=>b.map(k=>k.employeeId===y?{...k,deduction:parseFloat(v)||0}:k))},c=(y,v,b)=>y+v-b,d=y=>{y.preventDefault();const v=n.map(b=>({id:`PAY-${t}-${b.employeeId}`,employeeId:b.employeeId,employeeName:b.employeeName,month:t,baseSalary:b.baseSalary,allowances:0,bonus:b.bonus,deduction:b.deduction,workDays:26,standardWorkDays:26,socialInsurance:0,healthInsurance:0,unemploymentInsurance:0,personalIncomeTax:0,netSalary:c(b.baseSalary,b.bonus,b.deduction),paymentStatus:"pending",paymentDate:void 0,notes:"",branchId:"main",created_at:new Date().toISOString()}));a(v)},h=n.reduce((y,v)=>y+v.baseSalary,0),m=n.reduce((y,v)=>y+v.bonus,0),x=n.reduce((y,v)=>y+v.deduction,0),p=n.reduce((y,v)=>y+c(v.baseSalary,v.bonus,v.deduction),0);return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-5xl w-full border border-slate-200 dark:border-slate-700 max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:["Tnh lng thng ",t]}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:[e.length," nhn vin"]})]}),u.jsxs("form",{onSubmit:d,className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thng"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Pht"}),u.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thc nhn"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.map(y=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[u.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-medium",children:y.employeeName}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white",children:Be(y.baseSalary)}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"number",value:y.bonus,onChange:v=>s(y.employeeId,v.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded text-right text-slate-900 dark:text-white",min:"0"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"number",value:y.deduction,onChange:v=>o(y.employeeId,v.target.value),className:"w-full px-2 py-1.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded text-right text-slate-900 dark:text-white",min:"0"})}),u.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold",children:Be(c(y.baseSalary,y.bonus,y.deduction))})]},y.employeeId))}),u.jsx("tfoot",{className:"bg-slate-50 dark:bg-slate-700 border-t-2 border-slate-300 dark:border-slate-600",children:u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-slate-900 dark:text-white font-bold",children:"TNG CNG"}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-900 dark:text-white font-bold",children:Be(h)}),u.jsx("td",{className:"px-4 py-3 text-right text-green-600 dark:text-green-400 font-bold",children:Be(m)}),u.jsx("td",{className:"px-4 py-3 text-right text-red-600 dark:text-red-400 font-bold",children:Be(x)}),u.jsx("td",{className:"px-4 py-3 text-right text-blue-600 dark:text-blue-400 font-bold text-lg",children:Be(p)})]})})]})})}),u.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-700 flex gap-3",children:[u.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-900 dark:text-white rounded-lg font-medium transition-colors",children:"Hy"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"To bng lng"})]})]})]})})},tSe=(e,t,r)=>{const a=qr.book_new(),n=e.reduce((p,y)=>p+y.total,0),i=e.reduce((p,y)=>p+y.items.reduce((v,b)=>v+(b.costPrice||0)*b.quantity,0),0),s=n-i,o=n>0?s/n*100:0,c=[["BO CO DOANH THU"],[`T ${Qa(t)} n ${Qa(r)}`],[],["Ch tiu","Gi tr"],["Tng doanh thu",Be(n)],["Tng chi ph",Be(i)],["Li nhun",Be(s)],["Bin li nhun",`${o.toFixed(2)}%`]],d=qr.aoa_to_sheet(c);qr.book_append_sheet(a,d,"Tng quan");const h=[["M n","Ngy","Khch hng","ST","Sn phm","S lng","n gi","Thnh tin","Gim gi","Tng","Phng thc"]];e.forEach(p=>{p.items.forEach((y,v)=>{h.push([v===0?p.id.slice(-8):"",v===0?Qa(p.date):"",v===0?p.customer.name:"",v===0&&p.customer.phone||"",y.partName,y.quantity,y.sellingPrice,y.sellingPrice*y.quantity,v===0?p.discount:"",v===0?p.total:"",v===0?p.paymentMethod==="cash"?"Tin mt":"Ngn hng":""])})});const m=qr.aoa_to_sheet(h);qr.book_append_sheet(a,m,"Chi tit bn hng");const x=`BaoCaoDoanhThu_${t}_${r}.xlsx`;pm(a,x)},rSe=(e,t,r)=>{const a=qr.book_new(),n=e.filter(v=>v.type==="income").reduce((v,b)=>v+b.amount,0),i=e.filter(v=>v.type==="expense").reduce((v,b)=>v+b.amount,0),s=n-i,o=[["BO CO THU CHI"],[`T ${Qa(t)} n ${Qa(r)}`],[],["Ch tiu","Gi tr"],["Tng thu",Be(n)],["Tng chi",Be(i)],["Thu chi rng",Be(s)]],c=qr.aoa_to_sheet(o);qr.book_append_sheet(a,c,"Tng quan");const d=[["Ngy","Loi","Danh mc","S tin","i tng","Ngun thanh ton","Ghi ch"]];e.forEach(v=>{d.push([Qa(v.date),v.type==="income"?"Thu":"Chi",v.category||"",v.amount,v.recipient||"",v.paymentSourceId,v.notes])});const h=qr.aoa_to_sheet(d);qr.book_append_sheet(a,h,"Chi tit giao dch");const m={};e.forEach(v=>{const b=v.category||"Khc";m[b]||(m[b]={income:0,expense:0}),v.type==="income"?m[b].income+=v.amount:m[b].expense+=v.amount});const x=[["Danh mc","Thu","Chi","Chnh lch"]];Object.entries(m).forEach(([v,b])=>{x.push([v,b.income,b.expense,b.income-b.expense])});const p=qr.aoa_to_sheet(x);qr.book_append_sheet(a,p,"Theo danh mc");const y=`BaoCaoThuChi_${t}_${r}.xlsx`;pm(a,y)},aSe=(e,t,r,a)=>{const n=qr.book_new(),i=e.reduce((p,y)=>{var v;return p+(y.stock[t]||0)*(((v=y.wholesalePrice)==null?void 0:v[t])||0)},0),s=e.filter(p=>(p.stock[t]||0)<10).length,o=[["BO CO TN KHO"],[`Ngy: ${Qa(a)}`],[],["Ch tiu","Gi tr"],["Tng gi tr tn kho",Be(i)],["S loi sn phm",e.length],["Sn phm tn kho thp",s]],c=qr.aoa_to_sheet(o);qr.book_append_sheet(n,c,"Tng quan");const d=[["M SKU","Tn sn phm","Danh mc","Tn kho","Gi nhp","Gi bn","Gi tr tn","Trng thi"]];e.forEach(p=>{var _;const y=p.stock[t]||0,v=((_=p.wholesalePrice)==null?void 0:_[t])||0,b=p.retailPrice[t]||0,k=y*v,N=y<10?"Thp":y<50?"Trung bnh":"";d.push([p.sku,p.name,p.category||"",y,v,b,k,N])});const h=qr.aoa_to_sheet(d);qr.book_append_sheet(n,h,"Chi tit tn kho");const m=e.filter(p=>(p.stock[t]||0)<10);if(m.length>0){const p=[["M SKU","Tn sn phm","Tn kho","Ghi ch"]];m.forEach(v=>{p.push([v.sku,v.name,v.stock[t]||0,"Cn nhp thm hng"])});const y=qr.aoa_to_sheet(p);qr.book_append_sheet(n,y,"Cnh bo tn kho")}const x=`BaoCaoTonKho_${a}.xlsx`;pm(n,x)},nSe=(e,t,r)=>{const a=qr.book_new(),n=e.reduce((b,k)=>b+k.baseSalary,0),i=e.reduce((b,k)=>b+k.netSalary,0),s=e.filter(b=>b.paymentStatus==="paid").length,o=e.filter(b=>b.paymentStatus==="pending").length,c=[["BO CO LNG"],[`T ${t} n ${r}`],[],["Ch tiu","Gi tr"],["Tng lng c bn",Be(n)],["Tng lng thc nhn",Be(i)],["S bng lng  tr",s],["S bng lng cha tr",o]],d=qr.aoa_to_sheet(c);qr.book_append_sheet(a,d,"Tng quan");const h=[["Nhn vin","Thng","Lng c bn","Ph cp","Thng","Khu tr","BHXH","BHYT","BHTN","Thu TNCN","Thc nhn","Trng thi","Ngy tr"]];e.forEach(b=>{h.push([b.employeeName,b.month,b.baseSalary,b.allowances,b.bonus,b.deduction,b.socialInsurance,b.healthInsurance,b.unemploymentInsurance,b.personalIncomeTax,b.netSalary,b.paymentStatus==="paid"?" tr":"Cha tr",b.paymentDate?Qa(b.paymentDate):""])});const m=qr.aoa_to_sheet(h);qr.book_append_sheet(a,m,"Chi tit lng");const x={};e.forEach(b=>{x[b.employeeName]||(x[b.employeeName]={totalBase:0,totalNet:0,months:0}),x[b.employeeName].totalBase+=b.baseSalary,x[b.employeeName].totalNet+=b.netSalary,x[b.employeeName].months+=1});const p=[["Nhn vin","S thng","Tng lng c bn","Tng thc nhn","TB/thng"]];Object.entries(x).forEach(([b,k])=>{p.push([b,k.months,k.totalBase,k.totalNet,Math.round(k.totalNet/k.months)])});const y=qr.aoa_to_sheet(p);qr.book_append_sheet(a,y,"Theo nhn vin");const v=`BaoCaoLuong_${t}_${r}.xlsx`;pm(a,v)},iSe=(e,t,r,a,n)=>{const i=qr.book_new(),s=[["BO CO CNG N"],[`T ${Qa(a)} n ${Qa(n)}`],[],["Loi","S lng"],["Khch hng",e.length],["Nh cung cp",t.length]],o=qr.aoa_to_sheet(s);qr.book_append_sheet(i,o,"Tng quan");const c=[["Tn khch hng","ST","Xe","Bin s","Phn khc"]];e.forEach(p=>{c.push([p.name,p.phone||"",p.vehicleModel||"",p.licensePlate||"",p.segment||""])});const d=qr.aoa_to_sheet(c);qr.book_append_sheet(i,d,"Khch hng");const h=[["Tn nh cung cp","ST","Email","a ch"]];t.forEach(p=>{h.push([p.name,p.phone||"",p.email||"",p.address||""])});const m=qr.aoa_to_sheet(h);qr.book_append_sheet(i,m,"Nh cung cp");const x=`BaoCaoCongNo_${a}_${n}.xlsx`;pm(i,x)},sSe=()=>{const{payrollRecords:e,customers:t,suppliers:r,currentBranchId:a,employees:n}=yi(),{data:i=[],isLoading:s}=Bz(),{data:o=[],isLoading:c}=Oj(),[d,h]=j.useState("revenue"),[m,x]=j.useState("month"),[p,y]=j.useState(""),[v,b]=j.useState(""),{start:k,end:N}=j.useMemo(()=>{const D=new Date;let F=new Date,H=new Date;if(m==="custom"&&p&&v)return{start:new Date(p),end:new Date(v)};switch(m){case"today":F=new Date(D.setHours(0,0,0,0)),H=new Date(D.setHours(23,59,59,999));break;case"week":F=new Date(D.setDate(D.getDate()-7));break;case"month":F=new Date(D.setMonth(D.getMonth()-1));break;case"quarter":F=new Date(D.setMonth(D.getMonth()-3));break;case"year":F=new Date(D.setFullYear(D.getFullYear()-1));break}return{start:F,end:H}},[m,p,v]),_=j.useMemo(()=>{const D=i.filter(ne=>{const X=new Date(ne.date);return X>=k&&X<=N}),F=D.reduce((ne,X)=>ne+X.total,0),H=D.reduce((ne,X)=>{const ae=X.items.reduce((ue,se)=>ue+(se.costPrice||0)*se.quantity,0);return ne+ae},0),Y=F-H;return{sales:D,totalRevenue:F,totalCost:H,totalProfit:Y,profitMargin:F>0?(Y/F*100).toFixed(1):0,orderCount:D.length}},[i,k,N]),{data:T=[],isLoading:P}=hge({branchId:a,startDate:k.toISOString(),endDate:N.toISOString()}),O=j.useMemo(()=>{const D=T.filter(ne=>{const X=new Date(ne.date);return X>=k&&X<=N}),F=D.filter(ne=>ne.type==="income").reduce((ne,X)=>ne+X.amount,0),H=D.filter(ne=>ne.type==="expense").reduce((ne,X)=>ne+X.amount,0),Y={};return D.forEach(ne=>{const X=ne.category||"other";Y[X]||(Y[X]={income:0,expense:0}),ne.type==="income"?Y[X].income+=ne.amount:Y[X].expense+=ne.amount}),{transactions:D,totalIncome:F,totalExpense:H,netCashFlow:F-H,byCategory:Y}},[T,k,N]),L=j.useMemo(()=>{const D=o.map(Y=>({...Y,stock:Y.stock[a]||0,price:Y.retailPrice[a]||0,value:(Y.stock[a]||0)*(Y.retailPrice[a]||0)})),F=D.reduce((Y,ne)=>Y+ne.value,0),H=D.filter(Y=>Y.stock<10);return{parts:D,totalValue:F,lowStockCount:H.length,lowStockItems:H}},[o,a]),U=j.useMemo(()=>{const D=e.filter(ne=>{const X=new Date(ne.month);return X>=k&&X<=N}),F=D.reduce((ne,X)=>ne+X.netSalary,0),H=D.filter(ne=>ne.paymentStatus==="paid").reduce((ne,X)=>ne+X.netSalary,0),Y=F-H;return{records:D,totalSalary:F,paidSalary:H,unpaidSalary:Y,employeeCount:new Set(D.map(ne=>ne.employeeId)).size}},[e,k,N]),I=j.useMemo(()=>{const D=t.map(ne=>{const ae=i.filter(ue=>(ue.customer.name===ne.name||ue.customer.phone===ne.phone)&&ue.paymentStatus!=="paid").reduce((ue,se)=>ue+se.total,0);return{name:ne.name,debt:ae}}),F=r.map(ne=>({name:ne.name,debt:0})),H=D.reduce((ne,X)=>ne+X.debt,0),Y=F.reduce((ne,X)=>ne+X.debt,0);return{customerDebts:D.filter(ne=>ne.debt>0),supplierDebts:F.filter(ne=>ne.debt>0),totalCustomerDebt:H,totalSupplierDebt:Y,netDebt:H-Y}},[t,r]),K=()=>{const D=k.toISOString().split("T")[0],F=N.toISOString().split("T")[0];try{switch(d){case"revenue":tSe(_.sales,D,F);break;case"cashflow":rSe(O.transactions,D,F);break;case"inventory":aSe(o,a,D,F);break;case"payroll":const H=k.toISOString().slice(0,7),Y=N.toISOString().slice(0,7);nSe(U.records,H,Y);break;case"debt":iSe(t,r,_.sales,D,F);break}Nt.success("Xut Excel thnh cng! File  c ti xung.")}catch(H){console.error("Export error:",H),Nt.error("C li khi xut Excel. Vui lng th li.")}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[[{key:"revenue",label:"Doanh thu",icon:u.jsx(fh,{className:"w-4 h-4"})},{key:"cashflow",label:"Thu chi",icon:u.jsx($x,{className:"w-4 h-4"})},{key:"inventory",label:"Tn kho",icon:u.jsx(Hl,{className:"w-4 h-4"})},{key:"payroll",label:"Lng",icon:u.jsx(Db,{className:"w-4 h-4"})},{key:"debt",label:"Cng n",icon:u.jsx(SN,{className:"w-4 h-4"})}].map(D=>u.jsx("button",{onClick:()=>h(D.key),className:`px-6 py-2 rounded-lg font-medium whitespace-nowrap transition-all ${d===D.key?"bg-blue-600 text-white shadow-lg":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[D.icon,D.label]})},D.key)),u.jsx("div",{className:"h-8 w-px bg-slate-300 dark:bg-slate-600 mx-2"}),["today","week","month","quarter","year","custom"].map(D=>u.jsx("button",{onClick:()=>x(D),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m===D?"bg-blue-600 text-white shadow-md":"bg-slate-100 dark:bg-slate-700/50 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:D==="today"?"Hm nay":D==="week"?"7 ngy":D==="month"?"Thng":D==="quarter"?"Qu":D==="year"?"Nm":"Ty chnh"},D)),m==="custom"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"date",value:p,onChange:D=>y(D.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"}),u.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:""}),u.jsx("input",{type:"date",value:v,onChange:D=>b(D.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]}),u.jsx("div",{className:"ml-auto flex gap-2",children:u.jsxs("button",{onClick:K,className:"px-5 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-medium shadow-md hover:shadow-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 flex items-center gap-2",children:[u.jsx(lJ,{className:"w-4 h-4"})," Xut Excel"]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[d==="revenue"&&u.jsxs("div",{className:"space-y-6",children:[s&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti doanh thu..."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:[u.jsx(fh,{className:"w-4 h-4"})," Tng doanh thu"]}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Be(_.totalRevenue).replace("","")}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:[u.jsx($x,{className:"w-4 h-4"})," Tng chi ph"]}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:Be(_.totalCost).replace("","")}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:[u.jsx(Mb,{className:"w-4 h-4"})," Li nhun"]}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Be(_.totalProfit).replace("","")}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[u.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:[u.jsx(ZQ,{className:"w-4 h-4"})," T sut li nhun"]}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:_.profitMargin}),u.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"%"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:["Chi tit n hng (",_.orderCount," n)"]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Ngy"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Khch hng"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Tng tin"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Trng thi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:_.sales.map(D=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-white",children:Qa(D.date)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:D.customer.name}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-slate-900 dark:text-white",children:Be(D.total)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${D.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:D.paymentStatus==="paid"?" thanh ton":"Cha thanh ton"})})]},D.id))})]})})]})]}),d==="cashflow"&&u.jsxs("div",{className:"space-y-6",children:[P&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti s qu..."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx($x,{className:"w-4 h-4"})," Tng thu"]})}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Be(O.totalIncome).replace("","")}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2 inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[u.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"12",r:"2"}),u.jsx("path",{d:"M6 12h.01M18 12h.01"})]}),"Tng chi"]}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:Be(O.totalExpense).replace("","")}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:`bg-gradient-to-br rounded-lg p-6 border ${O.netCashFlow>=0?"from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800":"from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 border-orange-200 dark:border-orange-800"}`,children:[u.jsx("div",{className:`text-sm font-medium mb-2 ${O.netCashFlow>=0?"text-blue-700 dark:text-blue-400":"text-orange-700 dark:text-orange-400"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(fh,{className:"w-4 h-4"})," Dng tin rng"]})}),u.jsx("div",{className:`text-3xl font-bold ${O.netCashFlow>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:Be(O.netCashFlow).replace("","")}),u.jsx("div",{className:`text-xs mt-1 ${O.netCashFlow>=0?"text-blue-600 dark:text-blue-400":"text-orange-600 dark:text-orange-400"}`,children:""})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thu chi theo danh mc"}),u.jsx("div",{className:"space-y-3",children:Object.entries(O.byCategory).map(([D,F])=>u.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-700 dark:to-slate-800 rounded-lg hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"font-semibold text-slate-900 dark:text-white capitalize",children:D}),u.jsxs("div",{className:"flex gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Thu"}),u.jsx("div",{className:"text-green-600 dark:text-green-400 font-bold",children:Be(F.income)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Chi"}),u.jsx("div",{className:"text-red-600 dark:text-red-400 font-bold",children:Be(F.expense)})]})]})]},D))})]})]}),d==="inventory"&&u.jsxs("div",{className:"space-y-6",children:[c&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ang ti tn kho..."}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Hl,{className:"w-4 h-4"})," Tng gi tr tn kho"]})}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Be(L.totalValue).replace("","")}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(AJ,{className:"w-4 h-4"})," Tng sn phm"]})}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:L.parts.length}),u.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"sn phm"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-amber-500",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})]}),"Sn phm sp ht"]})}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:L.lowStockCount}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"sn phm"})]})]}),L.lowStockCount>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4 text-amber-500",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})]}),"Cnh bo hng sp ht"]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Sn phm"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Tn kho"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"n gi"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Gi tr"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:L.lowStockItems.map(D=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:D.name}),u.jsx("td",{className:"px-4 py-2 text-sm text-right text-red-600 dark:text-red-400 font-medium",children:D.stock}),u.jsx("td",{className:"px-4 py-2 text-sm text-right text-slate-900 dark:text-white",children:Be(D.price)}),u.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-slate-900 dark:text-white",children:Be(D.value)})]},D.id))})]})})]})]}),d==="payroll"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(fh,{className:"w-4 h-4"})," Tng lng"]})}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Be(U.totalSalary).replace("","")}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(DR,{className:"w-4 h-4"}),"  thanh ton"]})}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:Be(U.paidSalary).replace("","")}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:" Cha thanh ton"}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:Be(U.unpaidSalary).replace("","")}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20 rounded-lg p-6 border border-purple-200 dark:border-purple-800",children:[u.jsx("div",{className:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(Db,{className:"w-4 h-4"})," S nhn vin"]})}),u.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:U.employeeCount}),u.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"nhn vin"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Chi tit lng"})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Thng"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700 dark:text-slate-300",children:"Nhn vin"}),u.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-slate-700 dark:text-slate-300",children:"Lng thc nhn"}),u.jsx("th",{className:"px-4 py-2 text-center text-sm font-medium text-slate-700 dark:text-slate-300",children:"Trng thi"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:U.records.map(D=>{const F=n.find(H=>H.id===D.employeeId);return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:D.month}),u.jsx("td",{className:"px-4 py-2 text-sm text-slate-900 dark:text-white",children:(F==null?void 0:F.name)||"N/A"}),u.jsx("td",{className:"px-4 py-2 text-sm text-right font-medium text-slate-900 dark:text-white",children:Be(D.netSalary)}),u.jsx("td",{className:"px-4 py-2 text-center",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.paymentStatus==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:D.paymentStatus==="paid"?" tr":"Cha tr"})})]},D.id)})})]})})]})]}),d==="debt"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-6 border border-green-200 dark:border-green-800",children:[u.jsx("div",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:"N khch hng"}),u.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:I.customerDebts.length}),u.jsx("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-lg p-6 border border-red-200 dark:border-red-800",children:[u.jsx("div",{className:"text-sm font-medium text-red-700 dark:text-red-400 mb-2",children:"N nh cung cp"}),u.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:I.supplierDebts.length}),u.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[u.jsx("div",{className:"text-sm font-medium text-blue-700 dark:text-blue-400 mb-2",children:"Cng n rng"}),u.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:"0"}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:""})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-700",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(l1,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),"Cng n khch hng"]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:I.customerDebts.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-4xl mb-3",children:""}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Khng c cng n"})]}):I.customerDebts.map((D,F)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:D.name}),u.jsx("span",{className:"text-green-600 dark:text-green-400 font-bold",children:Be(D.debt)})]},F))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-lg p-6 border border-slate-200 dark:border-slate-700",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"text-red-600 dark:text-red-400",children:""}),"Cng n nh cung cp"]}),u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:I.supplierDebts.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-4xl mb-3",children:""}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Khng c cng n"})]}):I.supplierDebts.map((D,F)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-slate-700 rounded-lg hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:D.name}),u.jsx("span",{className:"text-red-600 dark:text-red-400 font-bold",children:Be(D.debt)})]},F))})]})]})]})]})]})},oSe=()=>{const{employees:e,upsertEmployee:t,setEmployees:r}=yi(),a=O=>t(O),n=O=>t(O),i=O=>{r(L=>L.filter(U=>U.id!==O))},[s,o]=j.useState("list"),[c,d]=j.useState(!1),[h,m]=j.useState(null),[x,p]=j.useState(""),[y,v]=j.useState({name:"",phone:"",email:"",position:"",department:"",baseSalary:0,allowances:0,status:"active",startDate:new Date().toISOString().split("T")[0]}),b=j.useMemo(()=>e.filter(O=>{var L;return O.name.toLowerCase().includes(x.toLowerCase())||((L=O.phone)==null?void 0:L.toLowerCase().includes(x.toLowerCase()))||O.position.toLowerCase().includes(x.toLowerCase())}),[e,x]),k=O=>{if(O.preventDefault(),!y.name||!y.position||!y.baseSalary){alert("Vui lng in y  thng tin bt buc!");return}if(h)n({...h,...y}),Nt.success("Cp nht nhn vin thnh cng!");else{const L={id:Math.random().toString(36).substr(2,9),name:y.name,phone:y.phone,email:y.email,position:y.position,department:y.department,baseSalary:y.baseSalary,allowances:y.allowances,startDate:y.startDate,status:y.status,bankAccount:y.bankAccount,bankName:y.bankName,taxCode:y.taxCode,created_at:new Date().toISOString()};a(L),Nt.success("Thm nhn vin thnh cng!")}N()},N=()=>{v({name:"",phone:"",email:"",position:"",department:"",baseSalary:0,allowances:0,status:"active",startDate:new Date().toISOString().split("T")[0]}),m(null),d(!1)},_=O=>{m(O),v(O),d(!0)},T=O=>{confirm(`Bn c chc mun xa nhn vin "${O.name}" khng?`)&&(i(O.id),Nt.success(" xa nhn vin!"))},P=j.useMemo(()=>{const O=e.filter(U=>U.status==="active").length,L=e.filter(U=>U.status==="active").reduce((U,I)=>U+I.baseSalary+(I.allowances||0),0);return{active:O,totalSalary:L,total:e.length}},[e]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(l1,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),"Qun l nhn vin"]}),u.jsxs("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-2",children:[u.jsx(pb,{className:"w-5 h-5"})," Thm nhn vin"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Tng nhn vin"}),u.jsx(l1,{className:"w-8 h-8"})]}),u.jsx("div",{className:"text-3xl font-bold",children:P.total}),u.jsxs("div",{className:"text-white/70 text-sm mt-1",children:[P.active," ang lm vic"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-white/80 text-sm font-medium",children:"ang hot ng"}),u.jsx(EJ,{className:"w-8 h-8"})]}),u.jsx("div",{className:"text-3xl font-bold",children:P.active}),u.jsx("div",{className:"text-white/70 text-sm mt-1",children:"Nhn vin active"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Tng lng thng"}),u.jsx(fh,{className:"w-8 h-8"})]}),u.jsx("div",{className:"text-2xl font-bold",children:Be(P.totalSalary)}),u.jsx("div",{className:"text-white/70 text-sm mt-1",children:"c tnh"})]})]}),u.jsx("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:[{key:"list",label:"Danh sch",icon:u.jsx(SN,{className:"w-4 h-4"})},{key:"attendance",label:"Chm cng",icon:u.jsx(KC,{className:"w-4 h-4"})},{key:"payroll",label:"Qun l lng",icon:u.jsx(fh,{className:"w-4 h-4"})},{key:"history",label:"Lch s",icon:u.jsx(GC,{className:"w-4 h-4"})}].map(O=>u.jsx("button",{onClick:()=>o(O.key),className:`px-6 py-3 font-medium transition-all ${s===O.key?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[O.icon,O.label]})},O.key))}),s==="list"&&u.jsx("div",{className:"flex gap-4",children:u.jsx("input",{type:"text",placeholder:"Tm kim nhn vin (tn, ST, chc v)...",value:x,onChange:O=>p(O.target.value),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),s==="list"&&u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Nhn vin"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Chc v"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Phng ban"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Lng CB"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ph cp"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Ngy vo"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Trng thi"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase",children:"Thao tc"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:b.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-slate-500 dark:text-slate-400",children:"Khng tm thy nhn vin no"})}):b.map(O=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:O.name}),O.phone&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(yJ,{className:"w-3 h-3"})," ",O.phone]})}),O.email&&u.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx(gJ,{className:"w-3 h-3"})," ",O.email]})})]})}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:O.position}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:O.department||"-"}),u.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:Be(O.baseSalary)}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:Be(O.allowances||0)}),u.jsx("td",{className:"px-6 py-4 text-slate-700 dark:text-slate-300",children:Qa(O.startDate)}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":O.status==="inactive"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:O.status==="active"?"Hot ng":O.status==="inactive"?"Tm ngh":"Ngh vic"})}),u.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[u.jsxs("button",{onClick:()=>_(O),className:"inline-flex items-center gap-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium text-sm",children:[u.jsx(XC,{className:"w-4 h-4"})," Sa"]}),u.jsxs("button",{onClick:()=>T(O),className:"inline-flex items-center gap-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 font-medium text-sm",children:[u.jsx(BR,{className:"w-4 h-4"})," Xa"]})]})]},O.id))})]})})}),s==="attendance"&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[u.jsx(KC,{className:"w-16 h-16 mb-4 text-slate-400"}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Chc nng chm cng"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Tnh nng qun l chm cng ang c pht trin..."})]}),s==="payroll"&&u.jsx(nH,{}),s==="history"&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-8 text-center",children:[u.jsx(GC,{className:"w-16 h-16 mb-4 text-slate-400"}),u.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-2",children:"Lch s lm vic"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Tnh nng xem lch s lm vic ang c pht trin..."})]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:h?u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx(XC,{className:"w-5 h-5"})," Sa nhn vin"]}):u.jsxs("span",{className:"inline-flex items-center gap-2",children:[u.jsx(pb,{className:"w-5 h-5"})," Thm nhn vin mi"]})}),u.jsx("button",{onClick:N,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 text-2xl",children:""})]}),u.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["H tn ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:y.name,onChange:O=>v({...y,name:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S in thoi"}),u.jsx("input",{type:"tel",value:y.phone,onChange:O=>v({...y,phone:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:y.email,onChange:O=>v({...y,email:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Chc v ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"text",value:y.position,onChange:O=>v({...y,position:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phng ban"}),u.jsx("input",{type:"text",value:y.department,onChange:O=>v({...y,department:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Lng c bn ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"number",value:y.baseSalary,onChange:O=>v({...y,baseSalary:Number(O.target.value)}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ph cp"}),u.jsx("input",{type:"number",value:y.allowances,onChange:O=>v({...y,allowances:Number(O.target.value)}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Ngy vo lm ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"date",value:y.startDate,onChange:O=>v({...y,startDate:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Trng thi"}),u.jsxs("select",{value:y.status,onChange:O=>v({...y,status:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[u.jsx("option",{value:"active",children:"Hot ng"}),u.jsx("option",{value:"inactive",children:"Tm ngh"}),u.jsx("option",{value:"terminated",children:"Ngh vic"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"S ti khon"}),u.jsx("input",{type:"text",value:y.bankAccount,onChange:O=>v({...y,bankAccount:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ngn hng"}),u.jsx("input",{type:"text",value:y.bankName,onChange:O=>v({...y,bankName:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"M s thu"}),u.jsx("input",{type:"text",value:y.taxCode,onChange:O=>v({...y,taxCode:O.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-md hover:shadow-xl hover:from-blue-700 hover:to-indigo-700 transition-all inline-flex items-center justify-center gap-2",children:h?u.jsxs(u.Fragment,{children:[u.jsx(O3,{className:"w-5 h-5"})," Lu thay i"]}):u.jsxs(u.Fragment,{children:[u.jsx(pb,{className:"w-5 h-5"})," Thm nhn vin"]})}),u.jsxs("button",{type:"button",onClick:N,className:"px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg font-medium hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors inline-flex items-center gap-2",children:[u.jsx(qR,{className:"w-5 h-5"})," Hy"]})]})]})]})})]})},lSe=()=>{const{parts:e}=yi(),t=Z$();return NR?{data:e,isLoading:!1,isError:!1,refetch:async()=>{}}:t},cSe=()=>{const{currentBranchId:e,inventoryTransactions:t}=yi(),{data:r=[]}=lSe(),a=j.useMemo(()=>{const h=new Map;return r.forEach(m=>{const x=m.category||"Khng phn loi",p=m.stock[e]||0,y=m.retailPrice[e]||0,v=p*y,b=h.get(x);b?(b.value+=v,b.count+=1,b.stock+=p):h.set(x,{value:v,count:1,stock:p})}),Array.from(h.entries()).map(([m,x])=>({name:m,value:Math.round(x.value),count:x.count,stock:x.stock})).sort((m,x)=>x.value-m.value)},[r,e]),n=j.useMemo(()=>r.filter(h=>{const m=h.stock[e]||0;return m>0&&m<=10}).sort((h,m)=>{const x=h.stock[e]||0,p=m.stock[e]||0;return x-p}).slice(0,10),[r,e]),i=j.useMemo(()=>r.filter(h=>(h.stock[e]||0)===0).length,[r,e]),s=j.useMemo(()=>r.map(h=>{const m=h.stock[e]||0,x=h.retailPrice[e]||0;return{...h,totalValue:m*x}}).filter(h=>h.totalValue>0).sort((h,m)=>m.totalValue-h.totalValue).slice(0,10),[r,e]),o=j.useMemo(()=>r.reduce((h,m)=>{const x=m.stock[e]||0,p=m.retailPrice[e]||0;return h+x*p},0),[r,e]),c=j.useMemo(()=>{const h=new Date;h.setDate(h.getDate()-30);const m=new Map;return t.filter(x=>new Date(x.date)>=h).forEach(x=>{const p=x.date.slice(0,10),y=m.get(p)||{in:0,out:0};x.type==="Nhp kho"?y.in+=x.quantity:y.out+=x.quantity,m.set(p,y)}),Array.from(m.entries()).map(([x,p])=>({date:new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),"Nhp kho":p.in,"Xut kho":p.out})).slice(-14)},[t]),d=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Tng gi tr tn kho"}),u.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:Be(o)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"Tng sn phm"}),u.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:r.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mb-2",children:"Sp ht hng"}),u.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:n.length})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Ht hng"}),u.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:i})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Gi tr theo danh mc"}),u.jsx(bu,{width:"100%",height:300,children:u.jsxs(Mz,{children:[u.jsx(yj,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:h=>`${h.name}: ${(h.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:a.map((h,m)=>u.jsx(Cg,{fill:d[m%d.length]},`cell-${m}`))}),u.jsx(ku,{formatter:h=>Be(h),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Nhp/Xut kho (14 ngy gn nht)"}),u.jsx(bu,{width:"100%",height:300,children:u.jsxs(Cj,{data:c,children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Hh,{}),u.jsx(cf,{type:"monotone",dataKey:"Nhp kho",stroke:"#10b981",strokeWidth:2}),u.jsx(cf,{type:"monotone",dataKey:"Xut kho",stroke:"#ef4444",strokeWidth:2})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Top 10 sn phm gi tr cao"}),u.jsx("div",{className:"space-y-3",children:s.map((h,m)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-sm font-bold text-blue-600 dark:text-blue-400",children:m+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:h.name}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Tn: ",h.stock[e]||0]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Be(h.totalValue)}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[Be(h.retailPrice[e]||0),"/sp"]})]})]},h.id))})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"inline-flex",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v4m0 4h.01M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"})})}),"Cnh bo tn kho thp"]}),u.jsxs("div",{className:"space-y-3",children:[n.map(h=>{const m=h.stock[e]||0,x=m<=3?"critical":m<=5?"warning":"low";return u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${x==="critical"?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":x==="warning"?"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800":"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800"}`,children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:h.name}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["SKU: ",h.sku]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x==="critical"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400":x==="warning"?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:[m," cn li"]})})]},h.id)}),n.length===0&&u.jsxs("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400 flex items-center justify-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Tt c sn phm u cn  hng"]})]})]})]})]})},uSe=()=>{const{sales:e,parts:t,currentBranchId:r}=yi(),[a,n]=j.useState("30days"),i=j.useMemo(()=>{if(a==="all")return e;const m=a==="7days"?7:a==="30days"?30:90,x=new Date;return x.setDate(x.getDate()-m),e.filter(p=>new Date(p.date)>=x)},[e,a]),s=j.useMemo(()=>{const m=i.reduce((v,b)=>v+b.total,0),x=i.length,p=i.reduce((v,b)=>v+b.items.reduce((k,N)=>k+N.quantity,0),0),y=x>0?m/x:0;return{totalRevenue:m,totalOrders:x,totalItems:p,avgOrderValue:y}},[i]),o=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{const p=x.date.slice(0,10);m.set(p,(m.get(p)||0)+x.total)}),Array.from(m.entries()).map(([x,p])=>({date:new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),revenue:Math.round(p)})).sort((x,p)=>x.date.localeCompare(p.date)).slice(-30)},[i]),c=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{x.items.forEach(p=>{const y=m.get(p.partId),v=t.find(k=>k.id===p.partId),b=(v==null?void 0:v.name)||"Sn phm khng xc nh";y?(y.quantity+=p.quantity,y.revenue+=p.sellingPrice*p.quantity):m.set(p.partId,{quantity:p.quantity,revenue:p.sellingPrice*p.quantity,partName:b})})}),Array.from(m.entries()).map(([x,p])=>({id:x,name:p.partName,quantity:p.quantity,revenue:Math.round(p.revenue)})).sort((x,p)=>p.revenue-x.revenue).slice(0,10)},[i,t]),d=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{m.set(x.paymentMethod,(m.get(x.paymentMethod)||0)+x.total)}),Array.from(m.entries()).map(([x,p])=>({method:x,revenue:Math.round(p)})).sort((x,p)=>p.revenue-x.revenue)},[i]),h=j.useMemo(()=>{const m=new Map;return i.forEach(x=>{const p=new Date(x.date).getHours();m.set(p,(m.get(p)||0)+1)}),Array.from({length:24},(x,p)=>({hour:`${p}h`,orders:m.get(p)||0}))},[i]);return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex gap-2",children:[{value:"7days",label:"7 ngy"},{value:"30days",label:"30 ngy"},{value:"90days",label:"90 ngy"},{value:"all",label:"Tt c"}].map(m=>u.jsx("button",{onClick:()=>n(m.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===m.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:m.label},m.value))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2",children:"Doanh thu"}),u.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:Be(s.totalRevenue)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"n hng"}),u.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:s.totalOrders})]}),u.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 p-6 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsx("div",{className:"text-sm font-medium text-amber-600 dark:text-amber-400 mb-2",children:"Sn phm bn"}),u.jsx("div",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:s.totalItems})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[u.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Gi tr TB/n"}),u.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:Be(s.avgOrderValue)})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Xu hng doanh thu"}),u.jsx(bu,{width:"100%",height:300,children:u.jsxs(Gpe,{data:o,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{formatter:m=>Be(m),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(bz,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRevenue)"})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Phng thc thanh ton"}),u.jsx(bu,{width:"100%",height:300,children:u.jsxs(AS,{data:d,children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"method",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{formatter:m=>Be(m),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Ch,{dataKey:"revenue",fill:"#10b981",radius:[8,8,0,0]})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Phn b theo gi"}),u.jsx(bu,{width:"100%",height:300,children:u.jsxs(Cj,{data:h,children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"hour",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(cf,{type:"monotone",dataKey:"orders",stroke:"#f59e0b",strokeWidth:2})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Top 10 sn phm bn chy"}),u.jsxs("div",{className:"space-y-3",children:[c.map((m,x)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-sm font-bold text-emerald-600 dark:text-emerald-400",children:x+1}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:m.name}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:[" bn: ",m.quantity]})]})]}),u.jsx("div",{className:"text-right",children:u.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:Be(m.revenue)})})]},m.id)),c.length===0&&u.jsx("div",{className:"text-center py-8 text-slate-600 dark:text-slate-400",children:"Cha c d liu bn hng"})]})]})]})]})},dSe=()=>{const{sales:e,parts:t,inventoryTransactions:r,customerDebts:a,supplierDebts:n,currentBranchId:i}=yi(),[s,o]=j.useState("30days"),c=()=>{if(s==="all")return new Date(0);const N=s==="7days"?7:s==="30days"?30:90,_=new Date;return _.setDate(_.getDate()-N),_},d=j.useMemo(()=>{const N=c();return e.filter(_=>new Date(_.date)>=N).reduce((_,T)=>_+T.total,0)},[e,s]),h=j.useMemo(()=>{const N=c();return r.filter(_=>_.type==="Nhp kho"&&new Date(_.date)>=N).reduce((_,T)=>{var L;const P=t.find(U=>U.id===T.partId),O=((L=P==null?void 0:P.wholesalePrice)==null?void 0:L[i])||0;return _+O*T.quantity},0)},[r,t,i,s]),m=d-h,x=d>0?m/d*100:0,p=j.useMemo(()=>{const N=c(),_=new Map;return e.filter(T=>new Date(T.date)>=N).forEach(T=>{const P=T.date.slice(0,10),O=_.get(P)||{income:0,expense:0};O.income+=T.total,_.set(P,O)}),r.filter(T=>T.type==="Nhp kho"&&new Date(T.date)>=N).forEach(T=>{var I;const P=T.date.slice(0,10),O=t.find(K=>K.id===T.partId),L=((I=O==null?void 0:O.wholesalePrice)==null?void 0:I[i])||0,U=_.get(P)||{income:0,expense:0};U.expense+=L*T.quantity,_.set(P,U)}),Array.from(_.entries()).map(([T,P])=>({date:new Date(T).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"}),income:Math.round(P.income),expense:Math.round(P.expense),profit:Math.round(P.income-P.expense)})).sort((T,P)=>T.date.localeCompare(P.date)).slice(-30)},[e,r,t,i,s]),y=j.useMemo(()=>{const N=a.reduce((T,P)=>T+P.remainingAmount,0),_=a.filter(T=>T.remainingAmount>0).length;return{totalDebt:N,overdueCount:_,count:a.length}},[a]),v=j.useMemo(()=>{const N=n.reduce((T,P)=>T+P.remainingAmount,0),_=n.filter(T=>T.remainingAmount>0).length;return{totalDebt:N,overdueCount:_,count:n.length}},[n]),b=j.useMemo(()=>[...a].filter(N=>N.remainingAmount>0).sort((N,_)=>_.remainingAmount-N.remainingAmount).slice(0,5),[a]),k=j.useMemo(()=>t.reduce((N,_)=>{const T=_.stock[i]||0,P=_.retailPrice[i]||0;return N+T*P},0),[t,i]);return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex gap-2",children:[{value:"7days",label:"7 ngy"},{value:"30days",label:"30 ngy"},{value:"90days",label:"90 ngy"},{value:"all",label:"Tt c"}].map(N=>u.jsx("button",{onClick:()=>o(N.value),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===N.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:N.label},N.value))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 p-6 rounded-lg border border-emerald-200 dark:border-emerald-700",children:[u.jsx("div",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400 mb-2",children:"Thu nhp"}),u.jsx("div",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-100",children:Be(d)})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Chi ph"}),u.jsx("div",{className:"text-3xl font-bold text-red-900 dark:text-red-100",children:Be(h)})]}),u.jsxs("div",{className:`bg-gradient-to-br p-6 rounded-lg border ${m>=0?"from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700":"from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 border-red-200 dark:border-red-700"}`,children:[u.jsx("div",{className:`text-sm font-medium mb-2 ${m>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:"Li nhun"}),u.jsx("div",{className:`text-3xl font-bold ${m>=0?"text-blue-900 dark:text-blue-100":"text-red-900 dark:text-red-100"}`,children:Be(m)}),u.jsxs("div",{className:`text-xs mt-1 ${m>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"}`,children:["Bin li nhun: ",x.toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-lg border border-purple-200 dark:border-purple-700",children:[u.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400 mb-2",children:"Gi tr tn kho"}),u.jsx("div",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:Be(k)})]})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Thu - Chi - Li nhun"}),u.jsx(bu,{width:"100%",height:350,children:u.jsxs(Xpe,{data:p,children:[u.jsx(O0,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(D0,{dataKey:"date",stroke:"#94a3b8"}),u.jsx(_u,{stroke:"#94a3b8"}),u.jsx(ku,{formatter:N=>Be(N),contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",border:"none",borderRadius:"8px",color:"#fff"}}),u.jsx(Hh,{}),u.jsx(Ch,{dataKey:"income",fill:"#10b981",name:"Thu nhp"}),u.jsx(Ch,{dataKey:"expense",fill:"#ef4444",name:"Chi ph"}),u.jsx(cf,{type:"monotone",dataKey:"profit",stroke:"#3b82f6",strokeWidth:3,name:"Li nhun"})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cng n khch hng"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Tng cng n"}),u.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:Be(y.totalDebt)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Qu hn"}),u.jsx("div",{className:"text-2xl font-bold text-amber-900 dark:text-amber-100",children:y.overdueCount})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Top 5 khch n nhiu nht"}),u.jsxs("div",{className:"space-y-2",children:[b.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:N.customerName}),u.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Ngy to:"," ",new Date(N.createdDate).toLocaleDateString("vi-VN")]})]}),u.jsx("div",{className:"text-right",children:u.jsx("div",{className:"font-semibold text-amber-600 dark:text-amber-400",children:Be(N.remainingAmount)})})]},N.id)),b.length===0&&u.jsxs("div",{className:"text-center py-4 text-slate-600 dark:text-slate-400 inline-flex items-center justify-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Khng c cng n"]})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-[#1e293b] p-6 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cng n nh cung cp"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Tng cng n"}),u.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:Be(v.totalDebt)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Qu hn"}),u.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:v.overdueCount})]})]}),u.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2 inline-flex items-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:[u.jsx("path",{d:"M11 2a1 1 0 011 1v1.07A7.002 7.002 0 0119 11a6.97 6.97 0 01-2.05 4.95A3.5 3.5 0 0014 19.5V20a1 1 0 11-2 0v-.5a3.5 3.5 0 00-2.95-3.45A6.97 6.97 0 017 11a7.002 7.002 0 016-6.93V3a1 1 0 011-1z"}),u.jsx("path",{d:"M13 22a1 1 0 11-2 0 1 1 0 012 0z"})]}),"Mo qun l ti chnh"]}),u.jsxs("ul",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[u.jsx("li",{children:" Theo di bin li nhun hng thng"}),u.jsx("li",{children:" Gi tn kho  mc hp l"}),u.jsx("li",{children:" Thu hi cng n ng hn"}),u.jsx("li",{children:" m phn iu khon vi nh cung cp"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Khch hng n"}),u.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:y.count})]}),u.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg text-center",children:[u.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"NCC cn tr"}),u.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:v.count})]})]})]})]})]})]})};function Oa(e){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(e)}var Ic=Uint8Array,ol=Uint16Array,wA=Int32Array,kA=new Ic([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_A=new Ic([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gL=new Ic([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iH=function(e,t){for(var r=new ol(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var n=new wA(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)n[i]=i-r[a]<<5|a;return{b:r,r:n}},sH=iH(kA,2),fSe=sH.b,zS=sH.r;fSe[28]=258,zS[258]=28;var hSe=iH(_A,0),xL=hSe.r,qS=new ol(32768);for(var cn=0;cn<32768;++cn){var zd=(cn&43690)>>1|(cn&21845)<<1;zd=(zd&52428)>>2|(zd&13107)<<2,zd=(zd&61680)>>4|(zd&3855)<<4,qS[cn]=((zd&65280)>>8|(zd&255)<<8)>>1}var Zx=(function(e,t,r){for(var a=e.length,n=0,i=new ol(t);n<a;++n)e[n]&&++i[e[n]-1];var s=new ol(t);for(n=1;n<t;++n)s[n]=s[n-1]+i[n-1]<<1;var o;if(r){o=new ol(1<<t);var c=15-t;for(n=0;n<a;++n)if(e[n])for(var d=n<<4|e[n],h=t-e[n],m=s[e[n]-1]++<<h,x=m|(1<<h)-1;m<=x;++m)o[qS[m]>>c]=d}else for(o=new ol(a),n=0;n<a;++n)e[n]&&(o[n]=qS[s[e[n]-1]++]>>15-e[n]);return o}),am=new Ic(288);for(var cn=0;cn<144;++cn)am[cn]=8;for(var cn=144;cn<256;++cn)am[cn]=9;for(var cn=256;cn<280;++cn)am[cn]=7;for(var cn=280;cn<288;++cn)am[cn]=8;var I2=new Ic(32);for(var cn=0;cn<32;++cn)I2[cn]=5;var mSe=Zx(am,9,0),pSe=Zx(I2,5,0),oH=function(e){return(e+7)/8|0},gSe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ic(e.subarray(t,r))},f0=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},Ox=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},__=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var n=r.length,i=r.slice();if(!n)return{t:cH,l:0};if(n==1){var s=new Ic(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,O){return P.f-O.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,h=1,m=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=n-1;)o=r[r[d].f<r[m].f?d++:m++],c=r[d!=h&&r[d].f<r[m].f?d++:m++],r[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var x=i[0].s,a=1;a<n;++a)i[a].s>x&&(x=i[a].s);var p=new ol(x+1),y=$S(r[h-1],p,0);if(y>t){var a=0,v=0,b=y-t,k=1<<b;for(i.sort(function(O,L){return p[L.s]-p[O.s]||O.f-L.f});a<n;++a){var N=i[a].s;if(p[N]>t)v+=k-(1<<y-p[N]),p[N]=t;else break}for(v>>=b;v>0;){var _=i[a].s;p[_]<t?v-=1<<t-p[_]++-1:++a}for(;a>=0&&v;--a){var T=i[a].s;p[T]==t&&(--p[T],++v)}y=t}return{t:new Ic(p),l:y}},$S=function(e,t,r){return e.s==-1?Math.max($S(e.l,t,r+1),$S(e.r,t,r+1)):t[e.s]=r},vL=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ol(++t),a=0,n=e[0],i=1,s=function(c){r[a++]=c},o=1;o<=t;++o)if(e[o]==n&&o!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(n),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(n);i=1,n=e[o]}return{c:r.subarray(0,a),n:t}},Px=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},lH=function(e,t,r){var a=r.length,n=oH(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<a;++i)e[n+i+4]=r[i];return(n+4+a)*8},yL=function(e,t,r,a,n,i,s,o,c,d,h){f0(t,h++,r),++n[256];for(var m=__(n,15),x=m.t,p=m.l,y=__(i,15),v=y.t,b=y.l,k=vL(x),N=k.c,_=k.n,T=vL(v),P=T.c,O=T.n,L=new ol(19),U=0;U<N.length;++U)++L[N[U]&31];for(var U=0;U<P.length;++U)++L[P[U]&31];for(var I=__(L,7),K=I.t,D=I.l,F=19;F>4&&!K[gL[F-1]];--F);var H=d+5<<3,Y=Px(n,am)+Px(i,I2)+s,ne=Px(n,x)+Px(i,v)+s+14+3*F+Px(L,K)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&H<=Y&&H<=ne)return lH(t,h,e.subarray(c,c+d));var X,ae,ue,se;if(f0(t,h,1+(ne<Y)),h+=2,ne<Y){X=Zx(x,p,0),ae=x,ue=Zx(v,b,0),se=v;var be=Zx(K,D,0);f0(t,h,_-257),f0(t,h+5,O-1),f0(t,h+10,F-4),h+=14;for(var U=0;U<F;++U)f0(t,h+3*U,K[gL[U]]);h+=3*F;for(var J=[N,P],M=0;M<2;++M)for(var z=J[M],U=0;U<z.length;++U){var q=z[U]&31;f0(t,h,be[q]),h+=K[q],q>15&&(f0(t,h,z[U]>>5&127),h+=z[U]>>12)}}else X=mSe,ae=am,ue=pSe,se=I2;for(var U=0;U<o;++U){var G=a[U];if(G>255){var q=G>>18&31;Ox(t,h,X[q+257]),h+=ae[q+257],q>7&&(f0(t,h,G>>23&31),h+=kA[q]);var re=G&31;Ox(t,h,ue[re]),h+=se[re],re>3&&(Ox(t,h,G>>5&8191),h+=_A[re])}else Ox(t,h,X[G]),h+=ae[G]}return Ox(t,h,X[256]),h+ae[256]},xSe=new wA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cH=new Ic(0),vSe=function(e,t,r,a,n,i){var s=i.z||e.length,o=new Ic(a+s+5*(1+Math.ceil(s/7e3))+n),c=o.subarray(a,o.length-n),d=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var m=xSe[t-1],x=m>>13,p=m&8191,y=(1<<r)-1,v=i.p||new ol(32768),b=i.h||new ol(y+1),k=Math.ceil(r/3),N=2*k,_=function(Ae){return(e[Ae]^e[Ae+1]<<k^e[Ae+2]<<N)&y},T=new wA(25e3),P=new ol(288),O=new ol(32),L=0,U=0,I=i.i||0,K=0,D=i.w||0,F=0;I+2<s;++I){var H=_(I),Y=I&32767,ne=b[H];if(v[Y]=ne,b[H]=Y,D<=I){var X=s-I;if((L>7e3||K>24576)&&(X>423||!d)){h=yL(e,c,0,T,P,O,U,K,F,I-F,h),K=L=U=0,F=I;for(var ae=0;ae<286;++ae)P[ae]=0;for(var ae=0;ae<30;++ae)O[ae]=0}var ue=2,se=0,be=p,J=Y-ne&32767;if(X>2&&H==_(I-J))for(var M=Math.min(x,X)-1,z=Math.min(32767,I),q=Math.min(258,X);J<=z&&--be&&Y!=ne;){if(e[I+ue]==e[I+ue-J]){for(var G=0;G<q&&e[I+G]==e[I+G-J];++G);if(G>ue){if(ue=G,se=J,G>M)break;for(var re=Math.min(J,G-2),he=0,ae=0;ae<re;++ae){var je=I-J+ae&32767,oe=v[je],Ne=je-oe&32767;Ne>he&&(he=Ne,ne=je)}}}Y=ne,ne=v[Y],J+=Y-ne&32767}if(se){T[K++]=268435456|zS[ue]<<18|xL[se];var Me=zS[ue]&31,Q=xL[se]&31;U+=kA[Me]+_A[Q],++P[257+Me],++O[Q],D=I+ue,++L}else T[K++]=e[I],++P[e[I]]}}for(I=Math.max(I,D);I<s;++I)T[K++]=e[I],++P[e[I]];h=yL(e,c,d,T,P,O,U,K,F,I-F,h),d||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=b,i.p=v,i.i=I,i.w=D)}else{for(var I=i.w||0;I<s+d;I+=65535){var Te=I+65535;Te>=s&&(c[h/8|0]=d,Te=s),h=lH(c,h+1,e.subarray(I,Te))}i.i=s}return gSe(o,0,a+oH(h)+n)},uH=function(){var e=1,t=0;return{p:function(r){for(var a=e,n=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)n+=a+=r[s];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ySe=function(e,t,r,a,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Ic(i.length+e.length);s.set(i),s.set(e,i.length),e=s,n.w=i.length}return vSe(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,n)},dH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},bSe=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=uH();n.p(t.dictionary),dH(e,2,n.d())}};function HS(e,t){t||(t={});var r=uH();r.p(e);var a=ySe(e,t,t.dictionary?6:2,4);return bSe(a,t),dH(a,a.length-4,r.d()),a}var wSe=typeof TextDecoder<"u"&&new TextDecoder,kSe=0;try{wSe.decode(cH,{stream:!0}),kSe=1}catch{}function _Se(e){if(Array.isArray(e))return e}function SSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,s,o=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(h){d=!0,n=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw n}}return o}}function bL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function NSe(e,t){if(e){if(typeof e=="string")return bL(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bL(e,t):void 0}}function jSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wL(e,t){return _Se(e)||SSe(e,t)||NSe(e,t)||jSe()}function kL(e,t="utf8"){return new TextDecoder(t).decode(e)}const ASe=new TextEncoder;function TSe(e){return ASe.encode(e)}const ESe=1024*8,CSe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),S_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class SA{constructor(t=ESe,r={}){ua(this,"buffer");ua(this,"byteLength");ua(this,"byteOffset");ua(this,"length");ua(this,"offset");ua(this,"lastWrittenByte");ua(this,"littleEndian");ua(this,"_data");ua(this,"_mark");ua(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=r.offset?r.offset>>>0:0,i=t.byteLength-n;let s=n;(ArrayBuffer.isView(t)||t instanceof SA)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=S_[r].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===CSe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(n,n+a));o.reverse();const c=new S_[r](o.buffer);return this.offset+=a,c.reverse(),c}const s=new S_[r](i);return this.offset+=a,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return kL(this.readBytes(t))}decodeText(t=1,r="utf8"){return kL(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(TSe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Mg(e){let t=e.length;for(;--t>=0;)e[t]=0}const OSe=3,PSe=258,fH=29,DSe=256,LSe=DSe+1+fH,hH=30,MSe=512,RSe=new Array((LSe+2)*2);Mg(RSe);const ISe=new Array(hH*2);Mg(ISe);const FSe=new Array(MSe);Mg(FSe);const BSe=new Array(PSe-OSe+1);Mg(BSe);const USe=new Array(fH);Mg(USe);const zSe=new Array(hH);Mg(zSe);const qSe=(e,t,r,a)=>{let n=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do n=n+t[a++]|0,i=i+n|0;while(--s);n%=65521,i%=65521}return n|i<<16|0};var WS=qSe;const $Se=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},HSe=new Uint32Array($Se()),WSe=(e,t,r,a)=>{const n=HSe,i=a+r;e^=-1;for(let s=a;s<i;s++)e=e>>>8^n[(e^t[s])&255];return e^-1};var du=WSe,VS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mH={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const VSe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var KSe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)VSe(r,a)&&(e[a]=r[a])}}return e},GSe=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,n=0,i=e.length;a<i;a++){let s=e[a];r.set(s,n),n+=s.length}return r},pH={assign:KSe,flattenChunks:GSe};let gH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{gH=!1}const M1=new Uint8Array(256);for(let e=0;e<256;e++)M1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;M1[254]=M1[254]=1;var YSe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,n,i,s=e.length,o=0;for(n=0;n<s;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,n=0;i<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<s&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const XSe=(e,t)=>{if(t<65534&&e.subarray&&gH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var QSe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const i=new Array(r*2);for(n=0,a=0;a<r;){let s=e[a++];if(s<128){i[n++]=s;continue}let o=M1[s];if(o>4){i[n++]=65533,a+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&a<r;)s=s<<6|e[a++]&63,o--;if(o>1){i[n++]=65533;continue}s<65536?i[n++]=s:(s-=65536,i[n++]=55296|s>>10&1023,i[n++]=56320|s&1023)}return XSe(i,n)},JSe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+M1[e[r]]>t?r:t},KS={string2buf:YSe,buf2string:QSe,utf8border:JSe};function ZSe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eNe=ZSe;const ab=16209,tNe=16191;var rNe=function(t,r){let a,n,i,s,o,c,d,h,m,x,p,y,v,b,k,N,_,T,P,O,L,U,I,K;const D=t.state;a=t.next_in,I=t.input,n=a+(t.avail_in-5),i=t.next_out,K=t.output,s=i-(r-t.avail_out),o=i+(t.avail_out-257),c=D.dmax,d=D.wsize,h=D.whave,m=D.wnext,x=D.window,p=D.hold,y=D.bits,v=D.lencode,b=D.distcode,k=(1<<D.lenbits)-1,N=(1<<D.distbits)-1;e:do{y<15&&(p+=I[a++]<<y,y+=8,p+=I[a++]<<y,y+=8),_=v[p&k];t:for(;;){if(T=_>>>24,p>>>=T,y-=T,T=_>>>16&255,T===0)K[i++]=_&65535;else if(T&16){P=_&65535,T&=15,T&&(y<T&&(p+=I[a++]<<y,y+=8),P+=p&(1<<T)-1,p>>>=T,y-=T),y<15&&(p+=I[a++]<<y,y+=8,p+=I[a++]<<y,y+=8),_=b[p&N];r:for(;;){if(T=_>>>24,p>>>=T,y-=T,T=_>>>16&255,T&16){if(O=_&65535,T&=15,y<T&&(p+=I[a++]<<y,y+=8,y<T&&(p+=I[a++]<<y,y+=8)),O+=p&(1<<T)-1,O>c){t.msg="invalid distance too far back",D.mode=ab;break e}if(p>>>=T,y-=T,T=i-s,O>T){if(T=O-T,T>h&&D.sane){t.msg="invalid distance too far back",D.mode=ab;break e}if(L=0,U=x,m===0){if(L+=d-T,T<P){P-=T;do K[i++]=x[L++];while(--T);L=i-O,U=K}}else if(m<T){if(L+=d+m-T,T-=m,T<P){P-=T;do K[i++]=x[L++];while(--T);if(L=0,m<P){T=m,P-=T;do K[i++]=x[L++];while(--T);L=i-O,U=K}}}else if(L+=m-T,T<P){P-=T;do K[i++]=x[L++];while(--T);L=i-O,U=K}for(;P>2;)K[i++]=U[L++],K[i++]=U[L++],K[i++]=U[L++],P-=3;P&&(K[i++]=U[L++],P>1&&(K[i++]=U[L++]))}else{L=i-O;do K[i++]=K[L++],K[i++]=K[L++],K[i++]=K[L++],P-=3;while(P>2);P&&(K[i++]=K[L++],P>1&&(K[i++]=K[L++]))}}else if((T&64)===0){_=b[(_&65535)+(p&(1<<T)-1)];continue r}else{t.msg="invalid distance code",D.mode=ab;break e}break}}else if((T&64)===0){_=v[(_&65535)+(p&(1<<T)-1)];continue t}else if(T&32){D.mode=tNe;break e}else{t.msg="invalid literal/length code",D.mode=ab;break e}break}}while(a<n&&i<o);P=y>>3,a-=P,y-=P<<3,p&=(1<<y)-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=i<o?257+(o-i):257-(i-o),D.hold=p,D.bits=y};const vp=15,_L=852,SL=592,NL=0,N_=1,jL=2,aNe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nNe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),iNe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sNe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oNe=(e,t,r,a,n,i,s,o)=>{const c=o.bits;let d=0,h=0,m=0,x=0,p=0,y=0,v=0,b=0,k=0,N=0,_,T,P,O,L,U=null,I;const K=new Uint16Array(vp+1),D=new Uint16Array(vp+1);let F=null,H,Y,ne;for(d=0;d<=vp;d++)K[d]=0;for(h=0;h<a;h++)K[t[r+h]]++;for(p=c,x=vp;x>=1&&K[x]===0;x--);if(p>x&&(p=x),x===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<x&&K[m]===0;m++);for(p<m&&(p=m),b=1,d=1;d<=vp;d++)if(b<<=1,b-=K[d],b<0)return-1;if(b>0&&(e===NL||x!==1))return-1;for(D[1]=0,d=1;d<vp;d++)D[d+1]=D[d]+K[d];for(h=0;h<a;h++)t[r+h]!==0&&(s[D[t[r+h]]++]=h);if(e===NL?(U=F=s,I=20):e===N_?(U=aNe,F=nNe,I=257):(U=iNe,F=sNe,I=0),N=0,h=0,d=m,L=i,y=p,v=0,P=-1,k=1<<p,O=k-1,e===N_&&k>_L||e===jL&&k>SL)return 1;for(;;){H=d-v,s[h]+1<I?(Y=0,ne=s[h]):s[h]>=I?(Y=F[s[h]-I],ne=U[s[h]-I]):(Y=96,ne=0),_=1<<d-v,T=1<<y,m=T;do T-=_,n[L+(N>>v)+T]=H<<24|Y<<16|ne|0;while(T!==0);for(_=1<<d-1;N&_;)_>>=1;if(_!==0?(N&=_-1,N+=_):N=0,h++,--K[d]===0){if(d===x)break;d=t[r+s[h]]}if(d>p&&(N&O)!==P){for(v===0&&(v=p),L+=m,y=d-v,b=1<<y;y+v<x&&(b-=K[y+v],!(b<=0));)y++,b<<=1;if(k+=1<<y,e===N_&&k>_L||e===jL&&k>SL)return 1;P=N&O,n[P]=p<<24|y<<16|L-i|0}}return N!==0&&(n[L+N]=d-v<<24|64<<16|0),o.bits=p,0};var e1=oNe;const lNe=0,xH=1,vH=2,{Z_FINISH:AL,Z_BLOCK:cNe,Z_TREES:nb,Z_OK:nm,Z_STREAM_END:uNe,Z_NEED_DICT:dNe,Z_STREAM_ERROR:Xl,Z_DATA_ERROR:yH,Z_MEM_ERROR:bH,Z_BUF_ERROR:fNe,Z_DEFLATED:TL}=mH,Xw=16180,EL=16181,CL=16182,OL=16183,PL=16184,DL=16185,LL=16186,ML=16187,RL=16188,IL=16189,F2=16190,h0=16191,j_=16192,FL=16193,A_=16194,BL=16195,UL=16196,zL=16197,qL=16198,ib=16199,sb=16200,$L=16201,HL=16202,WL=16203,VL=16204,KL=16205,T_=16206,GL=16207,YL=16208,yn=16209,wH=16210,kH=16211,hNe=852,mNe=592,pNe=15,gNe=pNe,XL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function xNe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Xw||t.mode>kH?1:0},_H=e=>{if(gm(e))return Xl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Xw,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(hNe),t.distcode=t.distdyn=new Int32Array(mNe),t.sane=1,t.back=-1,nm},SH=e=>{if(gm(e))return Xl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,_H(e)},NH=(e,t)=>{let r;if(gm(e))return Xl;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Xl:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,SH(e))},jH=(e,t)=>{if(!e)return Xl;const r=new xNe;e.state=r,r.strm=e,r.window=null,r.mode=Xw;const a=NH(e,t);return a!==nm&&(e.state=null),a},vNe=e=>jH(e,gNe);let QL=!0,E_,C_;const yNe=e=>{if(QL){E_=new Int32Array(512),C_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(e1(xH,e.lens,0,288,E_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;e1(vH,e.lens,0,32,C_,0,e.work,{bits:5}),QL=!1}e.lencode=E_,e.lenbits=9,e.distcode=C_,e.distbits=5},AH=(e,t,r,a)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(t.subarray(r-a,r-a+n),i.wnext),a-=n,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},bNe=(e,t)=>{let r,a,n,i,s,o,c,d,h,m,x,p,y,v,b=0,k,N,_,T,P,O,L,U;const I=new Uint8Array(4);let K,D;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gm(e)||!e.output||!e.input&&e.avail_in!==0)return Xl;r=e.state,r.mode===h0&&(r.mode=j_),s=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=r.hold,h=r.bits,m=o,x=c,U=nm;e:for(;;)switch(r.mode){case Xw:if(r.wrap===0){r.mode=j_;break}for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=d&255,I[1]=d>>>8&255,r.check=du(r.check,I,2,0),d=0,h=0,r.mode=EL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=yn;break}if((d&15)!==TL){e.msg="unknown compression method",r.mode=yn;break}if(d>>>=4,h-=4,L=(d&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=yn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?IL:h0,d=0,h=0;break;case EL:for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(r.flags=d,(r.flags&255)!==TL){e.msg="unknown compression method",r.mode=yn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=yn;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,r.check=du(r.check,I,2,0)),d=0,h=0,r.mode=CL;case CL:for(;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,r.check=du(r.check,I,4,0)),d=0,h=0,r.mode=OL;case OL:for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,r.check=du(r.check,I,2,0)),d=0,h=0,r.mode=PL;case PL:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,r.check=du(r.check,I,2,0)),d=0,h=0}else r.head&&(r.head.extra=null);r.mode=DL;case DL:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+p),L)),r.flags&512&&r.wrap&4&&(r.check=du(r.check,a,p,i)),o-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=LL;case LL:if(r.flags&2048){if(o===0)break e;p=0;do L=a[i+p++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=du(r.check,a,p,i)),o-=p,i+=p,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=ML;case ML:if(r.flags&4096){if(o===0)break e;p=0;do L=a[i+p++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=du(r.check,a,p,i)),o-=p,i+=p,L)break e}else r.head&&(r.head.comment=null);r.mode=RL;case RL:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=yn;break}d=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=h0;break;case IL:for(;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}e.adler=r.check=XL(d),d=0,h=0,r.mode=F2;case F2:if(r.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=h,dNe;e.adler=r.check=1,r.mode=h0;case h0:if(t===cNe||t===nb)break e;case j_:if(r.last){d>>>=h&7,h-=h&7,r.mode=T_;break}for(;h<3;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}switch(r.last=d&1,d>>>=1,h-=1,d&3){case 0:r.mode=FL;break;case 1:if(yNe(r),r.mode=ib,t===nb){d>>>=2,h-=2;break e}break;case 2:r.mode=UL;break;case 3:e.msg="invalid block type",r.mode=yn}d>>>=2,h-=2;break;case FL:for(d>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=yn;break}if(r.length=d&65535,d=0,h=0,r.mode=A_,t===nb)break e;case A_:r.mode=BL;case BL:if(p=r.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;n.set(a.subarray(i,i+p),s),o-=p,i+=p,c-=p,s+=p,r.length-=p;break}r.mode=h0;break;case UL:for(;h<14;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(r.nlen=(d&31)+257,d>>>=5,h-=5,r.ndist=(d&31)+1,d>>>=5,h-=5,r.ncode=(d&15)+4,d>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=yn;break}r.have=0,r.mode=zL;case zL:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}r.lens[F[r.have++]]=d&7,d>>>=3,h-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},U=e1(lNe,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,U){e.msg="invalid code lengths set",r.mode=yn;break}r.have=0,r.mode=qL;case qL:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[d&(1<<r.lenbits)-1],k=b>>>24,N=b>>>16&255,_=b&65535,!(k<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(_<16)d>>>=k,h-=k,r.lens[r.have++]=_;else{if(_===16){for(D=k+2;h<D;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(d>>>=k,h-=k,r.have===0){e.msg="invalid bit length repeat",r.mode=yn;break}L=r.lens[r.have-1],p=3+(d&3),d>>>=2,h-=2}else if(_===17){for(D=k+3;h<D;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=k,h-=k,L=0,p=3+(d&7),d>>>=3,h-=3}else{for(D=k+7;h<D;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=k,h-=k,L=0,p=11+(d&127),d>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=yn;break}for(;p--;)r.lens[r.have++]=L}}if(r.mode===yn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=yn;break}if(r.lenbits=9,K={bits:r.lenbits},U=e1(xH,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,U){e.msg="invalid literal/lengths set",r.mode=yn;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},U=e1(vH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,U){e.msg="invalid distances set",r.mode=yn;break}if(r.mode=ib,t===nb)break e;case ib:r.mode=sb;case sb:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=h,rNe(e,x),s=e.next_out,n=e.output,c=e.avail_out,i=e.next_in,a=e.input,o=e.avail_in,d=r.hold,h=r.bits,r.mode===h0&&(r.back=-1);break}for(r.back=0;b=r.lencode[d&(1<<r.lenbits)-1],k=b>>>24,N=b>>>16&255,_=b&65535,!(k<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(N&&(N&240)===0){for(T=k,P=N,O=_;b=r.lencode[O+((d&(1<<T+P)-1)>>T)],k=b>>>24,N=b>>>16&255,_=b&65535,!(T+k<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=T,h-=T,r.back+=T}if(d>>>=k,h-=k,r.back+=k,r.length=_,N===0){r.mode=KL;break}if(N&32){r.back=-1,r.mode=h0;break}if(N&64){e.msg="invalid literal/length code",r.mode=yn;break}r.extra=N&15,r.mode=$L;case $L:if(r.extra){for(D=r.extra;h<D;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=HL;case HL:for(;b=r.distcode[d&(1<<r.distbits)-1],k=b>>>24,N=b>>>16&255,_=b&65535,!(k<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if((N&240)===0){for(T=k,P=N,O=_;b=r.distcode[O+((d&(1<<T+P)-1)>>T)],k=b>>>24,N=b>>>16&255,_=b&65535,!(T+k<=h);){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}d>>>=T,h-=T,r.back+=T}if(d>>>=k,h-=k,r.back+=k,N&64){e.msg="invalid distance code",r.mode=yn;break}r.offset=_,r.extra=N&15,r.mode=WL;case WL:if(r.extra){for(D=r.extra;h<D;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=yn;break}r.mode=VL;case VL:if(c===0)break e;if(p=x-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=yn;break}p>r.wnext?(p-=r.wnext,y=r.wsize-p):y=r.wnext-p,p>r.length&&(p=r.length),v=r.window}else v=n,y=s-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do n[s++]=v[y++];while(--p);r.length===0&&(r.mode=sb);break;case KL:if(c===0)break e;n[s++]=r.length,c--,r.mode=sb;break;case T_:if(r.wrap){for(;h<32;){if(o===0)break e;o--,d|=a[i++]<<h,h+=8}if(x-=c,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?du(r.check,n,x,s-x):WS(r.check,n,x,s-x)),x=c,r.wrap&4&&(r.flags?d:XL(d))!==r.check){e.msg="incorrect data check",r.mode=yn;break}d=0,h=0}r.mode=GL;case GL:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,d+=a[i++]<<h,h+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=yn;break}d=0,h=0}r.mode=YL;case YL:U=uNe;break e;case yn:U=yH;break e;case wH:return bH;case kH:default:return Xl}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=d,r.bits=h,(r.wsize||x!==e.avail_out&&r.mode<yn&&(r.mode<T_||t!==AL))&&AH(e,e.output,e.next_out,x-e.avail_out),m-=e.avail_in,x-=e.avail_out,e.total_in+=m,e.total_out+=x,r.total+=x,r.wrap&4&&x&&(e.adler=r.check=r.flags?du(r.check,n,x,e.next_out-x):WS(r.check,n,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(r.mode===h0?128:0)+(r.mode===ib||r.mode===A_?256:0),(m===0&&x===0||t===AL)&&U===nm&&(U=fNe),U},wNe=e=>{if(gm(e))return Xl;let t=e.state;return t.window&&(t.window=null),e.state=null,nm},kNe=(e,t)=>{if(gm(e))return Xl;const r=e.state;return(r.wrap&2)===0?Xl:(r.head=t,t.done=!1,nm)},_Ne=(e,t)=>{const r=t.length;let a,n,i;return gm(e)||(a=e.state,a.wrap!==0&&a.mode!==F2)?Xl:a.mode===F2&&(n=1,n=WS(n,t,r,0),n!==a.check)?yH:(i=AH(e,t,r,r),i?(a.mode=wH,bH):(a.havedict=1,nm))};var SNe=SH,NNe=NH,jNe=_H,ANe=vNe,TNe=jH,ENe=bNe,CNe=wNe,ONe=kNe,PNe=_Ne,DNe="pako inflate (from Nodeca project)",g0={inflateReset:SNe,inflateReset2:NNe,inflateResetKeep:jNe,inflateInit:ANe,inflateInit2:TNe,inflate:ENe,inflateEnd:CNe,inflateGetHeader:ONe,inflateSetDictionary:PNe,inflateInfo:DNe};function LNe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var MNe=LNe;const TH=Object.prototype.toString,{Z_NO_FLUSH:RNe,Z_FINISH:INe,Z_OK:R1,Z_STREAM_END:O_,Z_NEED_DICT:P_,Z_STREAM_ERROR:FNe,Z_DATA_ERROR:JL,Z_MEM_ERROR:BNe}=mH;function Sv(e){this.options=pH.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eNe,this.strm.avail_out=0;let r=g0.inflateInit2(this.strm,t.windowBits);if(r!==R1)throw new Error(VS[r]);if(this.header=new MNe,g0.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=KS.string2buf(t.dictionary):TH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=g0.inflateSetDictionary(this.strm,t.dictionary),r!==R1)))throw new Error(VS[r])}Sv.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?INe:RNe,TH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=g0.inflate(r,s),i===P_&&n&&(i=g0.inflateSetDictionary(r,n),i===R1?i=g0.inflate(r,s):i===JL&&(i=P_));r.avail_in>0&&i===O_&&r.state.wrap>0&&e[r.next_in]!==0;)g0.inflateReset(r),i=g0.inflate(r,s);switch(i){case FNe:case JL:case P_:case BNe:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===O_))if(this.options.to==="string"){let c=KS.utf8border(r.output,r.next_out),d=r.next_out-c,h=KS.buf2string(r.output,c);r.next_out=d,r.avail_out=a-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===R1&&o===0)){if(i===O_)return i=g0.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Sv.prototype.onData=function(e){this.chunks.push(e)};Sv.prototype.onEnd=function(e){e===R1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=pH.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function UNe(e,t){const r=new Sv(t);if(r.push(e),r.err)throw r.msg||VS[r.err];return r.result}var zNe=Sv,qNe=UNe,$Ne={Inflate:zNe,inflate:qNe};const{Inflate:HNe,inflate:WNe}=$Ne;var ZL=HNe,VNe=WNe;const EH=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;EH[e]=t}const e9=4294967295;function KNe(e,t,r){let a=e;for(let n=0;n<r;n++)a=EH[(a^t[n])&255]^a>>>8;return a}function GNe(e,t){return(KNe(e9,e,t)^e9)>>>0}function t9(e,t,r){const a=e.readUint32(),n=GNe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${n}`)}function CH(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function OH(e,t,r,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<r;n++)t[n]=e[n]+t[n-a]&255}function PH(e,t,r,a){let n=0;if(r.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+r[n]&255}function DH(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-n]+r[i]>>1)&255}}function LH(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+YNe(t[i-n],r[i],r[i-n])&255}}function YNe(e,t,r){const a=e+t-r,n=Math.abs(a-e),i=Math.abs(a-t),s=Math.abs(a-r);return n<=i&&n<=s?e:i<=s?t:r}function XNe(e,t,r,a,n,i){switch(e){case 0:CH(t,r,n);break;case 1:OH(t,r,n,i);break;case 2:PH(t,r,a,n);break;case 3:DH(t,r,a,n,i);break;case 4:LH(t,r,a,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const QNe=new Uint16Array([255]),JNe=new Uint8Array(QNe.buffer),ZNe=JNe[0]===255;function e6e(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*n,c=new Uint8Array(a*r*o);let d=0;for(let h=0;h<7;h++){const m=s[h],x=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((a-m.y)/m.yStep);if(x<=0||p<=0)continue;const y=x*o,v=new Uint8Array(y);for(let b=0;b<p;b++){const k=t[d++],N=t.subarray(d,d+y);d+=y;const _=new Uint8Array(y);XNe(k,N,_,v,y,o),v.set(_);for(let T=0;T<x;T++){const P=m.x+T*m.xStep,O=m.y+b*m.yStep;if(!(P>=r||O>=a))for(let L=0;L<o;L++)c[(O*r+P)*o+L]=_[T*o+L]}}}if(i===16){const h=new Uint16Array(c.buffer);if(ZNe)for(let m=0;m<h.length;m++)h[m]=t6e(h[m]);return h}else return c}function t6e(e){return(e&255)<<8|e>>8&255}const r6e=new Uint16Array([255]),a6e=new Uint8Array(r6e.buffer),n6e=a6e[0]===255,i6e=new Uint8Array(0);function r9(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,s=Math.ceil(i/8)*n,o=Math.ceil(i/8*n*r),c=new Uint8Array(a*o);let d=i6e,h=0,m,x;for(let p=0;p<a;p++){switch(m=t.subarray(h+1,h+1+o),x=c.subarray(p*o,(p+1)*o),t[h]){case 0:CH(m,x,o);break;case 1:OH(m,x,o,s);break;case 2:PH(m,x,d,o);break;case 3:DH(m,x,d,o,s);break;case 4:LH(m,x,d,o,s);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}d=x,h+=o+1}if(i===16){const p=new Uint16Array(c.buffer);if(n6e)for(let y=0;y<p.length;y++)p[y]=s6e(p[y]);return p}else return c}function s6e(e){return(e&255)<<8|e>>8&255}const yb=Uint8Array.of(137,80,78,71,13,10,26,10);function a9(e){if(!o6e(e.readBytes(yb.length)))throw new Error("wrong PNG signature")}function o6e(e){if(e.length<yb.length)return!1;for(let t=0;t<yb.length;t++)if(e[t]!==yb[t])return!1;return!0}const l6e="tEXt",c6e=0,MH=new TextDecoder("latin1");function u6e(e){if(f6e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const d6e=/^[\u0000-\u00FF]*$/;function f6e(e){if(!d6e.test(e))throw new Error("invalid latin1 text")}function h6e(e,t,r){const a=RH(t);e[a]=m6e(t,r-a.length-1)}function RH(e){for(e.mark();e.readByte()!==c6e;);const t=e.offset;e.reset();const r=MH.decode(e.readBytes(t-e.offset-1));return e.skip(1),u6e(r),r}function m6e(e,t){return MH.decode(e.readBytes(t))}const Go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},D_={UNKNOWN:-1,DEFLATE:0},n9={UNKNOWN:-1,ADAPTIVE:0},L_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ob={NONE:0,BACKGROUND:1,PREVIOUS:2},M_={SOURCE:0,OVER:1};class p6e extends SA{constructor(r,a={}){super(r);ua(this,"_checkCrc");ua(this,"_inflator");ua(this,"_png");ua(this,"_apng");ua(this,"_end");ua(this,"_hasPalette");ua(this,"_palette");ua(this,"_hasTransparency");ua(this,"_transparency");ua(this,"_compressionMethod");ua(this,"_filterMethod");ua(this,"_interlaceMethod");ua(this,"_colorType");ua(this,"_isAnimated");ua(this,"_numberOfFrames");ua(this,"_numberOfPlays");ua(this,"_frames");ua(this,"_writingDataChunks");const{checkCrc:n=!1}=a;this._checkCrc=n,this._inflator=new ZL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=D_.UNKNOWN,this._filterMethod=n9.UNKNOWN,this._interlaceMethod=L_.UNKNOWN,this._colorType=Go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(a9(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(a9(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const n=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case l6e:h6e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?t9(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const n=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=n+r;break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?t9(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=g6e(this.readUint8());const a=this.readUint8();this._colorType=a;let n;switch(a){case Go.GREYSCALE:n=1;break;case Go.TRUECOLOUR:n=3;break;case Go.INDEXED_COLOUR:n=1;break;case Go.GREYSCALE_ALPHA:n=2;break;case Go.TRUECOLOUR_ALPHA:n=4;break;case Go.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==D_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<a;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,n=this.offset+this.byteOffset;if(n+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Go.GREYSCALE:case Go.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Go.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const n=this.readByte();this._palette[a].push(n)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Go.UNKNOWN:case Go.GREYSCALE_ALPHA:case Go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=RH(this),n=this.readUint8();if(n!==D_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:VNe(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),n=this.readByte();this._png.resolution={x:r,y:a,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(r);if(n){if(n.data=r9({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)a.data=n.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(n,i,a),this.addFrameDataToCanvas(a,n)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,n){switch(r.disposeOp){case ob.NONE:break;case ob.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*r.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[o+c]=0}break;case ob.PREVIOUS:n.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const n=1<<this._png.depth,i=(s,o)=>{const c=((s+a.yOffset)*this._png.width+a.xOffset+o)*this._png.channels,d=(s*a.width+o)*this._png.channels;return{index:c,frameIndex:d}};switch(a.blendOp){case M_.SOURCE:for(let s=0;s<a.height;s++)for(let o=0;o<a.width;o++){const{index:c,frameIndex:d}=i(s,o);for(let h=0;h<this._png.channels;h++)r.data[c+h]=a.data[d+h]}break;case M_.OVER:for(let s=0;s<a.height;s++)for(let o=0;o<a.width;o++){const{index:c,frameIndex:d}=i(s,o);for(let h=0;h<this._png.channels;h++){const m=a.data[d+this._png.channels-1]/n,x=h%(this._png.channels-1)===0?1:a.data[d+h],p=Math.floor(m*x+(1-m)*r.data[c+h]);r.data[c+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==n9.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===L_.NO_INTERLACE)this._png.data=r9({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===L_.ADAM7)this._png.data=e6e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ob.NONE,blendOp:M_.SOURCE,data:r}),this._inflator=new ZL,this._writingDataChunks=!1}}function g6e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var i9;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(i9||(i9={}));function x6e(e,t){return new p6e(e,t).decode()}var Nr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function R_(){Nr.console&&typeof Nr.console.log=="function"&&Nr.console.log.apply(Nr.console,arguments)}var Ya={log:R_,warn:function(e){Nr.console&&(typeof Nr.console.warn=="function"?Nr.console.warn.apply(Nr.console,arguments):R_.call(null,arguments))},error:function(e){Nr.console&&(typeof Nr.console.error=="function"?Nr.console.error.apply(Nr.console,arguments):R_(e))}};function I_(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){ih(a.response,t,r)},a.onerror=function(){Ya.error("could not download file")},a.send()}function s9(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ih=Nr.saveAs||((typeof window>"u"?"undefined":Oa(window))!=="object"||window!==Nr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=Nr.URL||Nr.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?s9(n.href)?I_(e,t,r):lb(n,n.target="_blank"):lb(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){lb(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(s9(e))I_(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){lb(a)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:Oa(i)!=="object"&&(Ya.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return I_(e,t,r);var n=e.type==="application/octet-stream",i=/constructor/i.test(Nr.HTMLElement)||Nr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&i)&&(typeof FileReader>"u"?"undefined":Oa(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},o.readAsDataURL(e)}else{var c=Nr.URL||Nr.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IH(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,i=r[a].process,s=n.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var bb=Nr.atob.bind(Nr),o9=Nr.btoa.bind(Nr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F_(e,t){var r=e[0],a=e[1],n=e[2],i=e[3];r=_s(r,a,n,i,t[0],7,-680876936),i=_s(i,r,a,n,t[1],12,-389564586),n=_s(n,i,r,a,t[2],17,606105819),a=_s(a,n,i,r,t[3],22,-1044525330),r=_s(r,a,n,i,t[4],7,-176418897),i=_s(i,r,a,n,t[5],12,1200080426),n=_s(n,i,r,a,t[6],17,-1473231341),a=_s(a,n,i,r,t[7],22,-45705983),r=_s(r,a,n,i,t[8],7,1770035416),i=_s(i,r,a,n,t[9],12,-1958414417),n=_s(n,i,r,a,t[10],17,-42063),a=_s(a,n,i,r,t[11],22,-1990404162),r=_s(r,a,n,i,t[12],7,1804603682),i=_s(i,r,a,n,t[13],12,-40341101),n=_s(n,i,r,a,t[14],17,-1502002290),r=Ss(r,a=_s(a,n,i,r,t[15],22,1236535329),n,i,t[1],5,-165796510),i=Ss(i,r,a,n,t[6],9,-1069501632),n=Ss(n,i,r,a,t[11],14,643717713),a=Ss(a,n,i,r,t[0],20,-373897302),r=Ss(r,a,n,i,t[5],5,-701558691),i=Ss(i,r,a,n,t[10],9,38016083),n=Ss(n,i,r,a,t[15],14,-660478335),a=Ss(a,n,i,r,t[4],20,-405537848),r=Ss(r,a,n,i,t[9],5,568446438),i=Ss(i,r,a,n,t[14],9,-1019803690),n=Ss(n,i,r,a,t[3],14,-187363961),a=Ss(a,n,i,r,t[8],20,1163531501),r=Ss(r,a,n,i,t[13],5,-1444681467),i=Ss(i,r,a,n,t[2],9,-51403784),n=Ss(n,i,r,a,t[7],14,1735328473),r=Ns(r,a=Ss(a,n,i,r,t[12],20,-1926607734),n,i,t[5],4,-378558),i=Ns(i,r,a,n,t[8],11,-2022574463),n=Ns(n,i,r,a,t[11],16,1839030562),a=Ns(a,n,i,r,t[14],23,-35309556),r=Ns(r,a,n,i,t[1],4,-1530992060),i=Ns(i,r,a,n,t[4],11,1272893353),n=Ns(n,i,r,a,t[7],16,-155497632),a=Ns(a,n,i,r,t[10],23,-1094730640),r=Ns(r,a,n,i,t[13],4,681279174),i=Ns(i,r,a,n,t[0],11,-358537222),n=Ns(n,i,r,a,t[3],16,-722521979),a=Ns(a,n,i,r,t[6],23,76029189),r=Ns(r,a,n,i,t[9],4,-640364487),i=Ns(i,r,a,n,t[12],11,-421815835),n=Ns(n,i,r,a,t[15],16,530742520),r=js(r,a=Ns(a,n,i,r,t[2],23,-995338651),n,i,t[0],6,-198630844),i=js(i,r,a,n,t[7],10,1126891415),n=js(n,i,r,a,t[14],15,-1416354905),a=js(a,n,i,r,t[5],21,-57434055),r=js(r,a,n,i,t[12],6,1700485571),i=js(i,r,a,n,t[3],10,-1894986606),n=js(n,i,r,a,t[10],15,-1051523),a=js(a,n,i,r,t[1],21,-2054922799),r=js(r,a,n,i,t[8],6,1873313359),i=js(i,r,a,n,t[15],10,-30611744),n=js(n,i,r,a,t[6],15,-1560198380),a=js(a,n,i,r,t[13],21,1309151649),r=js(r,a,n,i,t[4],6,-145523070),i=js(i,r,a,n,t[11],10,-1120210379),n=js(n,i,r,a,t[2],15,718787259),a=js(a,n,i,r,t[9],21,-343485551),e[0]=sf(r,e[0]),e[1]=sf(a,e[1]),e[2]=sf(n,e[2]),e[3]=sf(i,e[3])}function Qw(e,t,r,a,n,i){return t=sf(sf(t,e),sf(a,i)),sf(t<<n|t>>>32-n,r)}function _s(e,t,r,a,n,i,s){return Qw(t&r|~t&a,e,t,n,i,s)}function Ss(e,t,r,a,n,i,s){return Qw(t&a|r&~a,e,t,n,i,s)}function Ns(e,t,r,a,n,i,s){return Qw(t^r^a,e,t,n,i,s)}function js(e,t,r,a,n,i,s){return Qw(r^(t|~a),e,t,n,i,s)}function FH(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)F_(a,v6e(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(F_(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,F_(a,n),a}function v6e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var l9="0123456789abcdef".split("");function y6e(e){for(var t="",r=0;r<4;r++)t+=l9[e>>8*r+4&15]+l9[e>>8*r&15];return t}function b6e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function GS(e){return FH(e).map(b6e).join("")}var w6e=(function(e){for(var t=0;t<e.length;t++)e[t]=y6e(e[t]);return e.join("")})(FH("hello"))!="5d41402abc4b2a76b9719d911017c592";function sf(e,t){if(w6e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function YS(e,t){var r,a,n,i;if(e!==r){for(var s=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var h=o[c];d=(d+h+s.charCodeAt(c))%256,o[c]=o[d],o[d]=h}r=e,a=o}else o=a;var m=t.length,x=0,p=0,y="";for(c=0;c<m;c++)p=(p+(h=o[x=(x+1)%256]))%256,o[x]=o[p],o[p]=h,s=o[(o[x]+o[p])%256],y+=String.fromCharCode(t.charCodeAt(c)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var c9={print:4,modify:8,copy:16,"annot-forms":32};function Sp(e,t,r,a){this.v=1,this.r=2;var n=192;e.forEach(function(o){if(c9.perm!==void 0)throw new Error("Invalid permission: "+o);n+=c9[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^n)),this.encryptionKey=GS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=YS(this.encryptionKey,this.padding)}function Np(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function u9(e){if(Oa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!n],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,a)}catch(o){Nr.console&&Ya.error("jsPDF PubSub Error",o.message,o)}s[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function B2(e){if(!(this instanceof B2))return new B2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function BH(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ch(e,t,r,a,n){if(!(this instanceof ch))return new ch(e,t,r,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,BH.call(this,a,n)}function Tp(e,t,r,a,n){if(!(this instanceof Tp))return new Tp(e,t,r,a,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,BH.call(this,a,n)}function Zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],s=[],o=1,c=16,d="S",h=null;Oa(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,n=e.format||n,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),a=a||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=u9;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(R){y=R};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var k=p.__private__.getPageFormat=function(R){return b[R]};n=n||"a4";var N="compat",_="advanced",T=N;function P(){this.saveGraphicsState(),de(new nr(vt,0,0,-vt,0,sc()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),d="n",T=_}function O(){this.restoreGraphicsState(),d="S",T=N}var L=p.__private__.combineFontStyleAndFontWeight=function(R,Z){if(R=="bold"&&Z=="normal"||R=="bold"&&Z==400||R=="normal"&&Z=="italic"||R=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(R=Z==400||Z==="normal"?R==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||R!=="normal"?(Z==700?"bold":Z)+""+R:"bold"),R};p.advancedAPI=function(R){var Z=T===N;return Z&&P.call(this),typeof R!="function"||(R(this),Z&&O.call(this)),this},p.compatAPI=function(R){var Z=T===_;return Z&&O.call(this),typeof R!="function"||(R(this),Z&&P.call(this)),this},p.isAdvancedAPI=function(){return T===_};var U,I=function(R){if(T!==_)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=p.roundToPrecision=p.__private__.roundToPrecision=function(R,Z){var _e=t||Z;if(isNaN(R)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(_e).replace(/0+$/,"")};U=p.hpf=p.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return K(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return K(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return K(R,16)};var D=p.f2=p.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return K(R,2)},F=p.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return K(R,3)},H=p.scale=p.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return T===N?R*vt:T===_?R:void 0},Y=function(R){return H((function(Z){return T===N?sc()-Z:T===_?Z:void 0})(R))};p.__private__.setPrecision=p.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var ne,X="00000000000000000000000000000000",ae=p.__private__.getFileId=function(){return X},ue=p.__private__.setFileId=function(R){return X=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Nn=new Sp(h.userPermissions,h.userPassword,h.ownerPassword,X)),X};p.setFileId=function(R){return ue(R),this},p.getFileId=function(){return ae()};var se=p.__private__.convertDateToPDFDate=function(R){var Z=R.getTimezoneOffset(),_e=Z<0?"+":"-",Oe=Math.floor(Math.abs(Z/60)),Re=Math.abs(Z%60),st=[_e,q(Oe),"'",q(Re),"'"].join("");return["D:",R.getFullYear(),q(R.getMonth()+1),q(R.getDate()),q(R.getHours()),q(R.getMinutes()),q(R.getSeconds()),st].join("")},be=p.__private__.convertPDFDateToDate=function(R){var Z=parseInt(R.substr(2,4),10),_e=parseInt(R.substr(6,2),10)-1,Oe=parseInt(R.substr(8,2),10),Re=parseInt(R.substr(10,2),10),st=parseInt(R.substr(12,2),10),ft=parseInt(R.substr(14,2),10);return new Date(Z,_e,Oe,Re,st,ft,0)},J=p.__private__.setCreationDate=function(R){var Z;if(R===void 0&&(R=new Date),R instanceof Date)Z=se(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=R}return ne=Z},M=p.__private__.getCreationDate=function(R){var Z=ne;return R==="jsDate"&&(Z=be(ne)),Z};p.setCreationDate=function(R){return J(R),this},p.getCreationDate=function(R){return M(R)};var z,q=p.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},G=p.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},re=0,he=[],je=[],oe=0,Ne=[],Me=[],Q=!1,Te=je;p.__private__.setCustomOutputDestination=function(R){Q=!0,Te=R};var Ae=function(R){Q||(Te=R)};p.__private__.resetCustomOutputDestination=function(){Q=!1,Te=je};var de=p.__private__.out=function(R){return R=R.toString(),oe+=R.length+1,Te.push(R),Te},Qe=p.__private__.write=function(R){return de(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},we=p.__private__.getArrayBuffer=function(R){for(var Z=R.length,_e=new ArrayBuffer(Z),Oe=new Uint8Array(_e);Z--;)Oe[Z]=R.charCodeAt(Z);return _e},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ze};var Xe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(R){return Xe=T===_?R/vt:R,this};var gt,ot=p.__private__.getFontSize=p.getFontSize=function(){return T===N?Xe:Xe*vt},Ct=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(R){return Ct=R,this},p.__private__.getR2L=p.getR2L=function(){return Ct};var Pt,Dt=p.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))gt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');gt=R}else gt=parseInt(R,10)};p.__private__.getZoomMode=function(){return gt};var er,ar=p.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Pt=R};p.__private__.getPageMode=function(){return Pt};var $r=p.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');er=R};p.__private__.getLayoutMode=function(){return er},p.__private__.setDisplayMode=p.setDisplayMode=function(R,Z,_e){return Dt(R),$r(Z),ar(_e),this};var qt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(R){if(Object.keys(qt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qt[R]},p.__private__.getDocumentProperties=function(){return qt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(R){for(var Z in qt)qt.hasOwnProperty(Z)&&R[Z]&&(qt[Z]=R[Z]);return this},p.__private__.setDocumentProperty=function(R,Z){if(Object.keys(qt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qt[R]=Z};var Lt,vt,Tt,Dr,Ft,At={},ir={},Tr=[],qe={},bt={},kt={},gr={},Rr=null,Er=0,Mt=[],sr=new u9(p),Hr=e.hotfixes||[],en={},Ui={},oi=[],nr=function R(Z,_e,Oe,Re,st,ft){if(!(this instanceof R))return new R(Z,_e,Oe,Re,st,ft);isNaN(Z)&&(Z=1),isNaN(_e)&&(_e=0),isNaN(Oe)&&(Oe=0),isNaN(Re)&&(Re=1),isNaN(st)&&(st=0),isNaN(ft)&&(ft=0),this._matrix=[Z,_e,Oe,Re,st,ft]};Object.defineProperty(nr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(nr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(nr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(nr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(nr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(nr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(nr.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(nr.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(nr.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(nr.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(nr.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(nr.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(nr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nr.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(R)},nr.prototype.multiply=function(R){var Z=R.sx*this.sx+R.shy*this.shx,_e=R.sx*this.shy+R.shy*this.sy,Oe=R.shx*this.sx+R.sy*this.shx,Re=R.shx*this.shy+R.sy*this.sy,st=R.tx*this.sx+R.ty*this.shx+this.tx,ft=R.tx*this.shy+R.ty*this.sy+this.ty;return new nr(Z,_e,Oe,Re,st,ft)},nr.prototype.decompose=function(){var R=this.sx,Z=this.shy,_e=this.shx,Oe=this.sy,Re=this.tx,st=this.ty,ft=Math.sqrt(R*R+Z*Z),$t=(R/=ft)*_e+(Z/=ft)*Oe;_e-=R*$t,Oe-=Z*$t;var Qt=Math.sqrt(_e*_e+Oe*Oe);return $t/=Qt,R*(Oe/=Qt)<Z*(_e/=Qt)&&(R=-R,Z=-Z,$t=-$t,ft=-ft),{scale:new nr(ft,0,0,Qt,0,0),translate:new nr(1,0,0,1,Re,st),rotate:new nr(R,Z,-Z,R,0,0),skew:new nr(1,0,$t,1,0,0)}},nr.prototype.toString=function(R){return this.join(" ")},nr.prototype.inversed=function(){var R=this.sx,Z=this.shy,_e=this.shx,Oe=this.sy,Re=this.tx,st=this.ty,ft=1/(R*Oe-Z*_e),$t=Oe*ft,Qt=-Z*ft,vr=-_e*ft,jr=R*ft;return new nr($t,Qt,vr,jr,-$t*Re-vr*st,-Qt*Re-jr*st)},nr.prototype.applyToPoint=function(R){var Z=R.x*this.sx+R.y*this.shx+this.tx,_e=R.x*this.shy+R.y*this.sy+this.ty;return new pl(Z,_e)},nr.prototype.applyToRectangle=function(R){var Z=this.applyToPoint(R),_e=this.applyToPoint(new pl(R.x+R.w,R.y+R.h));return new ac(Z.x,Z.y,_e.x-Z.x,_e.y-Z.y)},nr.prototype.clone=function(){var R=this.sx,Z=this.shy,_e=this.shx,Oe=this.sy,Re=this.tx,st=this.ty;return new nr(R,Z,_e,Oe,Re,st)},p.Matrix=nr;var Mo=p.matrixMult=function(R,Z){return Z.multiply(R)},oo=new nr(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=oo;var bi=function(R,Z){if(!bt[R]){var _e=(Z instanceof ch?"Sh":"P")+(Object.keys(qe).length+1).toString(10);Z.id=_e,bt[R]=_e,qe[_e]=Z,sr.publish("addPattern",Z)}};p.ShadingPattern=ch,p.TilingPattern=Tp,p.addShadingPattern=function(R,Z){return I("addShadingPattern()"),bi(R,Z),this},p.beginTilingPattern=function(R){I("beginTilingPattern()"),$u(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},p.endTilingPattern=function(R,Z){I("endTilingPattern()"),Z.stream=Me[z].join(`
`),bi(R,Z),sr.publish("endTilingPattern",Z),oi.pop().restore()};var rs,Ma=p.__private__.newObject=function(){var R=hn();return te(R,!0),R},hn=p.__private__.newObjectDeferred=function(){return re++,he[re]=function(){return oe},re},te=function(R,Z){return Z=typeof Z=="boolean"&&Z,he[R]=oe,Z&&de(R+" 0 obj"),R},ke=p.__private__.newAdditionalObject=function(){var R={objId:hn(),content:""};return Ne.push(R),R},me=hn(),pe=hn(),xe=p.__private__.decodeColorString=function(R){var Z=R.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var _e=parseFloat(Z[0]);Z=[_e,_e,_e,"r"]}for(var Oe="#",Re=0;Re<3;Re++)Oe+=("0"+Math.floor(255*parseFloat(Z[Re])).toString(16)).slice(-2);return Oe},Se=p.__private__.encodeColorString=function(R){var Z;typeof R=="string"&&(R={ch1:R});var _e=R.ch1,Oe=R.ch2,Re=R.ch3,st=R.ch4,ft=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var $t=new IH(_e);if($t.ok)_e=$t.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var Qt=parseInt(_e.substr(1),16);_e=Qt>>16&255,Oe=Qt>>8&255,Re=255&Qt}if(Oe===void 0||st===void 0&&_e===Oe&&Oe===Re)Z=typeof _e=="string"?_e+" "+ft[0]:R.precision===2?D(_e/255)+" "+ft[0]:F(_e/255)+" "+ft[0];else if(st===void 0||Oa(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return["1.","1.","1.",ft[1]].join(" ");Z=typeof _e=="string"?[_e,Oe,Re,ft[1]].join(" "):R.precision===2?[D(_e/255),D(Oe/255),D(Re/255),ft[1]].join(" "):[F(_e/255),F(Oe/255),F(Re/255),ft[1]].join(" ")}else Z=typeof _e=="string"?[_e,Oe,Re,st,ft[2]].join(" "):R.precision===2?[D(_e),D(Oe),D(Re),D(st),ft[2]].join(" "):[F(_e),F(Oe),F(Re),F(st),ft[2]].join(" ");return Z},Ue=p.__private__.getFilters=function(){return s},tt=p.__private__.putStream=function(R){var Z=(R=R||{}).data||"",_e=R.filters||Ue(),Oe=R.alreadyAppliedFilters||[],Re=R.addLength1||!1,st=Z.length,ft=R.objectId,$t=function(Xn){return Xn};if(h!==null&&ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&($t=Nn.encryptor(ft,0));var Qt={};_e===!0&&(_e=["FlateEncode"]);var vr=R.additionalKeyValues||[],jr=(Qt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(Z,_e):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(Qt.data.length!==0&&(vr.push({key:"Length",value:Qt.data.length}),Re===!0&&vr.push({key:"Length1",value:st})),jr.length!=0)if(jr.split("/").length-1==1)vr.push({key:"Filter",value:jr});else{vr.push({key:"Filter",value:"["+jr+"]"});for(var oa=0;oa<vr.length;oa+=1)if(vr[oa].key==="DecodeParms"){for(var tn=[],jn=0;jn<Qt.reverseChain.split("/").length-1;jn+=1)tn.push("null");tn.push(vr[oa].value),vr[oa].value="["+tn.join(" ")+"]"}}de("<<");for(var Ra=0;Ra<vr.length;Ra++)de("/"+vr[Ra].key+" "+vr[Ra].value);de(">>"),Qt.data.length!==0&&(de("stream"),de($t(Qt.data)),de("endstream"))},$e=p.__private__.putPage=function(R){var Z=R.number,_e=R.data,Oe=R.objId,Re=R.contentsObjId;te(Oe,!0),de("<</Type /Page"),de("/Parent "+R.rootDictionaryObjId+" 0 R"),de("/Resources "+R.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(U(R.mediaBox.bottomLeftX))+" "+parseFloat(U(R.mediaBox.bottomLeftY))+" "+U(R.mediaBox.topRightX)+" "+U(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&de("/CropBox ["+U(R.cropBox.bottomLeftX)+" "+U(R.cropBox.bottomLeftY)+" "+U(R.cropBox.topRightX)+" "+U(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&de("/BleedBox ["+U(R.bleedBox.bottomLeftX)+" "+U(R.bleedBox.bottomLeftY)+" "+U(R.bleedBox.topRightX)+" "+U(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&de("/TrimBox ["+U(R.trimBox.bottomLeftX)+" "+U(R.trimBox.bottomLeftY)+" "+U(R.trimBox.topRightX)+" "+U(R.trimBox.topRightY)+"]"),R.artBox!==null&&de("/ArtBox ["+U(R.artBox.bottomLeftX)+" "+U(R.artBox.bottomLeftY)+" "+U(R.artBox.topRightX)+" "+U(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&de("/UserUnit "+R.userUnit),sr.publish("putPage",{objId:Oe,pageContext:Mt[Z],pageNumber:Z,page:_e}),de("/Contents "+Re+" 0 R"),de(">>"),de("endobj");var st=_e.join(`
`);return T===_&&(st+=`
Q`),te(Re,!0),tt({data:st,filters:Ue(),objectId:Re}),de("endobj"),Oe},He=p.__private__.putPages=function(){var R,Z,_e=[];for(R=1;R<=Er;R++)Mt[R].objId=hn(),Mt[R].contentsObjId=hn();for(R=1;R<=Er;R++)_e.push($e({number:R,data:Me[R],objId:Mt[R].objId,contentsObjId:Mt[R].contentsObjId,mediaBox:Mt[R].mediaBox,cropBox:Mt[R].cropBox,bleedBox:Mt[R].bleedBox,trimBox:Mt[R].trimBox,artBox:Mt[R].artBox,userUnit:Mt[R].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:pe}));te(me,!0),de("<</Type /Pages");var Oe="/Kids [";for(Z=0;Z<Er;Z++)Oe+=_e[Z]+" 0 R ";de(Oe+"]"),de("/Count "+Er),de(">>"),de("endobj"),sr.publish("postPutPages")},Ve=function(R){sr.publish("putFont",{font:R,out:de,newObject:Ma,putStream:tt}),R.isAlreadyPutted!==!0&&(R.objectNumber=Ma(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Np(R.postScriptName)),de("/Subtype /Type1"),typeof R.encoding=="string"&&de("/Encoding /"+R.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},mt=function(R){R.objectNumber=Ma();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[U(R.x),U(R.y),U(R.x+R.width),U(R.y+R.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var _e=R.pages[1].join(`
`);tt({data:_e,additionalKeyValues:Z,objectId:R.objectNumber}),de("endobj")},yt=function(R,Z){Z||(Z=21);var _e=Ma(),Oe=(function(ft,$t){var Qt,vr=[],jr=1/($t-1);for(Qt=0;Qt<1;Qt+=jr)vr.push(Qt);if(vr.push(1),ft[0].offset!=0){var oa={offset:0,color:ft[0].color};ft.unshift(oa)}if(ft[ft.length-1].offset!=1){var tn={offset:1,color:ft[ft.length-1].color};ft.push(tn)}for(var jn="",Ra=0,Xn=0;Xn<vr.length;Xn++){for(Qt=vr[Xn];Qt>ft[Ra+1].offset;)Ra++;var Mn=ft[Ra].offset,ki=(Qt-Mn)/(ft[Ra+1].offset-Mn),co=ft[Ra].color,xs=ft[Ra+1].color;jn+=G(Math.round((1-ki)*co[0]+ki*xs[0]).toString(16))+G(Math.round((1-ki)*co[1]+ki*xs[1]).toString(16))+G(Math.round((1-ki)*co[2]+ki*xs[2]).toString(16))}return jn.trim()})(R.colors,Z),Re=[];Re.push({key:"FunctionType",value:"0"}),Re.push({key:"Domain",value:"[0.0 1.0]"}),Re.push({key:"Size",value:"["+Z+"]"}),Re.push({key:"BitsPerSample",value:"8"}),Re.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Re.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Oe,additionalKeyValues:Re,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),de("endobj"),R.objectNumber=Ma(),de("<< /ShadingType "+R.type),de("/ColorSpace /DeviceRGB");var st="/Coords ["+U(parseFloat(R.coords[0]))+" "+U(parseFloat(R.coords[1]))+" ";R.type===2?st+=U(parseFloat(R.coords[2]))+" "+U(parseFloat(R.coords[3])):st+=U(parseFloat(R.coords[2]))+" "+U(parseFloat(R.coords[3]))+" "+U(parseFloat(R.coords[4]))+" "+U(parseFloat(R.coords[5])),de(st+="]"),R.matrix&&de("/Matrix ["+R.matrix.toString()+"]"),de("/Function "+_e+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Et=function(R,Z){var _e=hn(),Oe=Ma();Z.push({resourcesOid:_e,objectOid:Oe}),R.objectNumber=Oe;var Re=[];Re.push({key:"Type",value:"/Pattern"}),Re.push({key:"PatternType",value:"1"}),Re.push({key:"PaintType",value:"1"}),Re.push({key:"TilingType",value:"1"}),Re.push({key:"BBox",value:"["+R.boundingBox.map(U).join(" ")+"]"}),Re.push({key:"XStep",value:U(R.xStep)}),Re.push({key:"YStep",value:U(R.yStep)}),Re.push({key:"Resources",value:_e+" 0 R"}),R.matrix&&Re.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),tt({data:R.stream,additionalKeyValues:Re,objectId:R.objectNumber}),de("endobj")},xt=function(R){for(var Z in R.objectNumber=Ma(),de("<<"),R)switch(Z){case"opacity":de("/ca "+D(R[Z]));break;case"stroke-opacity":de("/CA "+D(R[Z]))}de(">>"),de("endobj")},_t=function(R){te(R.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in de("/Font <<"),At)At.hasOwnProperty(Z)&&(m===!1||m===!0&&x.hasOwnProperty(Z))&&de("/"+Z+" "+At[Z].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(qe).length>0){for(var Z in de("/Shading <<"),qe)qe.hasOwnProperty(Z)&&qe[Z]instanceof ch&&qe[Z].objectNumber>=0&&de("/"+Z+" "+qe[Z].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),de(">>")}})(),(function(Z){if(Object.keys(qe).length>0){for(var _e in de("/Pattern <<"),qe)qe.hasOwnProperty(_e)&&qe[_e]instanceof p.TilingPattern&&qe[_e].objectNumber>=0&&qe[_e].objectNumber<Z&&de("/"+_e+" "+qe[_e].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),de(">>")}})(R.objectOid),(function(){if(Object.keys(kt).length>0){var Z;for(Z in de("/ExtGState <<"),kt)kt.hasOwnProperty(Z)&&kt[Z].objectNumber>=0&&de("/"+Z+" "+kt[Z].objectNumber+" 0 R");sr.publish("putGStateDict"),de(">>")}})(),(function(){for(var Z in de("/XObject <<"),en)en.hasOwnProperty(Z)&&en[Z].objectNumber>=0&&de("/"+Z+" "+en[Z].objectNumber+" 0 R");sr.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},Bt=function(R){ir[R.fontName]=ir[R.fontName]||{},ir[R.fontName][R.fontStyle]=R.id},va=function(R,Z,_e,Oe,Re){var st={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:R,fontName:Z,fontStyle:_e,encoding:Oe,isStandardFont:Re||!1,metadata:{}};return sr.publish("addFont",{font:st,instance:this}),At[st.id]=st,Bt(st),st.id},Wr=p.__private__.pdfEscape=p.pdfEscape=function(R,Z){return(function(_e,Oe){var Re,st,ft,$t,Qt,vr,jr,oa,tn;if(ft=(Oe=Oe||{}).sourceEncoding||"Unicode",Qt=Oe.outputEncoding,(Oe.autoencode||Qt)&&At[Lt].metadata&&At[Lt].metadata[ft]&&At[Lt].metadata[ft].encoding&&($t=At[Lt].metadata[ft].encoding,!Qt&&At[Lt].encoding&&(Qt=At[Lt].encoding),!Qt&&$t.codePages&&(Qt=$t.codePages[0]),typeof Qt=="string"&&(Qt=$t[Qt]),Qt)){for(jr=!1,vr=[],Re=0,st=_e.length;Re<st;Re++)(oa=Qt[_e.charCodeAt(Re)])?vr.push(String.fromCharCode(oa)):vr.push(_e[Re]),vr[Re].charCodeAt(0)>>8&&(jr=!0);_e=vr.join("")}for(Re=_e.length;jr===void 0&&Re!==0;)_e.charCodeAt(Re-1)>>8&&(jr=!0),Re--;if(!jr)return _e;for(vr=Oe.noBOM?[]:[254,255],Re=0,st=_e.length;Re<st;Re++){if((tn=(oa=_e.charCodeAt(Re))>>8)>>8)throw new Error("Character at position "+Re+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vr.push(tn),vr.push(oa-(tn<<8))}return String.fromCharCode.apply(void 0,vr)})(R,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ka=p.__private__.beginPage=function(R){Me[++Er]=[],Mt[Er]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Io(Er),Ae(Me[z])},as=function(R,Z){var _e,Oe,Re;switch(r=Z||r,typeof R=="string"&&(_e=k(R.toLowerCase()),Array.isArray(_e)&&(Oe=_e[0],Re=_e[1])),Array.isArray(R)&&(Oe=R[0]*vt,Re=R[1]*vt),isNaN(Oe)&&(Oe=n[0],Re=n[1]),(Oe>14400||Re>14400)&&(Ya.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Re=Math.min(14400,Re)),n=[Oe,Re],r.substr(0,1)){case"l":Re>Oe&&(n=[Re,Oe]);break;case"p":Oe>Re&&(n=[Re,Oe])}ka(n),Hc(Bu),de(qs),od!==0&&de(od+" J"),li!==0&&de(li+" j"),sr.publish("addPage",{pageNumber:Er})},Ro=function(R){R>0&&R<=Er&&(Me.splice(R,1),Mt.splice(R,1),Er--,z>Er&&(z=Er),this.setPage(z))},Io=function(R){R>0&&R<=Er&&(z=R)},Bs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Me.length-1},$c=function(R,Z,_e){var Oe,Re=void 0;return _e=_e||{},R=R!==void 0?R:At[Lt].fontName,Z=Z!==void 0?Z:At[Lt].fontStyle,Oe=R.toLowerCase(),ir[Oe]!==void 0&&ir[Oe][Z]!==void 0?Re=ir[Oe][Z]:ir[R]!==void 0&&ir[R][Z]!==void 0?Re=ir[R][Z]:_e.disableWarning===!1&&Ya.warn("Unable to look up font label for font '"+R+"', '"+Z+"'. Refer to getFontList() for available fonts."),Re||_e.noFallback||(Re=ir.times[Z])==null&&(Re=ir.times.normal),Re},Yn=p.__private__.putInfo=function(){var R=Ma(),Z=function(Oe){return Oe};for(var _e in h!==null&&(Z=Nn.encryptor(R,0)),de("<<"),de("/Producer ("+Wr(Z("jsPDF "+Zt.version))+")"),qt)qt.hasOwnProperty(_e)&&qt[_e]&&de("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Wr(Z(qt[_e]))+")");de("/CreationDate ("+Wr(Z(ne))+")"),de(">>"),de("endobj")},id=p.__private__.putCatalog=function(R){var Z=(R=R||{}).rootDictionaryObjId||me;switch(Ma(),de("<<"),de("/Type /Catalog"),de("/Pages "+Z+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+gt;_e.substr(_e.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&de("/OpenAction [3 0 R /XYZ null null "+D(gt)+"]")}switch(er||(er="continuous"),er){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Pt&&de("/PageMode /"+Pt),sr.publish("putCatalog"),de(">>"),de("endobj")},_a=p.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(re+1)),de("/Root "+re+" 0 R"),de("/Info "+(re-1)+" 0 R"),h!==null&&de("/Encrypt "+Nn.oid+" 0 R"),de("/ID [ <"+X+"> <"+X+"> ]"),de(">>")},ns=p.__private__.putHeader=function(){de("%PDF-"+y),de("%")},jf=p.__private__.putXRef=function(){var R="0000000000";de("xref"),de("0 "+(re+1)),de("0000000000 65535 f ");for(var Z=1;Z<=re;Z++)typeof he[Z]=="function"?de((R+he[Z]()).slice(-10)+" 00000 n "):he[Z]!==void 0?de((R+he[Z]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Zl=p.__private__.buildDocument=function(){var R;re=0,oe=0,je=[],he=[],Ne=[],me=hn(),pe=hn(),Ae(je),sr.publish("buildDocument"),ns(),He(),(function(){sr.publish("putAdditionalObjects");for(var _e=0;_e<Ne.length;_e++){var Oe=Ne[_e];te(Oe.objId,!0),de(Oe.content),de("endobj")}sr.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var _e in At)At.hasOwnProperty(_e)&&(m===!1||m===!0&&x.hasOwnProperty(_e))&&Ve(At[_e])})(),(function(){var _e;for(_e in kt)kt.hasOwnProperty(_e)&&xt(kt[_e])})(),(function(){for(var _e in en)en.hasOwnProperty(_e)&&mt(en[_e])})(),(function(_e){var Oe;for(Oe in qe)qe.hasOwnProperty(Oe)&&(qe[Oe]instanceof ch?yt(qe[Oe]):qe[Oe]instanceof Tp&&Et(qe[Oe],_e))})(R),sr.publish("putResources"),R.forEach(_t),_t({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources"),h!==null&&(Nn.oid=Ma(),de("<<"),de("/Filter /Standard"),de("/V "+Nn.v),de("/R "+Nn.r),de("/U <"+Nn.toHexString(Nn.U)+">"),de("/O <"+Nn.toHexString(Nn.O)+">"),de("/P "+Nn.P),de(">>"),de("endobj")),Yn(),id();var Z=oe;return jf(),_a(),de("startxref"),de(""+Z),de("%%EOF"),Ae(Me[z]),je.join(`
`)},ec=p.__private__.getBlob=function(R){return new Blob([we(R)],{type:"application/pdf"})},lo=p.output=p.__private__.output=(rs=function(R,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",R){case void 0:return Zl();case"save":p.save(Z.filename);break;case"arraybuffer":return we(Zl());case"blob":return ec(Zl());case"bloburi":case"bloburl":if(Nr.URL!==void 0&&typeof Nr.URL.createObjectURL=="function")return Nr.URL&&Nr.URL.createObjectURL(ec(Zl()))||void 0;Ya.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Oe=Zl();try{_e=o9(Oe)}catch{_e=o9(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+Z.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nr)==="[object Window]"){var Re="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Re=Z.pdfObjectUrl,st="");var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Re+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",$t=Nr.open();return $t!==null&&$t.document.write(ft),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nr)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',vr=Nr.open();if(vr!==null){vr.document.write(Qt);var jr=this;vr.document.documentElement.querySelector("#pdfViewer").onload=function(){vr.document.title=Z.filename,vr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jr.output("bloburl"))}}return vr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var oa='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',tn=Nr.open();if(tn!==null&&(tn.document.write(oa),tn.document.title=Z.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return Nr.document.location.href=this.output("datauristring",Z);default:return null}},rs.foo=function(){try{return rs.apply(this,arguments)}catch(_e){var R=_e.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var Z="Error in function "+R.split(`
`)[0].split("<")[0]+": "+_e.message;if(!Nr.console)throw new Error(Z);Nr.console.error(Z,_e),Nr.alert&&alert(Z)}},rs.foo.bar=rs,rs.foo),hl=function(R){return Array.isArray(Hr)===!0&&Hr.indexOf(R)>-1};switch(a){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=hl("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);vt=a}var Nn=null;J(),ue();var zi=p.__private__.getPageInfo=p.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Mt[R].objId,pageNumber:R,pageContext:Mt[R]}},Af=p.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Mt)if(Mt[Z].objId===R)break;return zi(Z)},vm=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Mt[z].objId,pageNumber:z,pageContext:Mt[z]}};p.addPage=function(){return as.apply(this,arguments),this},p.setPage=function(){return Io.apply(this,arguments),Ae.call(this,Me[z]),this},p.insertPage=function(R){return this.addPage(),this.movePage(z,R),this},p.movePage=function(R,Z){var _e,Oe;if(R>Z){_e=Me[R],Oe=Mt[R];for(var Re=R;Re>Z;Re--)Me[Re]=Me[Re-1],Mt[Re]=Mt[Re-1];Me[Z]=_e,Mt[Z]=Oe,this.setPage(Z)}else if(R<Z){_e=Me[R],Oe=Mt[R];for(var st=R;st<Z;st++)Me[st]=Me[st+1],Mt[st]=Mt[st+1];Me[Z]=_e,Mt[Z]=Oe,this.setPage(Z)}return this},p.deletePage=function(){return Ro.apply(this,arguments),this},p.__private__.text=p.text=function(R,Z,_e,Oe,Re){var st,ft,$t,Qt,vr,jr,oa,tn,jn,Ra=(Oe=Oe||{}).scope||this;if(typeof R=="number"&&typeof Z=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Xn=_e;_e=Z,Z=R,R=Xn}if(arguments[3]instanceof nr==0?($t=arguments[4],Qt=arguments[5],Oa(oa=arguments[3])==="object"&&oa!==null||(typeof $t=="string"&&(Qt=$t,$t=null),typeof oa=="string"&&(Qt=oa,oa=null),typeof oa=="number"&&($t=oa,oa=null),Oe={flags:oa,angle:$t,align:Qt})):(I("The transform parameter of text() with a Matrix value"),jn=Re),isNaN(Z)||isNaN(_e)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return Ra;var Mn,ki="",co=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:tc,xs=Ra.internal.scaleFactor;function jm(la){return la=la.split("	").join(Array(Oe.TabLen||9).join(" ")),Wr(la,oa)}function cd(la){for(var ta,Ia=la.concat(),Tn=[],Sl=Ia.length;Sl--;)typeof(ta=Ia.shift())=="string"?Tn.push(ta):Array.isArray(la)&&(ta.length===1||ta[1]===void 0&&ta[2]===void 0)?Tn.push(ta[0]):Tn.push([ta[0],ta[1],ta[2]]);return Tn}function Wu(la,ta){var Ia;if(typeof la=="string")Ia=ta(la)[0];else if(Array.isArray(la)){for(var Tn,Sl,$o=la.concat(),Gu=[],Ff=$o.length;Ff--;)typeof(Tn=$o.shift())=="string"?Gu.push(ta(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(Sl=ta(Tn[0],Tn[1],Tn[2]),Gu.push([Sl[0],Sl[1],Sl[2]]));Ia=Gu}return Ia}var xl=!1,Uo=!0;if(typeof R=="string")xl=!0;else if(Array.isArray(R)){var Vu=R.concat();ft=[];for(var Vc,_i=Vu.length;_i--;)(typeof(Vc=Vu.shift())!="string"||Array.isArray(Vc)&&typeof Vc[0]!="string")&&(Uo=!1);xl=Uo}if(xl===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Kc=Xe/Ra.internal.scaleFactor,Gc=Kc*(co-1);switch(Oe.baseline){case"bottom":_e-=Gc;break;case"top":_e+=Kc-Gc;break;case"hanging":_e+=Kc-2*Gc;break;case"middle":_e+=Kc/2-Gc}if((jr=Oe.maxWidth||0)>0&&(typeof R=="string"?R=Ra.splitTextToSize(R,jr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(la,ta){return la.concat(Ra.splitTextToSize(ta,jr))},[]))),st={text:R,x:Z,y:_e,options:Oe,mutex:{pdfEscape:Wr,activeFontKey:Lt,fonts:At,activeFontSize:Xe}},sr.publish("preProcessText",st),R=st.text,$t=(Oe=st.options).angle,jn instanceof nr==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,Oe.rotationDirection===0&&($t=-$t),T===_&&($t=-$t);var ud=Math.cos($t),vl=Math.sin($t);jn=new nr(ud,vl,-vl,ud,0,0)}else $t&&$t instanceof nr&&(jn=$t);T!==_||jn||(jn=oo),(vr=Oe.charSpace||rc)!==void 0&&(ki+=U(H(vr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=Oe.horizontalScale)!==void 0&&(ki+=U(100*tn)+` Tz
`),Oe.lang;var mn=-1,oc=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,dd=Ra.internal.getCurrentPageInfo().pageContext;switch(oc){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var Rf=dd.usedRenderingMode!==void 0?dd.usedRenderingMode:-1;mn!==-1?ki+=mn+` Tr
`:Rf!==-1&&(ki+=`0 Tr
`),mn!==-1&&(dd.usedRenderingMode=mn),Qt=Oe.align||"left";var Hs,zo=Xe*co,lc=Ra.internal.pageSize.getWidth(),If=At[Lt];vr=Oe.charSpace||rc,jr=Oe.maxWidth||0,oa=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var qo=[],Yc=function(la){return Ra.getStringUnitWidth(la,{font:If,charSpace:vr,fontSize:Xe,doKerning:!1})*Xe/xs};if(Object.prototype.toString.call(R)==="[object Array]"){var vs;ft=cd(R),Qt!=="left"&&(Hs=ft.map(Yc));var ss,yl=0;if(Qt==="right"){Z-=Hs[0],R=[],_i=ft.length;for(var bl=0;bl<_i;bl++)bl===0?(ss=zs(Z),vs=wi(_e)):(ss=H(yl-Hs[bl]),vs=-zo),R.push([ft[bl],ss,vs]),yl=Hs[bl]}else if(Qt==="center"){Z-=Hs[0]/2,R=[],_i=ft.length;for(var cc=0;cc<_i;cc++)cc===0?(ss=zs(Z),vs=wi(_e)):(ss=H((yl-Hs[cc])/2),vs=-zo),R.push([ft[cc],ss,vs]),yl=Hs[cc]}else if(Qt==="left"){R=[],_i=ft.length;for(var fd=0;fd<_i;fd++)R.push(ft[fd])}else if(Qt==="justify"&&If.encoding==="Identity-H"){R=[],_i=ft.length,jr=jr!==0?jr:lc;for(var hd=0,An=0;An<_i;An++)if(vs=An===0?wi(_e):-zo,ss=An===0?zs(Z):hd,An<_i-1){var Am=H((jr-Hs[An])/(ft[An].split(" ").length-1)),wl=ft[An].split(" ");R.push([wl[0]+" ",ss,vs]),hd=0;for(var kl=1;kl<wl.length;kl++){var Si=(Yc(wl[kl-1]+" "+wl[kl])-Yc(wl[kl]))*xs+Am;kl==wl.length-1?R.push([wl[kl],Si,0]):R.push([wl[kl]+" ",Si,0]),hd-=Si}}else R.push([ft[An],ss,vs]);R.push(["",hd,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],_i=ft.length,jr=jr!==0?jr:lc,An=0;An<_i;An++){vs=An===0?wi(_e):-zo,ss=An===0?zs(Z):0;var uc=ft[An].split(" ").length-1,md=uc>0?(jr-Hs[An])/uc:0;An<_i-1?qo.push(U(H(md))):qo.push(0),R.push([ft[An],ss,vs])}}}(typeof Oe.R2L=="boolean"?Oe.R2L:Ct)===!0&&(R=Wu(R,function(la,ta,Ia){return[la.split("").reverse().join(""),ta,Ia]})),st={text:R,x:Z,y:_e,options:Oe,mutex:{pdfEscape:Wr,activeFontKey:Lt,fonts:At,activeFontSize:Xe}},sr.publish("postProcessText",st),R=st.text,Mn=st.mutex.isHex||!1;var pd=At[Lt].encoding;pd!=="WinAnsiEncoding"&&pd!=="StandardEncoding"||(R=Wu(R,function(la,ta,Ia){return[jm(la),ta,Ia]})),ft=cd(R),R=[];for(var dc,fc,_l,Ku=Array.isArray(ft[0])?1:0,Ws="",hc=function(la,ta,Ia){var Tn="";return Ia instanceof nr?(Ia=typeof Oe.angle=="number"?Mo(Ia,new nr(1,0,0,1,la,ta)):Mo(new nr(1,0,0,1,la,ta),Ia),T===_&&(Ia=Mo(new nr(1,0,0,-1,0,0),Ia)),Tn=Ia.join(" ")+` Tm
`):Tn=U(la)+" "+U(ta)+` Td
`,Tn},qi=0;qi<ft.length;qi++){switch(Ws="",Ku){case 1:_l=(Mn?"<":"(")+ft[qi][0]+(Mn?">":")"),dc=parseFloat(ft[qi][1]),fc=parseFloat(ft[qi][2]);break;case 0:_l=(Mn?"<":"(")+ft[qi]+(Mn?">":")"),dc=zs(Z),fc=wi(_e)}qo!==void 0&&qo[qi]!==void 0&&(Ws=qo[qi]+` Tw
`),qi===0?R.push(Ws+hc(dc,fc,jn)+_l):Ku===0?R.push(Ws+_l):Ku===1&&R.push(Ws+hc(dc,fc,jn)+_l)}R=Ku===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var uo=`BT
/`;return uo+=Lt+" "+Xe+` Tf
`,uo+=U(Xe*co)+` TL
`,uo+=ml+`
`,uo+=ki,uo+=R,de(uo+="ET"),x[Lt]=!0,Ra};var Tf=p.__private__.clip=p.clip=function(R){return de(R==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Tf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return de("n"),this};var is=p.__private__.isValidStyle=function(R){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(Z=!0),Z};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(R){return is(R)&&(d=R),this};var Ef=p.__private__.getStyle=p.getStyle=function(R){var Z=d;switch(R){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=R}return Z},Cf=p.close=function(){return de("h"),this};p.stroke=function(){return de("S"),this},p.fill=function(R){return Us("f",R),this},p.fillEvenOdd=function(R){return Us("f*",R),this},p.fillStroke=function(R){return Us("B",R),this},p.fillStrokeEvenOdd=function(R){return Us("B*",R),this};var Us=function(R,Z){Oa(Z)==="object"?bm(Z,R):de(R)},Of=function(R){R===null||T===_&&R===void 0||(R=Ef(R),de(R))};function ym(R,Z,_e,Oe,Re){var st=new Tp(Z||this.boundingBox,_e||this.xStep,Oe||this.yStep,this.gState,Re||this.matrix);st.stream=this.stream;var ft=R+"$$"+this.cloneIndex+++"$$";return bi(ft,st),st}var bm=function(R,Z){var _e=bt[R.key],Oe=qe[_e];if(Oe instanceof ch)de("q"),de(Pf(Z)),Oe.gState&&p.setGState(Oe.gState),de(R.matrix.toString()+" cm"),de("/"+_e+" sh"),de("Q");else if(Oe instanceof Tp){var Re=new nr(1,0,0,-1,0,sc());R.matrix&&(Re=Re.multiply(R.matrix||oo),_e=ym.call(Oe,R.key,R.boundingBox,R.xStep,R.yStep,Re).id),de("q"),de("/Pattern cs"),de("/"+_e+" scn"),Oe.gState&&p.setGState(Oe.gState),de(Z),de("Q")}},Pf=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Df=p.moveTo=function(R,Z){return de(U(H(R))+" "+U(Y(Z))+" m"),this},Fu=p.lineTo=function(R,Z){return de(U(H(R))+" "+U(Y(Z))+" l"),this},Fo=p.curveTo=function(R,Z,_e,Oe,Re,st){return de([U(H(R)),U(Y(Z)),U(H(_e)),U(Y(Oe)),U(H(Re)),U(Y(st)),"c"].join(" ")),this};p.__private__.line=p.line=function(R,Z,_e,Oe,Re){if(isNaN(R)||isNaN(Z)||isNaN(_e)||isNaN(Oe)||!is(Re))throw new Error("Invalid arguments passed to jsPDF.line");return T===N?this.lines([[_e-R,Oe-Z]],R,Z,[1,1],Re||"S"):this.lines([[_e-R,Oe-Z]],R,Z,[1,1]).stroke()},p.__private__.lines=p.lines=function(R,Z,_e,Oe,Re,st){var ft,$t,Qt,vr,jr,oa,tn,jn,Ra,Xn,Mn,ki;if(typeof R=="number"&&(ki=_e,_e=Z,Z=R,R=ki),Oe=Oe||[1,1],st=st||!1,isNaN(Z)||isNaN(_e)||!Array.isArray(R)||!Array.isArray(Oe)||!is(Re)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Df(Z,_e),ft=Oe[0],$t=Oe[1],vr=R.length,Xn=Z,Mn=_e,Qt=0;Qt<vr;Qt++)(jr=R[Qt]).length===2?(Xn=jr[0]*ft+Xn,Mn=jr[1]*$t+Mn,Fu(Xn,Mn)):(oa=jr[0]*ft+Xn,tn=jr[1]*$t+Mn,jn=jr[2]*ft+Xn,Ra=jr[3]*$t+Mn,Xn=jr[4]*ft+Xn,Mn=jr[5]*$t+Mn,Fo(oa,tn,jn,Ra,Xn,Mn));return st&&Cf(),Of(Re),this},p.path=function(R){for(var Z=0;Z<R.length;Z++){var _e=R[Z],Oe=_e.c;switch(_e.op){case"m":Df(Oe[0],Oe[1]);break;case"l":Fu(Oe[0],Oe[1]);break;case"c":Fo.apply(this,Oe);break;case"h":Cf()}}return this},p.__private__.rect=p.rect=function(R,Z,_e,Oe,Re){if(isNaN(R)||isNaN(Z)||isNaN(_e)||isNaN(Oe)||!is(Re))throw new Error("Invalid arguments passed to jsPDF.rect");return T===N&&(Oe=-Oe),de([U(H(R)),U(Y(Z)),U(H(_e)),U(H(Oe)),"re"].join(" ")),Of(Re),this},p.__private__.triangle=p.triangle=function(R,Z,_e,Oe,Re,st,ft){if(isNaN(R)||isNaN(Z)||isNaN(_e)||isNaN(Oe)||isNaN(Re)||isNaN(st)||!is(ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-R,Oe-Z],[Re-_e,st-Oe],[R-Re,Z-st]],R,Z,[1,1],ft,!0),this},p.__private__.roundedRect=p.roundedRect=function(R,Z,_e,Oe,Re,st,ft){if(isNaN(R)||isNaN(Z)||isNaN(_e)||isNaN(Oe)||isNaN(Re)||isNaN(st)||!is(ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Re=Math.min(Re,.5*_e),st=Math.min(st,.5*Oe),this.lines([[_e-2*Re,0],[Re*$t,0,Re,st-st*$t,Re,st],[0,Oe-2*st],[0,st*$t,-Re*$t,st,-Re,st],[2*Re-_e,0],[-Re*$t,0,-Re,-st*$t,-Re,-st],[0,2*st-Oe],[0,-st*$t,Re*$t,-st,Re,-st]],R+Re,Z,[1,1],ft,!0),this},p.__private__.ellipse=p.ellipse=function(R,Z,_e,Oe,Re){if(isNaN(R)||isNaN(Z)||isNaN(_e)||isNaN(Oe)||!is(Re))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*_e,ft=4/3*(Math.SQRT2-1)*Oe;return Df(R+_e,Z),Fo(R+_e,Z-ft,R+st,Z-Oe,R,Z-Oe),Fo(R-st,Z-Oe,R-_e,Z-ft,R-_e,Z),Fo(R-_e,Z+ft,R-st,Z+Oe,R,Z+Oe),Fo(R+st,Z+Oe,R+_e,Z+ft,R+_e,Z),Of(Re),this},p.__private__.circle=p.circle=function(R,Z,_e,Oe){if(isNaN(R)||isNaN(Z)||isNaN(_e)||!is(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,Z,_e,_e,Oe)},p.setFont=function(R,Z,_e){return _e&&(Z=L(Z,_e)),Lt=$c(R,Z,{disableWarning:!1}),this};var Bo=p.__private__.getFont=p.getFont=function(){return At[$c.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var R,Z,_e={};for(R in ir)if(ir.hasOwnProperty(R))for(Z in _e[R]=[],ir[R])ir[R].hasOwnProperty(Z)&&_e[R].push(Z);return _e},p.addFont=function(R,Z,_e,Oe,Re){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?Re=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(_e=L(_e,Oe)),va.call(this,R,Z,_e,Re=Re||"Identity-H")};var tc,Bu=e.lineWidth||.200025,mr=p.__private__.getLineWidth=p.getLineWidth=function(){return Bu},Hc=p.__private__.setLineWidth=p.setLineWidth=function(R){return Bu=R,de(U(H(R))+" w"),this};p.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(R,Z){if(R=R||[],Z=Z||0,isNaN(Z)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(_e){return U(H(_e))}).join(" "),Z=U(H(Z)),de("["+R+"] "+Z+" d"),this};var wm=p.__private__.getLineHeight=p.getLineHeight=function(){return Xe*tc};p.__private__.getLineHeight=p.getLineHeight=function(){return Xe*tc};var Lf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(tc=R),this},km=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return tc};Lf(e.lineHeight);var zs=p.__private__.getHorizontalCoordinate=function(R){return H(R)},wi=p.__private__.getVerticalCoordinate=function(R){return T===_?R:Mt[z].mediaBox.topRightY-Mt[z].mediaBox.bottomLeftY-H(R)},Mf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(R){return U(zs(R))},Uu=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(R){return U(wi(R))},qs=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xe(qs)},p.__private__.setStrokeColor=p.setDrawColor=function(R,Z,_e,Oe){return qs=Se({ch1:R,ch2:Z,ch3:_e,ch4:Oe,pdfColorType:"draw",precision:2}),de(qs),this};var zu=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xe(zu)},p.__private__.setFillColor=p.setFillColor=function(R,Z,_e,Oe){return zu=Se({ch1:R,ch2:Z,ch3:_e,ch4:Oe,pdfColorType:"fill",precision:2}),de(zu),this};var ml=e.textColor||"0 g",qu=p.__private__.getTextColor=p.getTextColor=function(){return xe(ml)};p.__private__.setTextColor=p.setTextColor=function(R,Z,_e,Oe){return ml=Se({ch1:R,ch2:Z,ch3:_e,ch4:Oe,pdfColorType:"text",precision:3}),this};var rc=e.charSpace,sd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(rc||0)};p.__private__.setCharSpace=p.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rc=R,this};var od=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(R){var Z=p.CapJoinStyles[R];if(Z===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return od=Z,de(Z+" J"),this};var li=0;p.__private__.setLineJoin=p.setLineJoin=function(R){var Z=p.CapJoinStyles[R];if(Z===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=Z,de(Z+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(U(H(R))+" M"),this},p.GState=B2,p.setGState=function(R){(R=typeof R=="string"?kt[gr[R]]:$s(null,R)).equals(Rr)||(de("/"+R.id+" gs"),Rr=R)};var $s=function(R,Z){if(!R||!gr[R]){var _e=!1;for(var Oe in kt)if(kt.hasOwnProperty(Oe)&&kt[Oe].equals(Z)){_e=!0;break}if(_e)Z=kt[Oe];else{var Re="GS"+(Object.keys(kt).length+1).toString(10);kt[Re]=Z,Z.id=Re}return R&&(gr[R]=Z.id),sr.publish("addGState",Z),Z}};p.addGState=function(R,Z){return $s(R,Z),this},p.saveGraphicsState=function(){return de("q"),Tr.push({key:Lt,size:Xe,color:ml}),this},p.restoreGraphicsState=function(){de("Q");var R=Tr.pop();return Lt=R.key,Xe=R.size,ml=R.color,Rr=null,this},p.setCurrentTransformationMatrix=function(R){return de(R.toString()+" cm"),this},p.comment=function(R){return de("#"+R),this};var pl=function(R,Z){var _e=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(st){isNaN(st)||(_e=parseFloat(st))}});var Oe=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(st){isNaN(st)||(Oe=parseFloat(st))}});var Re="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Re},set:function(st){Re=st.toString()}}),this},ac=function(R,Z,_e,Oe){pl.call(this,R,Z),this.type="rect";var Re=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Re},set:function(ft){isNaN(ft)||(Re=parseFloat(ft))}});var st=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(ft){isNaN(ft)||(st=parseFloat(ft))}}),this},ld=function(){this.page=Er,this.currentPage=z,this.pages=Me.slice(0),this.pagesContext=Mt.slice(0),this.x=Tt,this.y=Dr,this.matrix=Ft,this.width=Wc(z),this.height=gl(z),this.outputDestination=Te,this.id="",this.objectNumber=-1};ld.prototype.restore=function(){Er=this.page,z=this.currentPage,Mt=this.pagesContext,Me=this.pages,Tt=this.x,Dr=this.y,Ft=this.matrix,Hu(z,this.width),ic(z,this.height),Te=this.outputDestination};var $u=function(R,Z,_e,Oe,Re){oi.push(new ld),Er=z=0,Me=[],Tt=R,Dr=Z,Ft=Re,ka([_e,Oe])};for(var nc in p.beginFormObject=function(R,Z,_e,Oe,Re){return $u(R,Z,_e,Oe,Re),this},p.endFormObject=function(R){return(function(Z){if(Ui[Z])oi.pop().restore();else{var _e=new ld,Oe="Xo"+(Object.keys(en).length+1).toString(10);_e.id=Oe,Ui[Z]=Oe,en[Oe]=_e,sr.publish("addFormObject",_e),oi.pop().restore()}})(R),this},p.doFormObject=function(R,Z){var _e=en[Ui[R]];return de("q"),de(Z.toString()+" cm"),de("/"+_e.id+" Do"),de("Q"),this},p.getFormObject=function(R){var Z=en[Ui[R]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},p.save=function(R,Z){return R=R||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(ih(ec(Zl()),R),typeof ih.unload=="function"&&Nr.setTimeout&&setTimeout(ih.unload,911),this):new Promise(function(_e,Oe){try{var Re=ih(ec(Zl()),R);typeof ih.unload=="function"&&Nr.setTimeout&&setTimeout(ih.unload,911),_e(Re)}catch(st){Oe(st.message)}})},Zt.API)Zt.API.hasOwnProperty(nc)&&(nc==="events"&&Zt.API.events.length?(function(R,Z){var _e,Oe,Re;for(Re=Z.length-1;Re!==-1;Re--)_e=Z[Re][0],Oe=Z[Re][1],R.subscribe.apply(R,[_e].concat(typeof Oe=="function"?[Oe]:Oe))})(sr,Zt.API.events):p[nc]=Zt.API[nc]);function Wc(R){return Mt[R].mediaBox.topRightX-Mt[R].mediaBox.bottomLeftX}function Hu(R,Z){Mt[R].mediaBox.topRightX=Z+Mt[R].mediaBox.bottomLeftX}function gl(R){return Mt[R].mediaBox.topRightY-Mt[R].mediaBox.bottomLeftY}function ic(R,Z){Mt[R].mediaBox.topRightY=Z+Mt[R].mediaBox.bottomLeftY}var _m=p.getPageWidth=function(R){return Wc(R=R||z)/vt},Sm=p.setPageWidth=function(R,Z){Hu(R,Z*vt)},sc=p.getPageHeight=function(R){return gl(R=R||z)/vt},Nm=p.setPageHeight=function(R,Z){ic(R,Z*vt)};return p.internal={pdfEscape:Wr,getStyle:Ef,getFont:Bo,getFontSize:ot,getCharSpace:sd,getTextColor:qu,getLineHeight:wm,getLineHeightFactor:km,getLineWidth:mr,write:Qe,getHorizontalCoordinate:zs,getVerticalCoordinate:wi,getCoordinateString:Mf,getVerticalCoordinateString:Uu,collections:{},newObject:Ma,newAdditionalObject:ke,newObjectDeferred:hn,newObjectDeferredBegin:te,getFilters:Ue,putStream:tt,events:sr,scaleFactor:vt,pageSize:{getWidth:function(){return _m(z)},setWidth:function(R){Sm(z,R)},getHeight:function(){return sc(z)},setHeight:function(R){Nm(z,R)}},encryptionOptions:h,encryption:Nn,getEncryptor:function(R){return h!==null?Nn.encryptor(R,0):function(Z){return Z}},output:lo,getNumberOfPages:Bs,pages:Me,out:de,f2:D,f3:F,getPageInfo:zi,getPageInfoByObjId:Af,getCurrentPageInfo:vm,getPDFVersion:v,Point:pl,Rectangle:ac,Matrix:nr,hasHotfix:hl},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _m(z)},set:function(R){Sm(z,R)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return sc(z)},set:function(R){Nm(z,R)},enumerable:!0,configurable:!0}),(function(R){for(var Z=0,_e=Ze.length;Z<_e;Z++){var Oe=va.call(this,R[Z][0],R[Z][1],R[Z][2],Ze[Z][3],!0);m===!1&&(x[Oe]=!0);var Re=R[Z][0].split("-");Bt({id:Oe,fontName:Re[0],fontStyle:Re[1]||""})}sr.publish("addFonts",{fonts:At,dictionary:ir})}).call(p,Ze),Lt="F1",as(n,r),sr.publish("initialized"),p}Sp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Sp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Sp.prototype.processOwnerPassword=function(e,t){return YS(GS(t).substr(0,5),e)},Sp.prototype.encryptor=function(e,t){var r=GS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return YS(r,a)}},B2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Oa(e)!==Oa(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},Zt.API={events:[]},Zt.version="3.0.3";var Hn=Zt.API,NA=1,xm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pr=function(e){return e.toFixed(2)},qd=function(e){return e.toFixed(5)};Hn.__acroform__={};var Lo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},d9=function(e){return e*NA},pu=function(e){var t=new zH,r=Vt.internal.getHeight(e)||0,a=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Pr(a)),Number(Pr(r))],t},k6e=Hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},_6e=Hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},S6e=Hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ri=Hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return S6e(e,t-1)},ai=Hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return k6e(e,t-1)},ni=Hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _6e(e,t-1)},N6e=Hn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(n)||0,c.lowerLeft_Y=a(i+o)||0,c.upperRight_X=r(n+s)||0,c.upperRight_Y=a(i)||0,[Number(Pr(c.lowerLeft_X)),Number(Pr(c.lowerLeft_Y)),Number(Pr(c.upperRight_X)),Number(Pr(c.upperRight_Y))]},j6e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=XS(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Pr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=pu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},XS=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(D){return D.split(`
`)}):n.map(function(D){return[D]});var i=r,s=Vt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Vt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(D,F,H){if(D+1<n.length){var Y=F+" "+n[D+1][0];return cb(Y,e,H).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var d,h,m=cb("3",e,i).height,x=e.multiline?s-i:(s-m)/2,p=x+=2,y=0,v=0,b=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+cb(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var k="",N=0,_=0;_<n.length;_++)if(n.hasOwnProperty(_)){var T=!1;if(n[_].length!==1&&b!==n[_].length-1){if((m+2)*(N+2)+2>s)continue e;k+=n[_][b],T=!0,v=_,_--}else{k=(k+=n[_][b]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var P=parseInt(_),O=c(P,k,i),L=_>=n.length-1;if(O&&!L){k+=" ",b=0;continue}if(O||L){if(L)v=P;else if(e.multiline&&(m+2)*(N+2)+2>s)continue e}else{if(!e.multiline||(m+2)*(N+2)+2>s)continue e;v=P}}for(var U="",I=y;I<=v;I++){var K=n[I];if(e.multiline){if(I===v){U+=K[b]+" ",b=(b+1)%K.length;continue}if(I===y){U+=K[K.length-1]+" ";continue}}U+=K[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=cb(U,e,i).width,e.textAlign){case"right":d=o-h-2;break;case"center":d=(o-h)/2;break;default:d=2}t+=Pr(d)+" "+Pr(p)+` Td
`,t+="("+xm(U)+`) Tj
`,t+=-Pr(d)+` 0 Td
`,p=-(i+2),h=0,y=T?v:v+1,N++,k=""}break}return a.text=t,a.fontSize=i,a},cb=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},A6e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},T6e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},E6e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(A6e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");NA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new qH,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&T6e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,n){var i=!a;for(var s in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(s)){var o=a[s],c=[],d=o.Rect;if(o.Rect&&(o.Rect=N6e(o.Rect,n)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Vt.createDefaultAppearanceStream(o),Oa(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=j6e(o);c.push({key:"AP",value:"<</N "+h+">>"}),n.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var m="";for(var x in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(x)){var p=o.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var y=p[s];typeof y=="function"&&(y=y.call(n,o)),m+="/"+s+" "+y+" ",n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(n,o)),m+="/"+s+" "+y,n.internal.acroformPlugin.xForms.indexOf(y)>=0||n.internal.acroformPlugin.xForms.push(y);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:o.objId}),n.internal.out("endobj")}i&&(function(v,b){for(var k in v)if(v.hasOwnProperty(k)){var N=k,_=v[k];b.internal.newObjectDeferredBegin(_.objId,!0),Oa(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[N]}})(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},UH=Hn.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(s){return s};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Oa(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),n+="("+xm(a(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B_=function(e,t,r){var a=function(n){return n};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+xm(a(e))+")"},Nu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nu.prototype.toString=function(){return this.objId+" 0 R"},Nu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:UH(n,this.objId,this.scope)}):n instanceof Nu?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var zH=function(){Nu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Lo(zH,Nu);var qH=function(){Nu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+xm(r(e))+")"}},set:function(r){e=r}})};Lo(qH,Nu);var zc=function e(){Nu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ri(t,3)},set:function(k){k?this.F=ai(t,3):this.F=ni(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(k){a=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(k){a[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(k){a[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(k){a[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(k){a[3]=k}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof U2)return;i="FieldObject"+e.FieldNum++}var k=function(N){return N};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+xm(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(k){s=k}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/NA:d},set:function(k){d=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof U2||this instanceof Mh))return B_(m,this.objId,this.scope)},set:function(k){k=k.toString(),m=k}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Qi==0?B_(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof Qi==0?k.substr(0,1)==="("?yp(k.substr(1,k.length-2)):yp(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?yp(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof Qi==1?"/"+k:k}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qi==0?B_(p,this.objId,this.scope):p},set:function(k){k=k.toString(),p=this instanceof Qi==0?k.substr(0,1)==="("?yp(k.substr(1,k.length-2)):yp(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?yp(p.substr(1,p.length-1)):p},set:function(k){k=k.toString(),p=this instanceof Qi==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(k){k=!!k,v=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(k){y=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,1)},set:function(k){k?this.Ff=ai(this.Ff,1):this.Ff=ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,2)},set:function(k){k?this.Ff=ai(this.Ff,2):this.Ff=ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,3)},set:function(k){k?this.Ff=ai(this.Ff,3):this.Ff=ni(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');b=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(b){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Lo(zc,Nu);var Ip=function(){zc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UH(t,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=(function(i,s,o){o||(o=1);for(var c,d=[];c=s.exec(i);)d.push(c[o]);return d})(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,18)},set:function(r){r?this.Ff=ai(this.Ff,18):this.Ff=ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ai(this.Ff,19):this.Ff=ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,20)},set:function(r){r?(this.Ff=ai(this.Ff,20),t.sort()):this.Ff=ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,22)},set:function(r){r?this.Ff=ai(this.Ff,22):this.Ff=ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(r){r?this.Ff=ai(this.Ff,23):this.Ff=ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,27)},set:function(r){r?this.Ff=ai(this.Ff,27):this.Ff=ni(this.Ff,27)}}),this.hasAppearanceStream=!1};Lo(Ip,zc);var Fp=function(){Ip.call(this),this.fontName="helvetica",this.combo=!1};Lo(Fp,Ip);var Bp=function(){Fp.call(this),this.combo=!0};Lo(Bp,Fp);var wb=function(){Bp.call(this),this.edit=!0};Lo(wb,Bp);var Qi=function(){zc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,15)},set:function(r){r?this.Ff=ai(this.Ff,15):this.Ff=ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,16)},set:function(r){r?this.Ff=ai(this.Ff,16):this.Ff=ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,17)},set:function(r){r?this.Ff=ai(this.Ff,17):this.Ff=ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(r){r?this.Ff=ai(this.Ff,26):this.Ff=ni(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+xm(r(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Oa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Lo(Qi,zc);var kb=function(){Qi.call(this),this.pushButton=!0};Lo(kb,Qi);var Up=function(){Qi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Lo(Up,Qi);var U2=function(){var e,t;zc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),a)s.push("/"+i+" ("+xm(n(a[i]))+")");return s.push(">>"),s.join(`
`)},set:function(n){Oa(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lo(U2,zc),Up.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Up.prototype.createOption=function(e){var t=new U2;return t.Parent=this,t.optionName=e,this.Kids.push(t),C6e.call(this.scope,t),t};var _b=function(){Qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};Lo(_b,Qi);var Mh=function(){zc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,13)},set:function(t){t?this.Ff=ai(this.Ff,13):this.Ff=ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,21)},set:function(t){t?this.Ff=ai(this.Ff,21):this.Ff=ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(t){t?this.Ff=ai(this.Ff,23):this.Ff=ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,24)},set:function(t){t?this.Ff=ai(this.Ff,24):this.Ff=ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,25)},set:function(t){t?this.Ff=ai(this.Ff,25):this.Ff=ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(t){t?this.Ff=ai(this.Ff,26):this.Ff=ni(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lo(Mh,zc);var Sb=function(){Mh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,14)},set:function(e){e?this.Ff=ai(this.Ff,14):this.Ff=ni(this.Ff,14)}}),this.password=!0};Lo(Sb,Mh);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=pu(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=XS(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Pr(Vt.internal.getWidth(e))+" "+Pr(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Pr(i.fontSize)+" Tf "+n),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=pu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],i=Vt.internal.getHeight(e),s=Vt.internal.getWidth(e),o=XS(e,e.caption);return n.push("1 g"),n.push("0 0 "+Pr(s)+" "+Pr(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Pr(s-1)+" "+Pr(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Pr(o.fontSize)+" Tf "+a),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=pu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pr(Vt.internal.getWidth(e))+" "+Pr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=pu(e);t.scope=e.scope;var r=[],a=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Vt.internal.Bezier_C,i=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qd(Vt.internal.getWidth(e)/2)+" "+qd(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=pu(e);t.scope=e.scope;var r=[],a=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*Vt.internal.Bezier_C).toFixed(5)),s=Number((a*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qd(Vt.internal.getWidth(e)/2)+" "+qd(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qd(Vt.internal.getWidth(e)/2)+" "+qd(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=pu(e);t.scope=e.scope;var r=[],a=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qd(Vt.internal.getWidth(e)/2)+" "+qd(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=pu(e);t.scope=e.scope;var r=[],a=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Pr(Vt.internal.getWidth(e)-2)+" "+Pr(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Pr(a.x1.x)+" "+Pr(a.x1.y)+" m"),r.push(Pr(a.x2.x)+" "+Pr(a.x2.y)+" l"),r.push(Pr(a.x4.x)+" "+Pr(a.x4.y)+" m"),r.push(Pr(a.x3.x)+" "+Pr(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=pu(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+Pr(Vt.internal.getWidth(e))+" "+Pr(Vt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Pr(Vt.internal.getWidth(e)-2)+" "+Pr(Vt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(Pr(r.x1.x)+" "+Pr(r.x1.y)+" m"),a.push(Pr(r.x2.x)+" "+Pr(r.x2.y)+" l"),a.push(Pr(r.x4.x)+" "+Pr(r.x4.y)+" m"),a.push(Pr(r.x3.x)+" "+Pr(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=pu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pr(Vt.internal.getWidth(e))+" "+Pr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},Vt.internal.getWidth=function(e){var t=0;return Oa(e)==="object"&&(t=d9(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return Oa(e)==="object"&&(t=d9(e.Rect[3])),t};var C6e=Hn.addField=function(e){if(E6e(this,e),!(e instanceof zc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=Ip,Hn.AcroFormListBox=Fp,Hn.AcroFormComboBox=Bp,Hn.AcroFormEditBox=wb,Hn.AcroFormButton=Qi,Hn.AcroFormPushButton=kb,Hn.AcroFormRadioButton=Up,Hn.AcroFormCheckBox=_b,Hn.AcroFormTextField=Mh,Hn.AcroFormPasswordField=Sb,Hn.AcroFormAppearance=Vt,Hn.AcroForm={ChoiceField:Ip,ListBox:Fp,ComboBox:Bp,EditBox:wb,Button:Qi,PushButton:kb,RadioButton:Up,CheckBox:_b,TextField:Mh,PasswordField:Sb,Appearance:Vt},Zt.AcroForm={ChoiceField:Ip,ListBox:Fp,ComboBox:Bp,EditBox:wb,Button:Qi,PushButton:kb,RadioButton:Up,CheckBox:_b,TextField:Mh,PasswordField:Sb,Appearance:Vt};Zt.AcroForm;function $H(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(D,F){var H,Y,ne,X,ae,ue=r;if((F=F||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(O(D))for(ae in a)for(ne=a[ae],H=0;H<ne.length;H+=1){for(X=!0,Y=0;Y<ne[H].length;Y+=1)if(ne[H][Y]!==void 0&&ne[H][Y]!==D[Y]){X=!1;break}if(X===!0){ue=ae;break}}else for(ae in a)for(ne=a[ae],H=0;H<ne.length;H+=1){for(X=!0,Y=0;Y<ne[H].length;Y+=1)if(ne[H][Y]!==void 0&&ne[H][Y]!==D.charCodeAt(Y)){X=!1;break}if(X===!0){ue=ae;break}}return ue===r&&F!==r&&(ue=F),ue},i=function D(F){for(var H=this.internal.write,Y=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:F.width}),X.push({key:"Height",value:F.height}),F.colorSpace===k.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===k.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ae="",ue=0,se=F.transparency.length;ue<se;ue++)ae+=F.transparency[ue]+" "+F.transparency[ue]+" ";X.push({key:"Mask",value:"["+ae+"]"})}F.sMask!==void 0&&X.push({key:"SMask",value:F.objectId+1+" 0 R"});var be=F.filter!==void 0?["/"+F.filter]:void 0;if(Y({data:F.data,additionalKeyValues:X,alreadyAppliedFilters:be,objectId:F.objectId}),H("endobj"),"sMask"in F&&F.sMask!==void 0){var J,M=(J=F.sMaskBitsPerComponent)!==null&&J!==void 0?J:F.bitsPerComponent,z={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:F.sMask};"filter"in F&&(z.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(F.width),z.filter=F.filter),D.call(this,z)}if(F.colorSpace===k.INDEXED){var q=this.internal.newObject();Y({data:U(new Uint8Array(F.palette)),objectId:q}),H("endobj")}},s=function(){var D=this.internal.collections[t+"images"];for(var F in D)i.call(this,D[F])},o=function(){var D,F=this.internal.collections[t+"images"],H=this.internal.write;for(var Y in F)H("/I"+(D=F[Y]).index,D.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var D=this.internal.collections[t+"images"];return c.call(this),D},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(D){return typeof e["process"+D.toUpperCase()]=="function"},x=function(D){return Oa(D)==="object"&&D.nodeType===1},p=function(D,F){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var H=""+D.getAttribute("src");if(H.indexOf("data:image/")===0)return bb(unescape(H).split("base64,").pop());var Y=e.loadFile(H,!0);if(Y!==void 0)return Y}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ne;switch(F){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return bb(D.toDataURL(ne,1).split("base64,").pop())}},y=function(D){var F=this.internal.collections[t+"images"];if(F){for(var H in F)if(D===F[H].alias)return F[H]}},v=function(D,F,H){return D||F||(D=-96,F=-96),D<0&&(D=-1*H.width*72/D/this.internal.scaleFactor),F<0&&(F=-1*H.height*72/F/this.internal.scaleFactor),D===0&&(D=F*H.width/H.height),F===0&&(F=D*H.height/H.width),[D,F]},b=function(D,F,H,Y,ne,X){var ae=v.call(this,H,Y,ne),ue=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,be=d.call(this);if(H=ae[0],Y=ae[1],be[ne.index]=ne,X){X*=Math.PI/180;var J=Math.cos(X),M=Math.sin(X),z=function(G){return G.toFixed(4)},q=[z(J),z(M),z(-1*M),z(J),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,ue(D),se(F+Y),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ue(H),"0","0",ue(Y),"0","0","cm"].join(" "))):this.internal.write([ue(H),"0","0",ue(Y),ue(D),se(F+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(D){var F,H,Y=0;if(typeof D=="string")for(H=D.length,F=0;F<H;F++)Y=(Y<<5)-Y+D.charCodeAt(F),Y|=0;else if(O(D))for(H=D.byteLength/2,F=0;F<H;F++)Y=(Y<<5)-Y+D[F],Y|=0;return Y},T=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var F=!0;return D.length===0&&(F=!1),D.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(F=!1),F},P=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var F=D.indexOf(",");return F<0?null:D.substring(0,F).trim().endsWith("base64")?D.substring(F+1):null};e.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(D){for(var F=D.length,H=new Uint8Array(F),Y=0;Y<F;Y++)H[Y]=D.charCodeAt(Y);return H},U=e.__addimage__.arrayBufferToBinaryString=function(D){for(var F="",H=O(D)?D:new Uint8Array(D),Y=0;Y<H.length;Y+=8192)F+=String.fromCharCode.apply(null,H.subarray(Y,Y+8192));return F};e.addImage=function(){var D,F,H,Y,ne,X,ae,ue,se;if(typeof arguments[1]=="number"?(F=r,H=arguments[1],Y=arguments[2],ne=arguments[3],X=arguments[4],ae=arguments[5],ue=arguments[6],se=arguments[7]):(F=arguments[1],H=arguments[2],Y=arguments[3],ne=arguments[4],X=arguments[5],ae=arguments[6],ue=arguments[7],se=arguments[8]),Oa(D=arguments[0])==="object"&&!x(D)&&"imageData"in D){var be=D;D=be.imageData,F=be.format||F||r,H=be.x||H||0,Y=be.y||Y||0,ne=be.w||be.width||ne,X=be.h||be.height||X,ae=be.alias||ae,ue=be.compression||ue,se=be.rotation||be.angle||se}var J=this.internal.getFilters();if(ue===void 0&&J.indexOf("FlateEncode")!==-1&&(ue="SLOW"),isNaN(H)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=I.call(this,D,F,ae,ue);return b.call(this,H,Y,ne,X,M,se),this};var I=function(D,F,H,Y){var ne,X,ae;if(typeof D=="string"&&n(D)===r){D=unescape(D);var ue=K(D,!1);(ue!==""||(ue=e.loadFile(D,!0))!==void 0)&&(D=ue)}if(x(D)&&(D=p(D,F)),F=n(D,F),!m(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ae=H)==null||ae.length===0)&&(H=(function(se){return typeof se=="string"||O(se)?_(se):O(se.data)?_(se.data):null})(D)),(ne=y.call(this,H))||(D instanceof Uint8Array||F==="RGBA"||(X=D,D=L(D)),ne=this["process"+F.toUpperCase()](D,h.call(this),H,(function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in e.image_compression?se:N.NONE})(Y),X)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},K=e.__addimage__.convertBase64ToBinaryString=function(D,F){F=typeof F!="boolean"||F;var H,Y="";if(typeof D=="string"){var ne;H=(ne=P(D))!==null&&ne!==void 0?ne:D;try{Y=bb(H)}catch(X){if(F)throw T(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function(D){var F,H,Y="";if(x(D)&&(D=p(D)),typeof D=="string"&&n(D)===r&&((Y=K(D,!1))===""&&(Y=e.loadFile(D)||""),D=Y),H=n(D),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(D instanceof Uint8Array||(D=L(D)),!(F=this["process"+H.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=H,F}})(Zt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,n,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((a=d[m]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){a=d[x];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(v.objId),N=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(a.bounds.x)+" "+o(a.bounds.y+a.bounds.h)+" "+s(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y)+"] ")+"/Contents ("+p(k(a.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(k(N))+") >>",v.content=i;var _=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(a.bounds.x+30)+" "+o(a.bounds.y+a.bounds.h)+" "+s(a.bounds.x+a.bounds.w+30)+" "+o(a.bounds.y)+"] ")+" /Parent "+_,a.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":n="/Rect ["+s(a.bounds.x)+" "+o(a.bounds.y)+" "+s(a.bounds.x+a.bounds.w)+" "+o(a.bounds.y+a.bounds.h)+"] ";var T=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+p(y(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var P=this.annotations._nameMap[a.options.name];a.options.pageNumber=P.page,a.options.top=P.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var O=o(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+O+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,n,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(a),w:c(r+n),h:d(a+i)},options:s,type:"link"})},e.textWithLink=function(r,a,n,i){var s,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;s=Math.ceil(d*h)}else o=c,s=d;return this.text(r,a,n,i),n+=.2*d,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,n-d,o,s,i),c},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(Zt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&n.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&i(v)&&t[v.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(v){var b=0,k=r,N="",_=0;for(b=0;b<v.length;b+=1)k[v.charCodeAt(b)]!==void 0?(_++,typeof(k=k[v.charCodeAt(b)])=="number"&&(N+=String.fromCharCode(k),k=r,_=0),b===v.length-1&&(k=r,N+=v.charAt(b-(_-1)),b-=_-1,_=0)):(k=r,N+=v.charAt(b-_),b-=_,_=0);return N};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&a[v.charCodeAt(0)]!==void 0};var x=e.__arabicParser__.getCorrectForm=function(v,b,k){return s(v)?i(v)===!1?-1:!d(v)||!s(b)&&!s(k)||!s(k)&&o(b)||o(v)&&!s(b)||o(v)&&c(b)||o(v)&&o(b)?0:h(v)&&s(b)&&!o(b)&&s(k)&&d(k)?3:o(v)||!s(k)?1:2:-1},p=function(v){var b=0,k=0,N=0,_="",T="",P="",O=(v=v||"").split("\\s+"),L=[];for(b=0;b<O.length;b+=1){for(L.push(""),k=0;k<O[b].length;k+=1)_=O[b][k],T=O[b][k-1],P=O[b][k+1],s(_)?(N=x(_,T,P),L[b]+=N!==-1?String.fromCharCode(t[_.charCodeAt(0)][N]):_):L[b]+=_;L[b]=m(L[b])}return L.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(b)){var N=0;for(k=[],N=0;N<b.length;N+=1)Array.isArray(b[N])?k.push([p(b[N][0]),b[N][1],b[N][2]]):k.push([p(b[N])]);v=k}else v=p(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])})(Zt.API),Zt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Zt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){a.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=d.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,T){return _.concat(b.splitTextToSize(T,k))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)p<(v=this.getStringUnitWidth(c[N],{font:m})*h)&&(p=v);return p!==0&&(y=c.length),{w:p/=x,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/x,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,m,x){if(a.call(this),!h)throw new Error("No data for PDF table.");var p,y,v,b,k=[],N=[],_=[],T={},P={},O=[],L=[],U=(x=x||{}).autoSize||!1,I=x.printHeaders!==!1,K=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,D=x.margins||Object.assign({width:this.getPageWidth()},t),F=typeof x.padding=="number"?x.padding:3,H=x.headerBackgroundColor||"#c8c8c8",Y=x.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=Y,this.setFontSize(K),m==null)N=k=Object.keys(h[0]),_=k.map(function(){return"left"});else if(Array.isArray(m)&&Oa(m[0])==="object")for(k=m.map(function(be){return be.name}),N=m.map(function(be){return be.prompt||be.name||""}),_=m.map(function(be){return be.align||"left"}),p=0;p<m.length;p+=1)P[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=k=m,_=k.map(function(){return"left"}));if(U||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<k.length;p+=1){for(T[b=k[p]]=h.map(function(be){return be[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[b],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)O.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[b]=Math.max.apply(null,O)+F+F,O=[]}if(I){var ne={};for(p=0;p<k.length;p+=1)ne[k[p]]={},ne[k[p]].text=N[p],ne[k[p]].align=_[p];var X=o.call(this,ne,P);L=k.map(function(be){return new i(c,d,P[be],X,ne[be].text,void 0,ne[be].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var ae=m.reduce(function(be,J){return be[J.name]=J.align,be},{});for(p=0;p<h.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:h[p]},this);var ue=o.call(this,h[p],P);for(v=0;v<k.length;v+=1){var se=h[p][k[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:v,data:se},this),s.call(this,new i(c,d,P[k[v]],ue,se,p+2,ae[k[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(p){var y=c[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,d[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+h+h},this).reduce(function(p,y){return Math.max(p,y)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,x.push(h)),h.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(y)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(Zt.API);var HH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],QS=$H(WH),VH=[100,200,300,400,500,600,700,800,900],O6e=$H(VH);function U_(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return HH[i=i||"normal"]?i:"normal"})(e.style),a=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),n=(function(i){return typeof QS[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,a].join(" ")}}}function f9(e,t,r,a){var n;for(n=r;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var P6e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},h9={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function m9(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function p9(e){return e.trimLeft()}function D6e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function L6e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ub,g9,x9,bp,db,v9,y9,b9,z_=["times"];function w9(e,t,r,a,n){var i=4,s=_9;switch(n){case Zt.API.image_compression.FAST:i=1,s=k9;break;case Zt.API.image_compression.MEDIUM:i=6,s=S9;break;case Zt.API.image_compression.SLOW:i=9,s=N9}e=(function(c,d,h,m){for(var x,p=c.length/d,y=new Uint8Array(c.length+p),v=[M6e,k9,_9,S9,N9],b=0;b<p;b+=1){var k=b*d,N=c.subarray(k,k+d);if(m)y.set(m(N,h,x),k+b);else{for(var _=v.length,T=[],P=0;P<_;P+=1)T[P]=v[P](N,h,x);var O=I6e(T.concat());y.set(T[O],k+b)}x=N}return y})(e,t,Math.ceil(r*a/8),s);var o=HS(e,{level:i});return Zt.API.__addimage__.arrayBufferToBinaryString(o)}function M6e(e){var t=Array.apply([],e);return t.unshift(0),t}function k9(e,t){var r=e.length,a=[];a[0]=1;for(var n=0;n<r;n+=1){var i=e[n-t]||0;a[n+1]=e[n]-i+256&255}return a}function _9(e,t,r){var a=e.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var s=r&&r[i]||0;n[i+1]=e[i]-s+256&255}return n}function S9(e,t,r){var a=e.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var s=e[i-t]||0,o=r&&r[i]||0;n[i+1]=e[i]+256-(s+o>>>1)&255}return n}function N9(e,t,r){var a=e.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var s=R6e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);n[i+1]=e[i]-s+256&255}return n}function R6e(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),n=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=n&&a<=i?e:n<=i?t:r}function I6e(e){var t=e.map(function(r){return r.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function q_(e,t,r){var a=t*r,n=Math.floor(a/8),i=16-(a-8*n+r),s=(1<<r)-1;return KH(e,n)>>i&s}function j9(e,t,r,a){var n=r*a,i=Math.floor(n/8),s=16-(n-8*i+a),o=(1<<a)-1,c=(t&o)<<s;(function(d,h,m){if(h+1<d.byteLength)d.setUint16(h,m,!1);else{var x=m>>8&255;d.setUint8(h,x)}})(e,i,KH(e,i)&~(o<<s)&65535|c)}function KH(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function F6e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,s=1<<1+(7&n);e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var d=!0,h=[],m=0,x=null,p=0,y=null;for(this.width=r,this.height=a;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];m=e[t++]|e[t++]<<8,x=e[t++],1&v||(x=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,T=e[t++],P=T>>6&1,O=1<<1+(7&T),L=o,U=c,I=!1;T>>7&&(I=!0,L=t,U=O,t+=3*O);var K=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}h.push({x:b,y:k,width:N,height:_,has_local_palette:I,palette_offset:L,palette_size:U,data_offset:K,data_length:t-K,transparent_index:x,interlaced:!!P,delay:m,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=h.length)throw new Error("Frame index out of range.");return h[F]},this.decodeAndBlitFrameBGRA=function(F,H){var Y=this.frameInfo(F),ne=Y.width*Y.height,X=new Uint8Array(ne);A9(e,Y.data_offset,X,ne);var ae=Y.palette_offset,ue=Y.transparent_index;ue===null&&(ue=256);var se=Y.width,be=r-se,J=se,M=4*(Y.y*r+Y.x),z=4*((Y.y+Y.height)*r+Y.x),q=M,G=4*be;Y.interlaced===!0&&(G+=4*r*7);for(var re=8,he=0,je=X.length;he<je;++he){var oe=X[he];if(J===0&&(J=se,(q+=G)>=z&&(G=4*be+4*r*(re-1),q=M+(se+be)*(re<<1),re>>=1)),oe===ue)q+=4;else{var Ne=e[ae+3*oe],Me=e[ae+3*oe+1],Q=e[ae+3*oe+2];H[q++]=Q,H[q++]=Me,H[q++]=Ne,H[q++]=255}--J}},this.decodeAndBlitFrameRGBA=function(F,H){var Y=this.frameInfo(F),ne=Y.width*Y.height,X=new Uint8Array(ne);A9(e,Y.data_offset,X,ne);var ae=Y.palette_offset,ue=Y.transparent_index;ue===null&&(ue=256);var se=Y.width,be=r-se,J=se,M=4*(Y.y*r+Y.x),z=4*((Y.y+Y.height)*r+Y.x),q=M,G=4*be;Y.interlaced===!0&&(G+=4*r*7);for(var re=8,he=0,je=X.length;he<je;++he){var oe=X[he];if(J===0&&(J=se,(q+=G)>=z&&(G=4*be+4*r*(re-1),q=M+(se+be)*(re<<1),re>>=1)),oe===ue)q+=4;else{var Ne=e[ae+3*oe],Me=e[ae+3*oe+1],Q=e[ae+3*oe+2];H[q++]=Ne,H[q++]=Me,H[q++]=Q,H[q++]=255}--J}}}function A9(e,t,r,a){for(var n=e[t++],i=1<<n,s=i+1,o=s+1,c=n+1,d=(1<<c)-1,h=0,m=0,x=0,p=e[t++],y=new Int32Array(4096),v=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<c)break;var b=m&d;if(m>>=c,h-=c,b!==i){if(b===s)break;for(var k=b<o?b:v,N=0,_=k;_>i;)_=y[_]>>8,++N;var T=_;if(x+N+(k!==b?1:0)>a)return void Ya.log("Warning, gif stream longer than expected.");r[x++]=T;var P=x+=N;for(k!==b&&(r[x++]=T),_=k;N--;)_=y[_],r[--P]=255&_,_>>=8;v!==null&&o<4096&&(y[o++]=v<<8|T,o>=d+1&&c<12&&(++c,d=d<<1|1)),v=b}else o=s+1,d=(1<<(c=n+1))-1,v=null}return x!==a&&Ya.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $_(e){var t,r,a,n,i,s=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),y=new Array(64),v=[],b=0,k=7,N=new Array(64),_=new Array(64),T=new Array(64),P=new Array(256),O=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(M,z){for(var q=0,G=0,re=new Array,he=1;he<=16;he++){for(var je=1;je<=M[he];je++)re[z[G]]=[],re[z[G]][0]=q,re[z[G]][1]=he,G++,q++;q*=2}return re}function ae(M){for(var z=M[0],q=M[1]-1;q>=0;)z&1<<q&&(b|=1<<k),q--,--k<0&&(b==255?(ue(255),ue(0)):ue(b),k=7,b=0)}function ue(M){v.push(M)}function se(M){ue(M>>8&255),ue(255&M)}function be(M,z,q,G,re){for(var he,je=re[0],oe=re[240],Ne=(function(Xe,gt){var ot,Ct,Pt,Dt,er,ar,$r,qt,Lt,vt,Tt=0;for(Lt=0;Lt<8;++Lt){ot=Xe[Tt],Ct=Xe[Tt+1],Pt=Xe[Tt+2],Dt=Xe[Tt+3],er=Xe[Tt+4],ar=Xe[Tt+5],$r=Xe[Tt+6];var Dr=ot+(qt=Xe[Tt+7]),Ft=ot-qt,At=Ct+$r,ir=Ct-$r,Tr=Pt+ar,qe=Pt-ar,bt=Dt+er,kt=Dt-er,gr=Dr+bt,Rr=Dr-bt,Er=At+Tr,Mt=At-Tr;Xe[Tt]=gr+Er,Xe[Tt+4]=gr-Er;var sr=.707106781*(Mt+Rr);Xe[Tt+2]=Rr+sr,Xe[Tt+6]=Rr-sr;var Hr=.382683433*((gr=kt+qe)-(Mt=ir+Ft)),en=.5411961*gr+Hr,Ui=1.306562965*Mt+Hr,oi=.707106781*(Er=qe+ir),nr=Ft+oi,Mo=Ft-oi;Xe[Tt+5]=Mo+en,Xe[Tt+3]=Mo-en,Xe[Tt+1]=nr+Ui,Xe[Tt+7]=nr-Ui,Tt+=8}for(Tt=0,Lt=0;Lt<8;++Lt){ot=Xe[Tt],Ct=Xe[Tt+8],Pt=Xe[Tt+16],Dt=Xe[Tt+24],er=Xe[Tt+32],ar=Xe[Tt+40],$r=Xe[Tt+48];var oo=ot+(qt=Xe[Tt+56]),bi=ot-qt,rs=Ct+$r,Ma=Ct-$r,hn=Pt+ar,te=Pt-ar,ke=Dt+er,me=Dt-er,pe=oo+ke,xe=oo-ke,Se=rs+hn,Ue=rs-hn;Xe[Tt]=pe+Se,Xe[Tt+32]=pe-Se;var tt=.707106781*(Ue+xe);Xe[Tt+16]=xe+tt,Xe[Tt+48]=xe-tt;var $e=.382683433*((pe=me+te)-(Ue=Ma+bi)),He=.5411961*pe+$e,Ve=1.306562965*Ue+$e,mt=.707106781*(Se=te+Ma),yt=bi+mt,Et=bi-mt;Xe[Tt+40]=Et+He,Xe[Tt+24]=Et-He,Xe[Tt+8]=yt+Ve,Xe[Tt+56]=yt-Ve,Tt++}for(Lt=0;Lt<64;++Lt)vt=Xe[Lt]*gt[Lt],p[Lt]=vt>0?vt+.5|0:vt-.5|0;return p})(M,z),Me=0;Me<64;++Me)y[L[Me]]=Ne[Me];var Q=y[0]-q;q=y[0],Q==0?ae(G[0]):(ae(G[x[he=32767+Q]]),ae(m[he]));for(var Te=63;Te>0&&y[Te]==0;)Te--;if(Te==0)return ae(je),q;for(var Ae,de=1;de<=Te;){for(var Qe=de;y[de]==0&&de<=Te;)++de;var we=de-Qe;if(we>=16){Ae=we>>4;for(var Ze=1;Ze<=Ae;++Ze)ae(oe);we&=15}he=32767+y[de],ae(re[(we<<4)+x[he]]),ae(m[he]),de++}return Te!=63&&ae(je),q}function J(M){M=Math.min(Math.max(M,1),100),i!=M&&((function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var re=s((q[G]*z+50)/100);re=Math.min(Math.max(re,1),255),o[L[G]]=re}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var oe=s((he[je]*z+50)/100);oe=Math.min(Math.max(oe,1),255),c[L[je]]=oe}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Q=0;Q<8;Q++)for(var Te=0;Te<8;Te++)d[Me]=1/(o[L[Me]]*Ne[Q]*Ne[Te]*8),h[Me]=1/(c[L[Me]]*Ne[Q]*Ne[Te]*8),Me++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,z){z&&J(z),v=new Array,b=0,k=7,se(65496),se(65504),se(16),ue(74),ue(70),ue(73),ue(70),ue(0),ue(1),ue(1),ue(0),se(1),se(1),ue(0),ue(0),(function(){se(65499),se(132),ue(0);for(var Ct=0;Ct<64;Ct++)ue(o[Ct]);ue(1);for(var Pt=0;Pt<64;Pt++)ue(c[Pt])})(),(function(Ct,Pt){se(65472),se(17),ue(8),se(Pt),se(Ct),ue(3),ue(1),ue(17),ue(0),ue(2),ue(17),ue(1),ue(3),ue(17),ue(1)})(M.width,M.height),(function(){se(65476),se(418),ue(0);for(var Ct=0;Ct<16;Ct++)ue(U[Ct+1]);for(var Pt=0;Pt<=11;Pt++)ue(I[Pt]);ue(16);for(var Dt=0;Dt<16;Dt++)ue(K[Dt+1]);for(var er=0;er<=161;er++)ue(D[er]);ue(1);for(var ar=0;ar<16;ar++)ue(F[ar+1]);for(var $r=0;$r<=11;$r++)ue(H[$r]);ue(17);for(var qt=0;qt<16;qt++)ue(Y[qt+1]);for(var Lt=0;Lt<=161;Lt++)ue(ne[Lt])})(),se(65498),se(12),ue(3),ue(1),ue(0),ue(2),ue(17),ue(3),ue(17),ue(0),ue(63),ue(0);var q=0,G=0,re=0;b=0,k=7,this.encode.displayName="_encode_";for(var he,je,oe,Ne,Me,Q,Te,Ae,de,Qe=M.data,we=M.width,Ze=M.height,Xe=4*we,gt=0;gt<Ze;){for(he=0;he<Xe;){for(Me=Xe*gt+he,Te=-1,Ae=0,de=0;de<64;de++)Q=Me+(Ae=de>>3)*Xe+(Te=4*(7&de)),gt+Ae>=Ze&&(Q-=Xe*(gt+1+Ae-Ze)),he+Te>=Xe&&(Q-=he+Te-Xe+4),je=Qe[Q++],oe=Qe[Q++],Ne=Qe[Q++],N[de]=(O[je]+O[oe+256|0]+O[Ne+512|0]>>16)-128,_[de]=(O[je+768|0]+O[oe+1024|0]+O[Ne+1280|0]>>16)-128,T[de]=(O[je+1280|0]+O[oe+1536|0]+O[Ne+1792|0]>>16)-128;q=be(N,d,q,t,a),G=be(_,h,G,r,n),re=be(T,h,re,r,n),he+=32}gt+=8}if(k>=0){var ot=[];ot[1]=k+1,ot[0]=(1<<k+1)-1,ae(ot)}return se(65497),new Uint8Array(v)},e=e||50,(function(){for(var M=String.fromCharCode,z=0;z<256;z++)P[z]=M(z)})(),t=X(U,I),r=X(F,H),a=X(K,D),n=X(Y,ne),(function(){for(var M=1,z=2,q=1;q<=15;q++){for(var G=M;G<z;G++)x[32767+G]=q,m[32767+G]=[],m[32767+G][1]=q,m[32767+G][0]=G;for(var re=-(z-1);re<=-M;re++)x[32767+re]=q,m[32767+re]=[],m[32767+re][1]=q,m[32767+re][0]=z-1+re;M<<=1,z<<=1}})(),(function(){for(var M=0;M<256;M++)O[M]=19595*M,O[M+256|0]=38470*M,O[M+512|0]=7471*M+32768,O[M+768|0]=-11059*M,O[M+1024|0]=-21709*M,O[M+1280|0]=32768*M+8421375,O[M+1536|0]=-27439*M,O[M+1792|0]=-5329*M})(),J(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _c(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function T9(e){function t(I){if(!I)throw Error("assert :P")}function r(I,K,D){for(var F=0;4>F;F++)if(I[K+F]!=D.charCodeAt(F))return!0;return!1}function a(I,K,D,F,H){for(var Y=0;Y<H;Y++)I[K+Y]=D[F+Y]}function n(I,K,D,F){for(var H=0;H<F;H++)I[K+H]=D}function i(I){return new Int32Array(I)}function s(I,K){for(var D=[],F=0;F<I;F++)D.push(new K);return D}function o(I,K){var D=[];return(function F(H,Y,ne){for(var X=ne[Y],ae=0;ae<X&&(H.push(ne.length>Y+1?[]:new K),!(ne.length<Y+1));ae++)F(H[ae],Y+1,ne)})(D,0,I),D}var c=function(){var I=this;function K(S,E){for(var B=1<<E-1>>>0;S&B;)B>>>=1;return B?(S&B-1)+B:S}function D(S,E,B,W,ee){t(!(W%B));do S[E+(W-=B)]=ee;while(0<W)}function F(S,E,B,W,ee){if(t(2328>=ee),512>=ee)var ie=i(512);else if((ie=i(ee))==null)return 0;return(function(le,fe,ge,ye,Pe,We){var ve,Le,Fe=fe,at=1<<ge,ze=i(16),rt=i(16);for(t(Pe!=0),t(ye!=null),t(le!=null),t(0<ge),Le=0;Le<Pe;++Le){if(15<ye[Le])return 0;++ze[ye[Le]]}if(ze[0]==Pe)return 0;for(rt[1]=0,ve=1;15>ve;++ve){if(ze[ve]>1<<ve)return 0;rt[ve+1]=rt[ve]+ze[ve]}for(Le=0;Le<Pe;++Le)ve=ye[Le],0<ye[Le]&&(We[rt[ve]++]=Le);if(rt[15]==1)return(ye=new H).g=0,ye.value=We[0],D(le,Fe,1,at,ye),at;var lt,pt=-1,dt=at-1,Wt=0,Rt=1,Sr=1,Ut=1<<ge;for(Le=0,ve=1,Pe=2;ve<=ge;++ve,Pe<<=1){if(Rt+=Sr<<=1,0>(Sr-=ze[ve]))return 0;for(;0<ze[ve];--ze[ve])(ye=new H).g=ve,ye.value=We[Le++],D(le,Fe+Wt,Pe,Ut,ye),Wt=K(Wt,ve)}for(ve=ge+1,Pe=2;15>=ve;++ve,Pe<<=1){if(Rt+=Sr<<=1,0>(Sr-=ze[ve]))return 0;for(;0<ze[ve];--ze[ve]){if(ye=new H,(Wt&dt)!=pt){for(Fe+=Ut,lt=1<<(pt=ve)-ge;15>pt&&!(0>=(lt-=ze[pt]));)++pt,lt<<=1;at+=Ut=1<<(lt=pt-ge),le[fe+(pt=Wt&dt)].g=lt+ge,le[fe+pt].value=Fe-fe-pt}ye.g=ve-ge,ye.value=We[Le++],D(le,Fe+(Wt>>ge),Pe,Ut,ye),Wt=K(Wt,ve)}}return Rt!=2*rt[15]-1?0:at})(S,E,B,W,ee,ie)}function H(){this.value=this.g=0}function Y(){this.value=this.g=0}function ne(){this.G=s(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Yc,Y)}function X(S,E,B,W){t(S!=null),t(E!=null),t(2147483648>W),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=E,S.pa=B,S.Jd=E,S.Yc=B+W,S.Zc=4<=W?B+W-4+1:B,je(S)}function ae(S,E){for(var B=0;0<E--;)B|=Ne(S,128)<<E;return B}function ue(S,E){var B=ae(S,E);return oe(S)?-B:B}function se(S,E,B,W){var ee,ie=0;for(t(S!=null),t(E!=null),t(4294967288>W),S.Sb=W,S.Ra=0,S.u=0,S.h=0,4<W&&(W=4),ee=0;ee<W;++ee)ie+=E[B+ee]<<8*ee;S.Ra=ie,S.bb=W,S.oa=E,S.pa=B}function be(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<yl-8>>>0,++S.bb,S.u-=8;G(S)&&(S.h=1,S.u=0)}function J(S,E){if(t(0<=E),!S.h&&E<=ss){var B=q(S)&vs[E];return S.u+=E,be(S),B}return S.h=1,S.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(S){return S.Ra>>>(S.u&yl-1)>>>0}function G(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>yl}function re(S,E){S.u=E,S.h=G(S)}function he(S){S.u>=bl&&(t(S.u>=bl),be(S))}function je(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function oe(S){return ae(S,1)}function Ne(S,E){var B=S.Ca;0>S.b&&je(S);var W=S.b,ee=B*E>>>8,ie=(S.I>>>W>ee)+0;for(ie?(B-=ee,S.I-=ee+1<<W>>>0):B=ee+1,W=B,ee=0;256<=W;)ee+=8,W>>=8;return W=7^ee+cc[W],S.b-=W,S.Ca=(B<<W)-1,ie}function Me(S,E,B){S[E+0]=B>>24&255,S[E+1]=B>>16&255,S[E+2]=B>>8&255,S[E+3]=255&B}function Q(S,E){return S[E+0]|S[E+1]<<8}function Te(S,E){return Q(S,E)|S[E+2]<<16}function Ae(S,E){return Q(S,E)|Q(S,E+2)<<16}function de(S,E){var B=1<<E;return t(S!=null),t(0<E),S.X=i(B),S.X==null?0:(S.Mb=32-E,S.Xa=E,1)}function Qe(S,E){t(S!=null),t(E!=null),t(S.Xa==E.Xa),a(E.X,0,S.X,0,1<<E.Xa)}function we(){this.X=[],this.Xa=this.Mb=0}function Ze(S,E,B,W){t(B!=null),t(W!=null);var ee=B[0],ie=W[0];return ee==0&&(ee=(S*ie+E/2)/E),ie==0&&(ie=(E*ee+S/2)/S),0>=ee||0>=ie?0:(B[0]=ee,W[0]=ie,1)}function Xe(S,E){return S+(1<<E)-1>>>E}function gt(S,E){return((4278255360&S)+(4278255360&E)>>>0&4278255360)+((16711935&S)+(16711935&E)>>>0&16711935)>>>0}function ot(S,E){I[E]=function(B,W,ee,ie,le,fe,ge){var ye;for(ye=0;ye<le;++ye){var Pe=I[S](fe[ge+ye-1],ee,ie+ye);fe[ge+ye]=gt(B[W+ye],Pe)}}}function Ct(){this.ud=this.hd=this.jd=0}function Pt(S,E){return((4278124286&(S^E))>>>1)+(S&E)>>>0}function Dt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function er(S,E){return Dt(S+(S-E+.5>>1))}function ar(S,E,B){return Math.abs(E-B)-Math.abs(S-B)}function $r(S,E,B,W,ee,ie,le){for(W=ie[le-1],B=0;B<ee;++B)ie[le+B]=W=gt(S[E+B],W)}function qt(S,E,B,W,ee){var ie;for(ie=0;ie<B;++ie){var le=S[E+ie],fe=le>>8&255,ge=16711935&(ge=(ge=16711935&le)+((fe<<16)+fe));W[ee+ie]=(4278255360&le)+ge>>>0}}function Lt(S,E){E.jd=255&S,E.hd=S>>8&255,E.ud=S>>16&255}function vt(S,E,B,W,ee,ie){var le;for(le=0;le<W;++le){var fe=E[B+le],ge=fe>>>8,ye=fe,Pe=255&(Pe=(Pe=fe>>>16)+((S.jd<<24>>24)*(ge<<24>>24)>>>5));ye=255&(ye=(ye+=(S.hd<<24>>24)*(ge<<24>>24)>>>5)+((S.ud<<24>>24)*(Pe<<24>>24)>>>5)),ee[ie+le]=(4278255360&fe)+(Pe<<16)+ye}}function Tt(S,E,B,W,ee){I[E]=function(ie,le,fe,ge,ye,Pe,We,ve,Le){for(ge=We;ge<ve;++ge)for(We=0;We<Le;++We)ye[Pe++]=ee(fe[W(ie[le++])])},I[S]=function(ie,le,fe,ge,ye,Pe,We){var ve=8>>ie.b,Le=ie.Ea,Fe=ie.K[0],at=ie.w;if(8>ve)for(ie=(1<<ie.b)-1,at=(1<<ve)-1;le<fe;++le){var ze,rt=0;for(ze=0;ze<Le;++ze)ze&ie||(rt=W(ge[ye++])),Pe[We++]=ee(Fe[rt&at]),rt>>=ve}else I["VP8LMapColor"+B](ge,ye,Fe,at,Pe,We,le,fe,Le)}}function Dr(S,E,B,W,ee){for(B=E+B;E<B;){var ie=S[E++];W[ee++]=ie>>16&255,W[ee++]=ie>>8&255,W[ee++]=255&ie}}function Ft(S,E,B,W,ee){for(B=E+B;E<B;){var ie=S[E++];W[ee++]=ie>>16&255,W[ee++]=ie>>8&255,W[ee++]=255&ie,W[ee++]=ie>>24&255}}function At(S,E,B,W,ee){for(B=E+B;E<B;){var ie=(le=S[E++])>>16&240|le>>12&15,le=240&le|le>>28&15;W[ee++]=ie,W[ee++]=le}}function ir(S,E,B,W,ee){for(B=E+B;E<B;){var ie=(le=S[E++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;W[ee++]=ie,W[ee++]=le}}function Tr(S,E,B,W,ee){for(B=E+B;E<B;){var ie=S[E++];W[ee++]=255&ie,W[ee++]=ie>>8&255,W[ee++]=ie>>16&255}}function qe(S,E,B,W,ee,ie){if(ie==0)for(B=E+B;E<B;)Me(W,((ie=S[E++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else a(W,ee,S,E,B)}function bt(S,E){I[E][0]=I[S+"0"],I[E][1]=I[S+"1"],I[E][2]=I[S+"2"],I[E][3]=I[S+"3"],I[E][4]=I[S+"4"],I[E][5]=I[S+"5"],I[E][6]=I[S+"6"],I[E][7]=I[S+"7"],I[E][8]=I[S+"8"],I[E][9]=I[S+"9"],I[E][10]=I[S+"10"],I[E][11]=I[S+"11"],I[E][12]=I[S+"12"],I[E][13]=I[S+"13"],I[E][14]=I[S+"0"],I[E][15]=I[S+"0"]}function kt(S){return S==Hf||S==Pm||S==xd||S==Dm}function gr(){this.eb=[],this.size=this.A=this.fb=0}function Rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gr,this.f.kb=new Rr,this.sd=null}function Mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hr(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function en(S,E){var B=S.T,W=E.ba.f.RGBA,ee=W.eb,ie=W.fb+S.ka*W.A,le=Ai[E.ba.S],fe=S.y,ge=S.O,ye=S.f,Pe=S.N,We=S.ea,ve=S.W,Le=E.cc,Fe=E.dc,at=E.Mc,ze=E.Nc,rt=S.ka,lt=S.ka+S.T,pt=S.U,dt=pt+1>>1;for(rt==0?le(fe,ge,null,null,ye,Pe,We,ve,ye,Pe,We,ve,ee,ie,null,null,pt):(le(E.ec,E.fc,fe,ge,Le,Fe,at,ze,ye,Pe,We,ve,ee,ie-W.A,ee,ie,pt),++B);rt+2<lt;rt+=2)Le=ye,Fe=Pe,at=We,ze=ve,Pe+=S.Rc,ve+=S.Rc,ie+=2*W.A,le(fe,(ge+=2*S.fa)-S.fa,fe,ge,Le,Fe,at,ze,ye,Pe,We,ve,ee,ie-W.A,ee,ie,pt);return ge+=S.fa,S.j+lt<S.o?(a(E.ec,E.fc,fe,ge,pt),a(E.cc,E.dc,ye,Pe,dt),a(E.Mc,E.Nc,We,ve,dt),B--):1&lt||le(fe,ge,null,null,ye,Pe,We,ve,ye,Pe,We,ve,ee,ie+W.A,null,null,pt),B}function Ui(S,E,B){var W=S.F,ee=[S.J];if(W!=null){var ie=S.U,le=E.ba.S,fe=le==$f||le==xd;E=E.ba.f.RGBA;var ge=[0],ye=S.ka;ge[0]=S.T,S.Kb&&(ye==0?--ge[0]:(--ye,ee[0]-=S.width),S.j+S.ka+S.T==S.o&&(ge[0]=S.o-S.j-ye));var Pe=E.eb;ye=E.fb+ye*E.A,S=Bf(W,ee[0],S.width,ie,ge,Pe,ye+(fe?0:3),E.A),t(B==ge),S&&kt(le)&&Yu(Pe,ye,fe,ie,ge,E.A)}return 0}function oi(S){var E=S.ma,B=E.ba.S,W=11>B,ee=B==Hi||B==ho||B==$f||B==gd||B==12||kt(B);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!lc(E.Oa,S,ee?11:12))return 0;if(ee&&kt(B)&&jm(),S.da)alert("todo:use_scaling");else{if(W){if(E.Ib=Hr,S.Kb){if(B=S.U+1>>1,E.memory=i(S.U+2*B),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+S.U,E.Mc=E.cc,E.Nc=E.dc+B,E.Ib=en,jm()}}else alert("todo:EmitYUV");ee&&(E.Jb=Ui,W&&co())}if(W&&!ru){for(S=0;256>S;++S)Ti[S]=89858*(S-128)+bd>>yo,t5[S]=-22014*(S-128)+bd,Cv[S]=-45773*(S-128),Fm[S]=113618*(S-128)+bd>>yo;for(S=Zu;S<tu;++S)E=76283*(S-16)+bd>>yo,r5[S-Zu]=mn(E,255),a5[S-Zu]=mn(E+8>>4,15);ru=1}return 1}function nr(S){var E=S.ma,B=S.U,W=S.T;return t(!(1&S.ka)),0>=B||0>=W?0:(B=E.Ib(S,E),E.Jb!=null&&E.Jb(S,E,B),E.Dc+=B,1)}function Mo(S){S.ma.memory=null}function oo(S,E,B,W){return J(S,8)!=47?0:(E[0]=J(S,14)+1,B[0]=J(S,14)+1,W[0]=J(S,1),J(S,3)!=0?0:!S.h)}function bi(S,E){if(4>S)return S+1;var B=S-2>>1;return(2+(1&S)<<B)+J(E,B)+1}function rs(S,E){return 120<E?E-120:1<=(B=((B=po[E-1])>>4)*S+(8-(15&B)))?B:1;var B}function Ma(S,E,B){var W=q(B),ee=S[E+=255&W].g-8;return 0<ee&&(re(B,B.u+8),W=q(B),E+=S[E].value,E+=W&(1<<ee)-1),re(B,B.u+S[E].g),S[E].value}function hn(S,E,B){return B.g+=S.g,B.value+=S.value<<E>>>0,t(8>=B.g),S.g}function te(S,E,B){var W=S.xc;return t((E=W==0?0:S.vc[S.md*(B>>W)+(E>>W)])<S.Wb),S.Ya[E]}function ke(S,E,B,W){var ee=S.ab,ie=S.c*E,le=S.C;E=le+E;var fe=B,ge=W;for(W=S.Ta,B=S.Ua;0<ee--;){var ye=S.gc[ee],Pe=le,We=E,ve=fe,Le=ge,Fe=(ge=W,fe=B,ye.Ea);switch(t(Pe<We),t(We<=ye.nc),ye.hc){case 2:An(ve,Le,(We-Pe)*Fe,ge,fe);break;case 0:var at=Pe,ze=We,rt=ge,lt=fe,pt=(Ut=ye).Ea;at==0&&(fd(ve,Le,null,null,1,rt,lt),$r(ve,Le+1,0,0,pt-1,rt,lt+1),Le+=pt,lt+=pt,++at);for(var dt=1<<Ut.b,Wt=dt-1,Rt=Xe(pt,Ut.b),Sr=Ut.K,Ut=Ut.w+(at>>Ut.b)*Rt;at<ze;){var Kr=Sr,Ka=Ut,Cr=1;for(hd(ve,Le,rt,lt-pt,1,rt,lt);Cr<pt;){var It=(Cr&~Wt)+dt;It>pt&&(It=pt),(0,uc[Kr[Ka++]>>8&15])(ve,Le+ +Cr,rt,lt+Cr-pt,It-Cr,rt,lt+Cr),Cr=It}Le+=pt,lt+=pt,++at&Wt||(Ut+=Rt)}We!=ye.nc&&a(ge,fe-Fe,ge,fe+(We-Pe-1)*Fe,Fe);break;case 1:for(Fe=ve,ze=Le,pt=(ve=ye.Ea)-(lt=ve&~(rt=(Le=1<<ye.b)-1)),at=Xe(ve,ye.b),dt=ye.K,ye=ye.w+(Pe>>ye.b)*at;Pe<We;){for(Wt=dt,Rt=ye,Sr=new Ct,Ut=ze+lt,Kr=ze+ve;ze<Ut;)Lt(Wt[Rt++],Sr),md(Sr,Fe,ze,Le,ge,fe),ze+=Le,fe+=Le;ze<Kr&&(Lt(Wt[Rt++],Sr),md(Sr,Fe,ze,pt,ge,fe),ze+=pt,fe+=pt),++Pe&rt||(ye+=at)}break;case 3:if(ve==ge&&Le==fe&&0<ye.b){for(ze=ge,ve=Fe=fe+(We-Pe)*Fe-(lt=(We-Pe)*Xe(ye.Ea,ye.b)),Le=ge,rt=fe,at=[],lt=(pt=lt)-1;0<=lt;--lt)at[lt]=Le[rt+lt];for(lt=pt-1;0<=lt;--lt)ze[ve+lt]=at[lt];Am(ye,Pe,We,ge,Fe,ge,fe)}else Am(ye,Pe,We,ve,Le,ge,fe)}fe=W,ge=B}ge!=B&&a(W,B,fe,ge,ie)}function me(S,E){var B=S.V,W=S.Ba+S.c*S.C,ee=E-S.C;if(t(E<=S.l.o),t(16>=ee),0<ee){var ie=S.l,le=S.Ta,fe=S.Ua,ge=ie.width;if(ke(S,ee,B,W),ee=fe=[fe],t((B=S.C)<(W=E)),t(ie.v<ie.va),W>ie.o&&(W=ie.o),B<ie.j){var ye=ie.j-B;B=ie.j,ee[0]+=ye*ge}if(B>=W?B=0:(ee[0]+=4*ie.v,ie.ka=B-ie.j,ie.U=ie.va-ie.v,ie.T=W-B,B=1),B){if(fe=fe[0],11>(B=S.ca).S){var Pe=B.f.RGBA,We=(W=B.S,ee=ie.U,ie=ie.T,ye=Pe.eb,Pe.A),ve=ie;for(Pe=Pe.fb+S.Ma*Pe.A;0<ve--;){var Le=le,Fe=fe,at=ee,ze=ye,rt=Pe;switch(W){case Cm:pd(Le,Fe,at,ze,rt);break;case Hi:dc(Le,Fe,at,ze,rt);break;case Hf:dc(Le,Fe,at,ze,rt),Yu(ze,rt,0,at,1,0);break;case Om:Ku(Le,Fe,at,ze,rt);break;case ho:qe(Le,Fe,at,ze,rt,1);break;case Pm:qe(Le,Fe,at,ze,rt,1),Yu(ze,rt,0,at,1,0);break;case $f:qe(Le,Fe,at,ze,rt,0);break;case xd:qe(Le,Fe,at,ze,rt,0),Yu(ze,rt,1,at,1,0);break;case gd:fc(Le,Fe,at,ze,rt);break;case Dm:fc(Le,Fe,at,ze,rt),fo(ze,rt,at,1,0);break;case Xc:_l(Le,Fe,at,ze,rt);break;default:t(0)}fe+=ge,Pe+=We}S.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=B.height)}}S.C=E,t(S.C<=S.i)}function pe(S){var E;if(0<S.ua)return 0;for(E=0;E<S.Wb;++E){var B=S.Ya[E].G,W=S.Ya[E].H;if(0<B[1][W[1]+0].g||0<B[2][W[2]+0].g||0<B[3][W[3]+0].g)return 0}return 1}function xe(S,E,B,W,ee,ie){if(S.Z!=0){var le=S.qd,fe=S.rd;for(t(pc[S.Z]!=null);E<B;++E)pc[S.Z](le,fe,W,ee,W,ee,ie),le=W,fe=ee,ee+=ie;S.qd=le,S.rd=fe}}function Se(S,E){var B=S.l.ma,W=B.Z==0||B.Z==1?S.l.j:S.C;if(W=S.C<W?W:S.C,t(E<=S.l.o),E>W){var ee=S.l.width,ie=B.ca,le=B.tb+ee*W,fe=S.V,ge=S.Ba+S.c*W,ye=S.gc;t(S.ab==1),t(ye[0].hc==3),kl(ye[0],W,E,fe,ge,ie,le),xe(B,W,E,ie,le,ee)}S.C=S.Ma=E}function Ue(S,E,B,W,ee,ie,le){var fe=S.$/W,ge=S.$%W,ye=S.m,Pe=S.s,We=B+S.$,ve=We;ee=B+W*ee;var Le=B+W*ie,Fe=280+Pe.ua,at=S.Pb?fe:16777216,ze=0<Pe.ua?Pe.Wa:null,rt=Pe.wc,lt=We<Le?te(Pe,ge,fe):null;t(S.C<ie),t(Le<=ee);var pt=!1;e:for(;;){for(;pt||We<Le;){var dt=0;if(fe>=at){var Wt=We-B;t((at=S).Pb),at.wd=at.m,at.xd=Wt,0<at.s.ua&&Qe(at.s.Wa,at.s.vb),at=fe+Qc}if(ge&rt||(lt=te(Pe,ge,fe)),t(lt!=null),lt.Qb&&(E[We]=lt.qb,pt=!0),!pt)if(he(ye),lt.jc){dt=ye,Wt=E;var Rt=We,Sr=lt.pd[q(dt)&Yc-1];t(lt.jc),256>Sr.g?(re(dt,dt.u+Sr.g),Wt[Rt]=Sr.value,dt=0):(re(dt,dt.u+Sr.g-256),t(256<=Sr.value),dt=Sr.value),dt==0&&(pt=!0)}else dt=Ma(lt.G[0],lt.H[0],ye);if(ye.h)break;if(pt||256>dt){if(!pt)if(lt.nd)E[We]=(lt.qb|dt<<8)>>>0;else{if(he(ye),pt=Ma(lt.G[1],lt.H[1],ye),he(ye),Wt=Ma(lt.G[2],lt.H[2],ye),Rt=Ma(lt.G[3],lt.H[3],ye),ye.h)break;E[We]=(Rt<<24|pt<<16|dt<<8|Wt)>>>0}if(pt=!1,++We,++ge>=W&&(ge=0,++fe,le!=null&&fe<=ie&&!(fe%16)&&le(S,fe),ze!=null))for(;ve<We;)dt=E[ve++],ze.X[(506832829*dt&4294967295)>>>ze.Mb]=dt}else if(280>dt){if(dt=bi(dt-256,ye),Wt=Ma(lt.G[4],lt.H[4],ye),he(ye),Wt=rs(W,Wt=bi(Wt,ye)),ye.h)break;if(We-B<Wt||ee-We<dt)break e;for(Rt=0;Rt<dt;++Rt)E[We+Rt]=E[We+Rt-Wt];for(We+=dt,ge+=dt;ge>=W;)ge-=W,++fe,le!=null&&fe<=ie&&!(fe%16)&&le(S,fe);if(t(We<=ee),ge&rt&&(lt=te(Pe,ge,fe)),ze!=null)for(;ve<We;)dt=E[ve++],ze.X[(506832829*dt&4294967295)>>>ze.Mb]=dt}else{if(!(dt<Fe))break e;for(pt=dt-280,t(ze!=null);ve<We;)dt=E[ve++],ze.X[(506832829*dt&4294967295)>>>ze.Mb]=dt;dt=We,t(!(pt>>>(Wt=ze).Xa)),E[dt]=Wt.X[pt],pt=!0}pt||t(ye.h==G(ye))}if(S.Pb&&ye.h&&We<ee)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Qe(S.s.vb,S.s.Wa);else{if(ye.h)break e;le!=null&&le(S,fe>ie?ie:fe),S.a=0,S.$=We-B}return 1}return S.a=3,0}function tt(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var E=S.Wa;E!=null&&(E.X=null),S.vb=null,t(S!=null)}function $e(){var S=new Qt;return S==null?null:(S.a=0,S.xb=Ug,bt("Predictor","VP8LPredictors"),bt("Predictor","VP8LPredictors_C"),bt("PredictorAdd","VP8LPredictorsAdd"),bt("PredictorAdd","VP8LPredictorsAdd_C"),An=qt,md=vt,pd=Dr,dc=Ft,fc=At,_l=ir,Ku=Tr,I.VP8LMapColor32b=wl,I.VP8LMapColor8b=Si,S)}function He(S,E,B,W,ee){var ie=1,le=[S],fe=[E],ge=W.m,ye=W.s,Pe=null,We=0;e:for(;;){if(B)for(;ie&&J(ge,1);){var ve=le,Le=fe,Fe=W,at=1,ze=Fe.m,rt=Fe.gc[Fe.ab],lt=J(ze,2);if(Fe.Oc&1<<lt)ie=0;else{switch(Fe.Oc|=1<<lt,rt.hc=lt,rt.Ea=ve[0],rt.nc=Le[0],rt.K=[null],++Fe.ab,t(4>=Fe.ab),lt){case 0:case 1:rt.b=J(ze,3)+2,at=He(Xe(rt.Ea,rt.b),Xe(rt.nc,rt.b),0,Fe,rt.K),rt.K=rt.K[0];break;case 3:var pt,dt=J(ze,8)+1,Wt=16<dt?0:4<dt?1:2<dt?2:3;if(ve[0]=Xe(rt.Ea,Wt),rt.b=Wt,pt=at=He(dt,1,0,Fe,rt.K)){var Rt,Sr=dt,Ut=rt,Kr=1<<(8>>Ut.b),Ka=i(Kr);if(Ka==null)pt=0;else{var Cr=Ut.K[0],It=Ut.w;for(Ka[0]=Ut.K[0][0],Rt=1;Rt<1*Sr;++Rt)Ka[Rt]=gt(Cr[It+Rt],Ka[Rt-1]);for(;Rt<4*Kr;++Rt)Ka[Rt]=0;Ut.K[0]=null,Ut.K[0]=Ka,pt=1}}at=pt;break;case 2:break;default:t(0)}ie=at}}if(le=le[0],fe=fe[0],ie&&J(ge,1)&&!(ie=1<=(We=J(ge,4))&&11>=We)){W.a=3;break e}var jt;if(jt=ie)t:{var rn,pr,Lr,ya=W,Qn=le,Ei=fe,Fa=We,Rn=B,Wi=ya.m,In=ya.s,Ur=[null],na=1,an=0,ca=go[Fa];r:for(;;){if(Rn&&J(Wi,1)){var Jn=J(Wi,3)+2,nn=Xe(Qn,Jn),ia=Xe(Ei,Jn),Cn=nn*ia;if(!He(nn,ia,0,ya,Ur))break r;for(Ur=Ur[0],In.xc=Jn,rn=0;rn<Cn;++rn){var ba=Ur[rn]>>8&65535;Ur[rn]=ba,ba>=na&&(na=ba+1)}}if(Wi.h)break r;for(pr=0;5>pr;++pr){var Fn=Qu[pr];!pr&&0<Fa&&(Fn+=1<<Fa),an<Fn&&(an=Fn)}var Bn=s(na*ca,H),Na=na,ra=s(Na,ne);if(ra==null)var Vi=null;else t(65536>=Na),Vi=ra;var gn=i(an);if(Vi==null||gn==null||Bn==null){ya.a=1;break r}var or=Bn;for(rn=Lr=0;rn<na;++rn){var dr=Vi[rn],sa=dr.G,ys=dr.H,bo=0,ls=1,Un=0;for(pr=0;5>pr;++pr){Fn=Qu[pr],sa[pr]=or,ys[pr]=Lr,!pr&&0<Fa&&(Fn+=1<<Fa);n:{var au,nu=Fn,Um=ya,Ba=gn,qg=or,$g=Lr,zm=0,gc=Um.m,n5=J(gc,1);if(n(Ba,0,0,nu),n5){var Hg=J(gc,1)+1,Wg=J(gc,1),qm=J(gc,Wg==0?1:8);Ba[qm]=1,Hg==2&&(Ba[qm=J(gc,8)]=1);var ci=1}else{var xn=i(19),Gf=J(gc,4)+4;if(19<Gf){Um.a=3;var iu=0;break n}for(au=0;au<Gf;++au)xn[Wf[au]]=J(gc,3);var kd=void 0,e0=void 0,jl=Um,$m=xn,_d=nu,Hm=Ba,Wm=0,xc=jl.m,Vg=8,Kg=s(128,H);a:for(;F(Kg,0,7,$m,19);){if(J(xc,1)){var Ov=2+2*J(xc,3);if((kd=2+J(xc,Ov))>_d)break a}else kd=_d;for(e0=0;e0<_d&&kd--;){he(xc);var Gg=Kg[0+(127&q(xc))];re(xc,xc.u+Gg.g);var su=Gg.value;if(16>su)Hm[e0++]=su,su!=0&&(Vg=su);else{var Pv=su==16,Dv=su-16,Lv=vd[Dv],Yg=J(xc,mo[Dv])+Lv;if(e0+Yg>_d)break a;for(var Mv=Pv?Vg:0;0<Yg--;)Hm[e0++]=Mv}}Wm=1;break a}Wm||(jl.a=3),ci=Wm}(ci=ci&&!gc.h)&&(zm=F(qg,$g,8,Ba,nu)),ci&&zm!=0?iu=zm:(Um.a=3,iu=0)}if(iu==0)break r;if(ls&&Lm[pr]==1&&(ls=or[Lr].g==0),bo+=or[Lr].g,Lr+=iu,3>=pr){var t0,Vm=gn[0];for(t0=1;t0<Fn;++t0)gn[t0]>Vm&&(Vm=gn[t0]);Un+=Vm}}if(dr.nd=ls,dr.Qb=0,ls&&(dr.qb=(sa[3][ys[3]+0].value<<24|sa[1][ys[1]+0].value<<16|sa[2][ys[2]+0].value)>>>0,bo==0&&256>sa[0][ys[0]+0].value&&(dr.Qb=1,dr.qb+=sa[0][ys[0]+0].value<<8)),dr.jc=!dr.Qb&&6>Un,dr.jc){var Yf,Al=dr;for(Yf=0;Yf<Yc;++Yf){var vc=Yf,yc=Al.pd[vc],Km=Al.G[0][Al.H[0]+vc];256<=Km.value?(yc.g=Km.g+256,yc.value=Km.value):(yc.g=0,yc.value=0,vc>>=hn(Km,8,yc),vc>>=hn(Al.G[1][Al.H[1]+vc],16,yc),vc>>=hn(Al.G[2][Al.H[2]+vc],0,yc),hn(Al.G[3][Al.H[3]+vc],24,yc))}}}In.vc=Ur,In.Wb=na,In.Ya=Vi,In.yc=Bn,jt=1;break t}jt=0}if(!(ie=jt)){W.a=3;break e}if(0<We){if(ye.ua=1<<We,!de(ye.Wa,We)){W.a=1,ie=0;break e}}else ye.ua=0;var Gm=W,r0=le,Rv=fe,Sd=Gm.s,Nd=Sd.xc;if(Gm.c=r0,Gm.i=Rv,Sd.md=Xe(r0,Nd),Sd.wc=Nd==0?-1:(1<<Nd)-1,B){W.xb=Jc;break e}if((Pe=i(le*fe))==null){W.a=1,ie=0;break e}ie=(ie=Ue(W,Pe,0,le,fe,fe,null))&&!ge.h;break e}return ie?(ee!=null?ee[0]=Pe:(t(Pe==null),t(B)),W.$=0,B||tt(ye)):tt(ye),ie}function Ve(S,E){var B=S.c*S.i,W=B+E+16*E;return t(S.c<=E),S.V=i(W),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+B+E,1)}function mt(S,E){var B=S.C,W=E-B,ee=S.V,ie=S.Ba+S.c*B;for(t(E<=S.l.o);0<W;){var le=16<W?16:W,fe=S.l.ma,ge=S.l.width,ye=ge*le,Pe=fe.ca,We=fe.tb+ge*B,ve=S.Ta,Le=S.Ua;ke(S,le,ee,ie),Vs(ve,Le,Pe,We,ye),xe(fe,B,B+le,Pe,We,ge),W-=le,ee+=le*S.c,B+=le}t(B==E),S.C=S.Ma=E}function yt(){this.ub=this.yd=this.td=this.Rb=0}function Et(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function _t(){this.Yb=(function(){var S=[];return(function E(B,W,ee){for(var ie=ee[W],le=0;le<ie&&(B.push(ee.length>W+1?[]:0),!(ee.length<W+1));le++)E(B[le],W+1,ee)})(S,0,[3,11]),S})()}function Bt(){this.jb=i(3),this.Wc=o([4,8],_t),this.Xc=o([4,17],_t)}function va(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Wr(){this.ld=this.La=this.dd=this.tc=0}function ka(){this.Na=this.la=0}function as(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ro(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Io(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wr),this.Y=0,this.ya=Array(new Ro),this.aa=0,this.l=new Yn}function Bs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function $c(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new yt,this.Kc=new Et,this.ed=new va,this.Qa=new xt,this.Ic=this.$c=this.Aa=0,this.D=new Io,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,as),this.Pa=new Bt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bs),this.Hd=0,this.rb=Array(new ka),this.sb=0,this.wa=Array(new Wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ro),this.L=this.aa=0,this.gd=o([4,2],Wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function id(){var S=new $c;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Ks||(Ks=Zl)),S}function _a(S,E,B){return S.a==0&&(S.a=E,S.sc=B,S.cb=0),0}function ns(S,E,B){return 3<=B&&S[E+0]==157&&S[E+1]==1&&S[E+2]==42}function jf(S,E){if(S==null)return 0;if(S.a=0,S.sc="OK",E==null)return _a(S,2,"null VP8Io passed to VP8GetHeaders()");var B=E.data,W=E.w,ee=E.ha;if(4>ee)return _a(S,7,"Truncated header.");var ie=B[W+0]|B[W+1]<<8|B[W+2]<<16,le=S.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return _a(S,3,"Incorrect keyframe parameters.");if(!le.yd)return _a(S,4,"Frame not displayable.");W+=3,ee-=3;var fe=S.Kc;if(le.Rb){if(7>ee)return _a(S,7,"cannot parse picture header");if(!ns(B,W,ee))return _a(S,3,"Bad code word");fe.c=16383&(B[W+4]<<8|B[W+3]),fe.Td=B[W+4]>>6,fe.i=16383&(B[W+6]<<8|B[W+5]),fe.Ud=B[W+6]>>6,W+=7,ee-=7,S.za=fe.c+15>>4,S.Ub=fe.i+15>>4,E.width=fe.c,E.height=fe.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,n((ie=S.Pa).jb,0,255,ie.jb.length),t((ie=S.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,n(ie.Zb,0,0,ie.Zb.length),n(ie.Lb,0,0,ie.Lb)}if(le.ub>ee)return _a(S,7,"bad partition length");X(ie=S.m,B,W,le.ub),W+=le.ub,ee-=le.ub,le.Rb&&(fe.Ld=oe(ie),fe.Kd=oe(ie)),fe=S.Qa;var ge,ye=S.Pa;if(t(ie!=null),t(fe!=null),fe.Cb=oe(ie),fe.Cb){if(fe.Bb=oe(ie),oe(ie)){for(fe.Fb=oe(ie),ge=0;4>ge;++ge)fe.Zb[ge]=oe(ie)?ue(ie,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=oe(ie)?ue(ie,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)ye.jb[ge]=oe(ie)?ae(ie,8):255}else fe.Bb=0;if(ie.Ka)return _a(S,3,"cannot parse segment header");if((fe=S.ed).zd=oe(ie),fe.Tb=ae(ie,6),fe.wb=ae(ie,3),fe.Pc=oe(ie),fe.Pc&&oe(ie)){for(ye=0;4>ye;++ye)oe(ie)&&(fe.vd[ye]=ue(ie,6));for(ye=0;4>ye;++ye)oe(ie)&&(fe.od[ye]=ue(ie,6))}if(S.L=fe.Tb==0?0:fe.zd?1:2,ie.Ka)return _a(S,3,"cannot parse filter header");var Pe=ee;if(ee=ge=W,W=ge+Pe,fe=Pe,S.Xb=(1<<ae(S.m,2))-1,Pe<3*(ye=S.Xb))B=7;else{for(ge+=3*ye,fe-=3*ye,Pe=0;Pe<ye;++Pe){var We=B[ee+0]|B[ee+1]<<8|B[ee+2]<<16;We>fe&&(We=fe),X(S.Jc[+Pe],B,ge,We),ge+=We,fe-=We,ee+=3}X(S.Jc[+ye],B,ge,fe),B=ge<W?0:5}if(B!=0)return _a(S,B,"cannot parse partitions");for(B=ae(ge=S.m,7),ee=oe(ge)?ue(ge,4):0,W=oe(ge)?ue(ge,4):0,fe=oe(ge)?ue(ge,4):0,ye=oe(ge)?ue(ge,4):0,ge=oe(ge)?ue(ge,4):0,Pe=S.Qa,We=0;4>We;++We){if(Pe.Cb){var ve=Pe.Zb[We];Pe.Fb||(ve+=B)}else{if(0<We){S.pb[We]=S.pb[0];continue}ve=B}var Le=S.pb[We];Le.Sc[0]=xo[mn(ve+ee,127)],Le.Sc[1]=vo[mn(ve+0,127)],Le.Eb[0]=2*xo[mn(ve+W,127)],Le.Eb[1]=101581*vo[mn(ve+fe,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=xo[mn(ve+ye,117)],Le.Qc[1]=vo[mn(ve+ge,127)],Le.lc=ve+ge}if(!le.Rb)return _a(S,4,"Not a key frame.");for(oe(ie),le=S.Pa,B=0;4>B;++B){for(ee=0;8>ee;++ee)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)ye=Ne(ie,Va[B][ee][W][fe])?ae(ie,8):Ev[B][ee][W][fe],le.Wc[B][ee].Yb[W][fe]=ye;for(ee=0;17>ee;++ee)le.Xc[B][ee]=le.Wc[B][Yr[ee]]}return S.kc=oe(ie),S.kc&&(S.Bd=ae(ie,8)),S.cb=1}function Zl(S,E,B,W,ee,ie,le){var fe=E[ee].Yb[B];for(B=0;16>ee;++ee){if(!Ne(S,fe[B+0]))return ee;for(;!Ne(S,fe[B+1]);)if(fe=E[++ee].Yb[0],B=0,ee==16)return 16;var ge=E[ee+1].Yb;if(Ne(S,fe[B+2])){var ye=S,Pe=0;if(Ne(ye,(ve=fe)[(We=B)+3]))if(Ne(ye,ve[We+6])){for(fe=0,We=2*(Pe=Ne(ye,ve[We+8]))+(ve=Ne(ye,ve[We+9+Pe])),Pe=0,ve=Tv[We];ve[fe];++fe)Pe+=Pe+Ne(ye,ve[fe]);Pe+=3+(8<<We)}else Ne(ye,ve[We+7])?(Pe=7+2*Ne(ye,165),Pe+=Ne(ye,145)):Pe=5+Ne(ye,159);else Pe=Ne(ye,ve[We+4])?3+Ne(ye,ve[We+5]):2;fe=ge[2]}else Pe=1,fe=ge[1];ge=le+Bg[ee],0>(ye=S).b&&je(ye);var We,ve=ye.b,Le=(We=ye.Ca>>1)-(ye.I>>ve)>>31;--ye.b,ye.Ca+=Le,ye.Ca|=1,ye.I-=(We+1&Le)<<ve,ie[ge]=((Pe^Le)-Le)*W[(0<ee)+0]}return 16}function ec(S){var E=S.rb[S.sb-1];E.la=0,E.Na=0,n(S.zc,0,0,S.zc.length),S.ja=0}function lo(S,E,B,W,ee){ee=S[E+B+32*W]+(ee>>3),S[E+B+32*W]=-256&ee?0>ee?0:255:ee}function hl(S,E,B,W,ee,ie){lo(S,E,0,B,W+ee),lo(S,E,1,B,W+ie),lo(S,E,2,B,W-ie),lo(S,E,3,B,W-ee)}function Nn(S){return(20091*S>>16)+S}function zi(S,E,B,W){var ee,ie=0,le=i(16);for(ee=0;4>ee;++ee){var fe=S[E+0]+S[E+8],ge=S[E+0]-S[E+8],ye=(35468*S[E+4]>>16)-Nn(S[E+12]),Pe=Nn(S[E+4])+(35468*S[E+12]>>16);le[ie+0]=fe+Pe,le[ie+1]=ge+ye,le[ie+2]=ge-ye,le[ie+3]=fe-Pe,ie+=4,E++}for(ee=ie=0;4>ee;++ee)fe=(S=le[ie+0]+4)+le[ie+8],ge=S-le[ie+8],ye=(35468*le[ie+4]>>16)-Nn(le[ie+12]),lo(B,W,0,0,fe+(Pe=Nn(le[ie+4])+(35468*le[ie+12]>>16))),lo(B,W,1,0,ge+ye),lo(B,W,2,0,ge-ye),lo(B,W,3,0,fe-Pe),ie++,W+=32}function Af(S,E,B,W){var ee=S[E+0]+4,ie=35468*S[E+4]>>16,le=Nn(S[E+4]),fe=35468*S[E+1]>>16;hl(B,W,0,ee+le,S=Nn(S[E+1]),fe),hl(B,W,1,ee+ie,S,fe),hl(B,W,2,ee-ie,S,fe),hl(B,W,3,ee-le,S,fe)}function vm(S,E,B,W,ee){zi(S,E,B,W),ee&&zi(S,E+16,B,W+4)}function Tf(S,E,B,W){hc(S,E+0,B,W,1),hc(S,E+32,B,W+128,1)}function is(S,E,B,W){var ee;for(S=S[E+0]+4,ee=0;4>ee;++ee)for(E=0;4>E;++E)lo(B,W,E,ee,S)}function Ef(S,E,B,W){S[E+0]&&la(S,E+0,B,W),S[E+16]&&la(S,E+16,B,W+4),S[E+32]&&la(S,E+32,B,W+128),S[E+48]&&la(S,E+48,B,W+128+4)}function Cf(S,E,B,W){var ee,ie=i(16);for(ee=0;4>ee;++ee){var le=S[E+0+ee]+S[E+12+ee],fe=S[E+4+ee]+S[E+8+ee],ge=S[E+4+ee]-S[E+8+ee],ye=S[E+0+ee]-S[E+12+ee];ie[0+ee]=le+fe,ie[8+ee]=le-fe,ie[4+ee]=ye+ge,ie[12+ee]=ye-ge}for(ee=0;4>ee;++ee)le=(S=ie[0+4*ee]+3)+ie[3+4*ee],fe=ie[1+4*ee]+ie[2+4*ee],ge=ie[1+4*ee]-ie[2+4*ee],ye=S-ie[3+4*ee],B[W+0]=le+fe>>3,B[W+16]=ye+ge>>3,B[W+32]=le-fe>>3,B[W+48]=ye-ge>>3,W+=64}function Us(S,E,B){var W,ee=E-32,ie=$i,le=255-S[ee-1];for(W=0;W<B;++W){var fe,ge=ie,ye=le+S[E-1];for(fe=0;fe<B;++fe)S[E+fe]=ge[ye+S[ee+fe]];E+=32}}function Of(S,E){Us(S,E,4)}function ym(S,E){Us(S,E,8)}function bm(S,E){Us(S,E,16)}function Pf(S,E){var B;for(B=0;16>B;++B)a(S,E+32*B,S,E-32,16)}function Df(S,E){var B;for(B=16;0<B;--B)n(S,E,S[E-1],16),E+=32}function Fu(S,E,B){var W;for(W=0;16>W;++W)n(E,B+32*W,S,16)}function Fo(S,E){var B,W=16;for(B=0;16>B;++B)W+=S[E-1+32*B]+S[E+B-32];Fu(W>>5,S,E)}function Bo(S,E){var B,W=8;for(B=0;16>B;++B)W+=S[E-1+32*B];Fu(W>>4,S,E)}function tc(S,E){var B,W=8;for(B=0;16>B;++B)W+=S[E+B-32];Fu(W>>4,S,E)}function Bu(S,E){Fu(128,S,E)}function mr(S,E,B){return S+2*E+B+2>>2}function Hc(S,E){var B,W=E-32;for(W=new Uint8Array([mr(S[W-1],S[W+0],S[W+1]),mr(S[W+0],S[W+1],S[W+2]),mr(S[W+1],S[W+2],S[W+3]),mr(S[W+2],S[W+3],S[W+4])]),B=0;4>B;++B)a(S,E+32*B,W,0,W.length)}function wm(S,E){var B=S[E-1],W=S[E-1+32],ee=S[E-1+64],ie=S[E-1+96];Me(S,E+0,16843009*mr(S[E-1-32],B,W)),Me(S,E+32,16843009*mr(B,W,ee)),Me(S,E+64,16843009*mr(W,ee,ie)),Me(S,E+96,16843009*mr(ee,ie,ie))}function Lf(S,E){var B,W=4;for(B=0;4>B;++B)W+=S[E+B-32]+S[E-1+32*B];for(W>>=3,B=0;4>B;++B)n(S,E+32*B,W,4)}function km(S,E){var B=S[E-1+0],W=S[E-1+32],ee=S[E-1+64],ie=S[E-1-32],le=S[E+0-32],fe=S[E+1-32],ge=S[E+2-32],ye=S[E+3-32];S[E+0+96]=mr(W,ee,S[E-1+96]),S[E+1+96]=S[E+0+64]=mr(B,W,ee),S[E+2+96]=S[E+1+64]=S[E+0+32]=mr(ie,B,W),S[E+3+96]=S[E+2+64]=S[E+1+32]=S[E+0+0]=mr(le,ie,B),S[E+3+64]=S[E+2+32]=S[E+1+0]=mr(fe,le,ie),S[E+3+32]=S[E+2+0]=mr(ge,fe,le),S[E+3+0]=mr(ye,ge,fe)}function zs(S,E){var B=S[E+1-32],W=S[E+2-32],ee=S[E+3-32],ie=S[E+4-32],le=S[E+5-32],fe=S[E+6-32],ge=S[E+7-32];S[E+0+0]=mr(S[E+0-32],B,W),S[E+1+0]=S[E+0+32]=mr(B,W,ee),S[E+2+0]=S[E+1+32]=S[E+0+64]=mr(W,ee,ie),S[E+3+0]=S[E+2+32]=S[E+1+64]=S[E+0+96]=mr(ee,ie,le),S[E+3+32]=S[E+2+64]=S[E+1+96]=mr(ie,le,fe),S[E+3+64]=S[E+2+96]=mr(le,fe,ge),S[E+3+96]=mr(fe,ge,ge)}function wi(S,E){var B=S[E-1+0],W=S[E-1+32],ee=S[E-1+64],ie=S[E-1-32],le=S[E+0-32],fe=S[E+1-32],ge=S[E+2-32],ye=S[E+3-32];S[E+0+0]=S[E+1+64]=ie+le+1>>1,S[E+1+0]=S[E+2+64]=le+fe+1>>1,S[E+2+0]=S[E+3+64]=fe+ge+1>>1,S[E+3+0]=ge+ye+1>>1,S[E+0+96]=mr(ee,W,B),S[E+0+64]=mr(W,B,ie),S[E+0+32]=S[E+1+96]=mr(B,ie,le),S[E+1+32]=S[E+2+96]=mr(ie,le,fe),S[E+2+32]=S[E+3+96]=mr(le,fe,ge),S[E+3+32]=mr(fe,ge,ye)}function Mf(S,E){var B=S[E+0-32],W=S[E+1-32],ee=S[E+2-32],ie=S[E+3-32],le=S[E+4-32],fe=S[E+5-32],ge=S[E+6-32],ye=S[E+7-32];S[E+0+0]=B+W+1>>1,S[E+1+0]=S[E+0+64]=W+ee+1>>1,S[E+2+0]=S[E+1+64]=ee+ie+1>>1,S[E+3+0]=S[E+2+64]=ie+le+1>>1,S[E+0+32]=mr(B,W,ee),S[E+1+32]=S[E+0+96]=mr(W,ee,ie),S[E+2+32]=S[E+1+96]=mr(ee,ie,le),S[E+3+32]=S[E+2+96]=mr(ie,le,fe),S[E+3+64]=mr(le,fe,ge),S[E+3+96]=mr(fe,ge,ye)}function Uu(S,E){var B=S[E-1+0],W=S[E-1+32],ee=S[E-1+64],ie=S[E-1+96];S[E+0+0]=B+W+1>>1,S[E+2+0]=S[E+0+32]=W+ee+1>>1,S[E+2+32]=S[E+0+64]=ee+ie+1>>1,S[E+1+0]=mr(B,W,ee),S[E+3+0]=S[E+1+32]=mr(W,ee,ie),S[E+3+32]=S[E+1+64]=mr(ee,ie,ie),S[E+3+64]=S[E+2+64]=S[E+0+96]=S[E+1+96]=S[E+2+96]=S[E+3+96]=ie}function qs(S,E){var B=S[E-1+0],W=S[E-1+32],ee=S[E-1+64],ie=S[E-1+96],le=S[E-1-32],fe=S[E+0-32],ge=S[E+1-32],ye=S[E+2-32];S[E+0+0]=S[E+2+32]=B+le+1>>1,S[E+0+32]=S[E+2+64]=W+B+1>>1,S[E+0+64]=S[E+2+96]=ee+W+1>>1,S[E+0+96]=ie+ee+1>>1,S[E+3+0]=mr(fe,ge,ye),S[E+2+0]=mr(le,fe,ge),S[E+1+0]=S[E+3+32]=mr(B,le,fe),S[E+1+32]=S[E+3+64]=mr(W,B,le),S[E+1+64]=S[E+3+96]=mr(ee,W,B),S[E+1+96]=mr(ie,ee,W)}function zu(S,E){var B;for(B=0;8>B;++B)a(S,E+32*B,S,E-32,8)}function ml(S,E){var B;for(B=0;8>B;++B)n(S,E,S[E-1],8),E+=32}function qu(S,E,B){var W;for(W=0;8>W;++W)n(E,B+32*W,S,8)}function rc(S,E){var B,W=8;for(B=0;8>B;++B)W+=S[E+B-32]+S[E-1+32*B];qu(W>>4,S,E)}function sd(S,E){var B,W=4;for(B=0;8>B;++B)W+=S[E+B-32];qu(W>>3,S,E)}function od(S,E){var B,W=4;for(B=0;8>B;++B)W+=S[E-1+32*B];qu(W>>3,S,E)}function li(S,E){qu(128,S,E)}function $s(S,E,B){var W=S[E-B],ee=S[E+0],ie=3*(ee-W)+mc[1020+S[E-2*B]-S[E+B]],le=qf[112+(ie+4>>3)];S[E-B]=$i[255+W+qf[112+(ie+3>>3)]],S[E+0]=$i[255+ee-le]}function pl(S,E,B,W){var ee=S[E+0],ie=S[E+B];return Ni[255+S[E-2*B]-S[E-B]]>W||Ni[255+ie-ee]>W}function ac(S,E,B,W){return 4*Ni[255+S[E-B]-S[E+0]]+Ni[255+S[E-2*B]-S[E+B]]<=W}function ld(S,E,B,W,ee){var ie=S[E-3*B],le=S[E-2*B],fe=S[E-B],ge=S[E+0],ye=S[E+B],Pe=S[E+2*B],We=S[E+3*B];return 4*Ni[255+fe-ge]+Ni[255+le-ye]>W?0:Ni[255+S[E-4*B]-ie]<=ee&&Ni[255+ie-le]<=ee&&Ni[255+le-fe]<=ee&&Ni[255+We-Pe]<=ee&&Ni[255+Pe-ye]<=ee&&Ni[255+ye-ge]<=ee}function $u(S,E,B,W){var ee=2*W+1;for(W=0;16>W;++W)ac(S,E+W,B,ee)&&$s(S,E+W,B)}function nc(S,E,B,W){var ee=2*W+1;for(W=0;16>W;++W)ac(S,E+W*B,1,ee)&&$s(S,E+W*B,1)}function Wc(S,E,B,W){var ee;for(ee=3;0<ee;--ee)$u(S,E+=4*B,B,W)}function Hu(S,E,B,W){var ee;for(ee=3;0<ee;--ee)nc(S,E+=4,B,W)}function gl(S,E,B,W,ee,ie,le,fe){for(ie=2*ie+1;0<ee--;){if(ld(S,E,B,ie,le))if(pl(S,E,B,fe))$s(S,E,B);else{var ge=S,ye=E,Pe=B,We=ge[ye-2*Pe],ve=ge[ye-Pe],Le=ge[ye+0],Fe=ge[ye+Pe],at=ge[ye+2*Pe],ze=27*(lt=mc[1020+3*(Le-ve)+mc[1020+We-Fe]])+63>>7,rt=18*lt+63>>7,lt=9*lt+63>>7;ge[ye-3*Pe]=$i[255+ge[ye-3*Pe]+lt],ge[ye-2*Pe]=$i[255+We+rt],ge[ye-Pe]=$i[255+ve+ze],ge[ye+0]=$i[255+Le-ze],ge[ye+Pe]=$i[255+Fe-rt],ge[ye+2*Pe]=$i[255+at-lt]}E+=W}}function ic(S,E,B,W,ee,ie,le,fe){for(ie=2*ie+1;0<ee--;){if(ld(S,E,B,ie,le))if(pl(S,E,B,fe))$s(S,E,B);else{var ge=S,ye=E,Pe=B,We=ge[ye-Pe],ve=ge[ye+0],Le=ge[ye+Pe],Fe=qf[112+(4+(at=3*(ve-We))>>3)],at=qf[112+(at+3>>3)],ze=Fe+1>>1;ge[ye-2*Pe]=$i[255+ge[ye-2*Pe]+ze],ge[ye-Pe]=$i[255+We+at],ge[ye+0]=$i[255+ve-Fe],ge[ye+Pe]=$i[255+Le-ze]}E+=W}}function _m(S,E,B,W,ee,ie){gl(S,E,B,1,16,W,ee,ie)}function Sm(S,E,B,W,ee,ie){gl(S,E,1,B,16,W,ee,ie)}function sc(S,E,B,W,ee,ie){var le;for(le=3;0<le;--le)ic(S,E+=4*B,B,1,16,W,ee,ie)}function Nm(S,E,B,W,ee,ie){var le;for(le=3;0<le;--le)ic(S,E+=4,1,B,16,W,ee,ie)}function R(S,E,B,W,ee,ie,le,fe){gl(S,E,ee,1,8,ie,le,fe),gl(B,W,ee,1,8,ie,le,fe)}function Z(S,E,B,W,ee,ie,le,fe){gl(S,E,1,ee,8,ie,le,fe),gl(B,W,1,ee,8,ie,le,fe)}function _e(S,E,B,W,ee,ie,le,fe){ic(S,E+4*ee,ee,1,8,ie,le,fe),ic(B,W+4*ee,ee,1,8,ie,le,fe)}function Oe(S,E,B,W,ee,ie,le,fe){ic(S,E+4,1,ee,8,ie,le,fe),ic(B,W+4,1,ee,8,ie,le,fe)}function Re(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $t(){this.ua=0,this.Wa=new we,this.vb=new we,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new H}function Qt(){this.xb=this.a=0,this.l=new Yn,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $t,this.ab=0,this.gc=s(4,ft),this.Oc=0}function vr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jr(S,E,B,W,ee,ie,le){for(S=S==null?0:S[E+0],E=0;E<le;++E)ee[ie+E]=S+B[W+E]&255,S=ee[ie+E]}function oa(S,E,B,W,ee,ie,le){var fe;if(S==null)jr(null,null,B,W,ee,ie,le);else for(fe=0;fe<le;++fe)ee[ie+fe]=S[E+fe]+B[W+fe]&255}function tn(S,E,B,W,ee,ie,le){if(S==null)jr(null,null,B,W,ee,ie,le);else{var fe,ge=S[E+0],ye=ge,Pe=ge;for(fe=0;fe<le;++fe)ye=Pe+(ge=S[E+fe])-ye,Pe=B[W+fe]+(-256&ye?0>ye?0:255:ye)&255,ye=ge,ee[ie+fe]=Pe}}function jn(S,E,B,W){var ee=E.width,ie=E.o;if(t(S!=null&&E!=null),0>B||0>=W||B+W>ie)return null;if(!S.Cc){if(S.ga==null){var le;if(S.ga=new vr,(le=S.ga==null)||(le=E.width*E.o,t(S.Gb.length==0),S.Gb=i(le),S.Uc=0,S.Gb==null?le=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,le=1),le=!le),!le){le=S.ga;var fe=S.Fa,ge=S.P,ye=S.qc,Pe=S.mb,We=S.nb,ve=ge+1,Le=ye-1,Fe=le.l;if(t(fe!=null&&Pe!=null&&E!=null),pc[0]=null,pc[1]=jr,pc[2]=oa,pc[3]=tn,le.ca=Pe,le.tb=We,le.c=E.width,le.i=E.height,t(0<le.c&&0<le.i),1>=ye)E=0;else if(le.$a=3&fe[ge+0],le.Z=fe[ge+0]>>2&3,le.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ge)E=0;else if(Fe.put=nr,Fe.ac=oi,Fe.bc=Mo,Fe.ma=le,Fe.width=E.width,Fe.height=E.height,Fe.Da=E.Da,Fe.v=E.v,Fe.va=E.va,Fe.j=E.j,Fe.o=E.o,le.$a)e:{t(le.$a==1),E=$e();t:for(;;){if(E==null){E=0;break e}if(t(le!=null),le.mc=E,E.c=le.c,E.i=le.i,E.l=le.l,E.l.ma=le,E.l.width=le.c,E.l.height=le.i,E.a=0,se(E.m,fe,ve,Le),!He(le.c,le.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&pe(E.s)?(le.ic=1,fe=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(fe),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(le.ic=0,E=Ve(E,le.c)),!E))break t;E=1;break e}le.mc=null,E=0}else E=Le>=le.c*le.i;le=!E}if(le)return null;S.ga.Lc!=1?S.Ga=0:W=ie-B}t(S.ga!=null),t(B+W<=ie);e:{if(E=(fe=S.ga).c,ie=fe.l.o,fe.$a==0){if(ve=S.rc,Le=S.Vc,Fe=S.Fa,ge=S.P+1+B*E,ye=S.mb,Pe=S.nb+B*E,t(ge<=S.P+S.qc),fe.Z!=0)for(t(pc[fe.Z]!=null),le=0;le<W;++le)pc[fe.Z](ve,Le,Fe,ge,ye,Pe,E),ve=ye,Le=Pe,Pe+=E,ge+=E;else for(le=0;le<W;++le)a(ye,Pe,Fe,ge,E),ve=ye,Le=Pe,Pe+=E,ge+=E;S.rc=ve,S.Vc=Le}else{if(t(fe.mc!=null),E=B+W,t((le=fe.mc)!=null),t(E<=le.i),le.C>=E)E=1;else if(fe.ic||co(),fe.ic){fe=le.V,ve=le.Ba,Le=le.c;var at=le.i,ze=(Fe=1,ge=le.$/Le,ye=le.$%Le,Pe=le.m,We=le.s,le.$),rt=Le*at,lt=Le*E,pt=We.wc,dt=ze<lt?te(We,ye,ge):null;t(ze<=rt),t(E<=at),t(pe(We));t:for(;;){for(;!Pe.h&&ze<lt;){if(ye&pt||(dt=te(We,ye,ge)),t(dt!=null),he(Pe),256>(at=Ma(dt.G[0],dt.H[0],Pe)))fe[ve+ze]=at,++ze,++ye>=Le&&(ye=0,++ge<=E&&!(ge%16)&&Se(le,ge));else{if(!(280>at)){Fe=0;break t}at=bi(at-256,Pe);var Wt,Rt=Ma(dt.G[4],dt.H[4],Pe);if(he(Pe),!(ze>=(Rt=rs(Le,Rt=bi(Rt,Pe)))&&rt-ze>=at)){Fe=0;break t}for(Wt=0;Wt<at;++Wt)fe[ve+ze+Wt]=fe[ve+ze+Wt-Rt];for(ze+=at,ye+=at;ye>=Le;)ye-=Le,++ge<=E&&!(ge%16)&&Se(le,ge);ze<lt&&ye&pt&&(dt=te(We,ye,ge))}t(Pe.h==G(Pe))}Se(le,ge>E?E:ge);break t}!Fe||Pe.h&&ze<rt?(Fe=0,le.a=Pe.h?5:3):le.$=ze,E=Fe}else E=Ue(le,le.V,le.Ba,le.c,le.i,E,mt);if(!E){W=0;break e}}B+W>=ie&&(S.Cc=1),W=1}if(!W)return null;if(S.Cc&&((W=S.ga)!=null&&(W.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+B*ee}function Ra(S,E,B,W,ee,ie){for(;0<ee--;){var le,fe=S,ge=E+(B?1:0),ye=S,Pe=E+(B?0:3);for(le=0;le<W;++le){var We=ye[Pe+4*le];We!=255&&(We*=32897,fe[ge+4*le+0]=fe[ge+4*le+0]*We>>23,fe[ge+4*le+1]=fe[ge+4*le+1]*We>>23,fe[ge+4*le+2]=fe[ge+4*le+2]*We>>23)}E+=ie}}function Xn(S,E,B,W,ee){for(;0<W--;){var ie;for(ie=0;ie<B;++ie){var le=S[E+2*ie+0],fe=15&(ye=S[E+2*ie+1]),ge=4369*fe,ye=(240&ye|ye>>4)*ge>>16;S[E+2*ie+0]=(240&le|le>>4)*ge>>16&240|(15&le|le<<4)*ge>>16>>4&15,S[E+2*ie+1]=240&ye|fe}E+=ee}}function Mn(S,E,B,W,ee,ie,le,fe){var ge,ye,Pe=255;for(ye=0;ye<ee;++ye){for(ge=0;ge<W;++ge){var We=S[E+ge];ie[le+4*ge]=We,Pe&=We}E+=B,le+=fe}return Pe!=255}function ki(S,E,B,W,ee){var ie;for(ie=0;ie<ee;++ie)B[W+ie]=S[E+ie]>>8}function co(){Yu=Ra,fo=Xn,Bf=Mn,Vs=ki}function xs(S,E,B){I[S]=function(W,ee,ie,le,fe,ge,ye,Pe,We,ve,Le,Fe,at,ze,rt,lt,pt){var dt,Wt=pt-1>>1,Rt=fe[ge+0]|ye[Pe+0]<<16,Sr=We[ve+0]|Le[Fe+0]<<16;t(W!=null);var Ut=3*Rt+Sr+131074>>2;for(E(W[ee+0],255&Ut,Ut>>16,at,ze),ie!=null&&(Ut=3*Sr+Rt+131074>>2,E(ie[le+0],255&Ut,Ut>>16,rt,lt)),dt=1;dt<=Wt;++dt){var Kr=fe[ge+dt]|ye[Pe+dt]<<16,Ka=We[ve+dt]|Le[Fe+dt]<<16,Cr=Rt+Kr+Sr+Ka+524296,It=Cr+2*(Kr+Sr)>>3;Ut=It+Rt>>1,Rt=(Cr=Cr+2*(Rt+Ka)>>3)+Kr>>1,E(W[ee+2*dt-1],255&Ut,Ut>>16,at,ze+(2*dt-1)*B),E(W[ee+2*dt-0],255&Rt,Rt>>16,at,ze+(2*dt-0)*B),ie!=null&&(Ut=Cr+Sr>>1,Rt=It+Ka>>1,E(ie[le+2*dt-1],255&Ut,Ut>>16,rt,lt+(2*dt-1)*B),E(ie[le+2*dt+0],255&Rt,Rt>>16,rt,lt+(2*dt+0)*B)),Rt=Kr,Sr=Ka}1&pt||(Ut=3*Rt+Sr+131074>>2,E(W[ee+pt-1],255&Ut,Ut>>16,at,ze+(pt-1)*B),ie!=null&&(Ut=3*Sr+Rt+131074>>2,E(ie[le+pt-1],255&Ut,Ut>>16,rt,lt+(pt-1)*B)))}}function jm(){Ai[Cm]=Ju,Ai[Hi]=yd,Ai[Om]=zg,Ai[ho]=Rm,Ai[$f]=Zc,Ai[gd]=Nl,Ai[Xc]=eu,Ai[Hf]=yd,Ai[Pm]=Rm,Ai[xd]=Zc,Ai[Dm]=Nl}function cd(S){return S&-16384?0>S?0:255:S>>Im}function Wu(S,E){return cd((19077*S>>8)+(26149*E>>8)-14234)}function xl(S,E,B){return cd((19077*S>>8)-(6419*E>>8)-(13320*B>>8)+8708)}function Uo(S,E){return cd((19077*S>>8)+(33050*E>>8)-17685)}function Vu(S,E,B,W,ee){W[ee+0]=Wu(S,B),W[ee+1]=xl(S,E,B),W[ee+2]=Uo(S,E)}function Vc(S,E,B,W,ee){W[ee+0]=Uo(S,E),W[ee+1]=xl(S,E,B),W[ee+2]=Wu(S,B)}function _i(S,E,B,W,ee){var ie=xl(S,E,B);E=ie<<3&224|Uo(S,E)>>3,W[ee+0]=248&Wu(S,B)|ie>>5,W[ee+1]=E}function Kc(S,E,B,W,ee){var ie=240&Uo(S,E)|15;W[ee+0]=240&Wu(S,B)|xl(S,E,B)>>4,W[ee+1]=ie}function Gc(S,E,B,W,ee){W[ee+0]=255,Vu(S,E,B,W,ee+1)}function ud(S,E,B,W,ee){Vc(S,E,B,W,ee),W[ee+3]=255}function vl(S,E,B,W,ee){Vu(S,E,B,W,ee),W[ee+3]=255}function mn(S,E){return 0>S?0:S>E?E:S}function oc(S,E,B){I[S]=function(W,ee,ie,le,fe,ge,ye,Pe,We){for(var ve=Pe+(-2&We)*B;Pe!=ve;)E(W[ee+0],ie[le+0],fe[ge+0],ye,Pe),E(W[ee+1],ie[le+0],fe[ge+0],ye,Pe+B),ee+=2,++le,++ge,Pe+=2*B;1&We&&E(W[ee+0],ie[le+0],fe[ge+0],ye,Pe)}}function dd(S,E,B){return B==0?S==0?E==0?6:5:E==0?4:0:B}function Rf(S,E,B,W,ee){switch(S>>>30){case 3:hc(E,B,W,ee,0);break;case 2:qi(E,B,W,ee);break;case 1:la(E,B,W,ee)}}function Hs(S,E){var B,W,ee=E.M,ie=E.Nb,le=S.oc,fe=S.pc+40,ge=S.oc,ye=S.pc+584,Pe=S.oc,We=S.pc+600;for(B=0;16>B;++B)le[fe+32*B-1]=129;for(B=0;8>B;++B)ge[ye+32*B-1]=129,Pe[We+32*B-1]=129;for(0<ee?le[fe-1-32]=ge[ye-1-32]=Pe[We-1-32]=129:(n(le,fe-32-1,127,21),n(ge,ye-32-1,127,9),n(Pe,We-32-1,127,9)),W=0;W<S.za;++W){var ve=E.ya[E.aa+W];if(0<W){for(B=-1;16>B;++B)a(le,fe+32*B-4,le,fe+32*B+12,4);for(B=-1;8>B;++B)a(ge,ye+32*B-4,ge,ye+32*B+4,4),a(Pe,We+32*B-4,Pe,We+32*B+4,4)}var Le=S.Gd,Fe=S.Hd+W,at=ve.ad,ze=ve.Hc;if(0<ee&&(a(le,fe-32,Le[Fe].y,0,16),a(ge,ye-32,Le[Fe].f,0,8),a(Pe,We-32,Le[Fe].ea,0,8)),ve.Za){var rt=le,lt=fe-32+16;for(0<ee&&(W>=S.za-1?n(rt,lt,Le[Fe].y[15],4):a(rt,lt,Le[Fe+1].y,0,4)),B=0;4>B;B++)rt[lt+128+B]=rt[lt+256+B]=rt[lt+384+B]=rt[lt+0+B];for(B=0;16>B;++B,ze<<=2)rt=le,lt=fe+En[B],pn[ve.Ob[B]](rt,lt),Rf(ze,at,16*+B,rt,lt)}else if(rt=dd(W,ee,ve.Ob[0]),os[rt](le,fe),ze!=0)for(B=0;16>B;++B,ze<<=2)Rf(ze,at,16*+B,le,fe+En[B]);for(B=ve.Gc,rt=dd(W,ee,ve.Dd),Ho[rt](ge,ye),Ho[rt](Pe,We),ze=at,rt=ge,lt=ye,255&(ve=0|B)&&(170&ve?uo(ze,256,rt,lt):ta(ze,256,rt,lt)),ve=Pe,ze=We,255&(B>>=8)&&(170&B?uo(at,320,ve,ze):ta(at,320,ve,ze)),ee<S.Ub-1&&(a(Le[Fe].y,0,le,fe+480,16),a(Le[Fe].f,0,ge,ye+224,8),a(Le[Fe].ea,0,Pe,We+224,8)),B=8*ie*S.B,Le=S.sa,Fe=S.ta+16*W+16*ie*S.R,at=S.qa,ve=S.ra+8*W+B,ze=S.Ha,rt=S.Ia+8*W+B,B=0;16>B;++B)a(Le,Fe+B*S.R,le,fe+32*B,16);for(B=0;8>B;++B)a(at,ve+B*S.B,ge,ye+32*B,8),a(ze,rt+B*S.B,Pe,We+32*B,8)}}function zo(S,E,B,W,ee,ie,le,fe,ge){var ye=[0],Pe=[0],We=0,ve=ge!=null?ge.kd:0,Le=ge??new st;if(S==null||12>B)return 7;Le.data=S,Le.w=E,Le.ha=B,E=[E],B=[B],Le.gb=[Le.gb];e:{var Fe=E,at=B,ze=Le.gb;if(t(S!=null),t(at!=null),t(ze!=null),ze[0]=0,12<=at[0]&&!r(S,Fe[0],"RIFF")){if(r(S,Fe[0]+8,"WEBP")){ze=3;break e}var rt=Ae(S,Fe[0]+4);if(12>rt||4294967286<rt){ze=3;break e}if(ve&&rt>at[0]-8){ze=7;break e}ze[0]=rt,Fe[0]+=12,at[0]-=12}ze=0}if(ze!=0)return ze;for(rt=0<Le.gb[0],B=B[0];;){e:{var lt=S;at=E,ze=B;var pt=ye,dt=Pe,Wt=Fe=[0];if((Ut=We=[We])[0]=0,8>ze[0])ze=7;else{if(!r(lt,at[0],"VP8X")){if(Ae(lt,at[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Rt=Ae(lt,at[0]+8),Sr=1+Te(lt,at[0]+12);if(2147483648<=Sr*(lt=1+Te(lt,at[0]+15))){ze=3;break e}Wt!=null&&(Wt[0]=Rt),pt!=null&&(pt[0]=Sr),dt!=null&&(dt[0]=lt),at[0]+=18,ze[0]-=18,Ut[0]=1}ze=0}}if(We=We[0],Fe=Fe[0],ze!=0)return ze;if(at=!!(2&Fe),!rt&&We)return 3;if(ie!=null&&(ie[0]=!!(16&Fe)),le!=null&&(le[0]=at),fe!=null&&(fe[0]=0),le=ye[0],Fe=Pe[0],We&&at&&ge==null){ze=0;break}if(4>B){ze=7;break}if(rt&&We||!rt&&!We&&!r(S,E[0],"ALPH")){B=[B],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Rt=S,ze=E,rt=B;var Ut=Le.gb;pt=Le.na,dt=Le.P,Wt=Le.Sa,Sr=22,t(Rt!=null),t(rt!=null),lt=ze[0];var Kr=rt[0];for(t(pt!=null),t(Wt!=null),pt[0]=null,dt[0]=null,Wt[0]=0;;){if(ze[0]=lt,rt[0]=Kr,8>Kr){ze=7;break e}var Ka=Ae(Rt,lt+4);if(4294967286<Ka){ze=3;break e}var Cr=8+Ka+1&-2;if(Sr+=Cr,0<Ut&&Sr>Ut){ze=3;break e}if(!r(Rt,lt,"VP8 ")||!r(Rt,lt,"VP8L")){ze=0;break e}if(Kr[0]<Cr){ze=7;break e}r(Rt,lt,"ALPH")||(pt[0]=Rt,dt[0]=lt+8,Wt[0]=Ka),lt+=Cr,Kr-=Cr}}if(B=B[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],ze!=0)break}B=[B],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Ut=S,ze=E,rt=B,pt=Le.gb[0],dt=Le.Ja,Wt=Le.xa,Rt=ze[0],lt=!r(Ut,Rt,"VP8 "),Sr=!r(Ut,Rt,"VP8L"),t(Ut!=null),t(rt!=null),t(dt!=null),t(Wt!=null),8>rt[0])ze=7;else{if(lt||Sr){if(Ut=Ae(Ut,Rt+4),12<=pt&&Ut>pt-12){ze=3;break e}if(ve&&Ut>rt[0]-8){ze=7;break e}dt[0]=Ut,ze[0]+=8,rt[0]-=8,Wt[0]=Sr}else Wt[0]=5<=rt[0]&&Ut[Rt+0]==47&&!(Ut[Rt+4]>>5),dt[0]=rt[0];ze=0}if(B=B[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],E=E[0],ze!=0)break;if(4294967286<Le.Ja)return 3;if(fe==null||at||(fe[0]=Le.xa?2:1),le=[le],Fe=[Fe],Le.xa){if(5>B){ze=7;break}fe=le,ve=Fe,at=ie,S==null||5>B?S=0:5<=B&&S[E+0]==47&&!(S[E+4]>>5)?(rt=[0],Ut=[0],pt=[0],se(dt=new z,S,E,B),oo(dt,rt,Ut,pt)?(fe!=null&&(fe[0]=rt[0]),ve!=null&&(ve[0]=Ut[0]),at!=null&&(at[0]=pt[0]),S=1):S=0):S=0}else{if(10>B){ze=7;break}fe=Fe,S==null||10>B||!ns(S,E+3,B-3)?S=0:(ve=S[E+0]|S[E+1]<<8|S[E+2]<<16,at=16383&(S[E+7]<<8|S[E+6]),S=16383&(S[E+9]<<8|S[E+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Le.Ja||!at||!S?S=0:(le&&(le[0]=at),fe&&(fe[0]=S),S=1))}if(!S||(le=le[0],Fe=Fe[0],We&&(ye[0]!=le||Pe[0]!=Fe)))return 3;ge!=null&&(ge[0]=Le,ge.offset=E-ge.w,t(4294967286>E-ge.w),t(ge.offset==ge.ha-B));break}return ze==0||ze==7&&We&&ge==null?(ie!=null&&(ie[0]|=Le.na!=null&&0<Le.na.length),W!=null&&(W[0]=le),ee!=null&&(ee[0]=Fe),0):ze}function lc(S,E,B){var W=E.width,ee=E.height,ie=0,le=0,fe=W,ge=ee;if(E.Da=S!=null&&0<S.Da,E.Da&&(fe=S.cd,ge=S.bd,ie=S.v,le=S.j,11>B||(ie&=-2,le&=-2),0>ie||0>le||0>=fe||0>=ge||ie+fe>W||le+ge>ee))return 0;if(E.v=ie,E.j=le,E.va=ie+fe,E.o=le+ge,E.U=fe,E.T=ge,E.da=S!=null&&0<S.da,E.da){if(!Ze(fe,ge,B=[S.ib],ie=[S.hb]))return 0;E.ib=B[0],E.hb=ie[0]}return E.ob=S!=null&&S.ob,E.Kb=S==null||!S.Sd,E.da&&(E.ob=E.ib<3*W/4&&E.hb<3*ee/4,E.Kb=0),1}function If(S){if(S==null)return 2;if(11>S.S){var E=S.f.RGBA;E.fb+=(S.height-1)*E.A,E.A=-E.A}else E=S.f.kb,S=S.height,E.O+=(S-1)*E.fa,E.fa=-E.fa,E.N+=(S-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(S-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(S-1)*E.lb,E.lb=-E.lb);return 0}function qo(S,E,B,W){if(W==null||0>=S||0>=E)return 2;if(B!=null){if(B.Da){var ee=B.cd,ie=B.bd,le=-2&B.v,fe=-2&B.j;if(0>le||0>fe||0>=ee||0>=ie||le+ee>S||fe+ie>E)return 2;S=ee,E=ie}if(B.da){if(!Ze(S,E,ee=[B.ib],ie=[B.hb]))return 2;S=ee[0],E=ie[0]}}W.width=S,W.height=E;e:{var ge=W.width,ye=W.height;if(S=W.S,0>=ge||0>=ye||!(S>=Cm&&13>S))S=2;else{if(0>=W.Rd&&W.sd==null){le=ie=ee=E=0;var Pe=(fe=ge*Bm[S])*ye;if(11>S||(ie=(ye+1)/2*(E=(ge+1)/2),S==12&&(le=(ee=ge)*ye)),(ye=i(Pe+2*ie+le))==null){S=1;break e}W.sd=ye,11>S?((ge=W.f.RGBA).eb=ye,ge.fb=0,ge.A=fe,ge.size=Pe):((ge=W.f.kb).y=ye,ge.O=0,ge.fa=fe,ge.Fd=Pe,ge.f=ye,ge.N=0+Pe,ge.Ab=E,ge.Cd=ie,ge.ea=ye,ge.W=0+Pe+ie,ge.Db=E,ge.Ed=ie,S==12&&(ge.F=ye,ge.J=0+Pe+2*ie),ge.Tc=le,ge.lb=ee)}if(E=1,ee=W.S,ie=W.width,le=W.height,ee>=Cm&&13>ee)if(11>ee)S=W.f.RGBA,E&=(fe=Math.abs(S.A))*(le-1)+ie<=S.size,E&=fe>=ie*Bm[ee],E&=S.eb!=null;else{S=W.f.kb,fe=(ie+1)/2,Pe=(le+1)/2,ge=Math.abs(S.fa),ye=Math.abs(S.Ab);var We=Math.abs(S.Db),ve=Math.abs(S.lb),Le=ve*(le-1)+ie;E&=ge*(le-1)+ie<=S.Fd,E&=ye*(Pe-1)+fe<=S.Cd,E=(E&=We*(Pe-1)+fe<=S.Ed)&ge>=ie&ye>=fe&We>=fe,E&=S.y!=null,E&=S.f!=null,E&=S.ea!=null,ee==12&&(E&=ve>=ie,E&=Le<=S.Tc,E&=S.F!=null)}else E=0;S=E?0:2}}return S!=0||B!=null&&B.fd&&(S=If(W)),S}var Yc=64,vs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ss=24,yl=32,bl=8,cc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(S){return S},I.Predictor2=function(S,E,B){return E[B+0]},I.Predictor3=function(S,E,B){return E[B+1]},I.Predictor4=function(S,E,B){return E[B-1]},I.Predictor5=function(S,E,B){return Pt(Pt(S,E[B+1]),E[B+0])},I.Predictor6=function(S,E,B){return Pt(S,E[B-1])},I.Predictor7=function(S,E,B){return Pt(S,E[B+0])},I.Predictor8=function(S,E,B){return Pt(E[B-1],E[B+0])},I.Predictor9=function(S,E,B){return Pt(E[B+0],E[B+1])},I.Predictor10=function(S,E,B){return Pt(Pt(S,E[B-1]),Pt(E[B+0],E[B+1]))},I.Predictor11=function(S,E,B){var W=E[B+0];return 0>=ar(W>>24&255,S>>24&255,(E=E[B-1])>>24&255)+ar(W>>16&255,S>>16&255,E>>16&255)+ar(W>>8&255,S>>8&255,E>>8&255)+ar(255&W,255&S,255&E)?W:S},I.Predictor12=function(S,E,B){var W=E[B+0];return(Dt((S>>24&255)+(W>>24&255)-((E=E[B-1])>>24&255))<<24|Dt((S>>16&255)+(W>>16&255)-(E>>16&255))<<16|Dt((S>>8&255)+(W>>8&255)-(E>>8&255))<<8|Dt((255&S)+(255&W)-(255&E)))>>>0},I.Predictor13=function(S,E,B){var W=E[B-1];return(er((S=Pt(S,E[B+0]))>>24&255,W>>24&255)<<24|er(S>>16&255,W>>16&255)<<16|er(S>>8&255,W>>8&255)<<8|er(255&S,255&W))>>>0};var fd=I.PredictorAdd0;I.PredictorAdd1=$r,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var hd=I.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var An,Am=I.ColorIndexInverseTransform,wl=I.MapARGB,kl=I.VP8LColorIndexInverseTransformAlpha,Si=I.MapAlpha,uc=I.VP8LPredictorsAdd=[];uc.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var md,pd,dc,fc,_l,Ku,Ws,hc,qi,uo,la,ta,Ia,Tn,Sl,$o,Gu,Ff,Rg,Nv,jv,Av,Ig,Fg,Yu,fo,Bf,Vs,Xu=i(511),Tm=i(2041),Uf=i(225),zf=i(767),Em=0,mc=Tm,qf=Uf,$i=zf,Ni=Xu,Cm=0,Hi=1,Om=2,ho=3,$f=4,gd=5,Xc=6,Hf=7,Pm=8,xd=9,Dm=10,mo=[2,3,7],vd=[3,3,11],Qu=[280,256,256,256,40],Lm=[0,1,1,1,0],Wf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],po=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],go=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qc=8,xo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ks=null,Tv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Mm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ev=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ji=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Va=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],os=[],pn=[],Ho=[],Jc=1,Ug=2,pc=[],Ai=[];xs("UpsampleRgbLinePair",Vu,3),xs("UpsampleBgrLinePair",Vc,3),xs("UpsampleRgbaLinePair",vl,4),xs("UpsampleBgraLinePair",ud,4),xs("UpsampleArgbLinePair",Gc,4),xs("UpsampleRgba4444LinePair",Kc,2),xs("UpsampleRgb565LinePair",_i,2);var Ju=I.UpsampleRgbLinePair,zg=I.UpsampleBgrLinePair,yd=I.UpsampleRgbaLinePair,Rm=I.UpsampleBgraLinePair,Zc=I.UpsampleArgbLinePair,Nl=I.UpsampleRgba4444LinePair,eu=I.UpsampleRgb565LinePair,yo=16,bd=1<<yo-1,Zu=-227,tu=482,Im=6,ru=0,Ti=i(256),Fm=i(256),Cv=i(256),t5=i(256),r5=i(tu-Zu),a5=i(tu-Zu);oc("YuvToRgbRow",Vu,3),oc("YuvToBgrRow",Vc,3),oc("YuvToRgbaRow",vl,4),oc("YuvToBgraRow",ud,4),oc("YuvToArgbRow",Gc,4),oc("YuvToRgba4444Row",Kc,2),oc("YuvToRgb565Row",_i,2);var En=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wd=[0,2,8],Vf=[8,7,6,4,4,2,2,2,1,1,1,1],Kf=1;this.WebPDecodeRGBA=function(S,E,B,W,ee){var ie=Hi,le=new Re,fe=new Er;le.ba=fe,fe.S=ie,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,ye=fe.height,Pe=new Mt;if(Pe==null||S==null)var We=2;else t(Pe!=null),We=zo(S,E,B,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(We!=0?ge=0:(ge!=null&&(ge[0]=Pe.width[0]),ye!=null&&(ye[0]=Pe.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),ee!=null&&(ee[0]=fe.height);e:{if(W=new Yn,(ee=new st).data=S,ee.w=E,ee.ha=B,ee.kd=1,E=[0],t(ee!=null),((S=zo(ee.data,ee.w,ee.ha,null,null,null,E,null,ee))==0||S==7)&&E[0]&&(S=4),(E=S)==0){if(t(le!=null),W.data=ee.data,W.w=ee.w+ee.offset,W.ha=ee.ha-ee.offset,W.put=nr,W.ac=oi,W.bc=Mo,W.ma=le,ee.xa){if((S=$e())==null){le=1;break e}if((function(ve,Le){var Fe=[0],at=[0],ze=[0];t:for(;;){if(ve==null)return 0;if(Le==null)return ve.a=2,0;if(ve.l=Le,ve.a=0,se(ve.m,Le.data,Le.w,Le.ha),!oo(ve.m,Fe,at,ze)){ve.a=3;break t}if(ve.xb=Ug,Le.width=Fe[0],Le.height=at[0],!He(Fe[0],at[0],1,ve,null))break t;return 1}return t(ve.a!=0),0})(S,W)){if(W=(E=qo(W.width,W.height,le.Oa,le.ba))==0){t:{W=S;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((B=W.l)!=null),t((ee=B.ma)!=null),W.xb!=0){if(W.ca=ee.ba,W.tb=ee.tb,t(W.ca!=null),!lc(ee.Oa,B,ho)){W.a=2;break r}if(!Ve(W,B.width)||B.da)break r;if((B.da||kt(W.ca.S))&&co(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&co()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!de(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Ue(W,W.V,W.Ba,W.c,W.i,B.o,me))break r;ee.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(E=S.a)}else E=S.a}else{if((S=new id)==null){le=1;break e}if(S.Fa=ee.na,S.P=ee.P,S.qc=ee.Sa,jf(S,W)){if((E=qo(W.width,W.height,le.Oa,le.ba))==0){if(S.Aa=0,B=le.Oa,t((ee=S)!=null),B!=null){if(0<(ge=0>(ge=B.Md)?0:100<ge?255:255*ge/100)){for(ye=Pe=0;4>ye;++ye)12>(We=ee.pb[ye]).lc&&(We.ia=ge*Vf[0>We.lc?0:We.lc]>>3),Pe|=We.ia;Pe&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=B.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(ve,Le){if(ve==null)return 0;if(Le==null)return _a(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!jf(ve,Le))return 0;if(t(ve.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(ve.L=0);var Fe=wd[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Le.v-Fe>>4,ve.zb=Le.j-Fe>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Le.o+15+Fe>>4,ve.Hb=Le.va+15+Fe>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var at=ve.ed;for(Fe=0;4>Fe;++Fe){var ze;if(ve.Qa.Cb){var rt=ve.Qa.Lb[Fe];ve.Qa.Fb||(rt+=at.Tb)}else rt=at.Tb;for(ze=0;1>=ze;++ze){var lt=ve.gd[Fe][ze],pt=rt;if(at.Pc&&(pt+=at.vd[0],ze&&(pt+=at.od[0])),0<(pt=0>pt?0:63<pt?63:pt)){var dt=pt;0<at.wb&&(dt=4<at.wb?dt>>2:dt>>1)>9-at.wb&&(dt=9-at.wb),1>dt&&(dt=1),lt.dd=dt,lt.tc=2*pt+dt,lt.ld=40<=pt?2:15<=pt?1:0}else lt.tc=0;lt.La=ze}}}Fe=0}else _a(ve,6,"Frame setup failed"),Fe=ve.a;if(Fe=Fe==0){if(Fe){ve.$c=0,0<ve.Aa||(ve.Ic=Kf);t:{Fe=ve.Ic,at=4*(dt=ve.za);var Wt=32*dt,Rt=dt+1,Sr=0<ve.L?dt*(0<ve.Aa?2:1):0,Ut=(ve.Aa==2?2:1)*dt;if((lt=at+832+(ze=3*(16*Fe+wd[ve.L])/2*Wt)+(rt=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=lt)Fe=0;else{if(lt>ve.Vb){if(ve.Vb=0,ve.Ec=i(lt),ve.Fc=0,ve.Ec==null){Fe=_a(ve,1,"no memory during frame initialization.");break t}ve.Vb=lt}lt=ve.Ec,pt=ve.Fc,ve.Ac=lt,ve.Bc=pt,pt+=at,ve.Gd=s(Wt,Bs),ve.Hd=0,ve.rb=s(Rt+1,ka),ve.sb=1,ve.wa=Sr?s(Sr,Wr):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=dt),t(!0),ve.oc=lt,ve.pc=pt,pt+=832,ve.ya=s(Ut,Ro),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=dt),ve.R=16*dt,ve.B=8*dt,dt=(Wt=wd[ve.L])*ve.R,Wt=Wt/2*ve.B,ve.sa=lt,ve.ta=pt+dt,ve.qa=ve.sa,ve.ra=ve.ta+16*Fe*ve.R+Wt,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Fe*ve.B+Wt,ve.$c=0,pt+=ze,ve.mb=rt?lt:null,ve.nb=rt?pt:null,t(pt+rt<=ve.Fc+ve.Vb),ec(ve),n(ve.Ac,ve.Bc,0,at),Fe=1}}if(Fe){if(Le.ka=0,Le.y=ve.sa,Le.O=ve.ta,Le.f=ve.qa,Le.N=ve.ra,Le.ea=ve.Ha,Le.Vd=ve.Ia,Le.fa=ve.R,Le.Rc=ve.B,Le.F=null,Le.J=0,!Em){for(Fe=-255;255>=Fe;++Fe)Xu[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)Tm[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)Uf[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)zf[255+Fe]=0>Fe?0:255<Fe?255:Fe;Em=1}Ws=Cf,hc=vm,uo=Tf,la=is,ta=Ef,qi=Af,Ia=_m,Tn=Sm,Sl=R,$o=Z,Gu=sc,Ff=Nm,Rg=_e,Nv=Oe,jv=$u,Av=nc,Ig=Wc,Fg=Hu,pn[0]=Lf,pn[1]=Of,pn[2]=Hc,pn[3]=wm,pn[4]=km,pn[5]=wi,pn[6]=zs,pn[7]=Mf,pn[8]=qs,pn[9]=Uu,os[0]=Fo,os[1]=bm,os[2]=Pf,os[3]=Df,os[4]=Bo,os[5]=tc,os[6]=Bu,Ho[0]=rc,Ho[1]=ym,Ho[2]=zu,Ho[3]=ml,Ho[4]=od,Ho[5]=sd,Ho[6]=li,Fe=1}else Fe=0}Fe&&(Fe=(function(Kr,Ka){for(Kr.M=0;Kr.M<Kr.Va;++Kr.M){var Cr,It=Kr.Jc[Kr.M&Kr.Xb],jt=Kr.m,rn=Kr;for(Cr=0;Cr<rn.za;++Cr){var pr=jt,Lr=rn,ya=Lr.Ac,Qn=Lr.Bc+4*Cr,Ei=Lr.zc,Fa=Lr.ya[Lr.aa+Cr];if(Lr.Qa.Bb?Fa.$b=Ne(pr,Lr.Pa.jb[0])?2+Ne(pr,Lr.Pa.jb[2]):Ne(pr,Lr.Pa.jb[1]):Fa.$b=0,Lr.kc&&(Fa.Ad=Ne(pr,Lr.Bd)),Fa.Za=!Ne(pr,145)+0,Fa.Za){var Rn=Fa.Ob,Wi=0;for(Lr=0;4>Lr;++Lr){var In,Ur=Ei[0+Lr];for(In=0;4>In;++In){Ur=ji[ya[Qn+In]][Ur];for(var na=Mm[Ne(pr,Ur[0])];0<na;)na=Mm[2*na+Ne(pr,Ur[na])];Ur=-na,ya[Qn+In]=Ur}a(Rn,Wi,ya,Qn,4),Wi+=4,Ei[0+Lr]=Ur}}else Ur=Ne(pr,156)?Ne(pr,128)?1:3:Ne(pr,163)?2:0,Fa.Ob[0]=Ur,n(ya,Qn,Ur,4),n(Ei,0,Ur,4);Fa.Dd=Ne(pr,142)?Ne(pr,114)?Ne(pr,183)?1:3:2:0}if(rn.m.Ka)return _a(Kr,7,"Premature end-of-partition0 encountered.");for(;Kr.ja<Kr.za;++Kr.ja){if(rn=It,pr=(jt=Kr).rb[jt.sb-1],ya=jt.rb[jt.sb+jt.ja],Cr=jt.ya[jt.aa+jt.ja],Qn=jt.kc?Cr.Ad:0)pr.la=ya.la=0,Cr.Za||(pr.Na=ya.Na=0),Cr.Hc=0,Cr.Gc=0,Cr.ia=0;else{var an,ca;if(pr=ya,ya=rn,Qn=jt.Pa.Xc,Ei=jt.ya[jt.aa+jt.ja],Fa=jt.pb[Ei.$b],Lr=Ei.ad,Rn=0,Wi=jt.rb[jt.sb-1],Ur=In=0,n(Lr,Rn,0,384),Ei.Za)var Jn=0,nn=Qn[3];else{na=i(16);var ia=pr.Na+Wi.Na;if(ia=Ks(ya,Qn[1],ia,Fa.Eb,0,na,0),pr.Na=Wi.Na=(0<ia)+0,1<ia)Ws(na,0,Lr,Rn);else{var Cn=na[0]+3>>3;for(na=0;256>na;na+=16)Lr[Rn+na]=Cn}Jn=1,nn=Qn[0]}var ba=15&pr.la,Fn=15&Wi.la;for(na=0;4>na;++na){var Bn=1&Fn;for(Cn=ca=0;4>Cn;++Cn)ba=ba>>1|(Bn=(ia=Ks(ya,nn,ia=Bn+(1&ba),Fa.Sc,Jn,Lr,Rn))>Jn)<<7,ca=ca<<2|(3<ia?3:1<ia?2:Lr[Rn+0]!=0),Rn+=16;ba>>=4,Fn=Fn>>1|Bn<<7,In=(In<<8|ca)>>>0}for(nn=ba,Jn=Fn>>4,an=0;4>an;an+=2){for(ca=0,ba=pr.la>>4+an,Fn=Wi.la>>4+an,na=0;2>na;++na){for(Bn=1&Fn,Cn=0;2>Cn;++Cn)ia=Bn+(1&ba),ba=ba>>1|(Bn=0<(ia=Ks(ya,Qn[2],ia,Fa.Qc,0,Lr,Rn)))<<3,ca=ca<<2|(3<ia?3:1<ia?2:Lr[Rn+0]!=0),Rn+=16;ba>>=2,Fn=Fn>>1|Bn<<5}Ur|=ca<<4*an,nn|=ba<<4<<an,Jn|=(240&Fn)<<an}pr.la=nn,Wi.la=Jn,Ei.Hc=In,Ei.Gc=Ur,Ei.ia=43690&Ur?0:Fa.ia,Qn=!(In|Ur)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[Cr.$b][Cr.Za],jt.wa[jt.Y+jt.ja].La|=!Qn),rn.Ka)return _a(Kr,7,"Premature end-of-file encountered.")}if(ec(Kr),jt=Ka,rn=1,Cr=(It=Kr).D,pr=0<It.L&&It.M>=It.zb&&It.M<=It.Va,It.Aa==0)t:{if(Cr.M=It.M,Cr.uc=pr,Hs(It,Cr),rn=1,Cr=(ca=It.D).Nb,pr=(Ur=wd[It.L])*It.R,ya=Ur/2*It.B,na=16*Cr*It.R,Cn=8*Cr*It.B,Qn=It.sa,Ei=It.ta-pr+na,Fa=It.qa,Lr=It.ra-ya+Cn,Rn=It.Ha,Wi=It.Ia-ya+Cn,Fn=(ba=ca.M)==0,In=ba>=It.Va-1,It.Aa==2&&Hs(It,ca),ca.uc)for(Bn=(ia=It).D.M,t(ia.D.uc),ca=ia.yb;ca<ia.Hb;++ca){Jn=ca,nn=Bn;var Na=(ra=(Un=ia).D).Nb;an=Un.R;var ra=ra.wa[ra.Y+Jn],Vi=Un.sa,gn=Un.ta+16*Na*an+16*Jn,or=ra.dd,dr=ra.tc;if(dr!=0)if(t(3<=dr),Un.L==1)0<Jn&&Av(Vi,gn,an,dr+4),ra.La&&Fg(Vi,gn,an,dr),0<nn&&jv(Vi,gn,an,dr+4),ra.La&&Ig(Vi,gn,an,dr);else{var sa=Un.B,ys=Un.qa,bo=Un.ra+8*Na*sa+8*Jn,ls=Un.Ha,Un=Un.Ia+8*Na*sa+8*Jn;Na=ra.ld,0<Jn&&(Tn(Vi,gn,an,dr+4,or,Na),$o(ys,bo,ls,Un,sa,dr+4,or,Na)),ra.La&&(Ff(Vi,gn,an,dr,or,Na),Nv(ys,bo,ls,Un,sa,dr,or,Na)),0<nn&&(Ia(Vi,gn,an,dr+4,or,Na),Sl(ys,bo,ls,Un,sa,dr+4,or,Na)),ra.La&&(Gu(Vi,gn,an,dr,or,Na),Rg(ys,bo,ls,Un,sa,dr,or,Na))}}if(It.ia&&alert("todo:DitherRow"),jt.put!=null){if(ca=16*ba,ba=16*(ba+1),Fn?(jt.y=It.sa,jt.O=It.ta+na,jt.f=It.qa,jt.N=It.ra+Cn,jt.ea=It.Ha,jt.W=It.Ia+Cn):(ca-=Ur,jt.y=Qn,jt.O=Ei,jt.f=Fa,jt.N=Lr,jt.ea=Rn,jt.W=Wi),In||(ba-=Ur),ba>jt.o&&(ba=jt.o),jt.F=null,jt.J=null,It.Fa!=null&&0<It.Fa.length&&ca<ba&&(jt.J=jn(It,jt,ca,ba-ca),jt.F=It.mb,jt.F==null&&jt.F.length==0)){rn=_a(It,3,"Could not decode alpha data.");break t}ca<jt.j&&(Ur=jt.j-ca,ca=jt.j,t(!(1&Ur)),jt.O+=It.R*Ur,jt.N+=It.B*(Ur>>1),jt.W+=It.B*(Ur>>1),jt.F!=null&&(jt.J+=jt.width*Ur)),ca<ba&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=ca-jt.j,jt.U=jt.va-jt.v,jt.T=ba-ca,rn=jt.put(jt))}Cr+1!=It.Ic||In||(a(It.sa,It.ta-pr,Qn,Ei+16*It.R,pr),a(It.qa,It.ra-ya,Fa,Lr+8*It.B,ya),a(It.Ha,It.Ia-ya,Rn,Wi+8*It.B,ya))}if(!rn)return _a(Kr,6,"Output aborted.")}return 1})(ve,Le)),Le.bc!=null&&Le.bc(Le),Fe&=1}return Fe?(ve.cb=0,Fe):0})(S,W)||(E=S.a)}}else E=S.a}E==0&&le.Oa!=null&&le.Oa.fd&&(E=If(le.ba))}le=E}ie=le!=0?null:11>ie?fe.f.RGBA.eb:fe.f.kb.y}else ie=null;return ie};var Bm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,K){for(var D="",F=0;F<4;F++)D+=String.fromCharCode(I[K++]);return D}function h(I,K){return I[K+0]|I[K+1]<<8}function m(I,K){return(I[K+0]|I[K+1]<<8|I[K+2]<<16)>>>0}function x(I,K){return(I[K+0]|I[K+1]<<8|I[K+2]<<16|I[K+3]<<24)>>>0}new c;var p=[0],y=[0],v=[],b=new c,k=e,N=(function(I,K){var D={},F=0,H=!1,Y=0,ne=0;if(D.frames=[],!(function(M,z){for(var q=0;q<4;q++)if(M[z+q]!="RIFF".charCodeAt(q))return!0;return!1})(I,K)){for(x(I,K+=4),K+=8;K<I.length;){var X=d(I,K),ae=x(I,K+=4);K+=4;var ue=ae+(1&ae);switch(X){case"VP8 ":case"VP8L":D.frames[F]===void 0&&(D.frames[F]={}),(J=D.frames[F]).src_off=H?ne:K-8,J.src_size=Y+ae+8,F++,H&&(H=!1,Y=0,ne=0);break;case"VP8X":(J=D.header={}).feature_flags=I[K];var se=K+4;J.canvas_width=1+m(I,se),se+=3,J.canvas_height=1+m(I,se),se+=3;break;case"ALPH":H=!0,Y=ue+8,ne=K-8;break;case"ANIM":(J=D.header).bgcolor=x(I,K),se=K+4,J.loop_count=h(I,se),se+=2;break;case"ANMF":var be,J;(J=D.frames[F]={}).offset_x=2*m(I,K),K+=3,J.offset_y=2*m(I,K),K+=3,J.width=1+m(I,K),K+=3,J.height=1+m(I,K),K+=3,J.duration=m(I,K),K+=3,be=I[K++],J.dispose=1&be,J.blend=be>>1&1}X!="ANMF"&&(K+=ue)}return D}})(k,0);N.response=k,N.rgbaoutput=!0,N.dataurl=!1;var _=N.header?N.header:null,T=N.frames?N.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],y=[_.canvas_width];for(var P=0;P<T.length&&T[P].blend!=0;P++);}var O=T[0],L=b.WebPDecodeRGBA(k,O.src_off,O.src_size,y,p);O.rgba=L,O.imgwidth=y[0],O.imgheight=p[0];for(var U=0;U<y[0]*p[0]*4;U++)v[U]=L[U];return this.width=y,this.height=p,this.data=v,this}(function(e){var t,r,a,n,i,s,o,c,d,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=M;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(Ae){G=!!Ae}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ae){isNaN(Ae)||(re=Ae)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Ae){isNaN(Ae)||(he=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ae){var de;typeof Ae=="number"?de=[Ae,Ae,Ae,Ae]:((de=new Array(4))[0]=Ae[0],de[1]=Ae.length>=2?Ae[1]:de[0],de[2]=Ae.length>=3?Ae[2]:de[0],de[3]=Ae.length>=4?Ae[3]:de[1]),d.margin=de}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(Ae){je=Ae}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(Ae){oe=Ae}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(Ae){Ne=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ae){Ae instanceof h&&(d=Ae)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ae){d.path=Ae}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Ae){Me=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var de;de=x(Ae),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var de=x(Ae);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Q=null,Te=null;Object.defineProperty(this,"fontFaces",{get:function(){return Te},set:function(Ae){Q=null,Te=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var de;if(this.ctx.font=Ae,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Qe=de[1];de[2];var we=de[3],Ze=de[4];de[5];var Xe=de[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ze)[2];Ze=Math.floor(gt==="px"?parseFloat(Ze)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(Ze)*this.pdf.getFontSize():parseFloat(Ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ze);var ot=(function(vt){var Tt,Dr,Ft=[],At=vt.trim();if(At==="")return z_;if(At in h9)return[h9[At]];for(;At!=="";){switch(Dr=null,Tt=(At=p9(At)).charAt(0)){case'"':case"'":Dr=D6e(At.substring(1),Tt);break;default:Dr=L6e(At)}if(Dr===null||(Ft.push(Dr[0]),(At=p9(Dr[1]))!==""&&At.charAt(0)!==","))return z_;At=At.replace(/^,/,"")}return Ft})(Xe);if(this.fontFaces){var Ct=(function(vt,Tt){if(Q===null){var Dr=(function(Ft){var At=[];return Object.keys(Ft).forEach(function(ir){Ft[ir].forEach(function(Tr){var qe=null;switch(Tr){case"bold":qe={family:ir,weight:"bold"};break;case"italic":qe={family:ir,style:"italic"};break;case"bolditalic":qe={family:ir,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:ir}}qe!==null&&(qe.ref={name:ir,style:Tr},At.push(qe))})}),At})(vt.getFontList());Q=(function(Ft){for(var At={},ir=0;ir<Ft.length;++ir){var Tr=U_(Ft[ir]),qe=Tr.family,bt=Tr.stretch,kt=Tr.style,gr=Tr.weight;At[qe]=At[qe]||{},At[qe][bt]=At[qe][bt]||{},At[qe][bt][kt]=At[qe][bt][kt]||{},At[qe][bt][kt][gr]=Tr}return At})(Dr.concat(Tt))}return Q})(this.pdf,this.fontFaces),Pt=ot.map(function(vt){return{family:vt,stretch:"normal",weight:we,style:Qe}}),Dt=(function(vt,Tt,Dr){for(var Ft=(Dr=Dr||{}).defaultFontFamily||"times",At=Object.assign({},P6e,Dr.genericFontFamilies||{}),ir=null,Tr=null,qe=0;qe<Tt.length;++qe)if(At[(ir=U_(Tt[qe])).family]&&(ir.family=At[ir.family]),vt.hasOwnProperty(ir.family)){Tr=vt[ir.family];break}if(!(Tr=Tr||vt[Ft]))throw new Error("Could not find a font-family for the rule '"+m9(ir)+"' and default family '"+Ft+"'.");if(Tr=(function(bt,kt){if(kt[bt])return kt[bt];var gr=QS[bt],Rr=gr<=QS.normal?-1:1,Er=f9(kt,WH,gr,Rr);if(!Er)throw new Error("Could not find a matching font-stretch value for "+bt);return Er})(ir.stretch,Tr),Tr=(function(bt,kt){if(kt[bt])return kt[bt];for(var gr=HH[bt],Rr=0;Rr<gr.length;++Rr)if(kt[gr[Rr]])return kt[gr[Rr]];throw new Error("Could not find a matching font-style for "+bt)})(ir.style,Tr),!(Tr=(function(bt,kt){if(kt[bt])return kt[bt];if(bt===400&&kt[500])return kt[500];if(bt===500&&kt[400])return kt[400];var gr=O6e[bt],Rr=f9(kt,VH,gr,bt<400?-1:1);if(!Rr)throw new Error("Could not find a matching font-weight for value "+bt);return Rr})(ir.weight,Tr)))throw new Error("Failed to resolve a font for the rule '"+m9(ir)+"'.");return Tr})(Ct,Pt);this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var er="";(we==="bold"||parseInt(we,10)>=700||Qe==="bold")&&(er="bold"),Qe==="italic"&&(er+="italic"),er.length===0&&(er="normal");for(var ar="",$r={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},qt=0;qt<ot.length;qt++){if(this.pdf.internal.getFont(ot[qt],er,{noFallback:!0,disableWarning:!0})!==void 0){ar=ot[qt];break}if(er==="bolditalic"&&this.pdf.internal.getFont(ot[qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ar=ot[qt],er="bold";else if(this.pdf.internal.getFont(ot[qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ar=ot[qt],er="normal";break}}if(ar===""){for(var Lt=0;Lt<ot.length;Lt++)if($r[ot[Lt]]){ar=$r[ot[Lt]];break}}ar=ar===""?"Times":ar,this.pdf.setFont(ar,er)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){T.call(this,"fill",!1)},m.prototype.stroke=function(){T.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,z){if(isNaN(M)||isNaN(z))throw Ya.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(M,z)},m.prototype.closePath=function(){var M=new s(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Oa(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){M=new s(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},m.prototype.lineTo=function(M,z){if(isNaN(M)||isNaN(z))throw Ya.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,z,q,G){if(isNaN(q)||isNaN(G)||isNaN(M)||isNaN(z))throw Ya.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new s(q,G)),he=this.ctx.transform.applyToPoint(new s(M,z));this.path.push({type:"qct",x1:he.x,y1:he.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},m.prototype.bezierCurveTo=function(M,z,q,G,re,he){if(isNaN(re)||isNaN(he)||isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G))throw Ya.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new s(re,he)),oe=this.ctx.transform.applyToPoint(new s(M,z)),Ne=this.ctx.transform.applyToPoint(new s(q,G));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:Ne.x,y2:Ne.y,x:je.x,y:je.y}),this.ctx.lastPoint=new s(je.x,je.y)},m.prototype.arc=function(M,z,q,G,re,he){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G)||isNaN(re))throw Ya.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new s(M,z));M=je.x,z=je.y;var oe=this.ctx.transform.applyToPoint(new s(0,q)),Ne=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(oe.x-Ne.x,2)+Math.pow(oe.y-Ne.y,2))}Math.abs(re-G)>=2*Math.PI&&(G=0,re=2*Math.PI),this.path.push({type:"arc",x:M,y:z,radius:q,startAngle:G,endAngle:re,counterclockwise:he})},m.prototype.arcTo=function(M,z,q,G,re){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,z,q,G){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G))throw Ya.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,z),this.lineTo(M+q,z),this.lineTo(M+q,z+G),this.lineTo(M,z+G),this.lineTo(M,z),this.lineTo(M+q,z),this.lineTo(M,z)},m.prototype.fillRect=function(M,z,q,G){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G))throw Ya.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,z,q,G),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},m.prototype.strokeRect=function(M,z,q,G){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G))throw Ya.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,z,q,G),this.stroke())},m.prototype.clearRect=function(M,z,q,G){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G))throw Ya.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,z,q,G))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(M){var z,q,G,re;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))z=0,q=0,G=0,re=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)z=parseInt(he[1]),q=parseInt(he[2]),G=parseInt(he[3]),re=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)z=parseInt(he[1]),q=parseInt(he[2]),G=parseInt(he[3]),re=parseFloat(he[4]);else{if(re=1,typeof M=="string"&&M.charAt(0)!=="#"){var je=new IH(M);M=je.ok?je.toHex():"#000000"}M.length===4?(z=M.substring(1,2),z+=z,q=M.substring(2,3),q+=q,G=M.substring(3,4),G+=G):(z=M.substring(1,3),q=M.substring(3,5),G=M.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),G=parseInt(G,16)}}return{r:z,g:q,b:G,a:re,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,z,q,G){if(isNaN(z)||isNaN(q)||typeof M!="string")throw Ya.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!p.call(this)){var re=ue(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;F.call(this,{text:M,x:z,y:q,scale:he,angle:re,align:this.textAlign,maxWidth:G})}},m.prototype.strokeText=function(M,z,q,G){if(isNaN(z)||isNaN(q)||typeof M!="string")throw Ya.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){G=isNaN(G)?void 0:G;var re=ue(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;F.call(this,{text:M,x:z,y:q,scale:he,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:G})}},m.prototype.measureText=function(M){if(typeof M!="string")throw Ya.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,G=z.internal.getFontSize(),re=z.getStringUnitWidth(M)*G/z.internal.scaleFactor;return new function(he){var je=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:re*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(M,z){if(isNaN(M)||isNaN(z))throw Ya.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(M,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(M){if(isNaN(M))throw Ya.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},m.prototype.translate=function(M,z){if(isNaN(M)||isNaN(z))throw Ya.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,M,z);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(M,z,q,G,re,he){if(isNaN(M)||isNaN(z)||isNaN(q)||isNaN(G)||isNaN(re)||isNaN(he))throw Ya.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new c(M,z,q,G,re,he);this.ctx.transform=this.ctx.transform.multiply(je)},m.prototype.setTransform=function(M,z,q,G,re,he){M=isNaN(M)?1:M,z=isNaN(z)?0:z,q=isNaN(q)?0:q,G=isNaN(G)?1:G,re=isNaN(re)?0:re,he=isNaN(he)?0:he,this.ctx.transform=new c(M,z,q,G,re,he)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,z,q,G,re,he,je,oe,Ne){var Me=this.pdf.getImageProperties(M),Q=1,Te=1,Ae=1,de=1;G!==void 0&&oe!==void 0&&(Ae=oe/G,de=Ne/re,Q=Me.width/G*oe/G,Te=Me.height/re*Ne/re),he===void 0&&(he=z,je=q,z=0,q=0),G!==void 0&&oe===void 0&&(oe=G,Ne=re),G===void 0&&oe===void 0&&(oe=Me.width,Ne=Me.height);for(var Qe,we=this.ctx.transform.decompose(),Ze=ue(we.rotate.shx),Xe=new c,gt=(Xe=(Xe=(Xe=Xe.multiply(we.translate)).multiply(we.skew)).multiply(we.scale)).applyToRectangle(new o(he-z*Ae,je-q*de,G*Q,re*Te)),ot=b.call(this,gt),Ct=[],Pt=0;Pt<ot.length;Pt+=1)Ct.indexOf(ot[Pt])===-1&&Ct.push(ot[Pt]);if(_(Ct),this.autoPaging)for(var Dt=Ct[0],er=Ct[Ct.length-1],ar=Dt;ar<er+1;ar++){this.pdf.setPage(ar);var $r=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=ar===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=ar===1?0:Lt+(ar-2)*vt;if(this.ctx.clip_path.length!==0){var Dr=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Qe,this.posX+this.margin[3],-Tt+qt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Dr}var Ft=JSON.parse(JSON.stringify(gt));Ft=N([Ft],this.posX+this.margin[3],-Tt+qt+this.ctx.prevPageLastElemOffset)[0];var At=(ar>Dt||ar<er)&&v.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$r,vt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Ze),At&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,Ze)};var b=function(M,z,q){var G=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":G.push(Math.floor((M.y+re)/q)+1);break;case"arc":G.push(Math.floor((M.y+re-M.radius)/q)+1),G.push(Math.floor((M.y+re+M.radius)/q)+1);break;case"qct":var he=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);G.push(Math.floor((he.y+re)/q)+1),G.push(Math.floor((he.y+he.h+re)/q)+1);break;case"bct":var je=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);G.push(Math.floor((je.y+re)/q)+1),G.push(Math.floor((je.y+je.h+re)/q)+1);break;case"rect":G.push(Math.floor((M.y+re)/q)+1),G.push(Math.floor((M.y+M.h+re)/q)+1)}for(var oe=0;oe<G.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<G[oe];)k.call(this);return G},k=function(){var M=this.fillStyle,z=this.strokeStyle,q=this.font,G=this.lineCap,re=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=z,this.font=q,this.lineCap=G,this.lineWidth=re,this.lineJoin=he},N=function(M,z,q){for(var G=0;G<M.length;G++)switch(M[G].type){case"bct":M[G].x2+=z,M[G].y2+=q;case"qct":M[G].x1+=z,M[G].y1+=q;default:M[G].x+=z,M[G].y+=q}return M},_=function(M){return M.sort(function(z,q){return z-q})},T=function(M,z){for(var q,G,re=this.fillStyle,he=this.strokeStyle,je=this.lineCap,oe=this.lineWidth,Ne=Math.abs(oe*this.ctx.transform.scaleX),Me=this.lineJoin,Q=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Ae=[],de=0;de<Te.length;de++)if(Te[de].x!==void 0)for(var Qe=b.call(this,Te[de]),we=0;we<Qe.length;we+=1)Ae.indexOf(Qe[we])===-1&&Ae.push(Qe[we]);for(var Ze=0;Ze<Ae.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<Ae[Ze];)k.call(this);if(_(Ae),this.autoPaging)for(var Xe=Ae[0],gt=Ae[Ae.length-1],ot=Xe;ot<gt+1;ot++){this.pdf.setPage(ot),this.fillStyle=re,this.strokeStyle=he,this.lineCap=je,this.lineWidth=Ne,this.lineJoin=Me;var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=ot===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ar=ot===1?0:Dt+(ot-2)*er;if(this.ctx.clip_path.length!==0){var $r=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(q,this.posX+this.margin[3],-ar+Pt+this.ctx.prevPageLastElemOffset),P.call(this,M,!0),this.path=$r}if(G=JSON.parse(JSON.stringify(Q)),this.path=N(G,this.posX+this.margin[3],-ar+Pt+this.ctx.prevPageLastElemOffset),z===!1||ot===0){var qt=(ot>Xe||ot<gt)&&v.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,er,null).clip().discardPath()),P.call(this,M,z),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=Ne,P.call(this,M,z),this.lineWidth=oe;this.path=Q},P=function(M,z){if((M!=="stroke"||z||!y.call(this))&&(M==="stroke"||z||!p.call(this))){for(var q,G,re=[],he=this.path,je=0;je<he.length;je++){var oe=he[je];switch(oe.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:oe,deltas:[],abs:[]});break;case"lt":var Ne=re.length;if(he[je-1]&&!isNaN(he[je-1].x)&&(q=[oe.x-he[je-1].x,oe.y-he[je-1].y],Ne>0)){for(;Ne>=0;Ne--)if(re[Ne-1].close!==!0&&re[Ne-1].begin!==!0){re[Ne-1].deltas.push(q),re[Ne-1].abs.push(oe);break}}break;case"bct":q=[oe.x1-he[je-1].x,oe.y1-he[je-1].y,oe.x2-he[je-1].x,oe.y2-he[je-1].y,oe.x-he[je-1].x,oe.y-he[je-1].y],re[re.length-1].deltas.push(q);break;case"qct":var Me=he[je-1].x+2/3*(oe.x1-he[je-1].x),Q=he[je-1].y+2/3*(oe.y1-he[je-1].y),Te=oe.x+2/3*(oe.x1-oe.x),Ae=oe.y+2/3*(oe.y1-oe.y),de=oe.x,Qe=oe.y;q=[Me-he[je-1].x,Q-he[je-1].y,Te-he[je-1].x,Ae-he[je-1].y,de-he[je-1].x,Qe-he[je-1].y],re[re.length-1].deltas.push(q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(oe)}}G=z?null:M==="stroke"?"stroke":"fill";for(var we=!1,Ze=0;Ze<re.length;Ze++)if(re[Ze].arc)for(var Xe=re[Ze].abs,gt=0;gt<Xe.length;gt++){var ot=Xe[gt];ot.type==="arc"?U.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,z,!we):H.call(this,ot.x,ot.y),we=!0}else if(re[Ze].close===!0)this.pdf.internal.out("h"),we=!1;else if(re[Ze].begin!==!0){var Ct=re[Ze].start.x,Pt=re[Ze].start.y;Y.call(this,re[Ze].deltas,Ct,Pt),we=!0}G&&I.call(this,G),z&&K.call(this)}},O=function(M){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-q;case"top":return M+z-q;case"hanging":return M+z-2*q;case"middle":return M+z/2-q;default:return M}},L=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(z,q){this.colorStops.push([z,q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(M,z,q,G,re,he,je,oe,Ne){for(var Me=X.call(this,q,G,re,he),Q=0;Q<Me.length;Q++){var Te=Me[Q];Q===0&&(Ne?D.call(this,Te.x1+M,Te.y1+z):H.call(this,Te.x1+M,Te.y1+z)),ne.call(this,M,z,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}oe?K.call(this):I.call(this,je)},I=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(M,z){this.pdf.internal.out(r(M)+" "+a(z)+" m")},F=function(M){var z;switch(M.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var q=this.pdf.getTextDimensions(M.text),G=O.call(this,M.y),re=L.call(this,G)-q.h,he=this.ctx.transform.applyToPoint(new s(M.x,G)),je=this.ctx.transform.decompose(),oe=new c;oe=(oe=(oe=oe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Ne,Me,Q,Te=this.ctx.transform.applyToRectangle(new o(M.x,G,q.w,q.h)),Ae=oe.applyToRectangle(new o(M.x,re,q.w,q.h)),de=b.call(this,Ae),Qe=[],we=0;we<de.length;we+=1)Qe.indexOf(de[we])===-1&&Qe.push(de[we]);if(_(Qe),this.autoPaging)for(var Ze=Qe[0],Xe=Qe[Qe.length-1],gt=Ze;gt<Xe+1;gt++){this.pdf.setPage(gt);var ot=gt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],Dt=Pt-this.margin[0],er=this.pdf.internal.pageSize.width-this.margin[1],ar=er-this.margin[3],$r=gt===1?0:Ct+(gt-2)*Dt;if(this.ctx.clip_path.length!==0){var qt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ne,this.posX+this.margin[3],-1*$r+ot),P.call(this,"fill",!0),this.path=qt}var Lt=N([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-$r+ot+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*M.scale),Q=this.lineWidth,this.lineWidth=Q*M.scale);var vt=this.autoPaging!=="text";if(vt||Lt.y+Lt.h<=Pt){if(vt||Lt.y>=ot&&Lt.x<=er){var Tt=vt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||er-Lt.x)[0],Dr=N([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-$r+ot+this.ctx.prevPageLastElemOffset)[0],Ft=vt&&(gt>Ze||gt<Xe)&&v.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Dt,null).clip().discardPath()),this.pdf.text(Tt,Dr.x,Dr.y,{angle:M.angle,align:z,renderingMode:M.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Lt.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-Lt.y);M.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Q)}else M.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*M.scale),Q=this.lineWidth,this.lineWidth=Q*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:z,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Q)},H=function(M,z,q,G){q=q||0,G=G||0,this.pdf.internal.out(r(M+q)+" "+a(z+G)+" l")},Y=function(M,z,q){return this.pdf.lines(M,z,q,null,null)},ne=function(M,z,q,G,re,he,je,oe){this.pdf.internal.out([t(n(q+M)),t(i(G+z)),t(n(re+M)),t(i(he+z)),t(n(je+M)),t(i(oe+z)),"c"].join(" "))},X=function(M,z,q,G){for(var re=2*Math.PI,he=Math.PI/2;z>q;)z-=re;var je=Math.abs(q-z);je<re&&G&&(je=re-je);for(var oe=[],Ne=G?-1:1,Me=z;je>1e-5;){var Q=Me+Ne*Math.min(je,he);oe.push(ae.call(this,M,Me,Q)),je-=Math.abs(Q-Me),Me=Q}return oe},ae=function(M,z,q){var G=(q-z)/2,re=M*Math.cos(G),he=M*Math.sin(G),je=re,oe=-he,Ne=je*je+oe*oe,Me=Ne+je*re+oe*he,Q=4/3*(Math.sqrt(2*Ne*Me)-Me)/(je*he-oe*re),Te=je-Q*oe,Ae=oe+Q*je,de=Te,Qe=-Ae,we=G+z,Ze=Math.cos(we),Xe=Math.sin(we);return{x1:M*Math.cos(z),y1:M*Math.sin(z),x2:Te*Ze-Ae*Xe,y2:Te*Xe+Ae*Ze,x3:de*Ze-Qe*Xe,y3:de*Xe+Qe*Ze,x4:M*Math.cos(q),y4:M*Math.sin(q)}},ue=function(M){return 180*M/Math.PI},se=function(M,z,q,G,re,he){var je=M+.5*(q-M),oe=z+.5*(G-z),Ne=re+.5*(q-re),Me=he+.5*(G-he),Q=Math.min(M,re,je,Ne),Te=Math.max(M,re,je,Ne),Ae=Math.min(z,he,oe,Me),de=Math.max(z,he,oe,Me);return new o(Q,Ae,Te-Q,de-Ae)},be=function(M,z,q,G,re,he,je,oe){var Ne,Me,Q,Te,Ae,de,Qe,we,Ze,Xe,gt,ot,Ct,Pt,Dt=q-M,er=G-z,ar=re-q,$r=he-G,qt=je-re,Lt=oe-he;for(Me=0;Me<41;Me++)Ze=(Qe=(Q=M+(Ne=Me/40)*Dt)+Ne*((Ae=q+Ne*ar)-Q))+Ne*(Ae+Ne*(re+Ne*qt-Ae)-Qe),Xe=(we=(Te=z+Ne*er)+Ne*((de=G+Ne*$r)-Te))+Ne*(de+Ne*(he+Ne*Lt-de)-we),Me==0?(gt=Ze,ot=Xe,Ct=Ze,Pt=Xe):(gt=Math.min(gt,Ze),ot=Math.min(ot,Xe),Ct=Math.max(Ct,Ze),Pt=Math.max(Pt,Xe));return new o(Math.round(gt),Math.round(ot),Math.round(Ct-gt),Math.round(Pt-ot))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,z,q=(M=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Zt.API),(function(e){var t=function(s){var o,c,d,h,m,x,p,y,v,b;for(c=[],d=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>d;d+=4)(m=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(x=(m=((m=((m=((m=(m-(b=m%85))/85)-(v=m%85))/85)-(y=m%85))/85)-(p=m%85))/85)%85,c.push(x+33,p+33,y+33,v+33,b+33)):c.push(122);return(function(k,N){for(var _=N;_>0;_--)k.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,d,h,m,x=String,p="length",y=255,v="charCodeAt",b="slice",k="replace";for(s[b](-2),s=s[b](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],h=0,m=(s+=o="uuuuu"[b](s[p]%5||5))[p];m>h;h+=5)c=52200625*(s[v](h)-33)+614125*(s[v](h+1)-33)+7225*(s[v](h+2)-33)+85*(s[v](h+3)-33)+(s[v](h+4)-33),d.push(y&c>>24,y&c>>16,y&c>>8,y&c);return(function(N,_){for(var T=_;T>0;T--)N.pop()})(d,o[p]),x.fromCharCode.apply(x,d)},a=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",d=0;d<s.length;d+=2)c+=String.fromCharCode("0x"+(s[d]+s[d+1]));return c},i=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=HS(o)).reduce(function(d,h){return d+String.fromCharCode(h)},"")};e.processDataByFilters=function(s,o){var c=0,d=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=a(d),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:h.reverse().join(" ")}}})(Zt.API),(function(e){e.loadFile=function(t,r,a){return(function(n,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(c,d,h){var m=new XMLHttpRequest,x=0,p=function(y){var v=y.length,b=[],k=String.fromCharCode;for(x=0;x<v;x+=1)b.push(k(255&y.charCodeAt(x)));return b.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return p(m.responseText)})(n,i,s)}catch{}return o})(t,r,a)},e.loadImageFile=e.loadFile})(Zt.API),(function(e){function t(){return(Nr.html2canvas?Promise.resolve(Nr.html2canvas):wk(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Nr.DOMPurify?Promise.resolve(Nr.DOMPurify):wk(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var c=Oa(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(o,c){var d=document.createElement(o);for(var h in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[h]=c.style[h];return d},i=function o(c,d){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(o(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},s=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),d);return(h=h.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(d){switch(a(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(r).then(function(d){return this.set({src:n("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var d=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var y=h[p],v=y.src.find(function(b){return b.format==="truetype"});v&&d.addFont(v.url,y.ref.name,y.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),c(this.prop.container,x)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(a(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var d=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},s.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(d,h){return Math.floor(d*h/72*96)}return this.then(function(){(o=o||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,d,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,d,h){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(h,m){return d.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,h),x}).then(h,m).then(function(x){return d.updateProgress(1),x})})},s.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),x=d.call(m,o,c);return s.convert(x,h.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Zt.getPageSize=function(o,c,d){if(Oa(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,d=h.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var m,x=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var y,v=0,b=0;if(p.hasOwnProperty(x))v=p[x][1]/m,b=p[x][0]/m;else try{v=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>v&&(y=b,b=v,v=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(y=b,b=v,v=y)}return{width:b,height:v,unit:c,k:m,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(U_):null;var d=new s(c);return c.worker?d:d.from(o).doCallback()}})(Zt.API),Zt.API.addJS=function(e){return x9=e,this.internal.events.subscribe("postPutResources",function(){ub=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ub+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),g9=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+x9+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ub!==void 0&&g9!==void 0&&this.internal.out("/Names <</JavaScript "+ub+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),i=0;i<n.length;i++){var s=n[i],o=a.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(i=0;i<d;i++){var m=r.internal.newObject();h.push(m);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,i){var s={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var s=a.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<a.children.length;d++)this.renderItems(a.children[d])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])})(Zt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,n,i,s,o){var c,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),y=m.length,v={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=p,t.indexOf(m.charCodeAt(b+1))!==-1){x=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),v={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:x,numcomponents:m.charCodeAt(b+9)};break}p=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:a,alias:n}}return h}})(Zt.API),Zt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=x6e(e,{checkCrc:!0}),s=i.width,o=i.height,c=i.channels,d=i.palette,h=i.depth;n=d&&c===1?(function(U){for(var I=U.width,K=U.height,D=U.data,F=U.palette,H=U.depth,Y=!1,ne=[],X=[],ae=void 0,ue=!1,se=0,be=0;be<F.length;be++){var J=wL(F[be],4),M=J[0],z=J[1],q=J[2],G=J[3];ne.push(M,z,q),G!=null&&(G===0?(se++,X.length<1&&X.push(be)):G<255&&(ue=!0))}if(ue||se>1){Y=!0,X=void 0;var re=I*K;ae=new Uint8Array(re);for(var he=new DataView(D.buffer),je=0;je<re;je++){var oe=q_(he,je,H),Ne=wL(F[oe],4)[3];ae[je]=Ne}}else se===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:D,alphaBytes:ae,needSMask:Y,palette:ne,mask:X}})(i):c===2||c===4?(function(U){for(var I=U.data,K=U.width,D=U.height,F=U.channels,H=U.depth,Y=F===2?"DeviceGray":"DeviceRGB",ne=F-1,X=K*D,ae=ne,ue=X*ae,se=1*X,be=Math.ceil(ue*H/8),J=Math.ceil(se*H/8),M=new Uint8Array(be),z=new Uint8Array(J),q=new DataView(I.buffer),G=new DataView(M.buffer),re=new DataView(z.buffer),he=!1,je=0;je<X;je++){for(var oe=je*F,Ne=0;Ne<ae;Ne++)j9(G,q_(q,oe+Ne,H),je*ae+Ne,H);var Me=q_(q,oe+ae,H);Me<(1<<H)-1&&(he=!0),j9(re,Me,1*je,H)}return{colorSpace:Y,colorsPerPixel:ne,sMaskBitsPerComponent:he?H:void 0,colorBytes:M,alphaBytes:z,needSMask:he}})(i):(function(U){var I=U.data,K=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(D){for(var F=D.length,H=new Uint8Array(2*F),Y=new DataView(H.buffer,H.byteOffset,H.byteLength),ne=0;ne<F;ne++)Y.setUint16(2*ne,D[ne],!1);return H})(I):I,needSMask:!1}})(i);var m,x,p,y=n,v=y.colorSpace,b=y.colorsPerPixel,k=y.sMaskBitsPerComponent,N=y.colorBytes,_=y.alphaBytes,T=y.needSMask,P=y.palette,O=y.mask,L=null;return a!==Zt.API.image_compression.NONE&&typeof HS=="function"?(L=(function(U){var I;switch(U){case Zt.API.image_compression.FAST:I=11;break;case Zt.API.image_compression.MEDIUM:I=13;break;case Zt.API.image_compression.SLOW:I=14;break;default:I=12}return I})(a),m=this.decode.FLATE_DECODE,x="/Predictor ".concat(L," /Colors ").concat(b," /BitsPerComponent ").concat(h," /Columns ").concat(s),e=w9(N,Math.ceil(s*b*h/8),b,h,a),T&&(p=w9(_,Math.ceil(s*k/8),1,k,a))):(m=void 0,x=void 0,e=N,T&&(p=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:x,transparency:O,palette:P,sMask:p,predictor:L,width:s,height:o,bitsPerComponent:h,sMaskBitsPerComponent:k,colorSpace:v}}},(function(e){e.processGIF89A=function(t,r,a,n){var i=new F6e(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:o},h=new $_(100).encode(d,100);return e.processJPEG.call(this,h,r,a,n)},e.processGIF87A=e.processGIF89A})(Zt.API),_c.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_c.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ya.log("bit decode error:"+r)}},_c.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),s=a*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},_c.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),s=a*this.width*4+2*n*4,o=i>>4,c=15&i,d=this.palette[o];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},_c.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(n<this.palette.length){var s=this.palette[n];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},_c.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,d=i>>15?255:0,h=a*this.width*4+4*n;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=d}this.pos+=e}},_c.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,d=(s>>11)/t*255|0,h=n*this.width*4+4*i;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},_c.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=n,this.data[s+2]=a,this.data[s+3]=255}this.pos+=this.width%4}},_c.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=s}},_c.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,a,n){var i=new _c(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},d=new $_(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)}})(Zt.API),T9.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,a,n){var i=new T9(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},d=new $_(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)}})(Zt.API),Zt.API.processRGBA=function(e,t,r){for(var a=e.data,n=a.length,i=new Uint8Array(n/4*3),s=new Uint8Array(n/4),o=0,c=0,d=0;d<n;d+=4){var h=a[d],m=a[d+1],x=a[d+2],p=a[d+3];i[o++]=h,i[o++]=m,i[o++]=x,s[c++]=p}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bp=Zt.API,db=bp.getCharWidthsArray=function(e,t){var r,a,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:n.metadata.Unicode.widths,c=o.fof?o.fof:1,d=t.kerning?t.kerning:n.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=t.doKerning!==!1,x=0,p=e.length,y=0,v=o[0]||c,b=[];for(r=0;r<p;r++)a=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?b.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+s*(1e3/i)||0)/1e3):(x=m&&Oa(d[a])==="object"&&!isNaN(parseInt(d[a][y],10))?d[a][y]/h:0,b.push((o[a]||v)/c+x)),y=a;return b},v9=bp.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return bp.processArabic&&(e=bp.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,n)/r:db.apply(this,arguments).reduce(function(i,s){return i+s},0)},y9=function(e,t,r,a){for(var n=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;n.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>a&&(n.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&n.push(e.slice(c,i)),n},b9=function(e,t,r){r||(r={});var a,n,i,s,o,c,d,h=[],m=[h],x=r.textIndent||0,p=0,y=0,v=e.split(" "),b=db.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var k=Array(c).join(" "),N=[];v.map(function(T){(T=T.split(/\s*\n/)).length>1?N=N.concat(T.map(function(P,O){return(O&&P.length?`
`:"")+P})):N.push(T[0])}),v=N,c=v9.apply(this,[k,r])}for(i=0,s=v.length;i<s;i++){var _=0;if(a=v[i],c&&a[0]==`
`&&(a=a.substr(1),_=1),x+p+(y=(n=db.apply(this,[a,r])).reduce(function(T,P){return T+P},0))>t||_){if(y>t){for(o=y9.apply(this,[a,n,t-(x+p),t]),h.push(o.shift()),h=[o.pop()];o.length;)m.push([o.shift()]);y=n.slice(a.length-(h[0]?h[0].length:0)).reduce(function(T,P){return T+P},0)}else h=[a];m.push(h),x=y+c,p=b}else h.push(a),x+=p+y,p=b}return d=c?function(T,P){return(P?k:"")+T.join(" ")}:function(T){return T.join(" ")},m.map(d)},bp.splitTextToSize=function(e,t,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),x="Unicode";return m.metadata[x]?{widths:m.metadata[x].widths||{0:1},kerning:m.metadata[x].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=a.length;o<c;o++)d=d.concat(b9.apply(this,[a[o],s,i]));return d},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[r[i]]=t[i],n[t[i]]=r[i];var s=function(x){return"0x"+parseInt(x,10).toString(16)},o=e.__fontmetrics__.compress=function(x){var p,y,v,b,k=["{"];for(var N in x){if(p=x[N],isNaN(parseInt(N,10))?y="'"+N+"'":(N=parseInt(N,10),y=(y=s(N).slice(2)).slice(0,-1)+n[y.slice(-1)]),typeof p=="number")p<0?(v=s(p).slice(3),b="-"):(v=s(p).slice(2),b=""),v=b+v.slice(0,-1)+n[v.slice(-1)];else{if(Oa(p)!=="object")throw new Error("Don't know what to do with value type "+Oa(p)+".");v=o(p)}k.push(y+v)}return k.push("}"),k.join("")},c=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,y,v,b,k={},N=1,_=k,T=[],P="",O="",L=x.length-1,U=1;U<L;U+=1)(b=x[U])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(T.push([_,v]),_={},v=void 0):b=="}"?((y=T.pop())[0][y[1]]=_,v=void 0,_=y[0]):b=="-"?N=-1:v===void 0?a.hasOwnProperty(b)?(P+=a[b],v=parseInt(P,16)*N,N=1,P=""):P+=b:a.hasOwnProperty(b)?(O+=a[b],_[v]=parseInt(O,16)*N,N=1,v=void 0,O=""):O+=b;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var p=x.font,y=m.Unicode[p.postScriptName];y&&(p.metadata.Unicode={},p.metadata.Unicode.widths=y.widths,p.metadata.Unicode.kerning=y.kerning);var v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])})(Zt.API),(function(e){var t=function(r){for(var a=r.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=r.charCodeAt(i);return n};e.API.events.push(["addFont",function(r){var a=void 0,n=r.font,i=r.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(bb(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,a)}}])})(Zt),Zt.API.addSvgAsImage=function(e,t,r,a,n,i,s,o){if(isNaN(t)||isNaN(r))throw Ya.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw Ya.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Nr.canvg?Promise.resolve(Nr.canvg):wk(()=>import("./index.es-DqhgFm01.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),t,r,a,n,s,o)})},Zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,r);return this},Zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,n,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],d=0,h=0,m=0;function x(y,v){var b,k=!1;for(b=0;b<y.length;b+=1)y[b]===v&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(m=0;m<p;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Oa(e)==="object"){for(n in e)if(i=e[n],x(o,n)&&i!==void 0){if(r[n].type==="boolean"&&typeof i=="boolean")r[n].value=i;else if(r[n].type==="name"&&x(r[n].valueSet,i))r[n].value=i;else if(r[n].type==="integer"&&Number.isInteger(i))r[n].value=i;else if(r[n].type==="array"){for(d=0;d<i.length;d+=1)if(a=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(h=0;h<i[d].length;h+=1)typeof i[d][h]!="number"&&(a=!1);a===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[n].value="["+c.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+s.length+o.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Zt.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,x=i.length;m<x;++m){if(o=s.metadata.characterToGlyph(i.charCodeAt(m)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(d[4-o.length],o)}return h.join("")},a=function(i){var s,o,c,d,h,m,x;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,x=(o=Object.keys(i).sort(function(p,y){return p-y})).length;m<x;m++)s=o[m],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(d=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,d=s.newObject,h=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,x=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<x.length;y++)p+=String.fromCharCode(x[y]);var v=d();h({data:p,addLength1:!0,objectId:v}),c("endobj");var b=d();h({data:a(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var k=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Np(o.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var N=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Np(o.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+e.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+Np(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,d=s.newObject,h=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var y=d();h({data:x,addLength1:!0,objectId:y}),c("endobj");var v=d();h({data:a(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+Np(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var k=0;k<o.metadata.hmtx.widths.length;k++)o.metadata.hmtx.widths[k]=parseInt(o.metadata.hmtx.widths[k]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Np(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var n=function(i){var s,o=i.text||"",c=i.x,d=i.y,h=i.options||{},m=i.mutex||{},x=m.pdfEscape,p=m.activeFontKey,y=m.fonts,v=p,b="",k=0,N="",_=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:c,y:d,options:h,mutex:m};for(N=o,v=p,Array.isArray(o)&&(N=o[0]),k=0;k<N.length;k+=1)y[v].metadata.hasOwnProperty("cmap")&&(s=y[v].metadata.cmap.unicode.codeMap[N[k].charCodeAt(0)]),s||N[k].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?b+=N[k]:b+="";var T="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?T=x(b,v).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(T=r(b,y[v])),m.isHex=!0,{text:T,x:c,y:d,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?o.push([n(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):o.push(n(Object.assign({},c,{text:s[d]})).text);i.text=o}else i.text=n(Object.assign({},c,{text:s})).text}])})(Zt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Zt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,i,s,o,c,d,h,m=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,_=0;this.__bidiEngine__={};var T=function(D){var F=D.charCodeAt(),H=F>>8,Y=v[H];return Y!==void 0?m[256*Y+(255&F)]:H===252||H===253?"AL":k.test(H)?"L":H===8?"R":"N"},P=function(D){for(var F,H=0;H<D.length;H++){if((F=T(D.charAt(H)))==="L")return!1;if(F==="R")return!0}return!1},O=function(D,F,H,Y){var ne,X,ae,ue,se=F[Y];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(se="AN");break;case"AL":N=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":Y<1||Y+1>=F.length||(ne=H[Y-1])!=="EN"&&ne!=="AN"||(X=F[Y+1])!=="EN"&&X!=="AN"?se="N":N&&(X="AN"),se=X===ne?X:"N";break;case"ES":se=(ne=Y>0?H[Y-1]:"B")==="EN"&&Y+1<F.length&&F[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&H[Y-1]==="EN"){se="EN";break}if(N){se="N";break}for(ae=Y+1,ue=F.length;ae<ue&&F[ae]==="ET";)ae++;se=ae<ue&&F[ae]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ue=F.length,ae=Y+1;ae<ue&&F[ae]==="NSM";)ae++;if(ae<ue){var be=D[Y],J=be>=1425&&be<=2303||be===64286;if(ne=F[ae],J&&(ne==="R"||ne==="AL")){se="R";break}}}se=Y<1||(ne=F[Y-1])==="B"?"N":H[Y-1];break;case"B":N=!1,n=!0,se=_;break;case"S":i=!0,se="N"}return se},L=function(D,F,H){var Y=D.split("");return H&&U(Y,H,{hiLevel:_}),Y.reverse(),F&&F.reverse(),Y.join("")},U=function(D,F,H){var Y,ne,X,ae,ue,se=-1,be=D.length,J=0,M=[],z=_?p:x,q=[];for(N=!1,n=!1,i=!1,ne=0;ne<be;ne++)q[ne]=T(D[ne]);for(X=0;X<be;X++){if(ue=J,M[X]=O(D,q,M,X),Y=240&(J=z[ue][y[M[X]]]),J&=15,F[X]=ae=z[J][5],Y>0)if(Y===16){for(ne=se;ne<X;ne++)F[ne]=1;se=-1}else se=-1;if(z[J][6])se===-1&&(se=X);else if(se>-1){for(ne=se;ne<X;ne++)F[ne]=ae;se=-1}q[X]==="B"&&(F[X]=0),H.hiLevel|=ae}i&&(function(G,re,he){for(var je=0;je<he;je++)if(G[je]==="S"){re[je]=_;for(var oe=je-1;oe>=0&&G[oe]==="WS";oe--)re[oe]=_}})(q,F,be)},I=function(D,F,H,Y,ne){if(!(ne.hiLevel<D)){if(D===1&&_===1&&!n)return F.reverse(),void(H&&H.reverse());for(var X,ae,ue,se,be=F.length,J=0;J<be;){if(Y[J]>=D){for(ue=J+1;ue<be&&Y[ue]>=D;)ue++;for(se=J,ae=ue-1;se<ae;se++,ae--)X=F[se],F[se]=F[ae],F[ae]=X,H&&(X=H[se],H[se]=H[ae],H[ae]=X);J=ue}J++}}},K=function(D,F,H){var Y=D.split(""),ne={hiLevel:_};return H||(H=[]),U(Y,H,ne),(function(X,ae,ue){if(ue.hiLevel!==0&&h)for(var se,be=0;be<X.length;be++)ae[be]===1&&(se=b.indexOf(X[be]))>=0&&(X[be]=b[se+1])})(Y,H,ne),I(2,Y,F,H,ne),I(1,Y,F,H,ne),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(D,F,H){if((function(ne,X){if(X)for(var ae=0;ae<ne.length;ae++)X[ae]=ae;o===void 0&&(o=P(ne)),d===void 0&&(d=P(ne))})(D,F),s||!c||d)if(s&&c&&o^d)_=o?1:0,D=L(D,F,H);else if(!s&&c&&d)_=o?1:0,D=K(D,F,H),D=L(D,F);else if(!s||o||c||d){if(s&&!c&&o^d)D=L(D,F),o?(_=0,D=K(D,F,H)):(_=1,D=K(D,F,H),D=L(D,F));else if(s&&o&&!c&&d)_=1,D=K(D,F,H),D=L(D,F);else if(!s&&!c&&o^d){var Y=h;o?(_=1,D=K(D,F,H),_=0,h=!1,D=K(D,F,H),h=Y):(_=0,D=K(D,F,H),D=L(D,F),_=1,h=!1,D=K(D,F,H),h=Y,D=L(D,F))}}else _=0,D=K(D,F,H);else _=o?1:0,D=K(D,F,H);return D},this.__bidiEngine__.setOptions=function(D){D&&(s=D.isInputVisual,c=D.isOutputVisual,o=D.isInputRtl,d=D.isOutputRtl,h=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var o=0;for(s=[],o=0;o<n.length;o+=1)Object.prototype.toString.call(n[o])==="[object Array]"?s.push([r.doBidiReorder(n[o][0]),n[o][1],n[o][2]]):s.push([r.doBidiReorder(n[o])]);a.text=s}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])})(Zt),Zt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new xf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Z6e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new B6e(this.contents),this.head=new z6e(this),this.name=new V6e(this),this.cmap=new GH(this),this.toUnicode={},this.hhea=new q6e(this),this.maxp=new K6e(this),this.hmtx=new G6e(this),this.post=new H6e(this),this.os2=new $6e(this),this.loca=new J6e(this),this.glyf=new Y6e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,d;for(d=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var n,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e})();var qc,xf=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,n;for(n=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,n,i,s,o,c;return t=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*n+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,n,i;for(i=[],a=0,n=t.length;a<n;a++)r=t[a],i.push(this.writeByte(r));return i},e})(),B6e=(function(){var e;function t(r){var a,n,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,n,i,s,o,c,d,h,m,x,p,y,v;for(v in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),s=Math.floor(m/c),h=16*p-m,(n=new xf).writeInt(this.scalarType),n.writeShort(p),n.writeShort(m),n.writeShort(s),n.writeShort(h),i=16*p,d=n.pos+i,o=null,y=[],r)for(x=r[v],n.writeString(v),n.writeInt(e(x)),n.writeInt(d),n.writeInt(x.length),y=y.concat(x),v==="head"&&(o=d),d+=x.length;d%4;)y.push(0),d++;return n.write(y),a=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(a),n.data},e=function(r){var a,n,i,s;for(r=YH.call(r);r.length%4;)r.push(0);for(i=new xf(r),n=0,a=0,s=r.length;a<s;a=a+=4)n+=i.readUInt32();return 4294967295&n},t})(),U6e={}.hasOwnProperty,Iu=function(e,t){for(var r in t)U6e.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};qc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var z6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new xf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),E9=(function(){function e(t,r){var a,n,i,s,o,c,d,h,m,x,p,y,v,b,k,N,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,i=(function(){var T,P;for(P=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)P.push(t.readUInt16());return P})(),t.pos+=2,v=(function(){var T,P;for(P=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)P.push(t.readUInt16());return P})(),d=(function(){var T,P;for(P=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)P.push(t.readUInt16());return P})(),h=(function(){var T,P;for(P=[],c=T=0;0<=x?T<x:T>x;c=0<=x?++T:--T)P.push(t.readUInt16());return P})(),n=(this.length-t.pos+this.offset)/2,o=(function(){var T,P;for(P=[],c=T=0;0<=n?T<n:T>n;c=0<=n?++T:--T)P.push(t.readUInt16());return P})(),c=k=0,_=i.length;k<_;c=++k)for(b=i[c],a=N=y=v[c];y<=b?N<=b:N>=b;a=y<=b?++N:--N)h[c]===0?s=a+d[c]:(s=o[h[c]/2+(a-y)-(x-c)]||0)!==0&&(s+=d[c]),this.codeMap[a]=65535&s}t.pos=m}return e.encode=function(t,r){var a,n,i,s,o,c,d,h,m,x,p,y,v,b,k,N,_,T,P,O,L,U,I,K,D,F,H,Y,ne,X,ae,ue,se,be,J,M,z,q,G,re,he,je,oe,Ne,Me,Q;switch(Y=new xf,s=Object.keys(t).sort(function(Te,Ae){return Te-Ae}),r){case"macroman":for(v=0,b=(function(){var Te=[];for(y=0;y<256;++y)Te.push(0);return Te})(),N={0:0},i={},ne=0,se=s.length;ne<se;ne++)N[oe=t[n=s[ne]]]==null&&(N[oe]=++v),i[n]={old:t[n],new:N[t[n]]},b[n]=N[t[n]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(b),{charMap:i,subtable:Y.data,maxGlyphID:v+1};case"unicode":for(F=[],m=[],_=0,N={},a={},k=d=null,X=0,be=s.length;X<be;X++)N[P=t[n=s[X]]]==null&&(N[P]=++_),a[n]={old:P,new:N[P]},o=N[P]-n,k!=null&&o===d||(k&&m.push(k),F.push(n),d=o),k=n;for(k&&m.push(k),m.push(65535),F.push(65535),K=2*(I=F.length),U=2*Math.pow(Math.log(I)/Math.LN2,2),x=Math.log(U/2)/Math.LN2,L=2*I-U,c=[],O=[],p=[],y=ae=0,J=F.length;ae<J;y=++ae){if(D=F[y],h=m[y],D===65535){c.push(0),O.push(0);break}if(D-(H=a[D].new)>=32768)for(c.push(0),O.push(2*(p.length+I-y)),n=ue=D;D<=h?ue<=h:ue>=h;n=D<=h?++ue:--ue)p.push(a[n].new);else c.push(H-D),O.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*I+2*p.length),Y.writeUInt16(0),Y.writeUInt16(K),Y.writeUInt16(U),Y.writeUInt16(x),Y.writeUInt16(L),he=0,M=m.length;he<M;he++)n=m[he],Y.writeUInt16(n);for(Y.writeUInt16(0),je=0,z=F.length;je<z;je++)n=F[je],Y.writeUInt16(n);for(Ne=0,q=c.length;Ne<q;Ne++)o=c[Ne],Y.writeUInt16(o);for(Me=0,G=O.length;Me<G;Me++)T=O[Me],Y.writeUInt16(T);for(Q=0,re=p.length;Q<re;Q++)v=p[Q],Y.writeUInt16(v);return{charMap:a,subtable:Y.data,maxGlyphID:_+1}}},e})(),GH=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r=new E9(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,n;return r==null&&(r="macroman"),a=E9.encode(t,r),(n=new xf).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e})(),q6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),$6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),H6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)r=t.readByte(),n.push(this.names.push(t.readString(r)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=(function(){var s,o,c;for(c=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)c.push(t.readUInt32());return c}).call(this)}},e})(),W6e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},V6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,n,i,s,o,c,d,h,m,x;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},i=h=0,m=a.length;h<m;i=++h)n=a[i],t.pos=n.offset,d=t.readString(n.length),s=new W6e(d,n),c[x=n.nameID]==null&&(c[x]=[]),c[n.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e})(),K6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),G6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,n,i,s,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,h;for(h=[],r=d=0;0<=n?d<n:d>n;r=0<=n?++d:--d)h.push(t.readInt16());return h})(),this.widths=(function(){var d,h,m,x;for(x=[],d=0,h=(m=this.metrics).length;d<h;d++)i=m[d],x.push(i.advance);return x}).call(this),a=this.widths[this.widths.length-1],c=[],r=s=0;0<=n?s<n:s>n;r=0<=n?++s:--s)c.push(this.widths.push(a));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),YH=[].slice,Y6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,n,i,s,o,c,d,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,s=(o=new xf(r.read(n))).readShort(),d=o.readShort(),m=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[t]=s===-1?new Q6e(o,d,m,c,h):new X6e(o,s,d,m,c,h),this.cache[t]))},e.prototype.encode=function(t,r,a){var n,i,s,o,c;for(s=[],i=[],o=0,c=r.length;o<c;o++)n=t[r[o]],i.push(s.length),n&&(s=s.concat(n.encode(a)));return i.push(s.length),{table:s,offsets:i}},e})(),X6e=(function(){function e(t,r,a,n,i,s){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Q6e=(function(){function e(t,r,a,n,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new xf(YH.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),J6e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Iu(e,qc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,s=0;s<a.length;++s)if(a[s]=n,i<r.length&&r[i]==s){++i,a[s]=n;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(n+=c)}for(var d=new Array(4*a.length),h=0;h<a.length;++h)d[4*h+3]=255&a[h],d[4*h+2]=(65280&a[h])>>8,d[4*h+1]=(16711680&a[h])>>16,d[4*h]=(4278190080&a[h])>>24;return d},e})(),Z6e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,n,i;for(r in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=n[a];return t},e.prototype.glyphsFor=function(t){var r,a,n,i,s,o,c;for(n={},s=0,o=t.length;s<o;s++)n[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],n)(a=n[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))a=c[i],n[i]=a;return n},e.prototype.encode=function(t,r){var a,n,i,s,o,c,d,h,m,x,p,y,v,b,k;for(n in a=GH.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},k=a.charMap)p[(c=k[n]).old]=c.new;for(y in x=a.maxGlyphID,s)y in p||(p[y]=x++);return h=(function(N){var _,T;for(_ in T={},N)T[N[_]]=_;return T})(p),m=Object.keys(h).sort(function(N,_){return N-_}),v=(function(){var N,_,T;for(T=[],N=0,_=m.length;N<_;N++)o=m[N],T.push(h[o]);return T})(),i=this.font.glyf.encode(s,v,p),d=this.font.loca.encode(i.offsets,v),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e})();Zt.API.PDFObject=(function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,n,i,s;if(Array.isArray(r))return"["+(function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)a=r[o],d.push(t.convert(a));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in i=["<<"],r)s=r[n],i.push("/"+n+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();function XH(e,t,r,a,n){a=a||{};var i=1.15,s=n.internal.scaleFactor,o=n.internal.getFontSize()/s,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=o*c,h=/\r\n|\r|\n/g,m="",x=1;if((a.valign==="middle"||a.valign==="bottom"||a.halign==="center"||a.halign==="right")&&(m=typeof e=="string"?e.split(h):e,x=m.length||1),r+=o*(2-i),a.valign==="middle"?r-=x/2*d:a.valign==="bottom"&&(r-=x*d),a.halign==="center"||a.halign==="right"){var p=o;if(a.halign==="center"&&(p*=.5),m&&x>=1){for(var y=0;y<m.length;y++)n.text(m[y],t-n.getStringUnitWidth(m[y])*p,r),r+=d;return n}t-=n.getStringUnitWidth(e)*p}return a.halign==="justify"?n.text(e,t,r,{maxWidth:a.maxWidth||100,align:"justify"}):n.text(e,t,r),n}var C9={},zp=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:C9=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var a,n,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),o=d[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var h=e.unifyColor(t.fillColor);h&&(a=this.jsPDFDocument).setFillColor.apply(a,h),h=e.unifyColor(t.textColor),h&&(n=this.jsPDFDocument).setTextColor.apply(n,h),h=e.unifyColor(t.lineColor),h&&(i=this.jsPDFDocument).setDrawColor.apply(i,h),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,a){return this.jsPDFDocument.splitTextToSize(t,r,a)},e.prototype.rect=function(t,r,a,n,i){return this.jsPDFDocument.rect(t,r,a,n,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return C9||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),JS=function(e,t){return JS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},JS(e,t)};function QH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");JS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var JH=(function(e){QH(t,e);function t(r){var a=e.call(this)||this;return a._element=r,a}return t})(Array);function eje(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function tje(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function z2(e,t,r){r.applyStyles(t,!0);var a=Array.isArray(e)?e:[e],n=a.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return n}function ZH(e,t,r,a){var n=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:n,lineColor:i});var s=eW(n,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),a.y-r.y,s)}function eW(e,t){var r=e>0,a=t||t===0;return r&&a?"DF":r?"S":a?"F":null}function Jw(e,t){var r,a,n,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(a=e.top)!==null&&a!==void 0?a:t,right:(n=e.right)!==null&&n!==void 0?n:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function tW(e,t){var r=Jw(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function rje(e,t,r,a,n){var i={},s=1.3333333333333333,o=H_(t,function(_){return n.getComputedStyle(_).backgroundColor});o!=null&&(i.fillColor=o);var c=H_(t,function(_){return n.getComputedStyle(_).color});c!=null&&(i.textColor=c);var d=nje(a,r);d&&(i.cellPadding=d);var h="borderTopColor",m=s*r,x=a.borderTopWidth;if(a.borderBottomWidth===x&&a.borderRightWidth===x&&a.borderLeftWidth===x){var p=(parseFloat(x)||0)/m;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/m,right:(parseFloat(a.borderRightWidth)||0)/m,bottom:(parseFloat(a.borderBottomWidth)||0)/m,left:(parseFloat(a.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?h="borderRightColor":i.lineWidth.bottom?h="borderBottomColor":i.lineWidth.left&&(h="borderLeftColor"));var y=H_(t,function(_){return n.getComputedStyle(_)[h]});y!=null&&(i.lineColor=y);var v=["left","right","center","justify"];v.indexOf(a.textAlign)!==-1&&(i.halign=a.textAlign),v=["middle","bottom","top"],v.indexOf(a.verticalAlign)!==-1&&(i.valign=a.verticalAlign);var b=parseInt(a.fontSize||"");isNaN(b)||(i.fontSize=b/s);var k=aje(a);k&&(i.fontStyle=k);var N=(a.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(i.font=N),i}function aje(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function H_(e,t){var r=rW(e,t);if(!r)return null;var a=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!a||!Array.isArray(a))return null;var n=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])],i=parseInt(a[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function rW(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:rW(e.parentElement,t):r}function nje(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],a=96/(72/t),n=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/a}),s=Jw(i,0);return n>s.top&&(s.top=n),n>s.bottom&&(s.bottom=n),s}function aW(e,t,r,a,n){var i,s;a===void 0&&(a=!1),n===void 0&&(n=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),h=[],m=[],x=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:h,body:m,foot:x};for(var p=0;p<o.rows.length;p++){var y=o.rows[p],v=(s=(i=y==null?void 0:y.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),b=ije(c,d,r,y,a,n);b&&(v==="thead"?h.push(b):v==="tfoot"?x.push(b):m.push(b))}return{head:h,body:m,foot:x}}function ije(e,t,r,a,n,i){for(var s=new JH(a),o=0;o<a.cells.length;o++){var c=a.cells[o],d=r.getComputedStyle(c);if(n||d.display!=="none"){var h=void 0;i&&(h=rje(e,c,t,d,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:h,_element:c,content:sje(c)})}}var m=r.getComputedStyle(a);if(s.length>0&&(n||m.display!=="none"))return s}function sje(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function oje(e,t,r){for(var a=0,n=[e,t,r];a<n.length;a++){var i=n[a];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function A0(e,t,r,a,n){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(i[c]=o[c])}return i}function nW(e,t){var r=new zp(e),a=r.getDocumentOptions(),n=r.getGlobalOptions();oje(n,a,t);var i=A0({},n,a,t),s;typeof window<"u"&&(s=window);var o=lje(n,a,t),c=cje(n,a,t),d=uje(r,i),h=fje(r,i,s);return{id:t.tableId,content:h,hooks:c,styles:o,settings:d}}function lje(e,t,r){for(var a={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=e[c],h=t[c],m=r[c];a.columnStyles=A0({},d,h,m)}else{var x=[e,t,r],p=x.map(function(y){return y[c]||{}});a[c]=A0({},p[0],p[1],p[2])}},i=0,s=Object.keys(a);i<s.length;i++){var o=s[i];n(o)}return a}function cje(e,t,r){for(var a=[e,t,r],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=a;i<s.length;i++){var o=s[i];o.didParseCell&&n.didParseCell.push(o.didParseCell),o.willDrawCell&&n.willDrawCell.push(o.willDrawCell),o.didDrawCell&&n.didDrawCell.push(o.didDrawCell),o.willDrawPage&&n.willDrawPage.push(o.willDrawPage),o.didDrawPage&&n.didDrawPage.push(o.didDrawPage)}return n}function uje(e,t){var r,a,n,i,s,o,c,d,h,m,x,p,y=Jw(t.margin,40/e.scaleFactor()),v=(r=dje(e,t.startY))!==null&&r!==void 0?r:y.top,b;t.showFoot===!0?b="everyPage":t.showFoot===!1?b="never":b=(a=t.showFoot)!==null&&a!==void 0?a:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(n=t.showHead)!==null&&n!==void 0?n:"everyPage";var N=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(N?"plain":"striped"),T=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:_,startY:v,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=t.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(h=t.tableWidth)!==null&&h!==void 0?h:"auto",showHead:k,showFoot:b,tableLineWidth:(m=t.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(x=t.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:T,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function dje(e,t){var r=e.getLastAutoTable(),a=e.scaleFactor(),n=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===n}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/a:null}function fje(e,t,r){var a=t.head||[],n=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=aW(e,t.html,r,s,t.useCss)||{};a=o.head||a,n=o.body||a,i=o.foot||a}else console.error("Cannot parse html in non browser environment")}var c=t.columns||hje(a,n,i);return{columns:c,head:a,body:n,foot:i}}function hje(e,t,r){var a=e[0]||t[0]||r[0]||[],n=[];return Object.keys(a).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(a)?o=a[parseInt(i)]:o=a[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var c=0;c<s;c++){var d=void 0;Array.isArray(a)?d=n.length:d=i+(c>0?"_".concat(c):"");var h={dataKey:d};n.push(h)}}),n}var ZS=(function(){function e(t,r,a){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=a,this.doc=t.getDocument()}return e})(),mje=(function(e){QH(t,e);function t(r,a,n,i,s,o){var c=e.call(this,r,a,o)||this;return c.cell=n,c.row=i,c.column=s,c.section=i.section,c}return t})(ZS),pje=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,a){return r+a.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,a,n,i,s){for(var o=0,c=r;o<c.length;o++){var d=c[o],h=new mje(t,this,a,n,i,s),m=d(h)===!1;if(a.text=Array.isArray(a.text)?a.text:[a.text],m)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var a=0,n=this.hooks.didDrawPage;a<n.length;a++){var i=n[a];i(new ZS(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var a=0,n=this.hooks.willDrawPage;a<n.length;a++){var i=n[a];i(new ZS(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return r}else{var a=this.settings.margin;return t-a.left-a.right}},e})(),iW=(function(){function e(t,r,a,n,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof JH&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=a,this.cells=n,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(a,n){var i;return Math.max(a,((i=r.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(a){var n=r.cells[a.index];return n?n.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var a=this;return t.reduce(function(n,i){var s=a.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),d=c+o;return d>n?d:n},0)},e})(),sW=(function(){function e(t,r,a){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=a,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(n=t.content)!==null&&n!==void 0?n:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var a;if(this.styles.halign==="right")a=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");a=this.x+n/2+this.padding("left")}else a=this.x+this.padding("left");return{x:a,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var a=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/t*r,i=a*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Jw(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),gje=(function(){function e(t,r,a){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=a}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,a=0,n=t.allRows();a<n.length;a++){var i=n[a],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function xje(e,t){vje(e,t);var r=[],a=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),a+=i.width});var n=t.getWidth(e.pageSize().width)-a;n&&(n=eN(r,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=eN(r,n,function(i){return i.minWidth})),n=Math.abs(n),!t.settings.horizontalPageBreak&&n>.1/e.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),bje(t),wje(t,e),yje(t)}function vje(e,t){var r=e.scaleFactor(),a=t.settings.horizontalPageBreak,n=tW(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],d=i.cells[c.index];if(d){var h=t.hooks.didParseCell;t.callCellHooks(e,h,d,i,c,null);var m=d.padding("horizontal");d.contentWidth=z2(d.text,d.styles,e)+m;var x=z2(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=x+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||a===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var c=o[s],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var h=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},m=h.cellWidth||h.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function eN(e,t,r){for(var a=t,n=e.reduce(function(p,y){return p+y.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/n,c=a*o,d=s.width+c,h=r(s),m=d<h?h:d;t-=m-s.width,s.width=m}if(t=Math.round(t*1e10)/1e10,t){var x=e.filter(function(p){return t<0?p.width>r(p):!0});x.length&&(t=eN(x,t,r))}return t}function yje(e){for(var t={},r=1,a=e.allRows(),n=0;n<a.length;n++)for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var c=o[s],d=t[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete t[c.index];else{var h=i.cells[c.index];if(!h)continue;if(h.height=i.height,h.rowSpan>1){var m=a.length-n,x=h.rowSpan>m?m:h.rowSpan;t[c.index]={cell:h,left:x,row:i}}}}}function bje(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var a=t[r],n=null,i=0,s=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=c.width,delete a.cells[c.index];else if(n){var d=n;delete a.cells[c.index],n=null,d.width=c.width+i}else{var d=a.cells[c.index];if(!d)continue;if(s=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function wje(e,t){for(var r={count:0,height:0},a=0,n=e.allRows();a<n.length;a++){for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var c=o[s],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var h=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=t.splitTextToSize(d.text,h+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=O9(d.text,h,d.styles,t,"...");else if(d.styles.overflow==="hidden")d.text=O9(d.text,h,d.styles,t,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,h);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var x=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<x*d.rowSpan?r={height:x,count:d.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>i.height&&(i.height=x)}}r.count--}}function O9(e,t,r,a,n){return e.map(function(i){return kje(i,t,r,a,n)})}function kje(e,t,r,a,n){var i=1e4*a.scaleFactor();if(t=Math.ceil(t*i)/i,t>=z2(e,r,a))return e;for(;t<z2(e+n,r,a)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+n}function oW(e,t){var r=new zp(e),a=_je(t,r.scaleFactor()),n=new pje(t,a);return xje(r,n),r.applyStyles(r.userStyles),n}function _je(e,t){var r=e.content,a=Nje(r.columns);if(r.head.length===0){var n=P9(a,"head");n&&r.head.push(n)}if(r.foot.length===0){var n=P9(a,"foot");n&&r.foot.push(n)}var i=e.settings.theme,s=e.styles;return{columns:a,head:W_("head",r.head,a,s,i,t),body:W_("body",r.body,a,s,i,t),foot:W_("foot",r.foot,a,s,i,t)}}function W_(e,t,r,a,n,i){var s={},o=t.map(function(c,d){for(var h=0,m={},x=0,p=0,y=0,v=r;y<v.length;y++){var b=v[y];if(s[b.index]==null||s[b.index].left===0)if(p===0){var k=void 0;Array.isArray(c)?k=c[b.index-x-h]:k=c[b.dataKey];var N={};typeof k=="object"&&!Array.isArray(k)&&(N=(k==null?void 0:k.styles)||{});var _=jje(e,b,d,n,a,i,N),T=new sW(k,_,e);m[b.dataKey]=T,m[b.index]=T,p=T.colSpan-1,s[b.index]={left:T.rowSpan-1,times:p}}else p--,x++;else s[b.index].left--,p=s[b.index].times,h++}return new iW(c,d,e,m)});return o}function P9(e,t){var r={};return e.forEach(function(a){if(a.raw!=null){var n=Sje(t,a.raw);n!=null&&(r[a.dataKey]=n)}}),Object.keys(r).length>0?r:null}function Sje(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function Nje(e){return e.map(function(t,r){var a,n;return typeof t=="object"?n=(a=t.dataKey)!==null&&a!==void 0?a:r:n=r,new gje(n,t,r)})}function jje(e,t,r,a,n,i,s){var o=tje(a),c;e==="head"?c=n.headStyles:e==="body"?c=n.bodyStyles:e==="foot"&&(c=n.footStyles);var d=A0({},o.table,o[e],n.styles,c),h=n.columnStyles[t.dataKey]||n.columnStyles[t.index]||{},m=e==="body"?h:{},x=e==="body"&&r%2===0?A0({},o.alternateRow,n.alternateRowStyles):{},p=eje(i),y=A0({},p,d,x,m);return A0(y,s)}function Aje(e,t,r){var a;r===void 0&&(r={});var n=tW(e,t),i=new Map,s=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(x){var p=t.columns.find(function(y){return y.dataKey===x||y.index===x});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),n-=p.wrappedWidth)});for(var d=!0,h=(a=r==null?void 0:r.start)!==null&&a!==void 0?a:0;h<t.columns.length;){if(i.has(h)){h++;continue}var m=t.columns[h].wrappedWidth;if(d||n>=m)d=!1,s.push(h),o.push(t.columns[h]),n-=m;else break;h++}return{colIndexes:s,columns:o,lastIndex:h-1}}function Tje(e,t){for(var r=[],a=0;a<t.columns.length;a++){var n=Aje(e,t,{start:a});n.columns.length&&(r.push(n),a=n.lastIndex)}return r}function lW(e,t){var r=t.settings,a=r.startY,n=r.margin,i={x:n.left,y:a},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=a+n.bottom+s;if(r.pageBreak==="avoid"){var c=t.body,d=c.reduce(function(x,p){return x+p.height},0);o+=d}var h=new zp(e);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(uW(h),i.y=n.top),t.callWillDrawPageHooks(h,i);var m=A0({},i);t.startPageNumber=h.pageNumber(),r.horizontalPageBreak?Eje(h,t,m,i):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(x){return V0(h,t,x,i,t.columns)}),h.applyStyles(h.userStyles),t.body.forEach(function(x,p){var y=p===t.body.length-1;q2(h,t,x,y,m,i,t.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(x){return V0(h,t,x,i,t.columns)})),ZH(h,t,m,i),t.callEndPageHooks(h,i),t.finalY=i.y,e.lastAutoTable=t,h.applyStyles(h.userStyles)}function Eje(e,t,r,a){var n=Tje(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,h){e.applyStyles(e.userStyles),h>0?t1(e,t,r,a,d.columns,!0):D9(e,t,a,d.columns),Cje(e,t,r,a,d.columns),V_(e,t,a,d.columns)});else for(var s=-1,o=n[0],c=function(){var d=s;if(o){e.applyStyles(e.userStyles);var h=o.columns;s>=0?t1(e,t,r,a,h,!0):D9(e,t,a,h),d=L9(e,t,s+1,a,h),V_(e,t,a,h)}var m=d-s;n.slice(1).forEach(function(x){e.applyStyles(e.userStyles),t1(e,t,r,a,x.columns,!0),L9(e,t,s+1,a,x.columns,m),V_(e,t,a,x.columns)}),s=d};s<t.body.length-1;)c()}function D9(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(i){return V0(e,t,i,r,a)})}function Cje(e,t,r,a,n){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;q2(e,t,i,o,r,a,n)})}function L9(e,t,r,a,n,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(c,d){var h=r+d===t.body.length-1,m=cW(e,t,h,a);c.canEntireRowFit(m,n)&&(V0(e,t,c,a,n),o=r+d)}),o}function V_(e,t,r,a){var n=t.settings;e.applyStyles(e.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(i){return V0(e,t,i,r,a)})}function Oje(e,t,r){var a=r.getLineHeight(e.styles.fontSize),n=e.padding("vertical"),i=Math.floor((t-n)/a);return Math.max(0,i)}function Pje(e,t,r,a){var n={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var c=o[s],d=e.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var h=new sW(d.raw,d.styles,d.section);h=A0(h,d),h.text=[];var m=Oje(d,t,a);d.text.length>m&&(h.text=d.text.splice(m,d.text.length));var x=a.scaleFactor(),p=a.getLineHeightFactor();d.contentHeight=d.getContentHeight(x,p),d.contentHeight>=t&&(d.contentHeight=t,h.styles.minCellHeight-=t),d.contentHeight>e.height&&(e.height=d.contentHeight),h.contentHeight=h.getContentHeight(x,p),h.contentHeight>i&&(i=h.contentHeight),n[c.index]=h}}var y=new iW(e.raw,-1,e.section,n,!0);y.height=i;for(var v=0,b=r.columns;v<b.length;v++){var c=b[v],h=y.cells[c.index];h&&(h.height=y.height);var d=e.cells[c.index];d&&(d.height=e.height)}return y}function Dje(e,t,r,a){var n=e.pageSize().height,i=a.settings.margin,s=i.top+i.bottom,o=n-s;t.section==="body"&&(o-=a.getHeadHeight(a.columns)+a.getFootHeight(a.columns));var c=t.getMinimumRowHeight(a.columns,e),d=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var h=t.hasRowSpan(a.columns),m=t.getMaxCellHeight(a.columns)>o;return m?(h&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||a.settings.rowPageBreak==="avoid")}function q2(e,t,r,a,n,i,s){var o=cW(e,t,a,i);if(r.canEntireRowFit(o,s))V0(e,t,r,i,s);else if(Dje(e,r,o,t)){var c=Pje(r,o,t,e);V0(e,t,r,i,s),t1(e,t,n,i,s),q2(e,t,c,a,n,i,s)}else t1(e,t,n,i,s),q2(e,t,r,a,n,i,s)}function V0(e,t,r,a,n){a.x=t.settings.margin.left;for(var i=0,s=n;i<s.length;i++){var o=s[i],c=r.cells[o.index];if(!c){a.x+=o.width;continue}e.applyStyles(c.styles),c.x=a.x,c.y=a.y;var d=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,a);if(d===!1){a.x+=o.width;continue}Lje(e,c,a);var h=c.getTextPos();XH(c.text,h.x,h.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,a),a.x+=o.width}a.y+=r.height}function Lje(e,t,r){var a=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof a.lineWidth=="number"){var n=eW(a.lineWidth,a.fillColor);n&&e.rect(t.x,r.y,t.width,t.height,n)}else typeof a.lineWidth=="object"&&(a.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Mje(e,t,r,a.lineWidth))}function Mje(e,t,r,a){var n,i,s,o;a.top&&(n=r.x,i=r.y,s=r.x+t.width,o=r.y,a.right&&(s+=.5*a.right),a.left&&(n-=.5*a.left),c(a.top,n,i,s,o)),a.bottom&&(n=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,a.right&&(s+=.5*a.right),a.left&&(n-=.5*a.left),c(a.bottom,n,i,s,o)),a.left&&(n=r.x,i=r.y,s=r.x,o=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),c(a.left,n,i,s,o)),a.right&&(n=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,a.top&&(i-=.5*a.top),a.bottom&&(o+=.5*a.bottom),c(a.right,n,i,s,o));function c(d,h,m,x,p){e.getDocument().setLineWidth(d),e.getDocument().line(h,m,x,p,"S")}}function cW(e,t,r,a){var n=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(n+=t.getFootHeight(t.columns)),e.pageSize().height-a.y-n}function t1(e,t,r,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return V0(e,t,o,a,n)}),t.callEndPageHooks(e,a);var s=t.settings.margin;ZH(e,t,r,a),uW(e),t.pageNumber++,a.x=s.left,a.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,a),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return V0(e,t,o,a,n)}),e.applyStyles(e.userStyles))}function uW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Rje(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var a=t[0],n=nW(this,a),i=oW(this,n);return lW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,a,n){XH(t,r,a,n,this)},e.API.autoTableSetDefaults=function(t){return zp.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){zp.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var a;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new zp(this),i=aW(n,t,window,r,!1),s=i.head,o=i.body,c=((a=s[0])===null||a===void 0?void 0:a.map(function(d){return d.content}))||[];return{columns:c,rows:o,data:o}}}var K_;function im(e,t){var r=nW(e,t),a=oW(e,r);lW(e,a)}try{if(typeof window<"u"&&window){var M9=window,R9=M9.jsPDF||((K_=M9.jspdf)===null||K_===void 0?void 0:K_.jsPDF);R9&&Rje(R9)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Zw=(e,t,r)=>(e.setFontSize(20),e.setFont("helvetica","bold"),e.text(t,14,20),r&&(e.setFontSize(10),e.setFont("helvetica","normal"),e.text(r,14,28)),e.setFontSize(9),e.setTextColor(100),e.text(`Generated: ${new Date().toLocaleString("vi-VN")}`,14,r?35:28),e.setTextColor(0),r?42:35),e5=e=>{const t=e.internal.getNumberOfPages();e.setFontSize(8),e.setTextColor(100);for(let r=1;r<=t;r++)e.setPage(r),e.text(`Page ${r} of ${t}`,e.internal.pageSize.width/2,e.internal.pageSize.height-10,{align:"center"})},Ije=(e,t)=>{const r=new Zt,a=Zw(r,"INVENTORY REPORT",`Total Products: ${e.length}`),n=e.reduce((d,h)=>{const m=h.stock[t]||0,x=h.retailPrice[t]||0;return d+m*x},0),i=e.reduce((d,h)=>d+(h.stock[t]||0),0),s=e.filter(d=>(d.stock[t]||0)>0&&(d.stock[t]||0)<=10).length,o=e.filter(d=>(d.stock[t]||0)===0).length;im(r,{startY:a,head:[["Metric","Value"]],body:[["Total Inventory Value",Be(n)],["Total Products",e.length.toString()],["Total Stock Units",i.toString()],["Low Stock Items",s.toString()],["Out of Stock",o.toString()]],theme:"grid",headStyles:{fillColor:[59,130,246]}});const c=e.map(d=>{const h=d.stock[t]||0,m=d.retailPrice[t]||0,x=h*m;return[d.sku||"N/A",d.name,d.category||"Uncategorized",h.toString(),Be(m),Be(x)]});im(r,{startY:r.lastAutoTable.finalY+10,head:[["SKU","Name","Category","Stock","Price","Value"]],body:c,theme:"striped",headStyles:{fillColor:[59,130,246]},styles:{fontSize:8},columnStyles:{1:{cellWidth:50},3:{halign:"center"},4:{halign:"right"},5:{halign:"right"}}}),e5(r),r.save(`Inventory_Report_${new Date().toISOString().slice(0,10)}.pdf`)},Fje=(e,t,r={})=>{var p;const a=new Zt;let n=e;(r.start||r.end)&&(n=e.filter(y=>{const v=new Date(y.date);return!(r.start&&v<r.start||r.end&&v>r.end)}));const i=r.start?`Period: ${r.start.toLocaleDateString("vi-VN")} - ${((p=r.end)==null?void 0:p.toLocaleDateString("vi-VN"))||"Now"}`:`Total Orders: ${n.length}`,s=Zw(a,"SALES REPORT",i),o=n.reduce((y,v)=>y+v.total,0),c=n.length,d=n.reduce((y,v)=>y+v.items.reduce((b,k)=>b+k.quantity,0),0),h=c>0?o/c:0;im(a,{startY:s,head:[["Metric","Value"]],body:[["Total Revenue",Be(o)],["Total Orders",c.toString()],["Total Items Sold",d.toString()],["Average Order Value",Be(h)]],theme:"grid",headStyles:{fillColor:[16,185,129]}});const m=new Map;n.forEach(y=>{y.items.forEach(v=>{const b=m.get(v.partId),k=t.find(_=>_.id===v.partId),N=(k==null?void 0:k.name)||"Unknown Product";b?(b.quantity+=v.quantity,b.revenue+=v.sellingPrice*v.quantity):m.set(v.partId,{quantity:v.quantity,revenue:v.sellingPrice*v.quantity,name:N})})});const x=Array.from(m.entries()).map(([y,v])=>({name:v.name,quantity:v.quantity,revenue:v.revenue})).sort((y,v)=>v.revenue-y.revenue).slice(0,20);im(a,{startY:a.lastAutoTable.finalY+10,head:[["Product","Quantity Sold","Revenue"]],body:x.map(y=>[y.name,y.quantity.toString(),Be(y.revenue)]),theme:"striped",headStyles:{fillColor:[16,185,129]},styles:{fontSize:8},columnStyles:{0:{cellWidth:80},1:{halign:"center"},2:{halign:"right"}}}),e5(a),a.save(`Sales_Report_${new Date().toISOString().slice(0,10)}.pdf`)},Bje=(e,t,r,a,n,i,s={})=>{var P;const o=new Zt;let c=e,d=t;(s.start||s.end)&&(c=e.filter(O=>{const L=new Date(O.date);return!(s.start&&L<s.start||s.end&&L>s.end)}),d=t.filter(O=>{const L=new Date(O.date);return!(s.start&&L<s.start||s.end&&L>s.end)}));const h=s.start?`Period: ${s.start.toLocaleDateString("vi-VN")} - ${((P=s.end)==null?void 0:P.toLocaleDateString("vi-VN"))||"Now"}`:"All Time",m=Zw(o,"FINANCIAL REPORT",h),x=c.reduce((O,L)=>O+L.total,0),p=d.filter(O=>O.type==="Nhp kho").reduce((O,L)=>{var K;const U=r.find(D=>D.id===L.partId),I=((K=U==null?void 0:U.wholesalePrice)==null?void 0:K[a])||0;return O+I*L.quantity},0),y=x-p,v=x>0?y/x*100:0,b=r.reduce((O,L)=>{const U=L.stock[a]||0,I=L.retailPrice[a]||0;return O+U*I},0),k=n.reduce((O,L)=>O+L.amount,0),N=i.reduce((O,L)=>O+L.amount,0);im(o,{startY:m,head:[["Metric","Amount"]],body:[["Total Income",Be(x)],["Total Expenses",Be(p)],["Net Profit",Be(y)],["Profit Margin",`${v.toFixed(2)}%`],["Inventory Value",Be(b)],["Customer Debts",Be(k)],["Supplier Debts",Be(N)],["Net Position",Be(y+b+k-N)]],theme:"grid",headStyles:{fillColor:[139,92,246]},didParseCell:O=>{O.row.index===2&&(O.cell.styles.fillColor=y>=0?[220,252,231]:[254,226,226],O.cell.styles.textColor=y>=0?[22,101,52]:[127,29,29],O.cell.styles.fontStyle="bold")}});const _=o.lastAutoTable.finalY+10;o.setFontSize(10),o.setFont("helvetica","bold"),o.text("Notes:",14,_),o.setFontSize(9),o.setFont("helvetica","normal"),[" Income includes all sales revenue"," Expenses include inventory purchase costs"," Profit margin = (Net Profit / Income)  100%"," Net Position = Profit + Inventory + Customer Debts - Supplier Debts"].forEach((O,L)=>{o.text(O,14,_+7+L*5)}),e5(o),o.save(`Financial_Report_${new Date().toISOString().slice(0,10)}.pdf`)},Uje=(e,t)=>{const r=new Zt,a=e.filter(s=>{const o=s.stock[t]||0;return o>0&&o<=10}),n=e.filter(s=>(s.stock[t]||0)===0),i=Zw(r,"LOW STOCK ALERT",`Low Stock: ${a.length} | Out of Stock: ${n.length}`);if(a.length>0){r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Low Stock Items ( 10 units)",14,i);const s=a.sort((o,c)=>(o.stock[t]||0)-(c.stock[t]||0)).map(o=>{const c=o.stock[t]||0,d=c<=3?"Critical":c<=5?"Warning":"Low";return[o.sku||"N/A",o.name,o.category||"Uncategorized",c.toString(),d]});im(r,{startY:i+5,head:[["SKU","Name","Category","Stock","Status"]],body:s,theme:"striped",headStyles:{fillColor:[245,158,11]},styles:{fontSize:8},columnStyles:{1:{cellWidth:60},3:{halign:"center"},4:{halign:"center"}},didParseCell:o=>{if(o.column.index===4&&o.row.section==="body"){const c=o.cell.raw;c==="Critical"?(o.cell.styles.fillColor=[254,226,226],o.cell.styles.textColor=[127,29,29]):c==="Warning"&&(o.cell.styles.fillColor=[254,243,199],o.cell.styles.textColor=[146,64,14])}}})}if(n.length>0){const s=a.length>0?r.lastAutoTable.finalY+15:i;r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Out of Stock Items",14,s);const o=n.map(c=>[c.sku||"N/A",c.name,c.category||"Uncategorized"]);im(r,{startY:s+5,head:[["SKU","Name","Category"]],body:o,theme:"striped",headStyles:{fillColor:[239,68,68]},styles:{fontSize:8},columnStyles:{1:{cellWidth:80}}})}a.length===0&&n.length===0&&(r.setFontSize(12),r.text("All products are in stock!",14,i)),e5(r),r.save(`Low_Stock_Alert_${new Date().toISOString().slice(0,10)}.pdf`)},zje=()=>{const[e,t]=j.useState("inventory"),{parts:r,sales:a,inventoryTransactions:n,customerDebts:i,supplierDebts:s,currentBranchId:o}=yi(),c=()=>{try{switch(e){case"inventory":Ije(r,o),Nt.success(" xut bo co tn kho thnh cng!");break;case"sales":Fje(a,r),Nt.success(" xut bo co bn hng thnh cng!");break;case"financial":Bje(a,n,r,o,i,s),Nt.success(" xut bo co ti chnh thnh cng!");break}}catch(m){console.error("Export error:",m),Nt.error("Li khi xut bo co PDF")}},d=()=>{try{Uje(r,o),Nt.success(" xut bo co cnh bo tn kho!")}catch(m){console.error("Export error:",m),Nt.error("Li khi xut bo co")}},h=[{id:"inventory",label:"Tn kho",icon:u.jsx(Hl,{className:"w-4 h-4"})},{id:"sales",label:"Bn hng",icon:u.jsx(NN,{className:"w-4 h-4"})},{id:"financial",label:"Ti chnh",icon:u.jsx(nJ,{className:"w-4 h-4"})}];return u.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:"Bo co & Phn tch"}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Theo di v phn tch hiu sut kinh doanh"})]}),u.jsxs("div",{className:"flex gap-2",children:[e==="inventory"&&u.jsxs("button",{onClick:d,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[u.jsx(UR,{className:"w-4 h-4"})," Cnh bo tn kho"]}),u.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[u.jsx(G1,{className:"w-4 h-4"})," Xut PDF"]})]})]}),u.jsx("div",{className:"flex gap-2 border-b border-slate-200 dark:border-slate-700",children:h.map(m=>u.jsxs("button",{onClick:()=>t(m.id),className:`px-6 py-3 font-medium transition-all relative ${e===m.id?"text-blue-600 dark:text-blue-400":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("span",{children:m.icon}),u.jsx("span",{children:m.label})]}),e===m.id&&u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]},m.id))})]}),u.jsxs("div",{className:"animate-fadeIn",children:[e==="inventory"&&u.jsx(cSe,{}),e==="sales"&&u.jsx(uSe,{}),e==="financial"&&u.jsx(dSe,{})]})]})},qje=e=>pg({queryKey:["auditLogs",e],queryFn:async()=>{const t=await HQ(e);if(!t.ok)throw t.error;return t}}),I9={"auth.login":"ng nhp","auth.logout":"ng xut","sale.create":"To ha n","sale.delete":"Xa ha n","part.update_price":"Cp nht gi ph tng","inventory.receipt":"Nhp kho","settings.update":"Cp nht ci t","debt.customer_pay":"Thu n khch hng","debt.supplier_pay":"Tr n nh cung cp","cash.manual":"Giao dch qu th cng"},$je=()=>{var k;const{profile:e}=G0(),[t,r]=j.useState(""),[a,n]=j.useState(50),[i,s]=j.useState(""),[o,c]=j.useState(""),[d,h]=j.useState(1),{data:m,isLoading:x,refetch:p}=qje({action:t||void 0,page:d,pageSize:a,startDate:i?new Date(i).toISOString():void 0,endDate:o?new Date(o+"T23:59:59").toISOString():void 0}),y=(m==null?void 0:m.data)||[],v=((k=m==null?void 0:m.meta)==null?void 0:k.total)||0,b=Math.max(1,Math.ceil(v/a));return!e||e.role!=="owner"?u.jsxs("div",{className:"flex items-center justify-center h-96 text-slate-500 dark:text-slate-400",children:[u.jsx(_J,{className:"w-5 h-5 mr-2"})," Ch ch ca hng c xem nht k h thng."]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Nht k h thng"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:t,onChange:N=>r(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[u.jsx("option",{value:"",children:"Tt c hnh ng"}),Object.entries(I9).map(([N,_])=>u.jsx("option",{value:N,children:_},N))]}),u.jsx("input",{type:"date",value:i,onChange:N=>s(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm"}),u.jsx("input",{type:"date",value:o,onChange:N=>c(N.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm"}),u.jsx("select",{value:a,onChange:N=>n(parseInt(N.target.value)),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm",children:[25,50,100].map(N=>u.jsxs("option",{value:N,children:[N," dng"]},N))}),u.jsxs("button",{onClick:()=>p(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 text-sm",children:[u.jsx(kJ,{className:"w-4 h-4"})," Ti li"]}),u.jsx("button",{onClick:()=>Hje(y),className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg flex items-center gap-2 text-sm",children:"JSON"}),u.jsx("button",{onClick:()=>Wje(y),className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg flex items-center gap-2 text-sm",children:"CSV"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow divide-y divide-slate-200 dark:divide-slate-700",children:[u.jsxs("div",{className:"p-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:x?"ang ti...":`Hin th ${y.length} dng  Trang ${d}/${b}  Tng ${v}`}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>h(N=>Math.max(1,N-1)),disabled:d<=1,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded disabled:opacity-50",children:"Trang trc"}),u.jsx("button",{onClick:()=>h(N=>Math.min(b,N+1)),disabled:d>=b,className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded disabled:opacity-50",children:"Trang sau"})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300",children:[u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Thi gian"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Hnh ng"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Bng"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"ID bn ghi"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"D liu"}),u.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"User"})]})}),u.jsxs("tbody",{children:[x&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-4 py-6 text-center",children:u.jsx(hJ,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})})}),!x&&y.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-slate-500",children:"Khng c d liu"})}),!x&&y.map(N=>{var T;const _=I9[N.action]||N.action;return u.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/40",children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-slate-700 dark:text-slate-300",children:new Date(N.created_at).toLocaleString("vi-VN")}),u.jsx("td",{className:"px-4 py-2 text-slate-700 dark:text-slate-300",children:_}),u.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.table_name||"-"}),u.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:N.record_id||"-"}),u.jsx("td",{className:"px-4 py-2 max-w-[280px]",children:u.jsx("pre",{className:"text-xs whitespace-pre-wrap break-all bg-slate-50 dark:bg-slate-900/40 p-2 rounded border border-slate-200 dark:border-slate-700 max-h-32 overflow-y-auto",children:N.new_data||N.old_data?JSON.stringify({old:N.old_data?F9(N.old_data):void 0,new:N.new_data?F9(N.new_data):void 0},null,2):"-"})}),u.jsx("td",{className:"px-4 py-2 text-slate-600 dark:text-slate-400",children:((T=N.user_id)==null?void 0:T.slice(0,8))||"-"})]},N.id)})]})]})})]})]})};function F9(e){try{return typeof e=="string"?JSON.parse(e):e}catch{return e}}function Hje(e){try{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`audit-logs-${new Date().toISOString()}.json`,a.click(),URL.revokeObjectURL(r)}catch{}}function Wje(e){try{const r=[["created_at","action","table_name","record_id","user_id","old_data","new_data"].join(",")];for(const s of e){const o=[s.created_at,s.action,s.table_name??"",s.record_id??"",s.user_id??"",JSON.stringify(s.old_data??""),JSON.stringify(s.new_data??"")].map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",");r.push(o)}const a=new Blob([r.join(`
`)],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`audit-logs-${new Date().toISOString()}.csv`,i.click(),URL.revokeObjectURL(n)}catch{}}const Vje=()=>{const{profile:e,hasRole:t}=G0(),[r,a]=j.useState(null),[n,i]=j.useState(!0),[s,o]=j.useState(!1),[c,d]=j.useState("general");j.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:y,error:v}=await Pa.from("store_settings").select("*").limit(1).single();if(v)throw v;a(y)}catch(y){console.error("Error loading settings:",y),Nt.error("Khng th ti ci t")}finally{i(!1)}},m=async()=>{if(r){o(!0);try{const y={...r},{error:v}=await Pa.from("store_settings").update(r).eq("id",r.id);if(v)throw v;Nt.success(" lu ci t thnh cng!"),Au((e==null?void 0:e.id)||null,{action:"settings.update",tableName:"store_settings",recordId:r.id,oldData:y,newData:r})}catch(y){console.error("Error saving settings:",y),Nt.error(y.message||"Khng th lu ci t")}finally{o(!1)}}},x=(y,v)=>{r&&a({...r,[y]:v})};if(!t(["owner","manager"]))return u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsxs("div",{className:"text-center flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[u.jsx(mJ,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("p",{className:"text-lg",children:"Ch ch ca hng v qun l mi c quyn truy cp ci t"})]})});if(n||!r)return u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx($R,{size:"lg"})});const p=t(["owner"]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[u.jsx(AN,{className:"w-7 h-7 text-blue-600","aria-hidden":"true"}),u.jsx("span",{children:"Ci t h thng"})]}),u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Qun l thng tin ca hng v cu hnh h thng"})]}),p&&u.jsx("button",{onClick:m,disabled:s,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition-colors inline-flex items-center gap-2","aria-label":"Lu thay i",children:s?u.jsx("span",{children:"ang lu..."}):u.jsxs(u.Fragment,{children:[u.jsx(O3,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("span",{children:"Lu thay i"})]})})]}),!p&&u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 flex items-start gap-2",children:[u.jsx(YC,{className:"w-5 h-5 text-yellow-700 dark:text-yellow-300 mt-0.5","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Bn ch c quyn xem. Ch ch ca hng mi c th chnh sa ci t."})]}),u.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:u.jsx("div",{className:"flex gap-4",children:[{id:"general",label:"Thng tin chung",icon:u.jsx(NJ,{className:"w-4 h-4","aria-hidden":"true"})},{id:"branding",label:"Thng hiu",icon:u.jsx(RR,{className:"w-4 h-4","aria-hidden":"true"})},{id:"banking",label:"Ngn hng",icon:u.jsx(jN,{className:"w-4 h-4","aria-hidden":"true"})},{id:"invoice",label:"Ha n",icon:u.jsx(G1,{className:"w-4 h-4","aria-hidden":"true"})}].map(y=>u.jsxs("button",{onClick:()=>d(y.id),className:`px-4 py-3 font-medium border-b-2 transition-colors inline-flex items-center gap-2 ${c===y.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[y.icon,u.jsx("span",{children:y.label})]},y.id))})}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-6",children:[c==="general"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng tin ca hng"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ca hng *"}),u.jsx("input",{type:"text",value:r.store_name||"",onChange:y=>x("store_name",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ting Anh"}),u.jsx("input",{type:"text",value:r.store_name_en||"",onChange:y=>x("store_name_en",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Slogan"}),u.jsx("input",{type:"text",value:r.slogan||"",onChange:y=>x("slogan",y.target.value),disabled:!p,placeholder:"Chm sc xe my chuyn nghip",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"a ch"}),u.jsx("input",{type:"text",value:r.address||"",onChange:y=>x("address",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S in thoi"}),u.jsx("input",{type:"tel",value:r.phone||"",onChange:y=>x("phone",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:r.email||"",onChange:y=>x("email",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Website"}),u.jsx("input",{type:"url",value:r.website||"",onChange:y=>x("website",y.target.value),disabled:!p,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M s thu"}),u.jsx("input",{type:"text",value:r.tax_code||"",onChange:y=>x("tax_code",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Gi m ca"}),u.jsx("input",{type:"text",value:r.business_hours||"",onChange:y=>x("business_hours",y.target.value),disabled:!p,placeholder:"8:00 - 18:00 (T2-T7)",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Nm thnh lp"}),u.jsx("input",{type:"number",value:r.established_year||"",onChange:y=>x("established_year",Number(y.target.value)),disabled:!p,placeholder:"2020",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]})]}),c==="branding"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng hiu & Giao din"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Logo URL"}),u.jsx("input",{type:"url",value:r.logo_url||"",onChange:y=>x("logo_url",y.target.value),disabled:!p,placeholder:"https://...",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload logo ln Imgur hoc Cloudinary v dn link vo"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mu ch o"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"color",value:r.primary_color||"#3B82F6",onChange:y=>x("primary_color",y.target.value),disabled:!p,className:"w-16 h-12 rounded border border-slate-300 dark:border-slate-600 cursor-pointer disabled:opacity-50"}),u.jsx("input",{type:"text",value:r.primary_color||"#3B82F6",onChange:y=>x("primary_color",y.target.value),disabled:!p,className:"flex-1 px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]})]}),r.logo_url&&u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Preview Logo"}),u.jsx("div",{className:"p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg inline-block",children:u.jsx("img",{src:r.logo_url,alt:"Store Logo",className:"max-h-32 object-contain",onError:y=>{y.currentTarget.style.display="none"}})})]})]}),c==="banking"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Thng tin ngn hng"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Tn ngn hng"}),u.jsx("input",{type:"text",value:r.bank_name||"",onChange:y=>x("bank_name",y.target.value),disabled:!p,placeholder:"Vietcombank",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"S ti khon"}),u.jsx("input",{type:"text",value:r.bank_account_number||"",onChange:y=>x("bank_account_number",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ch ti khon"}),u.jsx("input",{type:"text",value:r.bank_account_holder||"",onChange:y=>x("bank_account_holder",y.target.value),disabled:!p,placeholder:"NGUYEN VAN A",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Chi nhnh"}),u.jsx("input",{type:"text",value:r.bank_branch||"",onChange:y=>x("bank_branch",y.target.value),disabled:!p,placeholder:"CN Qun 1",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]})]}),u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mt-4 flex items-start gap-2",children:[u.jsx(YC,{className:"w-5 h-5 text-blue-700 dark:text-blue-300 mt-0.5","aria-hidden":"true"}),u.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Thng tin ny s c in trn ha n  khch hng chuyn khon"})]})]}),c==="invoice"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Cu hnh ha n"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M ha n bn"}),u.jsx("input",{type:"text",value:r.invoice_prefix||"HD",onChange:y=>x("invoice_prefix",y.target.value),disabled:!p,placeholder:"HD",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: HD-001, HD-002"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M phiu nhp"}),u.jsx("input",{type:"text",value:r.receipt_prefix||"PN",onChange:y=>x("receipt_prefix",y.target.value),disabled:!p,placeholder:"PN",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: PN-001, PN-002"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"M phiu sa cha"}),u.jsx("input",{type:"text",value:r.work_order_prefix||"SC",onChange:y=>x("work_order_prefix",y.target.value),disabled:!p,placeholder:"SC",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"VD: SC-001, SC-002"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Ghi ch cui ha n"}),u.jsx("textarea",{rows:3,value:r.invoice_footer_note||"",onChange:y=>x("invoice_footer_note",y.target.value),disabled:!p,placeholder:"Cm n qu khch  tin tng v s dng dch v!",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"nh dng ngy"}),u.jsxs("select",{value:r.date_format||"DD/MM/YYYY",onChange:y=>x("date_format",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),u.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),u.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"n v tin t"}),u.jsxs("select",{value:r.currency||"VND",onChange:y=>x("currency",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"VND",children:"VND - Vit Nam ng"}),u.jsx("option",{value:"USD",children:"USD - US Dollar"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mi gi"}),u.jsxs("select",{value:r.timezone||"Asia/Ho_Chi_Minh",onChange:y=>x("timezone",y.target.value),disabled:!p,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"H Ch Minh (GMT+7)"}),u.jsx("option",{value:"Asia/Bangkok",children:"Bangkok (GMT+7)"}),u.jsx("option",{value:"Asia/Singapore",children:"Singapore (GMT+8)"})]})]})]})]})]}),p&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:m,disabled:s,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded-lg font-semibold transition-colors inline-flex items-center gap-2","aria-label":"Lu tt c thay i",children:s?u.jsx("span",{children:"ang lu..."}):u.jsxs(u.Fragment,{children:[u.jsx(O3,{className:"w-5 h-5","aria-hidden":"true"}),u.jsx("span",{children:"Lu tt c thay i"})]})})})]})},Kje=()=>u.jsx(pge,{}),Gje=()=>u.jsx(O3e,{}),Yje=()=>u.jsx(L3e,{}),Xje=()=>u.jsx(I3e,{currentBranchId:yi().currentBranchId}),Qje=()=>u.jsx(B3e,{}),Jje=()=>u.jsx(q3e,{}),Zje=()=>u.jsx(rH,{}),eAe=()=>u.jsx(aH,{}),tAe=()=>u.jsx(X3e,{}),rAe=()=>u.jsx(nH,{}),aAe=()=>u.jsx(sSe,{}),nAe=()=>u.jsx(oSe,{}),iAe=()=>u.jsx(eH,{}),sAe=()=>u.jsx(tH,{}),oAe=()=>u.jsx(zje,{}),lAe=()=>u.jsx(Vje,{});function cAe(){var c;const[e,t]=j.useState(!1),{theme:r,toggleTheme:a}=GQ(),{profile:n,signOut:i}=G0(),s=n==null?void 0:n.role,o={viewFinance:s==="owner"||s==="manager",viewAnalytics:s==="owner"||s==="manager",viewDebt:s==="owner"||s==="manager",viewEmployees:s==="owner"||s==="manager",viewSettings:s==="owner"||s==="manager"};return u.jsx("nav",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-50",children:u.jsx("div",{className:"max-w-[1600px] mx-auto px-6 py-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>t(!e),className:"group flex items-center gap-3 focus:outline-none","aria-label":"M ci t v ti khon",children:[u.jsx("img",{src:"/logo-smartcare.png",alt:"SmartCare Logo",className:"w-14 h-14 rounded-xl shadow-sm ring-1 ring-slate-200 dark:ring-slate-700 group-hover:shadow-md group-hover:ring-emerald-400/60 dark:group-hover:ring-emerald-500/60 transition"}),u.jsx("span",{className:"font-bold text-xl tracking-tight bg-gradient-to-r from-emerald-600 to-blue-600 text-transparent bg-clip-text dark:from-emerald-400 dark:to-blue-400 hidden md:inline",children:"Nhn Lm SmartCare"})]}),e&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)}),u.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-2 z-50",children:[u.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Ci t & ti khon"}),u.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition","aria-label":"ng",children:u.jsx(qR,{className:"w-4 h-4"})})]}),n&&u.jsxs("div",{className:"px-5 py-4 border-b border-slate-200 dark:border-slate-700 flex items-center gap-3",children:[u.jsx("div",{className:"w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:((c=n.full_name)==null?void 0:c[0])||n.email[0].toUpperCase()}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:n.full_name||n.email}),u.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate flex items-center gap-1",children:[n.role==="owner"&&u.jsx(LR,{className:"w-3.5 h-3.5 text-yellow-500"}),n.role==="manager"&&u.jsx(zR,{className:"w-3.5 h-3.5 text-indigo-500"}),n.role==="staff"&&u.jsx(TN,{className:"w-3.5 h-3.5 text-slate-500"}),u.jsx("span",{children:n.role==="owner"?"Ch ca hng":n.role==="manager"?"Qun l":"Nhn vin"})]})]})]}),u.jsxs("button",{onClick:()=>{a(),t(!1)},className:"w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center justify-between text-sm text-slate-700 dark:text-slate-200",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[r==="dark"?u.jsx(vJ,{className:"w-4 h-4"}):u.jsx(jJ,{className:"w-4 h-4"}),u.jsxs("span",{children:["Ch  ",r==="dark"?"ti":"sng"]})]}),u.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:r==="dark"?"Chuyn sang sng":"Chuyn sang ti"})]}),o.viewSettings&&u.jsx(H1,{to:"/settings",onClick:()=>t(!1),className:"block w-full px-4 py-2 text-left hover:bg-slate-100 dark:hover:bg-slate-700 text-sm text-slate-700 dark:text-slate-200",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(AN,{className:"w-4 h-4"}),u.jsx("span",{children:"Ci t h thng"})]})}),n&&u.jsx("button",{onClick:async()=>{try{await i()}finally{t(!1)}},className:"w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(pJ,{className:"w-4 h-4"}),u.jsx("span",{children:"ng xut"})]})})]})]})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fu,{to:"/dashboard",colorKey:"blue",icon:u.jsx(dJ,{className:"w-5 h-5"}),label:"Tng quan"}),u.jsx(fu,{to:"/service",colorKey:"violet",icon:u.jsx(EN,{className:"w-5 h-5"}),label:"Sa cha"}),u.jsx(fu,{to:"/sales",colorKey:"emerald",icon:u.jsx(FR,{className:"w-5 h-5"}),label:"Bn hng"}),u.jsx(fu,{to:"/inventory",colorKey:"amber",icon:u.jsx(Hl,{className:"w-5 h-5"}),label:"Qun l kho"}),u.jsx(fu,{to:"/customers",colorKey:"cyan",icon:u.jsx(l1,{className:"w-5 h-5"}),label:"Khch hng"}),o.viewEmployees&&u.jsx(fu,{to:"/employees",colorKey:"indigo",icon:u.jsx(Db,{className:"w-5 h-5"}),label:"Nhn vin"}),o.viewFinance&&u.jsx(fu,{to:"/finance",colorKey:"rose",icon:u.jsx(jN,{className:"w-5 h-5"}),label:"Ti chnh"}),o.viewDebt&&u.jsx(fu,{to:"/debt",colorKey:"orange",icon:u.jsx(NN,{className:"w-5 h-5"}),label:"Cng n"}),o.viewAnalytics&&u.jsx(fu,{to:"/analytics",colorKey:"teal",icon:u.jsx(Lb,{className:"w-5 h-5"}),label:"Phn tch"}),u.jsx(fu,{to:"/reports",colorKey:"fuchsia",icon:u.jsx(G1,{className:"w-5 h-5"}),label:"Bo co"})]}),u.jsx("div",{className:"flex items-center"})]})})})}const G_={blue:{text:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/30",hoverBg:"hover:bg-blue-50 dark:hover:bg-blue-900/20"},violet:{text:"text-violet-600 dark:text-violet-400",bg:"bg-violet-50 dark:bg-violet-900/30",hoverBg:"hover:bg-violet-50 dark:hover:bg-violet-900/20"},emerald:{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/30",hoverBg:"hover:bg-emerald-50 dark:hover:bg-emerald-900/20"},amber:{text:"text-amber-600 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/30",hoverBg:"hover:bg-amber-50 dark:hover:bg-amber-900/20"},cyan:{text:"text-cyan-600 dark:text-cyan-400",bg:"bg-cyan-50 dark:bg-cyan-900/30",hoverBg:"hover:bg-cyan-50 dark:hover:bg-cyan-900/20"},indigo:{text:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/30",hoverBg:"hover:bg-indigo-50 dark:hover:bg-indigo-900/20"},rose:{text:"text-rose-600 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-900/30",hoverBg:"hover:bg-rose-50 dark:hover:bg-rose-900/20"},orange:{text:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-900/30",hoverBg:"hover:bg-orange-50 dark:hover:bg-orange-900/20"},teal:{text:"text-teal-600 dark:text-teal-400",bg:"bg-teal-50 dark:bg-teal-900/30",hoverBg:"hover:bg-teal-50 dark:hover:bg-teal-900/20"},fuchsia:{text:"text-fuchsia-600 dark:text-fuchsia-400",bg:"bg-fuchsia-50 dark:bg-fuchsia-900/30",hoverBg:"hover:bg-fuchsia-50 dark:hover:bg-fuchsia-900/20"}},fu=({to:e,icon:t,label:r,colorKey:a})=>{const i=K0().pathname===e;return u.jsxs(H1,{to:e,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition ${i?`${G_[a].bg} ${G_[a].text}`:`text-slate-600 dark:text-slate-300 ${G_[a].hoverBg}`}`,children:[u.jsx("span",{className:"flex items-center justify-center",children:t}),u.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:r})]})};function uAe(){const[e,t]=j.useState(!1);return j.useEffect(()=>{t(!0)},[]),{ready:e}}const dAe=new wG({defaultOptions:{queries:{staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:"always",retry:2}}});function fAe(){const{ready:e}=uAe();return e?u.jsx(kG,{client:dAe,children:u.jsx(KQ,{children:u.jsx(YQ,{children:u.jsx(VQ,{children:u.jsx($K,{children:u.jsxs(vY,{children:[u.jsx(yY,{}),u.jsxs(rC,{children:[u.jsx(qn,{path:"/login",element:u.jsx(CJ,{})}),u.jsx(qn,{path:"/*",element:u.jsx(cu,{children:u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors",children:[u.jsx(cAe,{}),u.jsx("main",{className:"max-w-[1600px] mx-auto p-6",children:u.jsxs(rC,{children:[u.jsx(qn,{path:"/",element:u.jsx(oM,{to:"/dashboard",replace:!0})}),u.jsx(qn,{path:"/dashboard",element:u.jsx(Qpe,{})}),u.jsx(qn,{path:"/sales",element:u.jsx(Kje,{})}),u.jsx(qn,{path:"/audit-logs",element:u.jsx(cu,{requiredRoles:["owner"],children:u.jsx($je,{})})}),u.jsx(qn,{path:"/inventory",element:u.jsx(Gje,{})}),u.jsx(qn,{path:"/categories",element:u.jsx(iAe,{})}),u.jsx(qn,{path:"/lookup",element:u.jsx(sAe,{})}),u.jsx(qn,{path:"/service",element:u.jsx(Yje,{})}),u.jsx(qn,{path:"/service-history",element:u.jsx(Xje,{})}),u.jsx(qn,{path:"/customers",element:u.jsx(Qje,{})}),u.jsx(qn,{path:"/debt",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(Jje,{})})}),u.jsx(qn,{path:"/cashbook",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(Zje,{})})}),u.jsx(qn,{path:"/loans",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(eAe,{})})}),u.jsx(qn,{path:"/payroll",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(rAe,{})})}),u.jsx(qn,{path:"/employees",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(nAe,{})})}),u.jsx(qn,{path:"/finance",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(tAe,{})})}),u.jsx(qn,{path:"/analytics",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(oAe,{})})}),u.jsx(qn,{path:"/reports",element:u.jsx(aAe,{})}),u.jsx(qn,{path:"/settings",element:u.jsx(cu,{requiredRoles:["owner","manager"],children:u.jsx(lAe,{})})})]})})]})})})]}),u.jsx(kY,{initialIsOpen:!1}),!1]})})})})})}):null}OV.createRoot(document.getElementById("root")).render(u.jsxs(Da.StrictMode,{children:[u.jsx(fAe,{}),u.jsx(xY,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]}));export{Oa as _,mAe as c,Fc as g};
